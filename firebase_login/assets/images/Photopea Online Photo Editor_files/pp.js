(function(){var fL=window.location.hostname=="www.vectorpea.com"?1:0;(function(){var j;try{j=window.localStorage}catch(bY){}var n={};
if(j){var Q=j.getItem("_ppp");if(Q)n=JSON.parse(Q);else{var a="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var v=0;v<a.length;v++){var B=j.getItem(a[v]);if(B!=null)n[a[v]]=B}}}var m=window.locStor={};m.setItem=function(R,q){n[R]=q;
if(j)j.setItem("_ppp",JSON.stringify(n))};m.getItem=function(R){return n[R]};m.removeItem=function(R){delete n[R];
if(j)j.setItem("_ppp",JSON.stringify(n))}}());var bv={zK:0,T1:null,HQ:null,aBM:null,Sb:null,qu:null,a37:!0,aAb:0,Io:!1};
bv.event=function(j,n,Q){if(fL!=0)return;if(n!=null&&n<Math.random())return;if(Q==null)Q=0;var a=new XMLHttpRequest;
a.open("GET","/papi/event.php?id="+j+"&g="+Q+"&rnd="+Math.random());a.send()};bv.xU=function(j){if(fL!=0)j="//www.photopea.com/"+j;
return j};bv.uz=function(){var j=bv.se();if(j==null)return null;var n=V.oh(24)?" ":"",Q=V.EX[V.ZS("Uu,"+n)];
Q=Q[V.ZS(n+"$/")];var a=bv.aAi(1,999);if(a&&bv.KG(a)*50>Q()/20)return[0,a];var B=j.inTeams;if(B)for(var v=0;
v<B.length;v++)if(B[v][1]*50>Q()/20)return[1,B[v]];return null};bv.c$=function(){return bv.aqT()!=null};
bv.v7=function(){return bv.KG(bv.aAi(1e3,999999999))};bv.KG=function(j){return j==null?0:j[0]+j[1]*24*60*60};
bv.aAi=function(j,n){var Q=bv.se(),a=Q.pmnts,B=0,m=null;if(a==null||a.length==0)return 0;for(var v=0;
v<a.length;v++){var R=a[v],q=bv.KG(R);if(j<=R[2]&&R[2]<=n)if(B<q){B=q;m=R}}return m};bv.se=function(){return bv.qu};
bv.Ei=function(j){window.addEventListener("message",bv.a7Y,!1);setInterval(bv.a3M,5e3);if(bv.c$()&&navigator.onLine){bv.T1=j;
bv.AE()}else setTimeout(j,1)};bv.a3M=function(){if(bv.c$()&&bv.Io){bv.acf(bv.aJ());bv.Io=!1}};bv.GX=function(j){bv.T1=j;
var n="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);bv.aBM=window.open(n,"_blank")};
bv.a0A=function(){var j=window.locStor;j.removeItem(bv.zK+"_uid");j.removeItem(bv.zK+"_provider");j.removeItem(bv.zK+"_token");
bv.qu=null};bv.a7Y=function(j){if(j.data instanceof ArrayBuffer||j.data instanceof Object)return;if(j.data.charAt(0)!="{")return;
var n=JSON.parse(j.data);if(n.prms==null)return;var Q=n.prms.split(",");if(Q[0]=="papi_logged_in"){var a=window.locStor;
a.setItem(bv.zK+"_uid",Q[1]);bv.Lp(Q[2]);a.setItem(bv.zK+"_provider",Q[3]);bv.aBM.close();bv.AE()}if(Q[0]=="payment_complete"){bv.Sb.close();
bv.AE()}};bv.aqT=function(){var j=window.locStor.getItem(bv.zK+"_token");if(j!=null&&Date.now()*.001+10<parseInt(j.split("-")[0]))return j;
return null};bv.Lp=function(j){var n=window.locStor.getItem(bv.zK+"_token");if(n!=null&&parseInt(j.split("-")[0])<parseInt(n.split("-")[0]))return;
window.locStor.setItem(bv.zK+"_token",j);clearTimeout(bv.aAb);bv.aAb=setTimeout(bv.aHP,Math.min(1e9,parseInt(j.split("-")[0])*1e3-Date.now()-20*1e3))};
bv.a0D=function(j,n,Q,a){if(!navigator.onLine)throw"a";var B=new XMLHttpRequest;B.open("POST","https://www.photopea.com/papi/record_new.php",!0);
B.onload=Q;var m=bv.Bh(0)+"&read=3&tuid="+j+"&tid="+n;if(a)m+="&tpl="+encodeURIComponent(a);B.setRequestHeader("Content-type","application/x-www-form-urlencoded");
B.send(m)};bv.aHP=function(){if(!navigator.onLine)throw"a";var j=new XMLHttpRequest;j.open("POST","https://www.photopea.com/papi/record_new.php",!0);
j.onload=bv.a8p;var n=bv.Bh(0)+"&read=2";j.setRequestHeader("Content-type","application/x-www-form-urlencoded");
j.send(n)};bv.AE=function(){if(!navigator.onLine)throw"b";var j=new XMLHttpRequest;j.open("POST","https://www.photopea.com/papi/record_new.php",!0);
j.onload=bv.agc;var n=bv.Bh(0)+"&read=1";j.setRequestHeader("Content-type","application/x-www-form-urlencoded");
j.send(n)};bv.acf=function(j){if(!navigator.onLine)throw"c";var n=new XMLHttpRequest;n.open("POST","https://www.photopea.com/papi/record_new.php",!0);
n.onload=bv.aFS;var Q=bv.Bh(0)+"&read=0&score="+(j.tpl?1:0)+"&spublic="+bv.a37+"&record="+encodeURIComponent(JSON.stringify(j));
n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.send(Q)};bv.agc=function(j){var n=JSON.parse(j.target.response);
if(n.error){}else{bv.qu=n.user;var Q=bv.aJ(),a=n.record;if(n.record){bv.a37=n.spublic;bv.avt(a)}else if(Q)bv.acf(Q)}bv.Lp(n.token);
var B=bv.T1,m=bv.HQ;if(B){bv.T1=null;B()}if(m){bv.HQ=null;m()}};bv.a8p=function(j){var n=JSON.parse(j.target.response);
bv.Lp(n.token)};bv.aFS=function(j){var n=JSON.parse(j.target.response);bv.Lp(n.token);if(bv.HQ)bv.AE()};
bv.Bh=function(j){var n=window.locStor;return"app="+j+"&uid="+n.getItem(bv.zK+"_uid")+"&token="+n.getItem(bv.zK+"_token")};
bv.ya=function(j){if(j){bv.HQ=j;bv.AE()}return bv.aJ()};bv.SI=function(j,n){bv.avt(j);bv.Io=!0;if(n){bv.HQ=n;
bv.a3M()}};bv.aJ=function(){var j=window.locStor.getItem(bv.zK+"_stateLocal"),n;if(j==null)return null;
try{n=JSON.parse(j)}catch(bY){return null}return n};bv.avt=function(j){var n=JSON.stringify(j);window.locStor.setItem(bv.zK+"_stateLocal",n)};
bv.order=function(j,n,Q){bv.T1=Q;var a=window.locStor,B="https://www.photopea.com/papi/order.php?ptype="+n+"&param="+j+"&uid="+a.getItem(bv.zK+"_uid")+"&token="+a.getItem(bv.zK+"_token");
bv.Sb=window.open(B,"_blank")};bv.ag8=function(j,n){bv.T1=n;var Q=window.locStor,a="https://www.photopea.com/papi/insertKey.php?key="+j+"&uid="+Q.getItem(bv.zK+"_uid")+"&token="+Q.getItem(bv.zK+"_token");
bv.Sb=window.open(a,"_blank")};var bw={};bw.aG2=function(j,n){var Q=V.EX[V.ZS("%|xK")];if(Q==null)return"XYP";
var a=j.toString(16).slice(0,4),B=a+n+"aQYRDCB";return Q(B).slice(5,17)+a.split("").reverse().join("")};
bw.vl=function(){var j=V.EX[V.OD("3M"+(V.oh(26)?"]K":"fa"))];j=j[V.OD("]["+(!V.oh(28)?",":"`"))];return Math.floor(j()/1e3)};
bw.oh=function(j){var n=0;for(var v=0;v<j;v++)n+=Math.random();return n/j<Math.PI/4};bw.OD=function(j){var n="";
if(!bw.oh(28))j+="-3";for(var v=0;v<j.length;v++){var Q=j.charCodeAt(v);if(Q<32||126<Q)throw"e";n+=String.fromCharCode(32+(Q-32+17+3*v)%95)}return n};
bw.ZS=function(j){var n="";if(!bw.oh(28))j+="-1";for(var v=0;v<j.length;v++){var Q=j.charCodeAt(v);Q-=32;
Q+=95e4;Q-=17+3*v;Q=Q%95;n+=String.fromCharCode(32+Q)}return n};bw.$f=bw.OD("XP");bw.nN=bw.OD("XYP");
bw.yV=bw.OD("c[Y");bw.a86=bw.OD("][`");bw.a4l=bw.OD("SU_");bw.nl=bw.OD("b^L");bw.aI2=bw.OD("61=");bw.KF=bw.OD("Q[M_");
bw.QS=bw.OD("WQJJ");bw.FS=bw.OD("W^NL");bw.axF=bw.OD("[QOZ");bw.YJ=bw.OD("[[JJ");bw.anq=bw.OD("[[PU");
bw.K_=bw.OD("^\\NT");bw.ao1=bw.OD("bQUL");bw.x2=bw.OD("bQWJ");bw.avJ=bw.OD("3M]K");bw.ad$=bw.OD("<M]N");
bw.au4=bw.OD("][WK");bw.akp=bw.OD("?;<:");bw.aie=bw.OD("P_bTF");bw.LX=bw.OD("RXRIN");bw.Jo=bw.OD("aUPNW");
bw.de=bw.OD("b`bRH");bw.arL=bw.OD("fUMZK");bw.agR=bw.OD("Q[]ZRM");bw.aG$=bw.OD("WQRMKT");bw.asg=bw.OD("WUMJHN");
bw.w8=bw.OD("XR[GPE");bw.ank=bw.OD("aMWJRM");bw._u=bw.OD("bO[OST");bw.awZ=bw.OD("cM[MHT");bw.aaI=bw.OD("^Z5OQE");
bw.lp=bw.OD("^ZUUDD");bw.ahr=bw.OD("_M[KQT");bw.aax=bw.OD("POLUXNQ");bw.f5=bw.OD("R[WLLRJ");bw.aBg=bw.OD("SU\\VOAV");
bw.a7B=bw.OD("XZMK[/C");bw.Rk=bw.OD("aQYRDCB");bw.Us=bw.OD("[[LGWILH");bw.io=bw.OD("S[L[PEKN");bw.aaK=bw.OD("_[\\OWILH");
bw.zS=bw.OD("aQOKURBL");bw.ann=bw.OD("aQUGWIS?");bw.p3=bw.OD("aQ\\VRNP?");bw.aC2=bw.OD("XZWKU(1'#");
bw.apG=bw.OD("SQLUGE2, ");bw.a5c=bw.OD("]M_OJAQII");bw.Oa=bw.OD("bQ]:LMBILH");bw.air=bw.OD("UU[YW#ECC8");
bw.alY=bw.OD("P^[G\\BR@=9C");bw.KT=bw.OD("cQaZ&OKN<BE");bw.V1=bw.OD("P\\YKQD B@@5");bw.au$=bw.OD("aQVUYE B@@5");
bw.azS=bw.OD("bQ]/QTBLM5=");bw.Xt=bw.OD("bQ]'WTOC9IE3");bw.ajv=bw.OD("XZ\\KUT~?=CC3");bw.aHS=bw.OD("aQ\\VRNP?+MA3");
bw.CS=bw.OD("R^NGWE\"F<A6<?");bw.a6n=bw.OD("VQ]+OEJ?EHrGs,");bw.ii=bw.OD("G95.WTM,<EF3><");bw.a0_=bw.OD("PZLKVTLL&F:5468");
bw.z2=bw.OD("PPM+YEKN#=DB06*4");bw.a3Q=bw.OD("bQ]8HQR?JHx3,,*4");bw.aw9=bw.OD("SQLUGE2, v@;;73'-0");
function i8(j){this.Kw={};this.TT=0;this.dU();if(j!=!0)window.__kb=this}i8.C3=null;i8.prototype.dU=function(){var j=navigator.keyboard;
if(j&&window.top==window.self)j.getLayoutMap().then(function(n){i8.C3=n})};i8.prototype.atY=function(j){var n={shiftKey:i8.f8,altKey:i8.Y2,ctrlKey:i8.Gm};
for(var Q in n){var a=j[Q],B=n[Q],m=this.r(B);if(!a&&m){for(var v=0;v<B.A5.length;v++)this.Cf(B.A5[v])}}};
i8.prototype.s9=function(j){this.TT++;this.Kw[j]=!0};i8.prototype.Cf=function(j){this.TT--;delete this.Kw[j];
if(this.TT<=0||i8.Uq(j,i8.aFX))this.reset()};i8.prototype.r=function(j){for(var v=0;v<j.A5.length;v++)if(this.Kw[j.A5[v]])return!0;
return!1};i8.prototype.reset=function(){this.Kw={};this.TT=0};i8.prototype.su=function(j){var n=this,Q=n.r(i8.f8)?10:1,a=0,B=0;
if(n.r(i8.ar))a=-Q;else if(n.r(i8.y2))a=Q;else if(n.r(i8.er))B=-Q;else if(n.r(i8.R6))B=Q;var m=new eE(a,B);
if(j!=null){var R=new j8;R.rotate(j);m=R.JZ(m);if(Math.abs(m.x)<Math.abs(m.y))m.x=0;else m.y=0;m.x=Math.round(m.x);
m.y=Math.round(m.y)}return m};i8.prototype.me=function(){var j=this,n=i8.Zw;for(var v=0;v<10;v++)if(j.r(n[v]))return v;
return-1};i8.Uq=function(j,n){return n.A5.indexOf(j)!=-1};i8.z9=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
i8.ame="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(i8.z9())i8.ame.push("ControlLeft","ControlRight");i8.abW=function(j){var n=j.code;if(n=="")return!1;
var Q=i8.Uq;if(j.altKey&&!j.shiftKey&&!j.ctrlKey){var a=i8.Zw.concat([i8.Vm,i8.ZH,i8.N3,i8.MH]),B=!1;
for(var v=0;v<a.length;v++)if(Q(n,a[v]))return!1}if(n=="KeyQ"&&j.metaKey)return!1;if(n=="KeyH"&&j.metaKey&&j.altKey)return!1;
return i8.ame.indexOf(n)==-1||j.shiftKey&&(n=="F5"||n=="F6")};i8.ayn=function(j){var n=i8;if(j.ctrlKey&&(n.Uq(j.code,n.Vm)||n.Uq(j.code,n.ZH)))j.preventDefault()};
i8.KC=function(j){j.addEventListener("keydown",i8.ayn,!1)};i8.da=function(j){if(typeof j=="string")return j;
var n=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(j==null)return"";var Q=[];for(var v=0;v<j.length;
v++){var a=j[v].wp?j[v].wp:j[v];if(n&&j[v].bb)a=j[v].bb;Q.push(a)}if(n||Q.length==1)return Q.join(" ");
else{var B=Q.pop();return Q.join("+")+" + "+B}};i8.as4=function(j){window.__kb.dU();var n=j.code,Q=i8.C3;
if(Q&&Q.get(n)){var a={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},B=Q.get(n).toLowerCase(),m=B.charCodeAt(0);
if(97<=m&&m<=122){var R="Key"+B.toUpperCase();n=R}else if(a[B])n=a[B];return n}var a={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},B=j.key.toLowerCase(),m=B.charCodeAt(0);
if(B.length==1){if(97<=m&&m<=122){var R="Key"+B.toUpperCase();n=R}else if(a[B])n=a[B]}if(B=="control"&&n!="")n="ControlLeft";
return n};i8.aCV=0;i8.amu=function(j,n){var Q=0;if(Date.now()-i8.aCV>1e3){Q=n==0?100:n*10}else{if(j%10!=0)j*=10;
Q=(j+n)%100}i8.aCV=Date.now();return Q};i8.aqJ={nm:"No Touch",A5:["NoTouch"]};i8.mI={wp:"Enter",A5:["Enter","NumpadEnter"]};
i8.f8={wp:"Shift",bb:"\u21E7",A5:["ShiftLeft","ShiftRight"]};i8.aFX={wp:"Meta",A5:["MetaLeft","MetaRight","OSLeft","OSRight"]};
i8.Gm={wp:"Ctrl",bb:"\u2318",A5:i8.z9()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
i8.Y2={wp:"Alt",bb:"\u2325",A5:["AltLeft","AltRight"]};i8.a6v={wp:"CtrlOrAlt",A5:i8.Gm.A5.concat(i8.Y2.A5)};
i8.tf={wp:"Escape",A5:["Escape"]};i8.Wc={wp:"Space",A5:["Space"]};i8.tg={wp:"Tab",A5:["Tab"]};i8.ST={wp:"Home",A5:["Home"]};
i8.asJ={wp:"End",A5:["End"]};i8.ar={wp:"Left",A5:["ArrowLeft"]};i8.er={wp:"Up",A5:["ArrowUp"]};i8.y2={wp:"Right",A5:["ArrowRight"]};
i8.R6={wp:"Down",A5:["ArrowDown"]};i8.Vm={wp:"+",A5:["NumpadAdd","Equal"]};i8.ZH={wp:"-",A5:["NumpadSubtract","Minus"]};
i8.JS={wp:";",A5:["Semicolon"]};i8.aBf={wp:"Dead",A5:["Dead"]};i8.a4J={wp:"=",A5:["Equal"]};i8.Bo={wp:"Backspace",A5:["Backspace"]};
i8.Va={wp:"Delete",A5:["Delete"]};i8.a0T={wp:"Backslash",A5:["Backslash","IntlBackslash"]};i8.a6k={wp:"Slash",A5:["NumpadDivide","Slash"]};
i8.amn={wp:"Backquote",A5:["Backquote"]};i8.N3={wp:"[",A5:["BracketLeft"]};i8.MH={wp:"]",A5:["BracketRight"]};
i8.sD={wp:".",A5:["Period"]};i8.hZ={wp:",",A5:["Comma"]};i8.zh={wp:"'",A5:["Quote"]};i8.l={wp:"A",A5:["KeyA"]};
i8.s3={wp:"B",A5:["KeyB"]};i8.vj={wp:"C",A5:["KeyC"]};i8._F={wp:"D",A5:["KeyD"]};i8.E={wp:"E",A5:["KeyE"]};
i8.UT={wp:"F",A5:["KeyF"]};i8.BH={wp:"G",A5:["KeyG"]};i8.Dh={wp:"H",A5:["KeyH"]};i8.ky={wp:"I",A5:["KeyI"]};
i8.fk={wp:"J",A5:["KeyJ"]};i8.JO={wp:"K",A5:["KeyK"]};i8.Cm={wp:"L",A5:["KeyL"]};i8.W7={wp:"M",A5:["KeyM"]};
i8.uN={wp:"N",A5:["KeyN"]};i8.g3={wp:"O",A5:["KeyO"]};i8.O$={wp:"P",A5:["KeyP"]};i8.aft={wp:"Q",A5:["KeyQ"]};
i8.D9={wp:"R",A5:["KeyR"]};i8.VG={wp:"S",A5:["KeyS"]};i8.xw={wp:"T",A5:["KeyT"]};i8.Cg={wp:"U",A5:["KeyU"]};
i8.md={wp:"V",A5:["KeyV"]};i8.alk={wp:"W",A5:["KeyW"]};i8.IQ={wp:"X",A5:["KeyX"]};i8.Jb={wp:"Y",A5:["KeyY"]};
i8.oF={wp:"Z",A5:["KeyZ"]};i8.Pa={wp:"0",A5:["Numpad0","Digit0"]};i8.aG={wp:"1",A5:["Numpad1","Digit1"]};
i8.aBb={wp:"2",A5:["Numpad2","Digit2"]};i8.a23={wp:"3",A5:["Numpad3","Digit3"]};i8.ayE={wp:"4",A5:["Numpad4","Digit4"]};
i8.ahh={wp:"5",A5:["Numpad5","Digit5"]};i8.ada={wp:"6",A5:["Numpad6","Digit6"]};i8.CI={wp:"7",A5:["Numpad7","Digit7"]};
i8.af6={wp:"8",A5:["Numpad8","Digit8"]};i8.aaC={wp:"9",A5:["Numpad9","Digit9"]};i8.Zw=[i8.Pa,i8.aG,i8.aBb,i8.a23,i8.ayE,i8.ahh,i8.ada,i8.CI,i8.af6,i8.aaC];
i8.a10={wp:"F1",A5:["F1"]};i8.auD={wp:"F2",A5:["F2"]};i8.aym={wp:"F3",A5:["F3"]};i8.a9b={wp:"FF",A5:["F4"]};
i8.a7x={wp:"F5",A5:["F5"]};i8.auJ={wp:"F6",A5:["F6"]};i8.a3A={wp:"F7",A5:["F7"]};i8.aD$={wp:"F8",A5:["F8"]};
i8.aCt={wp:"F9",A5:["F9"]};i8.asp={wp:"F10",A5:["F10"]};i8.aA4={wp:"F11",A5:["F11"]};i8.acm={wp:"F12",A5:["F12"]};
function bY(j){this.Hs={};this.ZB={};this.aAu=0;this.alQ={};this.rM=[];this.a5t=0;this.YJ=j;bY.ht=this}bY.a4C=function(j,n){var v=0,Q=bY.T7;
while(v<Q.length){if((n>>>v&1)==1)break;v++}if(v!=0&&bY.LH(j,[33,126])>.7)v=0;if(n==0||Q[v][1]==""){if((n&15)!=0&&bY.LH(j,[33,126])>.7)v=0;
else if(n==0)v=0;else{v=0}}return Q[v][1]};bY.Tt=120;bY.pb=20;bY.cols=16;bY.gL=function(j){var n=j.name.postScriptName;
if(n==null)return null;return n.replace(/ /g,"-")};bY.aFV=function(j){var n=j.name,Q=n.typoFamilyName,a=n.typoSubfamilyName,B=Q&a,m=B?Q:n.fontFamily,R=B?a:n.fontSubfamily;
if(R==null)R="Regular";var q=bY.amB,U=m.toLowerCase();for(var v=0;v<q.length;v++){if(q[v]=="roman")continue;
if(U.endsWith(" "+q[v])||U.endsWith("-"+q[v])){var l=m.length-q[v].length,b=m.slice(l);m=m.slice(0,l-1);
if(b!=""){if(R=="Regular"||R==m+" Regular")R=b;else R=b+" "+R}break}}var D="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var v=0;v<D.length;v++)if(m.startsWith(D[v])){var b=m.slice(D[v].length);m=D[v];if(b.startsWith(" ")||b.startsWith("-"))b=b.slice(1);
if(b!=""){if(R=="Regular")R=b;else R=b+" "+R}break}var c={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},_=c[bY.gL(j)];
if(_)R=_;return[m,R]};bY.prototype.afx=function(j){var n=this.WI();for(var Q in n)if(n[Q][0]==j)this.s1(Q)};
bY.prototype.a3q=function(){return Object.keys(this.ZB).length!=0};bY.prototype.s1=function(j,n){if(this.Hs[j])return this.Hs[j];
if(this.ZB[j])return null;var Q=null,a=this.WI();if(a[j]!=null)Q=a[j][5];if(Q==null){var B=bY.Rk[j];
if(B==null){var m="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),R=j.toLowerCase(),q=0;
if(R.indexOf("sans")!=-1)q=0;else if(R.indexOf("serif")!=-1)q=4;var U=R.indexOf("bold")!=-1||R.indexOf("-black")!=-1,l=R.indexOf("italic")!=-1||R.indexOf("oblique")!=-1||R.endsWith("-it");
if(U&&l)q+=3;else if(l)q+=2;else if(U)q+=1;B=m[q]}if(n!=null&&n>128)B=this.aEV(n,B);if(this.alQ[j]==null){this.alQ[j]=1;
var b=Date.now()-this.aAu>2e3?2e3:0;this.aAu=Date.now();alert(j+" \u27A1 "+B,b)}return this.s1(B,n)}this.ZB[j]="a";
if(Q=="--loc")bY.dR.load(j);else this.YJ(Q)};bY.prototype.aEV=function(j,n,Q){var a=this.Hs[n];if(a&&Typr.U.codeToGlyph(a,j)!=0)return n;
var B=this.WI(),m=bY.alC(j),R=m[0];if(B[n]&&(B[n][3]&R)==0){if(Q)for(var v=0;v<Q.length;v++){var q=Q[v].Name,U=B[q];
if(U&&(U[3]&R)!=0)return q}var q=bY.T7[m[1]][4];if(B[q])return q}return n};bY.alC=function(j){var n=bY.T7,Q=[0];
for(var v=0;v<n.length;v++){var a=n[v][2];for(var B=0;B<a.length;B+=2)if(a[B]<=j&&j<=a[B+1]){Q[0]+=1<<v;
Q.push(v)}}if(Q.length==1)Q.push(0);return Q};bY.prototype.aib=function(){var j=this.rM,n=j[0],Q=j.length-1;
alert(i4.get([22,6,0])+" "+n+(Q==0?"":", ... ("+Q+")")+" "+i4.get([23,0])+".",1500);this.rM=[]};bY.prototype.aES=function(j,n){if(n!=!0){this.rM.push(j.name.fullName);
clearTimeout(this.a5t);this.a5t=setTimeout(this.aib.bind(this),300)}var Q=bY.gL(j),a=this.WI(),B=a[Q],m=bY.ay3(j);
if(B==null){m.oO=bY.ala(j,m);this.n3(m)}delete this.ZB[Q];this.Hs[Q]=j};bY.ag4=function(){var j=bY.T7,n=[];
for(var v=0;v<j.length;v++)n.push(j[v][0]);return n};bY.ala=function(j,n){var Q=document.createElement("canvas"),a=Q.getContext("2d"),B=Q.width=bY.Tt,m=Q.height=bY.pb,R=bY.pb*1.2/j.head.unitsPerEm;
a.translate(4,bY.pb*.9);a.scale(R,-R);a.fillStyle="#000000";var q=Typr.U.shape(j,bY.a4C(j,n[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(j,q),a);a.fill();var U=a.getImageData(0,0,B,m).data.buffer,l=fj.Mi("PNG").OR([[U,0]],B,m,[1]);
return"data:image/png;base64,"+fj.cJ(l)};bY.T7=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
bY.ay3=function(j,n,Q){var a=j.name,U=0;if(bY.gL(j)==null){console.log(j);throw"No postScriptName!"}var B=bY.T7,m=[];
for(var v=0;v<B.length;v++){var R=B[v][2],q=B[v][3];m[v]=bY.LH(j,R)>q?1:0}for(var v=0;v<m.length;v++)U+=m[v]<<v;
var l=bY.aFV(j);return[l[0],l[1],bY.gL(j),U,Q,n]};bY.LH=function(j,n){var Q=0,a=0;for(var B=0;B<n.length;
B+=2){for(var m=n[B];m<=n[B+1];m++){var R=Typr.U.codeToGlyph(j,m);if(R==0)a++;else Q++}}return Q/(Q+a)};
bY.aBV=function(j,n){if(j[2]<n[2])return-1;if(j[2]>n[2])return 1;return 0};bY.axq=function(j,n){if(j[5]=="fs/"+j[2]+".otf")j[5]="";
else if(j[5]=="gf/"+j[2]+".otf")j[5]="a";if(j[2]==(j[0]+"-"+j[1]).replace(/\s/g,"")){j[2]=""}else if(j[2]==j[0].replace(/\s/g,"")){j[2]="a"}if(n){if(j[0]==n[0])j[0]="";
if(j[1]==n[1])j[1]="";if(j[3]==n[3])j[3]="";if(j[4]==n[4])j[4]=""}return j.join(",")};bY.a0M=function(j,n){j=j.split(",");
if(j[0]=="")j[0]=n[0];if(j[1]=="")j[1]=n[1];if(j[3]=="")j[3]=n[3];else j[3]=parseInt(j[3]);if(j[4]=="")j[4]=n[4];
else j[4]=parseInt(j[4]);if(j[2]=="")j[2]=(j[0]+"-"+j[1]).replace(/\s/g,"");else if(j[2]=="a")j[2]=j[0].replace(/\s/g,"");
if(j[5]=="")j[5]="fs/"+j[2]+".otf";else if(j[5]=="a")j[5]="gf/"+j[2]+".otf";return j};bY.Rk={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
bY.prototype.WI=function(){if(FNTS.map==null){var j=FNTS.list,n=[];for(var v=0;v<j.length;v++){n[v]=bY.a0M(j[v],n[v-1]);
n[v].cb=v;this.n3(n[v])}}return FNTS.map};bY.prototype.n3=function(j){var n=j[0],Q=j[1],a=j[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[j[2]]=j;if(FNTS.mapFS==null)FNTS.mapFS={};var B=FNTS.mapFS[n+"---"+Q];FNTS.mapFS[n+"---"+Q]=j;
if(FNTS.mapSub==null)FNTS.mapSub={};var m=FNTS.mapSub[n];if(m==null)m=FNTS.mapSub[n]=[];var R=m.indexOf(Q);
if(R==-1)m.push(Q);else m[R]=Q};bY.aDn=function(j,n){return bY.E4(j)-bY.E4(n)};bY.E4=function(j){j=j.toLowerCase();
var n=bY.aCx(j)+(bY.a82(j)<<1);if(j.indexOf("cond")==-1)n+=1<<25;return n};bY.aCx=function(j){return j.indexOf("italic")!=-1||j.indexOf("oblique")!=-1?1:0};
bY.amB="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
bY.a9a=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
bY.a82=function(j){var n=bY.a9a,Q=-1,a=-1;for(var v=0;v<n.length;v++){var B=n[v];if(B instanceof Array)for(var m=0;
m<B.length;m++){var R=B[m];if(j.indexOf(R)!=-1&&(Q==-1||a<R.length)){Q=v;a=R.length}}else if(j.indexOf(B)!=-1&&(Q==-1||a<B.length)){Q=v;
a=B.length}}if(Q==-1)Q=8;return Q};bY.aW=function(j,n){var Q=1e9,a=null,B=bY.E4(n);for(var v=0;v<j.length;
v++){var m=Math.abs(bY.E4(j[v])-B);if(m<Q){Q=m;a=j[v]}}return a};bY.prototype.Lz=function(j,n){this.WI();
return FNTS.mapFS[j+"---"+n]};bY.prototype.Dr=function(j){this.WI();return FNTS.mapSub[j]};bY.prototype.a4O=function(){this.WI();
return FNTS.mapSub};bY.dR={z$:null,xo:null};bY.dR.Ei=function(j){bY.dR.xo=j;var n=window.locStor.getItem("localFonts");
if(n){n=fj.iz(n);n=pako.inflate(new Uint8Array(n));n=bY.dR.z$=JSON.parse(L.Cl(n));bY.dR.p9()}};bY.dR.load=function(j){var n=window.queryLocalFonts,Q=bY.dR.z$.toPSN,a;
for(var dv in Q)if(Q[dv].indexOf(j)!=-1)a=dv;n({postscriptNames:[a]}).then(bY.dR.aoE)};bY.dR.p9=function(){var j=bY.ht,n=bY.dR.z$,Q=n.imap,a=j.WI();
for(var B in Q){if(a[B])continue;var m=Q[B].slice(0);m.oO=n.tmap[B];j.n3(m)}};bY.dR.Zg=function(){var j=bY.dR.z$,n=pako.deflate(L.XS(JSON.stringify(j))),Q=fj.cJ(n.buffer);
console.log(Q.length);window.locStor.setItem("localFonts",Q)};bY.dR.rD=function(){var j=bY.dR.z$;return j!=null&&j.added};
bY.dR.Q7=function(j,n,Q){var a=bY.dR.z$;if(a){a.added=!a.added;bY.dR.Zg();bY.dR.p9();return}var B=window.queryLocalFonts;
if(B==null){alert("This feature is not available in your web browser :(");Q();return}B().then(bY.dR.aoE.bind({aBO:n,a1r:Q}))};
bY.dR.aoE=async function(j){if(j.length==0){alert("You didn't allow us to access your fonts.");this.a1r();
return}if(j.length==1){var n=await j[0].blob();n=await n.arrayBuffer();i3.dl({name:"file.otf"},n,bY.dR.xo);
return}var Q=new ar(x.E.B,!0),m=!1;Q.data={Q:x.l.L_,Sw:"Loading local fonts ..."};bY.dR.xo.a(Q);var a=Date.now(),B=bY.dR.z$;
if(B==null)B=bY.dR.z$={toPSN:{},imap:{},tmap:{},added:!0};var R={};for(var v=0;v<j.length;v++){var q=j[v],U=q.postscriptName;
R[U]=!0;console.log(U);if(B.toPSN[U])continue;var n=await q.blob();n=await n.arrayBuffer();if(fj.Ot(n)!="otf")continue;
var l=Typr.parse(n),b=[];for(var D=0;D<l.length;D++){var c=l[D],_=bY.gL(c);b.push(_);if(B.imap[_])continue;
var p=B.imap[_]=bY.ay3(c,"--loc",0);B.tmap[_]=bY.ala(c,p)}B.toPSN[U]=b;m=!0}for(var U in B.toPSN)if(R[U]==null){var X=B.toPSN[U];
delete B.toPSN[U];for(var v=0;v<X.length;v++){delete B.imap[X[v]];delete B.tmap[X[v]]}m=!0}if(m){console.log(Date.now()-a);
bY.dR.Zg();bY.dR.p9();this.aBO()}else console.log("no change");var Q=new ar(x.E.B,!0);Q.data={Q:x.l.MX,Sw:"Loading local fonts ..."};
bY.dR.xo.a(Q);alert("Local fonts loaded!")};var i4={};i4.Km=0;i4.nX={};i4.aCl=function(j){var n=LNG.tables,Q=n[j];
if(Q==null)Q=n[0];if(typeof Q=="string"){Q=n[j]=i4.GQ(Q)}return Q};i4.GQ=function(j){var n=[],Q=0,a=0,B=[],m=j.length;
while(a!=m){var R=j[a];if(R=="["){n.push(B);B=[];a=Q=a+1}else if(R=="]"){B.push(Q==a?null:j.substring(Q,a));
var q=B;B=n.pop();B.push(q);a=Q=a+1}else if(R==";"){if(j[a-1]!="]")B.push(Q==a?null:j.substring(Q,a));
a=Q=a+1}else a++}return B};i4.get=function(j){if(typeof j=="string")return j;var n=typeof j[0];if(n=="number"){for(var v=1;
v<j.length;v++)if(typeof j[v]!="number"){console.log(j);throw"e"}return i4.Gl(j)}var Q=i4.get(j[0]);
for(var v=1;v<j.length;v++){var a=i4.get(j[v]),B=Q.indexOf("VAR"+(v-1));Q=Q.slice(0,B)+a+Q.slice(B+4)}return Q};
i4.Gl=function(j){var n=JSON.stringify(j);if(i4.nX[n]!=null)return i4.nX[n];var Q=i4.aCl(0),a=i4.aCl(i4.Km),B=i4.abR(j,a);
if(B==null)B=i4.abR(j,Q);return B};i4.abR=function(j,n){for(var v=0;v<j.length;v++){n=n[j[v]];if(n==null)return null;
else if(typeof n=="string")break}if(n instanceof Array)n=n[0];return n.split("::")[0]};i4.a4Q=function(){var j=navigator.languages;
for(var v=0;v<j.length;v++)if(j[v]=="zh-HK"||j[v]=="zh-TW"||j[v]=="zh-MO")j[v]="zh-CHT";return j};i4.awf=function(){var j=i4.a4Q(),n=function(a,B){var m=a.code,R=B.code;
if(m=="en")return-1;if(R=="en")return 1;var q=j.indexOf(m)!=-1,U=j.indexOf(R)!=-1;if(q&&U)return m>R?1:-1;
if(q)return-1;if(U)return 1;return m>R?1:-1},Q=LNG.langs.slice(0);Q.sort(n);return Q};i4.aEm=function(j,n){i4.Km=j;
if(LNG.tables[j])n();else{var Q=new XMLHttpRequest;Q.open("GET",bv.xU("code/lang/"+j+".js"));Q.onreadystatechange=function(){LNG.tables[j]=Q.responseText;
n()};Q.send()}};i4.acq=function(j,n){for(var Q=0;Q<2;Q++){var a=!1;for(var v=0;v<LNG.langs.length;v++)if(LNG.langs[v].code==j){i4.aEm(v,n);
a=!0}if(a)break;j=j.split("-")[0]}};i4.qp=function(){return LNG.langs[i4.Km].code};i4.a9c=function(j){for(var v=0;
v<j.length;v+=2)if(j[v+1].indexOf(">")==-1)i4.nX[JSON.stringify(j[v])]=j[v+1]};i4.ajd=function(j){var n=-1,Q=LNG.langs;
for(var v=0;v<Q.length;v++)if(Q[v].code==j)n=v;return n};var ex={uY:!1,An:!1,auw:!1,YP:null};ex.pO=function(){return V.EX[bw.yV]!=V.EX[bw.ao1]};
ex.Xf=function(){var j=V.EX[bw.io],n=j[bw.KF],Q=0,a=bw.Xt,B=V.OD("PP\\KQSB"),m=V.OD("Y_5UDDB>idge"),R=j[bw.CS](bw.a4l);
R[a](bw.$f,B);R[a](bw.de,V.OD("fUMZKyqifDIhJ0*+&$-OG?<y~>"));n[bw.V1](R);R=j[bw.a6n](B);if(R==null){Q=2}else{if(!n[V.OD("R[WZDIKM")](R)){Q=3}else if(Math.round(R[V.OD("VQ](RUK>@B8p71*03m}x'")]()[bw.arL]-500)>5){Q=4}n[bw.au$](R)}if(ex.An)Q=5;
if(ex.auw)Q=6;return Q};ex.axs=function(j){var n=V.ZS("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),Q={method:"HEAD",mode:"no-cors"},a=new Request(n,Q);
fetch(a).then(function(B){return B}).then(function(B){var m=V.ZS("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),a=new Request(m);
fetch(a).then(function(B){B.text().then(function(R){ex.An=R.length<2200;j(R.length<2200)})}).catch(function(R){ex.An=!0;
console.clear();j(!0)})}).catch(function(B){ex.An=!0;console.clear();j(!0)})};ex.aiy=function(){var j=V.OD("UU[YW#ECC8"),n=V.OD("VQ](RUK>@B8p71*03m}x'"),Q=V.OD("WQRMKT"),a=this.apk[j][n]();
if(a[Q]<4){ex.auw=!0;this.a6c(!0)}};ex.aza=function(){var j=V.EX._cwY,n=V.EX[bw.Oa],Q="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",a=String.fromCharCode(32);
j(V.OD(Q)+a+a+ex.Xf());if(!bv.uz())n(ex.aza,Math.round(Math.PI*1e4))};ex.a80=function(j){var n=V.EX[bw.io],Q=n[bw.CS](j[0]);
for(var a in j[1]){if(a=="txt")Q[bw.KT]=j[1][a];else Q[bw.Xt](a,j[1][a])}return Q};ex.aEc=function(j,n,Q,a){V.cV(Q);
var B=V.EX[bw.io],m=V.ZS(" u.$%\"86<"),R=V.ZS("!#c$,&"),q=V.EX[m][R],U=V.EX[V.ZS(" u.$%\"86<")][V.ZS("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!ex.pO()&&!ex.Xf()&&q&&j*n>300*300&&!U){var l=B[V.OD("VQ]+OEJ?EHDoD{&)l|&z")](bw.QS)[0],b=JSON.parse(V.ZS("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var v=0;v<b.length;v++){var D=ex.a80(b[b.length-1-v]);l[bw.ajv](D,l[bw.ars])}var c=V.ZS("p}&$2a(:"),_=V.ZS("'#!}i0%+"),p=V.ZS("ps,}$\"40"),X=V.EX.__cbu=ex.a80(JSON.parse(bw.OD("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
Q[bw.V1](X);V.EX.___ggo=function(){V.EX[p](bw.z2,2,function(F,k){if(k&&F[_]==!0){V.EX.__csrf=null;if(!V.EX[c]){V.EX[c]=!0;
var I=ex.aAM.bind({G0:Q,head:l,WC:n});I()}}else{V.EX.__csrf=!0}})}}else{var g=ex.a4F.bind({apk:Q,aE3:a,WC:n});
g();setInterval(g,3e4)}};ex.azU="loGHOLE074^CF8P@NQu[\\Xu#{fmj5y|n*~|!L23/L+\\/fe^IPMwcPd#hie#0)szwB.z/~:/-1\\BC?\\ibL[^]c-%(unwy}9pvCm4JP.Al}=gvZg`cpilK|O'(.,%ovs> % J\"11)X8A;Xe^IPMwY^Y$[jjbc~8w!z8E>NQ:V8H`GES!Kerkn{twV(Z23970z\"~I+0+U-<>AcCLFcpiT[X#did/fuwzn*C#,&CPIY\\EaCSkJ*_M5p}vy' #a3e=>DB;&-*T6;6`9AIonNWQn{t_fc.oto:rz#Iy5N.71N[TdgPlN^v>=7k${)\"%2+.l>pHIOMF185_AFAkLR[MyYb\\y' jqn9z zE&,5'%@Y9B<Yf_or[wYi\"a2?Gm'4-0=69wI{ST[XQ<C@jLQLvX]`b%dmg%2+u|yD&+&P27:<0KdDMGdqjz}f#dt-W\\_]'2?8;HAD#T'^_ec\\GNKuW\\W\"jbjx0oxr0=6!(%O161[D<DR;VoOXRo|u&)phrx}\"\"~Cy0M)4q]cR_X[hadCtG~ %-' jqn9%(CD*+'DQJ5<9cORnnKPPn{t%(svy3 t|*x.~K$34XD9ANOECGTtLW 3knoeiC;@?EB/!-5Q*=/?8cQUVoV]\\{Tg%gw#0)7v}zI;HAO/63_S2c6mns{unY`](sv23xyu3@9$+(R>A^]=F@]jcsvbeh\"nckxg|m:r\"#G3(0=>426Cc;Fn\"Z]^TX2*/.41}o{$@x,}.'R@DE^ELKjCVsVfq~w&eli8*70>}%\"OB!$";
ex.a4F=function(){var j=V.EX[bw.io],n=this.apk,Q=this.aE3,a=ex.YP,B=this.WC;V.cV(n);var m=V.EX[V.ZS(" u.$%\"86<")][V.ZS("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,R=a==1?1:ex.aqQ(B),q=JSON.parse(bw.ZS(ex.azU)),U=j[bw.CS]("a");
U.textContent=bw.OD("0PhHOO@E@B8M/-9'\"0}y");U[bw.Xt](bw.FS,bw.OD("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
U[bw.Xt](bw.awZ,bw.ZS("pv${,,"));U[bw.Xt](bw.de,bw.OD("R[UUUyTB@H6h"));if(!m)n[bw.V1](U);for(var v=0;
v<R;v++){var l=Math.random(),b=0,D=0;while(b+q[D][0]<l){b+=q[D][0];D++}if(m)D=1;if(D>7&&Date.now()>1709975974e3)D=4;
var c=q[D],_=j[bw.CS](bw.nN);_[bw.Xt](bw.de,bw.OD("Ra[YRRvJF=?B0:_")+bw.OD(a==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
_[bw.Xt](bw.nl,c[a]);console.log(c[a]);if(c.length>3){var p=c[3]+c[3+a],U=j[bw.CS]("a");U[bw.Xt](bw.FS,p);
U[bw.Xt](bw.awZ,bw.ZS("pv${,,"));U[bw.V1](_);n[bw.V1](U)}else{_[bw.z2](bw.LX,Q,!1);n[bw.V1](_)}}};ex.aqQ=function(j){var n=2;
if(j>=3*270+30)n=3;if(j>=4*270+30)n=4;return n};ex.aGu=function(j,n){var Q=n;n-=30;var a=[];if(j==0)a.push(9);
if(j==1){a.push(1);n-=600+10;if(n-250>0){a.push(0);n-=250}}if(j==2){if(n-260>0){a.push(2);n-=260}if(n-260>0){a.push(3);
n-=260}if(n-260>0){a.push(4);n-=260}if(n-260>0){a.push(5);n-=260}if(n-260>0){a.push(6);n-=260}if(n-110>0){a.push(7);
n-=110}if(n-60>0){a.push(8);n-=60}}return a};ex.aAM=function(){var j=bw.V1,n=bw.Xt,Q=bw.z2,a=bw.Rk,B=bw.de,m=bw.nl,R=V.OD("P_bTF"),q=bw.KT,U=bw.w8,l=V.EX[bw.io],b=bw.CS,D=bw._u,c=this.G0,_=ex.YP,p=this.head,X=this.WC,g=V.ZS("~u*\"'/P)9ADBCrlnR]"),F=V.EX.__cbu,e=0;
if(F&&_==0)F[bw.Xt](bw.de,"position:absolute; left:124px; bottom:2px");var k=[1/11,10/11],I=Math.random();
while(k[e]<I&&e<k.length-1){I-=k[e];e++}var H=new URLSearchParams(window.location.search),A=H.get("adsfrom");
if(A!=null)e=parseFloat(A);if(e!=0&&e!=1)e=0;var Z=ex.aGu(_,X);if(e==0){console.log(0);if(!ex.uY){ex.uY=!0;
for(var v=0;v<2;v++){var J=l[bw.CS](bw._u),s=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][v];
J[bw.Xt](bw.nl,bw.ZS(s));J[bw.Xt](bw.aie,"");p[bw.V1](J)}var E=JSON.parse(bw.ZS("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$mLO")),z=E[2]+"\n";
for(var v=0;v<Z.length;v++)z+=E[0][Z[v]]+"\n";var J=l[bw.CS](bw._u);J[bw.KT]=z+E[3];p[bw.V1](J);for(var v=0;
v<Z.length;v++){var h=l[bw.CS](bw.a4l);h[bw.Xt](bw.$f,E[1][Z[v]]);if(Z[v]!=0)h[bw.Xt](bw.de,E[4][_]);
h[bw.de].marginBottom="10px";var J=l[bw.CS](bw._u),z=bw.ZS("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+E[1][Z[v]]+"'); });";
J[bw.KT]=z;h[bw.V1](J);c[bw.V1](h)}}}else{console.log(1);var J=l[b](D);J[n](m,V.ZS("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
J[n](bw.aie,"");p[j](J);var d=JSON.parse(V.ZS("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<"));
for(var v=0;v<Z.length;v++){var h=l[b](V.OD("SU_"));h[n](bw.$f,d[Z[v]]);h[n](B,g);c[j](h)}}if(F)c[j](F)};
ex.tU=function(j,n,Q,a){clearInterval(ex.B6);ex.uP=j;ex.$f=Q?Q:"default";ex.Xg=a==null?1:a;if(ex.a4u==null){ex.a4u=!0;
var B=V.EX[bw.io],m=B[bw.KF],R=B[V.OD("VQ]+OEJ?EHDoD{&)l|&z")](bw.QS)[0],q=Math.random()<.5?0:1;ex.amV=q;
console.log("===",q);var U=B[bw.CS](bw._u);U[bw.Xt](bw.nl,"//www.googletagservices.com/tag/js/gpt.js");
R[bw.V1](U);var U=B[bw.CS](bw._u);U[bw.KT]="window.googletag = window.googletag || {cmd: []};";R[bw.V1](U)}if(n==null)n="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var l=window.confirm(n);if(!l)return;ex.B6=setInterval(ex.aAN,50)};ex.aAN=function(){var j=ex.amV;ex.QR=1;
var n={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[ex.$f];
if(j==1)n="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var Q=window.googletag;if(Q==null)return;
Q.cmd.push(function(){var a=Q.defineOutOfPageSlot(n,Q.enums.OutOfPageFormat.REWARDED).addService(Q.pubads());
Q.enableServices();Q.pubads().addEventListener("rewardedSlotReady",function(B){B.makeRewardedVisible()});
Q.pubads().addEventListener("rewardedSlotGranted",function(){if(ex.QR==1){ex.Xg--;ex.QR=2;if(ex.Xg==0){if(ex.uP)ex.uP();
ex.uP=null}}});Q.pubads().addEventListener("rewardedSlotClosed",function(){if(ex.QR==2){ex.QR=0;if(ex.Xg>0)ex.aAN()}});
Q.display(a);Q.pubads().refresh([a])});clearInterval(ex.B6)};var dB={Xd:-2,W9:{expires_at:0},fC:[]};
dB.Ry=function(j){if(j)dB.fC.splice(0,0,j);if(dB.Xd==-2){dB.Xd=-1;var n=document.createElement("script");
n.src="//apis.google.com/js/client.js";document.body.appendChild(n);n.onload=function(Q){setTimeout(function(){dB.Xd=0;
dB.Ry()},100)}}if(dB.Xd==-1)return;if(dB.Xd==1)return;if(dB.W9.expires_at>Date.now()*.001+30){while(dB.fC.length>0)dB.fC.pop()()}else{if(dB.Xd==0)dB.Xd=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:dB.Xd==2?!1:!0},dB.ak$)})}};
dB.ak$=function(j){if(j&&!j.error){dB.W9=j;dB.Xd=!1;dB.Ry()}else if(dB.Xd==1){dB.Xd=2;dB.Ry()}else alert("Error: "+j.error)};
dB.az3=function(){return"access_token="+dB.W9.access_token+"&token_type="+dB.W9.token_type};dB.agZ=function(){return dB.W9.token_type+" "+dB.W9.access_token};
var ks={abv:null};ks.Mm=function(j,n){var Q=j.vJ.a0W;if(Q==null&&bv.uz()&&!ks.pQ(n))Q=window.locStor.getItem("__dak");
return Q};ks.axV=375<<3;ks.ao3=function(j){var n=bv.ya();if(n==null)n={};var Q=n.acc;if(Q==null)return 0;
var a="aiu"+bv.se().id;if(Q.aiu&&Q[a]==null){Q[a]=Q.aiu;delete Q.aiu;bv.SI(n)}var B=Q[a];if(B==null)return 0;
if(B["m"+j]==null)return 0;return B["m"+j]};ks.qa=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
ks.pQ=function(j){if(!bv.uz())return!1;return ks.ao3(ks.qa())+j<=ks.axV};ks.avn=function(j){bv.ya(function(){var n=bv.ya();
if(n==null)n={};if(n.acc==null)n.acc={};var Q="aiu"+bv.se().id,a=n.acc;if(a[Q]==null)a[Q]={};var B=a[Q],m="m"+ks.qa();
if(B[m]==null)B[m]=0;var R=B[m],q=B[m]=R+j,U=20*Math.floor(q/20);if(q>1e3&&R<=U&&q>U)alert(j+" AI credit"+(j==1?"":"s")+" spent. "+(ks.axV-q)+" left to use (in this month).",3500);
bv.SI(n,function(){})})};ks.tU=function(j){var n="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(bv.uz())n="Out of AI credits :( Watch";ex.tU(j,n+" two short ads to do it for free?","inpa",2)};ks.y4=function(j){if(j&&ks.JD(j)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};ks.JD=function(j){function n(b,D){if((b&D)==0)return b;return b+D+1-(b&D)}var Q=j.T[j.X[0]].s,a=j.K.s.uf(Q),R=7;
if(a.$()>1e3*1e3)return null;var B=n(a.q,7)*n(a._,7)*1.2>512*512||Math.max(n(a.q,7),n(a._,7))>1024;if(Math.max(a.q,a._)>1024*(B?2:1))return null;
var m=512*512;if(B){m=1024*1024;R=15}while(!0){var q=a.O();q.VT(1,1);q=q.uf(Q);q=q.uf(new b4(0,0,j.q,j._));
var U=n(q.q,R),l=n(q._,R);if(q.$()>a.$()&&U*l<=m&&Math.max(U,l)<=2048)a=q;else break}a.q=n(a.q,R);a._=n(a._,R);
return a};ks.awl=function(j,n,Q,a,B){if(!navigator.onLine){alert("Get online to use this feature.");
return}var m=!0,R,q,l="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",_=!1;
if(Q){var U=ks.JD(Q);m=U.$()>512*512||Math.max(U.q,U._)>1024}l=JSON.parse(bw.ZS(l));var b={};b[l[0]]=j;
b[l[1]]=m?2:1;b[l[2]]=30;b[l[3]]=Q?l[4]:l[5];b[l[12]]=l[13];b[l[14]]=l[15];if(B)for(var D in B)b[D]=B[D];
console.log(b);var c="nude nudity naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var v=0;v<c.length;v++)if(j.indexOf(c[v])!=-1)_=!0;if(_){var p=ks.pQ(3)?"Premium":"Free";bv.event("dez"+"go_Nu"+"de "+p)}var X=new FormData;
if(Q==null)R=q=512;else{var U=ks.JD(Q),g=Q.T[Q.X[0]],F=Q.K,k=K.U(U.$()*4);K.EC(g.buffer,g.s,k,U);var I=K.U(U.$());
K.Gc(F.G,F.s,I,U);K.round(I);for(var v=0;v<I.length;v++)if(k[v*4+3]<128)I[v]=255;if(m){console.log("downscaling");
var e=K.jk(k,U);k=e.jB;var H=K.fj(I,U);I=H.jB;U=H.s}var A=fj.Mi("jpg"),Z=A.OR([[k.buffer]],U.q,U._,[90]),J=K.U(U.$()*4);
J.fill(255);K.YM(I,J);var s=UPNG.encode([J.buffer],U.q,U._,null,null,null,!0);X.append(l[9],new Blob([Z],{type:"image/jpeg"}));
X.append(l[10],new Blob([s],{type:"image/png"}));R=U.q;q=U._}for(var D in b)X.append(D,b[D]);ks.a0k(Q==null?l[7]:l[8],X,n,a);
ks.abv=[R,q,m,n==null];return 1};ks.a0k=function(j,n,Q,a){var B=bw.OD("W`]VVykh8D:[/-?).I{% >"),m=bw.OD("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),R=new V.EX[bw.ii],q;
if(Q==null){var U=0,l=bw.OD("XYJMH"),b=bw.OD("XZRZBIJ;>9"),prompt=bw.OD("_^XSST");if(n.get(l))U+=n.get(l).size;
if(n.get(b))U+=n.get(b).size;if(n.get(prompt))U+=n.get(prompt).length;var D=U*19+47631,c=String.fromCharCode(65+(D&15))+String.fromCharCode(100+(D>>>4&15));
q=bw.OD("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+j+bw.OD("tYNZKOAv")+c;R[bw.K_](bw.akp,q,!0)}else{q=B+j;
R[bw.K_](bw.akp,q,!0);R[bw.a3Q](bw.OD("Gx-K]GLf\"9J"),Q?Q:m)}R[bw.lp]=a;R[bw.aHS]=bw.alY;R[bw.x2](n)};
ks.uT=function(j,n){var Q=ks.pQ(n);bv.event("rembg_"+j+": "+(Q?"Premium":"Free"));if(Q){for(var v=0;
v<n;v++)bv.event("aiusg_"+bv.se().id);ks.avn(n)}};function eE(j,n){if(!j)j=0;if(!n)n=0;this.x=j;this.y=n}eE.prototype.add=function(j){return new eE(this.x+j.x,this.y+j.y)};
eE.prototype.O=function(){return new eE(this.x,this.y)};eE.prototype.KA=function(j){this.x=j.x;this.y=j.y};
eE.prototype.N_=function(j){return this.x==j.x&&this.y==j.y};eE.prototype.normalize=function(j){var n=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=j/n;this.y*=j/n};eE.prototype.offset=function(j,n){this.x+=j;this.y+=n};eE.prototype.OI=function(j,n){this.x=j;
this.y=n};eE.prototype.tV=function(j){return new eE(this.x-j.x,this.y-j.y)};eE.X_=function(j,n){return eE.aB3(j.x,j.y,n.x,n.y)};
eE.aDf=function(j,n,Q){return new eE(j.x+Q*(n.x-j.x),j.y+Q*(n.y-j.y))};eE.aEr=function(j,n){return new eE(j*Math.cos(n),j*Math.sin(n))};
eE.aB3=function(j,n,Q,a){return Math.sqrt((Q-j)*(Q-j)+(a-n)*(a-n))};eE.vO={};eE.pm={};eE.vO.create=function(){var j=new Float32Array(4);
return j};eE.pm.create=function(j){var n=new Float32Array(16);n[0]=n[5]=n[10]=n[15]=1;if(j)eE.pm.set(j,n);
return n};eE.vO.add=function(j,n,Q){Q[0]=j[0]+n[0];Q[1]=j[1]+n[1];Q[2]=j[2]+n[2];Q[3]=j[3]+n[3]};eE.vO.set=function(j,n){n[0]=j[0];
n[1]=j[1];n[2]=j[2];n[3]=j[3]};eE.pm.set=function(j,n){n[0]=j[0];n[1]=j[1];n[2]=j[2];n[3]=j[3];n[4]=j[4];
n[5]=j[5];n[6]=j[6];n[7]=j[7];n[8]=j[8];n[9]=j[9];n[10]=j[10];n[11]=j[11];n[12]=j[12];n[13]=j[13];n[14]=j[14];
n[15]=j[15]};eE.pm.multiply=function(j,n,Q){var a=j[0],B=j[1],m=j[2],R=j[3],q=j[4],U=j[5],l=j[6],b=j[7],D=j[8],c=j[9],_=j[10],p=j[11],X=j[12],g=j[13],F=j[14],k=j[15],I=n[0],e=n[1],H=n[2],A=n[3];
Q[0]=I*a+e*q+H*D+A*X;Q[1]=I*B+e*U+H*c+A*g;Q[2]=I*m+e*l+H*_+A*F;Q[3]=I*R+e*b+H*p+A*k;I=n[4];e=n[5];H=n[6];
A=n[7];Q[4]=I*a+e*q+H*D+A*X;Q[5]=I*B+e*U+H*c+A*g;Q[6]=I*m+e*l+H*_+A*F;Q[7]=I*R+e*b+H*p+A*k;I=n[8];e=n[9];
H=n[10];A=n[11];Q[8]=I*a+e*q+H*D+A*X;Q[9]=I*B+e*U+H*c+A*g;Q[10]=I*m+e*l+H*_+A*F;Q[11]=I*R+e*b+H*p+A*k;
I=n[12];e=n[13];H=n[14];A=n[15];Q[12]=I*a+e*q+H*D+A*X;Q[13]=I*B+e*U+H*c+A*g;Q[14]=I*m+e*l+H*_+A*F;Q[15]=I*R+e*b+H*p+A*k;
return Q};eE.pm.inverse=function(j,n){var Q=j[0],a=j[1],B=j[2],m=j[3],R=j[4],q=j[5],U=j[6],l=j[7],b=j[8],D=j[9],c=j[10],_=j[11],p=j[12],X=j[13],g=j[14],F=j[15],k=Q*q-a*R,I=Q*U-B*R,e=Q*l-m*R,H=a*U-B*q,A=a*l-m*q,Z=B*l-m*U,J=b*X-D*p,s=b*g-c*p,E=b*F-_*p,z=D*g-c*X,h=D*F-_*X,d=c*F-_*g,Y=k*d-I*h+e*z+H*E-A*s+Z*J;
if(!Y){return null}Y=1/Y;n[0]=(q*d-U*h+l*z)*Y;n[1]=(B*h-a*d-m*z)*Y;n[2]=(X*Z-g*A+F*H)*Y;n[3]=(c*A-D*Z-_*H)*Y;
n[4]=(U*E-R*d-l*s)*Y;n[5]=(Q*d-B*E+m*s)*Y;n[6]=(g*e-p*Z-F*I)*Y;n[7]=(b*Z-c*e+_*I)*Y;n[8]=(R*h-q*E+l*J)*Y;
n[9]=(a*E-Q*h-m*J)*Y;n[10]=(p*A-X*e+F*k)*Y;n[11]=(D*e-b*A-_*k)*Y;n[12]=(q*s-R*z-U*J)*Y;n[13]=(Q*z-a*s+B*J)*Y;
n[14]=(X*I-p*H-g*k)*Y;n[15]=(b*H-D*I+c*k)*Y;return n};eE.pm.a2n=function(j,n,Q){var a=n[0],B=n[1];Q[0]=a*j[0]+B*j[4]+j[12];
Q[1]=a*j[1]+B*j[5]+j[13]};eE.pm.ap7=function(j,n,Q){var a=n[0],B=n[1],m=n[2],R=n[3];Q[0]=j[0]*a+j[4]*B+j[8]*m+j[12]*R;
Q[1]=j[1]*a+j[5]*B+j[9]*m+j[13]*R;Q[2]=j[2]*a+j[6]*B+j[10]*m+j[14]*R;Q[3]=j[3]*a+j[7]*B+j[11]*m+j[15]*R};
function b4(j,n,Q,a){if(!j)j=0;if(!n)n=0;if(!Q)Q=0;if(!a)a=0;this.x=j;this.y=n;this.q=Q;this._=a}b4.prototype.$=function(){return this.q*this._};
b4.prototype.O=function(){return new b4(this.x,this.y,this.q,this._)};b4.prototype.contains=function(j,n){return j>=this.x&&j<=this.x+this.q&&(n>=this.y&&n<=this.y+this._)};
b4.prototype.PU=function(j){return this.contains(j.x,j.y)};b4.prototype.BJ=function(j){return this.x<=j.x&&this.y<=j.y&&j.x+j.q<=this.x+this.q&&j.y+j._<=this.y+this._};
b4.prototype.KA=function(j){this.x=j.x;this.y=j.y;this.q=j.q;this._=j._};b4.prototype.N_=function(j){return this.x==j.x&&this.y==j.y&&this.q==j.q&&this._==j._};
b4.prototype.VT=function(j,n){this.x-=j;this.y-=n;this.q+=2*j;this._+=2*n};b4.prototype.ao0=function(j){this.VT(j.x,j.y)};
b4.prototype.uf=function(j){var n=Math.max(this.x,j.x),Q=Math.max(this.y,j.y),a=Math.min(this.x+this.q,j.x+j.q),B=Math.min(this.y+this._,j.y+j._);
if(a<n||B<Q)return new b4;else return new b4(n,Q,a-n,B-Q)};b4.prototype.Ta=function(j){if(j.y+j._<this.y||j.x>this.x+this.q||j.y>this.y+this._||j.x+j.q<this.x)return!1;
return!0};b4.prototype.ke=function(){return this.q<=0||this._<=0};b4.prototype.offset=function(j,n){this.x+=j;
this.y+=n};b4.prototype.ak6=function(j){this.offset(j.x,j.y)};b4.prototype.aGW=function(){this.x=this.y=this.q=this._=0};
b4.prototype.OI=function(j,n,Q,a){this.x=j;this.y=n;this.q=Q;this._=a};b4.prototype.d_=function(j){if(this.ke())return j.O();
if(j.ke())return this.O();var n=this.O();n.afU(j);return n};b4.cM=new Float32Array(2);b4.prototype.afU=function(j){if(j.ke())return;
if(this.ke()){this.KA(j);return}this.agy(j.x,j.y);this.agy(j.x+j.q,j.y+j._)};b4.prototype.agy=function(j,n){var Q=Math.min(this.x,j),a=Math.min(this.y,n);
this.q=Math.max(this.x+this.q,j)-Q;this._=Math.max(this.y+this._,n)-a;this.x=Q;this.y=a};b4.prototype.ao7=function(j,n){this.x=j;
this.y=n;this.q=this._=0};function j8(j,n,Q,a,B,m){if(typeof j==="undefined"){j=1;n=0;Q=0;a=1;B=0;m=0}this.NX=j;
this.b=n;this.RK=Q;this.zP=a;this.Qr=B;this.dE=m}j8.prototype.P8=function(){return Math.sqrt(Math.abs(this.NX*this.zP-this.b*this.RK))};
j8.prototype.aFm=function(){var j=this,n=function(Q){return Math.abs(Q)<1e-9?0:Q};j.NX=n(j.NX);j.b=n(j.b);
j.RK=n(j.RK);j.zP=n(j.zP);j.Qr=n(j.Qr);j.dE=n(j.dE)};j8.prototype.JZ=function(j){return new eE(j.x*this.NX+j.y*this.RK+this.Qr,j.x*this.b+j.y*this.zP+this.dE)};
j8.prototype.translate=function(j,n){this.Qr+=j;this.dE+=n};j8.prototype.rotate=function(j){var n=new j8(Math.cos(j),-Math.sin(j),Math.sin(j),Math.cos(j),0,0);
this.concat(n)};j8.prototype.scale=function(j,n){var Q=new j8(j,0,0,n,0,0);this.concat(Q)};j8.prototype.concat=function(j){this.KA(new j8(this.NX*j.NX+this.b*j.RK,this.NX*j.b+this.b*j.zP,this.RK*j.NX+this.zP*j.RK,this.RK*j.b+this.zP*j.zP,this.Qr*j.NX+this.dE*j.RK+j.Qr,this.Qr*j.b+this.dE*j.zP+j.dE))};
j8.prototype.m2=function(){var j=this.NX*this.zP-this.b*this.RK;this.KA(new j8(this.zP/j,-this.b/j,-this.RK/j,this.NX/j,(this.RK*this.dE-this.zP*this.Qr)/j,(this.b*this.Qr-this.NX*this.dE)/j))};
j8.prototype.O=function(){return new j8(this.NX,this.b,this.RK,this.zP,this.Qr,this.dE)};j8.prototype.KA=function(j){this.NX=j.NX;
this.b=j.b;this.RK=j.RK;this.zP=j.zP;this.Qr=j.Qr;this.dE=j.dE};function fj(){}fj.aG8={a2H:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),ahp:"DDS TIFF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
fj._D=function(j,n){var Q=j.memory.buffer.byteLength;if(Q<n)j.memory.grow((n-Q>>>16)+1)};fj.xK={ex:function(j,n){fetch(j).then(function(Q){return Q.arrayBuffer()}).then(function(Q){var a=new Uint8Array(Q),B=0,U="";
if(n){B=a.length;var m={level:9},R=pako.deflateRaw(a,m),q=UZIP.deflateRaw(a,m);console.log(B,R.length,q.length);
a=R.length<q.length?R:q}for(var v=0;v<a.length;v++)U+=String.fromCharCode(a[v]);var l=btoa(U);console.log(JSON.stringify([B,l]))})},get:function(j,n){var Q=BINDB[j],a=Date.now(),B=atob(Q[1]),m=B.length,R=new Uint8Array(m);
for(var v=0;v<m;v++)R[v]=B.charCodeAt(v);if(Q[0]!=0){var q=new Uint8Array(Q[0]);UZIP.inflateRaw(R,q);
R=q}if(n){var U=fj.Ot(R.buffer);R=fj.Mi(U).z5(R.buffer)}return R}};fj.a4_=function(j,n){return new Promise(function(Q,a){j.z5(n,null,function(B,m){Q(m)})})};
fj.Ot=function(j){if(!(j instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var n=new Uint8Array(j),Q=fj.adJ,a,B=0,m=n.length-1;
if(Q(n,[239,187,191]))B=3;while(B<n.length&&(n[B]==9||n[B]==10||n[B]==13||n[B]==32))B++;while(m!=0&&(n[m]==9||n[m]==10||n[m]==13||n[m]==32))m--;
if(Q(n,[56,66,80,83]))a="psd";if(Q(n,[6,6,237,245]))a="indd";if(Q(n,[68,73,67,77],128))a="dcm";if(Q(n,[99,104,108,118]))a="chlv";
if(Q(n,[208,207,17,224]))a="ufo";if(Q(n,[102,116,121,112,109,105,102,49],4)||Q(n,[102,116,121,112,97,118,105,102],4))a="avif";
if(Q(n,[102,116,121,112,104,101,105,99],4)||Q(n,[102,116,121,112,109,115,102,49],4))a="heic";if(Q(n,[102,116,121,112,105,115,111,109],4))a="mp4";
if(Q(n,[102,116,121,112,109,112,52,50],4))a="mp4";if(Q(n,[102,116,121,112,113,116,32,32],4))a="mp4";
if(Q(n,[102,116,121,112,99,114,120,32],4))a="cr3";if(Q(n,[0,255,75,65]))a="afphoto";if(Q(n,[67,83,70,67,72,85,78,75]))a="clip";
if(Q(n,[70,82,65,67]))a="frac";if(Q(n,[120]))a="pxd";if(Q(n,[80,68,78,51]))a="pdn";if(Q(n,[103,105,109,112,32,120,99,102,32]))a="xcf";
if(Q(n,[102,105,103,45,107,105,119,105]))a="fig";if(Q(n,[105,99,110,115]))a="icns";if(Q(n,[137,80,78,71,13,10,26,10])){a="png";
var R=8;while(R<n.length){var q=L.St(n,R);R+=4;var U=L.AP(n,R,4);R+=4;if(U=="mkTS")a="fpng";R+=q+4}}if(Q(n,[87,76]))a="cdr";
if(Q(n,[82,73,70,70])){var l=d4.by(n),b=l.TF;if(b=="WEBP")a="webp";else if(b.slice(0,3)=="CDR")a="cdr";
else a=b}if(Q(n,[70,79,82,77])||Q(n,[70,79,82,52])||Q(n,[76,73,83,84])||Q(n,[67,65,84,32])){var l=c8.by(n),b=l.TF;
if(b=="ILBM"||b=="CIMG"||b=="ANIM")a="ilbm";else a=b}if(Q(n,[255,216,255]))a="jpg";if(Q(n,[0,0,0,12,106,80,32,32]))a="jpg";
if(Q(n,[48,0,1,0],4))a="jb2";if(Q(n,[71,73,70,56]))a="gif";if(Q(n,[255,10])||Q(n,[0,0,0,12,74,88,76,32,13,10,135,10]))a="jxl";
if(Q(n,[0,0,0,2,121,102,113,76]))a="msh";if(Q(n,[0,0,0,3,121,102,113,76]))a="msh";if(Q(n,[0,0,0,16]))a="atn";
if(Q(n,[0,1]))a="aco";if(Q(n,[0,2]))a="aco";if(Q(n,[65,83,69,70]))a="aco";if([0,1].indexOf(n[1])!=-1&&[1,2,3,9,10,11].indexOf(n[2])!=-1&&[0,16,24,32].indexOf(n[7])!=-1)a="tga";
if(Q(n,[0,2,56,66,83,76]))a="asl";if(Q(n,[0,1,0,-1,0,2,0]))a="abr";if(Q(n,[0,2,0,-1,0,2,0]))a="abr";
if(Q(n,[0,6,0,1]))a="abr";if(Q(n,[0,6,0,2]))a="abr";if(Q(n,[0,7,0,2]))a="abr";if(Q(n,[0,9,0,2]))a="abr";
if(Q(n,[0,10,0,2]))a="abr";if(Q(n,[56,66,70,83]))a="shc";if(Q(n,[56,66,80,84]))a="pat";if(Q(n,[56,66,71,82]))a="grd";
if(Q(n,[71,73,77,80,32,71,114,97]))a="grd";if(Q(n,[56,66,84,80]))a="tpl";if(Q(n,[0,4,0,5]))a="acv";if(Q(n,[99,117,115,104]))a="csh";
if(Q(n,[0,1,0,0,0]))a="otf";if(Q(n,[79,84,84,79]))a="otf";if(Q(n,[116,116,99,102]))a="otf";if(Q(n,[68,68,83,32]))a="dds";
if(Q(n,[80,86,82,3]))a="pvr";if(Q(n,[86,84,70,0]))a="vtf";if(Q(n,[83,73,77,80]))a="fits";if((Q(n,[0,0,1,0])||Q(n,[0,0,2,0]))&&n[4]!=0)a="ico";
if(Q(n,[66,77]))a="bmp";if(Q(n,[40,0,0,0]))a="bmp";if(Q(n,[80,49]))a="ppm";if(Q(n,[80,50]))a="ppm";if(Q(n,[80,51]))a="ppm";
if(Q(n,[80,52]))a="ppm";if(Q(n,[80,53]))a="ppm";if(Q(n,[80,54]))a="ppm";if(Q(n,[73,73,42,0]))a="tiff";
if(Q(n,[77,77,0,42]))a="tiff";if(Q(n,[73,73,85,0]))a="tiff";if(Q(n,[73,73,82,83]))a="tiff";if(Q(n,[73,73,82,79]))a="tiff";
if(a=="tiff"){var D=UTIF.decode(n),c=fj.MM.akf(D);if(c[1])a=c[1];else if(D[0].t37724)a="ptif"}if(Q(n,[70,85,74,73,70,73,76,77]))a="raf";
if(Q(n,[112]))a="lif";if(Q(n,[73,73,26,0]))a="ciff";if(Q(n,[83,81,76,105]))a="sketch";if(Q(n,[80,75])){var _=UZIP.parse(j,!0);
if(_["document.json"])a="sketch";else if(_.manifest)a="xd";else if(_["maindoc.xml"])a="kra";else if(_["content/root.dat"])a="cdr";
else if(_["content/riffData.cdr"])a="cdr";else if(_["canvas.fig"])a="fig";else if(_["manifest.json"])a="pxz";
else a="zip"}if(Q(n,[123]))a="json";if(L.St(n,0)==n.length)a="icc";if(Q(n,[35]))a="icc";if(Q(n,[84,73,84,76],B))a="icc";
if(Q(n,[76,85,84,95],B))a="icc";if(Q(n,[60,63,120,109],B)){if(L._8(n,"<look>")!=-1)a="icc";else a="svg"}if(Q(n,[255,254,60,0],B))a="svg";
if(Q(n,[60,115,118,103],B))a="svg";if(Q(n,[60,33,100,111],B)||Q(n,[60,33,68,79],B)||Q(n,[60,33,45,45],B)){if(L._8(n,"<svg")!=-1)a="svg";
else a="html"}if(Q(n,[37,33])||Q(n,[197,208,211,198])){if(L._8(n,"%AI9_PrivateDataBegin")!=-1||L._8(n,"%AI5_BeginLayer")!=-1)a="ai";
else a="eps"}if(Q(n,[37,80,68,70],B)){var p=L._8(n,"/AIMetaData ");if(p!=-1){if(L._8(n,">>/Encrypt ",p)!=-1)a="pdf";
else a="ai"}else a="pdf"}else if(Q(n,[10,69,79,70],m-3))a="dxf";if(Q(n,[1,0,9,0]))a="wmf";if(Q(n,[215,205,198,154]))a="wmf";
if(Q(n,[1,0,0,0]))a="emf";if(Q(n,[118,47,49,1]))a="exr";if(Q(n,[10,10,10,10]))a="jsx";if(Q(n,[77,90]))a="exe";
if(a==null&&K.raw.FC(n.length)!=null)return"tiff";return a};fj.adJ=function(j,n,Q){if(Q==null)Q=0;for(var v=0;
v<n.length;v++)if(n[v]!=-1&&j[Q+v]!=n[v])return!1;return!0};fj.Mi=function(j){var n={BMP:fj.ado,CDR:fj.Pt,DDS:fj.TQ,EMF:fj.LM,DXF:fj.Ul,EPS:fj.sm,FIG:fj.W_,FPNG:fj.vU,INDD:fj.hS,CHLV:fj.a1E,GIF:fj.yh,ICO:fj.oW,ILBM:fj.axb,FITS:fj.apE,EXR:fj.qL,JPG:fj.hQ,LIF:fj.vX,DCM:fj.a4o,PDF:fj.u0,PDN:fj.Uk,PNG:fj.Jh,ICNS:fj.a3E,PPM:fj.K0,PSD:fj.fp,PXD:fj.XM,PXZ:fj.dJ,RAW:fj.fu,SKETCH:fj.Nh,UFO:fj.Tm,SVG:fj.NS,TGA:fj.BY,AVIF:fj.aDd,HEIC:fj.avm,JXL:fj.avm,TIFF:fj.MM,PTIF:fj.lT,DNG:fj.MM,CR2:fj.MM,NEF:fj.MM,ARW:fj.MM,RW2:fj.MM,ORF:fj.MM,FFF:fj.MM,RAF:fj.fE,CR3:fj.Ou,VTF:fj.a8T,WEBP:fj.Ig,WMF:fj.qk,XCF:fj.CZ,XD:fj.mu,KRA:fj.Q$,EXE:fj.akx,AI:fj.cq,AFPHOTO:fj.Rm,CLIP:fj.CC,FRAC:fj.tF,MP4:fj.ayM};
return n[j.toUpperCase()]};fj.Kf=function(v){var j=fj.aG8.a2H,n=fj.aG8.ahp,Q,a=[];if(v==null)Q=j.concat(n);
else Q=v==0?j:n;for(var v=0;v<Q.length;v++)if(fj.Mi(Q[v]).OR)a.push(Q[v]);return a};fj.an1=function(){var j;
function n(a){var B=a.target,m=B.width,R=B.height,q=document.createElement("canvas");q.width=m;q.height=R;
var U=q.getContext("2d");U.drawImage(B,0,0);j({nJ:new b4(0,0,m,R),data:U.getImageData(0,0,m,R).data.buffer})}function Q(a,B,m){j=m;
var R=document.createElement("img");R.onload=n;R.src="data:"+B+";base64,"+fj.cJ(a)}return Q}();fj.Pn=function(j,n,Q,a,B){var m=fj.PH(j,n,Q,a,B),R=fj.ME(m);
return R.buffer};fj.ME=function(j){var n=atob(j.split(",").pop()),Q=new Uint8Array(n.length);for(var v=0;
v<n.length;v++)Q[v]=n.charCodeAt(v);return Q};fj.PH=function(j,n,Q,a,B,m){if(!(j instanceof ArrayBuffer))throw"e";
if(a==null)a="png";if(a=="png"&&m==!0){var R=fj.Mi("PNG").OR([[j,0]],n,Q);return"data:image/png;base64,"+fj.cJ(R)}var q=fj.Hk;
if(q==null)q=fj.Hk=document.createElement("canvas");if(q.width!=n||q.height!=Q){q.width=n;q.height=Q}var U=q.getContext("2d"),l=new ImageData(new Uint8ClampedArray(j,0,n*Q*4),n,Q);
U.putImageData(l,0,0);return q.toDataURL("image/"+a,B)};fj.avk=function(j,n,Q,a,B){if(B==null)B=0;var m="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",R="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+m+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(j==1)R+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
R+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+B+")\" xlink:href=\""+n+"\" x=\""+80*Q+"\" y=\""+80*a+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var q=new Uint8Array(R.length);L._e(R,q,0);var U="data:image/svg+xml;base64,"+fj.cJ(q.buffer);return{_x:U,SK:new b4(0,0,128,128),HC:new eE(64,64)}};
fj.cJ=function(j){var n=new Uint8Array(j),Q="";for(var v=0;v<n.length;v++)Q+=String.fromCharCode(n[v]);
return btoa(Q)};fj.iz=function(j){var n=atob(j),Q=n.length,a=new Uint8Array(Q);for(var v=0;v<Q;v++)a[v]=n.charCodeAt(v);
return a.buffer};fj.ah2=function(j){var n=[],Q=[];for(var v=0;v<j.T.length;v++){var a=j.T[v];if(a.getName().slice(0,3)=="_a_"){n.push(v);
Q.push(a.VH())}}return[n,Q]};fj.gT=function(j,n,Q,a,B,m){if(Q==null)Q=j.q;if(a==null)a=j._;var R=new b4(0,0,j.q,j._),q=new j8(Q/(j.q+.001),0,0,a/(j._+.001),0,0),l;
n=n.toUpperCase();var U=fj.Mi(n);if(U.ps){l=U.OR(j,Q,a,B,m)}else if(fL==1){var b=j.am9(m,Q,a);l=U.OR([[b,0,j.Mp,j.bc]],Q,a,B)}else{if(B)B=B.slice(0);
var D=fj.ah2(j),c=D[0],_=D[1],p=j.M3(),X=p&&B?B.pop():!1,g=p&&!X?p[0]:null,F=null;if(j.Kj.length!=0){F=[];
for(var v=0;v<j.Kj.length;v++)F.push(j.Kj[v].OC(R))}if(c.length<2){var k=fj.arT(j.rd(),p,X,j),I;if(Q==j.q&&a==j._)I=k.buffer;
else{var e=N.IP.sO([k,R],q);I=e.buffer.buffer;if(F){var H=K.U(R.$()*4);for(var v=0;v<F.length;v++){K.wj(F[v],H,3);
var e=N.IP.sO([H,R],q),A=F[v]=K.U(e.s.$());K._W(e.buffer,A,3)}}}l=U.OR([[I,0,j.Mp,j.bc,F,g]],Q,a,B)}else{var Z=[];
for(var v=0;v<c.length;v++){var J=c[v],I;for(var s=0;s<c.length;s++)j.T[c[s]]._a(c[s]==J);j.iN();j.ge();
j.D$();if(Q==j.q&&a==j._)I=j.rd().buffer.slice(0);else{var e=N.IP.sO([j.rd(),R],q);I=e.buffer.buffer}I=fj.arT(new Uint8Array(I),p,X,j).buffer;
var E=j.T[J].getName().split(",");Z.push([I,E[1]?parseInt(E[1]):100,j.Mp,j.bc,F,g])}for(var v=0;v<c.length;
v++)j.T[c[v]]._a(_[v]);j.ge();j.D$();if(B){B.push(100);var z=B.length,h=B[z-3],d=B[z-2],Y=B[z-5]/100,C=B[z-1]/100;
if(Y!=1)for(var v=0;v<Z.length;v++)Z[v][1]=Math.round((Z[v][1]==0?16:Z[v][1])/Y);if(C<1){var i=0,M=[],P=0,s=0;
for(var v=0;v<Z.length;++v){i+=Z[v][1];if(v>0){M.push(M[M.length-1]+Z[v-1][1])}else{M.push(0)}}var W=C*Z.length,$=i/W,O=[];
for(var v=0;v<W;++v){var G=0;while(P>M[s]&&s+1<Z.length){G+=Z[s][1];++s}if(G!=0){var t=Math.round(Math.min(1,(M[s]-P)/Z[s][1])*G);
O[O.length-1][1]+=G-t;if(Z[s][1]<Z[s-1][1]/2){O.push(Z[s-1])}else{O.push(Z[s])}O[O.length-1][1]=Z[s][1]+t}else if(s<Z.length){O.push(Z[s])}P+=$;
++s}while(s<Z.length){O[O.length-1][1]+=Z[s][1];++s}Z=O}if(h)Z.reverse();if(d){var y=Z.slice(1,Z.length-1);
y.reverse();Z=Z.concat(y)}}l=U.OR(Z,Q,a,B)}}return l};fj.arT=function(j,n,Q,a){var B=a.Tc();if(Q){j=j.slice(0);
ICC.U.applyLUT(n[3],n[2],j,j)}else if(B&&a.add.fcmy==1){j=j.slice(0);ICC.U.applyLUT(B[a.add.fcmy==1?5:3],B[2],j,j)}return j};
fj.a05=function(j,n){var Q=new Uint8Array(j.data),a=new Uint8Array(n.data),B=0,m=0;for(var R=0;R<Q.length;
R+=4){var q=Q[R]-a[R],U=Q[R+1]-a[R+1],l=Q[R+2]-a[R+2],b=Q[R+3]-a[R+3],D=q*q+U*U+l*l+b*b>>>2;B+=D;if(D>25)m++}var c=m/j.nJ.$()<1e-4;
return c};fj.og=function(j,n){var Q=n[0].YU&&n[0].YU.startsWith("_a_"),a;if(Q&&!1){var B=0,m=n.length;
for(var v=0;v<n.length-1;v++){var R=n[v],q=n[v+1],U=fj.a05(R,q);if(U){var l=parseFloat(R.YU.split(",").pop()),b=parseFloat(q.YU.split(",").pop());
R.YU=R.YU.split(",")[0]+","+Math.round(l+b);n.splice(v+1,1);v--;B++}}if(B!=0){alert("Deleted "+B+" frames out of "+m+".");
for(var v=0;v<n.length;v++){var D=n[v],c=D.YU;D.YU="_a_frm"+v+","+c.split(",")[1]}}}var _=new hs(j+"."+["psd","ai"][fL]),p=new b4(0,0,1,1);
if(Q){a=_.JL();a.add.lsct=fM.ko;a.kw(j);a.TM="pass";a.G$=24;a._a(!0);_.T.push(_.v4())}for(var v=0;v<n.length;
v++){var X=n[v];p=p.d_(X.nJ);var g=_.JL();g._a(v==0);g.kw(n.length==1?"Background":"Layer "+v);if(v==0&&X.Mp)_.Mp=X.Mp;
if(v==0&&X.bc)_.bc=X.bc;if(X.YU)g.kw(X.YU);if(X.ZX)for(var F=0;F<X.ZX.length;F++){var k=X.ZX[F],I=hs.Nt(k[0]);
I.add.vmsk.z=k[1];K.R.fK(k[1],new j8(p.q,0,0,p._,0,0));_.AZ.push(I)}if(X.qO)_.qO=X.qO;g.s=X.nJ.O();g.buffer=new Uint8Array(X.data);
if(v==0&&X.tb)_.hT(X.tb);K.DS(g,!0);_.T.push(g)}if(Q)_.T.push(a);if(n[0].Kj){for(var v=0;v<n[0].Kj.length;
v++){var e=new f.km;_.Kj.push(e);e.s=n[0].nJ.O();e.G=n[0].Kj[v]}}_.X=[Q?_.T.length-1:0];_.q=p.q;_._=p._;
if(fL==0)_.buffer=K.U(p.$()*4);_.ge();return _};fj.aCB=function(j,n,Q){var a=j.length-Q,B=new Uint8Array(a);
for(var v=0;v<n;v++)B[v]=j[v];for(var v=n;v<a;v++)B[v]=j[v+Q];return B};fj.a3B=function(j,n,Q){var a=j.length,B=Q.length,m=new Uint8Array(a+B);
for(var v=0;v<n;v++)m[v]=j[v];for(var v=n;v<a;v++)m[v+B]=j[v];m.set(Q,n);return m};fj.afh=function(j,n,Q,a,B,m,R,q,U){var l=new ar(x.E.A,!0);
l.I=N.jM;l.data={Q:"h_stepbck"};var b={};for(var D=1;D<Q.length;D++){var c=j.X.slice(0),_=fj.aE0(j,U,n,Q,a,D),p="img"+D,X=Q[0].indexOf(R);
if(R!=""){if(X==-1)alert("Column "+R+" not found.");else p=Q[D][X]}b[p+"."+B.toLowerCase()]=new Uint8Array(fj.gT(j,B,null,null,m,q));
for(var v=0;v<_;v++)U.a(l)}return UZIP.encode(b)};fj.aE0=function(j,n,Q,a,B,m){var R=new ar(x.E.B,!0),l=0;
R.data={Q:x.l.X4};var q=new ar(x.E.A,!0);q.I=N.ir;q.data={Q:f.OW,vT:{buffer:null,s:null}};var U=q.data.vT;
for(var b=0;b<Q.length;b++){var D=Q[b],c=D.trait,_=parseInt(D.docRef.slice(4,-2)),p=-1;for(var v=0;v<j.T.length;
v++)if(j.T[v].add.lyid==_)p=v;if(p==-1)continue;var X=a[0].indexOf(D.varName);if(X==-1){alert("Column "+D.varName+" is missing");
return}var g=a[m][X],F=j.T[p];j.X=[p];if(c=="textcontent"){R.data.Lo="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(g)+";";
n.a(R);l++}if(c=="visibility"&&F.VH()+""!=g.toLowerCase()){g=g.trim().toLowerCase();if(g!="true"&&g!="false")g=g==""?"false":"true";
R.data.Lo="app.activeDocument.activeLayer.visible = "+g+";";if(F.VH()+""!=g){n.a(R);l++}}if(c=="fileref"){var k=g.split("/").pop(),I=null;
for(var dv in B)if(dv.split("/").pop()==k)I=B[dv];if(I==null){alert("Image "+k+" is missing.")}else{var e=fj.Mi(fj.Ot(I.buffer)).z5(I.buffer)[0],H=e.nJ,A=F.s,E=0,z=0;
if(F.add.SoLd){var Z=N.IP.lw(F.add.SoLd.nonAffineTransform);A=K.c.so(Z)}var J=A.q/A._,s=H.q/H._;if(J>s){z=A._;
E=~~(z*s)}else{E=A.q;z=~~(E/s)}R.data.Lo="app.activeDocument.activeLayer.visible = false;";n.a(R);l++;
var h=N.IP.sO([new Uint8Array(e.data),H],new j8(E/H.q,0,0,z/H._,0,0));U.s=h.s;U.buffer=h.buffer;h.s.x=A.x+(A.q-E>>>1);
h.s.y=A.y+(A._-z>>>1);n.a(q);l++;var d=j.T[j.X[0]];d.wT=F.wT;d.U7=F.U7;d.TM=F.TM;d.N=F.N}}}return l};
fj.Jh={};fj.Jh.OR=function(j,n,Q,a){if(a==null)a=[100,!1,!1,0,0,0];var B={sRGB:1,loop:a[4]},m=j[0];if(m[5]!=null){delete B.sRGB;
B.iCCP=m[5]}if(m[2]!=null){var R=Math.round(m[2]*(1e4/254));B.pHYs=[R,R,1]}if(m[3]!=null&&a[2]&&Object.keys(m[3]).length!=0){B.iTXt={"XML:com.adobe.xmp":bZ.Ap(m[3])}}var q=a[0],U=q==100?0:Math.max(2,Math.floor(q*5));
if(U==5)U=4;var l=[],b=[];for(var v=0;v<j.length;v++){l.push(j[v][0]);b.push(j[v][1])}var D=UPNG.encode(l,n,Q,U,b,B,a[1]);
return D};fj.Jh.aH7=function(j,n,Q){return UPNG.encodeLL([j],n,Q,3,1,8)};fj.Jh.z5=function(j){var n=Date.now(),Q=UPNG.decode(j),a=UPNG.toRGBA8(Q),B=Q.width,m=Q.height,R=0,q=null,U=Q.tabs.iCCP;
if(Q.tabs.pHYs)R=Math.round(Q.tabs.pHYs[0]*254/1e4);var l=Q.tabs.iTXt;if(l&&l["XML:com.adobe.xmp"])q=bZ.EP(l["XML:com.adobe.xmp"]);
if(a.length==1)return[{nJ:new b4(0,0,B,m),data:a[0],Mp:R,tb:U,bc:q}];var b=[];for(var v=0;v<a.length;
v++){b.push({YU:"_a_frm"+v+","+Q.frames[v].delay,nJ:new b4(0,0,B,m),data:a[v],Mp:R,tb:U})}return b};
fj.K0={};fj.K0.OR=function(j,n,Q,a){var B=new Uint8Array(j[0][0]),m=n*Q,R=m*3,q="P6\n"+n+" "+Q+"\n255\n",U=q.length,l=new Uint8Array(U+R);
for(var v=0;v<U;v++)l[v]=q.charCodeAt(v);for(var v=0;v<m;v++){var b=v*4,D=v*3+U;l[D]=B[b];l[D+1]=B[b+1];
l[D+2]=B[b+2]}return l.buffer};fj.K0.z5=function(j){j=new Uint8Array(j);var n=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],Q=0,a=String.fromCharCode(j[0])+String.fromCharCode(j[1]),B=[],m=0,R=a=="P1"||a=="P4"?2:3;
for(Q=2;Q<j.length;Q++){var q=j[Q],U=String.fromCharCode(q);if(q=="#".charCodeAt(0)){while(j[Q]!="\n".charCodeAt(0))Q++;
continue}var l=n.indexOf(q)!=-1;if(m==0&&!l){B.push(U);m=1;continue}if(m==1&&!l){B[B.length-1]+=U;continue}if(m==1&&l){m=0;
if(B.length==R)break;continue}}var b=parseInt(B[0]),D=parseInt(B[1]),c=b*D*4,_=a=="P1"||a=="P4"?1:255/parseInt(B[2]),p=K.U(c);
if(a=="P1"||a=="P2"||a=="P3"){var X="",g=0,m=0,F="#".charCodeAt(0);for(var v=Q;v<j.length;v++){var q=j[v],U=String.fromCharCode(q),l=n.indexOf(q)!=-1;
if(q==F){while(j[v]!="\n".charCodeAt(0))v++}else if(m==0&&!l){X=U;m=1}else if(m==1){if(l){m=0;var k=parseInt(X);
X="";if(a=="P1"){p[g]=p[g+1]=p[g+2]=(1-k)*255;p[g+3]=255;g+=4}if(a=="P2"){p[g]=p[g+1]=p[g+2]=Math.round(k*_);
p[g+3]=255;g+=4}if(a=="P3"){p[g]=Math.round(k*_);g++;if((g&3)==3){p[g]=255;g++}}}else X+=U}}}var I=b*D;
if(a=="P4")for(var e=0;e<D;e++){var H=e*8*Math.ceil(b/8);for(var A=0;A<b;A++){var v=H+A,Z=j[Q+1+(v>>3)];
Z=Z>>7-(v&7)&1;var J=e*b+A<<2;p[J]=p[J+1]=p[J+2]=(1-Z)*255;p[J+3]=255}}if(a=="P5")for(var v=0;v<I;v++){var J=4*v;
p[J]=p[J+1]=p[J+2]=Math.round(j[Q+1+v]*_);p[J+3]=255}if(a=="P6")for(var v=0;v<I;v++){var J=4*v,s=Q+1+3*v;
p[J]=Math.round(j[s]*_);p[J+1]=Math.round(j[s+1]*_);p[J+2]=Math.round(j[s+2]*_);p[J+3]=255}return[{nJ:new b4(0,0,b,D),data:p.buffer}]};
fj.TQ={};fj.TQ.OR=function(j,n,Q,a){if(a==null)a=[0,!0];if(typeof a[0]=="boolean")a[0]=0;var B=new Uint8Array(j[0][0]);
if(!K.QX(B)&&j[0][4]){B=B.slice(0);K.wj(j[0][4][0],B,3)}var m=n&3,R=Q&3;if(m!=0||R!=0){var q=n+(m==0?0:4-m),U=Q+(R==0?0:4-R),l=new Uint8Array(q*U*4);
K.G5(l,4278190080);K.EC(B,new b4(0,0,n,Q),l,new b4(0,0,q,U));B=l;n=q;Q=U}var b=UTEX.DDS.encode(B.buffer,n,Q,a);
if(!1){var D=UTEX.DDS.decode(b)[0],l=new Uint8Array(D.LQ),c=0;for(var v=0;v<B.length;v++){var _=B[v]-l[v];
c+=_*_}console.log(c)}return b};fj.TQ.z5=function(j){var n=UTEX.DDS.decode(j)[0],Q={nJ:new b4(0,0,n.width,n.height),data:n.image};
K.aoL(Q);return[Q]};fj.a8T={};fj.a8T.z5=function(j){var n=UTEX.VTF.decode(j).pop(),Q={nJ:new b4(0,0,n.width,n.height),data:n.image};
K.aoL(Q);return[Q]};fj.hQ={};fj.hQ.a9h=null;fj.hQ.ae6=function(j,n){var Q=fj.hQ.a9h,a=j.byteLength,B=n.width,m=n.height,R=B*m,q=5e6+2*a+R*(n.progressive?Math.max(2,n.numComponents)*4+1:8),U=Q.instance.exports;
fj._D(U,q);var l=new Uint8Array(U.memory.buffer),b=U.malloc(a);l.set(new Uint8Array(j),b);var D=U.malloc(4),c=U.malloc(4),dv=U.malloc(4),_=U.stbi_load_from_memory(b,a,D,c,dv,4);
U.free(b);U.free(D,c,dv);U.free(_);var p=l.slice(_,_+R*4);return p};(function(){var j=fj.xK.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(j).then(function(n){fj.hQ.a9h=n})}());fj.hQ.OR=function(j,n,Q,a){if(a==null)a=[85];
var B=j[0],m=new Uint8Array(B[0]);if(K.QX(m)){var R=new Uint8Array(m.length);R.fill(255);var q=new b4(0,0,n,Q);
K.L.sg("norm",m,q,R,q,q,1);m=R}var U=new Uint8Array(fj.Pn(m.buffer,n,Q,"jpeg",a[0]/100));if(U.length<2e4||B[5]){var l=L._8(U,[255,226]);
if(l!=-1){var b=L.oN(U,l+2);U=fj.aCB(U,l,b+2)}}if(B[5]!=null){var D=4+L.oN(U,4),c=B[5].length+16,_=new Uint8Array(c+2);
_[0]=255;_[1]=226;L.pL(_,2,c);L.ey(_,4,"ICC_PROFILE");_[16]=_[17]=1;_.set(B[5],18);U=fj.a3B(U,D,_)}if(B[2]!=null){var p=fj.hQ.kV(U)[224][0]+2;
p+=9;U[p]=1;L.pL(U,p+1,B[2]);L.pL(U,p+3,B[2])}if(B[3]!=null&&a[1]==!0&&Object.keys(B[3]).length!=0){var X=0,g=0,F=0,k=bZ.UU(B[3]),I=new Uint8Array(UTIF.encode([k])),e="http://ns.adobe.com/xap/1.0/",D=20;
X=4+6+I.length;var H=bZ.Ap(B[3]),A=L.XS(H);g=4+e.length+1+A.length;var Z=bZ.a59(B[3]);if(Z.length!=0){var J=0,z=0;
for(var v=0;v<Z.length;v++)J+=5+Z[v][1].length;var s=J+(J&1),E=K.U(14+4+4+4+s);L.ey(E,z,"Photoshop 3.0");
z+=14;L.ey(E,z,"8BIM");z+=4;E[z++]=4;E[z++]=4;z+=2;L.gS(E,z,J);z+=4;for(var v=0;v<Z.length;v++){var h=Z[v],d=h[1];
E[z++]=28;E[z++]=2;E[z++]=h[0];L.pL(E,z,d.length);z+=2;L.ey(E,z,d);z+=d.length}F=4+E.length}var Y=X+g+F,C=new Uint8Array(U.length+Y);
for(var v=0;v<20;v++)C[v]=U[v];for(var v=20;v<U.length;v++)C[v+Y]=U[v];C[D]=255;C[D+1]=225;L.pL(C,D+2,X-2);
L.ey(C,D+4,"Exif");for(var v=0;v<I.length;v++)C[D+10+v]=I[v];D+=X;C[D]=255;C[D+1]=225;L.pL(C,D+2,g-2);
L.ey(C,D+4,e);for(var v=0;v<A.length;v++)C[D+4+e.length+1+v]=A[v];D+=g;if(F!=0){C[D]=255;C[D+1]=237;
L.pL(C,D+2,F-2);for(var v=0;v<E.length;v++)C[D+4+v]=E[v];D+=F}U=C}return U.buffer};fj.hQ.kV=function(j){var n=0,Q=[],a=j.length;
while(n<a){while(j[n]!=255&&n<a)n++;while(j[n]==255)n++;if(n==a)break;var B=j[n];n++;if(Q[B]==null)Q[B]=[];
Q[B].push(n-2);if(B==216)continue;if(B==217)break;if(224<=B&&B<=239||B==218||B==219||B==192||B==193||B==194||B==196||B==221||B==254){var m=L.oN(j,n);
n+=m;if(B==218)while(n<a&&(j[n]!=255||(j[n+1]==0||208<=j[n+1]&&j[n+1]<=215)))n++;continue}console.log("unknown marker ",B.toString(16),n);
break}if(Q[217]==null){console.log("EOI marker missing");var R=j.length-2;j[R]=255;j[R+1]=217;Q[217]=[R]}return Q};
fj.hQ.axM=function(j){j=new Uint8Array(j);if(j[0]!=255)return j.buffer;var n=fj.hQ.kV(j),Q=fj.hQ.ay7(j,n);
if(Q.numComponents!=4)return j.buffer;var a=Q.width,B=Q.height,m=fj.hQ.aeq(j,n,!0);return fj.hQ.OR([[m[0].data]],a,B,[85])};
fj.hQ.ay7=function(j,n){var Q=(n[192]?n[192]:n[193]?n[193]:n[194])[0]+4,a={};a.progressive=n[194]!=null;
a.precision=j[Q];Q++;a.height=L.oN(j,Q);Q+=2;a.width=L.oN(j,Q);Q+=2;a.numComponents=j[Q];Q++;if(n[224]){var B=a.jfif={};
Q=n[224][0]+2+2+5+2;B.densityUnits=j[Q];Q++;B.xDensity=L.oN(j,Q);Q+=2;B.yDensity=L.oN(j,Q);Q+=2}if(n[238]){var B=a.adobe={};
Q=n[238][0]+2+2+6;B.version=j[Q];Q++;B.flags0=L.oN(j,Q);Q+=2;B.flags1=L.oN(j,Q);Q+=2;B.transform=j[Q];
Q++}return a};fj.hQ.axL=function(j,n,Q){var a=n,B=L.oN(j,a);a+=2;var m=L.AP(j,a,4);if(m=="Exif"){a+=6;
var R=j.slice(a,a+B-8),q;try{q=UTIF.decode(R.buffer,{parseMN:!1,debug:!1})}catch(bY){}if(q&&q.length!=0)Q.exif=q}else if(m=="http"){var U=0;
while(j[a+U]!=0)U++;var l=L.AP(j,a,U);a+=U+1;if(l=="http://ns.adobe.com/xmp/extension/"){var b=L.AP(j,a,32);
a+=32;a+=8;var D=n+B-a;while(j[a+D-1]==0)D--;if(Q.xmp_extn==null)Q.xmp_extn="";try{Q.xmp_extn+=L.Cl(j,a,D)}catch(bY){}}else if(l=="http://ns.adobe.com/xap/1.0/"){var c=L.Cl(j.slice(a,a+B-U-3));
if(c[0]=="?")c="<"+c;Q.xmp=c}}else console.log(m)};fj.hQ.aeq=function(j,n,Q){var a=fj.hQ.ay7(j,n),B=a.width,m=a.height,R=B*m,q,e=72,H,Z,J=null;
if(B*m*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var U=-1;if(a.adobe)U=a.adobe.transform;if(Q||B*m>1e7||U==0||U==2||a.progressive){var l=new PDFJS.JpegImage;
l.parse(j);var b=l.getData({width:B,height:m,forceRGB:!0,isSourcePDF:Q}),q=K.U(R*4);for(var v=0;v<R;
v++){var D=v<<2,c=D-v;q[D]=b[c];q[D+1]=b[c+1];q[D+2]=b[c+2];q[D+3]=255}}else{q=fj.hQ.ae6(j.buffer,a)}var _=n[225];
if(_)for(var v=0;v<_.length;v++)fj.hQ.axL(j,_[v]+2,a);var p=n[226];if(p){for(var v=0;v<p.length;v++){var X=p[v],g=L.oN(j,X+2),F=L.AP(j,X+4,11);
if(a.icc==null&&F=="ICC_PROFILE"){var k=L.St(j,X+18);a.icc=j.slice(X+18,X+18+k)}}}var I=n[217][0]+2;
if(I!=j.length)a.suffix=j.slice(I);var A=[B,m,1,0,0,0,1,0];if(a.jfif&&a.jfif.densityUnits!=0){e=Math.round([72,1,2.54][a.jfif.densityUnits]*a.jfif.xDensity)}else if(a.exif&&a.exif[0].t282!=null){var s=a.exif[0].t282[0];
e=s[0]/s[1]}if(a.exif){var E=a.exif;H=bZ.Eq(E[0]);var z=E[0].t274;if(z)z=z[0];if(z!=null&&z>1&&z<20)A=K.raw.az1(z,B,m)}if(a.xmp){H=bZ.EP(a.xmp,H)}if(a.icc)Z=a.icc;
var h=n[237],d=[],Y=[];if(h){var C=new Uint8Array(65536),i=0,X=0;for(var v=0;v<h.length;v++){X=h[v]+2;
var M=X+L.oN(j,X);X+=2;var W=X;while(j[X]!=0)X++;X++;var $=L.AP(j,W,X-W-1),P=M-X;if(P<0)break;while(i+P>C.length){var O=new Uint8Array(C.length*2);
O.set(C);C=O}var G=new Uint8Array(j.buffer,X,P);C.set(G,i);i+=P}X=0;j=C;while(X<i){var t=L.AP(j,X,4);
X+=4;var y=L.oN(j,X);X+=2;var r=j[X++],u=L.AP(j,X,r);X+=r;if((r&1)==0)X++;var g=L.St(j,X);X+=4;var I=X+g+(g&1);
if(y==1028){while(X+4<I){var S=j[X++],w=j[X++],dj=j[X++],o=L.oN(j,X);X+=2;if(S==28&&w==2)d.push([dj,L.AP(j,X,o)]);
X+=o}}else if(y==1032)J=hz.al0(j,X);else if((y&2e3)==2e3){var T=bJ.iW(j,X,g);Y.push([u,T])}else{}X=I}if(d.length!=0)H=bZ.a3_(d,H)}var i6=[{nJ:new b4(0,0,B,m),data:q.buffer,Mp:e,bc:H,tb:Z,ZX:Y.length==0?null:Y,qO:J}],H=a.xmp_extn;
if(H){var bH=new DOMParser,cg=bH.parseFromString(H,"image/svg+xml"),cg=cg.children[0].children[0].children[0],bu=[cg.getAttribute("GImage:Data"),cg.getAttribute("GDepth:Data")];
for(var v=0;v<bu.length;v++)if(bu[v]){var hH=atob(bu[v]),dK=new Uint8Array(hH.length);L.ey(dK,0,hH);
dK=dK.buffer;var d8=fj.Ot(dK),d1=fj.Mi(d8).z5(dK);i6.push(d1[0])}}if(a.suffix){var gH=a.suffix,kh=!1,ay=L.AP(gH,4,4),dO=L._8(gH,[255,216,255]);
if(fj.adJ(gH,[0,0,1,10,14,0,0,0])){if(kh)console.log("Samsung");var X=0;while(X!=gH.length){var fy=L.rv(gH,X+2);
X+=4;var bg={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[fy];if(bg!=null){var f4=L.vS(gH,X);X+=4;
var jb=L.AP(gH,X,f4);X+=f4;var jT=L.AP(gH,X,bg);X+=bg;if(fy==2608){var jy=X,cl=L.St(gH,X+24);X+=cl+24;
var hu=L.St(gH,X);X+=hu;var aA=gH.slice(jy,X);fj.hQ.a9A(aA)}}else if(fy==18502){while(L.AP(gH,X,4)!="SEFT")X+=4;
X+=4}else{break;console.log(L.H0(gH,X,128));console.log(gH.slice(X));throw fy.toString(16)}}}else if(ay=="ftyp"){if(kh)console.log("MP4 Video");
fj.hQ.a9A(gH)}else if(L.AP(gH,0,4)=="fixe"){if(kh)console.log("fixe");alert("Unknown data - "+gH.length+" B - at the end of the file",3e3);
var X=4,g=L.vS(gH,X);X+=4;var ko=L.vS(gH,X);X+=4;var ec=L.vS(gH,X);X+=4;console.log(g,ko,ec,gH.slice(X,X+84));
X+=84;var kK=L.AP(gH,X,32);X+=32;X+=8;var kK=L.AP(gH,X,32);X+=32}else if(L.AP(gH,8,13)=="FocusShot_Map"){if(kh)console.log("FocusShot_Map");
var cM=L.St(gH,0),o=L.vS(gH,4),dK=K.U(R*4),gG=K.U(R*4);for(var c2=0;c2<m;c2++)for(var a1=0;a1<B;a1++){var v=c2*B+a1,D=v<<2,cs=8+13+((c2>>>1)*B+a1>>>1),f7=gH[cs],j7=gH[cs+(R>>>2)];
dK[D]=dK[D+1]=dK[D+2]=f7;dK[D+3]=255;gG[D]=gG[D+1]=gG[D+2]=j7;gG[D+3]=255}i6.push({nJ:new b4(0,0,B,m),data:dK.buffer},{nJ:new b4(0,0,B,m),data:gG.buffer})}else if(ay=="edof"){if(kh)console.log("edof");
var z=gH[8+7];console.log(z.toString(16));var X=8+16,dz=L.rv(gH,X),iA=L.rv(gH,X+2),R=dz*iA;X+=4;X+=32+16;
var kk=K.U(R*4);for(var v=0;v<R;v++){var D=v<<2;kk[D]=kk[D+1]=kk[D+2]=gH[X+v];kk[D+3]=255}if(z==16){}else if(z==19){var fA=kk.slice(0);
K.D.UI(kk,fA,dz,iA);var g5=dz;dz=iA;iA=g5;K.D.ms(fA,kk,dz,iA)}else throw"Unknown orientation of a depth map";
i6.push({nJ:new b4(0,0,dz,iA),data:kk.buffer})}else if(L.AP(gH,0,64).indexOf("DualShot")!=-1){var h$=L.vS,hL=L.AP,ha=L.rv,X=0;
function jl(){var ce=h$(gH,X);if(h$(gH,X+4)!=0)throw"e";X+=8;return ce}var fI=L.St(gH,X);X+=4;try{if(fI==45066){X=1226;
var B=jl(),m=jl();X=3445}else if(fI==45322){var aE=h$(gH,X);X+=4;var kK=hL(gH,X,aE);X+=aE;if(kK!="DualShot_DepthMap_1")throw kK;
B=1008;m=756}else throw fI;var es=K.U(B*m*4);es.fill(255);K.YM(gH.slice(X,X+B*m),es);i6.push({nJ:new b4(0,0,B,m),data:es.buffer})}catch(bY){console.log("error reading a depth map")}try{if(dO!=0)gH=gH.slice(dO);
i6=i6.concat(fj.Mi("jpg").z5(gH.buffer))}catch(bY){}}else if(dO!=-1&&!(gH[0]==255&&gH[1]==129)){if(kh)console.log("another JPG at",dO);
try{if(dO!=0)gH=gH.slice(dO);i6=i6.concat(fj.Mi("jpg").z5(gH.buffer))}catch(bY){}}else if(L.AP(gH,0,4)=="PMPD"){if(kh)console.log("Xiaomi stuff");
var X=4,kN=L.vS(gH,12),fV=L.vS(gH,16),dz=L.vS(gH,1060),iA=L.vS(gH,1064),jU=dz>iA,c$=i6[0].nJ.q>i6[0].nJ._,iq=gH.slice(gH.length-dz*iA-4),cz=K.U(dz*iA);
for(var c2=0;c2<iA;c2++)for(var a1=0;a1<dz;a1++)cz[c2*dz+a1]=iq[(iA-c2-1)*dz+a1];var es=K.U(dz*iA*4);
es.fill(255);K.YM(cz,es);if(jU!=c$){var fA=es.slice(0);K.D.UI(es,fA,dz,iA);var g5=dz;dz=iA;iA=g5;K.D.ms(fA,es,dz,iA)}i6.push({nJ:new b4(0,0,dz,iA),data:es.buffer})}else console.log(L.AP(gH,0,4),gH)}if(i6.length>1){var h0=i6[0].nJ,co=!1,cC=!0;
i6[0].YU="Main";var fl=[!1];for(var v=1;v<i6.length;v++){fl[v]=fj.hQ.acF(new Uint8Array(i6[v].data));
if(fl[v])co=!0;if(!i6[v].nJ.N_(i6[0].nJ))cC=!1}if(!co&&!cC)i6=i6.slice(0,1);else for(var v=1;v<i6.length;
v++){i6[v].YU=fl[v]?"Depth Map":null;var gr=i6[v].nJ;if(!gr.N_(h0)){var eK=h0.q/gr.q,kM=h0._/gr._,bM=new j8;
bM.scale(eK,kM);var bn=N.IP.CN([new Uint8Array(i6[v].data),gr],1,K.D.UN(bM));i6[v].nJ=bn.s;i6[v].data=bn.buffer}}}if(fj.hQ.sh==1)if(A[2]!=1||A[6]!=1)for(var v=0;
v<i6.length;v++){var fT=i6[v],ck=new Uint8Array(fT.data),B=fT.nJ.q,m=fT.nJ._,dz=A[0],iA=A[1],q=K.U(dz*iA*4);
K.D.vH(ck,B,m,q,A);fT.nJ=new b4(0,0,dz,iA);fT.data=q.buffer}return i6};fj.hQ.a9A=function(j){if(window.confirm("Photopea found a "+je.LK(j.length)+" MP4 video inside your image. Would you like to save it?",4e3)){aL.save(j.slice(0).buffer,"video.mp4")}};
fj.hQ.acF=function(j){var n=!0;for(var v=0;v<j.length;v+=4){n=n&&j[v]==j[v+1]&&j[v+1]==j[v+2]}return n};
fj.hQ.sh=0;fj.hQ.z5=function(j,n,Q){j=new Uint8Array(j);if(j[0]==255){var a=fj.hQ.kV(j);if(a[195]==null){fj.hQ.sh++;
var B=fj.hQ.aeq(j,a,!1);fj.hQ.sh--;return B}var m=L.oN(j,a[195][0]+5),R=L.oN(j,a[195][0]+7),q=UTIF.LosslessJpegDecode(j),U=R*m,l=K.U(U*4);
for(var v=0;v<U;v++){var b=v<<2,D=b-v;l[b]=q[D];l[b+1]=q[D+1];l[b+2]=q[D+2];l[b+3]=255}return[{nJ:new b4(0,0,R,m),data:l.buffer}]}else if(j[0]==0&&j[4]==48&&j[6]==1){var c=j,_=new PDFJS.Jbig2Image,p=[];
if(n)p.push({data:n,start:0,end:n.length});p.push({data:c,start:0,end:c.length});var q=_.parseChunks(p);
if(!Q)for(var v=0;v<q.length;v++)q[v]=~q[v];var R=L.St(j,11),m=L.St(j,15),X=Math.ceil(R/8),g=K.U(R*m*4);
for(var F=0;F<m;F++){var k=F*X;for(var I=0;I<R;I++){var b=(F*R+I)*4,e=q[k+(I>>>3)]>>>7-(I&7)&1,H=e*255;
g[b]=H;g[b+1]=H;g[b+2]=H;g[b+3]=255}}return[{nJ:new b4(0,0,R,m),data:g.buffer}]}else{var _=new PDFJS.JpxImage;
_.parse(j);var R=_.width,m=_.height,A=_.tiles,Z=_.componentsCount,J=new Uint8Array(R*m*4),s=new b4(0,0,R,m);
for(var _=0;_<A.length;_++){var E=A[_],z=E.width,h=E.height,d=z*h,Y=E.items,C=new b4(E.left,E.top,z,h),i=new Uint8Array(d*4);
if(Z==1)for(var v=0;v<d;v++){var M=Y[v],b=v*4;i[b]=M;i[b+1]=M;i[b+2]=M;i[b+3]=255}else if(Z==3)for(var v=0;
v<d;v++){var D=v*3,b=v*4;i[b]=Y[D];i[b+1]=Y[D+1];i[b+2]=Y[D+2];i[b+3]=255}else if(Z==4)i.set(Y);else console.log("Unknown number of components: "+Z);
K.EC(i,C,J,s)}return[{nJ:s,data:J.buffer}]}};fj.Ig={};fj.Ig.OR=function(j,n,Q,a){if(a==null)a=[70,!1,0,0,0];
var B=a[0]/100,X=0;if(j.length==1){var m=new Uint8Array(fj.Pn(j[0][0],n,Q,"webp",B));if(m.length<2e4){var R=d4.by(m.buffer),q=R.sub;
for(var v=0;v<q.length;v++)if(q[v].A8=="ICCP"){var U=q[v];m=fj.aCB(m,U.k-8,U.size+8);L.eI(m,4,R.size-(U.size+8));
break}}if(a[1]&&j[0][3]){var R=d4.by(m.buffer),q=R.sub,l=q[0].k+q[0].size,b=j[0][3],D=new Uint8Array(UTIF.encode([bZ.UU(b)])),c=new Uint8Array(6+D.length);
L.ey(c,0,"Exif\0\0");c.set(D,6);var _=L.XS(bZ.Ap(b)),p=new Uint8Array(16+c.length+_.length);L.ey(p,0,"EXIF");
L.eI(p,4,c.length);p.set(c,8);var X=8+c.length;L.ey(p,X,"XMP ");L.eI(p,X+4,_.length);p.set(_,X+8);var g=new Uint8Array(m.length+p.length);
g.set(new Uint8Array(m.buffer,0,l),0);g.set(p,l);g.set(new Uint8Array(m.buffer,l),l+p.length);m=g;L.eI(m,4,L.vS(m,4)+p.length)}return m.buffer}var F=L.GJ,k=L.Sd,I=new e3;
F(I,X,"RIFF    WEBPVP8X");X+=16;k(I,X,10);X+=4;k(I,X,18);X+=4;k(I,X,n-1);X+=3;k(I,X,Q-1);X+=3;F(I,X,"ANIM");
X+=4;k(I,X,6);X+=4;I.G2(X,4);I.data[X+3]=255;L.wW(I,X+4,a[3]);X+=6;var e=[];for(var v=0;v<j.length;v++){e.push(j[v][0])}var H=UPNG.encode.compress(e,n,Q,B==1?0:Math.max(2,Math.floor(B*500)),[!1,!0,!0,0,!0]).frames;
function A(R,W,$,P){var d=R.k-8,Y=R.size+8;$.G2(P,Y);for(var v=0;v<Y;v++)$.data[P+v]=W[d+v];return P+Y}for(var v=0;
v<j.length;v++){F(I,X,"ANMF");X+=4;var Z=X,d=0,Y=0;X+=4;var J=H[v],s=J.rect,E=[s.x>>>1,s.y>>>1,s.width-1,s.height-1,j[v][1]];
for(var z=0;z<5;z++)k(I,X+3*z,E[z]);X+=15;I.G2(X,1);I.data[X]=1-J.blend<<1|J.dispose;X++;var h=new Uint8Array(fj.Pn(J.img.buffer,s.width,s.height,"webp",1)),q=d4.by(h.buffer).sub,C={};
for(var i=0;i<q.length;i++)C[q[i].A8]=q[i];if(C.VP8L)X=A(C.VP8L,h,I,X);else throw"e";var M=X-Z-4;k(I,Z,M);
if((M&1)==1){I.G2(X,1);X++}}k(I,4,X-8);return I.data.slice(0,X).buffer};(function(){var j=fj.xK.get("wasm/webp").buffer;
WebAssembly.instantiate(j).then(function(n){var Q=n.instance.exports;fj.Ig.exp=Q})}());fj.Ig.z5=function(j){var n=new Uint8Array(j),Q=fj.Ig.adB,a=null,B=d4.by(j).sub,m={},R=null;
for(var v=0;v<B.length;v++)m[B[v].A8]=B[v];if(m.EXIF){var q=m.EXIF,U=new Uint8Array(j,q.k+6,q.size-6),q=UTIF.decode(U)[0];
if(q)R=bZ.Eq(q)}var q=m["XMP\0"];if(q==null)q=m["XMP "];if(q){var U=new Uint8Array(j,q.k,q.size);if(R==null)R={};
R=bZ.EP(L.Cl(U),R)}var l=m.ANIM,b=m.VP8L,D=m["VP8 "],c=m.VP8X;if(l==null){var _,p;if(D){_=L.rv(n,D.k+6);
p=L.rv(n,D.k+8)}else if(b){var X=L.vS(n,b.k+1);_=(X&(1<<14)-1)+1;p=(X>>>14&(1<<14)-1)+1}else throw"e";
var g=Q(a,j,{k:0,size:n.length},_,p);g.bc=R;return[g]}var F=c.k,_=1+(L.vS(n,F+4)&16777215),p=1+(L.vS(n,F+7)&16777215),k=[],I=new b4(0,0,_,p),e=K.U(_*p*4);
for(var v=0;v<B.length;v++){var H=B[v];if(H.A8!="ANMF")continue;var A=[];for(var Z=0;Z<5;Z++)A.push(L.vS(n,H.k+Z*3)&16777215);
var J=new b4(A[0]*2,A[1]*2,A[2]+1,A[3]+1),s=A[4],E=Q(a,j,{k:H.k+16,size:H.size-16},_,p),z=new Uint8Array(E.data),h=n[H.k+15];
if(h>>>1==0)K.L.sg("norm",z,J,e,I,J,1);else K.EC(z,J,e,I);k.push({YU:"_a_"+k.length+","+s,nJ:I.O(),data:e.buffer.slice(0)});
if((h&1)==1){z.fill(0);K.EC(z,J,e,I)}}return k};fj.Ig.adB=function(j,n,Q,a,B){var m=fj.Ig.exp,R=m.memory,q=5e6+2*Q.size+a*B*10;
fj._D(m,q);var U=new Uint8Array(R.buffer),l=m.malloc(Q.size);U.set(new Uint8Array(n,Q.k,Q.size),l);var b=m.malloc(8),D=m.WebPDecodeARGB(l,Q.size,b,b+4),c=L.vS(U,b),_=L.vS(U,b+4),p=c*_*4,X=K.U(p);
for(var v=0;v<p;v+=4){X[v]=U[D+v+1];X[v+1]=U[D+v+2];X[v+2]=U[D+v+3];X[v+3]=U[D+v]}m.WebPFree(D);m.free(b);
m.free(l);return{nJ:new b4(0,0,c,_),data:X.buffer}};fj.ado=function(){function j(q,U,l,b){var D=new Uint8Array(q[0][0]),c=new Uint32Array(D.buffer),_=[],p={},g=24,F=0,A=0;
for(var v=0;v<c.length;v++){var X=c[v]&16777215;if(p[X]==null){p[X]=_.length;_.push(X);if(_.length>256){_=null;
break}}}if(b&&b[0])_=null;if(_){g=1;while(1<<g<_.length)g*=2;if(g==2)g=4}var k={Uw:U,WC:l,Kr:1,m9:g,e5:0,axD:F},I=4*Math.floor((k.m9*k.Uw+31)/32);
k.size=I*k.WC+2;var e=new e3,H=_?(1<<g)*4:0;L.GJ(e,A,"BM");A+=2;L.Sd(e,A,I*l+16+40+H);A+=4;L.Sd(e,A,0);
A+=4;L.Sd(e,A,54+H);A+=4;e.G2(A,40);L.Sd(e,A,40);A+=4;R(e.data,A,k,I);A+=36;if(_){e.G2(A,H);var Z=e.data;
for(var v=0;v<_.length;v++){var J=A+v*4,s=_[v]>>>16,E=_[v]>>>8&255,z=_[v]&255;Z[J]=s;Z[J+1]=E;Z[J+2]=z}A+=H}e.G2(A,I*l);
if(g==24)for(var h=0;h<l;h++){var d=A+(l-1-h)*I;for(var Y=0;Y<U;Y++){var C=(h*U+Y)*4;e.data[d+Y*3+2]=D[C];
e.data[d+Y*3+1]=D[C+1];e.data[d+Y*3+0]=D[C+2]}}else if(g==8)for(var h=0;h<l;h++){var d=A+(l-1-h)*I;for(var Y=0;
Y<U;Y++){var C=h*U+Y,i=p[c[C]&16777215];e.data[d+Y]|=i}}else if(g==4)for(var h=0;h<l;h++){var d=A+(l-1-h)*I;
for(var Y=0;Y<U;Y++){var C=h*U+Y,i=p[c[C]&16777215];e.data[d+(Y>>>1)]|=i<<4-(Y&1)*4}}else if(g==1)for(var h=0;
h<l;h++){var d=A+(l-1-h)*I;for(var Y=0;Y<U;Y++){var C=h*U+Y,i=p[c[C]&16777215];e.data[d+(Y>>>3)]|=i<<7-(Y&7)}}A+=I*l+2;
return e.data.slice(0,A).buffer}function n(q){q=new Uint8Array(q);if(L.vS(q,0)==40)return[Q(q.buffer,0)];
var U=0,l=L.AP(q,U,2);U+=2;if(l!="BM"){alert("Unsupported BMP format: "+l);return}var b=L.vS(q,U);U+=4;
U+=4;var D=L.vS(q,U);U+=4;return[Q(q.buffer,U,D)]}function Q(q,U,l){q=new Uint8Array(q);var b=L.vS(q,U),D=m(q,U+4);
if(D.Kr!=1)alert("unsupported number of color planes: "+D.Kr);if(D.e5!=0&&D.e5!=1&&D.e5!=2&&D.e5!=3){alert("Unsupported BMP compression: "+D.e5);
return}U+=b;var c=U,_=q;if(l==null)l=U;if(D.e5==1||D.e5==2){var p=B(q,l,D);D.m9=8;q=p;l=0}var X=4*Math.floor((D.m9*D.Uw+31)/32),g=D.Uw,F=Math.abs(D.WC),k=new Uint8Array(g*F*4);
k.fill(255);if(D.m9==32)for(var I=0;I<F;I++){var e=l+(F-1-I)*X;for(var H=0;H<g;H++){var A=(I*g+H)*4;
k[A]=q[e+H*4+2];k[A+1]=q[e+H*4+1];k[A+2]=q[e+H*4+0];k[A+3]=q[e+H*4+3]}}else if(D.m9==24)for(var I=0;
I<F;I++){var e=l+(F-1-I)*X;for(var H=0;H<g;H++){var A=(I*g+H)*4;k[A]=q[e+H*3+2];k[A+1]=q[e+H*3+1];k[A+2]=q[e+H*3+0]}}else if(D.m9==16)for(var I=0;
I<F;I++){var e=l+(F-1-I)*X;for(var H=0;H<g;H++){var A=(I*g+H)*4,Z=q[e+H*2+1]<<8|q[e+H*2];if(l==U){k[A]=(Z>>>10&31)*(255/31);
k[A+1]=(Z>>>5&31)*(255/31);k[A+2]=(Z&31)*(255/31)}else{k[A]=(Z>>>11)*(255/31);k[A+1]=(Z>>>5&63)*(255/63);
k[A+2]=(Z&31)*(255/31)}}}else if(D.m9==8)for(var I=0;I<F;I++){var e=l+(F-1-I)*X;for(var H=0;H<g;H++){var A=(I*g+H)*4,J=q[e+H];
k[A]=_[c+4*J+2];k[A+1]=_[c+4*J+1];k[A+2]=_[c+4*J+0]}}else if(D.m9==4)for(var I=0;I<F;I++){var e=l+(F-1-I)*X;
for(var H=0;H<g;H++){var A=(I*g+H)*4,J=q[e+(H>>1)];J=J>>4-4*(H&1);J=J&15;k[A]=_[c+4*J+2];k[A+1]=_[c+4*J+1];
k[A+2]=_[c+4*J+0]}}else if(D.m9==1)for(var I=0;I<F;I++){var e=l+(F-1-I)*X;for(var H=0;H<g;H++){var A=(I*g+H)*4,s=q[e+(H>>3)];
s=s>>7-(H&7);s=s&1;k[A]=_[c+4*s+2];k[A+1]=_[c+4*s+1];k[A+2]=_[c+4*s+0]}}else throw"Unknown bit depth "+D.m9;
if(D.WC<0){var E=new Uint32Array(k.buffer),z=F>>>1;for(var I=0;I<z;I++){var h=I*g,d=(F-I-1)*g;for(var H=0;
H<g;H++){var Y=E[h+H];E[h+H]=E[d+H];E[d+H]=Y}}}return{nJ:new b4(0,0,g,F),data:k.buffer}}function a(q,v){return q>>>4-((v&1)<<2)&15}function B(q,U,l){var b=l.Uw,D=Math.abs(l.WC),c=new Uint8Array(b*D),_=0,p=0,v=0;
while(p<D){var X=q[U++],g=q[U++],F=p*b+_;if(X>0){if(l.m9==4)for(v=0;v<X;v++){c[F+v]=a(g,v)}else for(v=0;
v<X;v++){c[F+v]=g}_+=X}else if(X==0&&g==0){p++;_=0}else if(X==0&&g==1){break}else if(X==0&&g==2){_+=q[U++];
p+=q[U++]}else{var k=g;if(l.m9==4){for(v=0;v<g;v++){c[F+v]=a(q[U+(v>>>1)],v)}k=Math.ceil(g/2)}else{for(v=0;
v<g;v++){c[F+v]=q[U+v]}}if((k&1)!=0)k++;U+=k;_+=g}}return c}function m(q,U){var l=L.J9,b=L.vS,D=L.rv,c={};
c.Uw=l(q,U);U+=4;c.WC=l(q,U);U+=4;c.Kr=D(q,U);U+=2;c.m9=D(q,U);U+=2;c.e5=b(q,U);U+=4;c.size=b(q,U);U+=4;
var _=l(q,U);U+=4;var p=l(q,U);U+=4;c.axD=b(q,U);U+=4;U+=4;return c}function R(q,U,l,b){L.eI(q,U,l.Uw);
U+=4;L.eI(q,U,l.WC);U+=4;L.Oo(q,U,l.Kr);U+=2;L.Oo(q,U,l.m9);U+=2;L.eI(q,U,l.e5);U+=4;L.eI(q,U,l.size);
U+=4;L.eI(q,U,2834);U+=4;L.eI(q,U,2834);U+=4;L.eI(q,U,l.axD);U+=4;U+=4}return{z5:n,OR:j,aa$:Q}}();fj.yh={};
fj.yh.OR=function(j,n,Q,a){if(a==null)a=[100,!1,0,0,0,0];var B=[],m=[],R=n*Q*4,X=null;for(var q=0;q<j.length;
q++){var U=new Uint8Array(j[q][0].slice(0));for(var v=0;v<R;v+=4){var l=U[v+3]=U[v+3]>127?255:0;if(l==0)U[v]=U[v+1]=U[v+2]=0}B.push(U.buffer);
m.push(j[q][1])}var b=Math.round(2+254*a[0]/100),D=UPNG.encode.compress(B,n,Q,b,[!0,!1,!1,8,!1,a[1]]),c=D.plte,_=new Uint8Array(4),p=new Uint32Array(_.buffer);
for(var v=0;v<c.length;v++){p[0]=c[v];var g=_[0];_[0]=_[2];_[2]=g;c[v]=p[0];if(p[0]==0&&X==null)X=v}while(c.length<256)c.push(0);
var F=new Uint8Array(2e4+Math.round(1.5*n*Q*j.length)),k=a[3],I={palette:c};if(k!=1)I.loop=k==0?0:k-1;
var e=new GifWriter(F,n,Q,I);for(var v=0;v<j.length;v++){var H=D.frames[v],A=H.rect,Z=H.blend,J=H.dispose,s=Math.round(m[v]/10);
if(s<2)s=2;e.addFrame(A.x,A.y,A.width,A.height,H.img,{transparent:X,disposal:J+1,delay:s})}return F.slice(0,e.end()).buffer};
fj.yh.z5=function(j){var n=Date.now(),Q=[],a=UGIF.decode(j),B=UGIF.toRGBA8(a),m=new b4(0,0,a.width,a.height);
for(var v=0;v<B.length;v++){var R=a.frames[v];Q.push({nJ:m.O(),YU:"_a_frm"+v+","+R.delay*10,data:B[v]})}return Q};
fj.oW={};fj.oW.OR=function(j,n,Q,a){if(n>256||Q>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var B=Math.min(n,256),m=Math.min(Q,256),R=new b4(0,0,B,m),q=K.U(R.$()*4),U=new b4(0,0,n,Q),l=new Uint8Array(j[0][0]);
K.EC(l,U,q,R);j[0][0]=q.buffer;n=B;Q=m}var b=new Uint8Array(j[0][0]).slice(0),c=0;b[3]=Math.min(b[3],254);
var D=new e3,_=a&&a[0]==!0;L.wW(D,c,0);c+=2;L.wW(D,c,_?2:1);c+=2;L.wW(D,c,1);c+=2;var p=new Uint8Array(UPNG.encode([b.buffer],n,Q,null,null,null,!0));
D.G2(c,16);D.data[c]=n==256?0:n;c++;D.data[c]=Q==256?0:Q;c++;c+=2;L.wW(D,c,_?Math.round(n/2):1);c+=2;
L.wW(D,c,_?Math.round(Q/2):32);c+=2;L.Sd(D,c,p.length);c+=4;L.Sd(D,c,6+16);c+=4;D.G2(c,p.length);D.data.set(p,c);
c+=p.length;return D.data.slice(0,c).buffer};fj.oW.z5=function(j){j=new Uint8Array(j);var n=4,Q=L.rv(j,n);
n+=2;var a=[];for(var v=0;v<Q;v++){var B=fj.oW.aBr(j,n+v*16),m=j.buffer.slice(B.offset,B.offset+B.size),R=fj.Ot(m);
R=R?R:"bmp";if(R=="png"){var q=fj.Mi(R),U=q.z5(m);B.ph=U[0]}else{var l=fj.Mi("BMP").aa$(m,0),m=K.U(B.Uw*B.WC*4);
K.EC(new Uint8Array(l.data),new b4(0,0,l.nJ.q,l.nJ._),m,new b4(0,B.WC,B.Uw,B.WC));l.data=m.buffer;l.nJ._=B.WC;
B.ph=l}a.push(B)}a.sort(function(b,D){if(b.Uw!=D.Uw)return b.Uw-D.Uw;return b.aBQ-D.aBQ});return[a.pop().ph]};
fj.oW.aBr=function(j,n){var Q={};Q.Uw=j[n];n++;if(Q.Uw==0)Q.Uw=256;Q.WC=j[n];n++;if(Q.WC==0)Q.WC=256;
Q.acM=j[n];n++;n++;Q.aC8=L.rv(j,n);n+=2;Q.aBQ=L.rv(j,n);n+=2;Q.size=L.vS(j,n);n+=4;Q.offset=L.vS(j,n);
n+=4;return Q};fj.MM={};fj.MM.akf=function(j){var n,Q="dng";if(j[0].t33421)n=j[0];else if(j[0].subIFD&&j[0].t271&&j[0].t271[0]=="Hasselblad"){Q="fff";
n=j[0].subIFD[0];n.t33421=[2,2]}else if(j[0].subIFD&&j[0].subIFD[0].t33421){n=j[0].subIFD[0];if(n.t50706==null){if(n.t258[0]==8)n.t258[0]=12}Q=n.t50713||n.t50717?"dng":"arw"}else if(j[0].subIFD&&j[0].subIFD[0]&&j[0].subIFD[0].t262&&j[0].subIFD[0].t262[0]==34892)n=j[0].subIFD[0];
else if(j[0].t50706)n=j[0];else if(j[0].subIFD&&j[0].subIFD[1]&&j[0].subIFD[1].t33421){Q="nef";n=j[0].subIFD[1]}else if(j[0].subIFD&&j[0].subIFD[2]&&j[0].subIFD[2].t33421){Q="nef";
n=j[0].subIFD[2]}else if(j[3]&&j[3].t50648){Q="cr2";var a=j[0].exifIFD,B=a.makerNote;n=j[3];var m=B.t224[1],R=B.t224[2];
n.t256=[m];n.t257=[R];n.t258=[16];n.t259=[7];n.t262=[32803];n.t277=[1];n.t33421=[2,2];var q=n.t50656[0],U=K.raw.Xy[q];
if(U==null)throw"e";n.t33422=U}else if(j[0].t1&&j[0].t1.length==4){Q="rw2";var l=j[0],b={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},D=l.t280==null;
n={};for(var c in b)if(l["t"+c])n["t"+b[c]]=l["t"+c];n.t2=l.t2;n.t3=l.t3;n.t10=l.t10;n.t45=l.t45;n.t258=[16];
n.t33421=[2,2];var _=l.t9[0];if(D)_=2;n.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][_-1];var p=l.t4[0],X=l.t5[0],g=l.t6[0],F=l.t7[0];
n.t50829=[p,X,g,F];var k=l.t36[0],I=l.t37[0],e=l.t38[0];n.t50728=[I/k,I/I,I/e]}else if(j[0].t258&&j[0].t258[0]>=12&&j[0].t271&&(j[0].t271[0].startsWith("OLYMPUS")||j[0].t271[0].startsWith("OM Digital Solutions"))){Q="orf";
n=j[0];n.t33421=[2,2]}return[n,n?Q:null]};fj.MM.z5=function(j){var n=Date.now();if(K.raw.FC(j.byteLength))return[K.raw.a7i(j)];
var Q=UTIF.decode(j);console.log(Q.slice(0));var a=fj.MM.akf(Q),B=a[0];if(B){UTIF.decodeImage(j,B,Q);
for(var m in Q[0])if((m[0]=="t"||m[0]=="e"||m[0]=="d")&&B[m]==null)B[m]=Q[0][m];B.u6=Q[0].t274?Q[0].t274[0]:1;
return[B]}var R=[];for(var v=0;v<Q.length;v++){var q=Q[v],U=null,X=72;UTIF.decodeImage(j,q,Q);if(q.t258&&q.t258[0]==16&&q.t277&&q.t277[0]==1){var l=0,b=0,D=0,c=q.data;
for(var _=0;_<c.length;_+=2){var p=c[_+1]<<8|c[_];if(p>l)l=p;b+=p;D++}U=1/256*65535/(.5*l+.5*(2*b/D))}var g=q.t282,F=q.t296;
if(g!=null&&F!=null){X=g[0][0]/g[0][1];if(F[0]==3)X=Math.round(X/2.54)}if(q.width==null)continue;var k=UTIF.toRGBA8(q,U).buffer,I=bZ.Eq(q);
console.log(q);R.push({nJ:new b4(0,0,q.width,q.height),data:k,Mp:X,bc:I,tb:q.t34675?q.t34675.slice(0):null})}return R};
fj.MM.OR=function(j,n,Q,a){if(a==null)a=[!1];var B={},m=j[0];if(m[3]!=null&&a[0])B=bZ.UU(m[3]);if(m[2]!=null){B.t282=B.t283=[[Math.round(m[2]),1]];
B.t296=[2]}return UTIF.encodeImage(m[0],n,Q,B)};fj.lT={};fj.lT.ps=!0;fj.lT.z5=function(j,n){var Q=UTIF.decode(j),a=Q[0],q=0;
n.q=a.t256[0];n._=a.t257[0];n.buffer=K.U(n.q*n._*4);n.$T=!1;n.v3=a.t258[0];n.ee=3;var B=a.t37724.slice(36),m=L.AP(B,0,4)=="MIB8";
cO.iq(B,0,B.length,n.add,!1,n,m);var R=m?L.vS:L.St;while(q<B.length){var U=L.Xv(B,q,m);q+=4;var l=L.Xv(B,q,m);
q+=4;var b=R(B,q);q+=4;if(l=="Layr"){hz.Qg(n,B,q,m);for(var v=0;v<n.T.length;v++){var D=n.T[v];if(D.add.vstk)D.tI(n)}}q+=b;
if((b&3)!=0)q+=4-(b&3)}};fj.a3E={};fj.a3E.z5=function(j){j=new Uint8Array(j);var n=8,Q,a=0;while(n<j.length){var B=L.AP(j,n,4),m=L.St(j,n+4);
if(B.startsWith("ic")){var R=j.slice(n+8,n+m),q=fj.Ot(R.buffer),U=fj.Mi(q),l=U.z5(R.buffer),b=l[0].nJ.$();
if(b>a){a=b;Q=l}}n+=m}return Q};fj.fp={};fj.fp.ps=!0;fj.fp.z5=function(j,n){hz.by(j,n)};fj.fp.axz=function(j,n,Q,a){if(a==null)a=[!1,!1,!1,!1,!1];
if(!a[0])j.rd();var B=new e3,m=hz.mH(j,B,a);return[B.data.buffer,m]};fj.fp.OR=function(j,n,Q,a){var B=fj.fp.axz(j,n,Q,a),m=B[0],R=B[1];
return m.byteLength==R?m:m.slice(0,R)};fj.XM={};fj.XM.ps=!0;fj.XM.z5=function(j,n){var Q=pako.inflate(new Uint8Array(j)),a=L.oN(Q,0),B=L.oN(Q,2),m=4;
n.q=L.St(Q,m);m+=4;n._=L.St(Q,m);m+=4;n.buffer=K.U(n.q*n._*4);var R=L.oN(Q,m);m+=2;m+=4;for(var q=0;
q<R;q++){var U=n.JL(),p=0,i=1,M=2,W=3,$=0;n.T.push(U);var l=L.St(Q,m);m+=4;var b=m,D=L.oN(Q,b);b+=2;
var c=L.Cl(Q,b,D);b+=D;U.kw(c);var _=Q[b];b++;if(_!=0&&_!=1)throw _;U.s.x=L.q_(Q,b);b+=4;U.s.y=L.q_(Q,b);
b+=4;U.s.q=L.St(Q,b);b+=4;U.s._=L.St(Q,b);b+=4;if(a>3){p=L.q_(Q,b);b+=4}U.wT=Math.round(255*Q[b]/100);
b++;var X=Q[b];b++;U._a(X!=0);U.TM="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[Q[b]];
b++;var g=Q[b];b++;if(g)U.add.lspf=1<<31;if(a>3){var F=L.oN(Q,b);b+=2;if(F!=0){var k=JSON.parse(L.Cl(Q,b,F));
b+=F;var I=k.text,e=k.textSettings,H=e.font,A=e.size,Z=e.padding,J=parseInt(e.color.slice(1),16);U.add.lnsr="rend";
U.add.TySh=eR.N0(0,0);U.add.TySh.v$=new b4(0,0,100,100);var s=U.add.TySh.C=new j8,E=U.s.q/2,z=U.s._/2;
s.translate(-E,-z);s.rotate(-p*Math.PI/180);s.translate(E,z);s.translate(U.s.x+Z,U.s.y+Z);var h=U.add.TySh.Kt;
eR.dY(h,1);eR.gG(h,[0,0,U.s.q-Z*2,U.s._]);eR.Yr(h,0,I);var d=eR.JB(h,0,1);d.RW.FontSize=A;d.RW.FillColor={Type:1,Values:[1,(J>>>16&255)/255,(J>>>8&255)/255,(J>>>0&255)/255]};
if(e.bold)H+="-Bold";eR.em(d,H);d.w$.Justification=["left","right","center"].indexOf(e.align);eR.A0(h,0,I.length,d)}}var Y=L.St(Q,b);
b+=4;if(Y!=U.s.$()*4){for(var v=U.s.q;v>U.s.q/2;v--){var C=Y/(v*4);if(C==Math.round(C)){U.s.q=v;U.s._=C;
break}}}U.buffer=K.U(U.s.$()*4);if(a>3){i=0;M=1;W=2;$=3}for(var v=0;v<Y;v+=4){U.buffer[v]=Q[b+v+i];U.buffer[v+1]=Q[b+v+M];
U.buffer[v+2]=Q[b+v+W];U.buffer[v+3]=Q[b+v+$]}b+=Y;var P=L.St(Q,b);b+=4;if(P==0&&a>3){m+=l;continue}var O=Q[b];
b++;var G=L.oN(Q,b);b+=2;if(P!=0){U.N=new f.km;U.N.s=U.s.O();U.N.G=K.U(U.s.$());for(var v=0;v<P;v+=4)U.N.G[v>>>2]=Q[b+v+1];
b+=P}if(O!=0){var t=JSON.parse(g8.default);U.add.lmfx=t;for(var v=0;v<g8.order.length;v++)t[g8.Ub[v]]={t:"VlLs",v:[]};
var y={"102":9,"101":2,"103":0,"104":3,"105":8};for(var v=0;v<O;v++){var r=L.oN(Q,b),u=b+r+4,S=Q.slice(b,u),w=Q[b+2];
b+=3;var dj=y[w+""],o=JSON.parse(g8.sp[dj]);t[g8.Ub[dj]].v.push({t:"Objc",v:o});if(dj!=0){o.Md.v.BlnM=af.sr("norm");
o.Opct.v.val=Q[b];b++;if(dj==9||dj==2){o.Dstn.v.val=Q[b+1];b+=2}else b+=2;o.blur.v.val=Math.round(Q[b]*1.2);
b++;if(dj==9||dj==2){o.uglg.v=!1;o.lagl.v.val=180-L.oN(Q,b);b+=2}o.Clr.v=K.Gp.Db({n:Q[b+1],i:Q[b+2],b:Q[b+3]})}else{o.hglM.v.BlnM=o.sdwM.v.BlnM=af.sr("norm");
b+=2;var T=Q[b++],i6=Q[b++];o.blur.v.val=Math.round(Math.sqrt(i6*T)*1.3);o.srgR.v.val=Math.round(100*T/i6);
o.uglg.v=!1;o.lagl.v.val=180-L.oN(Q,b);b+=2;o.hglO.v.val=Q[b++];o.hglC.v=K.Gp.Db({n:Q[b+1],i:Q[b+2],b:Q[b+3]});
b+=4;o.sdwO.v.val=Q[b++];o.sdwC.v=K.Gp.Db({n:Q[b+1],i:Q[b+2],b:Q[b+3]});b+=4}b=u}}if(b-m<l){var bH=L.St(Q,b),hH=0;
b+=4;b++;var D=L.oN(Q,b);b+=2;var I=L.Cl(Q,b,D);b+=D;I=I.replace(/\r/g,"\n");var D=L.oN(Q,b);b+=2;var H=L.Cl(Q,b,D);
b+=D;var A=L.oN(Q,b);b+=2;var cg=U.s.x,bu=U.s.q;if(bH&4)hH=1;if(bH&2)hH=2;var dK=Math.round(A*.4);if(hH==0||hH==2)bu+=dK;
if(hH==1||hH==2){bu+=dK;cg-=dK}U.add.lnsr="rend";U.add.TySh=eR.N0(0,0);U.add.TySh.v$=new b4(0,0,100,100);
U.add.TySh.C=new j8(1,0,0,1,cg,U.s.y+A*.25);var h=U.add.TySh.Kt;eR.dY(h,1);eR.gG(h,[0,0,bu,U.s._]);eR.Yr(h,0,I);
var d=eR.JB(h,0,1);d.RW.FontSize=A;d.RW.FillColor={Type:1,Values:[1,Q[b+1]/255,Q[b+2]/255,Q[b+3]/255]};
b+=4;if(Q[b+5])H+="-Bold";if(Q[b+6])H+="-Italic";eR.em(d,H);d.w$.Justification=hH;b+=8;eR.A0(h,0,I.length,d)}m+=l}};
fj.dJ={};fj.dJ.ps=!0;fj.dJ.z5=function(j,n){var Q=UZIP.parse(j),a=JSON.parse(L.Cl(Q["manifest.json"].buffer));
n.q=a.width;n._=a.height;n.buffer=K.U(n.q*n._*4);n.name=a.name+".psd";var B=a.stack;for(var m=0;m<B.length;
m++){var R=B[m],q=R.type,U=R.rect,l=R.format,b=n.JL();b.kw(R.name);b._a(R.visible);b.wT=Math.round(255*R.opacity);
var D=b.s=new b4(U.x,U.y,U.w,U.h),c=U.r;if(c==null)c=0;n.T.push(b);if(q=="image"&&c!=0||q=="shape"&&l.variant=="svg"){var _=n.$D(Q[R.content],b.getName(),0,0);
_.G$=b.G$;_.wT=b.wT;b=_;n.T.pop();n.T.push(b);var p=K.c.yc(D).g;K.c.C(p,fj.dJ.Ep(D,c),p);b.add.SoLd.Trnf=N.IP.ob(p);
b.add.SoLd.nonAffineTransform=N.IP.ob(p);b.pS(n,!1)}else if(q=="image"){if(D.$()!=0){var X=Q[R.content].buffer,g=fj.Ot(X),F=fj.Mi(g),k=F.z5(X)[0];
D.q=k.nJ.q;D._=k.nJ._;b.buffer=new Uint8Array(k.data)}}else if(q=="shape"){b.G$|=16;var I=b.add.vstk=g8.o0.cL(!0),e=b.add.vmsk=new f.hx,H;
b.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}};var A=l.variant,Z=l.fill;if(A=="rectangle"||A=="rounded"){H=K.R.hi.Rect(D.x,D.y,D.q,D._,l.radii)}else if(A=="ellipse"){H=K.R.hi.$v(D.x,D.y,D.q,D._)}else if(A=="path"){var J=Typr.U.SVGToPath(R.content),s={rZ:J.cmds,g:J.crds};
H=K.c.TW(s);var E=K.R.sR(H);K.R.fK(H,new j8(D.q/E.q,0,0,D._/E._,D.x,D.y))}else console.log(l);b.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}};
if(Z==null){I.fillEnabled.v=!1}else if(Z.type=="color"){b.add.SoCo.Clr.v=K.Gp.Db(CSS.qH(Z.value))}else if(Z.type=="gradient"){delete b.add.SoCo;
var z=b.add.GdFl=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]),h=z.Grad.v;h.Intr.v=0;var d=[],Y=Z.value.stops;
for(var v=0;v<Y.length;v++){var C=Y[v],i=CSS.qH(C.color);d.push([C.position,[i.n/255,i.i/255,i.b/255]])}K.Gp.wM(d,h);
z.Angl.v.val=-(Z.value.direction+c)+90+180}else console.log(Z);var M=fj.dJ.Ep(D,c);K.R.fK(H,M);var W=R.style;
if(W&&W.outline){var $=W.outline;I.strokeEnabled.v=!0;I.strokeStyleLineWidth.v.val=$.size;I.strokeStyleContent.v.Clr.v=K.Gp.Db(CSS.qH($.color))}e.z=H;
b.sU();b.tI(n)}else if(q=="text"){b.add.lnsr="rend";b.add.TySh=eR.N0(0,0);b.add.TySh.v$=new b4(0,0,100,100);
var P=b.add.TySh.Kt;eR.dY(P,1);eR.gG(P,[0,0,D.q,D._]);var O=R.content;eR.Yr(P,0,O);var G=eR.JB(P,0,Math.min(O.length,1));
eR.em(G,l.font.name);var t=G.RW.FontSize=Math.round(l.size);if(l.fill&&l.fill.value){var y=CSS.qH(l.fill.value);
G.RW.FillColor={Type:1,Values:[1,y.n/255,y.i/255,y.b/255]}}var r=l.linespace;if(r){G.RW.AutoLeading=!1;
G.RW.Leading=Math.round(t*(1.06+parseFloat(r)));console.log(r,G.RW)}G.RW.FauxBold=l.bold;G.w$.Justification=["left","right","center","justify"].indexOf(l.align);
eR.A0(P,0,O.length,G);b.add.TySh.C=new j8(1,0,0,1,D.x+Math.round(t*.1),D.y+Math.round(t*.1));b.s=new b4}else console.log(R)}n.HM=!0};
fj.dJ.Ep=function(j,n){var Q=j.x+j.q/2,a=j.y+j._/2,B=new j8;B.translate(-Q,-a);B.rotate(-n*Math.PI/180);
B.translate(Q,a);return B};fj.Q$={};fj.Q$.ps=!0;fj.Q$.z5=function(j,n){b5.by(j,n)};var b5=function(){function j(D,c){var _=Date.now(),p=UZIP.parse(D),X=p["maindoc.xml"],g=new DOMParser,F=g.parseFromString(L.Cl(X),"image/svg+xml").children[0].children[0],k=F.getAttribute("name"),I=c.q=l(F,"width"),e=c._=l(F,"height");
c.Mp=Math.round(l(F,"x-res"));var H=F.children[0].children;n(H,c,{PD:k,N2:p,Zs:null});console.log(Date.now()-_);
_=Date.now()}function n(D,c,_){for(var p=0;p<D.length;p++){var X=D[D.length-1-p],g=X.getAttribute("nodetype");
if(g=="transparencymask"){_.Zs.N=b(X,_);continue}var F=X.getAttribute("compositeop"),k=X.getAttribute("filename"),I=X.getAttribute("channelflags"),e=X.children;
e=e.length==0?null:e[0].children;var H=c.JL();if(g=="paintlayer"){var A=l(X,"x"),Z=l(X,"y"),J=_.N2[_.PD+"/layers/"+k+".defaultpixel"],s=_.N2[_.PD+"/layers/"+k],E=U(s);
H.s=E[0];H.s.offset(A,Z);H.buffer=E[1];if(H.s.ke()&&J.join()!="0,0,0,0"){H.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:J[0],i:J[1],b:J[2]})}};
H.tI(c)}}else if(g=="grouplayer"){H.add.lsct=fM.ko;H.TM="pass";H.G$|=24;c.T.push(c.v4());var z=_.Zs;
_.Zs=H;n(e,c,_);_.Zs=z}else if(g=="shapelayer"){var s=_.N2[_.PD+"/layers/"+k+".shapelayer/content.svg"],h=L.Cl(s),d=c.$D(s,H.getName(),0,0);
H=d;var Y=new b4(0,0,c.q,c._),C=K.c.yc(Y).g;H.add.SoLd.Trnf=N.IP.ob(C);H.add.SoLd.nonAffineTransform=N.IP.ob(C);
H.pS(c,!1)}else if(g=="clonelayer"){var v=-1;for(var i=0;i<D.length;i++)if(D[i].getAttribute("name")==X.getAttribute("clonefrom"))v=i;
if(v!=-1){n([D[v]],c,_);H=c.T.pop()}}else console.log(g,X);H.kw(X.getAttribute("name"));if(l(X,"locked")==1)H.add.lspf=1<<31;
H._a(l(X,"visible")==1);var M={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[F];if(M)H.TM=M;
else console.log(F);H.wT=l(X,"opacity");if(I=="1110")H.U7=!0;var W=e?e[0]:null;if(W&&W.tagName=="mask")H.N=b(W,_);
c.T.push(H)}}function Q(D,c){var _=0,p=0,X=D.length,g,F,k;while(_<X){g=D[_++];if(g>31){F=g>>>5;if(F==7)F=7+D[_++];
k=(g&31)<<8|D[_++];var I=p-k-1,e=F>>>1;c[p++]=c[I++];c[p++]=c[I++];for(var v=0;v<e;v++){c[p++]=c[I++];
c[p++]=c[I++]}if((F&1)==1)c[p++]=c[I++]}else{for(var v=0;v<=g;v++){c[p++]=D[_++]}}}}function a(D,c){var _=0;
while(D[c+_]!=10)_++;return L.AP(D,c,_)}var B=new b4(0,0,64,64),m=new Uint8Array(64*64*4),R=new Uint8Array(64*64*4);
function q(){for(var v=0;v<4096;v++){var D=v<<2;m[D+0]=R[v+8192];m[D+1]=R[v+4096];m[D+2]=R[v];m[D+3]=R[v+12288]}}function U(D){var c=0,_={};
for(var v=0;v<5;v++){var p=a(D,c);c+=p.length+1;p=p.split(" ");_[p[0]]=parseInt(p[1])}var X=_.PIXELSIZE,g=[],F=new b4;
while(c<D.length){var p=a(D,c),k=p.split(",");c+=p.length+1;if(k[2]!="LZF")throw k[2];B.x=parseInt(k[0]);
B.y=parseInt(k[1]);F=F.d_(B);var I=parseInt(k[3]);g.push([B.O(),new Uint8Array(D.buffer,c+1,I-1)]);c+=I}var e=K.U(F.$()*X);
for(var v=0;v<g.length;v++){var H=g[v];Q(H[1],R);if(X==4){q();K.EC(m,H[0],e,F)}else K.Gc(R,H[0],e,F)}return[F,e]}function l(D,c){return parseInt(D.getAttribute(c))}function b(D,c){var _=D.getAttribute("filename"),p=c.N2[c.PD+"/layers/"+_+".pixelselection"],X=U(p),g=new f.km;
g.s$=l(D,"visible")==1;g.s=X[0];g.G=X[1];return g}return{by:j}}();fj.Nh={};fj.Nh.ps=!0;fj.Nh.z5=function(j,n){dp.by(j,n)};
fj.tF={};fj.tF.z5=function(j){var n=new Uint8Array(j),Q=fj.tF.wY(n,0,0),a=Q.sub[2],B=fj.tF.aqk(n,a),m=Q.sub[3],R=fj.tF.aqk(n,m);
return[B,R]};fj.tF.aqk=function(j,n){var Q=n.sub[n.sub.length-1],a=Q.sub[0].k,B=Q.sub[1].k,m=j.slice(a,a+16),R=j.slice(B,B+Q.sub[1].size),q=L.vS,U=j[a],l=q(j,a+1),b=q(j,a+5),D=j[a+13],c=new b4(0,0,l,b),_=K.U(l*b*4);
if(D){K.G5(_,4278190080)}else{UTEX.readBC1(j,B,_,l,b)}return{nJ:c,data:_}};fj.tF.wY=function(j,n,Q){var a=L.AP,B=L.vS,m=a(j,n,4);
m=m.split("").reverse().join("");var R=B(j,n+4);if(R!=0){console.log(j.slice(n-8));throw R}var q=B(j,n+8);
while((q&3)!=0)q++;var U={A8:m,k:n+12,size:q};if(m=="CARF"||m=="CTEX"||m=="CREW"||m=="BMAP"){U.sub=[];
n+=12;if(m=="CTEX"||m=="CREW")n+=32;var l=U.k+U.size;while(n<l){var b=fj.tF.wY(j,n,Q+1);U.sub.push(b);
n+=12+b.size+(b.size&1)}}return U};fj.mu={};fj.mu.ps=!0;fj.mu.z5=function(j,n){k4.by(j,n)};fj.W_={};
fj.W_.ps=!0;fj.W_.z5=function(j,n){g6.by(j,n)};fj.CZ={};fj.CZ.ps=!0;fj.CZ.z5=function(j,n){jX.by(j,n)};
fj.vU={};fj.vU.ps=!0;fj.vU.z5=function(j,n){d_.by(j,n)};fj.Rm={};fj.Rm.ps=!0;fj.Rm.z5=function(j,n){fH.by(j,n)};
fj.NS={};fj.NS.ps=!0;fj.NS.OR=function(j,n,Q,a,B,m){if(a==null)a=[!0,!1,!1,!1,!0];var R=hI.zw(j,{Cb:a[0],hidden:a[1],a2s:a[2],akr:a[3],k2:a[4],ajE:n,azR:Q},B.wR,m);
return R};fj.NS.z5=function(j,n,Q){hI.by(j,n,Q)};fj.sm={};fj.sm.ps=!0;fj.sm.z5=function(j,n){var Q=150,a=new j8(1,0,0,-1,0,0);
a.scale(Q/72,Q/72);n.Mp=Q;var B=new fs(n,a,!0);FromPS.Parse(j,B)};fj.u0={};fj.u0.ps=!0;fj.u0.OR=function(j,n,Q,a,B){if(a==null)a=["",100,!1,!1,!1,0,!1];
a[7]=["jpg"];var m=new ToPDF;ca.zw(j,a,m,B.wR,n,Q);return m.buffer};fj.u0.z5=function(j,n,Q){var a=2;
while(!0){var B=a*72,m=new j8(1,0,0,-1,0,0);m.scale(B/72,B/72);n.Mp=B;var R=new fs(n,m,!0);FromPDF.Parse(j,R);
var q=Math.max(n.q,n._);if(Q&&q<Math.max(Q[0],Q[1])){n.T=[];var U=a;while(q*(a/U)<Math.max(Q[0],Q[1]))a++}else break}};
fj.qk={};fj.qk.ps=!0;fj.qk.z5=function(j,n){var Q=72,a=new j8(1,0,0,1,0,0);a.scale(Q/72,Q/72);n.Mp=Q;
var B=new fs(n,a,!1);FromWMF.Parse(j,B)};fj.LM={};fj.LM.a6=!0;fj.LM.ps=!0;fj.LM.OR=function(j,n,Q,a,B){if(a==null)a=["",100,!1,!1,!1,0,!1];
a[7]=[];var m=new ToEMF;ca.zw(j,a,m,B.wR);return m.buffer};fj.LM.z5=function(j,n){var Q=72,a=new j8(1,0,0,1,0,0);
a.scale(Q/72,Q/72);n.Mp=Q;var B=new fs(n,a,!1);FromEMF.Parse(j,B)};fj.Pt={};fj.Pt.ps=!0;fj.Pt.z5=function(j,n){return f3.by(j,n)};
fj.axb={};fj.axb.z5=function(){var j,n,Q,a,B,m,R=0,q=0,U=0,l=0,b=0,k="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",I=null;
function D(e){var H=c8.by(e),A=H.TF,h=0,d,Y;console.log(H);var Z=new Uint8Array(e);if(A=="ILBM")return c(H,Z);
if(A=="CIMG")return X(H,Z);if(A=="ANIM"&&H.sub[0].A8=="ADAT")return F(H,Z);if(A!="ANIM")throw A;var J=L.oN,s=L.St,E=H.sub,z=c(E[0],Z);
for(var C=1;C<E.length-2;C++){var i=z[Math.max(0,C-2)].apJ.slice(0),M=E[C];for(var W=0;W<M.sub.length;
W++){var $=M.sub[W],P=$.k;if($.A8=="ANHD"){var O=Z[P++];if(O!=5)throw O;var a=Z[P++],G=J(Z,P),t=J(Z,P+2);
if(G!=0&&G!=j)throw G;if(t!=0&&t!=n)throw t;var y=J(Z,P+4),r=J(Z,P+6);if(y!=0||r!=0)throw y;P+=8;var u=J(Z,P);
P+=2;d=J(Z,P);P+=2;if(Z[P++]!=0)throw"e";if(Z[P++]!=0)throw"e";Y=J(Z,P);P+=2}else if($.A8=="DLTA"){var S=[],o=P;
for(var v=0;v<16;v++)S.push(s(Z,P+v*4));P+=64;var T=m;for(var i6=0;i6<B;i6++){if(S[i6]==0)continue;P=o+S[i6];
for(var bH=0;bH<T;bH++){var cg=Z[P++],bu=0;if(cg==0)continue;for(var v=0;v<cg;v++){var hH=Z[P++];if(hH==0){var dK=Z[P++],d8=Z[P++];
for(var d1=0;d1<dK;d1++){i[(bu*B+i6)*T+bH]=d8;bu++}}else if(hH<128){bu+=hH}else{hH-=128;for(var d1=0;
d1<hH;d1++){i[(bu*B+i6)*T+bH]=Z[P+d1];bu++}P+=hH}}}}}else console.log($.A8)}if(C==1&&d>100)d=0;var kh=d==0?17:Math.round((d-h)*1e3/60);
z.push({data:p(Z,i).buffer,nJ:new b4(0,0,j,n),apJ:i,YU:"_a_frm"+C+","+kh});h=d}if(U!=0&&j>n*2){var ay=new Uint32Array(j*n*2);
ay.fill(4294967295);for(var C=0;C<z.length;C++){var f4=z[C],jb=new Uint32Array(f4.data);for(var bu=0;
bu<n;bu++){var jT=bu*2;for(var bH=0;bH<j;bH++)ay[jT*j+bH]=jb[bu*j+bH];jT++;for(var bH=0;bH<j;bH++)ay[jT*j+bH]=jb[bu*j+bH]}f4.nJ._*=2;
f4.data=ay.slice(0).buffer}}return z}function c(e,H){var A,Z,J;R=0;q=0;l=0;b=0;U=0;for(var s=0;s<e.sub.length;
s++){var E=e.sub[s],z=E.k;if(E.A8=="BMHD"){var h=[];for(var v=0;v<4;v++)h[v]=L.oN(H,z+2*v);z+=8;var d=h[2],Y=h[3];
j=h[0];n=h[1];Q=H[z++];a=H[z++];J=H[z++];if(J!=0&&J!=1)throw J;m=j+15>>>4<<1;B=Q+a}else if(E.A8=="CMAP")R=z;
else if(E.A8=="CAMG"){var C=L.St(H,z);q=C&32768,U=C&4,l=C&2048;b=C&128}else if(E.A8=="BODY"){Z=K.U(m*n*B);
if(J==0)Z=H.slice(z,z+Z.length);if(J==1)iz._C(H,z,E.size,Z,0,Z.length)}else if(E.A8=="PLTP"){console.log(H.slice(z,z+E.size))}}A=p(H,Z);
return[{nJ:new b4(0,0,j,n),data:A.buffer,apJ:Z}]}function _(e,dv){return e[dv>>>3]>>>7-(dv&7)&1}function p(e,H){var A=Q-2,Z=(1<<A)-1,J=Math.round(255/Z),s,E,z,h=m*8;
if(R!=0){var d=1<<Q,Y=!0;for(var v=1;v<d;v++){var C=R+v*3;if(e[C]!=e[C-3]||e[C+1]!=e[C-2]||e[C+2]!=e[C-1]&&e[C+2]!=e[C-1]+1)Y=!1}if(Y){for(var v=0;
v<d;v++){var C=R+v*3,i=Math.round(v*255/(d-1));e[C]=e[C+1]=e[C+2]=i}}}var M=K.U(j*n*4);for(var W=0;W<n;
W++)for(var $=0;$<j;$++){var P=0;for(var O=0;O<B;O++){var G=(W*B+O)*h+$,t=_(H,G);P|=t<<O}P=P&(1<<Q)-1;
var v=W*j+$,y=v<<2;if(R!=0){if(l!=0&&P>>>A!=0){var r=P>>>A,u=(P&Z)*J;if(r==1)z=u;else if(r==2)s=u;else if(r==3)E=u}else{var u=R+P*3;
s=e[u+0];E=e[u+1];z=e[u+2]}}else{if(Q==24){s=P>>>0&255;E=P>>>8&255;z=P>>>16&255}else if(Q==16){var S=0,w=1,o=4;
for(var O=0;O<16;O++)S+=(P>>>O&1)<<15-O;var dj=(1<<w)-1,T=(1<<o)-1;s=(S>>>7&dj)*(255/dj);E=z=s}else throw Q}M[y+0]=s;
M[y+1]=E;M[y+2]=z;M[y+3]=255}return M}function X(e,H){var A=1,Z=2,J=4,s=L.St,E=L.oN,j=200,n=200,z,h,d,Y;
for(var C=0;C<e.sub.length;C++){var i=e.sub[C],M=i.k;if(i.A8=="TBHD"){j=s(H,M);M+=4;n=s(H,M);M+=4;Y=K.U(j*n*4);
d=new b4(0,0,j,n);M+=4;var W=s(H,M);M+=4;var $=E(H,M);M+=2;if($!=0)throw"e";h=E(H,M);M+=2;var P=s(H,M);
M+=4;if(P!=1)throw P;z=0;if(W&A)z+=3;if(W&Z)z+=1}if(i.TF=="TBMP"){var O=i.sub;for(var G=0;G<O.length;
G++){var t=O[G].k,y=O[G].size,r=E(H,t),u=E(H,t+2),S=E(H,t+4)-r+1,w=E(H,t+6)-u+1;t+=8;var dj=K.U(S*w*4),o=K.U(S*w);
dj.fill(255);for(var v=0;v<4;v++){t=g(H,t,y-8,o,0);K.wj(o,dj,3-v)}if(t!=O[G].k+y)throw"e";K.EC(dj,new b4(r,u,S,w),Y,d)}}}return[{nJ:d,data:Y.buffer}]}function g(e,H,A,Z,J){var s=H;
while(J<Z.length){var E=e[H++],jw=(E&127)+1;if(E&128){E=e[H++];for(var v=0;v<jw;++v)Z[J++]=E}else{for(var v=0;
v<jw;++v)Z[J++]=e[H++]}}return H}function F(e,H){if(I==null){var A=fj.iz(k);I=new Uint32Array(pako.inflate(new Uint8Array(A)).buffer)}var Z=L.St,J=L.oN,s=e.sub[0],E=e.sub[1],j=J(H,s.k),n=J(H,s.k+2),z=J(H,s.k+4),i,v,M,W,$,P;
if(z!=3)throw z;var h=new b4(0,0,j,n),d=K.U(j*n*4),Y=K.U(j*n);d.fill(255);var C=new Uint32Array(d.buffer),O=E.k;
for(W=0;W<2;W++){P=W;$=0;i=Math.floor((j*n+2-W-1)/2);while(i>0){v=H[O++];if(v&128){v=257-v;i-=v;M=H[O++];
$=$&I[M]|I[M+256];do{C[P]=$;P+=2}while(--v)}else{v++;i-=v;do{M=H[O++];C[P]=$=$&I[M]|I[M+256];P+=2}while(--v)}}}for(var v=0;
v<d.length;v+=4){var G=d[v+3],t=d[v+2],y=d[v+1];d[v]=G;d[v+1]=t;d[v+2]=y;d[v+3]=255}for(var r=0;r<n>>>1;
r++){for(var u=0;u<j;u++){var v=r*j+u,M=(n-1-r)*j+u,S=C[v];C[v]=C[M];C[M]=S}}return[{nJ:h,data:d.buffer}]}return D}();
fj.BY={};fj.BY.ps=!1;fj.BY.OR=function(j,n,Q,a){var B=j[0][4],m=new Uint8Array(j[0][0]),R=2,q=B?!0:!1,U=q?4:3,l=new Uint8Array(n*Q*U);
for(var b=0;b<Q;b++)for(var D=0;D<n;D++){var c=b*n+D<<2,_=((Q-b-1)*n+D)*U;l[_]=m[c+2];l[_+1]=m[c+1];
l[_+2]=m[c+0];if(q)l[_+3]=B[0][b*n+D]}if(!0){var p=l.length,X=0,g=new Uint8Array(p*2),F=0,k=0,I=n*U;
while(k<p){var e=k,H=0,A=I*(Math.floor(k/I)+1);while(e<A&&H<128){var Z=!0;for(var v=0;v<U;v++)Z=Z&l[k+v]==l[e+v];
if(!Z)break;e+=U;H++}if(H==1){var J=1;while(J<128&&k+(J+1)*U<A){var Z=!0,s=k+J*U;for(var v=0;v<U;v++)Z=Z&l[s+v]==l[s+U+v];
if(Z)break;J++}g[F++]=J-1;for(var E=0;E<J;E++)for(var v=0;v<U;v++)g[F++]=l[k++]}else{g[F++]=127+H;for(var v=0;
v<U;v++)g[F+v]=l[k+v];F+=U;k+=U*H;X+=H}}l=g.slice(0,F);R+=8}var z=new Uint8Array(18+l.length+26);z[2]=R;
L.Oo(z,12,n);L.Oo(z,14,Q);z[16]=U*8;z[17]=U==4?8:0;z.set(l,18);L.ey(z,18+l.length+8,"TRUEVISION-XFILE.");
return z.buffer};fj.BY.z5=function(j){var n=new Uint8Array(j),Q=0,a=n[0],B=n[1],m=n[2],R=n[4]*256+n[3],q=n[6]*256+n[5],U=n[7],l=n[9]*256+n[8],b=n[11]*256+n[10],D=n[13]*256+n[12],c=n[15]*256+n[14],_=n[16],p=n[17],X=p>>>4,g=L.AP(n,18,a),F=K.U(D*c*4),Q=18+a+(q*U>>>3),k=new Uint8Array(n.buffer,Q);
if(m>3){var I=0,e=n,H=new Uint8Array(D*c*_>>>3),A=Q,Z=0,J=n.length,s=_>>>3;while(Z<H.length){var dv=e[A];
A++;if(dv<128)for(var v=0;v<dv+1;v++){for(var E=0;E<s;E++){H[Z]=e[A];Z++;A++}}else{for(var v=0;v<dv-127;
v++){for(var E=0;E<s;E++){H[Z]=e[A+E];Z++}}A+=s}}m-=8;k=H;Q=A}else Q+=D*c*_>>>3;var z=new Uint8Array(4),h=fj.BY.afs;
for(var d=0;d<c;d++)for(var Y=0;Y<D;Y++){var C=(X&2)==0?(c-d-1)*D+Y:d*D+Y,i=d*D+Y,M,W,$,P=255,O=C*_>>>3;
if(m==1){var G=0;if(_==8)G=k[O];else throw"e";h(n,18+a+R+(G*U>>>3),U,z);M=z[0];W=z[1];$=z[2];P=z[3]}else if(m==2){h(k,O,_,z);
M=z[0];W=z[1];$=z[2];P=z[3]}else if(m==3){if(_==8)M=W=$=k[O];else throw"e"}var t=i*4;F[t]=M;F[t+1]=W;
F[t+2]=$;F[t+3]=P}var z={nJ:new b4(0,0,D,c),data:F.buffer,YU:g};if(K.QX(F)){var y=K.U(D*c);K._W(F,y,3);
K.b7(F,255,1);z.Kj=[y]}return[z]};fj.BY.afs=function(j,n,Q,a){var B,m,R,q=255;if(Q==24||Q==32){R=j[n];
m=j[n+1];B=j[n+2];if(Q==32)q=j[n+3]}else if(Q==16){var U=j[n+1]<<8|j[n+0];B=U>>>10&31;m=U>>>5&31;R=U>>>0&31;
B=Math.round(B*(255/31));m=Math.round(m*(255/31));R=Math.round(R*(255/31))}else throw"e";a[0]=B;a[1]=m;
a[2]=R;a[3]=q};fj.aDd=function(){var j,n=[],Q=!1;function a(R,q,U,l){j=U;n.push(R,l);B()}function B(){if(Q||n.length==0)return;
Q=!0;fj.an1(n.shift(),"image/avif",m)}function m(R){j(null,[R],n.shift());Q=!1;B()}return{ps:!1,VB:!0,z5:a}}();
fj.avm=function(){var j,n=[],Q,a=!1,B=null,m=null,U;function R(D,c,_,p){j=_;n.push(D,p);q()}function q(){if(a||n.length==0)return;
a=!0;if(B==null){B=V.d("iframe");B.setAttribute("src","code/ext_formats/formatsLoader.html");V.v(B,"display:none");
window.addEventListener("message",b,!1);document.body.appendChild(B)}else l()}async function l(){var D=n.shift(),c=new Uint8Array(D),_=new Blob([D]);
U=Date.now();B.contentWindow.postMessage({subject:"open",body:_});var p=L._8(c,"Exif\0\0MM");Q=null;
if(p!=-1){var X=UTIF.decode(D.slice(p+6));Q=bZ.Eq(X[0])}}function b(D){var c=D.data,_=c.subject;if(_=="rdy")l();
else if(_=="img"){var p=c.body,X={nJ:new b4(0,0,p.width,p.height),data:p.data.buffer,bc:Q};j(null,[X],n.shift());
a=!1;q()}else console.log(c)}return{ps:!1,VB:!0,z5:R}}();fj.ayM=function(){var j,n=[],Q=10,R,q,U,l=0,b,D,c;
async function a(k,I,e,H,A){j=e;n.push(k,H);var Z=new hC(new Blob([k])),J=(await Z.PV()).n8;console.log(J);
var b=J.width,D=J.height,s=J.ae,E=s/J.ZN,z=s/E,h=b+" \xD7 "+D+" px, "+s+" frames, "+je.LK(b*D*4*s)+" decoded<br/>";
h+=E.toFixed(2)+" seconds, "+z.toFixed(2)+" FPS";var d=new ar(x.E.B,!0);d.data={Q:x.l.Vg,Z8:"setFPS",Xo:Q,yI:B,a9V:h};
A.a(d)}function B(k){Q=Math.max(1,Math.min(60,k));var I=window.VideoDecoder;if(I)m();else _()}async function m(){var k=Date.now(),I=n.shift(),c=[],e=new hC(new Blob([I])),H=(await e.PV()).n8,b=H.width,D=H.height,A=H.ae,Z=A/H.ZN,J=A/Z,s=Math.min(J,Q),E=Math.max(1,Math.round(J/s));
for(var v=0;v<A;v++){if(v%E!=0)continue;var z=await e.aHN(0,v);c.push({YU:"_a_"+c.length+","+Math.round(1e3/s),nJ:new b4(0,0,b,D),data:z.buffer})}j(null,c,n.shift());
if(n.length!=0)m()}function _(){if(n.length==0)return;R=document.createElement("canvas");q=R.getContext("2d");
U=document.createElement("video");var k="data:"+"video/mp4"+";base64,"+fj.cJ(n.shift());U.src=k;U.muted=!0;
U.currentTime=0;U.addEventListener("canplay",p,!1);U.addEventListener("timeupdate",X,!1)}function p(k){U.removeEventListener("canplay",p);
b=R.width=U.videoWidth;D=R.height=U.videoHeight;c=[];U.play()}function X(k){clearTimeout(l);q.drawImage(U,0,0);
c.push({YU:"_a_"+c.length+","+Math.round(1e3/Q),nJ:new b4(0,0,b,D),data:q.getImageData(0,0,b,D).data.buffer});
var I=U.currentTime+1/Q;if(I<U.duration&&k){U.currentTime=I;l=setTimeout(X,1e3)}else{j(null,c,n.shift());
U.removeEventListener("timeupdate",X);_();c=null}}function g(){this.Av=new Uint8Array(1024);this.k=0}g.prototype.write=function(k){var I=this.Av,e=this.k;
if(k instanceof ArrayBuffer)k=new Uint8Array(k);if(k instanceof Uint8Array){while(I.length<e+k.length){var H=new Uint8Array(I.length*2);
H.set(I);I=H}I.set(k,e);e+=k.length}else if(k.w=="write"){I.set(k.data,k.position)}else{console.log(k);
throw"e"}this.Av=I;this.k=e};g.prototype.close=function(){this.Av=this.Av.slice(0,this.k)};async function F(k,b,D,I){var e=b,H=D;
if((b&1)!=0)b++;if((D&1)!=0)D++;var A=b!=e||D!=H,Z=A?K.U(b*D*4):null,J={n8:{Z$:1,ae:k.length,ZN:1e3/k[0][1],width:b,height:D}},s=new g,E=.02*(1+Math.pow(3.2*I[0]/100,2.3)),z=new gm(s,J,E);
for(var v=0;v<k.length;v++){var h=k[v],d=new Uint8Array(h[0]),Y=d;if(A){K.EC(d,new b4(0,0,e,H),Z,new b4(0,0,b,D));
Y=Z}await z.acW(Y,0,v)}await z.finish();return s.Av.buffer}return{ps:!1,VB:!0,z5:a,OR:F}}();fj.vX={};
fj.vX.z5=function(j){var n=new Uint8Array(j),Q=0,a=112,B=42,m=L.vS,b;Q+=8;var R=n[Q];Q++;if(R!=B)throw"e";
var q=m(n,Q);Q+=4;var U=L._2(n,Q,q);Q+=q*2;var l=[];while(Q<n.length){b=m(n,Q);Q+=4;if(b!=a)throw b;
Q+=4;b=n[Q];Q++;if(b!=B)throw b;var D=m(n,Q);Q+=4;var c=n[Q];Q++;if(c!=B){Q-=5;D=m(n,Q);Q+=8;b=n[Q];
Q++;if(b!=B)throw b}var _=m(n,Q)*2;Q+=4;if(D>0)l.push(Q+_);Q+=_+D}var p=new DOMParser,X=p.parseFromString(U,"image/svg+xml").firstChild.firstChild,g=[];
fj.vX.a4i(X,n,l,g);return g};fj.vX.a4i=function(j,n,Q,a){var B=j.firstChild.firstChild;if(B.tagName=="Image"){var m=B.getElementsByTagName("ImageDescription")[0],R=m.children[0].children,q=m.children[1].children,U=Q.shift(),l=[];
for(var v=0;v<q.length;v++)l.push(parseInt(q[v].getAttribute("NumberOfElements")));while(l.length>3)l[2]*=l.pop();
var b=R.length,D=l[0],c=l[1],_=l[2],p=parseInt(q[0].getAttribute("BytesInc"));for(var X=0;X<_;X++){var g=K.U(D*c*4);
g.fill(255);for(var F=0;F<b;F++){var k=K.U(D*c);if(p==1)for(var I=0;I<k.length;I++)k[I]=n[U+I];else if(p==2)for(var I=0;
I<k.length;I++)k[I]=Math.min(255,(n[U+I*2+1]<<8|n[U+I*2])>>>2);else throw p;if(F!=3)K.wj(k,g,F);if(b==1){K.wj(k,g,1);
K.wj(k,g,2)}U+=D*c*p}a.push({nJ:new b4(0,0,D,c),data:g.buffer})}}else{var e=j.children,H=0;while(H<e.length&&e[H].tagName!="Children")H++;
if(H==e.length)throw"e";e=e[H].children;for(var A=0;A<e.length;A++)fj.vX.a4i(e[A],n,Q,a)}};fj.a4o=function(){function j(R,q,U,l,b){var D=new Int8Array(R.buffer),c=new Int8Array(l.buffer),_=q+U;
while(q<_){var dv=D[q];q++;if(dv>=0&&dv<128)for(var v=0;v<dv+1;v++){c[b]=D[q];b++;q++}if(dv>=-127&&dv<0){for(var v=0;
v<-dv+1;v++){c[b]=D[q];b++}q++}}return b}function n(R,q,U,l,b,D){var c=q*U*l>>>3,_=K.U(c*b),p=a(R,0,0,0)[0];
for(var X=0;X<b;X++){var g=p[X+1];if(D){var F=fj.Mi("jpg").z5(g.buffer),k=K.U(c);K.AS(new Uint8Array(F[0].data),k);
_.set(k,c*X)}else if(g[0]==255&&g[1]==216&&g[2]==255){var I=UTIF.LosslessJpegDecode(g);_.set(new Uint8Array(I.buffer),c*X)}else j(g,64,g.length,_,c*X)}return _}function Q(R){var q=new Uint8Array(R),U=0,l=L.AP(q,0,128);
U+=128;var b=L.AP(q,U,4);U+=4;var D=B(q,U,0)[0],c=D.g28;if(c==null){alert("No image.");return[]}var _=c.cols,p=c.rows,X=_*p,g=c.photoInterpret,F=c.bitsAlloc,k=c.bitsStored,I=c.lossyCompr;
if(I==null)I=D.g8.lossyCompr;var e=D.g7fe0.pixelData,H=c.numOfFrames;H=H?parseInt(H):1;var A=new Uint8Array(e.buffer),Z=X*F>>>3;
if(A.length!=Z*H){e=n(e,_,p,F,H,I)}else{}if(F==16)e=new Uint16Array(e.buffer);console.log(c);console.log(D);
var J=[];for(var s=0;s<H;s++){var E=s*Z,R=K.U(_*p*4);R.fill(255);if(g=="MONOCHROME2"){var z=0,h=255,d=c.largestValue,Y=c.smallestValue;
if(d!=null){h=d;z=Y}else if(k!=8){h=0;z=1e9;for(var v=0;v<X;v++){var C=e[E+v];if(C>1<<k-8){if(C>h)h=C;
if(C<z)z=C}}}var i=255/(h-z);for(var v=0;v<X;v++){var C=Math.max(0,Math.min(255,(e[E+v]-z)*i)),M=v*4;
R[M]=R[M+1]=R[M+2]=C}}else if(g=="PALETTE COLOR"){var W=c.pltRed,$=c.pltGreen,P=c.pltBlue;for(var v=0;
v<X;v++){var O=e[E+v],M=v*4;R[M]=W[O]>>>8;R[M+1]=$[O]>>>8;R[M+2]=P[O]>>>8}}else throw g;J.push({nJ:new b4(0,0,_,p),data:R.buffer})}return J}function a(R,q,U,l){if(U==0)U=R.length;
var b=L.rv,D=L.FT,c=L.vS,_=[],p=q;while(q<U){var X=b(R,q);q+=2;var g=b(R,q);q+=2;var F=c(R,q);q+=4;if(X==65534&&g==57344){if(F==4294967295){var k=B(R,q,l+1);
_.push(k[0]);q=k[1]}else{_.push(R.slice(q,q+F));q+=F}}else if(X==65534&&g==57357){}else if(X==65534&&g==57565)break;
else throw"e"}return[_,q]}function B(R,q,U){var l=L.rv,b=L.FT,D=L.vS,c={},_="\t".repeat(U);while(q<R.length){var p=l(R,q),k="",I=0,H=null;
q+=2;var X=l(R,q);q+=2;var g=p.toString(16),F=X.toString(16);if(p==65532)break;if(p==65534&&X==57357){q-=4;
break}if(p==65534&&X==57565)throw"e";if(X==0){q+=8;continue}if(65<=R[q+1]){k=L.AP(R,q,2);q+=2;if(k=="OB"||k=="SQ"||k=="OW"){I=D(R,q+2);
q+=6}else{I=l(R,q);q+=2}}else{k=m[g][F].split(",")[1];I=D(R,q);q+=4}console.log(g,F,k,I);var e=m[g][F];
if(e)e=e.split(",")[0];if(e==null){e="t"+F}if(k=="SQ"){var A=a(R,q,q+I,U);H=A[0];q=A[1];I=0}else if(k=="US")H=l(R,q);
else if(k=="SS")H=b(R,q);else if(k=="UL")H=D(R,q);else if(k=="FL")H=L.Gf(R,q);else if(k=="AT")H=[l(R,q),l(R,q+2)];
else if(k=="OB")H=R.slice(q,q+I);else if(k=="OW")H=new Uint16Array(R.slice(q,q+I).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(k)!=-1){var Z=q+I;
while(R[Z-1]==0)Z--;H=L.AP(R,q,Z-q).trim()}else{console.log(_,JSON.stringify(L.AP(R,q,Math.min(I,32))));
throw k}if(c["g"+g]==null)c["g"+g]={};c["g"+g][e]=H;q+=I}return[c,q]}var m={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{z5:Q}}();fj.apE={};fj.apE.z5=function(j){var n=new Uint8Array(j),Q=0,a={},b=1e9;for(var v=0;v<306;
v++){var B=L.AP(n,Q,8).trim(),m=L.AP(n,Q+9,71).split("/")[0].trim();a[B]=m;Q+=80;if(B=="END"){Q=Math.ceil(Q/2880)*2880;
break}}var R=parseInt(a.NAXIS1),q=parseInt(a.NAXIS2),U=R*q,l=parseInt(a.BITPIX),D=-1e9,c=new Float32Array(U),_=new Float32Array(j,Q,j.byteLength-Q>>>2);
for(var v=0;v<U;v++){var p=v<<2,X=v<<1;if(l==-32){var g=n[Q+p+0];n[Q+p+0]=n[Q+p+3];n[Q+p+3]=g;var g=n[Q+p+1];
n[Q+p+1]=n[Q+p+2];n[Q+p+2]=g;c[v]=_[v]}else if(l==16){c[v]=L.rv(n,Q+X)}else throw l;var F=c[v];if(F<b)b=F;
if(F>D)D=F}var k=K.U(U*4),I=1/D;for(var e=0;e<q;e++)for(var H=0;H<R;H++){var v=e*R+H,A=(q-e-1)*R+H,p=A<<2,F=c[v]*I;
k[p]=k[p+1]=k[p+2]=255*F;k[p+3]=255}return[{nJ:new b4(0,0,R,q),data:k,YU:a.OBJECT}]};fj.fE={};fj.fE.z5=function(j){var n=new Uint8Array(j),Q=16,a=L.AP(n,Q,4),m=32,F=0,k=0,I=!1,W;
Q+=4;var B=L.AP(n,Q,8);Q+=8;while(n[Q+m-1]==0)m--;var R=L.AP(n,Q,m);Q+=32;var q=L.AP(n,Q,4);Q+=4;Q+=20;
var U=L.St(n,Q);Q+=4;var l=L.St(n,Q);Q+=4;var b=L.St(n,Q);Q+=4;var D=L.St(n,Q);Q+=4;var c=L.St(n,Q);
Q+=4;var _=L.St(n,Q);Q+=4;var p="FujiFilm "+R,X=[0,1,1,2];if(p=="FujiFilm X10"){p="FujiFilm FinePix X10";
X=[2,1,1,0]}var g={t271:["FujiFilm"],t272:[p],t277:[1],t33421:[2,2],t33422:X,u6:1};Q=b;var e=[],H=L.oN,A=L.St(n,Q);
Q+=4;for(var v=0;v<A;v++){var Z=H(n,Q);Q+=2;var J=H(n,Q);Q+=2;if(Z==256){k=H(n,Q);F=H(n,Q+2)}else if(Z==272){e=[H(n,Q),H(n,Q+2)]}else if(Z==273){e.push(H(n,Q),H(n,Q+2))}else if(Z==304){I=!(n[Q]>>>7)}else if(Z==305){var s=Math.round(Math.sqrt(J)),E=[];
for(var z=0;z<J;z++)E.push(n[Q+z]);E.reverse();g.t33421=[s,s];g.t33422=E}else if(Z==12272){var h=H(n,Q),d=H(n,Q+2),Y=H(n,Q+6);
g.t50728=[h/d,1,h/Y]}Q+=J}var C=F<k,i=n.slice(c,c+_),M=Math.round(_*8/(F*k));if(i[0]==73&&i[1]==73&&i[2]==42){W=UTIF.decode(i.buffer)[0].fujiIFD;
M=W.t61443[0];var $=W.t61454,P=W.t61450;if(P)g.t50714=P;if($)g.t50728=[$[0]/$[1],1,$[0]/$[2]];var O=W.t61447[0];
i=i.slice(O,O+W.t61448[0])}var _=i.length,G=_*8<F*k*M;if(G){console.log("compressed");var t=g.t33422,y=~~Math.sqrt(t.length),r=[];
for(var v=0;v<y;v++)r[v]=t.slice(v*y,v*y+y);i=new Uint8Array(UTIF._decompressRAF(i,r).buffer);_=i.length}function u(T,i6,bH){bH=bH<<8-(i6&7);
var cg=i6>>>3;T[cg]|=bH>>>16;T[cg+1]|=bH>>>8;T[cg+2]|=bH}var S=_*8/(F*k);if(S==16)for(var v=0;v<_;v+=2){var w=i[v];
i[v]=i[v+1];i[v+1]=w}else if(S==14){for(var v=0;v<_;v+=4){var w=i[v];i[v]=i[v+3];i[v+3]=w;w=i[v+1];i[v+1]=i[v+2];
i[v+2]=w}}else if(S==12)for(var v=0;v<_;v+=3){var dj=i[v+2]<<16|i[v+1]<<8|i[v+0];dj=dj>>>12|(dj&4095)<<12;
i[v]=dj>>>16&255;i[v+1]=dj>>>8&255;i[v+2]=dj&255}if(C)i=fj.fE.aA2(i,F,k);var o=C?2:1;F*=o;g.t256=[F];
g.t257=[k];g.t258=[M];g.t50719=[e[1],e[0]*o];g.t50720=[e[3],e[2]*o];g.width=F;g.height=k;g.data=new Uint8Array(i.buffer);
return[g]};fj.fE.aA2=function(j,n,Q){j=new Uint16Array(j.buffer);var a=new Uint16Array(n*Q*2);for(var B=0;
B<Q;B+=2)for(var m=0;m<n;m++){var R=B*n+m,q=R*2,U=j[R],l=j[R+n];a[q+1]=a[q+2*n]=l;if(((B>>>1)+m&1)==0){a[q]=U;
a[q+2*n+1]=j[R+1]}else{a[q]=j[R-1];a[q+2*n+1]=U}}return a};fj.Ou={};fj.Ou.atR=function(j,n,Q){Q=Q<<8-(n&7);
var a=n>>>3;j[a]|=Q>>>16;j[a+1]|=Q>>>8;j[a+2]|=Q};fj.Ou.VB=!0;fj.Ou.z5=async function(j,n,Q,a){var B=new Uint8Array(j),m=0,R=Date.now(),q=await ga.by(new Blob([j])),U=q.moov.uuid[0],l=new CR3Parser(j),b=l.getTrack().meta,D=U.CMT1[0],c=D.t256[0]=b.width,_=D.t257[0]=b.height,p=c*_,X=D.exifIFD=U.CMT2[0],g=X.makerNote=U.CMT3[0],F=q.moov.trak[3].mdia.minf.stbl,k=F.co64[0],I=B.slice(k,k+F.stsz[0]),e=0;
while(e<I.length){var H=L.vS(I,e);e+=4;var A=L.rv(I,e);e+=2;var Z=I[e]==1;e+=2;e+=4;if(A==8||A==9){var J=UTIF.decode(I.slice(e+8,e+H-12).buffer)[0];
for(var s in J)g[s]=J[s]}e+=H-12}D.t277=[1];D.t33421=[2,2];D.t33422=[0,1,1,2];D.u6=1;if(D.t274)D.u6=D.t274[0];
var E=l.extractCFA(),z=b.bitDepth;if(z!=14)throw"e";D.t258=[z];var h=new Uint8Array(Math.ceil(p*z/8)),d=16-z;
for(var v=0;v<p;v++)fj.Ou.atR(h,v*14,E[v]<<d);D.width=c;D.height=_;D.data=h;Q(null,[D],a)};fj.fu={};
fj.fu.a6=!0;fj.fu.OR=function(j,n,Q,a){var B=new Uint8Array(j[0][0]),m=n*Q,R=[1,3,4][a[0]],q=8+8*a[1],U=a[2];
if(R==1){var l=new Uint8Array(n*Q);K._W(B,l,0);B=l}if(R==3){var l=new Uint8Array(n*Q*3);for(var v=0;
v<m;v++){var b=v*4,D=v*3;l[D]=B[b];l[D+1]=B[b+1];l[D+2]=B[b+2]}B=l}if(q==16){var c=B.length,l=new Uint8Array(c*2);
for(var v=0;v<c;v++){var _=Math.round(B[v]*(65535/255));l[v*2+U]=_>>>8;l[v*2+1-U]=_&255}B=l}return B.buffer};
fj.qL={};fj.qL.z5=function(j,n){function Q(r){return~~(.5+K.Ku(Math.max(0,Math.min(1,r)))*255)}var a=new Uint8Array(j),B=4,m=L.vS(a,B);
B+=4;var R={};B=fj.qL.Ue(a,B,R);var q=R.compression,U=R.channels,l=U.length,b=Date.now();if(q==3&&l>4){var D=R.dataWindow,c=D[2]+1,_=D[3]+1,p=[];
while(!0){var X=L.vS(a,B+p.length*8);if(X==0)break;p.push(X)}B+=p.length*8;function g(o,r,y,T,d,$){var i6=o[y*(l*c)+T*c+r];
return Q(i6)}function F(o,i){for(var M=0,dv=Math.floor((o.length+1)/2),T=0,v=o.length-1;!(T>v||(i[T++]=o[M++],T>v));
)i[T++]=o[dv++]}var k=[],I={},e=[];for(var v=0;v<U.length;v++){var H=U[v],A=H[0];if(A.indexOf(".")==-1)A="main."+A;
var Z=A.split(".");while(Z.length>2)Z[0]=Z.shift()+"_"+Z[0];var J=Z[0],s=Z[1];if(I[J]==null){I[J]=k.length;
var E=K.U(c*_*4);k.push(E);E.fill(255)}e.push([I[J],{R:0,G:1,B:2,A:3}[s]])}for(var v=0;v<p.length;v++){var z=p[v],h=L.vS(a,z),C;
z+=4;var d=v==p.length-1?_-h:16,Y=L.vS(a,z);z+=4;if(q==3){var C=new Uint8Array(d*c*l*4);UZIP.inflateRaw(a.slice(z+2,z+Y),C);
for(var i=1;i<C.length;i++){var M=C[i-1]+C[i]-128;C[i]=M}var W=new Uint8Array(C.length);F(C,W);C=new Float32Array(W.buffer)}var $=K.U(C.length);
for(var P=0;P<l;P++){var O=e[P],G=k[O[0]],t=O[1];for(var y=0;y<d;y++){for(var r=0;r<c;r++){var u=((y+h)*c+r)*4;
G[u+t]=g(C,r,y,P,d,$)}}}}var S=[];for(var A in I){S.push({nJ:new b4(0,0,c,_),data:k[I[A]].buffer,YU:A})}console.log(Date.now()-b);
return S.reverse()}else{var w=EXRLoader.parse(j),c=w.width,_=w.height,G=K.U(c*_*4);for(var y=0;y<_;y++)for(var r=0;
r<c;r++){var v=(y*c+r)*4,dj=((_-y-1)*c+r)*4;G[v]=Q(w.data[dj+0]);G[v+1]=Q(w.data[dj+1]);G[v+2]=Q(w.data[dj+2]);
G[v+3]=Q(w.data[dj+3])}return[{nJ:new b4(0,0,c,_),data:G.buffer}]}};function ku(j){var n=(j&31744)>>10,Q=j&1023;
return(j>>15?-1:1)*(n?n===31?Q?NaN:Infinity:Math.pow(2,n-15)*(1+Q/1024):6103515625e-14*(Q/1024))}fj.qL.Ue=function(j,n,Q){function a(p,X){var g=X;
while(p[g]!=0)g++;return g-X}while(j[n]!=0){var B=L.AP(j,n,a(j,n));n+=B.length+1;var m=L.AP(j,n,a(j,n));
n+=m.length+1;var R=L.vS(j,n);n+=4;var q=j.slice(n,n+R);if(R==1)q=j[n];else if(m=="box2i"){q=[];for(var v=0;
v<4;v++)q.push(L.J9(j,n+4*v))}else if(m=="float")q=L.Gf(j,n);else if(m=="v2f"){q=[];for(var v=0;v<2;
v++)q.push(L.Gf(j,n+4*v))}else if(m=="chlist"){var U=n;q=[];while(j[U]!=0){var l=L.AP(j,U,a(j,U));U+=l.length+1;
var b=L.vS(j,U);U+=4;var D=j[U];U++;U+=3;var c=L.vS(j,U);U+=4;var _=L.vS(j,U);U+=4;q.push([l,b,D,c,_])}}else console.log("-----",m);
Q[B]=q;n+=R}return n+1};fj.Ul={};fj.Ul.a6=!0;fj.Ul.ps=!0;fj.Ul.OR=function(j,n,Q,a,B){a=["",100,!1,!1,!1,0,!1];
a[7]=["jpg"];var m=new ToDXF;ca.zw(j,a,m,B.wR);return m.buffer};fj.Ul.z5=function(j,n){var Q=72,a=new j8(1,0,0,1,0,0);
a.scale(Q/72,Q/72);n.Mp=Q;var B=new fs(n,a,!1);FromDXF.Parse(j,B)};fj.akx={};fj.akx.z5=function(){var j=L.rv,n=L.vS,Q=L.AP,a;
function B(R,q,U,l,b){var D=n(R,U),c=n(R,U+4),_=n(R,U+8),p=j(R,U+12),X=j(R,U+14);U+=16;var g={};for(var v=0;
v<p+X;v++){var F=n(R,U),k=n(R,U+4),I,e;if(F>>>31==1){F=F&16777215}if(v<p)I=L._2(R,q+F+2,j(R,q+F));else I="id"+F;
var H=l.slice(0);H.push(I);if(k>>>31==1){k=k&268435455;e=B(R,q,q+k,H,b)}else{var A=n(R,q+k),Z=n(R,q+k+4),J=n(R,q+k+8),s=n(R,q+k+12);
if(s!=0)throw"e";if(A<b[0]||A>b[0]+b[1])throw"e";var E=b[2]+A-b[0];e=R.slice(E,E+Z);var z=fj.Ot(e.buffer);
if(z&&["bmp","png","ico"].indexOf(z)!=-1){var h=fj.Mi(z);if(!h.ps){var d=null;try{d=h.z5(e.buffer)}catch(bY){}if(d){d[0].YU=H[1];
a.push(d[0])}}}else if(z)console.log(z)}g[I]=e;U+=8}return g}function m(R){a=[];var q=new Uint8Array(R),U=0,l=j(q,U);
U+=2;U+=58;var b=n(q,U);U+=4;U=b;var D=Q(q,U,4);U+=4;var c=j(q,U);U+=2;var _=j(q,U);U+=2;var p=n(q,U);
U+=4;var X=n(q,U);U+=4;var g=n(q,U);U+=4;var F=j(q,U);U+=2;var k=j(q,U);U+=2;U+=F;var I={};for(var v=0;
v<_;v++){var e=U;while(q[e]!=0)e++;var H=Q(q,U,e-U),A=n(q,U+8),Z=n(q,U+12),J=n(q,U+16),s=n(q,U+20),E=n(q,U+24),z=n(q,U+28),h=j(q,U+32),d=j(q,U+34),k=n(q,U+36);
I[H]=[Z,A,s,J,k];if(E+z!=0)throw"e";U+=40}for(var Y in I){var C=I[Y];U=C[2];if(Y==".rsrc"){var i=B(q,U,U,[],C),M="id134"}}return a}return m}();
fj.cq={};fj.cq.ps=!0;fj.cq.z5=function(j,n,Q){if(Q&&Q.length!=2)Q=null;g7.by(j,n,Q)};fj.cq.OR=function(j,n,Q){return g7.zw(j)};
(function(){var j=fj.xK.get("wasm/zstd").buffer;WebAssembly.instantiate(j).then(function(n){var Q=n.instance.exports;
fj.cq.agP=Q})}());fj.cq.Yu=function(j,n){var Q=fj.cq.agP,a=j.length,B=Q.memory,m=2*a+1e6,U=4;fj._D(Q,m);
var R=new Uint8Array(B.buffer),q=Q.malloc(a);R.set(j,q);while(!0){var l=n==null?a*U:n;fj._D(Q,m+l);var b=Q.malloc(l),D=Q.ZSTD_decompress(b,l,q,a);
if(D==-70){Q.free(b);U+=U>>>1;if(n!=null)throw"error"}else{R=new Uint8Array(B.buffer);j=R.slice(b,b+D);
Q.free(b);break}}Q.free(q);return j};fj.Uk={};fj.Uk.ps=!0;fj.Uk.z5=function(){var j=0,n=1,Q=2,a=3,B=4,m=5,R=6,q=7,U=1,l=2,b=7,D=8,c=9,_,p,X,g,F;
function k(){var dv=L.J9(_,p);p+=4;return dv}function I(){var W=0,$=0;for(var v=0;v<5;v++){var P=_[p++];
W+=(P&127)<<$;$+=7;if((P&128)==0)break}return W}function e(){var W=I(),$=L.Cl(_,p,W);p+=W;return $}function H(){return{typeName:e(),avG:k()}}function A(){var W=k(),$=e(),P=[],O=k();
for(var v=0;v<O;v++)P.push([e()]);return{id:W,DA:$,arQ:P}}function Z(W){var $=W.arQ,P=[];for(var v=0;
v<$.length;v++)$[v].push(_[p++]);for(var v=0;v<$.length;v++){var O=$[v][1],G;$[v].push(J(O))}}function J(W){var $;
if(W==j)$=_[p++];else if(W==a)$=e();else if(W==B)$=H();else if(W==n||W==Q||W==R||W==m){}else throw W;
return $}function s(W,$,P){var O;if(W==j){if($==U)O=_[p++]==1;else if($==l){O=_[p++]}else if($==D)O=k();
else if($==c){O=k();k()}else throw $}else if(W==a){O=d(P+1)}else if(W==B){O=d(P+1)}else if(W==m){O=d(P+1)}else if(W==n){O=d(P+1)}else if(W==R){O=d(P+1)}else if(W==Q){O=d(P+1)}else throw W;
return O}function E(W,$){var P=X["c"+W],O=P.arQ,G={_class:P.DA};for(var v=0;v<O.length;v++){var t=O[v],y=t[1],r=t[2],u=s(y,r,$),S=t[0];
G[S]=u}return G}function z(W,$,P,O){var G=[];for(var v=0;v<W;v++){var t=s($,P,O);if(t.xE&&t.xE=="null_count"){var y=t.n8;
for(var r=0;r<y;r++)G.push(null);v+=y-1}else G.push(t)}return G}function h(){return[k(),k()]}function d(W){if(W==null)throw"e";
var $=null,P=_[p],O=null;p++;if(P==0){var G=k(),t=k(),y=k(),r=k();$=[G,t,y,r]}else if(P==1){O=k();var u=k();
$=E(u,W)}else if(P==4){var S=A();O=S.id;Z(S);X["c"+S.id]=S;$=E(S.id,W)}else if(P==5){var S=A();O=S.id;
Z(S);var w=k();X["c"+S.id]=S;$=E(S.id,W)}else if(P==6){O=k();var dj=e();$=dj}else if(P==7){O=k();var o=_[p++];
if(o!=0)throw o;var T=k();if(T!=1)throw T;var i6=k(),bH=_[p++],cg=J(bH);$=z(i6,bH,cg,W)}else if(P==9){var bu=k();
$={xE:"ref",n8:bu};F["o"+bu]=!0}else if(P==10){$={xE:"null_count",n8:1}}else if(P==11){$={xE:"end"}}else if(P==12){var w=k(),hH=e()}else if(P==13){var dK=_[p++];
$={xE:"null_count",n8:dK}}else if(P==16){var d8=h();O=d8[0];$=z(d8[1],B,null,W)}else if(P==17){var d8=h();
O=d8[0];$=z(d8[1],n,null,W)}else throw"e";if(O!=null&&O>0){if(g["o"+O]!=null)throw"e";g["o"+O]=$}return $}function Y(W,g){if(W instanceof Array){for(var v=0;
v<W.length;v++)W[v]=C(W[v],g)}else if(W instanceof Object){for(var $ in W)W[$]=C(W[$],g)}}function C(W,g){if(W&&W.xE&&W.xE=="ref")return g["o"+W.n8];
else return W}function i(W,$,P){var O=Date.now();_=new Uint8Array(W);p=0;X={};g={};F={};var G=L.AP(_,0,4);
if(G!="PDN3")throw G;p+=4;var t=L.rv(_,p)+_[p+2]*256*256;p+=3;var y=L.AP(_,p,t);p+=t;p+=2;while(!0){var r=d(0);
if(r&&r.xE&&r.xE=="end")break}for(var u in F)if(g[u]==null)throw u;for(var u in g)Y(g[u],g);var S=g.o1;
console.log(S);$.q=S.width;$._=S.height;$.buffer=K.U($.q*$._*4);var w=S.layers["ArrayList+_items"];for(var v=0;
v<w.length;v++){var dj=w[v];if(dj==null)continue;var o=dj["Layer+width"],T=dj["Layer+height"],i6=dj["Layer+properties"],bH=dj.properties,cg=bH.blendOp._class.split("+").pop();
cg=cg.slice(0,cg.length-7);var bu={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[cg],hH=$.JL();
hH.kw(i6.name);hH.wT=i6.opacity;hH._a(i6.visible);hH.TM=bu;if(_[p]!=0)throw"e";p++;var dK=L.St(_,p);
p+=4;var d8=Math.ceil(o*T*4/dK);hH.s=new b4(0,0,o,T);var d1=hH.buffer=K.U(o*T*4);for(var gH=0;gH<d8&&p<_.length;
gH++){var kh=M();d1.set(kh[1],kh[0]*dK)}for(var ay=0;ay<d1.length;ay+=4){var dO=d1[ay+0];d1[ay+0]=d1[ay+2];
d1[ay+2]=dO}$.T.push(hH)}}function M(){var W=L.St(_,p);p+=4;var $=L.St(_,p);p+=4;p+=10;$-=10;var P=pako.inflateRaw(_.slice(p,p+$));
p+=$;return[W,P]}return i}();fj.hS={};fj.hS.ps=!0;fj.hS.z5=function(j,n){di.by(j,n)};fj.CC={};fj.CC.ps=!0;
fj.CC.z5=function(){var j,n,g=null,Z,J;function Q(){var i=j[n];n+=1;return i}function a(){var i=L.oN(j,n);
n+=2;return i}function B(){var i=L.St(j,n);n+=4;return i}function m(){var i=L.q_(j,n);n+=4;return i}function R(){var i=L.Kq(j,n);
n+=8;return i}function q(){var i=B();if(i>200)throw i;var M=L.AN(j,n,i);n+=i*2;return M}function U(){var i=L.NZ(j,n);
n+=8;return i}function l(){var i=L.Hb(j,n);n+=4;return i}function b(){var i=B();if(B()!=4)throw"e";var M=[];
for(var v=0;v<i;v++)M.push(B());return M}function D(i,M,W){for(var v=0;v<i.length;v++)if(i[v][M]==W)return i[v]}function c(i,M){var W=Date.now();
j=new Uint8Array(i);n=L._8(j,"CH"+"NK"+"SQ"+"Li")+8;var $=R(),P=fd.parse(j.buffer.slice(n,n+$)),O=fd.apc(P,!0);
console.log(O);var G=O.Canvas[0],t=G.Width,y=G.Height,r=G.Unit,u=M.Mp=G.Resolution;if(r==0){}else if(r==1){t=Math.round(t*u/2.54);
y=Math.round(y*u/2.54)}else if(r==2){t=Math.round(t*u/25.4);y=Math.round(y*u/25.4)}else if(r==3){t=Math.round(t*u);
y=Math.round(y*u)}else if(r==5){t=Math.round(t*u/72);y=Math.round(y*u/72)}else{console.log(G);throw r}M.q=t;
M._=y;M.buffer=K.U(t*y*4);console.log(Date.now()-W);var S=D(O.Layer,"MainId",G.RootFolder);h(O,j,M,S.FirstChildIndex,0);
console.log(Date.now()-W)}function _(){var i=L.rv(j,n);n+=2;return i}function p(){var i=L.vS(j,n);n+=4;
return i}function X(){var i=L.J9(j,n);n+=4;return i}function F(i){var M={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},$=0;
j=i;n=0;var W={};while(n<j.length){var P=p(),O=p(),G=n+O;if(O==0)continue;var t=[];if(P==11){var y=p();
for(var r=0;r<y;r++){var u=[p(),p()];t.push(u);$+=u[1];var S=n+p()-4;u.push(_(),_(),_(),_());u.push(L._t(j,n));
n+=8;var w=_();u.push(L._2(j,n,w));n+=w*2;if(n!=S)throw"e"}}else if(P==31){t=L.Cl(j,n,O);n+=O}else if(P==34)for(var v=0;
v<3;v++)t.push(p()>>>16);else if(P==42)for(var v=0;v<4;v++)t.push(X());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(P)!=-1){if(O!=4)throw"e";
t=p();if([37,45,46,51,53,55,61,62].indexOf(P)!=-1){n=G;continue}}else if(P==47){var dj=_();if(p()!=50)throw"e";
if(p()!=0)throw"e";var o=_();t=L.AP(j,n,o);n+=o}else if(P==57){var y=_();for(var v=0;v<y;v++){var T=_(),bH=L.AP(j,n,T);
n+=T;var cg=_(),bu=L.AP(j,n,cg);n+=cg;t.push([bH,bu])}if(n<G){var hH=p();for(var v=0;v<y;v++)t[v].push(hH)}}else if(P==39||P==63)t.push(p(),p());
else if(P==64){for(var v=0;v<8;v++)t.push(L.J9(j,n+v*4)/100);n+=32}else{t=j.slice(n,G);n+=O}var dK=M[P];
if(dK==null)dK="t"+P;if(W[dK])throw"e";W[dK]=t;if(n!=G)throw P}if(g){}g=W;return W}function k(i){j=i;
n=0;var M=B();if(M!=i.length)throw"e";var W=B(),$=q(),P=B(),O=U(),G=[B()/4294967295,B()/4294967295,B()/4294967295];
return[P,O,G]}function I(i,M){function W(){var dz=[];for(var v=0;v<4;v++)dz.push(L.q_(j,n+v*4));n+=16;
return dz}function $(dv){var dz=[];for(var v=0;v<dv;v++)dz.push(l());return dz}function P(dz){var iA="";
for(var v=n;v<dz;v+=4)iA+=j.slice(v,v+4).join(", ")+"\n";return iA}j=i;n=M+8;var O=R(),G=n+O;n+=56;if(n==G)return;
var t=[],y=[],r=[],u=[],S=[];while(n<G){var w=B(),d1=1;if(w!=88&&w!=96)throw w;var dj=B();if(dj!=72)throw dj;
var o=B();if(o!=88&&o!=104&&o!=120)throw o;var T=B();if(T!=88)throw T;var i6=B(),bH=B(),cg=W(),bu=[];
r.push(bu);for(var v=0;v<6;v++){bu.push(e(B()))}var hH=U(),dK=B();if(dK==1040||dK==304||dK==288||dK==273){B();
dK=B()}var d8=U();u.push(d8);var gH=B(),kh=(bH&256)!=0,ay=[],dO=[],fy={88:1,104:2,120:3}[o];for(var v=0;
v<i6;v++){var bg=v==0?1:fy;for(var f4=0;f4<bg;f4++)ay.push(U(),U());dO.push(bg==1?v==0?"M":"L":bg==2?"Q":"C");
var jb=W(),jT=B();d1=l();var jy=$(10),cl=B(),hu=B()}S.push(d1);if(o==104){var aA=U(),ko=U();if(kh){dO.push("Q");
ay.push(aA,ko,ay[0],ay[1])}}if(o==120){var aA=U(),ko=U(),ec=U(),kK=U();if(kh){dO.push("C");ay.push(aA,ko,ec,kK,ay[0],ay[1])}}if(bH&128){var cM=["M"],gG=[ay[0],ay[1]],c2=ay.length>>>1,a1=K.c.a2V(ay);
for(var v=0;v<c2;v++){var cs=ay[2*v],f7=ay[2*v+1],j7=.7;for(var f4=0;f4<2;f4++){a1[v*4+f4*2]=j7*a1[v*4+f4*2]+(1-j7)*cs;
a1[v*4+f4*2+1]=j7*a1[v*4+f4*2+1]+(1-j7)*f7}}for(var v=1;v<c2;v++){cM.push("C");gG.push(a1[v*4-2],a1[v*4-1],a1[v*4],a1[v*4+1],ay[v*2],ay[v*2+1])}if(kh){cM.push("C");
gG.push(a1[c2*4-2],a1[c2*4-1],a1[0],a1[1],ay[0],ay[1])}ay=gG;dO=cM}if(kh)dO.push("Z");y=y.concat(ay);
t=t.concat(dO)}if(n!=G)throw"e";return[{g:y,rZ:t},r,u,S]}function e(i){return Math.min(255,Math.round(i/16777216))}function H(i){j=i;
n=0;var M=B();if(M!=16)throw M;var W=B();if(W!=102)throw W;var $=B();if($!=42&&$!=58)throw $;var P=B();
if(i.length-P!=118+$)throw i.length-P;var O=q();if(O!="Parameter")throw O;var G=B(),t=B(),y=B(),r=B(),u=[];
for(var v=0;v<16;v++)u.push(B());var O=q();if(O!="InitColor")throw O;if(B()!=20)throw"e";var S=B(),w=B(),dj=B();
if(B()!=4)throw"e";if($==58){var o=[];u.push(o);for(var v=0;v<4;v++)o.push(e(B()))}var O=q();if(O!="BlockSize")throw O;
var T=B();if(T!=12)throw T;var i6=b();if(n!=j.length)throw"e";return[G,t,y,r,S*255,u]}function A(i,M){var W=L.AP(M,0,40),$=D(i["ExternalC"+"hunk"],"Exte"+"rnalID",W);
if($==null){console.log("chnk not found",W)}return $?$.Offset:-1}function s(i,M,W,$){if(Z==null){Z=K.U(256*256*4);
J=K.U(256*256)}var P=i.Mipmap,O=i.MipmapInfo,G=i.Offscreen,t=D(P,"MainId",W),y=D(O,"MainId",t.BaseMipmapInfo),r=D(G,"MainId",y.Offscreen),u=A(i,r.BlockData),c=null;
if(u==-1)return null;var S=fj.CC.aDA(M,u),w=H(r.Attribute),dj=w[0],o=w[1],T=w[2],i6=w[3],bH=w[4],cg=w[5],bu=cg[16],hH=cg[1],dK=cg[2],d8=hH+dK;
if(dK!=cg[5])throw"e";if(hH!=cg[7])throw"e";var d1=K.U(256*(cg[6]+cg[8])),gH=new b4;if(bu)gH=new b4(0,0,dj,o);
else{for(var kh=0;kh<i6;kh++)for(var ay=0;ay<T;ay++){var dO=S[kh*T+ay];if(dO.length==0)continue;gH=gH.d_(new b4(ay<<8,kh<<8,256,256))}}var fy=gH.uf(new b4(0,0,dj,o)),bg=K.U(fy.$()*(d8==1?1:4));
if(bu)K.G5(bg,255<<24|bu[0]<<16|bu[1]<<8|bu[2]);if(d8==1)bg.fill(bH);var f4=new Uint32Array(Z.buffer),jb={};
for(var kh=0;kh<i6;kh++)for(var ay=0;ay<T;ay++){var dO=S[kh*T+ay];if(dO.length==0)continue;var jT=new Uint8Array(dO.buffer,dO.byteOffset+2,dO.length-6),jy=new b4(ay<<8,kh<<8,256,256),cl=d1;
if(jT.length<2e3){var W=jT.length+","+d1.length+","+jT.slice(0,16).join(":");if(jb[W]==null){UZIP.inflateRaw(jT,d1);
jb[W]=d1.slice(0)}cl=jb[W]}else UZIP.inflateRaw(jT,d1);if(d8==1){if(cg[8]==32){E(cl,0,J);K.Gc(J,jy,bg,fy)}else K.Gc(cl,jy,bg,fy)}else if(d8==2){if(cg[8]==32){K.G5(Z,267387135);
E(cl,0,J);K.wj(J,Z,3);E(cl,256*32,J);K.YM(J,Z)}else for(var v=0;v<262144;v+=4){var bu=cl[65536+(v>>>2)];
Z[v]=bu;Z[v+1]=bu;Z[v+2]=bu;Z[v+3]=cl[v>>>2]}K.EC(Z,jy,bg,fy)}else if(d8==5){for(var v=0;v<262144;v+=4){f4[v>>>2]=cl[v>>>2]<<24|cl[65536+v+0]<<16|cl[65536+v+1]<<8|cl[65536+v+2]}K.EC(Z,jy,bg,fy)}else throw d8}if($&&d8==1){var hu=K.U(dj*o*4);
K.wj(bg,hu,3);bg=hu}return[fy,bg,bH]}function E(i,n,M){for(var v=0;v<M.length;v++){M[v]=(i[n+(v>>>3)]>>>7-(v&7)&1)*255}}var z=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function h(i,M,W,$,P){var O=i.Layer,G=i.Canvas[0];while($!=0){var t=D(O,"MainId",$),y=t.Type,T=!1;console.log(t);
var r=W.JL();r.kw(t.Name);r.wT=Math.min(255,t.Opacity);r._a((t.Visibility&1)!=0);r.TM=z[t.Composite];
if(r.TM==null){alert("Unknown blend mode "+t.Composite);r.TM="norm"}r.U7=t.Clip==1;W.T.push(r);var u=t.LayerMaskMipmap;
if(u!=0){var S=s(i,M,u,!1);if(S){r.N=new f.km;r.N.s=S[0];r.N.G=S[1];r.N.color=S[2];d(r.N.s,t,"Mask","Mask");
r.N.Dy()}}var w=[];for(var v=0;v<3;v++)w.push(e(t["DrawColorMain"+["Red","Green","Blue"][v]]));var dj={t:"Objc",v:K.Gp.Db({n:w[0],i:w[1],b:w[2]})},o=JSON.parse(g8.default);
for(var v=0;v<g8.order.length;v++)o[g8.Ub[v]]={t:"VlLs",v:[]};if(t.DrawColorEnable==1&&y!=1584){T=!0;
var i6=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);i6.Clr=dj;o.solidFillMulti.v.push({t:"Objc",v:i6})}if(t.EffectInfo){var bH=k(t.EffectInfo),w=bH[2];
if(bH[0]==1){T=!0;var i6=JSON.parse(g8.sp[g8.order.indexOf("FrFX")]);i6.Clr.v=K.Gp.Db({n:w[0]*255,i:w[1]*255,b:w[2]*255});
i6.Sz.v.val=Math.round(bH[1]);o.frameFXMulti.v.push({t:"Objc",v:i6})}}if(t.FilterLayerInfo){j=t.FilterLayerInfo;
n=0;var cg=B(),bu=B();if(bu!=j.length-n)throw"e";var hH={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[cg];
if(hH!=null){var dK=fo.cL(hH);r.add[hH]=dK?dK:{};if(hH=="brit")fo.My["g"+hH](dK,[m(),m(),!0]);if(hH=="hue2")az.RQ(dK,0,[m(),m(),m()]);
if(hH=="curv"){var d8=[],d1=n;for(var v=0;v<32;v++){n=d1+v*130;var kh=a(),dO=[];d8.push(dO);for(var bg=0;
bg<kh;bg++)dO.push(a()/65535,a()/65535)}for(var v=0;v<4;v++){var dO=d8[v],f4=dr.Js(dK,v),jb=f4[0];for(var bg=0;
bg<dO.length;bg+=2){var jT=f4[bg>>>1]=K.u(jb);jT.v.Hrzn.v=Math.round(dO[bg]*255);jT.v.Vrtc.v=Math.round(dO[bg+1]*255)}dr.RQ(dK,v,f4)}}if(hH=="grdm"){var jy=dK.Grad.v,cl=[],hu=B();
if(hu!=bu-4)throw hu;var aA=B();if(aA!=16&&aA!=24)throw aA;var ko=B();if(ko!=28)throw ko;var ec=B();
for(var v=0;v<ec;v++){var kK=0,cM=[];for(var bg=0;bg<7;bg++)cM.push(B());cl.push([cM[6]/32768,[cM[1]/4294967295,cM[2]/4294967295,cM[3]/4294967295],cM[4]/4294967295])}K.Gp.wM(cl,jy)}if(hH=="blnc"){dK.PrsL.v=B()==1;
for(var v=0;v<3;v++){var gG=dK[["ShdL","MdtL","HghL"][v]].v;for(var bg=0;bg<3;bg++)gG[bg].v=m()}}}else console.log("Unknown adjustment",cg,bu,r.getName())}if(y==1584){r.G$|=16;
r.add.SoCo={classID:"null",Clr:dj};r.tI(W)}else if(y==800){W.T.pop()}else if(t.Folder!=0){r.add.lsct=(t.Folder&16)!=0?fM.NO:fM.ko;
r.TM="pass";W.T.pop();W.T.push(W.v4());h(i,M,W,t.FirstChildIndex,P+1);W.T.push(r)}else if(y==0||y==1||y==2||y==3){var S=s(i,M,t.RenderMipmap,!0);
if(S){r.s=S[0];r.buffer=S[1];d(r.s,t,"Render","");if(r.s.$()<2e6)r.Dy()}if(t.ResizableOriginalMipmap){var c2=s(i,M,t.ResizableOriginalMipmap,!0),a1=c2[0],cs=new Uint8Array(fj.Mi("PNG").OR([[c2[1].buffer,0]],a1.q,a1._)),f7=W.$D(cs,r.getName(),0,0);
r.add.SoLd=f7.add.SoLd;r.buffer=f7.buffer;r.s=f7.s;j=t.ResizableImageInfo;n=0;var j7=[];for(var v=0;
v<10;v++)j7.push(B());var dz=[];for(var v=0;v<7;v++)dz.push(U());for(var v=0;v<6;v++)j7.push(B());var iA=[];
for(var v=0;v<8;v++)iA.push(U());var kk=iA[4];iA[4]=iA[6];iA[6]=kk;kk=iA[5];iA[5]=iA[7];iA[7]=kk;r.add.SoLd.Trnf=N.IP.ob(iA);
r.add.SoLd.nonAffineTransform=N.IP.ob(iA);r.pS(W,!1)}if(t.TextLayerType!=null){var fA="TextLayerString",g5="TextLayerAttributes",h$=[t[fA]],hL=[t[g5]];
if(t[fA+"Array"]){j=t[fA+"Array"];n=0;while(n<j.length){var bu=p();h$.push(j.slice(n,n+bu));n+=bu}j=t[g5+"Array"];
n=0;while(n<j.length){var bu=p();hL.push(j.slice(n,n+bu));n+=bu}}var ha=r;W.T.pop();for(var jl=0;jl<h$.length;
jl++){var r=ha.O(),iq=0,cz=0;W.T.push(r);var fI=F(hL[jl]),aE=fI.runs,es=fI.fnts,kN=fI.bplg,fV=fI.bbox,jU=fV[2]-fV[0],c$=fV[3]-fV[1];
if(kN){iq=kN[2]-kN[0];cz=kN[3]-kN[1]}var h0=new j8;h0.translate(-jU/2,-c$/2);h0.rotate(Math.atan2(-cz,iq));
h0.translate(jU/2,c$/2);var fl=fV[0]+t.OffsetX,co=fV[1]+t.OffsetY;h0.translate(fl,co);r.add.lnsr="rend";
r.add.TySh=eR.N0(0,0);r.add.TySh.v$=new b4(0,0,500,500);r.add.TySh.C=h0;var cC=r.add.TySh.Kt,gr=L.Cl(h$[jl]);
r.kw(gr);eR.Yr(cC,0,gr);eR.dY(cC,1);eR.gG(cC,[0,0,jU,c$]);if(aE)for(var v=0;v<aE.length;v++){var eK=aE[v],kM=eK[0],bM=kM+eK[1],bn=eK[2],fT=eR.JB(cC,kM,bM),ck=W.Mp/72*fI.size/100;
if((bn&512)!=0)ck*=eK[6]/100;fT.RW.FontSize=Math.round(ck);var dj=(bn&256)!=0?eK.slice(3):fI.colr;fT.RW.FillColor={Type:1,Values:[1,dj[0]/65535,dj[1]/65535,dj[2]/65535]};
var ce=eK[7]==""?fI.font:eK[7];if(es){if(es[v])ce=es[v][1];else for(var bg=0;bg<es.length;bg++)if(es[bg][0]==ce)ce=es[bg][1]}eR.em(fT,ce);
eR.A0(cC,kM,bM,fT)}if(r.s.$()==0)W.HM=!0;else{r.s=new b4(fl,co,jU,c$);r.buffer=K.U(r.s.$()*4);K.EC(ha.buffer,ha.s,r.buffer,r.s)}}}}var kn=i.VectorObjectList;
if(t.VectorNormalType!=null&&kn&&D(kn,"LayerId",$)){var fc=D(kn,"LayerId",$).VectorData,cv=A(i,fc),gM=I(M,cv);
if(gM){var hF=null;if(r.add.TySh){var hF=r.O();W.T.push(hF);delete r.add.TySh}Y(r,t,gM[0]);if(r.bx()){r.G$|=24;
var f7=W.JL();f7.kw(r.getName());f7.wT=r.wT;W.T.push(f7);Y(f7,t,gM[0]);C(f7,gM);f7.tI(W)}else{C(r,gM,hF!=null)}r.tI(W);
if(hF){hF.add.TySh.C.concat(new j8(1,0,0,1,r.s.x+r.s.q/2,r.s.y+r.s._/2))}}}if(T)r.add.lmfx=o;if($==G.CurrentLayer)W.X=[W.T.indexOf(r)];
$=t.NextIndex}}function d(i,M,W,$){i.x+=M[W+"OffscrOffsetX"]+M[$+"OffsetX"];i.y+=M[W+"OffscrOffsetY"]+M[$+"OffsetY"]}function Y(i,M,W){i.add.vmsk=new f.hx;
K.c.C(W.g,new j8(1,0,0,1,M.OffsetX,M.OffsetY),W.g);i.add.vmsk.z=K.c.TW(W);i.sU()}function C(i,M,W){var $=M[1][0],P=M[2][0];
i.G$|=16;var O=i.add.vstk=g8.o0.cL(!0,!0);O.fillEnabled.v=W==!0;i.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:255,i:255,b:255})}};
O.strokeStyleContent.v.Clr.v=K.Gp.Db({n:$[0],i:$[1],b:$[2]});O.strokeStyleLineWidth.v.val=P*2;O.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return c}();
fj.CC.aDA=function(j,n){var Q=j,a=n+8,l=0;function B(){var s=L.St(Q,a);a+=4;return s}function m(){var s=B();
if(s>200)throw s;var E=L.AN(Q,a,s);a+=s*2;return E}function R(){var s=B();if(B()!=4)throw"e";var b=[];
for(var v=0;v<s;v++)b.push(B());return b}var q=L.Kq(Q,a);a+=8;var U=a+q;a+=56;var b=[];while(a<U){var D=B(),c=a+D-4;
if(c>U)throw"e";if(D==11){a-=4;var _=m(),p=B();if(p!=12)throw"e";var X=R(),g=m(),p=B();if(p!=12)throw"e";
var F=R();if(a!=U)throw"e"}else{var k=m(),I=B();if(I!=l)throw I;l++;var e=L.oN(Q,a);a+=2;if(e!=0&&e!=1&&e!=2&&e!=5)throw e;
var H=Q[a++];if(H!=0&&H!=32&&H!=64)throw H;if(B()!=1)throw"e";if(B()!=1)throw"e";if(Q[a++]!=0)throw"e";
if(B()==1){var A=B(),Z=L.vS(Q,a);if(A!=Z+4)throw"e";b.push(new Uint8Array(Q.buffer,a+4,Z));a+=A}else b.push(new Uint8Array(0));
var J=m();if(a!=c)throw a}}return b};fj.Tm={};fj.Tm.ps=!0;fj.Tm.z5=function(j,n){var Q=Date.now(),a=cy.parse(j),B=L.J9,m=L.FT,R=a.LtfHeader,q=0,U=B(R,q);
q+=4;if(U!=R.length)throw"e";var l=B(R,q);q+=4;if(l!=4609100)throw"e";var b=B(R,q);q+=4;if(b!=600)throw b;
var D=m(R,q);q+=2;if(D!=2&&D!=4)throw D;var c=m(R,q);q+=2;var _=B(R,q),p=B(R,q+4);q+=8;var X=B(R,q)/1e4;
q+=8;var b=B(R,q),D=B(R,q+4);q+=8;if(b!=0&&b!=1&&b!=2)throw b;for(var v=0;v<20;v++)if(R[q+v]!=0)throw v;
q+=20;var b=B(R,q);q+=4;if(b!=0&&b!=1)throw b;var g=B(R,q);q+=4;if(g!=0&&g!=1)throw g;for(var v=0;v<476;
v++)if(R[q+v]!=0)throw v;q+=476;var F=q+104;n.q=_;n._=p;n.buffer=K.U(_*p*4);var k=a.LtfMainPalette,I=a.LtfObjectList;
q=0;if(I){var dv=B(I,0);if(B(I,4)!=dv)throw"e";for(var e=0;e<dv;e++){q=8+e*192;var H=q+128;while(I[H]!=0)H+=2;
var A=L._2(I,q+128,H-(q+128)>>>1);fj.Tm.zG(a[A],n,k)}}var Z=n.JL();n.T.push(Z);Z.kw("Background");if(a.LtfMainImage){var J=fj.Tm.zZ(a.LtfMainImage,null,k);
Z.buffer=J[0];Z.s=J[1]}else{Z.s=new b4(0,0,_,p);var s=B(R,F);fj.Tm.a3x(Z,k?B(k,2+s*4):s)}n.T.reverse()};
fj.Tm.aEw=function(j){var n="";for(var v=0;v<j.length;v++){var Q=""+j[v];while(Q.length<3)Q=" "+Q;n+=Q+", "}return n};
fj.Tm.zG=function(j,n,Q){var a=L.J9,B=n.JL(),R=0;n.T.push(B);var m=j.ObjectData;if(a(m,0)!=m.length)throw"e";
R+=4;var q=R;while(m[q]!=0)q++;B.kw(L.AP(m,R,q-R));R=q+1;if(q==5){if(m[R]!=0)throw"e";R++}var U=j.ObjectMask0,l=j.PathStream;
if(l&&U==null){var b=B.add.vmsk=new f.hx;b.z=fj.Tm.o3(l);B.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:m[232],i:m[233],b:m[234]})}};
B.add.vstk=g8.o0.cL(!0);B.tI(n)}if(U==null)return;B.s=new b4(a(U,0),a(U,4),a(U,8),a(U,12));if(j.ObjectImage){var D=fj.Tm.zZ(j.ObjectImage,null,Q);
B.buffer=D[0]}else fj.Tm.a3x(B,a(m,188));fj.Tm.zZ(new Uint8Array(U.buffer,16),B.buffer)};fj.Tm.a3x=function(j,n){j.buffer=K.U(j.s.$()*4);
K.G5(j.buffer,255<<24|n)};fj.Tm.o3=function(j){var n=L.FT,Q=L.J9,a=L.Gf,R=0;function B(g,F){var k=n(g,F),I=n(g,F+2);
return I}var m=pako.inflate(j.slice(12));R=128;for(var v=0;v<260;v++)if(m[R+v]!=0)throw v;R+=260;if(Q(m,R)!=50)throw"e";
R+=4;if(Q(m,R)!=0)throw"e";R+=4;if(Q(m,R)!=0)throw"e";R+=4;var q=Q(m,R);R+=4;var q=Q(m,R);if(q!=106&&q!=186&&q!=196&&q!=236)throw Q(m,R);
R+=4;if(Q(m,R)!=0)throw"e";R+=4;if(Q(m,R)!=24)throw"e";R+=4;if(Q(m,R)!=0)throw"e";R+=4;var q=Q(m,R);
R+=4;var U=Q(m,R);R+=4;if(Q(m,R)!=0)throw"e";R+=4;if(Q(m,R)!=0)throw"e";R+=4;if(Q(m,R)!=1280)throw"e";
R+=4;for(var v=0;v<24;v++)if(m[R+v]!=0)throw v;R+=24;var l=Q(m,R);R+=4;if(42+l*10!=U)throw"e";var b=Q(m,R);
R+=4;var D=Q(m,R);R+=4;var c=[{w:6},{w:8,all:0}];c.push({w:0,length:l,H_:0,qg:2,wo:0,x1:0});for(var v=0;
v<l;v++){var _=B(m,R+2),p=B(m,R+6),X=new eE(_,p);c.push({w:2,vK:X.O(),V:X,XH:X.O()});R+=10}return c};
fj.Tm.zZ=function(j,n,Q){var a=L.J9,B=L.rv,m=fj.Tm.aEw,R=0,q=a(j,R),_,p=0,Y;R+=4;var U=a(j,R);R+=4;var l=a(j,R);
R+=4;var b=a(j,R);R+=4;var D=a(j,R);R+=4;var c=q*U,X=j.length;if(c==X-20)_=new Uint8Array(j.buffer,20+j.byteOffset);
else if(l==64*64*3||n&&l==64*64){var g=fj.Mi("jpg"),F=0,k=0;_=K.U(q*U);while(R<j.length){var I=a(j,R);
R+=4;var e=g.z5(j.slice(R,R+I))[0],b=e.nJ,H=new Uint8Array(e.data),A=n?q:q/3;for(var Z=0;Z<b._;Z++)for(var J=0;
J<b.q;J++){var s=Z*b.q+J,E=(Z+k)*A+(J+F);if(n)_[E]=H[s*4];else{_[E*3+0]=H[s*4+2];_[E*3+1]=H[s*4+1];_[E*3+2]=H[s*4+0]}}F+=64;
if(F>A){k+=64;F=0}R+=I}}else{_=K.U(c);for(var s=0;s<c;s+=l){var z=s+l,h=a(j,R);R+=4;while(p<z&&R<X){var d=j[R];
R++;if(d<128)for(var v=0;v<d+1;v++){_[p++]=j[R++];if(n)continue;_[p++]=j[R++];_[p++]=j[R++]}else{d-=127;
for(var v=0;v<d;v++){_[p++]=j[R+0];if(n)continue;_[p++]=j[R+1];_[p++]=j[R+2]}R+=n?1:3}}}}if(n){for(var v=0;
v<c;v++)n[v*4+3]=_[v];return[_,new b4(0,0,q,U)]}if(Q){Y=K.U(c*4);for(var v=0;v<c;v++){var C=v<<2,l=2+_[v]*4;
Y[C]=Q[l];Y[C+1]=Q[l+1];Y[C+2]=Q[l+2];Y[C+3]=255}}else{q=Math.round(q/3);c=q*U;Y=K.U(c*4);for(var v=0;
v<c;v++){var E=v*3,C=v<<2;Y[C]=_[E];Y[C+1]=_[E+1];Y[C+2]=_[E+2];Y[C+3]=255}}return[Y,new b4(0,0,q,U)]};
fj.a1E={};fj.a1E.z5=function(j){var n=new Uint8Array(j),Q=L.vS,R=16;if(L.AP(n,0,4)!="chlv")throw"e";
var a=Q(n,4),B=Q(n,8),m=Q(n,12),q=[];while(R<n.length){var U=Q(n,R),l=Q(n,R+48),b=Q(n,R+52),D=l*b,c=l*4,_=K.U(l*b*4);
_.fill(255);for(var p=0;p<b;p++)for(var X=0;X<l;X+=4){var v=p*l+X,g=v*4,F=R+108+(v>>>2)*6;_[g]=n[F+1];
_[g+4]=n[F+3];_[g+8]=n[F+4];_[g+12]=n[F+5];for(var k=0;k<16;k+=4){_[g+k+1]=n[F+0];_[g+k+2]=n[F+2]}}var I=new Int8Array(_.buffer),e=new Uint8ClampedArray(_.buffer);
for(var p=0;p<b;p++)for(var X=0;X<l;X++){var v=(p*l+X)*4,H=_[v],A=I[v+1],Z=I[v+2],J=H+(45*Z>>5),s=H-(11*A+23*Z>>5),E=H+(113*A>>6);
e[v]=J;e[v+1]=s;e[v+2]=E}R+=U+4;q.push({nJ:new b4(0,0,l,b),data:_.buffer,YU:"_a_"+q.length})}return q};
var gz={};gz.oB=!1;gz.a88=!1;gz.DE=!1;gz.q$=document.createElement("canvas");gz.Pf=null;gz.tm=null;gz.NP=0;
(function(){var j={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},n;if(!n)n=gz.q$.getContext("webgl2",j);
if(n){gz.oB=!0;gz.a88=!0;gz.Pf=n;gz.tm=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,gz.tm);
n.disable(n.BLEND);n.disable(n.DEPTH_TEST);var Q=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,Q);n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW);
n.enableVertexAttribArray(0);n.vertexAttribPointer(0,2,n.FLOAT,!1,0,0)}}());gz.axr=function(j){j=j.replace(/\s\s+/g," ");
j=j.replace(/; /g,";");j=j.replace(/} /g,"}");j=j.replace(/ }/g,"}");j=j.replace(/{ /g,"{");j=j.replace(/ {/g,"{");
j=j.replace(/= /g,"=");j=j.replace(/ =/g,"=");j=j.replace(/\| /g,"|");j=j.replace(/ \|/g,"|");return j};
gz.Ec=function(j){var n=gz.Pf;if(j>n.getParameter(n.MAX_TEXTURE_SIZE)){gz.oB=!1;alert("Disabling WebGL")}};
gz.xL=function(j,n){return new Float32Array([(j.x-n.x)/n.q,(j.y-n.y)/n._,j.q/n.q,j._/n._])};gz.uq=function(){return this.q$};
gz.Rf=function(j,n){var Q=gz.Pf;Q.bindFramebuffer(Q.FRAMEBUFFER,gz.tm);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,j.K8,0);
Q.viewport(0,0,j.q,j._);if(n){Q.enable(Q.SCISSOR_TEST);Q.scissor(n.x,n.y,n.q,n._)}else Q.disable(Q.SCISSOR_TEST)};
gz.aG4=function(j,n,Q){if(Q)throw"error";var a=gz.Pf;a.disable(a.SCISSOR_TEST);a.bindFramebuffer(a.FRAMEBUFFER,null);
a.viewport(0,0,j,n);if(Q){a.enable(a.SCISSOR_TEST);a.scissor(Q.x,Q.y,Math.round(Q.q),Math.round(Q._))}else a.disable(a.SCISSOR_TEST)};
gz.sq=function(){var j=gz.Pf;j.colorMask(!1,!1,!1,!0);gz.jl(255<<24);j.colorMask(!0,!0,!0,!0)};gz.jl=function(j){var n=gz.Pf,Q=(j>>>0&255)*(1/255),a=(j>>>8&255)*(1/255),B=(j>>>16&255)*(1/255),m=(j>>>24&255)*(1/255);
n.clearColor(Q,a,B,m);n.clear(n.COLOR_BUFFER_BIT)};gz.Ej=function(j,n,Q,a,B){var m=n.uf(a);if(B)m=m.uf(B);
if(m.ke())return;var R=gz.Pf;gz.Rf(j);R.bindTexture(R.TEXTURE_2D,Q.K8);R.copyTexSubImage2D(R.TEXTURE_2D,0,m.x-a.x,m.y-a.y,m.x-n.x,m.y-n.y,m.q,m._)};
gz.cy=function(v,j,n){var Q=gz.akC[v];if(Q==null||Q.q!=j||Q._!=n){if(Q)Q.delete();Q=new gz.aL(j,n)}gz.akC[v]=Q;
return Q};gz.akC=[];gz.Ho=function(){this.F$=null;this.Cg=null};gz.Ho.cl=null;gz.Ho.prototype.a3=function(j){if(this.Cg)return;
this.Cg={};var n=gz.Pf,Q=this.F$,a=this.Cg;for(var v=0;v<j.length;v++){var B=j[v];a[B]=n.getUniformLocation(Q,B)}};
gz.Ho.prototype.k8=function(){};gz.Ho.prototype.q4=function(j){var n=gz.Pf;for(var v=0;v<j.length;v+=2){n.uniform1i(j[v],v>>>1);
n.activeTexture(n["TEXTURE"+(v>>>1)]);n.bindTexture(n.TEXTURE_2D,j[v+1])}n.activeTexture(n.TEXTURE0)};
gz.Ho.prototype.Ei=function(j,n){var Q=gz.Pf,a=Q.createShader(Q.FRAGMENT_SHADER);Q.shaderSource(a,j);
Q.compileShader(a);if(!Q.getShaderParameter(a,Q.COMPILE_STATUS))console.log(Q.getShaderInfoLog(a));var B=Q.createShader(Q.VERTEX_SHADER);
Q.shaderSource(B,n);Q.compileShader(B);if(!Q.getShaderParameter(B,Q.COMPILE_STATUS))console.log(Q.getShaderInfoLog(B));
var m=Q.createProgram();Q.attachShader(m,B);Q.attachShader(m,a);Q.linkProgram(m);if(!Q.getProgramParameter(m,Q.LINK_STATUS))console.log("Could not initialise shaders");
this.F$=m};gz.Ho.prototype._c=function(){if(gz.Ho.cl!=this){gz.Pf.useProgram(this.F$);gz.Ho.cl=this}};
gz.xF=function(j,n,Q){gz.pN++;gz.NP+=j*n;if(gz.DE)console.log("GL.Channels instances: "+gz.pN+", memory: "+gz.NP);
var a=gz.Pf;this.q=j;this._=n;if(Q==null)Q=8;if(Q==16){a.getExtension("EXT_texture_norm16")}this.depth=Q;
this.zC=Q==8?a.R8:Q==16?33322:a.R32F;this.xQ=Q==8?a.RED:Q==16?a.RED:a.RED;this.w0=Q==8?a.UNSIGNED_BYTE:Q==16?a.UNSIGNED_SHORT:a.FLOAT;
this.K8=a.createTexture();this.C8=null;this.Vb(this.K8,j,n)};gz.xF.prototype.Vb=function(j,n,Q){var a=gz.Pf;
a.bindTexture(a.TEXTURE_2D,j);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);
a.texImage2D(a.TEXTURE_2D,0,this.zC,n,Q,0,this.xQ,this.w0,null)};gz.xF.prototype.set=function(j,n){var Q=gz.Pf;
Q.bindTexture(Q.TEXTURE_2D,this.K8);Q.pixelStorei(Q.UNPACK_ALIGNMENT,1);var a=this.q*this._;if(n==null||n.$()*10>a)Q.texImage2D(Q.TEXTURE_2D,0,this.zC,this.q,this._,0,this.xQ,this.w0,j);
else{var B=new b4(0,0,this.q,this._),m=K.U(n.$());K.Gc(j,B,m,n);Q.texSubImage2D(Q.TEXTURE_2D,0,n.x,n.y,n.q,n._,this.xQ,this.w0,m)}Q.pixelStorei(Q.UNPACK_ALIGNMENT,4)};
gz.xF.prototype.delete=function(){var j=gz.Pf;if(this.K8){j.deleteTexture(this.K8);gz.pN--;gz.NP-=this.q*this._}if(gz.DE)if(gz.DE)console.log("GL.Channels instances: "+gz.pN+", memory: "+gz.NP*4)};
gz.pN=0;gz.aL=function(j,n,Q,a){if(Q==null)Q=8;if(a==null)a=!1;gz.pN++;gz.NP+=j*n*4;if(gz.DE)console.log("GL.Channels instances: "+gz.pN+", memory: "+gz.NP);
var B=gz.Pf;if(Q==16){B.getExtension("EXT_texture_norm16")}if(Q==32){B.getExtension("EXT_color_buffer_float");
if(B.getExtension("OES_texture_float_linear")==null)a=!1}this.aiE=a;this.q=j;this._=n;this.depth=Q;this.zC=Q==8?B.RGBA:Q==16?32859:Q==32?B.RGBA32F:B.RGBA16F;
this.xQ=Q==8?B.RGBA:Q==16?B.RGBA:B.RGBA;this.w0=Q==8?B.UNSIGNED_BYTE:Q==16?B.UNSIGNED_SHORT:B.FLOAT;
this.K8=B.createTexture();this.C8=null;this.Vb(this.K8,j,n)};gz._m=function(){var j=gz.Pf;return j.getExtension("OES_texture_float_linear")?32:33};
gz.aL.prototype.set=function(j,n){var Q=gz.Pf;Q.disable(Q.SCISSOR_TEST);Q.bindTexture(Q.TEXTURE_2D,this.K8);
if(j==null||j instanceof Uint8Array||j instanceof Uint16Array||j instanceof Float32Array){var a=this.q,B=this._,m=a*B;
if((n==null||n.$()*10>m)&&(j==null||j.length>=m*4))Q.texImage2D(Q.TEXTURE_2D,0,this.zC,a,B,0,this.xQ,this.w0,j);
else{var R=j;if(j.length==m*4){var R=K.U(n.$()*4);K.EC(j,new b4(0,0,a,B),R,n)}Q.texSubImage2D(Q.TEXTURE_2D,0,n.x,n.y,n.q,n._,this.xQ,this.w0,R)}}else Q.texImage2D(Q.TEXTURE_2D,0,this.zC,this.xQ,this.w0,j)};
gz.aL.prototype.get=function(j){var n=gz.Pf;gz.Rf(this);n.readPixels(0,0,this.q,this._,this.xQ,this.w0,j)};
gz.aL.prototype.A3=function(j){if(j.ke())return;var n=gz.Pf;if(this.C8==null){this.C8=n.createTexture();
this.Vb(this.C8,this.q,this._);gz.pN++;gz.NP+=this.q*this._*4}n.bindFramebuffer(n.FRAMEBUFFER,gz.tm);
n.bindTexture(n.TEXTURE_2D,this.C8);if(j){var Q=Math.max(j.x,0),a=Math.max(j.y,0);n.copyTexSubImage2D(n.TEXTURE_2D,0,Q,a,Q,a,j.q,j._)}else n.copyTexImage2D(n.TEXTURE_2D,0,this.xQ,0,0,this.q,this._,0)};
gz.aL.prototype.Vb=function(j,n,Q){var a=gz.Pf;a.bindTexture(a.TEXTURE_2D,j);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.aiE?a.LINEAR:a.NEAREST);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texImage2D(a.TEXTURE_2D,0,this.zC,n,Q,0,this.xQ,this.w0,null)};
gz.aL.prototype.delete=function(){var j=gz.Pf;if(this.K8){j.deleteTexture(this.K8);gz.pN--;gz.NP-=this.q*this._*4}if(this.C8){j.deleteTexture(this.C8);
gz.pN--;gz.NP-=this.q*this._*4}if(gz.DE)if(gz.DE)console.log("GL.Channels instances: "+gz.pN+", memory: "+gz.NP)};
gz.aL.prototype.O=function(){var j=gz.Pf,n=new gz.aL(this.q,this._);gz.Rf(this);j.bindTexture(j.TEXTURE_2D,n.K8);
j.copyTexImage2D(j.TEXTURE_2D,0,this.xQ,0,0,this.q,this._,0);return n};gz.Fc={aE1:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aFI:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",cU:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",ER:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",asa:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",UG:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",GD:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",_F:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a8k:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",jC:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",anQ:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",ri:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",aj$:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Wd:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",BK:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",AK:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Qq:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",JG:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Bd:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",apx:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",axt:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",h0:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",aeJ:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
gz.L={};gz.L.xC={};gz.L.a2P=null;gz.L.XI=null;gz.L.Kh=null;gz.L.anU=function(j,n,Q,a,B,m,R,q){if(q==null)q=gq.EK();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(j)==-1){R=R*q.fill;q.fill=1;q.style=!1}var U=j+(q.am?"1":"");
if(gz.L.xC[U]==null)gz.L.xC[U]=new gz.L.yE(j,q.am!=null);var l=gz.L.xC[U],b=Q.uf(B).uf(m);b.offset(-B.x,-B.y);
if(b.ke())return;var D=gz.Pf;gz.Rf(a,b);a.A3(b);l._c();l.k8(n.K8,a.C8,gz.xL(Q,B),R,q.fill,q.style?1:0,q.Xu?1:0,q.am?new Float32Array(q.am):null);
D.drawArrays(D.TRIANGLES,0,6)};gz.L.g9=function(j,n,Q,a,B,m,R,q,U,l,b){if(gz.L.ate==null)gz.L.ate=new gz.L.ha(!0,!0,1);
if(gz.L.a4N==null)gz.L.a4N=new gz.L.ha(!0,!0,4);if(gz.L.XI==null)gz.L.XI=new gz.L.ha(!0,!1,1);if(gz.L.Kh==null)gz.L.Kh=new gz.L.ha(!1,!0,1);
var D=l?1:0,c=j?B?B instanceof gz.xF?gz.L.ate:gz.L.a4N:gz.L.XI:gz.L.Kh,_=new Float32Array(b?[b[0],b[1],b[2],1]:[1,1,1,1]),p=n?n.uf(a).uf(q):a.uf(q);
if(p.ke())return;p.offset(-a.x,-a.y);var X=gz.Pf;gz.Rf(Q,p);Q.A3(p);c._c();if(j==null)c.k8(null,Q.C8,B.K8,gz.xL(a,a),gz.xL(m,a),R/255,U,D,_);
else if(B)c.k8(j.K8,Q.C8,B.K8,gz.xL(n,a),gz.xL(m,a),R/255,U,D,_);else c.k8(j.K8,Q.C8,null,gz.xL(n,a),null,R/255,U,D,_);
X.drawArrays(X.TRIANGLES,0,6)};gz.L.afL=function(j,n,Q){if(gz.L.a2N==null)gz.L.a2N=new gz.L.Cu;var a=gz.L.a2N,B=new b4(0,0,j.q,j._),m=gz.Pf;
gz.Rf(n);n.A3(B);a._c();a.k8(B,j.K8,n.C8,Q.K8);m.drawArrays(m.TRIANGLES,0,6)};gz.L.UT={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
gz.L.yE=function(j,n){gz.Ho.call(this);var Q="\t\t\tprecision highp float;\t\t\t"+gz.Fc.cU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(n?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+gz.Fc.UG+"\t\t\t"+gz.Fc.GD+"\t\t\t"+gz.Fc._F+"\t\t\t"+gz.Fc.aE1+"\t\t\t"+gz.Fc.aFI+"\t\t\t"+gz.Fc.a8k+"\t\t\t"+gz.Fc.jC+"\t\t\t"+gz.Fc.anQ+"\t\t\t"+gz.Fc.ri+"\t\t\t"+gz.Fc.hash+"\t\t\t"+(n?gz.Fc.h0:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+gz.L.UT[j]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",a="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(j=="diss")Q+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else Q+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(n?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Ei(Q,a)};gz.L.yE.prototype=new gz.Ho;gz.L.yE.prototype.k8=function(j,n,Q,a,B,m,R,q){this.a3("srct alpha source target fill style keepBGA blIf".split(" "));
var U=gz.Pf,l=this.Cg;U.uniform4fv(l.srct,Q);U.uniform1f(l.alpha,a);U.uniform1f(l.fill,B);U.uniform1f(l.style,m);
U.uniform1f(l.keepBGA,R);if(q)U.uniform4fv(l.blIf,q);this.q4([l.source,j,l.target,n])};gz.L.ha=function(j,n,Q){gz.Ho.call(this);
this.a6u=j;this.Wh=n;var a="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+gz.Fc.aj$+"\t\t\t"+gz.Fc.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(j?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(n?"* (in01(wCoord) ? texture2D(weight, wCoord)."+(Q==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(j?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(n?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",B="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Ei(a,B)};gz.L.ha.prototype=new gz.Ho;gz.L.ha.prototype.k8=function(j,n,Q,a,B,m,R,q,U){if(this.Wh)this.a3("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.a3("srct awg dissv source target cswitch".split(" "));var l=gz.Pf,b=this.Cg;l.uniform4fv(b.srct,a);
if(this.Wh){l.uniform4fv(b.wrct,B);l.uniform1f(b.wcolor,m)}else{l.uniform4fv(b.cswitch,U)}l.uniform1f(b.awg,R);
l.uniform1f(b.dissv,q);var D=[b.source,j,b.target,n];if(this.Wh)D.push(b.weight,Q);this.q4(D)};gz.L.Cu=function(){gz.Ho.call(this);
var j="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",n="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Ei(j,n)};gz.L.Cu.prototype=new gz.Ho;gz.L.Cu.prototype.k8=function(j,n,Q,a){this.a3(["rct","prev","next","alpha"]);
var B=gz.Pf,m=this.Cg;B.uniform4fv(m.rct,[0,0,1,1]);this.q4([m.prev,n,m.next,Q,m.alpha,a])};gz.R9={tX:{},tD:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
gz.R9.df=function(j,n){var Q=k8.cn,a=[Q.Yq,Q.WT,Q.go,Q.TP,Q.n4,Q.Kx,Q.bu,Q.eG].indexOf(j.w),B=gz.R9.tX[j.w];
if(B==null)B=gz.R9.tX[j.w]=new gz.tX[a];B._c();B.k8(n,j);gz.Pf.drawArrays(gz.Pf.TRIANGLES,0,6)};gz.tX=[];
gz.tX[0]=function(){gz.Ho.call(this);this.au2={};var j="\t\t\tprecision mediump float;\t\t\t"+gz.Fc.GD+"\t\t\t"+gz.Fc.cU+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Ei(j,gz.R9.tD)};gz.tX[0].prototype=new gz.Ho;gz.tX[0].prototype.k8=function(j,n){var Q={n:n.SV,i:n.HA,b:n.Er,NX:new Float32Array(n.SV.length)},a=Q.n.length,B=this.au2["m"+a];
if(B==null)B=this.au2["m"+a]={axS:new gz.aL(a,1,32),jB:K.U(a*4,32)};K.Y1(Q,B.jB);var m=B.axS;m.set(B.jB);
this.a3(["source","map","toGray","presLum"]);var R=gz.Pf,q=this.Cg;R.uniform1f(q.toGray,n.AG?1:0);R.uniform1f(q.presLum,n.ML?1:0);
this.q4([q.source,j,q.map,m.K8])};gz.tX[1]=function(){gz.Ho.call(this);this.SN=new gz.aL(256,1,32);this.aHA=K.U(256*4,32);
var j="\t\t\t\tprecision mediump float;\t\t\t\t"+gz.Fc.AK+"\t\t\t\t"+gz.Fc.Wd+"\t\t\t\t"+gz.Fc.BK+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Ei(j,gz.R9.tD)};gz.tX[1].prototype=new gz.Ho;gz.tX[1].prototype.k8=function(j,n){K.Y1({n:n.a56,i:n.PB,b:n.akI,NX:K.U(256)},this.aHA);
this.SN.set(this.aHA);this.a3(["source","map","cfa","cfb","colorize"]);var Q=gz.Pf,a=this.Cg;Q.uniform1f(a.cfa,n.aFo);
Q.uniform1f(a.cfb,n.kK);Q.uniform1i(a.colorize,n.aqN);this.q4([a.source,j,a.map,this.SN.K8])};gz.tX[2]=function(){gz.Ho.call(this);
var j="\t\t\tprecision mediump float;\t\t\t"+gz.Fc.AK+"\t\t\t"+gz.Fc.Qq+"\t\t\t"+gz.Fc.JG+"\t\t\t"+gz.Fc.Wd+"\t\t\t"+gz.Fc.BK+"\t\t\t"+gz.Fc.apx+"\t\t\t"+gz.Fc.axt+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Ei(j,gz.R9.tD)};gz.tX[2].prototype=new gz.Ho;gz.tX[2].prototype.k8=function(j,n){this.a3(["source","vib","sat","yF"]);
var Q=gz.Pf,a=this.Cg;Q.uniform1f(a.vib,n._X[0]);Q.uniform1f(a.sat,n._X[1]);Q.uniform3fv(a.yF,new Float32Array([n._X[2],n._X[3],n._X[3]]));
this.q4([a.source,j])};gz.tX[3]=function(){gz.Ho.call(this);var j="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Ei(j,gz.R9.tD)};gz.tX[3].prototype=new gz.Ho;gz.tX[3].prototype.k8=function(j,n){this.a3(["source","trf"]);
var Q=gz.Pf,a=this.Cg;Q.uniformMatrix4fv(a.trf,!1,new Float32Array(K.wz.UI(n.uS)));this.q4([a.source,j])};
gz.tX[4]=function(){gz.Ho.call(this);var j="\t\t\tprecision mediump float; \t\t\t"+gz.Fc.Bd+"\t\t\t"+gz.Fc.AK+"\t\t\t"+gz.Fc.BK+"\t\t\t"+gz.Fc.Wd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Ei(j,gz.R9.tD)};gz.tX[4].prototype=new gz.Ho;gz.tX[4].prototype.k8=function(j,n){this.a3(["source","mnm","mxm","shift","lim"]);
var Q=gz.Pf,a=this.Cg;Q.uniform3fv(a.mnm,new Float32Array(n.nv));Q.uniform3fv(a.mxm,new Float32Array(n.fD));
Q.uniform3fv(a.shift,new Float32Array(n.shift));Q.uniform1f(a.lim,n.sH);this.q4([a.source,j])};gz.tX[5]=function(){gz.Ho.call(this);
var j="\t\t\tprecision mediump float;\t\t\t"+gz.Fc.cU+"\t\t\t"+gz.Fc.ER+"\t\t\t"+gz.Fc.asa+"\t\t\t"+gz.Fc.Wd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Ei(j,gz.R9.tD)};gz.tX[5].prototype=new gz.Ho;gz.tX[5].prototype.k8=function(j,n){this.a3(["source","cfs"]);
var Q=gz.Pf,a=this.Cg;Q.uniform3fv(a.cfs,n.ad5);this.q4([a.source,j])};gz.tX[6]=function(){gz.Ho.call(this);
var j="\t\t\tprecision mediump float;\t\t\t"+gz.Fc.AK+"\t\t\t"+gz.Fc.ER+"\t\t\t"+gz.Fc.asa+"\t\t\t"+gz.Fc.Wd+"\t\t\t"+gz.Fc.BK+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Ei(j,gz.R9.tD)};gz.tX[6].prototype=new gz.Ho;gz.tX[6].prototype.k8=function(j,n){this.a3(["source","wght","prms"]);
var Q=gz.Pf,a=this.Cg,B=[n.vM,n.a97,n.GD,n.aCN,n.es,n.aiD];Q.uniform1fv(a.wght,new Float32Array(n.adm));
Q.uniform1fv(a.prms,new Float32Array(B));this.q4([a.source,j])};gz.tX[7]=function(){gz.Ho.call(this);
this.Bs={};var j="\t\t\tprecision mediump float;\t\t\t"+gz.Fc.aeJ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Ei(j,gz.R9.tD)};gz.tX[7].prototype=new gz.Ho;gz.tX[7].prototype.k8=function(j,n){this.a3(["source","lut","N"]);
var Q=gz.Pf,a=this.Cg,B=n.uN,m=n.FJ;if(this.Bs["m"+B]==null)this.Bs["m"+B]=new gz.aL(B,B*B,gz._m());
var R=this.Bs["m"+B];R.set(m);Q.uniform1f(a.N,B);this.q4([a.source,j,a.lut,R.K8]);Q.activeTexture(Q.TEXTURE1);
var q=Q.LINEAR;Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,q);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,q);
Q.activeTexture(Q.TEXTURE0)};gz.filter={LR:{},tD:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aFO:0,avz:1,oo:2,aew:8,alU:3,atr:4,anh:5,YL:6,af5:7};
gz.filter.df=function(j,n){var Q=gz.filter,a,B=j.w+":"+(j.Ls?j.Ls.join(","):""),a=gz.filter.LR[B];if(a==null)a=gz.filter.LR[B]=new gz.LR[j.w](j.Ls);
a._c();a.k8(n,j);gz.Pf.drawArrays(gz.Pf.TRIANGLES,0,6)};gz.LR=[0,0,0,0,0,0,0,0,0,0,0,0];gz.LR[7]=function(){gz.Ho.call(this);
var j="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Ei(bw.ZS(j),bw.ZS(gz.filter.tD))};gz.LR[7].prototype=new gz.Ho;gz.LR[7].prototype.k8=function(j,n){this.a3(["source","iwh","kern"]);
var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);Q.uniform1fv(a.kern,n.aiV);this.q4([a.source,j])};gz.LR[6]=function(j){gz.Ho.call(this);
var n=j[0],Q=j[1],a=j[2],B="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",m=bw.ZS(B);
m=m.replaceAll("PRC",a+".0");m=m.replaceAll("DIR",["x,0","0,x"][Q]);this.Ei(m,gz.R9.tD)};gz.LR[6].prototype=new gz.Ho;
gz.LR[6].prototype.k8=function(j,n){this.a3(["source","iwh","rad"]);var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);
Q.uniform1f(a.rad,n.Ah);this.q4([a.source,j])};gz.LR[4]=function(j){gz.Ho.call(this);var n=j[0],Q=j[1],a="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+j[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][Q]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][n]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][Q]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(Q==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Ei(a,gz.R9.tD)};gz.LR[4].prototype=new gz.Ho;gz.LR[4].prototype.k8=function(j,n){this.a3(["source","iwh","rrad","tr"]);
var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);Q.uniform1f(a.rrad,n.pV);Q.uniform1f(a.tr,n.ae4);this.q4([a.source,j]);
var B=Q.LINEAR;B=Q.NEAREST;Q.activeTexture(Q.TEXTURE0);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,B);
Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,B);Q.activeTexture(Q.TEXTURE0)};gz.LR[5]=function(){gz.Ho.call(this);
var j="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Ei(bw.ZS(j),bw.ZS(gz.filter.tD))};gz.LR[5].prototype=new gz.Ho;gz.LR[5].prototype.k8=function(j,n){this.a3(["source","ssum","iwh","amnt","edgf"]);
var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);Q.uniform1f(a.amnt,n.aFL);Q.uniform1f(a.edgf,n.aeG);this.q4([a.source,j,a.ssum,n.axC])};
gz.LR[3]=function(){gz.Ho.call(this);var j="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Ei(bw.ZS(j),bw.ZS(gz.filter.tD))};gz.LR[3].prototype=new gz.Ho;gz.LR[3].prototype.k8=function(j,n){this.a3("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);Q.uniform1f(a.tdep,n.aCY);Q.uniform1f(a.rrad,n.pV);Q.uniform2fv(a.spec,n.aEZ);
Q.uniform3fv(a.nois,n.a2l);Q.uniformMatrix4fv(a.poly0,!1,n.ayY);Q.uniformMatrix4fv(a.poly1,!1,n.a1o);
this.q4([a.source,j]);var B=Q.LINEAR;Q.activeTexture(Q.TEXTURE0);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,B);
Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,B);Q.activeTexture(Q.TEXTURE0)};gz.LR[0]=function(){gz.Ho.call(this);
var j="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Ei(bw.ZS(j),bw.ZS(gz.filter.tD))};gz.LR[0].prototype=new gz.Ho;gz.LR[0].prototype.k8=function(j,n){this.a3(["source","iwh","ld","shine"]);
var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);Q.uniform3fv(a.ld,n.ahi);Q.uniform1f(a.shine,n.aGU);this.q4([a.source,j,a.tang,n.SQ])};
gz.LR[1]=function(){gz.Ho.call(this);var j="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Ei(bw.ZS(j),bw.ZS(gz.filter.tD))};gz.LR[1].prototype=new gz.Ho;gz.LR[1].prototype.k8=function(j,n){this.a3(["source","iwh","isc","bristle"]);
var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);Q.uniform1f(a.isc,n.a4K);Q.uniform1f(a.bristle,n.aoJ);
this.q4([a.source,j])};gz.LR[2]=function(){gz.Ho.call(this);var j="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Ei(bw.ZS(j),bw.ZS(gz.filter.tD))};gz.LR[2].prototype=new gz.Ho;gz.LR[2].prototype.k8=function(j,n){this.a3(["source","tang","iwh","sigma","expo"]);
var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);Q.uniform1f(a.sigma,n.R5);Q.uniform1f(a.expo,n.je);this.q4([a.source,j,a.tang,n.SQ]);
var B=Q.LINEAR;Q.activeTexture(Q.TEXTURE0);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,B);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,B);
Q.activeTexture(Q.TEXTURE0)};gz.LR[8]=function(){gz.Ho.call(this);var j="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.Ei(bw.OD(j),bw.ZS(gz.filter.tD))};gz.LR[8].prototype=new gz.Ho;gz.LR[8].prototype.k8=function(j,n){this.a3(["source","tang","iwh","sigma"]);
var Q=gz.Pf,a=this.Cg;Q.uniform2fv(a.iwh,n.CT);Q.uniform1f(a.sigma,n.R5);this.q4([a.source,j,a.tang,n.SQ]);
var B=Q.LINEAR;Q.activeTexture(Q.TEXTURE0);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,B);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,B);
Q.activeTexture(Q.TEXTURE0)};function K(){}K.t={};K.a0g={};K.u=function(j){return JSON.parse(JSON.stringify(j))};
K.Rz=function(j){if(j instanceof gz.aL)return j.depth;return j instanceof Float32Array?32:j instanceof Uint16Array?16:8};
K.R8=function(j,n,Q){var a=K.Rz(j),B=j.length;if(a==n)return j;if(Q==null)Q=K.U(B,n);if(n==8){if(a==16)for(var v=0;
v<B;v++)Q[v]=j[v]>>>8;if(a==32)for(var v=0;v<B;v++)Q[v]=255*j[v]}else if(n==16){if(a==8)for(var v=0;
v<B;v++)Q[v]=j[v]<<8|j[v];if(a==32)for(var v=0;v<B;v++)Q[v]=65535*j[v]}else if(n==32){if(a==8)for(var v=0;
v<B;v++)Q[v]=j[v]*(1/255);if(a==16)for(var v=0;v<B;v++)Q[v]=j[v]*(1/65535)}return Q};K.aaX=function(){var j=[64,64,128,256,512,1024,2048],n=[];
for(var v=0;v<j.length;v++){var Q=j[v],a=document.createElement("canvas");a.width=Q;a.height=Q;n.push(a.getContext("2d",{willReadFrequently:!0}))}return n}();
K.uq=function(j,n){var Q,a=K.aaX,v=1,B=Math.max(j,n);while(v<a.length&&B>a[v].canvas.width)v++;if(v==a.length){Q=a[0];
var m=Q.canvas;m.width=j;m.height=n}else{Q=a[v];Q.clearRect(0,0,j,n)}return Q};K.le=function(j,n,Q,a){if(a==null)a=new Uint32Array(n*Q);
a[0]=j[0];for(var B=1;B<n;B++)a[B]=a[B-1]+j[B];for(var m=1;m<Q;m++){var v=m*n;a[v]=a[v-n]+j[v];for(var B=1;
B<n;B++)a[v+B]=j[v+B]+a[v+B-1]+a[v+B-n]-a[v+B-n-1]}return a};K.B$=function(j,n,Q,a,B,m){var R=(B-1)*n,q=m*n;
return j[q+a]-j[q+Q-1]-j[R+a]+j[R+Q-1]};K.aqq=function(j,n,Q,a){var B=n*4;if(a==null)a=new Uint32Array(n*Q*4);
a[0]=j[0];a[1]=j[1];a[2]=j[2];a[3]=j[3];for(var m=1;m<n;m++)K.a8W(j,a,4,m<<2);for(var R=1;R<Q;R++){var v=R*n<<2;
K.a8W(j,a,B,v);for(var m=4;m<B;m+=4){var q=v+m;a[q]=j[q]+a[q-4]+a[q-B]-a[q-B-4];a[q+1]=j[q+1]+a[q-3]+a[q-B+1]-a[q-B-3];
a[q+2]=j[q+2]+a[q-2]+a[q-B+2]-a[q-B-2];a[q+3]=j[q+3]+a[q-1]+a[q-B+3]-a[q-B-1]}}return a};K.a8W=function(j,n,Q,v){n[v]=n[v-Q]+j[v];
n[v+1]=n[v-Q+1]+j[v+1];n[v+2]=n[v-Q+2]+j[v+2];n[v+3]=n[v-Q+3]+j[v+3]};K.aeL=function(j,n,Q,a,B,m){var R=B+Q<<2,q=B+n<<2,U=a+Q<<2,l=a+n<<2;
m[0]+=j[R]-j[q]-j[U]+j[l];m[1]+=j[R+1]-j[q+1]-j[U+1]+j[l+1];m[2]+=j[R+2]-j[q+2]-j[U+2]+j[l+2];m[3]+=j[R+3]-j[q+3]-j[U+3]+j[l+3]};
K.gy=function(j,n,Q){var a={},B=0,m=0,R=new Uint32Array(j.buffer),q=R.length,U=Date.now();for(var l=1;
l<Q-1;l++)for(var b=1;b<n-1;b++){var D=l*n+b,c=R[D];if(c>>>24<230)m++;if(a[c]==null){a[c]=!0;B++}}if(m!=0||B<20)return!1;
return!0};K.WU=function(j,n,Q,a,B,m){if(B==null)B=m=0;a=Math.log(a)/Math.log(2);a=Math.round(a);var R=new Uint32Array(j.buffer);
for(var v=0;v<Q;v++)for(var q=0;q<n;q++){R[v*n+q]=K.ald(v+m,q+B,a)}};K.agt=function(v,j,n){return 255-((v>>>n)+(j>>>n)&1)*51};
K.ald=function(v,j,n){return 4294967295-((v>>>n)+(j>>>n)&1)*3355443};K.Hy=function(j,n){var Q=n==null?1:n/255;
return{n:(j>>>16&255)*Q,i:(j>>>8&255)*Q,b:(j&255)*Q}};K.G8=function(j,n){var Q=n==null?1:255/n;return Math.round(j.n*Q)<<16|Math.round(j.i*Q)<<8|Math.round(j.b*Q)};
K.EA=function(j){var n=j.toString(16);while(n.length<6)n="0"+n;return n};K.aap=function(j){return parseInt(j,16)};
K.GD=function(j){return.3*j.n+.59*j.i+.11*j.b};K.UG=function(j){return Math.max(j.n,j.i,j.b)-Math.min(j.n,j.i,j.b)};
K.bC=function(j,n,Q){return.3*j+.59*n+.11*Q};K.aFK=function(j,n,Q){return Math.max(j,n,Q)-Math.min(j,n,Q)};
K.ER=function(j,n){var Q=n-j,a=Math.abs(Q),B=Q-1,m=Q+1;if(Math.abs(B)<a)Q=B;else if(Math.abs(m)<a)Q=m;
return Q};K.Ku=function(j){return j<.0031308?12.92*j:1.055*Math.pow(j,1/2.4)-.055};K.ld=function(j){return j<.04045?j/12.92:Math.pow((j+.055)/1.055,2.4)};
K.aqL=function(j,n){var Q=Math.min(j.length,n.length);for(var v=0;v<Q;v+=4){var a=j[v],B=j[v+1],m=j[v+2];
n[v]=16+Math.floor(65.481/255*a+128.553/255*B+24.966/255*m+.5);n[v+1]=128-Math.floor(37.797/255*a-74.203/255*B+112/255*m+.5);
n[v+2]=128+Math.floor(112/255*a-93.786/255*B-18.214/255*m+.5);n[v+3]=j[v+3]}};K.alH=function(j,n,Q){var a,B,m,R=Math.max(j,n,Q),q=Math.min(j,n,Q);
m=R;if(R!=0)B=(R-q)/R;else B=0;if(B==0)a=0;else{var U=R-q,l=(R-j)/U,b=(R-n)/U,D=(R-Q)/U;if(j==R)a=D-b;
else if(n==R)a=2+l-D;else a=4+b-l;a*=1/6;if(a<0)a=a+1}return{WC:a,bD:B,b:m}};K.ahj=function(j,n,Q){var a=0,B=0,m=0;
if(n==0)a=B=m=Q;else{var R=(j-Math.floor(j))*6,q=Math.floor(R),U=R-Math.floor(R),l=Q*(1-n),b=Q*(1-n*U),D=Q*(1-n*(1-U));
switch(q){case 0:a=Q;B=D;m=l;break;case 1:a=b;B=Q;m=l;break;case 2:a=l;B=Q;m=D;break;case 3:a=l;B=b;
m=Q;break;case 4:a=D;B=l;m=Q;break;case 5:a=Q;B=l;m=b;break}}return{n:a,i:B,b:m}};K.Wd=function(j,n,Q){var a=Math.max(j,n,Q),B=Math.min(j,n,Q),m=0,R=0,q=(a+B)*.5;
if(a!=B){var U=a-B;R=q>.5?U/(2-(a+B)):U/(a+B);switch(a){case j:m=(n-Q)/U+(n<Q?6:0);break;case n:m=(Q-j)/U+2;
break;case Q:m=(j-n)/U+4;break}m*=1/6}return{WC:m,bD:R,IT:q}};K.BK=function(j,n,Q){var a,B,m;if(n==0)a=B=m=Q;
else{var R=Q<.5?Q*(1+n):Q+n-Q*n,q=2*Q-R;a=K.AK(q,R,j+1/3);B=K.AK(q,R,j);m=K.AK(q,R,j-1/3)}return{n:a,i:B,b:m}};
K.AK=function(j,n,Q){if(Q<0)Q+=1;if(Q>1)Q-=1;if(Q<1/6)return j+(n-j)*6*Q;if(Q<1/2)return n;if(Q<2/3)return j+(n-j)*(2/3-Q)*6;
return j};K.Qq=function(j,n,Q){var a=Math.max(j,n,Q),B=Math.min(j,n,Q),m,R,q=a,U=a-B;R=a==0?0:U/a;if(a==B)m=0;
else{switch(a){case j:m=(n-Q)/U+(n<Q?6:0);break;case n:m=(Q-j)/U+2;break;case Q:m=(j-n)/U+4;break}m*=1/6}return{WC:m,bD:R,n8:q}};
K.JG=function(j,n,Q){var a,B,m,v,R,q,U,l;v=Math.floor(j*6);R=j*6-v;q=Q*(1-n);U=Q*(1-R*n);l=Q*(1-(1-R)*n);
switch(v%6){case 0:a=Q,B=l,m=q;break;case 1:a=U,B=Q,m=q;break;case 2:a=q,B=Q,m=l;break;case 3:a=q,B=U,m=Q;
break;case 4:a=l,B=q,m=Q;break;case 5:a=Q,B=q,m=U;break}return{n:a,i:B,b:m}};K.xm=function(){var j=[],n=[];
for(var v=0;v<8e3;v++){var Q=v*(1/4e3);j[v]=K.ld(Q);n[v]=Q>.008856?Math.pow(Q,1/3):(903.3*Q+16)*(1/116)}return[j,n]}();
K.Bd=function(j,n,Q,a){if(a==null)a=[.9642,1,.8249];var B=K.xm[0],m=K.xm[1];j=B[~~(.5+j*(4e3/255))];
n=B[~~(.5+n*(4e3/255))];Q=B[~~(.5+Q*(4e3/255))];var R=K.wz.aeh,q=R[0]*j+R[1]*n+R[2]*Q,U=R[4]*j+R[5]*n+R[6]*Q,l=R[8]*j+R[9]*n+R[10]*Q;
q=q*(1/a[0]);U=U*(1/a[1]);l=l*(1/a[2]);return K.axm(q,U,l)};K.axm=function(j,n,Q){var a=K.xm[1],B=a[~~(.5+j*4e3)],m=a[~~(.5+n*4e3)],R=a[~~(.5+Q*4e3)];
return{Cm:116*m-16,NX:500*(B-m),b:200*(m-R)}};K.aY=function(j,n,Q){var a=903.3,B=.008856,m=(j+16)/116,R=m*m*m,q=m-Q/200,U=q*q*q,l=n/500+m,b=l*l*l,D=U>B?U:(116*q-16)/a,c=R>B?R:(116*m-16)/a,_=b>B?b:(116*l-16)/a,p=_*96.42,X=c*100,g=D*82.49,F=K.wz.y0(K.wz.zL,[p/100,X/100,g/100,0]);
for(var v=0;v<4;v++)F[v]=Math.max(0,Math.min(255,K.Ku(F[v])*255));return{n:F[0],i:F[1],b:F[2]}};K.a7E=function(j,n,Q,a,B){var m=j.Cm,R=j.NX,q=j.b,U=(m<n.Cm?n.Cm-m:Q.Cm<m?Q.Cm-m:0)*(1/100),l=(R<n.NX?n.NX-R:Q.NX<R?Q.NX-R:0)*(1/116),b=(q<n.b?n.b-q:Q.b<q?Q.b-q:0)*(1/116),D=Math.sqrt(U*U+l*l+b*b)*1.35;
return D<=a?Math.min(1,1.17*(1-D*B)):0};K.dm=function(j){var n=K.yu("cmykToRgb"),Q=n[2],a=n[3],B=[0,0,0,0];
ICC.U.applyLUT4Float(a,Q,j,B);return B};K.ap$=function(){var j=function(dv){return Math.round(dv*255)},n="",Q=3;
for(var v=0;v<tab.length;v++){var a=j(tab[v]);if(Q<=v)a=a-j(tab[v-Q])+256&255;n+=a.toString(16).padStart(2,"0")}return n};
K.yu=function(j){var n=LUTS["_"+j];if(n==null){var Q=LUTS[j],a=Q[0],dv=Q[1],B=Q[2],m=Q[3],R=[];for(var v=0;
v<m.length;v+=2)R.push(parseInt(m.slice(v,v+2),16));for(var v=dv;v<R.length;v++)R[v]=R[v]+R[v-dv]&255;
for(var v=0;v<R.length;v++)R[v]*=1/255;n=LUTS["_"+j]=[a,dv,B,R]}return n};K.zd=function(j){var n=K.yu("rgbToCmyk"),Q=n[2],a=n[3],B=[0,0,0,0];
ICC.U.applyLUT3to4Float(a,Q,j,B);return B};K.aBL=function(j){for(var v=0;v<j.length;v+=4){var n=[j[v+0]*(1/255),j[v+1]*(1/255),j[v+2]*(1/255)],Q=K.zd(n);
j[v+0]=255-Math.floor(.5+Q[0]*255);j[v+1]=255-Math.floor(.5+Q[1]*255);j[v+2]=255-Math.floor(.5+Q[2]*255);
j[v+3]=255-Math.floor(.5+Q[3]*255)}};K.AS=function(j,n,Q){var a=j.length,B=.3,m=.59,R=.11;if(Q){B=Q[0];
m=Q[1];R=Q[2]}for(var v=0;v<a;v+=4)n[v>>2]=~~(j[v+0]*B+j[v+1]*m+j[v+2]*R+.5)};K.YM=function(j,n){var Q=n.length;
for(var v=0;v<Q;v+=4){var a=j[v>>>2];n[v]=a;n[v+1]=a;n[v+2]=a}};K.Y1=function(j,n){if(K.Rz(j.NX)==8&&K.Rz(n)==8)K.a4S(j,n);
else for(var v=0;v<n.length;v+=4){var Q=v>>>2;n[v]=j.n[Q];n[v+1]=j.i[Q];n[v+2]=j.b[Q];n[v+3]=j.NX[Q]}};
K.a4S=function(j,n){var Q=j.NX,a=j.n,B=j.i,m=j.b,R=Math.min(j.NX.length,n.buffer.byteLength>>>2),q=4*Math.floor(R/4),U=new Uint32Array(n.buffer),l=new Uint32Array(Q.buffer),b=new Uint32Array(a.buffer),D=new Uint32Array(B.buffer),c=new Uint32Array(m.buffer);
for(var v=0;v<q;v+=4){var _=l[v>>2],p=c[v>>2],X=D[v>>2],g=b[v>>2];U[v]=_<<24|(p&255)<<16|(X&255)<<8|g&255;
U[v+1]=(_&65280)<<16|(p&65280)<<8|X&65280|(g&65280)>>>8;U[v+2]=(_&16711680)<<8|p&16711680|(X&16711680)>>>8|(g&16711680)>>>16;
U[v+3]=_&4278190080|(p&4278190080)>>>8|(X&4278190080)>>>16|(g&4278190080)>>>24}for(var v=q;v<R;v++)U[v]=Q[v]<<24|m[v]<<16|B[v]<<8|a[v]};
K.yD=function(j,n){var Q=n.NX,a=n.n,B=n.i,m=n.b,R=Math.min(n.NX.length,j.buffer.byteLength>>>2),q=4*Math.floor(R/4),U=new Uint32Array(j.buffer),l=new Uint32Array(Q.buffer),b=new Uint32Array(a.buffer),D=new Uint32Array(B.buffer),c=new Uint32Array(m.buffer);
for(var v=0;v<q;v+=4){var _=U[v],p=U[v+1],X=U[v+2],g=U[v+3];b[v>>2]=_&255|(p&255)<<8|(X&255)<<16|g<<24;
D[v>>2]=(_&65280)>>8|p&65280|(X&65280)<<8|(g&65280)<<16;c[v>>2]=(_&16711680)>>16|(p&16711680)>>8|X&16711680|(g&16711680)<<8;
l[v>>2]=_>>>24|p>>>24<<8|X>>>24<<16|g&4278190080}for(var v=q;v<R;v++){var F=U[v];a[v]=F>>0&255;B[v]=F>>8&255;
m[v]=F>>16&255;Q[v]=F>>24&255}};K._W=function(j,n,Q){var a=Math.min(j.length/4,n.length),B=K.Rz(j);if(B!=K.Rz(n))throw"e";
if(B==8){for(var v=0;v<a;v++){n[v]=j[(v<<2)+Q]}}else for(var v=0;v<a;v++){n[v]=j[(v<<2)+Q]}};K.wj=function(j,n,Q){var a=new Uint8Array(n.buffer),B=new Uint32Array(j.buffer),m=Math.min(a.length/4,j.length),v=0;
while(v+4<m){var R=B[v>>>2];a[(v<<2)+Q]=R&255;a[(v<<2)+Q+4]=R>>>8&255;a[(v<<2)+Q+8]=R>>>16&255;a[(v<<2)+Q+12]=R>>>24;
v+=4}while(v<m){a[(v<<2)+Q]=j[v];v++}};K.G5=function(j,n){new Uint32Array(j.buffer).fill(n)};K.b7=function(j,n,Q){var a=4278190080;
if(Q){a=16777215;n=n<<24}var B=new Uint32Array(j.buffer),m=B.length;for(var v=0;v<m;v++)B[v]=B[v]&a|n};
K.a0u=function(j,n,Q,a,B){if(B==null)B=0;var m=new Uint32Array(j.buffer);Q=Q.uf(n);var R=Q.x-n.x,q=Q.y-n.y,U=Q.q,l=Q._,b=n.q;
for(var D=0;D<l;D++){var v=(q+D)*b+R;for(var c=0;c<U;c++){m[v]=m[v]&B|a;v++}}};K.D1=function(j,n){var Q=Math.min(j.buffer.byteLength,n.buffer.byteLength),a=Q>>>2,j=new Uint32Array(j.buffer,0,a),n=new Uint32Array(n.buffer,0,a);
n.set(j)};K.N_=function(j,n){var Q=j.buffer.byteLength,a=n.buffer.byteLength,B=new Uint32Array(j.buffer,0,Q>>2),m=new Uint32Array(n.buffer,0,a>>2);
if(Q!=a)return!1;var R=B.length;for(var v=0;v<R;v++)if(m[v]!=B[v])return!1;return!0};K.m2=function(j){var n=new Uint32Array(j.buffer),Q=n.length;
for(var v=0;v<Q;v++)n[v]=~n[v]};K.a1u=function(j){var n=j.length;for(var v=0;v<n;v+=4){j[v]=~j[v];j[v+1]=~j[v+1];
j[v+2]=~j[v+2]}};K.aA7=function(j){var n=j.length;for(var v=3;v<n;v+=4)j[v]=~j[v]};K.ahQ=function(j){return j+(j%4==0?0:4-j%4)};
K.U=function(j,n){if(n==null)n=8;var Q=n==8?Uint8Array:n==16?Uint16Array:Float32Array;if(n==8)j=K.ahQ(j);
if(n==16)j+=j&1;try{var a=new Q(j)}catch(bY){alert("Not enough RAM! (need "+Math.round(j/(1<<20))+" MB)",7e3);
throw"low_ram"}return a};K.aoL=function(j){var n=j.nJ.q,Q=j.nJ._,a=n*4,B=n*Q,m=new Uint8Array(j.data),R=0,q=0;
for(var U=1;U<Q;U++)for(var l=1;l<n;l++){var v=(U*n+l)*4;if(m[v-1]==0&&m[v+3]==0&&m[v-a+3]==0){q++;var b=m[v],D=m[v+1],c=m[v+2],_=b-m[v-4],p=b-m[v-a],X=D-m[v-3],g=D-m[v-a+1],F=c-m[v-2],k=c-m[v-a+2];
if(_*_+X*X+F*F!=0&&p*p+g*g+k*k!=0)R++}}if(q/B>.01&&R/q>.05){var I=K.U(n*Q);K._W(m,I,3);j.Kj=[I];for(var v=0;
v<m.length;v+=4)m[v+3]=255}};K.a4G=function(j,n,Q,a){if(a==null)a=0;var B=0;while(B+3<j.length&&j[B+3].$()>=a&&n.P8()*(1<<(B>>>1))<Q)B+=2;
var m=j[1],R=j[B+1],q=new j8;q.translate(-R.x,-R.y);q.scale(m.q/R.q,m._/R._);q.translate(m.x,m.y);q.concat(n);
return[B,q]};K.xu=function(j){var n=j.length,Q=j[n-2],a=j[n-1];while(a.q>=2&&a._>=2){var B=K.jk(Q,a);
j.push(B.jB,B.s);Q=B.jB;a=B.s}};K.hY=function(j){var n=j.length,Q=j[n-2],a=j[n-1];while(a.q>=2&&a._>=2){var B=K.fj(Q,a);
j.push(B.jB,B.s);Q=B.jB;a=B.s}};K.jk=function(j,n,Q){var a=n.q,B=n._,m=a>>1,R=B>>1,q=new b4(n.x>>>1,n.y>>>1,m,R),U=Q&&Q.length==m*R*4?Q:K.U(m*R*4),l=new Uint32Array(j.buffer),b=new Uint32Array(U.buffer);
for(var D=0;D<R;D++)for(var c=0;c<m;c++){var _=D*m+c,p=(D<<1)*a+(c<<1),X=l[p],g=l[p+1],F=l[p+a],k=l[p+a+1],I=X>>>24,e=g>>>24,H=F>>>24,A=k>>>24,Z=I+e+H+A;
if(Z==1020){var J=(X>>>0&255)+(g>>>0&255)+(F>>>0&255)+(k>>>0&255)+2>>>2,s=(X>>>8&255)+(g>>>8&255)+(F>>>8&255)+(k>>>8&255)+2>>>2,E=(X>>>16&255)+(g>>>16&255)+(F>>>16&255)+(k>>>16&255)+2>>>2;
b[_]=255<<24|E<<16|s<<8|J}else if(Z==0)b[_]=0;else{var J=(X>>>0&255)*I+(g>>>0&255)*e+(F>>>0&255)*H+(k>>>0&255)*A,s=(X>>>8&255)*I+(g>>>8&255)*e+(F>>>8&255)*H+(k>>>8&255)*A,E=(X>>>16&255)*I+(g>>>16&255)*e+(F>>>16&255)*H+(k>>>16&255)*A,z=1/Z;
J=~~(J*z+.5);s=~~(s*z+.5);E=~~(E*z+.5);b[_]=Z+2>>>2<<24|E<<16|s<<8|J}}return{s:q,jB:U}};K.aHO=function(j,n,Q){var a=n.q,B=n._,m=a>>1,R=B>>1,q=new b4(n.x,n.y,m,R),U=Q&&Q.length==m*R*4?Q:K.U(m*R*4),l=new Uint32Array(j.buffer),b=new Uint32Array(U.buffer);
for(var D=0;D<R;D++)for(var c=0;c<m;c++){var _=D*m+c,p=(D<<1)*a+(c<<1),X=l[p],g=l[p+1],F=l[p+a],k=l[p+a+1],I=2+(X>>>0&255)+(g>>>0&255)+(F>>>0&255)+(k>>>0&255)>>>2,e=2+(X>>>8&255)+(g>>>8&255)+(F>>>8&255)+(k>>>8&255)>>>2,H=2+(X>>>16&255)+(g>>>16&255)+(F>>>16&255)+(k>>>16&255)>>>2,A=2+(X>>>24&255)+(g>>>24&255)+(F>>>24&255)+(k>>>24&255)>>>2;
b[_]=A<<24|H<<16|e<<8|I}return{s:q,jB:U}};K.aE_=function(j,n,Q){var a=n.q,B=n._,m=2*Math.floor(a/3),R=2*Math.floor(B/3),q=new b4(n.x,n.y,m,R),U=Q&&Q.length==m*R*4?Q:K.U(m*R*4),l=new Uint32Array(j.buffer),b=new Uint32Array(U.buffer);
for(var D=0;D<R;D+=2)for(var c=0;c<m;c+=2){var _=D*m+c,p=(D*3>>>1)*a+(c*3>>>1),X=l[p],g=l[p+1],F=l[p+2],k=l[p+a],I=l[p+1+a],e=l[p+2+a],H=l[p+a+a],A=l[p+1+a+a],Z=l[p+2+a+a],J=X>>>24<<2,s=(X>>>16&255)*J,E=(X>>>8&255)*J,z=(X&255)*J,h=g>>>24<<1,d=(g>>>16&255)*h,Y=(g>>>8&255)*h,C=(g&255)*h,i=F>>>24<<2,M=(F>>>16&255)*i,W=(F>>>8&255)*i,$=(F&255)*i,P=k>>>24<<1,O=(k>>>16&255)*P,G=(k>>>8&255)*P,t=(k&255)*P,y=I>>>24,r=(I>>>16&255)*y,u=(I>>>8&255)*y,S=(I&255)*y,w=e>>>24<<1,dj=(e>>>16&255)*w,o=(e>>>8&255)*w,T=(e&255)*w,i6=H>>>24<<2,bH=(H>>>16&255)*i6,cg=(H>>>8&255)*i6,bu=(H&255)*i6,hH=A>>>24<<1,dK=(A>>>16&255)*hH,d8=(A>>>8&255)*hH,d1=(A&255)*hH,gH=Z>>>24<<2,kh=(Z>>>16&255)*gH,ay=(Z>>>8&255)*gH,dO=(Z&255)*gH,fy=J+h+P+y,bg=i+h+w+y,f4=i6+hH+P+y,jb=gH+hH+w+y,jT=fy==0?0:1/fy,jy=bg==0?0:1/bg,cl=f4==0?0:1/f4,hu=jb==0?0:1/jb,aA=0,ko=0,ec=0,kK=0;
aA=~~(.5+(z+C+t+S)*jT);ko=~~(.5+(E+Y+G+u)*jT);ec=~~(.5+(s+d+O+r)*jT);kK=~~(.5+fy*(1/9));b[_]=kK<<24|ec<<16|ko<<8|aA;
aA=~~(.5+($+C+T+S)*jy);ko=~~(.5+(W+Y+o+u)*jy);ec=~~(.5+(M+d+dj+r)*jy);kK=~~(.5+bg*(1/9));b[_+1]=kK<<24|ec<<16|ko<<8|aA;
aA=~~(.5+(bu+d1+t+S)*cl);ko=~~(.5+(cg+d8+G+u)*cl);ec=~~(.5+(bH+dK+O+r)*cl);kK=~~(.5+f4*(1/9));b[_+m]=kK<<24|ec<<16|ko<<8|aA;
aA=~~(.5+(dO+d1+T+S)*hu);ko=~~(.5+(ay+d8+o+u)*hu);ec=~~(.5+(kh+dK+dj+r)*hu);kK=~~(.5+jb*(1/9));b[_+m+1]=kK<<24|ec<<16|ko<<8|aA}return{s:q,jB:U}};
K.aaR=function(j,n,Q){var a=n.q,B=n._,m=2*Math.floor(a/3),R=2*Math.floor(B/3),q=new b4(n.x,n.y,m,R),U=Q&&Q.length==m*R*4?Q:K.U(m*R*4),l=new Uint32Array(j.buffer),b=new Uint32Array(U.buffer);
for(var D=0;D<R;D+=2)for(var c=0;c<m;c+=2){var _=D*m+c,p=(D*3>>>1)*a+(c*3>>>1),X=l[p],g=l[p+1],F=l[p+2],k=l[p+a],I=l[p+1+a],e=l[p+2+a],H=l[p+a+a],A=l[p+1+a+a],Z=l[p+2+a+a],J=(X>>>16&255)<<2,s=(X>>>8&255)<<2,E=(X&255)<<2,z=(g>>>16&255)<<1,h=(g>>>8&255)<<1,d=(g&255)<<1,Y=(F>>>16&255)<<2,C=(F>>>8&255)<<2,i=(F&255)<<2,M=(k>>>16&255)<<1,W=(k>>>8&255)<<1,$=(k&255)<<1,P=I>>>16&255,O=I>>>8&255,G=I&255,t=(e>>>16&255)<<1,y=(e>>>8&255)<<1,r=(e&255)<<1,u=(H>>>16&255)<<2,S=(H>>>8&255)<<2,w=(H&255)<<2,dj=(A>>>16&255)<<1,o=(A>>>8&255)<<1,T=(A&255)<<1,i6=(Z>>>16&255)<<2,bH=(Z>>>8&255)<<2,cg=(Z&255)<<2,bu=0,hH=0,dK=0;
bu=~~(.5+(E+d+$+G)*(1/9));hH=~~(.5+(s+h+W+O)*(1/9));dK=~~(.5+(J+z+M+P)*(1/9));b[_]=255<<24|dK<<16|hH<<8|bu;
bu=~~(.5+(i+d+r+G)*(1/9));hH=~~(.5+(C+h+y+O)*(1/9));dK=~~(.5+(Y+z+t+P)*(1/9));b[_+1]=255<<24|dK<<16|hH<<8|bu;
bu=~~(.5+(w+T+$+G)*(1/9));hH=~~(.5+(S+o+W+O)*(1/9));dK=~~(.5+(u+dj+M+P)*(1/9));b[_+m]=255<<24|dK<<16|hH<<8|bu;
bu=~~(.5+(cg+T+r+G)*(1/9));hH=~~(.5+(bH+o+y+O)*(1/9));dK=~~(.5+(i6+dj+t+P)*(1/9));b[_+m+1]=255<<24|dK<<16|hH<<8|bu}return{s:q,jB:U}};
K.QX=function(j){var n=255,Q=j.length;Q-=Q&31;for(var v=3;v<Q;v+=32)n=n&j[v]&j[v+4]&j[v+8]&j[v+12]&j[v+16]&j[v+20]&j[v+24]&j[v+28];
return n!=255};K.sl=function(j,n,Q,a){var B=K.jk,m=K.aE_;if(!K.QX(j)){B=K.aHO;m=K.aaR}var R={jB:j,s:n},q=K.gE(Q);
for(var v=0;v<q.length;v++){if(q[v]==2)R=B(R.jB,R.s,a);else R=m(R.jB,R.s,a)}return R};K.aEl=function(j,n,Q,a){var B=K.fj,m=K.a52,R={jB:j,s:n},q=K.gE(Q);
for(var v=0;v<q.length;v++){if(q[v]==2)R=B(R.jB,R.s,a);else R=m(R.jB,R.s,a)}return R};K.gE=function(j){var n=[],Q=j;
while(Q<.499){n.push(2);Q*=2}n.push(Q<.5001?2:3);return n};K.fj=function(j,n,Q){var a=n.q,B=n._,m=a>>1,R=B>>1,q=new b4(n.x,n.y,m,R);
if(j==null)return{s:q};var U=Q&&Q.length>=m*R?Q:K.U(m*R);for(var l=0;l<R;l++){var b=l*m;for(var D=0;
D<m;D++){var c=(l<<1)*a+(D<<1);U[b+D]=2+j[c]+j[c+1]+j[c+a]+j[c+a+1]>>>2}}return{s:q,jB:U}};K.a52=function(j,n,Q){var a=n.q,B=n._,m=2*Math.floor(a/3),R=2*Math.floor(B/3),q=new b4(n.x,n.y,m,R);
if(j==null)return{s:q};var U=Q&&Q.length>=m*R?Q:K.U(m*R);for(var l=0;l<R;l+=2)for(var b=0;b<m;b+=2){var D=l*m+b,c=(l*3>>>1)*a+(b*3>>>1),_=j[c]<<2,p=j[c+1]<<1,X=j[c+2]<<2,g=j[c+a]<<1,F=j[c+1+a],k=j[c+2+a]<<1,I=j[c+a+a]<<2,e=j[c+1+a+a]<<1,H=j[c+2+a+a]<<2;
U[D]=~~(.5+(_+p+g+F)*(1/9));U[D+1]=~~(.5+(X+p+k+F)*(1/9));U[D+m]=~~(.5+(I+e+g+F)*(1/9));U[D+m+1]=~~(.5+(H+e+k+F)*(1/9))}return{s:q,jB:U}};
K.avw=function(j,n,Q,a,B){var m=n.uf(a);if(B)m=m.uf(B);var R=Math.max(0,m.x-n.x),q=Math.max(0,m.x-a.x),U=Math.max(0,m.y-n.y),l=Math.max(0,m.y-a.y),b=m.q,D=m._;
for(var v=0;v<D;v++){var c=(U+v)*n.q+R,_=(l+v)*a.q+q;for(var p=0;p<b;p++){Q[_+p]=Math.max(Q[_+p],j[c+p])}}};
K.Gc=function(j,n,Q,a,B){var m=n.uf(a);if(B)m=m.uf(B);var R=Math.max(0,m.x-n.x),q=Math.max(0,m.x-a.x),U=Math.max(0,m.y-n.y),l=Math.max(0,m.y-a.y),b=m.q,D=m._,c=K.Rz(j),_=K.Rz(Q);
if(c!=_)throw"e";var p=c>>>3,X=new Uint8Array(Q.buffer);for(var v=0;v<D;v++){var g=(U+v)*n.q+R,F=(l+v)*a.q+q;
X.set(new Uint8Array(j.buffer,g*p,b*p),F*p)}};K.aDj=function(j,n,Q,a){if(n.N_(a)){K.wj(j,Q,3);return}var B=n.uf(a),m=Math.max(0,B.x-n.x),R=Math.max(0,B.x-a.x),q=Math.max(0,B.y-n.y),U=Math.max(0,B.y-a.y),l=B.q,b=B._;
for(var v=0;v<b;v++){var D=(q+v)*n.q+m,c=(U+v)*a.q+R;for(var _=0;_<l;_++)Q[(c+_<<2)+3]=j[D+_]}};K.Oh=function(j,n,Q,a){var B=n.uf(a),m=Math.max(0,B.x-n.x),R=Math.max(0,B.x-a.x),q=Math.max(0,B.y-n.y),U=Math.max(0,B.y-a.y),l=B.q,b=B._;
for(var v=0;v<b;v++){var D=(q+v)*n.q+m,c=(U+v)*a.q+R;for(var _=0;_<l;_++)Q[c+_]=j[(D+_<<2)+3]}};K.EC=function(j,n,Q,a,B){if(n.N_(a)&&(B==null||B.N_(a))){K.D1(j,Q);
return}var m=n.uf(a);if(B)m=m.uf(B);var R=Math.max(0,m.x-n.x),q=Math.max(0,m.x-a.x),U=Math.max(0,m.y-n.y),l=Math.max(0,m.y-a.y),b=m.q,D=m._,c=4*(K.Rz(Q)>>>3),_=new Uint8Array(Q.buffer);
for(var v=0;v<D;v++){var p=(U+v)*n.q+R,X=(l+v)*a.q+q;_.set(new Uint8Array(j.buffer,p*c,b*c),X*c)}};K.Ej=function(j,n,Q,a){var B=n.uf(a),m=Math.max(0,B.x-n.x),R=Math.max(0,B.x-a.x),q=Math.max(0,B.y-n.y),U=Math.max(0,B.y-a.y),l=B.q,b=B._,D=j.NX,c=j.n,_=j.i,p=j.b,X=Q.NX,g=Q.n,F=Q.i,k=Q.b;
for(var v=0;v<b;v++){var I=(q+v)*n.q+m,e=(U+v)*a.q+R;for(var H=0;H<l;H++){X[e+H]=D[I+H];g[e+H]=c[I+H];
F[e+H]=_[I+H];k[e+H]=p[I+H]}}};K.hj=function(j){var n=j.length;for(var v=0;v<n;v+=4){var Q=j[v+3];if(Q==255)continue;
j[v]=~~(j[v]*Q*(1/255)+.5);j[v+1]=~~(j[v+1]*Q*(1/255)+.5);j[v+2]=~~(j[v+2]*Q*(1/255)+.5)}};K.wc=function(j){var n=j.length;
for(var v=0;v<n;v+=4){var Q=j[v+3];if(Q==0||Q==255)continue;var a=255/Q;j[v]=~~(j[v]*a+.5);j[v+1]=~~(j[v+1]*a+.5);
j[v+2]=~~(j[v+2]*a+.5)}};K.Re=function(j,n){for(var v=0;v<j.length;v++)if(j[v]!=n)return!1;return!0};
K.JY=function(j){return j+1+(j>>>8)>>>8};K.round=function(j,n){if(n==null)n=128;var Q=j.length;for(var v=0;
v<Q;v++)j[v]=j[v]<n?0:255};K.J_=function(j,n){var Q=j.length;for(var v=0;v<Q;v++)j[v]=Math.round(j[v]*n)};
K.Pi=function(j,n){var Q=K.Rz(j);if(Q==8){var a=new Uint32Array(j.buffer),B=new Uint32Array(n.buffer),m=a.length;
for(var v=0;v<m;v++){var R=a[v],q=B[v];B[v]=K.JY((R>>>24)*(q>>>24))<<24|K.JY((R>>>16&255)*(q>>>16&255))<<16|K.JY((R>>>8&255)*(q>>>8&255))<<8|K.JY((R&255)*(q&255))}}else{var U=1/(Q==16?65535:1);
for(var v=0;v<j.length;v++)n[v]=n[v]*j[v]*U}};K.A2=function(j,n){var Q=j.length;for(var v=0;v<Q;v++)n[(v<<2)+3]=K.JY(n[(v<<2)+3]*j[v])};
K.aAq=function(j,n,Q,a){var B=Math.max(0,a.x-n.x),m=Math.max(0,n.x-a.x),R=Math.max(0,a.y-n.y),q=Math.max(0,n.y-a.y),U=Math.min(n.x+n.q,a.x+a.q)-Math.max(n.x,a.x),l=Math.min(n.y+n._,a.y+a._)-Math.max(n.y,a.y);
for(var v=0;v<l;v++){var b=(R+v)*n.q+B,D=(q+v)*a.q+m;for(var c=0;c<U;c++){Q[D]=K.JY(Q[D]*j[b]);b++;D++}}};
K.XE=function(j,n,Q,a){var B=K.Rz(j),m=Math.max(0,a.x-n.x),R=Math.max(0,n.x-a.x),q=Math.max(0,a.y-n.y),U=Math.max(0,n.y-a.y),l=Math.min(n.x+n.q,a.x+a.q)-Math.max(n.x,a.x),b=Math.min(n.y+n._,a.y+a._)-Math.max(n.y,a.y);
for(var v=0;v<b;v++){var D=(q+v)*n.q+m,c=((U+v)*a.q+R<<2)+3;for(var _=0;_<l;_++){if(B==8)Q[c]=K.JY(Q[c]*j[D]);
else if(B==16)Q[c]=Q[c]*j[D]*(1/65535);else if(B==32)Q[c]=Q[c]*j[D];D++;c+=4}}};K.Sq=function(j,n,Q,a){var B=Math.max(0,a.x-n.x),m=Math.max(0,n.x-a.x),R=Math.max(0,a.y-n.y),q=Math.max(0,n.y-a.y),U=Math.min(n.x+n.q,a.x+a.q)-Math.max(n.x,a.x),l=Math.min(n.y+n._,a.y+a._)-Math.max(n.y,a.y);
for(var v=0;v<l;v++){var b=((R+v)*n.q+B<<2)+3,D=((q+v)*a.q+m<<2)+3;for(var c=0;c<U;c++){Q[D]=K.JY(Q[D]*j[b]);
b+=4;D+=4}}};K.XG=function(j,n){if(n==null)n=1;var Q=4*n,a=j.length>>>2,B=new Float64Array(256),m=new Float64Array(256),R=new Float64Array(256),q=new Float64Array(256),U=4*Math.floor(a/n)*n,l=0;
for(var v=0;v<U;v+=Q){var b=j[v+0],D=j[v+1],c=j[v+2],_=j[v+3]*n,p=_*(1/255);m[b]+=p;R[D]+=p;q[c]+=p;
l+=_}for(var v=0;v<256;v++)B[v]=m[v]+R[v]+q[v];return[B,m,R,q,a,l/255]};K.ahY=function(j,n){function Q(A,Z){var J=-1,s=0;
while(s<=Z){J++;s+=A[J]}return J}function a(A,Z){var J=256,s=0;while(s<=Z){J--;s+=A[J]}return J}function B(A){var Z=0,J=0;
for(var v=0;v<256;v++){J+=A[v];Z+=A[v]*v*(1/255)}return Z/J}var m=j[0],R=j[1]/100,q=j[2]/100,U=[],l=[];
for(var v=0;v<4;v++){var b=v==0?3:1;U[v]=Q(n[v],b*R*n[5]);l[v]=a(n[v],b*q*n[5])}var D=[B(n[1]),B(n[2]),B(n[3])],c=D.slice(0);
c.sort(function(A,Z){return A-Z});var _=D.indexOf(c[1]),p=(D[0]+D[1]+D[2])/3,X=[];for(var v=0;v<4;v++){var g=0,F=255,k=U[v],I=l[v];
if(m==0&&v==0){g=k;F=I}if(m==1&&v!=0){g=k;F=I}if(m==2&&v!=0){var b=D[v-1]/p;F=Math.max(0,Math.min(255,l[_]*b))}var e=[g,F];
X.push(e);if(m==3&&v==0){var H=255*(1-p);e.push(H)}}return X};K.aei=function(j,n){var Q=new Uint32Array(j.buffer),a=Q.length;
for(var v=0;v<a;v++){var B=Q[v],m=B&255,R=B>>8&255,q=B>>16&255,U=B>>24&255;Q[v]=n[m]|n[R]<<8|n[q]<<16|n[U]<<24}};
K.aAk=function(j,n,Q,a,B,m,R){var q=j.length,U=K.Rz(j),l=U==8?255:U==16?65535:1,b=1/l,D=Q.length-1;if(!R&&!m){for(var v=0;
v<q;v+=4){var c=j[v]*b,_=j[v+1]*b,p=j[v+2]*b,X=Q[~~(D*c)],g=a[~~(D*_)],F=B[~~(D*p)];n[v]=X*l;n[v+1]=g*l;
n[v+2]=F*l;n[v+3]=j[v+3]}return}for(var v=0;v<q;v+=4){var c=j[v]*b,_=j[v+1]*b,p=j[v+2]*b;if(m)c=_=p=c*.3+_*.59+p*.11;
var X=Q[~~(D*c)],g=a[~~(D*_)],F=B[~~(D*p)];if(R){var k=K.bC(c,_,p),I=K.bC(X,g,F);if(k>I){var e=(k-I)/(1-I);
X+=e*(1-X);g+=e*(1-g);F+=e*(1-F)}else if(I==0)X=g=F=0;else{var e=k/I;X=e*X;g=e*g;F=e*F}}n[v]=X*l;n[v+1]=g*l;
n[v+2]=F*l;n[v+3]=j[v+3]}};K.eW=function(j,n){var Q=n.q,a=n._,top=0,B=0,m=0,R=0,q=0;q=0;for(var U=0;
U<a;U++){var l=U*Q;for(var v=0;v<Q;v++)q|=j[l+v];if(q!=0)break;top++}if(top==a)return new b4(0,0,0,0);
q=0;for(var U=a-1;U>=0;U--){var l=U*Q;for(var v=0;v<Q;v++)q|=j[l+v];if(q!=0)break;m++}var b=a-m;q=0;
for(var v=0;v<Q;v++){for(var U=top;U<b;U++)q|=j[U*Q+v];if(q!=0)break;B++}q=0;for(var v=Q-1;v>=0;v--){for(var U=top;
U<b;U++)q|=j[U*Q+v];if(q!=0)break;R++}var D=new b4(n.x+B,n.y+top,Q-B-R,a-top-m);return D};K.ap=function(j,n,Q,a,B){if(a==null)a=[!0,!0,!0,!0];
if(Q==null)Q=0;if(B==null)B=4294967295;var m=new Uint32Array(j.buffer),R=n.q,q=n._,top=0,U=0,l=0,b=0,D=!1,c=[m[0],m[m.length-1],0][Q];
D=!1;if(a[0])for(var _=0;_<q;_++){var p=_*R;for(var v=0;v<R;v++)if(m[p+v]&B^c)D=!0;if(D)break;top++}D=!1;
if(a[2])for(var _=q-1;_>=0;_--){var p=_*R;for(var v=0;v<R;v++)if(m[p+v]&B^c)D=!0;if(D)break;l++}D=!1;
if(a[1])for(var v=0;v<R;v++){for(var _=0;_<q;_++)if(m[_*R+v]&B^c)D=!0;if(D)break;U++}D=!1;if(a[3])for(var v=R-1;
v>=0;v--){for(var _=0;_<q;_++)if(m[_*R+v]&B^c)D=!0;if(D)break;b++}var X=new b4(n.x+U,n.y+top,R-U-b,q-top-l);
return X.ke()?new b4(0,0,0,0):X};K.Dy=function(j){var n=K.eW(j.G,j.s);if(n.N_(j.s))return;var Q=K.U(n.$(),K.Rz(j.G));
K.Gc(j.G,j.s,Q,n);j.G=Q;j.s=n};K.DS=function(j,n){var Q=K.ap(j.buffer,j.s,2,null,n?null:4278190080);
if(Q.N_(j.s))return;var a=new K.U(Q.$()*4);K.EC(j.buffer,j.s,a,Q);j.buffer=a;j.s=Q};K.extend=function(j,n,Q){if(j.s.BJ(n))return;
var a=j.s.d_(n),B=K.U(a.$());if(Q!=null)B.fill(Q);K.Gc(j.G,j.s,B,a);j.s=a;j.G=B};K.a4V=function(j,n){if(n.ke()||j.s.BJ(n))return;
var Q=j.s.d_(n),a=K.U(Q.$()*4);K.EC(j.buffer,j.s,a,Q);j.s=Q;j.buffer=a};K.Zf=function(j,n,Q){if(!Q.PU(j))return!1;
var a=Math.floor(j.x)-Q.x,B=Math.floor(j.y)-Q.y,v=B*Q.q+a;return n[v]>128};K.ady=function(j,n,Q){if(!Q.PU(j))return!1;
var a=Math.floor(j.x)-Q.x,B=Math.floor(j.y)-Q.y,v=B*Q.q+a;return n[4*v+3]>128};K.Zo=function(j){if(K.vB.length<j){K.vB=K.U(j);
K.vB.fill(255)}return K.vB};K.vB=K.U(0);K.DB=function(j){if(K.Xj.length<j)K.Xj=K.U(j);return K.Xj};K.Xj=K.U(0);
K.aL=function(j){this.NX=K.U(j);this.n=K.U(j);this.i=K.U(j);this.b=K.U(j)};K.aL.prototype.O=function(){var j=this.NX.length,n=new K.aL(1);
n.NX=this.NX.slice(0);n.n=this.n.slice(0);n.i=this.i.slice(0);n.b=this.b.slice(0);return n};K.t.adL=function(j,n,Q,a,B){var m=B[0]+1,R=B[1],q=Math.abs(R-25)/4,U=B[2],l=U%2+U*U>>1,b=K.t.F;
b.Ei(n,Q);var D=b.$a(1),c=b.$a(1),_=b.$a(1);b.$b(j,a,U,U,l);b.aC(a);b.c9(a,D);b.sG(D,c,m,m,1);b.sG(D,_,m,m,m*m);
b.sub(_,c);b.Pi(c,q);(R<25?b.sub:b.add)(D,c);b.gN(c,a);b.V6(a)};K.t.aGs=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=B[0]*2.55,q=B[1],U=q>>1,l=B[2]*.25,b=m.$a(4),D=m.$a(1),c=m.$a(1);m.Wp(j,b,q,1,!0,U);
m.Wp(j,a,q,1,!1,U);m.CO(j,D);m.jP(D,R);m.be(D,c,3);m.qz(a,c,b);m.o_(b,a,l)};K.t.a3W=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);m.pr(B[3]);var R=B[0]*-3+80,q=B[1]*-3+80,U=B[2]/2+.5,l=B[4],b=B[5],D=m.$a(1),c=m.$a(1),_=m.$a(1),p=m.$a(1),X=m.$a(4),g=m.$a(4);
m.CO(j,D);m.D1(D,c);m.uQ(D,q,5);m.aHZ(D,.4,0);m.be(D,_,3);m.DD(_,D,9,3,!0,27);m.D1(c,_);m.m2(_);var F=m.T3(R,5,_);
for(var v=0;v<m.tq;v++){c[v]=F[255-c[v]]}m.aHZ(c,.4,0);m.D1(c,_);m.be(_,p,2);m.DD(p,_,5,3,!1,15);m.Pi(D,U);
m.Pi(_,U);m.We(a,2155905279);m.We(g,l);m.We(X,b);m.qz(g,D,a);m.qz(X,_,a)};K.t.apb=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=new Uint8Array(256),q=5+10*B[1];q+=B[1]>3?(B[1]-3)*10:0;var U=~~(B[2]*.73)+50,l=Math.min(U+q,128),b=l-U,D=-255*U;
for(var v=0;v<256;v++){var c=v*65;R[v]=m.Ea(D/b);D+=255}var _=m.$a(1),p=m.$a(1),X=m.$a(1);m.CO(j,_);
m.D1(_,X);m.be(_,p,2*B[0]+1);m.sub(p,_);m.Pi(_,65);m.DD(_,p,9,3,!0,20);for(var v=0;v<m.tq;v++){var g=X[v],F=p[v];
_[v]=F>0?~~((F*g+(255-F)*128)/255):128}m.be(_,p,3);m.DD(p,_,15,2,!0,16);m.DD(p,X,15,2,!1,15);m.eg(_,X);
m.IE(X,p,2);m.Nn(p,R);m.be(p,_,2);m.PG(_,a)};K.t.aAz=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);var R=2*B[0]+1,q=m.arm[B[1]],U=B[2]*5.1,l=B[3],b=m.$a(1),D=m.$a(1),c=m.$a(4),_=m.$a(4);
m.We(c,l);m.aC(c,a);m.aEU(b,U);m.gN(b,a);m.V6(a,c);m.CO(j,D);m.be(D,b,R);m.sub(b,D);m.Pi(D,q);m.DD(D,b,9,3,!0,20);
m.qz(j,b,c);m.CU(c,a,3);m.Wp(a,c,15,2,!0,16);m.Wp(a,_,15,2,!1,16);m.eg(c,_);m.o_(_,a,2)};K.t.a6y=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=(15-B[0])/4+1,q=(15-B[1])/4+1,U=B[2],l=B[3],b=m.rg(B[4]),D=B[5]+1,c=B[6],_=B[7],p=B[8],X=m.$a(1),g=m.$a(1),F=m.$a(1),k=m.$a(1),I=m.$a(4),e=m.$a(4);
m.LA(F,U,l,c);m.CO(j,g);m.be(g,X,5);m.lY(F,X,k,D,b);m.Pi(k,R);m.sI(k,2);m.m2(X);m.lY(F,X,g,D,b);m.Pi(g,q);
m.sI(g,2);m.We(I,2155905279);m.We(e,_);m.We(a,p);m.qz(I,g,e);m.qz(e,k,a)};K.t.a3R=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);m.pr(B[3]);var R=B[0],q=B[1]/10,U=B[2]/10,l=m.$a(1),b=m.$a(1),D=m.$a(1),c=m.Ll(),_=m.Ll(),p=m.Ll();
m.we(l);m.be(l,b,11);m.be(b,l,11);m.fe(l,c);m.tO(j,l);m.D1(l,D);m.be(l,b,9);m.be(b,l,9);m.fe(l,_);m.hu(_,p,5);
m.hu(p,_,5);m.aoh(c,.8);m.a9C(c,_,.8,.9);m.aEK(_,l,R);m.sG(l,b,2,2,1);m.sG(b,l,2,2,3);m.sG(l,b,2,2,3);
m.sG(D,l,5,5,13);m.SM(b,l,b,q);m.bk(l,b,b,U);m.lY(b,b,l,5,1);m.aC(j,a);m.gN(l,a);m.V6(a)};K.t.awq=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=B[0],q=B[1]/2,U=B[2],l=R/2,b=m.$a(4),D=m.$a(4);m.D1(j,a);for(var c=0;c<U;c++){m.Wp(a,b,R,1,!0,l);
m.Wp(a,D,R,1,!1,l);m.eg(D,b);m.CU(b,D,2);m.o_(D,a,q)}};K.t.abc=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);
var R=B[0]*10,q=B[1]*4.9,U=B[2]*4.9,l=m.$a(1),b=m.$a(1),D=m.$a(4),c=m.$a(4);m.CO(j,l);m.jP(l,m.aoV(l,R));
m.be(l,b,3);m.Wp(j,D,5,1,!1,1);m.Wp(j,a,15,2,!0,16);m.qz(a,b,D);m.aC(D,a);m.c9(a,l);m.uQ(l,q,U);m.gN(l,a);
m.V6(a)};K.t.a3t=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);m.pr(B[4]);var R=B[0]/20,q=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][B[1]],U=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][B[2]],l=B[3],b=new Int16Array(256);
for(var v=0;v<256;v++){b[v]=~~((v-128)*R)}var D=m.$a(1),c=m.$a(1),_=m.$a(4);m.CO(j,D);m.be(D,c,25);m.Pi(c,q);
m.sI(c,U);m.be(c,D,25);m.we(c);m.agk(D,c,b);m.D1(j,a);m.We(_,l);m.qz(_,D,a)};K.t.alw=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=B[0]+5,q=15-B[1],U=R*R/2,l=1-(3-B[2])/10,b=~~(q*q*l-1),D=~~(q*q*(1-l));if(D==0)D=1;var c=m.$a(1),_=m.$a(1),p=m.$a(1),X=m.$a(4);
m.CO(j,p);m.sG(p,c,R,R,U);m.be(p,_,R);m.sub(c,_);m.jP(_,1);m.$b(j,X,q,q,b);m.$b(j,a,q,q,D);m.qz(X,_,a)};
K.t.asb=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);m.pr(B[3]);var R=(20-B[0])*.05,q=B[1]*-2.75+60,U=65-q,l=B[2]/10,b=m.$a(1),D=m.$a(1);
m.tO(j,D);var c=m.T3(q,U,D);m.aC(j,a);m.c9(a,D);m.we(b);m.Rh(D,b,R);m.Nn(D,c);m.Pi(D,B[2]/10);m.add(b,D);
m.gN(D,a);m.V6(a)};K.t.amw=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);var R=5+B[0],q=15-B[1],U=B[2],l=R*R/2+R*R%2*1,b=1-(3-B[2])/10,D=~~(q*q*b-1),c=~~(q*q*(1-b));
if(c==0)c=1;var _=m.$a(1),p=m.$a(1),X=m.$a(1),g=m.$a(1),F=m.$a(1);m.tO(j,p);m.IE(p,_,3);m.sG(_,p,2,2,1);
var k=m.T3(20,20,p);m.Nn(p,k);m.be(p,F,5);m.sG(F,_,R,R,l);m.sG(F,p,q,q,D);m.sG(F,X,q,q,c);m.be(F,g,R);
m.sub(_,g);m.jP(g,1);m.au1(p,g,X);m.aC(j,a);m.gN(X,a);m.V6(a)};K.t.ajQ=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);m.pr(B[5]);var R=m.tq,q=m.GB,U=B[0],l=B[1],b=B[2],D=B[3],c=B[4],_=.05*U+1,p=U/100,X=U>>1,g=2*U-100,F=+(l==9),k=+(l==7),I=[4,1][F],e=[3,2][F],H=[1,2][k],A=[2,1][k],Z=[50,75][F],J=l<4?b:(b>>1)+50,s=m.ajc(Z,J),E=m.qU(D),z=m.qU(c),h=m.$a(4),d=m.$a(4),Y=m.$a(1),C=m.$a(1);
function i(a,s){if(J!=50){m.aFp(a,s)}}function M(j,o){for(var v=0;v<R;v++){j[v]=m.Ea(j[v]+(o[v]-128)*p)}}function W(j,o){for(var v=0,T=0;
v<R;v++){j[T]=m.Ea(j[T]+(o[T]-128)*p);j[T+1]=m.Ea(j[T+1]+(o[T+1]-128)*p);j[T+2]=m.Ea(j[T+2]+(o[T+2]-128)*p);
T+=4}}function $(j,a){m.we(d);m.D1(j,a);W(a,d);i(a,s)}function P(o){var T=0;for(var i6=0;i6<12;i6++)T+=m.random();
return m.Ea(X*(T-6)+o)}function O(j,a){m.D1(j,a);for(var v=0;v<q;v+=4){a[v]=P(a[v]);a[v+1]=P(a[v+1]);
a[v+2]=P(a[v+2])}i(a,s)}function G(j,a){m.D1(j,a);for(var v=0;v<q;v+=4){if(m.random()<p){a[v]=E[0];a[v+1]=E[1];
a[v+2]=E[2]}}i(a,s)}function t(j,a){m.we(h);m.$b(h,d,e,e,I);m.D1(j,h);W(h,d);m.$b(h,a,5,5,13);i(a,s)}function y(j,a){m.we(d);
m.D1(j,h);W(h,d);i(a,s);m.$b(h,a,e,e,I)}function r(j,a){m.D1(j,h);i(a,s);m.CO(h,Y);for(var v=0,o=0;v<R;
v++){var T=((g-Y[v]+255)*128.5+.5)/32767;if(m.random()<=T){a[o++]=z[0];a[o++]=z[1];a[o++]=z[2]}else{a[o++]=E[0];
a[o++]=E[1];a[o++]=E[2]}a[o]=j[o];o++}}function u(j,a){m.aC(j,a);m.c9(a,Y);m.IE(Y,C,_);m.sG(C,Y,e,e,I);
m.Nn(Y,s);m.gN(Y,a);m.V6(a)}function w(j){var o=0;if(l==8){for(var T=0;T<n;T++){j[o++]=~~(m.random()*255)}for(var v=1;
v<Q;v++){for(var T=0;T<n;T++){j[o++]=j[T]}}}else{for(var v=0;v<Q;v++){var i6=~~(m.random()*255);for(var T=0;
T<n;T++){j[o++]=i6}}}}function dj(j,a){m.CO(j,Y);m.we(C);M(Y,C);w(C);M(Y,C);m.CU(j,h,9);m.CU(h,d,9);
m.be(Y,C,2);m.Nn(C,s);m.be(C,Y,2);m.aC(d,a);m.gN(Y,a);m.V6(a)}[$,O,G,t,t,y,r,dj,dj,u][l](j,a)};K.t.aCM=function(j,n,Q,a,B){var m=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],R=K.t.F,X=0,g,v,H,A,Z,J=0,s=1,E=255;
R.Ei(n,Q);R.pr(B[3]);var q=R.$a(1),U=R.$a(1);R.CO(j,q);var l=B[0],b=B[1],D=b<=50?m[b]/255:1+(255-m[101-b])/255,c=B[2],_=q.length,p=new Float32Array(_),F=1+1/10*l,k=(1-1/F)/2,I=16/256,e=n-1;
for(v=0;v<R.tq;v++){p[v]=q[v]/255;U[v]=l==1?R.random()<1/255?E:s:s}function z(h,d){var Y=h*n+d;if(U[Y]!=s||h>=Q||d>=n){return}var A=p[Y],C=D-A,i=R.random(),M=i/F+k;
if(X==0||Math.abs(Z-A)>I){g=M<=C?J:E;X=~~(R.random()*l)}else if(.1<i){X--}else{X=0}U[Y]=g;Z=A}if(c==0){for(v=0;
v<n;v++){for(H=0;H<n;H++){A=v+H;if(A>=n)break;z(H,e-A)}X=0}for(v=1;v<Q;v++){for(H=0;H<Q;H++){A=v+H;if(A>=Q||H>=n)break;
z(A,e-H)}X=0}}else if(c==1){for(v=0;v<Q;v++){for(H=0;H<n;H++){z(v,H)}X=0}}else if(c==2){for(v=0;v<n;
v++){for(H=0;H<n;H++){A=v+H;if(A>=n)break;z(H,A)}X=0}for(v=1;v<Q;v++){for(H=0;H<Q;H++){A=v+H;if(A>=Q||H>=n)break;
z(A,H)}X=0}}else{for(v=0;v<n;v++){for(H=0;H<Q;H++){z(H,v)}X=0}}R.PG(U,a)};K.t.awx=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=B[0],q=B[1],U=B[2],l=m.$a(1),b=m.$a(1),D=m.$a(1),c=m.$a(1),_=m.$a(4),p=m.$a(4);m.c9(j,c,3,4);
m.CO(j,l);m.sG(l,b,3,3,1);m.sG(l,D,3,3,9);m.sub(D,b);m.be(b,l,3);m.uQ(l,40,10,c);m.Wp(j,a,R,2,!1,R);
m.Wp(j,_,R,2,!0,R);m.We(p,255);m.qz(a,l,p);m.qz(p,l,_);m.o_(_,a,1);m.aC(a);m.c9(a,l);m.uQ(l,q,U,c);m.gN(l,a);
m.V6(a)};K.t.ahI=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);m.pr(B[3]);var R=B[0],q=B[1],U=B[2]/10;R=R+q;
var l=m.$a(1),b=m.$a(1),D=m.Ll(),c=m.Ll();m.we(l);m.be(l,b,11);m.be(b,l,11);m.fe(l,D);m.hu(D,c,5);m.hu(c,D,5);
m.aoh(c,.97);m.aEK(c,l,R);m.sG(l,b,q,q,1);m.tO(j,l);m.SM(b,l,b,.6);m.bk(l,b,b,U);m.lY(b,b,l,5,1);m.aC(j,a);
m.gN(l,a);m.V6(a)};K.t.axv=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);var R=Math.abs(B[0]),q=R+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][R],U=2*R+1,l=B[1]/10,b=l*13/15,D=m.$a(1),c=m.$a(1),_=m.$a(1),p=m.$a(1),X=m.$a(4),g=m.$a(4),F=m.$a(4),k=m.$a(4),I=m.$a(4);
m.CO(j,D);if(B[0]>=0){m.m2(D)}m.D1(D,_);m.be(D,p,q);m.be(p,D,q);m.Pi(D,l);m.D1(D,c);m.be(D,p,U);m.be(p,D,U);
m.Pi(D,b);m.We(F,B[2]);m.We(k,B[3]);m.We(I,B[4]);m.qz(F,D,k,X);m.qz(I,c,X,g);m.qz(k,_,g,a);m.c9(j,_,3);
m.gN(_,a,3)};K.t.aue=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);m.pr(B[5]);var R=B[0]*5.1,q=B[1]/100,U=m.aCn[B[2]],l=m.$a(1),b=m.$a(1),D=m.$a(1);
m.CO(j,l);m.aEU(b,255);m.we(D);m.jP(l,R);m.Rh(b,l,.7);m.Rh(D,l,q);m.lY(l,l,b,5,U);m.D1(j,a);m.a6H(a,R,B[4],B[3]);
m.aC(a);m.gN(b,a);m.V6(a)};K.t.azu=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);var R=B[0],q=4-B[1],U=11-B[2],l=m.$a(1),b=m.$a(1),D=m.$a(4);
m.tO(j,b);for(var v=0;v<q;v++){m.D1(b,l);m.a1F(l,b,R,R)}m.CU(j,D,R);m.aC(D,D);m.gN(b,D);m.V6(D,D);(U<11?m.aqD:m.D1)(D,a,U)};
K.t.a8M=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);m.pr(B[2]);var R=B[0]+5,q=~~(R/5+1),U=~~(R/2)+1,l=U*U,b=~~(R/3),D=m.aCn[B[1]],c=new Array(256);
for(var v=0;v<256;v++){c[v]=~~(.2*(v-128))}var _=m.$a(1),p=m.$a(1);m.aoG(j,a,R);m.aC(a);m.c9(a,_);m.we(p);
m.agk(_,p,c);m.ayw(p,R,R,q,q);m.SM(_,p,_,1);m.be(_,p,b);m.be(p,_,b);m.sG(_,p,U,U,l);m.lY(p,p,_,5,D);
m.gN(_,a);m.V6(a)};K.t.aE7=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);var R=m.$a(1),q=m.$a(1),U=m.$a(1),l=m.Ll(),b=m.Ll();
m.CO(j,R);m.be(R,q,B[2]);m.jP(q,B[0]*5.1);m.sG(q,R,2,2,4);m.be(R,q,3);m.be(q,R,3);m.D1(R,U);m.be(R,q,5);
m.be(q,R,5);m.fe(R,l);m.hu(l,b,5);m.hu(b,l,5);m.aoi(l,q,B[1]);m.m2(q);m.SM(U,q,U,1);m.PG(U,a)};K.t.akR=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=1<<7-B[2],q=m.$a(1),U=m.$a(1),l=m.$a(1);m.tO(j,U);m.be(U,q,3);m.D1(q,U);m.be(q,l,B[0]+5);
m.sub(l,U);m.uQ(U,1,B[1]);m.Pi(q,1/R);m.Pi(q,R);m.sub(q,U);m.aC(j,a);m.gN(U,a);m.V6(a)};K.t.aAT=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);m.pr(B[3]);var R=m.$a(1),q=m.$a(1),U=m.$a(1);m.CO(j,R);m.acn(q,B[0]/50);m.be(q,U,3);m.sG(R,q,9,9,41);
m.uQ(q,B[1],B[2]);m.SM(q,U,U,.75);m.bk(q,U,q,.5);m.D1(q,R);m.sG(R,U,3,3,8);m.SM(U,q,U,.75);m.Pi(U,1.2);
m.IE(U,R,1);m.be(R,U,2);m.IE(U,R,2);m.Pi(R,1.2);m.be(R,U,2);m.PG(U,a)};K.t.a6g=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=B[0]+9,q=B[1]/2,U=B[2],l=B[3],b=m.rg(B[4]),D=B[5]+1,c=B[6],_=m.$a(1),p=m.$a(1),X=m.$a(4),g=m.$a(4);
m.LA(p,U,l,c);m.aaj(j,a,R,1,1);m.aaj(a,X,R,1,1);m.ak1(X,X,g,7,q);m.Pi(g,1.2);m.sI(g,1.2);m.lY(p,_,_,D,b);
m.Pi(_,3);m.D1(j,a);m.qz(g,_,a)};K.t.am5=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);m.pr(B[3]);var R=B[0]+4,q=R*2/5+(R%5|0);
R--;var U=B[1]*-2.75+60,l=65-U,b=B[2]/10,D=m.$a(1),c=m.$a(1);m.we(D);m.tO(j,c);var _=m.T3(U,l,c);m.aC(j,a);
m.c9(a,c);m.Rh(c,D,.8);m.Nn(c,_);m.Pi(c,b);m.add(D,c);m.DD(c,D,R,3,!1,q);m.gN(D,a);m.V6(a)};K.t.ajp=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);m.pr(B[3]);var R=B[0]+5,q=(R*R>>1)+R%2,U=B[1]/10,l=B[2],b=(l*l>>1)+l%2,D=m.$a(1),c=m.$a(1),_=m.$a(1),p=m.$a(4),X=m.$a(4),g=m.$a(4);
m.we(_);m.aC(j,g);m.c9(g,D);m.Rh(D,_,.8);m.be(_,D,3);m.IE(D,_,U);m.gN(_,g);m.V6(g,g);m.CO(g,_);m.sG(_,D,R,R,q);
m.be(_,c,R);m.sub(D,c);m.jP(c,1);m.$b(g,p,7,7,40);m.$b(g,X,7,7,10);m.qz(p,c,X);m.$b(X,a,l,l,b)};K.t.azH=function(j,n,Q,a,B){var m=K.t.F,q=255,v,l;
m.Ei(n,Q);var R=B[0];if(R<2)q=R;else if(R<12)q=5*R-5;else if(R<47)q=2*R+28;else if(R<50){v=R-47;q=125+12.5*v+12.5*v*v}var U=new Uint8Array(256);
for(v=75,l=15;v<256;v++,l+=24)U[v]=Math.min(255,l);var b=m.$a(1),D=m.$a(1),c=m.$a(1);m.CO(j,b);m.be(b,D,11);
m.be(D,c,11);m.sub(c,b);m.Pi(b,8);m.sub(c,b);m.jP(b,q);m.m2(b);m.be(b,D,5);m.jP(D,51);m.be(D,b,B[1]);
m.be(b,D,B[1]);m.m2(D);m.Nn(D,U);m.PG(D,a)};K.t.a1v=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);var R=m.arm[B[1]],q=B[2],U=q*1.5,l=m.$a(1),b=m.$a(1),D=m.$a(1);
m.tO(j,l);m.DD(l,b,15,2,!0,15);m.D1(b,D);m.uQ(D,q,U);m.be(D,l,3);m.be(b,D,B[0]);m.sub(D,b);m.Pi(b,R);
m.sub(l,b);m.be(b,l,3);m.DD(l,b,3,1,!1,1);m.CU(j,a,15);m.aC(a);m.gN(b,a);m.V6(a)};K.t.aru=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);m.pr(B[3]);var R=B[0]*5.1,q=16-B[1],U=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][B[2]],l=m.$a(1),b=m.$a(1),D=m.$a(1);
m.CO(j,l);m.jP(l,R);m.be(l,b,q);m.be(b,l,q);m.we(D);m.bk(l,D,D,1);m.SM(l,D,l,.75);m.Pi(l,U);m.sI(l,U);
m.sG(l,b,2,2,2);m.PG(b,a)};K.t.a6w=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);var R=B[0]+9,q=B[1]+9,U=B[2],l=B[3],b=m.rg(B[4]),D=B[5]+1,c=B[6],_=m.$a(1),p=m.$a(1),X=m.$a(1),g=m.$a(1),F=m.$a(1),k=m.$a(4);
m.tO(j,_);m.a1F(_,X,R,R);m.be(X,_,q);m.D1(X,F);m.D1(_,g);m.sub(F,g);m.sub(_,F);m.add(F,g);m.Pi(g,10);
m.LA(p,U,l,c);m.lY(p,_,F,D,b);m.au1(F,g,X,.8);m.CU(j,k,9);m.CU(k,a,9);m.aC(a);m.gN(X,a);m.V6(a)};K.t.aEb=function(j,n,Q,a,B){var m=K.t.F;
m.Ei(n,Q);var R=16-B[0],q=B[1]*8,U=1-(3-B[2])/10,l=~~(R*R*U-1),b=~~(R*R*(1-U));if(b==0)b=1;var D=m.$a(1),c=m.$a(1),_=m.$a(1),p=m.$a(4);
m.CO(j,_);m.sG(_,D,7,7,25);m.be(_,c,7);m.sub(D,c);m.jP(c,1);m.$b(j,p,R,R,l);m.$b(j,a,R,R,b);m.qz(p,c,a);
m.aC(a);m.c9(a,D);m.sG(D,_,3,3,1);m.sG(D,c,3,3,9);m.sub(c,_);m.D1(_,c);m.sub(D,_);m.sub(_,c);m.sG(c,D,3,3,8);
m.uQ(D,q,1);m.gN(D,a);m.V6(a)};K.t.ap1=function(j,n,Q,a,B){var m=K.t.F;m.Ei(n,Q);m.pr(B[3]);var R=B[0],q=B[1],U=B[2],l=R>>1,b=Math.max(~~(R/5),1),D=Math.max(~~(R*2/3),1),c=m.ajc(q,U),_=m.$a(1),p=m.$a(1),X=m.$a(1),g=m.$a(1),F=m.$a(4);
m.tO(j,_);m.aoB(2147483647,4,2,2,0,255,p);m.aoB(4,2147483647,2,2,0,255,g);m.we(X);m.bk(p,X,p,1);m.bk(g,X,g,1);
m.bk(p,_,p,1);m.bk(g,_,g,1);m.CU(j,F,l);m.CU(F,a,l);m.sG(p,_,1,R,b);m.sG(_,p,3,R,D);m.sG(g,_,R,1,b);
m.sG(_,g,R,3,D);m.eg(p,g);m.aC(a);m.gN(g,a);m.V6(a);m.aFp(a,c)};K.t.bt=function(j,n,Q){var a=Q.auL,B=Q.tq,m=Q.$a(1),top=Q.$a(1),R=Q.$a(1),q=Q.$a(1),U=Q.$a(1),l=Q.$a(1),b=Q.$a(1),D=Q.$a(1),c=Q.$a(1),_=Q.Uw,p=Q.WC,X=K.GY.T2,g=K.GY.c4;
X(j,m,_,p,g([8,5,2,5,2,-1,2,-1,-4]));X(j,top,_,p,g([5,5,5,2,2,2,-1,-1,-1]));X(j,R,_,p,g([2,5,8,-1,2,5,-4,-1,2]));
X(j,q,_,p,g([5,2,-1,5,2,-1,5,2,-1]));X(j,U,_,p,g([2,2,2,2,2,2,2,2,2]));X(j,l,_,p,g([-1,2,5,-1,2,5,-1,2,5]));
X(j,b,_,p,g([2,-1,-4,5,2,-1,8,5,2]));X(j,D,_,p,g([-1,-1,-1,2,2,2,5,5,5]));X(j,c,_,p,g([-4,-1,2,-1,2,5,2,5,8]));
var F=[m,top,R,q,U,l,b,D,c];for(var k=0;k<p;k++){for(var I=0;I<_;I++){var e=k*_+I,H=j[e],A=null,Z=0;
for(var J=-1;J<2;J++){for(var s=-1;s<2;s++){var E=F[(J+1)*3+s+1],z=Math.max(0,Math.min(k+J,p-1)),h=Math.max(0,Math.min(I+s,_-1)),d=E[z*_+h],Y=Math.abs(d-H);
if(A==null||Y<A){A=Y;Z=d}}}n[e]=Z}}};K.t.aCu=function(j,n,Q,a,B){var self=K.t.F;self.Ei(n,Q);var m=self.$a(1),R=self.$a(1);
for(var v=0;v<4;v++){self.c9(j,m,v);if(v<3){K.t.bt(m,R,self);K.t.bt(R,m,self);K.t.bt(m,R,self);K.t.bt(R,m,self);
K.t.bt(m,R,self);K.t.bt(R,m,self);K.t.bt(m,R,self);K.t.bt(R,m,self);K.t.bt(m,R,self)}else R=m;self.gN(R,a,v)}};
K.t.F={};K.t.F.Uw=0;K.t.F.WC=0;K.t.F.tq=0;K.t.F.Cz=0;K.t.F.GB=0;K.t.F.Ei=function(j,n){var Q=j*n,self=K.t.F;
self.Uw=j;self.WC=n;self.tq=Q;self.Cz=Q<<1;self.GB=Q<<2};K.t.F.pr=function(j){K.t.F.random=function(){var n=j+=1831565813;
n=Math.imul(n^n>>>15,n|1);n^=n+Math.imul(n^n>>>7,n|61);return((n^n>>>14)>>>0)/4294967296}};K.t.F.$a=function(j){var n=K.t.F;
return new Uint8Array([-1,n.tq,n.Cz,-1,n.GB][j])};K.t.F.Ll=function(){return new Int32Array(K.t.F.Cz)};
K.t.F.be=function(j,n,Q,a){if(a==null)a=Q;var self=K.t.F,B=self.Uw,m=self.WC,R=a,q=a>>1,U=Q,l=Q>>1,b=Q*a,D=0;
for(var v=0;v<m;v++){var c=0;for(var _=0;_<R;_++){for(var p=0;p<U;p++){var X=0-l+p,g=v-q+_;if(X<0)X=0;
else if(X>=B)X=B-1;if(g<0)g=0;else if(g>=m)g=m-1;c+=j[g*B+X]}}n[D++]=~~(c/b);for(var F=1;F<B;F++){for(var _=0;
_<R;_++){var k=F-l-1,I=k+U,g=v-q+_;if(k<0)k=0;if(I>=B)I=B-1;if(g<0)g=0;else if(g>=m)g=m-1;c+=j[g*B+I]-j[g*B+k]}n[D++]=~~(c/b)}}};
K.t.F.hu=function(j,n,Q,a){var self=K.t.F,B=new Int32Array(self.tq),m=new Int32Array(self.tq);for(var v=0;
v<2;v++){self.c9(j,B,v,2);self.be(B,m,Q,a);self.gN(m,n,v,2)}};K.t.F.CU=function(j,n,Q,a){var self=K.t.F,B=self.$a(1),m=self.$a(1);
for(var v=0;v<4;v++){self.c9(j,B,v);if(v<3)self.be(B,m,Q,a);else m=B;self.gN(m,n,v)}};K.t.F.aaj=function(j,n,Q,a,B){var self=K.t.F,m=self.Uw,R=self.WC,q=Q+a-1,U=Q>>1,l=q>>1,b=0,D=Q*a,c=new Int32Array(Q);
for(var v=0;v<R;v++){var _=0,p=0,X=0;for(var g=0;g<Q;g++){var F=B?q-g-a:g;for(var k=F,I=a+F;k<I;k++){var e=0-l+k,H=v-U+g;
if(k==F){c[g]=e}if(e<0)e=0;else if(e>=m)e=m-1;if(H<0)H=0;else if(H>=R)H=R-1;var A=m*H+e<<2;_+=j[A];p+=j[A+1];
X+=j[A+2]}}n[b++]=~~(_/D);n[b++]=~~(p/D);n[b++]=~~(X/D);n[b]=j[b];b++;for(var Z=1;Z<m;Z++){for(var g=0;
g<Q;g++){var H=v-U+g,F=c[g]+1;c[g]=F;var J=F-1,s=F+a-1;if(H<0)H=0;else if(H>=R)H=R-1;if(J<0)J=0;else if(J>=m)J=m-1;
if(s<0)s=0;else if(s>=m)s=m-1;var E=H*m+J<<2,z=H*m+s<<2;_=_+j[z]-j[E];p=p+j[z+1]-j[E+1];X=X+j[z+2]-j[E+2]}n[b++]=~~(_/D);
n[b++]=~~(p/D);n[b++]=~~(X/D);n[b]=j[b];b++}}};K.t.F.DD=function(j,n,Q,a,B,m){var self=K.t.F,R=self.Uw,q=self.WC,U=Q+a-1,l=Q>>1,b=U>>1,D=0,c=new Int32Array(Q),_=new Int32Array(256),p=new Int32Array(16);
for(var v=0;v<q;v++){for(var X=0;X<256;X++){_[X]=0}for(var X=0;X<16;X++){p[X]=0}for(var g=0;g<Q;g++){var F=B?U-g-a:g;
for(var k=F,I=a+F;k<I;k++){var e=0-b+k,H=v-l+g;if(k==F){c[g]=e}if(e<0)e=0;else if(e>=R)e=R-1;if(H<0)H=0;
else if(H>=q)H=q-1;_[j[H*R+e]]++;p[j[H*R+e]>>>4]++}}var A=0,Z=0;while(A+p[Z>>>4]<m){A+=p[Z>>>4];Z+=16}for(;
Z<256;Z++){A+=_[Z];if(A>=m)break}n[D++]=Z;for(var X=1;X<R;X++){for(var g=0;g<Q;g++){var H=v-l+g,F=c[g]+1;
c[g]=F;var J=F-1,s=F+a-1;if(H<0)H=0;else if(H>=q)H=q-1;if(J<0)J=0;else if(J>=R)J=R-1;if(s<0)s=0;else if(s>=R)s=R-1;
_[j[H*R+J]]--;_[j[H*R+s]]++;p[j[H*R+J]>>>4]--;p[j[H*R+s]>>>4]++}A=0;Z=0;while(A+p[Z>>>4]<m){A+=p[Z>>>4];
Z+=16}for(;Z<256;Z++){A+=_[Z];if(A>=m)break}n[D++]=Z}}};K.t.F.Wp=function(j,n,Q,a,B,m){var self=K.t.F,R=self.$a(1),q=self.$a(1);
for(var v=0;v<4;v++){self.c9(j,R,v);if(v<3)self.DD(R,q,Q,a,B,m);else q=R;self.gN(q,n,v)}};K.t.F.sG=function(j,n,Q,a,B){B=Math.min(a*Q,B);
var self=K.t.F,m=self.Uw,R=self.WC,q=a>>1,U=Q>>1,l=0,b=new Int32Array(a),D=new Int32Array(256),c=new Int32Array(16);
for(var v=0;v<R;v++){for(var _=0;_<256;_++){D[_]=0}for(var _=0;_<16;_++){c[_]=0}for(var p=0;p<a;p++){for(var X=0,g=Q;
X<g;X++){var F=0-U+X,k=v-q+p;if(X==0){b[p]=F}if(F<0)F=0;else if(F>=m)F=m-1;if(k<0)k=0;else if(k>=R)k=R-1;
D[j[k*m+F]]++;c[j[k*m+F]>>>4]++}}var I=0,e=0;while(I+c[e>>>4]<B){I+=c[e>>>4];e+=16}for(;e<256;e++){I+=D[e];
if(I>=B)break}n[l++]=e;for(var _=1;_<m;_++){for(var p=0;p<a;p++){var k=v-q+p,H=b[p]+1;b[p]=H;var A=H-1,Z=H+Q-1;
if(k<0)k=0;else if(k>=R)k=R-1;if(A<0)A=0;else if(A>=m)A=m-1;if(Z<0)Z=0;else if(Z>=m)Z=m-1;D[j[k*m+A]]--;
D[j[k*m+Z]]++;c[j[k*m+A]>>>4]--;c[j[k*m+Z]>>>4]++}I=0;for(e=0;e<256;e++){I+=D[e];if(I>=B)break}n[l++]=e}}};
K.t.F.$b=function(j,n,Q,a,B){var self=K.t.F,m=self.$a(1),R=self.$a(1);for(var v=0;v<4;v++){self.c9(j,m,v);
if(v<3)self.sG(m,R,Q,a,B);else R=m;self.gN(R,n,v)}};K.t.F.IE=function(j,n,Q){var self=K.t.F,a=self.Uw,B=self.WC,m=0;
for(var v=0;v<B;v++){var R=v*a,q=(v-1)*a,U=(v+1)*a;if(q<0)q=R;if(U>=B)U=R;for(var l=0;l<a;l++){var b=l-1,D=l+1;
if(b<0)b=l;if(D>=a)D=l;var c=R+b,_=R+D,p=q+l,X=U+l,g=R+l,F=j[c],k=j[_],I=j[p],e=j[X],H=j[g],A=H+(H*4*Q+.5);
A=A-((F+k+e+I)*Q+.5);n[m++]=self.Ea(A)}}};K.t.F.o_=function(j,n,Q){var self=K.t.F,a=self.$a(1),B=self.$a(1);
for(var v=0;v<4;v++){self.c9(j,a,v);if(v<3)self.IE(a,B,Q);else B=a;self.gN(B,n,v)}};K.t.F.aqD=function(j,n,Q){var self=K.t.F,a=self.Uw,B=self.WC,m=0,R=Q+4;
for(var v=0;v<B;v++){var q=v*a,U=(v-1)*a,l=(v+1)*a;if(U<0)U=q;if(l>=B)l=q;for(var b=0;b<a;b++){var D=b-1,c=b+1;
if(D<0)D=b;if(c>=a)c=b;var _=q+D<<2,p=q+c<<2,X=U+b<<2,g=l+b<<2,F=q+b<<2;for(var k=0;k<3;k++){var I=j[_+k],e=j[p+k],H=j[X+k],A=j[g+k],Z=j[F+k];
n[m++]=(Z*Q+I+e+A+H)/R}n[m]=j[m];m++}}};K.t.F.a1F=function(j,n,Q,a){var self=K.t.F,B=self.Uw,m=self.WC,R=Q>>1,q=a>>1,U=0,l=new Int32Array(Q),b=new Int32Array(256);
for(var v=0;v<m;v++){for(var D=0;D<256;D++){b[D]=0}for(var c=0;c<Q;c++){for(var _=0,p=a;_<p;_++){var X=0-q+_,g=v-R+c;
if(_==0){l[c]=X}if(X<0)X=0;else if(X>=B)X=B-1;if(g<0)g=0;else if(g>=m)g=m-1;b[j[g*B+X]]++}}var F=0,k=0;
for(var I=0;I<256;I++){if(F<b[I]){k=I;F=b[I]}}n[U++]=k;for(var D=1;D<B;D++){for(var c=0;c<Q;c++){var g=v-R+c,e=l[c]+1;
l[c]=e;var H=e-1,A=e+a-1;if(g<0)g=0;else if(g>=m)g=m-1;if(H<0)H=0;else if(H>=B)H=B-1;if(A<0)A=0;else if(A>=B)A=B-1;
b[j[g*B+H]]--;b[j[g*B+A]]++}F=0;k=0;for(var I=0;I<256;I++){if(F<b[I]){k=I;F=b[I]}}n[U++]=k}}};K.t.F.akG=[function(j,n,Q,a,B,m,R,q,U,l){return B+(j+n+Q)*l-(U+q+R)*l},function(j,n,Q,a,B,m,R,q,U,l){return B+(n+Q+m)*l-(q+R+a)*l},function(j,n,Q,a,B,m,R,q,U,l){return B+(Q+m+U)*l-(R+a+j)*l},function(j,n,Q,a,B,m,R,q,U,l){return B+(m+U+q)*l-(a+j+n)*l},function(j,n,Q,a,B,m,R,q,U,l){return B+(U+q+R)*l-(j+n+Q)*l},function(j,n,Q,a,B,m,R,q,U,l){return B+(q+R+a)*l-(n+Q+m)*l},function(j,n,Q,a,B,m,R,q,U,l){return B+(R+a+j)*l-(Q+m+U)*l},function(j,n,Q,a,B,m,R,q,U,l){return B+(a+j+n)*l-(m+U+q)*l}];
K.t.F.lY=function(j,n,Q,a,B){var self=K.t.F,m=self.Uw,R=self.WC,q=m,U=self.akG[a-1];for(var v=0;v<R;
v++){var l=(v>0?v-1:0)*q,b=v*q,D=(v<R?v+1:v)*q;for(var c=0;c<m;c++){var _=c>0?c-1:0,p=c<m?c+1:c,X=b+c,g=j[l+_],F=j[l+c],k=j[l+p],I=j[b+_],e=n[X],H=j[b+p],A=j[D+_],Z=j[D+c],J=j[D+p];
Q[X]=self.Ea(U(g,F,k,I,e,H,A,Z,J,B))}}};K.t.F.ak1=function(j,n,Q,a,B){var self=K.t.F,m=self.$a(1),R=self.$a(1),q=self.$a(1);
for(var v=0;v<3;v++){self.c9(j,m,v);self.c9(n,R,v);self.lY(m,R,q,a,B);self.gN(q,Q,v)}self.c9(n,m,3);
self.gN(m,Q,3)};K.t.F.CO=function(j,n){var Q=j.length,a=0;for(var v=0;v<Q;v++){n[a++]=~~((j[v++]+j[v++]+j[v++]+2)/3)}};
K.t.F.PG=function(j,n){var Q=n.length,a=0;for(var v=0;v<Q;v++){var B=j[v];n[a++]=B;n[a++]=B;n[a++]=B;
n[a++]=255}if(n[0]==255)n[0]--;else n[0]++};K.t.F.tO=function(j,n){var Q=n.length,a=0;for(var v=0;v<Q;
v++){var B=j[a++],m=j[a++],R=j[a++];a++;if(m>B)B=m;if(R>B)B=R;n[v]=B}};K.t.F.aC=function(j,n){if(n==null)n=j;
var Q=j.length;for(var a=0;a<Q;a+=4){var B=j[a],m=j[a+1],R=j[a+2],q=B,U=0,l=B,D;if(m<=B){B=m}else{U=1;
l=m}if(R<=l){if(B>R){B=R}}else{U=2;l=R}var b=l-B;if(b!=0){if(U==0){D=~~(43*(m-R)/b)}else if(U==1){D=~~(43*(R+2*b-q)/b)}else{D=43*(q+4*b-m)/b}if(D<0){D=255&D-1}n[a]=D;
n[a+1]=~~(255*b/l)}else{n[a]=b;n[a+1]=b}n[a+2]=l;n[a+3]=j[a+3]}};K.t.F.V6=function(j,n){if(n==null)n=j;
var Q=j.length;for(var a=0;a<Q;a+=4){var B=j[a],m=j[a+1],R=j[a+2];if(m){if(B==255)B=0;var q=~~(6*B/255),U=~~(-255*q+6*B);
if(q==0){n[a]=R;n[a+1]=~~(R*(255-m*(255-U)/255)/255);n[a+2]=~~(R*(255-m)/255)}else if(q==1){n[a]=~~(R*(255-m*U/255)/255);
n[a+1]=R;n[a+2]=~~(R*(255-m)/255)}else if(q==2){n[a]=~~(R*(255-m)/255);n[a+1]=R;n[a+2]=~~(R*(255-m*(255-U)/255)/255)}else if(q==3){n[a]=~~(R*(255-m)/255);
n[a+1]=~~(R*(255-m*U/255)/255);n[a+2]=R}else if(q==4){n[a]=~~(R*(255-m*(255-U)/255)/255);n[a+1]=~~(R*(255-m)/255);
n[a+2]=R}else{n[a]=R;n[a+1]=~~(R*(255-m)/255);n[a+2]=~~(R*(255-m*U/255)/255)}}else{n[a]=R;n[a+1]=R;n[a+2]=R}n[a+3]=j[a+3]}};
K.t.F.gN=function(j,n,Q,a){if(Q==null)Q=2;if(a==null)a=4;var B=j.length;for(var v=0;v<B;v++){n[Q]=j[v];
Q+=a}};K.t.F.c9=function(j,n,Q,a){if(Q==null)Q=2;if(a==null)a=4;var B=n.length;for(var v=0;v<B;v++){n[v]=j[Q];
Q+=a}};K.t.F.au1=function(j,n,Q,a){if(a==null)a=1;var B=n.length,m=0,R;for(var m=0;m<B;m++){R=n[m];if(R){R*=a;
Q[m]=~~((R*j[m]+(255-R)*Q[m])/255)}}};K.t.F.qz=function(j,n,Q,a){if(a==null)a=Q;var B=n.length,m=0,R,q;
for(var v=0;v<B;v++){R=n[v];if(R){q=255-R;a[m]=~~((R*j[m]+q*Q[m])/255);a[m+1]=~~((R*j[m+1]+q*Q[m+1])/255);
a[m+2]=~~((R*j[m+2]+q*Q[m+2])/255)}a[m+3]=j[m+3];m+=4}};K.t.F.SM=function(j,n,Q,a){var B=~~(a*255),m=Q.length;
for(var v=0;v<m;v++){Q[v]=((255-B*(255-j[v])/255)*n[v]+j[v]*(B*(255-j[v])/255))/255}};K.t.F.bk=function(j,n,Q,a){var B=~~(a*255),m=Q.length;
for(var v=0;v<m;v++){Q[v]=((255-B*j[v]/255)*n[v]+j[v]*(B*j[v]/255))/255}};K.t.F.Rh=function(j,n,Q){var a=n.length;
for(var v=0;v<a;v++){n[v]=~~(j[v]*Q+.5)+(n[v]-~~(n[v]*Q+.5))}};K.t.F.sub=function(j,n){var Q=j.length;
for(var v=0;v<Q;v++){n[v]=Math.max(j[v]-n[v],0)}};K.t.F.add=function(j,n){var Q=j.length;for(var v=0;
v<Q;v++){n[v]=Math.min(j[v]+n[v],255)}};K.t.F.auL=function(j,n){var Q=j.length;for(var v=0;v<Q;v++){n[v]=j[v]+n[v]}};
K.t.F.eg=function(j,n){var Q=j.length;for(var v=0;v<Q;v++){n[v]=j[v]+n[v]>>1}};K.t.F.D1=function(j,n){var Q=j.length;
for(var v=0;v<Q;v++){n[v]=j[v]}};K.t.F.Nn=function(j,n){var Q=j.length;for(var v=0;v<Q;v++){j[v]=n[j[v]]}};
K.t.F.aFp=function(j,n){var Q=K.t.F.GB;for(var v=0;v<Q;v+=4){var a=j[v],B=j[v+1],m=j[v+2],R=a;if(B>a)R=B;
if(m>a)R=m;var q=n[R];if(q){j[v]=~~(q*a/R);j[v+1]=~~(q*B/R);j[v+2]=~~(q*m/R)}else{j[v]=q;j[v+1]=q;j[v+2]=q}}};
K.t.F.Pi=function(j,n){for(var v=0,Q=j.length;v<Q;v++){j[v]=Math.min(255,~~(.5+j[v]*n))}};K.t.F.sI=function(j,n){for(var v=0,Q=j.length;
v<Q;v++){j[v]=255-Math.min(255,~~(.5+(255-j[v])*n))}};K.t.F.m2=function(j){var n=j.length;for(var v=0;
v<n;v++){j[v]=255-j[v]}};K.t.F.jP=function(j,n,Q,a){if(Q==null)Q=0;if(a==null)a=255;for(var v=0,B=j.length;
v<B;v++){j[v]=j[v]>=n?a:Q}};K.t.F.qU=function(j){return[j>>24&255,j>>16&255,j>>8&255,j&255]};K.t.F.a6H=function(j,n,Q,a){if(Q==null)Q=255;
if(a==null)a=4278190335;var B=K.t.F,m=B.GB,R=B.qU(Q),q=B.qU(a);for(var v=0;v<m;v+=4){var U=~~((j[v]+j[v+1]+j[v+2]+2)/3);
if(U>=n){j[v]=R[0];j[v+1]=R[1];j[v+2]=R[2]}else{j[v]=q[0];j[v+1]=q[1];j[v+2]=q[2]}}};K.t.F.We=function(j,n){var Q=K.t.F,a=Q.GB,B=Q.qU(n);
for(var v=0;v<a;){j[v++]=B[0];j[v++]=B[1];j[v++]=B[2];j[v++]=B[3]}};K.t.F.aEU=function(j,n){var Q=j.length;
for(var v=0;v<Q;){j[v++]=n}};K.t.F.ajc=function(j,n){j=j>5?(100-Math.max(4,j))/100:.95;n=n!=100?Math.max(4,n)/100:.9995;
var Q=new Uint8Array(256),a=n>.5?.5/(1-n):n*2,B=~~(a*256),m=~~((.5-j*a)*256)<<8;for(var v=0;v<256;v++){Q[v]=K.t.F.Ea(m>>8);
m+=B}return Q};K.t.F.we=function(j){for(var v=0,n=K.t.F,Q=j.length;v<Q;v++){j[v]=~~(n.random()*256)}};
K.t.F.acn=function(j,n){for(var v=0,Q=K.t.F,a=j.length;v<a;v++){j[v]=Q.random()<n?255:0}};K.t.F.aHZ=function(j,n,Q){for(var v=0,a=K.t.F,B=j.length;
v<B;v++){if(a.random()<n)j[v]=Q}};K.t.F.agk=function(j,n,Q){var a=j.length;for(var v=0;v<a;v++){j[v]=K.t.F.Ea(j[v]+Q[n[v]])}};
K.t.F.fU=function(j){var n=new Uint32Array(256);for(var v=0,Q=j.length;v<Q;v++)n[j[v]]++;return n};K.t.F.a8G=function(j,n){var Q=0,a=0,B=new Uint32Array(256),m=new Float32Array(256);
for(var v=0,R=j.length;v<R;v++){var q=j[v],U=n[v];if(U==255){B[q]++;Q++}else if(U>0){U/=255;a+=U;m[q]+=U;
if(a>=1){a--;Q++}if(m[q]>=1){m[q]--;B[q]++}}}return[Q,B]};K.t.F.T3=function(j,n,Q,a){var self=K.t.F,B,m,b=0,c=256;
if(a){var R=self.a8G(Q,a);B=R[1];m=R[0]/100}else{B=self.fU(Q);m=self.tq/100}var q=new Uint8Array(256),U=m*j,l=m*n,D=-1;
do{b+=B[++D]}while(b<=U);b=0;do{b+=B[--c]}while(b<=l);if(c-D<=0)c=D+1;if(c>255){c=255;D=254}var _=255/(c-D),p=-D;
for(var v=0;v<256;v++){q[v]=self.Ea(_*p+.5);p++}return q};K.t.F.uQ=function(j,n,Q,a){var B=K.t.F;B.Nn(j,B.T3(n,Q,j,a))};
K.t.F.aoV=function(j,n){var self=K.t.F,Q=self.fU(j),a=self.tq*n/100,B=0,m=-1;do{B+=Q[++m]}while(B<=a);
return m};K.t.F.fe=function(j,n){var Q=0,self=K.t.F,a=self.Uw,B=self.WC,m=1/Math.PI,R=m*255;for(var v=0;
v<B;v++){var q=v+1;if(q==B)q--;var U=v*a,l=~~((1-(v+1)/B)*255);for(var b=0;b<a;b++){var D=b+1;if(D==a)D--;
var c=j[U+b],_=j[U+D],p=j[q*a+b];if(c-p==0){n[Q++]=l}else{var X=c-p+255;if(X==255){X=0}else{X=~~(Math.atan2(1/(255-X),1)*R+.5);
if(X<0)X+=255}n[Q++]=X}if(c-_==0){n[Q++]=~~((1-(b+1)/a)*255)}else{var X=c-_+255;if(X==255){X=0}else{X=~~(Math.atan2(1/(255-X),1)*R+.5);
if(X<0)X+=255}n[Q++]=X}}}};K.t.F.aoh=function(j,n){var self=K.t.F,Q=self.Uw,a=self.WC,B=0;for(var v=0;
v<a;v++){for(var m=0;m<Q;m++){j[B]=~~(v*n+.5)+~~(j[B]*(1-n)+.5);B++;j[B]=~~(m*n+.5)+~~(j[B]*(1-n)+.5);
B++}}};K.t.F.a9C=function(j,n,Q,a){var self=K.t.F,B=self.Uw,m=self.WC,R=0;for(var v=0;v<m;v++){for(var q=0;
q<B;q++){n[R]=~~(n[R]*(1-Q)+.5)+~~(j[R]*a+.5);R++;n[R]=~~(n[R]*(1-Q)+.5)+~~(j[R]*a+.5);R++}}};K.t.F.aEK=function(j,n,Q){var self=K.t.F,a=self.Uw,B=self.WC,m=0,R=0;
for(var v=0;v<B;v++){for(var q=0;q<a;q++){var U=j[m++],l=j[m++];n[R++]=l%Q>=2&&U%Q>=2?255:0}}};K.t.F.aoB=function(j,n,Q,a,B,m,R){var self=K.t.F,q=self.Uw,U=self.WC,l=0,b=0,D=0;
for(var v=0;v<U;v++){var c=v%j<Q||U-Q<=v;for(var _=0;_<q;_++){R[l++]=c||_%n<a||q-a<=_?B:m}}};K.t.F.LA=function(j,n,Q,a){var self=K.t.F,B=self.Uw,m=self.WC,R=c3.LA(n),q=R[1],U=R[0].q,l=R[0]._,b=100/Q;
for(var D=0;D<m;D++)for(var c=0;c<B;c++){var _=K.D.nj(c*b,D*b,q,U,l);j[D*B+c]=a?255-_:_}};K.t.F.Ea=function(j){return~~Math.min(255,Math.max(0,j))};
K.t.F.arm=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];K.t.F.aCn=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
K.t.F.rg=function(j){return j>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][j-41]:j/40};K.t.F.aoG=function(j,n,Q){var self=K.t.F,a=self.Uw,B=self.WC,m=Q,R=Q>>1,q=R-1,U=m*m,l=0;
for(var v=0;v<B;v++){var b=0,D=0,c=0,_=~~(v/Q)*Q,p=0;for(var X=0;X<m;X++){for(var g=0;g<m;g++){var F=p+g,k=_+X;
if(F>=a)F=a-1;if(k>=B)k=B-1;b+=j[k*a+F<<2];D+=j[(k*a+F<<2)+1];c+=j[(k*a+F<<2)+2]}}var I=~~(b/U),e=~~(D/U),H=~~(c/U);
n[l]=I;n[l+1]=e;n[l+2]=H;n[l+3]=j[l+3];l+=4;for(var A=1;A<a;A++){for(var X=0;X<m;X++){var Z=A-1,J=Z+m,k=_+X;
if(J>=a)J=a-1;if(k>=B)k=B-1;var s=k*a,E=s+J<<2,z=s+Z<<2;b+=j[E]-j[z];D+=j[E+1]-j[z+1];c+=j[E+2]-j[z+2]}if(A%Q==0){I=~~(b/U);
e=~~(D/U);H=~~(c/U)}n[l]=I;n[l+1]=e;n[l+2]=H;n[l+3]=j[l+3];l+=4}}};K.t.F.ayw=function(j,n,Q,a,B){var self=K.t.F,m=self.Uw,R=self.WC,q=0,U=0,l=0,b=0;
for(var v=b;v<R+b;v++){var D=v%n>=a||v<a||R+b-a<=v;for(var c=0;c<m;c++){j[q++]=D&&(c%Q>=B||c<B||m-B<=c)?255:0}}};
K.t.F.aoi=function(j,n,Q){var a=function(l,b){return b<=l?l/b&1?b-l%b:l%b:l},B=[function(q,U){return a(q,255)/255},function(q,U){return(255+a(q,255)-a(U,255))/510},function(q,U){return(255-a(U,255))/255},function(q,U){return(510-a(q,255)-a(U,255))/510},function(q,U){return(255-a(q,255))/255},function(q,U){return(255-a(q,255)+a(U,255))/510},function(q,U){return a(U,255)/255},function(q,U){return(a(q,255)+a(U,255))/510}][Q],m=0,R=0;
for(var v=0;v<K.t.F.tq;v++){var q=j[m++],U=j[m++];n[R++]=~~(255*B(q,U))}};K.t.alr=function(){var j=[],n=new Uint8Array(512),Q=new Float32Array(512),a=new Float32Array(512),B=[1,-1,1,-1,1,-1,0,0],m=[1,1,-1,-1,0,0,1,-1],R=0,q,p=0;
for(;R<256;R++)j[R]=R;while(R!=0){R--;q=Math.floor(Math.random()*R);j[q]^=j[R]^(j[R]=j[q])}function U(U){U=Math.floor(U*65536);
if(U<256){U|=U<<8}for(var v=0;v<256;v++){var F=v+256,k=j[v]^(v&1?U:U>>8)&255;n[v]=n[F]=k;k=k%8;Q[v]=Q[F]=B[k];
a[v]=a[F]=m[k]}}function l(F){return F*F*F*(F*(F*6-15)+10)}function b(F,k,I){return(1-I)*F+I*k}function D(F,k){return F&k}function c(F,k){return F%k}function _(F,k,I,e,H){var A=Math.floor(F),Z=Math.floor(k),R,J,s,E,z,h;
F=F-A;k=k-Z;A=A&255;Z=Z&255;R=A+n[Z];E=Q[R]*F+a[R]*k;R=A+n[H(Z+1,e)];s=Q[R]*F+a[R]*(k-1);R=H(A+1,I)+n[Z];
z=Q[R]*(F-1)+a[R]*k;R=H(A+1,I)+n[H(Z+1,e)];h=Q[R]*(F-1)+a[R]*(k-1);J=l(F);return b(b(E,z,J),b(s,h,J),l(k))}function X(F,R,k){F[R]=k}function g(F,k,I,e,H){var A=Math.min(Math.min(k,256),Math.min(256,I)),Z=A==256||A<8,J=8,s=new Uint32Array(J),E=new Uint32Array(J),z=new Float32Array(J),h=new Float32Array(J),d=1,Y=1,C=Z?D:c,i=X,M;
for(var v=0;v<J;v++){M=Y*1/A;if(Z){E[v]=(1<<Math.ceil(Math.log2(I*M)))-1;s[v]=(1<<Math.ceil(Math.log2(k*M)))-1}else{E[v]=M*I;
s[v]=M*k}z[v]=d;h[v]=M;d*=.5;Y=Y<<1}U(Math.random());for(var W=0,R=0;W<I;W++){for(var $=0;$<k;$++){var P=0;
for(var O=0;O<J;O++){M=h[O];P+=_($*M,W*M,s[O],E[O],C)*z[O]}i(e,R++,Math.round(Math.max(0,255*Math.min(1,.5+P*.5))))}}}return g}();
K.t.agl=function(){function j(n,Q,a,B){var m=new Uint8Array(n.length>>>2),R=new Uint8Array(n.length>>>2),q=new Uint8Array(n.length);
for(var v=0;v<n.length;v+=4){var U=n[v+0]*.3+n[v+1]*.59+n[v+2]*.11;R[v>>>2]=U;q[v]=n[v];q[v+1]=n[v+1];
q[v+2]=n[v+2]}K.GY.aI0(R,m,Q,a);K.GY.ie(n,B,Q,a,K.GY.Mz[1],0,!0);for(var v=0;v<n.length;v+=4){q[v+3]=255-m[v>>>2]}for(var v=0,l=n.length;
v<l;v+=4){var b=q[v+3]/255;B[v]=q[v]*b+B[v]*(1-b);B[v+1]=q[v+1]*b+B[v+1]*(1-b);B[v+2]=q[v+2]*b+B[v+2]*(1-b)}}return j}();
K.t.aFC=function(){function j(m,R,q,U,l){var b=new Uint32Array(m.buffer),D=0;for(var v=0;v<q;v++){for(var c=0;
c<R;c++,D+=4){var _=b[v*R+c],p=_&255,X=_>>>8&255,g=_>>>16&255,F=_>>>24&255,k=~~(Math.random()*8),I=k%3,e=0,H=0;
if(k<3){H--}else if(k>4){H++}if(I==0){e--}else if(I==2){e++}var A=c+e,Z=v+H;if(A<0)A=0;else if(A>R-1)A=R-1;
if(Z<0)Z=0;else if(Z>q-1)Z=q-1;var _=b[Z*R+A],J=_&255,s=_>>>8&255,E=_>>>16&255,z=_>>>24&255;U[D]=l(p,J);
U[D+1]=l(X,s);U[D+2]=l(g,E);U[D+3]=l(F,z)}}}function n(m,R){return R}function Q(m,R){return m>R?R:m}function a(m,R){return m<R?R:m}function B(m,R,q,U,l){var b=l[0];
if(b==0)j(m,R,q,U,n);else if(b==1)j(m,R,q,U,Q);else if(b==2)j(m,R,q,U,a);else if(b==3){console.error("Not implemented")}else console.error("Mew mew")}return B}();
K.t.aDP=function(){function j(n,Q,a,B,m){var R=m&&m[0]?m[0]:4,q,U,l,b,D,c,_;for(var v=0;v<a;v++){var p=Math.max(v-R,0),X=Math.min(v+R,a-1);
for(var g=0;g<Q;g++){var F=Math.max(g-R,0),k=Math.min(g+R,Q-1);q=p*Q+F<<2;b=n[q];D=n[q+1];c=n[q+2];_=n[q+3];
q=p*Q+k<<2;b+=n[q];D+=n[q+1];c+=n[q+2];_+=n[q+3];q=X*Q+F<<2;b+=n[q];D+=n[q+1];c+=n[q+2];_+=n[q+3];q=X*Q+k<<2;
b+=n[q];D+=n[q+1];c+=n[q+2];_+=n[q+3];q=v*Q+g<<2;B[q]=b+2>>>2;B[q+1]=D+2>>>2;B[q+2]=c+2>>>2;B[q+3]=_+2>>>2}}}return j}();
K.t.akn=function(){function j(n,Q,a,B){var m=new Uint8Array(n.length),R=new Uint8Array(n.length>>>2),q=new Uint8Array(n.length>>>2);
K.GY.ie(n,m,Q,a,K.GY.Mz[2],0,!0);for(var v=0;v<n.length;v+=4){var U=m[v+0]*.3+m[v+1]*.59+m[v+2]*.11;
R[v>>>2]=U;B[v+0]=n[v+0];B[v+1]=n[v+1];B[v+2]=n[v+2];B[v+3]=n[v+3]}K.GY.aI0(R,q,Q,a);for(var v=0;v<n.length;
v+=4){m[v+3]=~~(Math.max(0,255-q[v>>>2]-50)*(255/205))}for(var v=0,l=n.length;v<l;v+=4){var b=m[v+3]/255;
B[v]=m[v]*b+B[v]*(1-b);B[v+1]=m[v+1]*b+B[v+1]*(1-b);B[v+2]=m[v+2]*b+B[v+2]*(1-b)}}return j}();K.t.Z8=function(){function j(k,I){return k[I]+k[I+1]+k[I+2]+k[I+3]}function n(k,I){return k[I]+k[I+1]+k[I+2]+2*k[I+3]}function Q(k,I,e,H){k[I]=e[H];
k[I+1]=e[H+1];k[I+2]=e[H+2];k[I+3]=e[H+3]}function a(k,I,e){k[I]=k[e];k[I+1]=k[e+1];k[I+2]=k[e+2];k[I+3]=k[e+3]}function B(k,I,e){k[e]=I[e];
k[e+1]=I[e+1];k[e+2]=I[e+2];k[e+3]=255-I[e+3]}function m(k){for(var v=0,I=k.length;v<I;v+=4){k[v+3]=255-k[v+3]}}function R(){var k=Math.random();
if(k>.5)return 0;if(k>.25)return 1;if(k>.1)return 2;if(k>.02143)return 3;if(k>.00445)return 4;if(k>65e-5)return 5;
if(k>415e-6)return 6;if(k>55e-6)return 7;return 8}function q(k,I,e,H,A,Z){k[I]=e[H]+(A[Z]-e[H]>>1);k[I+1]=e[H+1]+(A[Z+1]-e[H+1]>>1);
k[I+2]=e[H+2]+(A[Z+2]-e[H+2]>>1);k[I+3]=e[H+3]+(A[Z+3]-e[H+3]>>1)}function U(k,I,e,H,A,Z){k[I]=A[Z]+e[H]>>1;
k[I+1]=A[Z+1]+e[H+1]>>1;k[I+2]=A[Z+2]+e[H+2]>>1;k[I+3]=A[Z+3]+e[H+3]>>1}function l(k,I,e,H,A,Z,J,s,E){var z=0,h=0,d=0,v,Y=A[Z],C;
q(s,0,k,I,k,e);for(v=0;v<Y;v++){q(s,(v+1)*4,s,v*4,k,e)}h=(Y+1)*4;d+=Y;Z--;Q(k,I,s,h-4);H[Z]=j(k,I);I-=E;
while(Z>0&&H[Z-1]<H[Z]){C=s;s=J;J=C;z=h;U(s,0,k,I-E,J,0);for(v=4;v<z;v+=4){U(s,v,s,v-4,J,v)}Y=A[Z];for(v=d;
v<Y;v++){q(s,h,s,h-4,J,z-4);h+=4;d++}Z--;Q(k,I,s,h-4);H[Z]=j(k,I);I-=E}}function b(k,I,e,H,A){var Z=I*4,J=0,s,E,z=new Uint8Array(I+1),h=new Uint8Array(10*4),d=new Uint8Array(10*4);
for(var v=0;v<e;v++){B(H,k,J);A[0]=j(H,J);z[0]=R();s=J;J+=4;for(var Y=1;Y<I;Y++){B(H,k,J);A[Y]=j(H,J);
E=R();z[Y]=E;if(A[Y-1]<A[Y]&&E>0){l(H,J-4,J,A,z,Y,h,d,4)}J+=4}A[I]=A[0];z[I]=z[0];if(A[I-1]<A[I]&&E>0){l(H,J,s,A,z,I,h,d,4)}}m(H)}function D(){var k=Math.random();
if(k>.659755)return 0;if(k>.1625)return 10;if(k>.06)return 20;if(k>.01)return 30;if(k>.0035)return 40;
if(k>65e-5)return 50;if(k>415e-6)return 60;if(k>55e-6)return 70;return 80}function c(k,I,e,H,A,Z){var J=D()+1,s=H[A];
for(var v=1;v<J;v++){if(0>A)break;if(H[A-v]<s){a(k,I,e)}else{break}I+=Z}}function _(k,I,e,H,A){var Z=I*4,J=0;
for(var v=0;v<e;v++){B(H,k,J);A[0]=j(H,J);J+=4;for(var s=1;s<I;s++){B(H,k,J);A[s]=j(k,J);if(A[s-1]<A[s]){c(H,J-4,J,A,s,-4)}J+=4}A[I]=A[0];
if(A[s-1]<A[s]){c(H,J-4,J-Z,A,s,-4)}}m(H)}function p(k,I,e,H,A,Z){var J=1,s,E,z=new Uint8Array(4),h,d=I;
while(Math.random()<1/J){d=I;if(H<=1)break;s=e[H];E=e[H-1];if(s<=E)break;Q(z,0,k,d-Z);h=!0;for(var v=H;
v<A;v++){if(E>e[v]){Q(k,d-Z,z,0);e[v-1]=E;h=!1;break}Q(k,d-Z,k,d);e[v-1]=e[v];d+=Z}if(h){Q(k,d-Z,z,0);
e[A-1]=E}J++;H--;I-=Z}}function X(k,I,e,H,A){var Z=0,J=0,s=I*4;for(var v=0;v<e;v++){J=Z;for(var E=0;
E<I;E++){B(H,k,Z);A[E]=n(H,Z);Z+=4}Z=J;for(var E=1;E<I;E++){if(A[E-1]<A[E]&&Math.random()<.66){p(H,Z+4,A,E,I,4)}Z+=4}Z+=4}m(H)}function g(k,I,e,H,A){var Z=A[0],J=A[1],s=new Uint16Array(I+1),E=k,z=H,h;
if(J){h=H.slice(0);F(k,H,I,e);E=H;z=h}if(Z==0)b(E,I,e,z,s);else if(Z==1)_(E,I,e,z,s);else if(Z==2)X(E,I,e,z,s);
if(J){F(h,H,I,e)}}function F(k,I,e,H){for(var A=0;A<H;A++)for(var Z=0;Z<e;Z++){var J=A*e+Z<<2,s=A*e+(e-1-Z)<<2;
I[s]=k[J];I[s+1]=k[J+1];I[s+2]=k[J+2];I[s+3]=k[J+3]}}return g}();K.t.a6Z=function(j,n,Q,a,B){var m=K.t.F,R=1,g=0,I=0;
m.Ei(n,Q);m.pr(B[2]);var q=3<<13,U=Math.PI/2.43,l=U/256,b=Math.PI*2/256;function D(){var Z=m.random()*256,J=m.random()*256;
return R*~~(Math.tan(U-Z*l)*325*Math.cos(J*b)*256)+q>>16}R=B[0];var c=B[1],_=(c+2)/2,p=m.random()*255,X=m.$a(1);
for(var v=0;v<Q;v++){var F=m.Ea(D()+p);for(var k=0;k<n;k++){F=m.Ea(D()+F);X[g++]=F}}g=n;for(var v=1;
v<Q;v++){var e=m.Ea(D()+X[I++]);X[g++]=e;for(var k=1;k<n;k++){var H=I+1;if(k+1==n){H--}var A=(_+e+X[H]+X[I]*c)/(c+2);
e=m.Ea(D()+A);X[g++]=e;I++}}m.PG(X,a)};var hE=function(){function j(y){y=y^61^y>>>16;y=y+(y<<3);y=y^y>>>4;
y=y*668265261;y=y^y>>>15;return y}var n=function(){var n=function(y){if(y){this.NX=y}this.NX=j(this.NX);
return(this.NX&16777215)*(1/16777215)};return n};function Q(y,r){if(r==null){r=[0,0]}return Math.sqrt((r[0]-y[0])*(r[0]-y[0])+(r[1]-y[1])*(r[1]-y[1]))}function a(y,r){if(r==null){r=[0,0]}return[-(r[1]-y[1])/Q(y,r),(r[0]-y[0])/Q(y,r)]}function B(y){return[Math.cos(y),Math.sin(y)]}function m(y){var r=Q(y,[0,0]),u=[y[0]/r,y[1]/r],S=Math.atan(u[1]/u[0]);
if(u[0]>0&&u[1]<0){S+=2*Math.PI}else if(u[0]<0&&u[1]<0){S+=Math.PI}else if(u[0]<0&&u[1]>0){S+=Math.PI}return S}function R(y){var R=0;
for(var v=1;v<y.length/2;++v){R+=Q([y[2*v],y[2*v+1]],[y[2*(v-1)],y[2*(v-1)+1]])}return R}function q(y,r,u){var S=new Float32Array(y.length),w=1/(y.length/2),dj=H(u);
for(var v=0;v<y.length/2;++v){var o=v*w,T=o/2+.5,i6=1,bH=0;if(u.shape==2){i6=1/(2*T)}if(u.shape==3){T=(1-o)/2+.5;
i6=1/(2*T)+.5}if(u.shape==4){T=o;i6=Math.sin(3/2*Math.PI*T)/4+1}if(u.shape==5){T=(o-.5)*6;i6=(-Math.atan(T)/1.25+1)/5+.6-.2*o}var cg=[null,null];
if(v==0){cg=a([y[2*v],y[2*v+1]],[y[2*(v+1)],y[2*(v+1)+1]])}else if(v==y.length/2-1){cg=a([y[2*(v-1)],y[2*(v-1)+1]],[y[2*v],y[2*v+1]])}else{cg=a([y[2*(v-1)],y[2*(v-1)+1]],[y[2*(v+1)],y[2*(v+1)+1]])}S[2*v]=y[2*v]+(i6*r+bH)*cg[0];
S[2*v+1]=y[2*v+1]+(i6*r+bH)*cg[1];if(u.style==2){S[2*v]+=A(2*v/S.length,dj,u)}}return S}function U(y,r,u){var S=new Float32Array(y.length),w=1/(y.length/2);
for(var v=0;v<y.length/2;++v){var dj=v*w,o=[null,null],T=.6*u.IX*s(dj,r.arf)*u.H8/100,i6=.6*u.IX*s(dj,r.ap5)*u.H8/100,bH=r.apY*T+(1-r.apY)*i6;
if(v==0){o=a([y[2*v],y[2*v+1]],[y[2*(v+1)],y[2*(v+1)+1]])}else if(v==y.length/2-1){o=a([y[2*(v-1)],y[2*(v-1)+1]],[y[2*v],y[2*v+1]])}else{o=a([y[2*(v-1)],y[2*(v-1)+1]],[y[2*(v+1)],y[2*(v+1)+1]])}S[2*v]=y[2*v]+bH*o[0];
S[2*v+1]=y[2*v+1]+bH*o[1]}return S}function l(y){if(y.bI==1){return[.150684932,.205479452,.465753425,.178082192]}else if(y.bI==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var r=[],u=1/(d(y)-1);
for(var v=0;v<d(y)-1;++v){r.push(u)}return r}}function b(y,r,u){var S=[],w=r-y,dj=y;for(var v=0;v<u.length-1;
++v){S.push(dj+u[v]*w);dj=S[v]}return S}function D(y,r,u,S){var w=new Float32Array(u.length),dj=0,o={shape:Math.floor(S.random()*2.99),a7s:S.random()*.1+.15};
for(var v=0;v<u.length-1;++v){var T=dj+u[v];w[v]=((1-T)*y+T*r)*F(S,T,o);dj=T}return w}function c(y,r,u,S){var w=z(S),dj=S.random(),o=dj*20+(1-dj)*26,T=new Float32Array(u.length),i6=0;
for(var v=0;v<u.length-1;++v){var bH=i6+u[v];T[v]=(1-bH)*y+bH*r+w/o*(2/3*Math.sin(Math.PI*bH)+1/3*Math.sqrt(Math.sin(Math.PI*bH)));
i6=bH}return T}function _(y,r,u){var S=[];for(var v=0;v<r.length-1;++v){S.push(r[v].slice());var w=v*(d(u)-1),dj=(v+1)*(d(u)-1),o=y[dj]-y[w];
for(var T=w+1;T<dj;++T){var i6=H(u),bH=new Float32Array(r[0].length),cg=(y[T]-y[w])/o;for(var bu=0;bu<r[0].length/2;
++bu){bH[2*bu]=(1-cg)*r[v][2*bu]+cg*r[v+1][2*bu];bH[2*bu+1]=(1-cg)*r[v][2*bu+1]+cg*r[v+1][2*bu+1];if(u.style==2){bH[2*bu]+=A(2*bu/r[0].length,i6,u)}}S.push(bH)}}S.push(r[r.length-1]);
return S}function p(y,r,u){var S=new Array(r.length),w=P(y),o=null;for(var v=0;v<r.length;++v){S[v]=q(w,(r[v]-.5)*u.H8,u)}var dj=1+.05*u.aob*z(u)/z({bI:1});
for(var v=0;v<r.length;++v){if(r[v]==0){o=v}}for(var v=0;v<r.length;++v){var T=(u.random()-.5)*2,i6=Math.round(u.random()*9+1),bH=new Float32Array(i6*2+2);
for(var cg=0;cg<=i6;++cg){bH[2*cg]=S[v][0]-(S[v][2*cg]-S[v][0]);bH[2*cg+1]=S[v][1]-(S[v][2*cg+1]-S[v][1])}if(v==o){T*=.1}for(var cg=(S[v].length-1)/2;
cg>i6;--cg){S[v][2*cg]=(1-T)*S[v][2*cg]+T*(S[v][2*(cg-i6)]+dj*(S[v][2*cg]-S[v][2*(cg-i6)]));S[v][2*cg+1]=(1-T)*S[v][2*cg+1]+T*(S[v][2*(cg-i6)+1]+dj*(S[v][2*cg+1]-S[v][2*(cg-i6)+1]))}for(var cg=i6-1;
cg>=0;--cg){S[v][2*cg]=(1-T)*S[v][2*cg]+T*(bH[2*(i6-cg)]+dj*(S[v][2*cg]-bH[2*(i6-cg)]));S[v][2*cg+1]=(1-T)*S[v][2*cg+1]+T*(bH[2*(i6-cg)+1]+dj*(S[v][2*cg+1]-bH[2*(i6-cg)+1]))}}var bu=J(r,u);
if(u.IX>0){var hH=0;for(var v=0;v<r.length;++v){if(v==0){hH+=r[v]}else{hH+=Math.abs(r[v]-r[v-1])}var dK=hH-Math.floor(hH),d8=1;
if(dK==0){d8=0}S[v]=U(S[v],{arf:bu[Math.floor(hH)],ap5:bu[Math.floor(hH)+d8],apY:dK},u)}}return S}function X(y,r){var u=i(r,y),S=M(r,y),w=[],dj=[],o=[],T=l(y);
for(var v=0;v<r.length-1;++v){w.push(r[v]);dj.push(u[v]);o.push(S[v]);var i6=b(r[v],r[v+1],T),bH=D(u[v],u[v+1],T,y),cg=c(S[v],S[v+1],T,y);
for(var bu=0;bu<i6.length;++bu){w.push(i6[bu]);dj.push(bH[bu]);o.push(cg[bu])}}w.push(r[r.length-1]);
dj.push(u[u.length-1]);o.push(S[S.length-1]);return{a6q:w,a6I:dj,Vt:o}}function g(y,r,u,S){var w=new Float32Array(2*S),dj=y.length/2,o=dj-r,T=u*o,i6=T/S;
for(var v=0;v<S;++v){var bH=Math.floor(r+v*i6),cg=Math.ceil(r+v*i6),u=r+v*i6,bu=cg-bH,hH=1,dK=0;if(bu!=0){hH=(cg-u)/bu;
dK=(u-bH)/bu}w[2*v]=hH*y[2*bH]+dK*y[2*cg];w[2*v+1]=hH*y[2*bH+1]+dK*y[2*cg+1]}return w}function F(y,r,u){var S=u.a7s,w=r*2*Math.PI,dj=w,o=0;
if(u.shape==0){o=(Math.sin(2*dj+Math.PI/2)+1)/2}else if(u.shape==1){o=(Math.sin(dj+Math.PI/2)+1)/2}else{o=(4*Math.sin(3/4*dj+Math.PI)+Math.sin(Math.PI/2+2*dj)-2*dj/Math.PI+6)/7}return Math.min(1,1-S+S*o)}function k(y,r,u,S){var w=[];
for(var v=0;v<y.length;++v){w.push(g(y[v],r[v],u[v],S))}return w}function I(y,r,u){var S=[];for(var v=0;
v<y.length;++v){var w=B(2*Math.PI*u.random()),dj=B(2*Math.PI*u.random()),o=u.c_*.5*Y({bI:1})/Y(u),T=o*u.H8/200,i6=o*r/500,bH=new Float32Array(y[0].length);
for(var cg=0;cg<y[0].length/2;++cg){var bu=B(2*Math.PI*u.random()),hH=2*cg/y[0].length;bH[2*cg]=y[v][2*cg]+T*(bu[0]+((1-hH)*w[0]+hH*dj[0]));
bH[2*cg+1]=y[v][2*cg+1]+i6*(bu[1]+((1-hH)*w[1]+hH*dj[1]))}S.push(bH)}return S}function e(y,r,u){var S=u.XP,w=2/S,dj=[1/10,1/30,1/40,1/45,1/100],o=dj[u.bI-1],T=4*(u.wT/25*w*o)*(1-u.c_/150),bu=0,dK=0;
if(u.style==3){return T*.09}var i6=2.2*(y-.5),bH=i6*i6*i6*i6+.27+Math.max(0,(u.wT-50)/15),cg=2*(Math.sin(3*Math.PI*r)/(Math.PI*r+2)+1.1)-r/2;
r=2*r;if(r<.41){var hH=2*Math.PI*r/.41;bu=(Math.sin(hH-Math.PI/2)+1)/4+.5}else if(r<.77){var hH=2*Math.PI*(r-.41)/.36;
bu=(Math.sin(hH-Math.PI/2)+1)/4+.5-hH/2/Math.PI*.5}else{var hH=2*Math.PI*(r-.77)/.23;bu=(Math.sin(hH-Math.PI/2)+1)/2*.12}bu*=3;
bu+=Math.max(0,(u.wT-50)/15);if(u.w==6){dK=cg}else{dK=bu}return T*bH*dK}function H(y){return{l:y.random()*7/2+.5,s3:y.random()*2*Math.PI}}function A(y,r,u){return u.H8/300*d({bI:1})/d(u)*10*(Math.sin(r.l*2*Math.PI*y+r.s3)+10*(u.random()-.5))}function Z(y){var r=Math.exp(-y.IX/25);
return{l:y.random()*3/2+.5,s3:y.random()*2*Math.PI,vj:(y.random()-.5)*10*r}}function J(y,r){var u=Math.ceil(W(y)),S=[];
for(var v=0;v<=u;++v){S.push(Z(r))}return S}function s(y,r){var u=r.l*4*Math.PI*y+r.s3;return Math.exp(-1/2*Math.PI*y)*Math.cos(u)*Math.cos(u)*Math.cos(u)*Math.cos(u)*Math.cos(u)+y*r.vj-r.vj/4}function E(y,r,u,S,w){var dj=0,o=Y(r)-1;
for(var v=0;v<o;++v){for(var T=0;T<y.length-1;T+=d(r)-1){for(var i6=v;i6<y[0].length/2-o;i6+=o){for(var bH=T;
bH<T+(d(r)-1);++bH){u[w+dj]=e(bH*(r.XP-1)/(y.length-1)%1,i6/y[0].length,r);var cg=0,bu=0;if(r.w==6&&bH!=0&&bH!=y.length-1){bu=(y[bH][2*(i6+1)+1]-y[bH][2*i6+1])/2;
cg=(y[bH][2*(i6+1)]-y[bH][2*i6])/2}S[8*w+8*dj]=y[bH][2*i6]+cg;S[8*w+8*dj+1]=y[bH][2*i6+1]+bu;S[8*w+8*dj+2]=y[bH][2*(i6+o)]+cg;
S[8*w+8*dj+3]=y[bH][2*(i6+o)+1]+bu;S[8*w+8*dj+4]=y[bH+1][2*(i6+o)];S[8*w+8*dj+5]=y[bH+1][2*(i6+o)+1];
S[8*w+8*dj+6]=y[bH+1][2*i6];S[8*w+8*dj+7]=y[bH+1][2*i6+1];++dj}}}}}function z(y){var r=[100,300,500,700,1e3];
return r[y.bI-1]}function h(y){var r=[30,70,100,140,300];return r[y.bI-1]}function d(y){var r=[5,7,26,40,100];
return r[y.bI-1]}function Y(y){if(y.bI==1){return 4}else if(y.bI==2){return 8}else{return Math.floor(h(y)/9)}}function C(y){var r=y.XP,u=new Float32Array(r),S=null;
for(var v=0;v<r;++v){u[v]=y.random()}if(y.XP<=3){u[0]=0;u[y.XP-1]=1}else{for(var v=0;v<2;++v){var w=Math.floor(y.random()*r);
if(S==null||S!=w){u[w]=v;S=w}else{u[w+1]=v}}}return u}function i(y,r){var u=[],S=.2,dj=0;for(var v=0;
v<y.length;++v){var w=r.random()*(1-S)+S;u.push(w)}var o=Math.min(3,r.XP);for(var v=0;v<y.length;++v){if(u[v]>.9){++dj}}while(dj<o){var T=Math.floor(r.random()*y.length);
if(u[T]<=.9){u[T]=.9+.1*r.random();++dj}}return u}function M(y,r){var u=z(r),S=z({bI:1}),w=[];for(var v=0;
v<y.length;++v){w.push(Math.max(1,(r.random()*10+2)*u/S))}return w}function W(y){var r=0;for(var v=0;
v<y.length;++v){if(v==0){r+=y[v]}else{r+=Math.abs(y[v]-y[v-1])}}return r}function $(y,r){if(y.length/2-1==z(r)){return y}var u=new Float32Array(2*(z(r)+1)),S=(y.length-2)/(u.length-2);
for(var v=0;v<u.length/2;++v){var w=v*S,dj=Math.floor(w),o=Math.ceil(w),T=o-dj,i6=1,bH=0;if(T!=0){i6=(o-w)/T;
bH=(w-dj)/T}u[2*v]=i6*y[2*dj]+bH*y[2*o];u[2*v+1]=i6*y[2*dj+1]+bH*y[2*o+1]}return u}function P(y,r){var u=y.length/2,S=R(y),w=S/u,dj=!1,i6=0,bH=0,cg=1;
if(r){var o=Math.floor(S/r.ak0),T=r.ak0;if(r.ac8&&y[0]==y[y.length-2]&&y[1]==y[y.length-1]){dj=!0;T=S/(o+1)}if(r.w==2&&!dj&&T*o+r.length>S){u=o+1}else{u=o+2}w=T}var bu=new Float32Array(u*2);
bu[0]=y[0];bu[1]=y[1];for(var v=1;v<u;++v){while(i6<=v*w){bH=i6;i6+=Q([y[2*cg],y[2*cg+1]],[y[2*(cg-1)],y[2*(cg-1)+1]]);
++cg}var hH=1-(v*w-bH)/(i6-bH);bu[2*v]=(1-hH)*y[2*cg]+hH*y[2*(cg-1)];bu[2*v+1]=(1-hH)*y[2*cg+1]+hH*y[2*(cg-1)+1]}bu[bu.length-2]=y[y.length-2];
bu[bu.length-1]=y[y.length-1];return bu}function O(y,r){var u=P(y,r),S=[];for(var v=0;v<(u.length-2)/2;
++v){var w=[];w.push(u[2*v]);w.push(u[2*v+1]);var dj=Q([u[2*(v+1)],u[2*(v+1)+1]],[u[2*v],u[2*v+1]]),o=[(u[2*(v+1)]-u[2*v])/dj,(u[2*(v+1)+1]-u[2*v+1])/dj],T=B((r.aAy-90)/360*2*Math.PI),i6=o;
if(r.w==3){i6=T}else if(r.w==4){i6=B(m(o)+m(T))}else if(r.w==5){i6=B(((r.random()-.5)*r.aAy-90)/360*2*Math.PI)}var bH=r.length;
if(r.ahE){bH=2*r.random()*r.length}w.push(u[2*v]+i6[0]*bH);w.push(u[2*v+1]+i6[1]*bH);S.push(w)}return S}function G(y){if(y.ajS){y.VS=100*Math.random()}else{y.VS=y.a1I}y.random=new n;
y.random(y.VS);if(y.w==6){y.XP=2;y.shape=5;y.aob=0}}function t(y,r){y=$(y,r);var u=[y],bH=0;if(r.w>=2&&r.w<6){u=O(y,r)}var S=Y(r)-1,w=h(r)-S,dj=(r.XP-1)*(d(r)-1),o=u.length*w*dj,T=new Float32Array(o),i6=new Float32Array(8*o);
for(var v=0;v<u.length;++v){for(var cg=0;cg<1e4;++cg){r.VS=j(r.VS)}r.random(r.VS);var y=$(u[v],r),bu=C(r),hH=W(bu),dK=p(y,bu,r),d8=X(r,bu),d1=_(d8.a6q,dK,r);
d1=k(d1,d8.Vt,d8.a6I,h(r));if(r.c_>0){d1=I(d1,R(u[v]),r)}E(d1,r,T,i6,bH);bH+=w*dj}return[T,i6]}var hE=function(y){var r=performance.now(),u=y[0],S=y[1];
G(S);var w=[new Float32Array(0),new Float32Array(0)];for(var v=0;v<u.length;++v){S.VS=j(S.VS);var dj=t(u[v],S),o=new Float32Array(w[0].length+dj[0].length),T=new Float32Array(w[1].length+dj[1].length);
o.set(w[0]);o.set(dj[0],w[0].length);w[0]=o;T.set(w[1]);T.set(dj[1],w[1].length);w[1]=T}var i6=performance.now();
if(S.a1W){console.PV("Geometry: "+String(i6-r)+"ms")}return w};return hE}(),f6=function(){function j(B,m){var R=[],q=0,U=m.length,l=0,b=0,D=new b4,c=0,_=1e9;
for(b=0;b<U;b++){var p=b*8,X=m[b];if(X<_)_=X;var g=B[p+0],F=B[p+1],k=B[p+2],I=B[p+3],e=B[p+4],H=B[p+5],A=B[p+6],Z=B[p+7],J=Math.min(g,k,e,A),s=Math.max(g,k,e,A),E=Math.min(F,I,H,Z),z=Math.max(F,I,H,Z),h=new b4(J,E,s-J,z-E),d=h.d_(D),Y=c+X;
if(b-l<10&&(b==l||d.$()*.8<h.$()+D.$())){D=d;c=Y}else{R.push(b-l);l=b;D=h;c=X;_=X}}if(b!=l)R.push(b-l);
return R}function n(B,m,R,q,U,l){var b=document.createElement("canvas"),F=0,o=.8;b.width=m;b.height=R;
var D=b.getContext("2d"),c=U[0],_=U[1],p=new Float64Array(m*R),X=Date.now(),g=j(_,c);for(var k=0;k<g.length;
k++){var I=F,e=F+g[k],Z=1e9,s=1e9,i=0;F=e;var H=I*8,A=e*8,J=-Z,E=-s;for(var z=H;z<A;z+=2){var h=_[z],d=_[z+1];
if(h<Z)Z=h;if(h>J)J=h;if(d<s)s=d;if(d>E)E=d}Z=Math.floor(Z);J=Math.ceil(J);s=Math.floor(s);E=Math.ceil(E);
var Y=J-Z,C=E-s;for(var M=I;M<e;M++)i+=c[M];for(var z=H;z<A;z+=8){var W=c[z>>>3],$=_[z+0],P=_[z+1],O=_[z+2],G=_[z+3],t=_[z+4],y=_[z+5],r=_[z+6],u=_[z+7];
D.fillStyle="rgba(0,0,0,"+W/i+")";D.beginPath();D.moveTo($,P);D.lineTo(O,G);D.lineTo(t,y);D.lineTo(r,u);
D.closePath();D.fill()}var S=D.getImageData(Z,s,Y,C).data;for(var d=0;d<C;d++)for(var h=0;h<Y;h++){var v=d*Y+h,w=S[v*4+3],dj=(s+d)*m+Z+h;
if(w!=0)p[dj]+=w*i}D.clearRect(Z,s,Y,C)}var T=l[1].color,i6=Math.pow(T.n/255,o),bH=Math.pow(T.i/255,o),cg=Math.pow(T.b/255,o),bu=new b4(0,0,m,R),hH=K.U(m*R*4);
for(var d=0;d<R;d++)for(var h=0;h<m;h++){var v=d*m+h,M=v*4,c=p[v]*(1/255);hH[M]=a(i6,c);hH[M+1]=a(bH,c);
hH[M+2]=a(cg,c);hH[M+3]=Math.min(255,c*255)}K.L.sg("norm",hH,bu,q,bu,bu,1)}var Q=new Uint8Array(2e3);
for(var v=0;v<2e3;v++)Q[v]=255*Math.min(1,Math.log(v/700+1));function a(B,m){return Q[Math.min(1500,~~(B*m*1e3))]}return n}(),ep=function(){var j=new Float32Array(3e3),n=new Float32Array(3e3),Q=new Float32Array(256),a=new Float32Array(3e3);
function B(){var _=j.length;j[0]=Math.log10(157647e-9);for(var v=1;v<_;++v)j[v]=Math.log10(v/_)}function m(){var _=n.length;
for(var v=0;v<_;++v)n[v]=Math.pow(10,20*(v-_/2)/_)}function R(){var _=Q.length;for(var v=0;v<_;++v)Q[v]=K.ld(v/255)}function q(){var _=a.length;
for(var v=0;v<_;++v)a[v]=255*K.Ku(v/(_-1))}function U(_,p){var X=_.length>>>2;for(var v=0;v<X;++v){var g=Q[_[4*v]],F=Q[_[4*v+1]],k=Q[_[4*v+2]],I=.3811*g+.5783*F+.0402*k,e=.1967*g+.7244*F+.0782*k,H=.0241*g+.1288*F+.8444*k;
I=j[~~(I*j.length)];e=j[~~(e*j.length)];H=j[~~(H*j.length)];p[3*v]=(I+e+H)*.5773502692;p[3*v+1]=(I+e-2*H)*.4082482905;
p[3*v+2]=(I-e)*.7071067812}}function l(_,p){var X=p.length>>>2,g=a.length-1;for(var v=0;v<X;++v){var F=.5773502692*_[3*v],k=.4082482905*_[3*v+1],I=.7071067812*_[3*v+2],e=n[~~((F+k+I+10)*(3e3/20))],H=n[~~((F+k-I+10)*(3e3/20))],A=n[~~((F-2*k+10)*(3e3/20))],Z=4.4679*e-3.5873*H+.1193*A,J=-1.2186*e+2.3809*H-.1624*A,s=.0497*e-.2439*H+1.2045*A;
p[4*v]=a[~~(g*Math.max(0,Math.min(1,Z)))];p[4*v+1]=a[~~(g*Math.max(0,Math.min(1,J)))];p[4*v+2]=a[~~(g*Math.max(0,Math.min(1,s)))]}}function b(_){var p=0,X=0,g=0;
for(var v=0;v<_.length;v+=3){p+=_[v];X+=_[v+1];g+=_[v+2]}return[p/(_.length/3),X/(_.length/3),g/(_.length/3)]}function D(_,b){var p=0,X=0,g=0;
for(var v=0;v<_.length;v+=3){var F=_[v]-b[0],k=_[v+1]-b[1],I=_[v+2]-b[2];p+=F*F;X+=k*k;g+=I*I}return[Math.sqrt(p/(_.length/3)),Math.sqrt(X/(_.length/3)),Math.sqrt(g/(_.length/3))]}function c(_,p,X,g,F,k){B();
m();R();q();var I=0,P,O;if(k[0]>100)I=-(k[0]-100)/100*.13;else if(k[0]>=75)I=(100-k[0])/25*.04;else if(k[0]>=50)I=.04+(75-k[0])/25*.04;
else if(k[0]>=25)I=.08+(50-k[0])/25*.08;else I=.16+(25-k[0])/25*.24;var e=(k[1]-100+100)/100,H=k[2]/100,A=k[3],Z=new Float32Array(_.length*3/4),J=new Float32Array(g.length*3/4),s=Date.now();
U(_,Z);U(g,J);var E=Date.now(),z=b(Z),h=b(J),d=Date.now(),Y=D(Z,z),C=D(J,h),i=Date.now();h[0]*=Math.pow(10,I);
var M=[C[0]/Y[0],C[1]/Y[1],C[2]/Y[2]],W=Z.length,$=1/-1.1546978950500488;for(var v=0;v<W;v+=3){if(A){var G=Math.max(0,Math.min(1,Z[v]*$));
G=1-Math.sqrt(G);P=G*h[1];O=G*h[2]}else{P=h[1];O=h[2]}Z[v]=(Z[v]-z[0])*M[0]+h[0];Z[v+1]=(Z[v+1]-z[1])*M[1]*e+P;
Z[v+2]=(Z[v+2]-z[2])*M[2]*e+O}var t=Date.now();l(Z,F);var y=F.length>>>2;for(var v=0;v<y;++v){F[4*v]=(1-H)*F[4*v]+H*_[4*v];
F[4*v+1]=(1-H)*F[4*v+1]+H*_[4*v+1];F[4*v+2]=(1-H)*F[4*v+2]+H*_[4*v+2];F[4*v+3]=255}}return c}(),fa=function(){function j(n,Q,a,B,m){var R=[-1,-1,-1,-1],q=255,U=160,l,b=!1,D=new Array(4);
D[0]=new Array(Q);D[1]=new Array(a);D[2]=new Array(Q);D[3]=new Array(a);var c=new Array(2);c[0]=new Array(a);
c[1]=new Array(a);function _(C,i,M,W,$){this.start=W;this.axis=$;this.dir=C;this.end=-1;this.source=i;
this.$=M}function p(C,i,M,W,$){if(M%2==0){if(!D[M][C])D[M][C]=new Array;D[M][C].push(new _(M,W,$,i,C))}else{if(!D[M][i])D[M][i]=new Array;
D[M][i].push(new _(M,W,$,C,i))}var P=Date.now()}function X(v){var C=!1,i=0;if(n[4*v+3]<q)return C;var M=v%Q,W=Math.floor(v/Q);
g(M,W);if(v+Q<Q*a&&n[4*(v+Q)+3]<q&&n[4*(v-Q)+3]>=q&&n[4*(v-2*Q)+3]>=q){var $=2;if(n[4*(v+Q)+3]<=U)i=-1;
if(n[4*(v+2*Q-1)+3]<q&&n[4*(v+2*Q+1)+3]<q)C=!0;else if(n[4*(v+2*Q-1)+3]>=q&&n[4*(v+1)+3]>=q)C=!0;else if(n[4*(v+2*Q+1)+3]>=q&&n[4*(v-1)+3]>=q)C=!0;
p(M,W,$,i,C)}else if(v-Q>=0&&n[4*(v-Q)+3]<q&&n[4*(v+Q)+3]>=q&&n[4*(v+2*Q)+3]>=q){var $=0;if(n[4*(v-Q)+3]<=U)i=-1;
if(n[4*(v-2*Q-1)+3]<q&&n[4*(v-2*Q+1)+3]<q)C=!0;else if(n[4*(v-2*Q-1)+3]>=q&&n[4*(v+1)+3]>=q)C=!0;else if(n[4*(v-2*Q+1)+3]>=q&&n[4*(v-1)+3]>=q)C=!0;
p(M,W,$,i,C)}i=0;if(v+1<Q*a&&n[4*(v+1)+3]<q&&n[4*(v-1)+3]>=q&&n[4*(v-2)+3]>=q){var $=3;if(n[4*(v+1)+3]<=U)i=-1;
if(!C&&n[4*(v+Q+2)+3]<q&&n[4*(v-Q+2)+3]<q){C=!0;p(M,W,$,i,!0)}else p(M,W,$,i,!1)}else if(v>=1&&n[4*(v-1)+3]<q&&n[4*(v+1)+3]>=q&&n[4*(v+2)+3]>=q){var $=1;
if(n[4*(v-1)+3]<=U)i=-1;if(!C&&n[4*(v+Q-2)+3]<q&&n[4*(v-Q-2)+3]<q){C=!0;p(M,W,$,i,!0)}else p(M,W,$,i,!1)}return C}function g(v,C){if(R[0]==-1){R[0]=v;
R[1]=C;R[2]=1;R[3]=1}if(v<R[0]){R[2]+=R[0]-v;R[0]=v}if(v>R[0]+R[2])R[2]=v-R[0];if(C<R[1]){R[3]+=R[1]-C;
R[1]=C}if(C>R[1]+R[3])R[3]=C-R[1]}function F(C,v,i,M){if(!i.$)return;var W=(C+2)%4,$=i.start,P=R[1];
if(C==2)P+=R[3];else if(C==1)P=R[0];else if(C==3)P=R[0]+R[2];var O=i.source;if(D[W][v])for(var G=0;G<D[W][v].length;
++G){if(C>1){var t=$+Math.floor((D[W][v][G].start-$)/2);if(D[W][v][G].start>$&&t<P)P=t}else{var t=$-Math.floor(($-D[W][v][G].start)/2);
if(D[W][v][G].start<$&&t>P)P=t}}for(var y=1;y<Math.abs(P-$);++y){var G=$+y;if(C==1||C==0)G=$-y;for(var r=0;
r<2;++r){var u=2*r,S=!1;if(C%2==0)u+=1;if(D[u][G]){for(var w=0;w<D[u][G].length;++w){if(D[u][G][w].$){var dj=D[u][G][w].start,o=v-dj,T=G-$;
if(u==0||u==1)o=-o;if(o<=0)continue;if(C==0||C==1)T=-T;if(T>o){P=G;S=!0;break}}}if(S)break}}}i.end=P;
e(C,v,$,P,O)}function k(C){for(var v=0;v<D[C].length;++v){if(D[C][v])for(var i=0;i<D[C][v].length;++i){F(C,v,D[C][v][i])}}}function I(){var C=[2,0,3,1];
for(var v=0;v<C.length;++v)k(C[v])}function e(C,v,i,M,W){if(C==2)for(var $=i;$<=M;++$){if(!H($*Q+v,(i+W)*Q+v))return!1}else if(C==0)for(var $=i;
$>=M;--$){if(!H($*Q+v,(i-W)*Q+v))return!1}else if(C==1)for(var $=i;$>=M;--$){if(!H(v*Q+$,v*Q+i-W))return!1}else if(C==3)for(var $=i;
$<=M;++$){if(!H(v*Q+$,v*Q+i+W))return!1}}function H(C,i){if(!l[C]){B[4*C]=B[4*i];B[4*C+1]=B[4*i+1];B[4*C+2]=B[4*i+2];
if(b)B[4*C+3]=255;l[C]=!0;return!0}return!1}function A(){for(var v=0;v<4;v+=1){for(var C=0;C<D[v].length;
++C){if(D[v][C])for(var i=0;i<D[v][C].length;++i){var M=D[v][C][i];for(var W=1;W<3;W+=2){var $=(v+W)%4;
if(D[$][M.start])for(var P=0;P<D[$][M.start].length;++P){if(D[$][M.start][P].start==M.axis){var dv=Q*M.start+M.axis;
if(v%2==1){dv=M.start+Q*M.axis;Z(D[$][M.start][P])}else Z(M)}}}}}}}function Z(C){if(C.dir%2==0){var dv=Q*C.start+C.axis,i=C.start,M=1;
if(!l[dv+1])M=3;else if(l[dv-1])return;var W=B[4*dv],$=B[4*dv+1],P=B[4*dv+2];while(B[4*dv]==W&&B[4*dv+1]==$&&B[4*dv+2]==P){if(M==1){if(!c[0][i])c[0][i]=new Array;
c[0][i].push(new _(M,0,!1,C.axis,i))}else{if(!c[1][i])c[1][i]=new Array;c[1][i].push(new _(M,0,!1,C.axis,i))}if(C.dir==2){dv+=Q;
i++}else{dv-=Q;i--}}}}function J(){for(var C=0;C<2;++C){var i=(C+1)%2;for(var v=0;v<c[C].length;++v){if(c[C][v])for(var M=0;
M<c[C][v].length;++M){var W=R[0];if(C==1)W+=R[2];var $=c[C][v][M].start;if(c[i][v])for(var P=0;P<c[i][v].length;
++P){var O=c[i][v][P].bD;if(C==0){if(O>W&&O<$){W=$-Math.floor(($-O)/2)}}else{if(O<W&&O>$){W=$+Math.ceil((O-$)/2)}}}if(C==0)e(c[C][v][M].dir,v,$-1,W,-1);
else e(c[C][v][M].dir,v,$+1,W,-1)}}}for(var v=0;v<l.length;++v){if(!l[v]&&v%Q>=R[0]&&v%Q<=R[0]+R[2]&&Math.floor(v/Q)>=R[1]&&Math.floor(v/Q)<=R[1]+R[3]){var $=Q;
if(v<$||!l[v-$])$=1;B[4*v]=B[4*(v-$)];B[4*v+1]=B[4*(v-$)+1];B[4*v+2]=B[4*(v-$)+2];l[v]=!0;if(b)B[4*v+3]=255}}}function s(){l=new Array(n.length/4);
for(var v=0;v<B.length/4;++v){l[v]=!1;B[4*v]=n[4*v];B[4*v+1]=n[4*v+1];B[4*v+2]=n[4*v+2];B[4*v+3]=n[4*v+3];
if(B[4*v+3]==255)l[v]=!0;if(X(v))l[v]=!1}if(R[0]>0){R[0]--;R[2]++}if(R[1]>0){R[1]--;R[3]++}if(R[0]+R[2]<Q){R[2]++}if(R[1]+R[3]<a){R[3]++}}var E=Date.now();
s();var z=Date.now();I();var h=Date.now();A();var d=Date.now();J();var Y=Date.now();console.log("Init: "+String(z-E));
console.log("Filling: "+String(h-z));console.log("Check areas: "+String(d-h));console.log("Fill areas: "+String(Y-d))}return j}();
function i2(){}i2.ase=function(j){var n=[K.ld(j[0]),K.ld(j[1]),K.ld(j[2]),0];return K.wz.y0(K.wz.aeh,n)};
i2.aHx=function(j){var n=K.wz.y0(K.wz.zL,j);return[K.Ku(n[0]),K.Ku(n[1]),K.Ku(n[2])]};i2.ZM=function(j,n){var Q={},a=5003,B=1667,m=25e3,R=57.4,q=16.1,U=1.8,l=0,b=1.54,D=.75,p=0;
if(n>0){j-=n/100*4}if(j<0){q=22.54;R=80.36;b=.756}if(n>0){U=1.3;D=.2}var c=Math.min(a+R*j,m),_=Math.max(a-q*j,B);
if(j<0){c=Math.max(a+q*j,B);_=Math.min(a-R*j,m)}if(j>0){if(j<=14){p=(j-1)/13*.075+.025}else if(j<=29){p=.1}else if(j<=60){p=.1-.1*(j-29)/(60-29)}else{var X=j-60;
l=-20*(X/40);p=-.3*(X/40)}}else{if(j<-60){var X=j+60;l=-20*(X/40)}}var g=Math.abs(j)/100*b+Math.abs(n)/100*D+p,F=-(n*U+l),k=ik.xN(c,-F),I=ik.vx(k),e=ik.xN(_,0),H=ik.vx(e),A=ik.ahV(I,H);
Q.afn=g;Q.auu=A;if(j==0&&n==0)Q.akU=!0;else Q.akU=!1;return Q};i2.a8o=function(j,n,Q,a){if(a.akU){return[j,n,Q]}var B=this.ase([j,n,Q]),m=B[0],R=B[1],q=B[2],U=R+1e-12,l=[m/U,R/U,q/U,0],b=K.wz.y0(a.auu,l),D=0,c=.4;
b[0]*=U;b[1]*=U;b[2]*=U;if(U>c)D=1/(1-c)*(U-c);B[0]=(1-D)*b[0]+D*m;B[1]=(1-D)*b[1]+D*R;B[2]=(1-D)*b[2]+D*q;
return this.aHx(B)};K.a5Y={J0:function(j,n){var v=j.length;j.push(n);var Q=v>>>1;while(Q!=0&&j[v][0]<j[Q][0]){var a=j[v];
j[v]=j[Q];j[Q]=a;v=Q;Q=v>>>1}},Eb:function(j){if(j.length==2)return j.pop();var top=j[1],v=1;j[1]=j.pop();
var n=j.length;while(!0){var Q=v<<1,a=Q+1,B=v;if(Q<n&&j[Q][0]<j[B][0])B=Q;if(a<n&&j[a][0]<j[B][0])B=a;
if(B==v)break;var m=j[v];j[v]=j[B];j[B]=m;v=B}return top},aHL:function(j){for(var v=1;v<j.length;v++){var n=v,Q=1e9;
while(n!=0){var a=j[n][0];if(a>Q){console.log(v);throw"e"}Q=a;n=n>>>1}}}};K.L={};K.L.mo=new Float64Array(256);
K.L.n5=new Uint8Array(256*256);K.L.LL=new Uint8Array(256*256);(function(){for(var v=0;v<256;v++)K.L.mo[v]=255/v;
for(var v=0;v<256;v++)for(var j=0;j<256;j++)K.L.n5[v*256+j]=v==0?0:Math.round(j*255/v);for(var v=0;v<256;
v++)for(var j=0;j<256;j++)K.L.LL[v*256+j]=Math.round(v*(255-j)/255)}());K.L.sg=function(j,n,Q,a,B,m,R,q){if(q==null)q=gq.EK();
var U=K.Rz(n);if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(j)==-1){R=R*q.fill;q.fill=1;
q.style=!1}var l="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),b="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),D=K.L[j+"F"];
if(U==8){if(q.am==null&&j=="norm")K.L.aAE(n,Q,a,B,m,R,D,q.Xu?1:0);else if(j=="diss")K.L.aq4(n,Q,a,B,m,R,D,q.Xu?1:0);
else if(l.indexOf(j)!=-1)K.L.aC_(n,Q,a,B,m,R,D,q);else if(b.indexOf(j)!=-1)K.L.a30(n,Q,a,B,m,R,D,q)}else{if(j=="diss")K.L.ac4(n,Q,a,B,m,R,D,q.Xu?1:0);
else if(l.indexOf(j)!=-1)K.L.a3y(n,Q,a,B,m,R,D,q);else if(b.indexOf(j)!=-1)K.L.apw(n,Q,a,B,m,R,D,q)}};
K.L.aE5=function(j,n,Q){var a=j*Q+1-Q;return a<.001?0:1-Math.min(1,(1-n)/a)};K.L.a85=function(j,n,Q){return j*Q==1?1:Math.min(1,n/(1-j*Q))};
K.L._F=function(j){return j<=.25?((16*j-12)*j+4)*j:Math.sqrt(j)};K.L.normF=function(j,n,Q){return j};
K.L.darkF=function(j,n,Q){return Math.min(j,n)};K.L["mul F"]=function(j,n,Q){return j*n};K.L.idivF=function(j,n,Q){var a=j*Q+1-Q;
return n==1?1:1-n>=a?0:1-(1-n)/a};K.L.lbrnF=function(j,n,Q){return Math.max(0,j*Q+n-Q)};K.L.dkClF=function(j,n,Q){var a=K.GD(j)<K.GD(n)?j:n;
Q.n=a.n;Q.i=a.i;Q.b=a.b;return Q};K.L.liteF=function(j,n,Q){return Math.max(j,n)};K.L.scrnF=function(j,n,Q){return n+j-n*j};
K.L["div F"]=function(j,n,Q){j*=Q;return n==0?0:n>=1-j?1:n/(1-j)};K.L.lddgF=function(j,n,Q){j*=Q;return Math.min(1,j+n)};
K.L.lgClF=function(j,n,Q){var a=K.GD(j)>K.GD(n)?j:n;Q.n=a.n;Q.i=a.i;Q.b=a.b;return Q};K.L.overF=function(j,n,Q){return K.L.hLitF(n,j,Q)};
K.L.sLitF=function(j,n,Q){return j<=.5?n-(1-2*j)*n*(1-n):n+(2*j-1)*(K.L._F(n)-n)};K.L.hLitF=function(j,n,Q){return j<=.5?K.L["mul F"](2*j,n,Q):K.L.scrnF(2*j-1,n,Q)};
K.L.vLitF=function(j,n,Q){return j<=.5?K.L.aE5(2*j,n,Q):K.L.a85(2*j-1,n,Q)};K.L.lLitF=function(j,n,Q){return j<=.5?K.L.lbrnF(2*j,n,Q):K.L.lddgF(2*j-1,n,Q)};
K.L.pLitF=function(j,n,Q){return j<=.5?K.L.darkF(2*j,n,Q):K.L.liteF(2*j-1,n,Q)};K.L.hMixF=function(j,n,Q){if(Q>.99)return j+n<1?0:1;
return Math.min(1,Math.max(0,(n+j*Q-Q)/(1-Q+1e-6)))};K.L.diffF=function(j,n,Q){j*=Q;return Math.abs(j-n)};
K.L.smudF=function(j,n,Q){return j+n-2*j*n};K.L.fsubF=function(j,n,Q){return Math.max(n-j,0)};K.L.fdivF=function(j,n,Q){return Math.min(n/j,1)};
K.L["hue F"]=function(j,n,Q){K.L.jC(j,K.UG(n),Q);K.L.ri(Q,K.GD(n),Q)};K.L["sat F"]=function(j,n,Q){K.L.jC(n,K.UG(j),Q);
K.L.ri(Q,K.GD(n),Q)};K.L.colrF=function(j,n,Q){K.L.ri(j,K.GD(n),Q)};K.L["lum F"]=function(j,n,Q){K.L.ri(n,K.GD(j),Q)};
K.L.ri=function(j,n,Q){var a=n-K.GD(j);Q.n=j.n+a;Q.i=j.i+a;Q.b=j.b+a;K.L.ac3(Q)};K.L.ac3=function(j){var n=j.n,Q=j.i,a=j.b,B=K.bC(n,Q,a),dv=Math.min(n,Q,a),m=Math.max(n,Q,a);
if(dv<0){var R=B/(B-dv);n=B+(n-B)*R;Q=B+(Q-B)*R;a=B+(a-B)*R}if(m>1){var R=(1-B)/(m-B);n=B+(n-B)*R;Q=B+(Q-B)*R;
a=B+(a-B)*R}j.n=n;j.i=Q;j.b=a};K.L.jC=function(j,n,Q){var a=K.L.awR,B=j.n,m=j.i,R=j.b;if(B==m&&m==R){Q.n=Q.i=Q.b=0}else if(B>m){if(B>R){if(m>R){Q.n=n;
Q.i=a(B,m,R,n);Q.b=0}else{Q.n=n;Q.b=a(B,R,m,n);Q.i=0}}else{Q.b=n;Q.n=a(R,B,m,n);Q.i=0}}else{if(B<R){if(m>R){Q.i=n;
Q.b=a(m,R,B,n);Q.n=0}else{Q.b=n;Q.i=a(R,m,B,n);Q.n=0}}else{Q.i=n;Q.n=a(m,B,R,n);Q.b=0}}};K.L.awR=function(j,n,Q,a){return(n-Q)*a/(j-Q)};
K.L.aAE=function(j,n,Q,a,B,m,R,q){var U=n.uf(a).uf(B),l=Math.max(0,U.x-n.x),b=Math.max(0,U.x-a.x),D=Math.max(0,U.y-n.y),c=Math.max(0,U.y-a.y),_=U.q,p=U._,X=n.q,g=a.q,F=K.L.n5,k=K.L.LL,I=new Uint32Array(j.buffer),e=new Uint32Array(Q.buffer);
for(var v=0;v<p;v++){var H=(D+v)*X+l,A=(c+v)*g+b;for(var Z=0;Z<_;Z++){var J=I[H+Z],M=1;if(J>>>24==0)continue;
if(J>>>24==255&&m==1&&q==0){e[A+Z]=I[H+Z];continue}var s=e[A+Z],E=J&255,z=J>>>8&255,h=J>>>16&255,d=s&255,Y=s>>>8&255,C=s>>>16&255,i=m,W=(s>>>24)*(1/255);
if(q==0){i=(J>>>24)*m*(1/255);M=W}var $=M*(1-i),P=i+$,O=1/P;e[A+Z]=~~(.5+(q*W+(1-q)*P)*255)<<24|~~(.5+(h*i+C*$)*O)<<16|~~(.5+(z*i+Y*$)*O)<<8|~~(.5+(E*i+d*$)*O)}}};
K.L.a5S=function(j,n,Q,a,B,m){var R=n.uf(a).uf(B),q=Math.max(0,R.x-n.x),U=Math.max(0,R.x-a.x),l=Math.max(0,R.y-n.y),b=Math.max(0,R.y-a.y),D=R.q,c=R._,_=n.q,p=a.q,X=K.L.n5,g=K.L.LL,F=new Uint32Array(j.buffer),k=new Uint32Array(Q.buffer),I=Math.floor(Math.random()*16777215),e=0;
for(var v=0;v<c;v++){var H=(l+v)*_+q,A=(b+v)*p+U;for(var Z=0;Z<D;Z++){var J=F[H+Z];if(J>>>24==0)continue;
if(J>>24==255&&m==1){k[A+Z]=J;continue}var s=k[A+Z],E=(J>>>24)*m*(1/255),z=(s>>>24)*(1/255),h=z*(1-E),d=E+h,Y=J&255,C=J>>>8&255,i=J>>>16&255,M=s&255,W=s>>>8&255,$=s>>>16&255;
e>>>=8;if((Z&3)==0)e=K.L.ny(A+Z+I);var P=d==0?0:1/d,O=Math.floor(d*(256*255))+(e&255)>>>8,G=Math.floor((i*E+$*h)*P+.5),t=Math.floor((C*E+W*h)*P+.5),y=Math.floor((Y*E+M*h)*P+.5);
k[A+Z]=O<<24|G<<16|t<<8|y}}};K.L.h0=function(j,n,Q,a,B,m,R,q){var U=K.bC(j,n,Q),l=K.bC(a,B,m),b=Math.min,D=K.L.aBD,c=D(U,q,0);
c=b(c,D(j,q,8));c=b(c,D(n,q,16));c=b(c,D(Q,q,24));var _=D(l,q,4);_=b(_,D(a,q,12));_=b(_,D(B,q,20));_=b(_,D(m,q,28));
_=Math.max(_,1-R);var p=Math.min(c,_);return p<0?0:p>1?1:p};K.L.aBD=function(j,n,v){return Math.min((j-n[v])*n[v+1],(j-n[v+3])*n[v+2])};
K.L.aC_=function(j,n,Q,a,B,m,R,q){var U=1/255,l=U*m,b=q.Xu?1:0,D=q.fill,c=q.style,_=n.uf(a).uf(B),p=Math.max(0,_.x-n.x),X=Math.max(0,_.x-a.x),g=Math.max(0,_.y-n.y),F=Math.max(0,_.y-a.y),k=_.q,I=_._,e=n.q,H=a.q,A=new Uint32Array(j.buffer),Z=new Uint32Array(Q.buffer);
for(var v=0;v<I;v++){var J=(g+v)*e+p,s=(F+v)*H+X;for(var E=0;E<k;E++,J++,s++){var z=A[J],P=1;if(z>>>24==0)continue;
var h=Z[s],d=(z&255)*U,Y=(z>>>8&255)*U,C=(z>>>16&255)*U,i=(h&255)*U,M=(h>>>8&255)*U,W=(h>>>16&255)*U,$=m;
if(b==0){$=(z>>>24)*l;P=(h>>>24)*U}if(q.am)$*=K.L.h0(d,Y,C,i,M,W,P,q.am);var O=P*(1-$),G=$+O,t=G==0?0:255/G,y=c?1:$,r=((1-P)*$*d+(1-y)*P*i+y*P*R(d,i,(1+$-y)*D))*t,u=((1-P)*$*Y+(1-y)*P*M+y*P*R(Y,M,(1+$-y)*D))*t,S=((1-P)*$*C+(1-y)*P*W+y*P*R(C,W,(1+$-y)*D))*t;
G=$*D+P*(1-$*D);var w=~~(G*255+.5);Z[s]=b*(h>>>24)+(1-b)*w<<24|S<<16|u<<8|r}}};K.L.a3y=function(j,n,Q,a,B,m,R,q){var U=K.Rz(j),l=U==32?1:U==16?65535:255,b=1/l,D=q.Xu?1:0,c=q.fill,_=q.style,p=n.uf(a).uf(B),X=Math.max(0,p.x-n.x),g=Math.max(0,p.x-a.x),F=Math.max(0,p.y-n.y),k=Math.max(0,p.y-a.y),I=p.q,e=p._,H=n.q,A=a.q;
for(var v=0;v<e;v++){var Z=(F+v)*H+X,J=(k+v)*A+g;for(var s=0;s<I;s++,Z++,J++){var E=Z*4,z=J*4,h=j[E]*b,d=j[E+1]*b,Y=j[E+2]*b,C=j[E+3]*b*m;
if(C==0)continue;var i=Q[z]*b,M=Q[z+1]*b,W=Q[z+2]*b,$=Q[z+3]*b;if(q.am)C*=K.L.h0(h,d,Y,i,M,W,$,q.am);
var P=$*(1-C),O=C+P,G=O==0?0:l/O,t=_?1:C,y=((1-$)*C*h+(1-t)*$*i+t*$*R(h,i,(1+C-t)*c))*G,r=((1-$)*C*d+(1-t)*$*M+t*$*R(d,M,(1+C-t)*c))*G,u=((1-$)*C*Y+(1-t)*$*W+t*$*R(Y,W,(1+C-t)*c))*G;
O=C*c+$*(1-C*c);Q[z]=y;Q[z+1]=r;Q[z+2]=u;Q[z+3]=D*Q[z+3]+(1-D)*(O*l)}}};K.L.a30=function(j,n,Q,a,B,m,R,q){var U=1/255,l=U*m,b=q.Xu?1:0,D=n.uf(a).uf(B),c=Math.max(0,D.x-n.x),_=Math.max(0,D.x-a.x),p=Math.max(0,D.y-n.y),X=Math.max(0,D.y-a.y),g=D.q,F=D._,k=new Uint32Array(j.buffer),I=new Uint32Array(Q.buffer),e={n:0,i:0,b:0},H={n:0,i:0,b:0},A={n:0,i:0,b:0};
for(var v=0;v<F;v++){var Z=(p+v)*n.q+c,J=(X+v)*a.q+_;for(var s=0;s<g;s++,Z++,J++){var E=k[Z],z=I[J],h=(E&255)*U,d=(E>>>8&255)*U,Y=(E>>>16&255)*U,C=(z&255)*U,i=(z>>>8&255)*U,M=(z>>>16&255)*U,W=m,$=1;
if(b==0){W=(E>>>24)*l;$=(z>>>24)*U}if(q.am)W*=K.L.h0(h,d,Y,C,i,M,$,q.am);var P=$*(1-W),O=W+P,G=255/O;
e.n=h;e.i=d;e.b=Y;H.n=C;H.i=i;H.b=M;R(e,H,A);var t=(((1-$)*h+$*A.n)*W+C*P)*G,y=(((1-$)*d+$*A.i)*W+i*P)*G,r=(((1-$)*Y+$*A.b)*W+M*P)*G,u=b*(z>>>24)+(1-b)*Math.round(O*255);
I[J]=u<<24|r<<16|y<<8|t}}};K.L.apw=function(j,n,Q,a,B,m,R,q){var U=K.Rz(j),l=U==32?1:U==16?65535:255,b=1/l,D=q.Xu?1:0,c=n.uf(a).uf(B),_=Math.max(0,c.x-n.x),p=Math.max(0,c.x-a.x),X=Math.max(0,c.y-n.y),g=Math.max(0,c.y-a.y),F=c.q,k=c._,I={n:0,i:0,b:0},e={n:0,i:0,b:0},H={n:0,i:0,b:0};
for(var v=0;v<k;v++){var A=(X+v)*n.q+_,Z=(g+v)*a.q+p;for(var J=0;J<F;J++,A++,Z++){var s=A*4,E=Z*4,z=j[s]*b,h=j[s+1]*b,d=j[s+2]*b,W=1;
if(j[s+3]==0)continue;var Y=Q[E]*b,C=Q[E+1]*b,i=Q[E+2]*b,M=m;if(D==0){M=j[s+3]*b*m;W=Q[E+3]*b}if(q.am)M*=K.L.h0(z,h,d,Y,C,i,W,q.am);
var $=W*(1-M),P=M+$,O=l/P;I.n=z;I.i=h;I.b=d;e.n=Y;e.i=C;e.b=i;R(I,e,H);Q[E]=(((1-W)*z+W*H.n)*M+Y*$)*O;
Q[E+1]=(((1-W)*h+W*H.i)*M+C*$)*O;Q[E+2]=(((1-W)*d+W*H.b)*M+i*$)*O;Q[E+3]=D*Q[E+3]+(1-D)*Math.round(P*l)}}};
K.L.E7=function(j){j=j^61^j>>>16;j=j+(j<<3);j=j^j>>>4;j=j*668265261;j=j^j>>15;return(j&16777215)*(1/16777215)};
K.L.ny=function(j){j=j^61^j>>>16;j=j+(j<<3);j=j^j>>>4;j=j*668265261;j=j^j>>>15;return j};K.L._z=function(j){this.pr=j};
K.L._z.prototype.get=function(){var j=this.pr=K.L.ny(this.pr);return(j&16777215)*(1/16777215)};K.L.aq4=function(j,n,Q,a,B,m,R,q){var U=Math.round(m*(256*256*256/255)),l=n.uf(a).uf(B),b=Math.max(0,l.x-n.x),D=Math.max(0,l.x-a.x),c=Math.max(0,l.y-n.y),_=Math.max(0,l.y-a.y),p=l.q,X=l._,g=new Uint32Array(j.buffer),F=new Uint32Array(Q.buffer);
for(var v=0;v<X;v++){var k=(c+v)*n.q+b,I=(_+v)*a.q+D;for(var e=0;e<p;e++,k++,I++){var H=g[k],A=F[I],Z=q*255+(1-q)*(H>>>24);
if((K.L.ny(k)&16777215)>=Z*U)continue;F[I]=H&16777215|q*(A>>>24)+(1-q)*255<<24}}};K.L.ac4=function(j,n,Q,a,B,m,R,q){var U=K.Rz(j),l=U==32?1:U==16?65535:255,b=1/l,D=n.uf(a).uf(B),c=Math.max(0,D.x-n.x),_=Math.max(0,D.x-a.x),p=Math.max(0,D.y-n.y),X=Math.max(0,D.y-a.y),g=D.q,F=D._;
for(var v=0;v<F;v++){var k=(p+v)*n.q+c,I=(X+v)*a.q+_;for(var e=0;e<g;e++,k++,I++){var H=k*4,A=I*4,Z=j[H+3]*b,J=Q[A+3]*b;
Z=q+(1-q)*Z;if((K.L.ny(k)&255)*(1/255)>=Z*m)continue;Q[A]=j[H];Q[A+1]=j[H+1];Q[A+2]=j[H+2];Q[A+3]=(q*J+(1-q))*l}}};
K.L.a9r=function(j,n,Q){for(var v=0;v<j.length;v+=4){var a=Q[v>>>2];if(a==0)continue;var B=a*(1/255),m=1/B,R=n[v],q=n[v+1],U=n[v+2],l=j[v],b=j[v+1],D=j[v+2];
n[v]=Math.min(255,Math.max(0,Math.round((R-(1-B)*l)*m)));n[v+1]=Math.min(255,Math.max(0,Math.round((q-(1-B)*b)*m)));
n[v+2]=Math.min(255,Math.max(0,Math.round((U-(1-B)*D)*m)));n[v+3]=255}};K.L.uZ=function(j,n,Q,a,B,m,R,q,U,l,b){if(l==null)l=!1;
var D=K.Rz(j),c=D==8?255:D==16?65535:1;if(B&&B.length==m.$()*4){var _=K.U(m.$(),D);K._W(B,_,3);B=_}if(B&&!n.N_(m)){var p=K.U(n.$(),D);
p.fill(c*R/255);K.Gc(B,m,p,n);B=p;m=n}if(D==8){if(b==null)b=[1,1,1];var X=255<<24|b[2]*16711680|b[1]*65280|b[0]*255,g=~X;
if(l){if(B==null)K.L.ah_(j,n,Q,a,B,q,U,X,g);else K.L.apI(j,n,Q,a,B,q,U)}else{if(B==null)K.L.aqz(j,n,Q,a,B,q,U,X,g);
else K.L.a4q(j,n,Q,a,B,q,U)}}else{if(b&&b.join(",")!="1,1,1")throw"e";if(l)K.L.any(j,n,Q,a,B,q,U);else K.L.a42(j,n,Q,a,B,q,U)}};
K.L.aqz=function(j,n,Q,a,B,m,R,q,U){var l=1/255,b=n.uf(a).uf(m),D=Math.max(0,b.x-n.x),c=Math.max(0,b.x-a.x),_=Math.max(0,b.y-n.y),p=Math.max(0,b.y-a.y),X=b.q,g=b._,F=new Uint32Array(j.buffer),k=new Uint32Array(Q.buffer),I=K.L.n5,e=R*255&255;
for(var v=0;v<g;v++){var H=(_+v)*n.q+D,A=(p+v)*a.q+c;for(var Z=0;Z<X;Z++,H++,A++){var J=F[H],s=k[A],E=J>>>24,z=s>>>24,h=K.JY(e*E+(255-e)*z),d=K.JY(E*e),Y=K.JY(z*(255-e)),C=J&255,i=J>>>8&255,M=J>>>16&255,W=s&255,$=s>>>8&255,P=s>>>16&255,O=d*C+W*Y,G=d*i+$*Y,t=d*M+P*Y;
O=I[h<<8|K.JY(O)];G=I[h<<8|K.JY(G)];t=I[h<<8|K.JY(t)];var y=h<<24|t<<16|G<<8|O;k[A]=U&s|q&y}}};K.L.ah_=function(j,n,Q,a,B,m,R,q,U){var l=1/255,b=n.uf(a).uf(m),D=Math.max(0,b.x-n.x),c=Math.max(0,b.x-a.x),_=Math.max(0,b.y-n.y),p=Math.max(0,b.y-a.y),X=b.q,g=b._,F=new Uint32Array(j.buffer),k=new Uint32Array(Q.buffer),I=K.L.n5,e=R*16777215&16777215;
for(var v=0;v<g;v++){var H=(_+v)*n.q+D,A=(p+v)*a.q+c;for(var Z=0;Z<X;Z++,H++,A++){if((K.L.ny(H)&16777215)<e){k[A]=U&k[A]|q&F[H]}}}};
K.L.a42=function(j,n,Q,a,B,m,R){var q=K.Rz(j),U=q==8?255:q==16?65535:1,l=1/U,b=n.uf(a).uf(m),D=Math.max(0,b.x-n.x),c=Math.max(0,b.x-a.x),_=Math.max(0,b.y-n.y),p=Math.max(0,b.y-a.y),X=b.q,g=b._;
for(var v=0;v<g;v++){var F=(_+v)*n.q+D,k=(p+v)*a.q+c;for(var I=0;I<X;I++,F++,k++){var e=(B?B[F]*l:1)*R,H=F*4,A=k*4,Z=j[H+3]*l,J=Q[A+3]*l,s=Z*e,E=J*(1-e),z=s+E,h=z==0?0:U/z,d=j[H]*l,Y=j[H+1]*l,C=j[H+2]*l,i=Q[A]*l,M=Q[A+1]*l,W=Q[A+2]*l;
Q[A]=(s*d+E*i)*h;Q[A+1]=(s*Y+E*M)*h;Q[A+2]=(s*C+E*W)*h;Q[A+3]=U*z}}};K.L.a4q=function(j,n,Q,a,B,m,R){var q=1/255,U=n.uf(a).uf(m),l=Math.max(0,U.x-n.x),b=Math.max(0,U.x-a.x),D=Math.max(0,U.y-n.y),c=Math.max(0,U.y-a.y),_=U.q,p=U._,X=new Uint32Array(j.buffer),g=new Uint32Array(Q.buffer),F=K.L.n5;
for(var v=0;v<p;v++){var k=(D+v)*n.q+l,I=(c+v)*a.q+b;for(var e=0;e<_;e++,k++,I++){var H=B[k]*R&255;if(H==0)continue;
if(H==255){g[I]=X[k];continue}var A=X[k],Z=g[I],J=A>>>24,s=Z>>>24,E=K.JY(H*J+(255-H)*s),z=K.JY(J*H),h=K.JY(s*(255-H)),d=A&255,Y=A>>>8&255,C=A>>>16&255,i=Z&255,M=Z>>>8&255,W=Z>>>16&255,$=F[E<<8|K.JY(z*d+i*h)],P=F[E<<8|K.JY(z*Y+M*h)],O=F[E<<8|K.JY(z*C+W*h)];
g[I]=E<<24|O<<16|P<<8|$}}};K.L.any=function(j,n,Q,a,B,m,R){var q=K.Rz(j),U=q==8?255:q==16?65535:1,l=1/U,b=n.uf(a).uf(m),D=Math.max(0,b.x-n.x),c=Math.max(0,b.x-a.x),_=Math.max(0,b.y-n.y),p=Math.max(0,b.y-a.y),X=b.q,g=b._,F=R*l*65535;
for(var v=0;v<g;v++){var k=(_+v)*n.q+D,I=(p+v)*a.q+c;for(var e=0;e<X;e++,k++,I++){var H=B[k];if((K.L.ny(k)&65535)<H*F){var A=k*4,Z=I*4;
Q[Z]=j[A];Q[Z+1]=j[A+1];Q[Z+2]=j[A+2];Q[Z+3]=j[A+3]}}}};K.L.apI=function(j,n,Q,a,B,m,R){var q=1/255,U=n.uf(a).uf(m),l=Math.max(0,U.x-n.x),b=Math.max(0,U.x-a.x),D=Math.max(0,U.y-n.y),c=Math.max(0,U.y-a.y),_=U.q,p=U._,X=new Uint32Array(j.buffer),g=new Uint32Array(Q.buffer),F=K.L.n5,k=Math.round(R*257);
for(var v=0;v<p;v++){var I=(D+v)*n.q+l,e=(c+v)*a.q+b;for(var H=0;H<_;H++,I++,e++){var A=B[I]*k;if((K.L.ny(I)&65535)<A)g[e]=X[I]}}};
K.L.aBA=function(j,n,Q,a,B,m,R){var q=1/255,U=n.uf(a).uf(m),l=Math.max(0,U.x-n.x),b=Math.max(0,U.x-a.x),D=Math.max(0,U.y-n.y),c=Math.max(0,U.y-a.y),_=U.q,p=U._,X=new Uint32Array(j.buffer),g=new Uint32Array(Q.buffer),F=Math.floor(Math.random()*a.$()),k=K.L.aCQ;
for(var v=0;v<p;v++){var I=(D+v)*n.q+l,e=(c+v)*a.q+b;for(var H=0;H<_;H++){var A=B[I+H]*R;if(A==0)continue;
if(A==255){g[e+H]=X[I+H];continue}var Z=X[I+H],J=g[e+H],s=Z>>>24,E=J>>>24,z=s*A*(1/255),h=E*(255-A)*(1/255),d=Z&255,Y=Z>>>8&255,C=Z>>>16&255,i=J&255,M=J>>>8&255,W=J>>>16&255,$=K.L.ny(e+H+F),P=Math.floor((z+h)*256+.5)+($>>>0&255)>>>8,O=P==0?0:256/(z+h),G=d*z+i*h,t=Y*z+M*h,y=C*z+W*h,r=Math.floor(G*O+.5)+($>>>8&255)>>>8,u=Math.floor(t*O+.5)+($>>>16&255)>>>8,S=Math.floor(y*O+.5)+($>>>24&255)>>>8;
g[e+H]=P<<24|S<<16|u<<8|r}}};K.L.aCQ=function(j){return Math.floor(j+Math.random())};K.L.Ro=function(j,n,Q,a,B,m,R){var q=1/255,U=n.uf(a).uf(m),l=Math.max(0,U.x-n.x),b=Math.max(0,U.x-a.x),D=Math.max(0,U.y-n.y),c=Math.max(0,U.y-a.y),_=U.q,p=U._;
for(var v=0;v<p;v++){var X=(D+v)*n.q+l,g=(c+v)*a.q+b;for(var F=0;F<_;F++,X++,g++){var k=R*B[X]*q;if(k==0)continue;
if(k==1){Q[g]=j[X];continue}Q[g]=j[X]*k+Q[g]*(1-k)}}};K.awd=function(){function j(m){var R=m*.85;return Math.exp(-(R*R)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function n(m,R){var q=m<R?1:j((m-R)/Math.pow(1.001-R,.86));
return q}var Q=[];function a(m){if(Q[m])return Q[m];var R=Math.pow(m,.55),q=new Float64Array(8e3),U=0,l=8e3;
for(var v=0;v<8e3;v++){var b=n(v*(1.55/4e3),R);if(b>=1)U=v;else if(b<=0&&l==8e3)l=v;q[v]=b}var D=[q,U,l];
Q[m]=D;return D}function B(m,R,q){if(m<4)R=1;var U=1+.55*(1-R),l=Math.round(q*m*U)+2,b=new b4(0,0,l,l),D=K.U(l*l),c=[D,b],_=l/2,p=U/(_-1);
if(m==2)p*=2;if(m==3)p*=1.6;var X=Date.now(),g=a(R),F=Math.round(8e3/_),k=g[0],I=g[1]-F,e=g[2]+F,H=Math.min(l,l+1>>>1),A=p*.4*(4e3/1.55),Z=K.U(8e3);
for(var v=0;v<8e3;v++){var J=v,s=v,E=~~Math.max(0,J-A-A),z=~~Math.max(0,J-A),h=~~Math.min(7999,J+A),d=~~Math.min(7999,J+A+A),Y=~~(.5+255*(1/5)*(k[s]+k[E]+k[z]+k[h]+k[d]));
Z[v]=Y;if(Y==0)break}for(var v=0;v<H;v++){var C=p*(v-_+.5),i=C*C,M=v*l,W=(l-1-v)*l;for(var $=0;$<H;$++){var P=p*($-_+.5),s=~~(Math.sqrt(P*P+i)*(4e3/1.55));
if(e<s)continue;else if(s<I){var Y=255;while($<H){var O=l-1-$;D[M+$]=Y;D[M+O]=Y;D[W+$]=Y;D[W+O]=Y;$++}break}else{var Y=Z[s],O=l-1-$;
D[M+$]=Y;D[M+O]=Y;D[W+$]=Y;D[W+O]=Y}}}return c}return{aoH:B}}();K.k1={};K.k1.arv=function(j,n,Q,a,B,m){K.k1.M0(j,n,Q,a,B,m,null,0)};
K.k1.aEW=function(j,n,Q,a,B){K.k1.M0(j,n,Q,a,B,null,null,0)};K.k1.a07=function(j,n,Q,a,B,m,R){K.k1.M0(j,n,Q,a,B,null,m,R*.5)};
K.k1.M0=function(j,n,Q,a,B,m,R,q){var U=0,h=0,d=1e9,Y=0,C=1e9,i=0,M=1e9,W=0,$=0,P=0,O=0;if(m){U=B*.5;
B=3+Math.round((B-3)*.75)}if(R){B=Math.round(B*2.2)}var l=1/B,b=Math.floor(n*l)+1,D=Math.floor(Q*l)+1,c=[],_=new Uint8Array(b*D*4),p=R?.5:1,X=m?64:0;
for(var g=0;g<D;g++){var F=R?.5*(g&1):0;for(var k=0;k<b;k++){var I=(k+Math.random()*p+F)*B,e=(g+Math.random()*p)*B;
c.push(I,e);var H=Math.min(n-1,Math.floor(I)),A=Math.min(Q-1,Math.floor(e)),Z=(A*n+H)*4,J=(g*b+k)*4;
for(var v=0;v<4;v++)_[J+v]=Math.max(0,Math.min(255,Math.floor(j[Z+v]+(Math.random()-.5)*X)))}}var s=m?m:R?R:[0,0,0],E=b*D*2,z=[-b-1,-b,-b+1,-1,0,1,b-1,b,b+1];
for(var g=0;g<Q;g++){P=0;for(var k=0;k<n;k++){var G=k+.5,t=g+.5,y=Math.floor(t*l),r=Math.floor(G*l),u=y*b+r,dj=0,o=0;
if(P>1+q){d=K.k1.aih(c,h,G,t);W=Math.sqrt(d);P--;O++}else{d=C=M=1e9;for(var v=0;v<z.length;v++){var S=(u+z[v])*2;
if(S<0||S>=E)continue;var w=K.k1.aih(c,S,G,t);if(w<M){if(w<C){if(w<d){i=Y;M=C;Y=h;C=d;h=S;d=w}else{i=Y;
M=C;Y=S;C=w}}else{i=S;M=w}}}W=Math.sqrt(d);$=Math.sqrt(C);P=$-(W+$)*.5}if(R==null){var T=(W+$)*.5,i6=m?Math.max(0,T-U):0;
dj=Math.max(0,Math.min(1,.5+T-W-i6));o=Math.max(0,Math.min(1,1-(.5+T-W)-i6))}else{var bH=Math.min(K.k1.aF7(c,h,Y,G,t),K.k1.aF7(c,h,i,G,t));
dj=Math.max(0,Math.min(1,bH-q*.5));if(G<q||n-q<G||t<q||Q-q<t)dj=0;o=0}var cg=1-o-dj,J=g*n+k<<2,bu=h<<1,hH=Y<<1;
a[J+0]=Math.floor(.5+dj*_[bu+0]+o*_[hH+0]+cg*s[0]);a[J+1]=Math.floor(.5+dj*_[bu+1]+o*_[hH+1]+cg*s[1]);
a[J+2]=Math.floor(.5+dj*_[bu+2]+o*_[hH+2]+cg*s[2]);a[J+3]=j[J+3]}}};K.k1.aih=function(j,n,Q,a){var B=Q-j[n],m=a-j[n+1];
return B*B+m*m};K.k1.aF7=function(j,n,Q,a,B){var m=j[n],R=j[n+1],q=j[Q],U=j[Q+1],l=(m+q)*.5,b=(R+U)*.5,D=l+(U-R),c=b-(q-m),_=c-b,p=D-l;
return Math.abs(_*a-p*B+D*b-c*l)/Math.sqrt(p*p+_*_)};K.KX={};K.KX.L1=function(j){if(K.KX.cM.length<j)K.KX.cM=K.U(j);
return K.KX.cM};K.KX.cM=K.U(0);K.KX.a5f=function(j){if(K.KX.L0.length<j)K.KX.L0=new Float32Array(j);
return K.KX.L0};K.KX.L0=new Float32Array(0);K.KX.mg=function(j,n,Q,a){var B=Q.q,m=Q._;K.KX.agh(j,n,B,m,a)};
K.KX.pI=function(j,n,Q,a){var B=Q.q,m=Q._;K.KX.a17(j,n,B,m,a)};K.KX.x$=function(j,n,Q){var a=n.q,B=n._;
K.KX.akM(j,a,B,Q)};K.KX.qA=function(j,n,Q,a){var B=n.q,m=n._;K.KX.aCa(j,B,m,Q,a)};K.KX.a8B=function(j,n,Q,a){var B=Q.q,m=Q._;
a=Math.round(a);var R=K.KX.L1(B*m);K.D1(j,n);K.KX.IN(n,R,B,m,a)};K.KX.FE=function(j,n,Q){var a=n.q,B=n._;
Q=Math.round(Q);var m=K.KX.L1(a*B*4);K.KX.QH(j,m,a,B,Q)};K.KX.av_=function(j,n,Q){var a=n.q,B=n._;Q=Math.round(Q);
K.KX.aq5(j,K.KX.a5f(a*B),a,B,Q)};K.KX.arZ=function(j,n,Q){var a=n.q,B=n._;Q=Math.round(Q);var m=K.KX.L1(a*B*4);
K.KX.ae0(j,m,a,B,Q);K.D1(m,j)};K.KX.zk=function(j,dv){var n=Math.sqrt(12*j*j/dv+1),Q=Math.floor(n);if(Q%2==0)Q--;
var a=Q+2,B=(12*j*j-dv*Q*Q-4*dv*Q-3*dv)/(-4*Q-4),m=Math.round(B),R=[];for(var v=0;v<dv;v++)R.push(v<m?Q:a);
return R};K.KX.agh=function(j,n,Q,a,B){var m=K.KX.zk(B,3),R=K.KX.L1(Q*a);K.D1(j,n);K.KX.IN(n,R,Q,a,m[0]-1>>1);
K.KX.IN(n,R,Q,a,m[1]-1>>1);K.KX.IN(n,R,Q,a,m[2]-1>>1)};K.KX.a17=function(j,n,Q,a,B){var m=K.KX.zk(B,2),R=K.KX.L1(Q*a);
K.D1(j,n);K.KX.IN(n,R,Q,a,m[0]-1>>1);K.KX.IN(n,R,Q,a,m[1]-1>>1)};K.KX.akM=function(j,n,Q,a){var B=K.KX.zk(a,3),m=K.KX.L1(n*Q*4);
K.KX.QH(j,m,n,Q,B[0]-1>>1);K.KX.QH(j,m,n,Q,B[1]-1>>1);K.KX.QH(j,m,n,Q,B[2]-1>>1)};K.KX.aCa=function(j,n,Q,a,B){if(B==null)B=3;
var m=K.KX.zk(a,B),R=K.KX.a5f(n*Q);for(var v=0;v<B;v++)K.KX.aq5(j,R,n,Q,(m[v]-1)/2)};K.KX.IN=function(j,n,Q,a,B){K.KX.aDo(j,n,Q,a,B);
K.KX.az0(n,j,Q,a,B)};K.KX.QH=function(j,n,Q,a,B){K.KX.ae0(j,n,Q,a,B);K.KX.a9f(n,j,Q,a,B)};K.KX.aq5=function(j,n,Q,a,B){K.KX.as3(j,n,Q,a,B);
K.KX.aCS(n,j,Q,a,B)};K.KX.Ss=[];K.KX.Bt=function(j){if(K.KX.Ss[j])return K.KX.Ss[j];var n=1/(j+j+1),Q=(j+j+1)*256,a=K.U(Q);
for(var v=0;v<Q;v++)a[v]=Math.round(v*n);K.KX.Ss[j]=a;return a};K.KX.aDo=function(j,n,Q,a,B){var m=1/(B+B+1),R=Q-B-B-1,q=K.KX.Bt(B);
for(var v=0;v<a;v++){var U=v*Q,l=U,b=U+B,D=j[U],c=j[U+Q-1],_=(B+1)*D;for(var p=0;p<B;p++)_+=j[U+p];for(var p=0;
p<=B;p++){_+=j[b+p]-D;n[U+p]=q[_]}b+=B+1;U+=B+1;for(var p=0;p<R;p++){_+=j[b+p]-j[l+p];n[U+p]=q[_]}b+=R;
l+=R;U+=R;for(var p=Q-B;p<Q;p++){_+=c-j[l++];n[U++]=q[_]}}};K.KX.ae0=function(j,n,Q,a,B){var m=Q<<2,R=B<<2,q=1/(B+B+1),U=Q-B-B-1,l=U<<2,b=K.KX.Bt(B);
for(var v=0;v<a;v++){var D=v*m,c=D,_=D+R,p=D+m,X=j[D],g=j[D+1],F=j[D+2],k=j[D+3],I=(B+1)*X,e=(B+1)*g,H=(B+1)*F,A=(B+1)*k;
for(var Z=0;Z<R;Z+=4){I+=j[D+Z];e+=j[D+Z+1];H+=j[D+Z+2];A+=j[D+Z+3]}for(var Z=0;Z<=R;Z+=4){I+=j[_]-X;
n[D]=b[I];e+=j[_+1]-g;n[D+1]=b[e];H+=j[_+2]-F;n[D+2]=b[H];A+=j[_+3]-k;n[D+3]=b[A];_+=4;D+=4}for(var Z=0;
Z<l;Z+=4){I+=j[_+Z]-j[c+Z];n[D+Z]=b[I];e+=j[_+Z+1]-j[c+Z+1];n[D+Z+1]=b[e];H+=j[_+Z+2]-j[c+Z+2];n[D+Z+2]=b[H];
A+=j[_+Z+3]-j[c+Z+3];n[D+Z+3]=b[A]}_+=l;c+=l;D+=l;X=j[p-4];g=j[p-3];F=j[p-2];k=j[p-1];for(var Z=Q-B;
Z<Q;Z++){I+=X-j[c];n[D]=b[I];e+=g-j[c+1];n[D+1]=b[e];H+=F-j[c+2];n[D+2]=b[H];A+=k-j[c+3];n[D+3]=b[A];
c+=4;D+=4}}};K.KX.as3=function(j,n,Q,a,B){var m=1/(B+B+1),R=Q-B-B-1;for(var v=0;v<a;v++){var q=v*Q,U=q,l=q+B,b=j[q],D=j[q+Q-1],c=(B+1)*b;
for(var _=0;_<B;_++)c+=j[q+_];for(var _=0;_<=B;_++){c+=j[l+_]-b;n[q+_]=c*m}l+=B+1;q+=B+1;for(var _=0;
_<R;_++){c+=j[l+_]-j[U+_];n[q+_]=c*m}l+=R;U+=R;q+=R;for(var _=Q-B;_<Q;_++){c+=D-j[U++];n[q++]=c*m}}};
K.KX.az0=function(j,n,Q,a,B){var m=1/(B+B+1),R=a-B-B-1,q=K.KX.Bt(B);for(var v=0;v<Q;v++){var U=v,l=U,b=U+B*Q,D=j[U],c=j[U+Q*(a-1)],_=(B+1)*D;
for(var p=0;p<B;p++)_+=j[U+p*Q];for(var p=0;p<=B;p++){_+=j[b]-D;n[U]=q[_];b+=Q;U+=Q}for(var p=0;p<R;
p++){var X=p*Q;_+=j[b+X]-j[l+X];n[U+X]=q[_]}l+=R*Q;b+=R*Q;U+=R*Q;for(var p=a-B;p<a;p++){_+=c-j[l];n[U]=q[_];
l+=Q;U+=Q}}};K.KX.a9f=function(j,n,Q,a,B){var m=Q<<2,R=B<<2,q=1/(B+B+1),U=a-B-B-1,l=U<<2,b=K.KX.Bt(B);
for(var v=0;v<Q;v++){var D=v<<2,c=D,_=D+B*m,p=D+m*(a-1),X=j[D],g=j[D+1],F=j[D+2],k=j[D+3],I=(B+1)*X,e=(B+1)*g,H=(B+1)*F,A=(B+1)*k;
for(var Z=0;Z<B;Z++){var J=D+Z*m;I+=j[J];e+=j[J+1];H+=j[J+2];A+=j[J+3]}for(var Z=0;Z<=B;Z++){I+=j[_]-X;
n[D]=b[I];e+=j[_+1]-g;n[D+1]=b[e];H+=j[_+2]-F;n[D+2]=b[H];A+=j[_+3]-k;n[D+3]=b[A];_+=m;D+=m}for(var Z=0;
Z<U;Z++){var s=Z*m;I+=j[_+s]-j[c+s];n[D+s]=b[I];e+=j[_+s+1]-j[c+s+1];n[D+s+1]=b[e];H+=j[_+s+2]-j[c+s+2];
n[D+s+2]=b[H];A+=j[_+s+3]-j[c+s+3];n[D+s+3]=b[A]}c+=U*m;_+=U*m;D+=U*m;X=j[p];g=j[p+1];F=j[p+2];k=j[p+3];
for(var Z=a-B;Z<a;Z++){I+=X-j[c];n[D]=b[I];e+=g-j[c+1];n[D+1]=b[e];H+=F-j[c+2];n[D+2]=b[H];A+=k-j[c+3];
n[D+3]=b[A];c+=m;D+=m}}};K.KX.aCS=function(j,n,Q,a,B){var m=1/(B+B+1),R=a-B-B-1;for(var v=0;v<Q;v++){var q=v,U=q,l=q+B*Q,b=j[q],D=j[q+Q*(a-1)],c=(B+1)*b;
for(var _=0;_<B;_++)c+=j[q+_*Q];for(var _=0;_<=B;_++){c+=j[l]-b;n[q]=c*m;l+=Q;q+=Q}for(var _=0;_<R;_++){var p=_*Q;
c+=j[l+p]-j[U+p];n[q+p]=c*m}U+=R*Q;l+=R*Q;q+=R*Q;for(var _=a-B;_<a;_++){c+=D-j[U];n[q]=c*m;U+=Q;q+=Q}}};
K.o7=function(){var j=[];function n(i,M,W,$){var P=$.length,O=0,G=0,t=0;for(var v=0;v<P;v++){var y=$[v];
O=Math.max(O,y[2]);G=Math.max(G,y[0],M-y[0]);t=Math.max(t,y[1],W-y[1])}if(P==1){i.fill(255);return}if(P==2){var u=$[0],S=$[1];
if(u[2]<S[2]){var w=u;u=S;S=w}var dj=u[0],o=u[1],T=S[0]-dj,i6=-(S[1]-o),bH=Math.sqrt(i6*i6+T*T),cg=1/bH;
i6/=bH;T/=bH;var bu=Math.round(255*Math.min(u[2],S[2])/O),hH=[];for(var v=0;v<1100;v++){var dK=Math.pow(v*.001,.82);
hH[v]=~~(.5+dK*bu+(1-dK)*255)}for(var d8=0;d8<W;d8++)for(var d1=0;d1<M;d1++){var w=(d1-dj)*i6+(d8-o)*T,gH=dj+w*i6-d1,kh=o+w*T-d8,ay=Math.sqrt(gH*gH+kh*kh),dO=0;
if(gH*T-kh*i6>0)dO=255;else if(ay>bH)dO=bu;else dO=hH[~~(.5+1e3*ay*cg)];i[d8*M+d1]=dO}return}var fy=Math.round((G*G+t*t)*.021),bg=j.length;
if(bg<fy)for(var v=bg;v<fy;v++)j[v]=1/(1e-6+Math.pow(.02*v,1.57));var f4=260/O;for(var d8=0;d8<W;d8++)for(var d1=0;
d1<M;d1++){var jb=0,jT=0;for(var v=0;v<P;v++){var jy=$[v],i6=d1-jy[0],T=d8-jy[1],ay=j[~~(.02*(i6*i6+T*T))];
jT+=ay*jy[2];jb+=ay}i[d8*M+d1]=Math.min(~~(f4*jT/jb),255)}}var Q=[];for(var v=0;v<1100;v++)Q[v]=Math.pow(.5-.5*Math.cos(v/1e3*Math.PI),2);
function a(i,M,W,$){var P=B($),O=1-$[10];for(var G=0;G<W;G++)for(var t=0;t<M;t++){var y=P.NX*t+P.RK*G+P.Qr,u=P.b*t+P.zP*G+P.dE,S=Math.sqrt(y*y+u*u),w=S<=O?0:S>1?1:(S-O)/(1-O);
i[G*M+t]=~~(.5+i[G*M+t]*Q[~~(w*1e3)])}}function B(i){var M=i[0],W=i[1],$=i[2]-M,P=i[3]-W,O=i[6]-M,G=i[7]-W,t=Math.sqrt($*$+P*P),y=Math.sqrt(O*O+G*G),u=new j8;
u.scale(t,y);u.rotate(Math.atan2(-P,$));u.translate(M,W);u.m2();u.translate(-.5,-.5);u.scale(2,2);return u}var m=[];
for(var v=0;v<1100;v++)m[v]=Math.pow(.5-.5*Math.cos(v/1e3*Math.PI),.8);function R(i,v,M){var W=i[v]-i[M],$=i[v+1]-i[M+1];
return Math.sqrt(W*W+$*$)}function q(i,M,W,$){var P=$[0],O=$[1],G=$[2]-P,t=-($[3]-O),y=Math.sqrt(t*t+G*G);
t/=y;G/=y;var u=R($,0,2),S=R($,0,4),w=R($,0,6),dj=R($,0,8);for(var o=0;o<W;o++)for(var T=0;T<M;T++){var i6=(T-P)*t+(o-O)*G,bH=P+i6*t-T,cg=O+i6*G-o,bu=Math.sqrt(bH*bH+cg*cg),hH=0;
if(bH*G-cg*t<0)hH=bu<w?0:bu>u?1:m[~~(1e3*(bu-w)/(u-w))];else hH=bu<dj?0:bu>S?1:m[~~(1e3*(bu-dj)/(S-dj))];
i[o*M+T]=~~(.5+i[o*M+T]*hH)}}function U(i,M,W){var $=i[0],P=i[1],O=P[0]+P[1]+P[2]+P[3],u=!1;if(O==0)return[K.U(M*W),O];
var G=$[0],t=$[1],y=$[3];if(u)console.log(G,t,y);var S=Date.now(),w=K.U(M*W);w.fill(255);if(P[0]!=0)n(w,M,W,G);
if(u)console.log(Date.now()-S,"field done");S=Date.now();var dj=K.U(M*W);dj.fill(255);if(P[1]!=0)for(var v=0;
v<t.length;v++)a(dj,M,W,t[v]);if(u)console.log(Date.now()-S,"iris done");S=Date.now();var o=K.U(M*W);
o.fill(255);if(P[3]!=0)for(var v=0;v<y.length;v++)q(o,M,W,y[v]);if(u)console.log(Date.now()-S,"tilt done");
S=Date.now();var T=P[0]/O,i6=P[1]/O,bH=P[3]/O,cg=w,bu=M*W;for(var v=0;v<bu;v++){cg[v]=T*w[v]+i6*dj[v]+bH*o[v]}return[cg,O]}function l(i,M,W,$,P){var O=Date.now(),G=new Uint32Array(5),t=K.aqq(i,M,W),y=P/255;
for(var u=0;u<W;u++)for(var S=0;S<M;S++){var v=u*M+S,w=v<<2,dj=$[v]*y,o=~~(dj*.948);if(o==0){continue}G[0]=0;
G[1]=0;G[2]=0;G[3]=0;G[4]=0;var T=~~(dj*.612);if(1<=S-o&&S+o+1<=M&&1<=u-o&&u+o+1<=W){var i6=S-o,bH=S-T,cg=S+T+1,bu=S+o+1,hH=u-o,dK=u-T,d8=u+T+1,d1=u+o+1;
b(t,M,bH,cg,hH,dK,G);b(t,M,i6,bu,dK,d8,G);b(t,M,bH,cg,d8,d1,G)}else{var i6=Math.max(1,S-o),bH=Math.max(1,S-T),cg=Math.min(M,S+T+1),bu=Math.min(M,S+o+1),hH=Math.max(1,u-o),dK=Math.max(1,u-T),d8=Math.min(W,u+T+1),d1=Math.min(W,u+o+1);
b(t,M,bH,cg,hH,dK,G);b(t,M,i6,bu,dK,d8,G);b(t,M,bH,cg,d8,d1,G)}if(G[4]!=0){var gH=1/G[4];i[w]=Math.min(255,~~(G[0]*gH));
i[w+1]=Math.min(255,~~(G[1]*gH));i[w+2]=Math.min(255,~~(G[2]*gH));i[w+3]=Math.min(255,~~(G[3]*gH))}}}function b(i,M,W,$,P,O,G){var t=($-W)*(O-P);
if(0<t){K.aeL(i,W-1,$-1,(P-1)*M,(O-1)*M,G);G[4]+=t}}var D="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function c(i){var M=[!1,!1,!1,!1,!1,!1];for(var v=0;v<6;v++){var W="blurb"+D[v]+"EffectApplied";if(i[W]&&i[W].v)M[v]=!0}return M}function _(i,M){for(var v=0;
v<6;v++){var W="blurb"+D[v]+"EffectApplied";i[W]={t:"bool",v:M[v]}}}var p=[];for(var X=0;X<6;X++){var g,F="blurbWidgetLocationX",k="blurbWidgetLocationY";
if(X==0)g=[F,k,"blurbGeneralBlurAmount"];if(X==1||X==5){var I="blurb"+(X==1?"IrisBlur":"WheelSpin"),e=I+"Corner",H=I+"Feather";
g=[e+"0x",e+"0y",e+"1x",e+"1y",e+"2x",e+"2y",e+"3x",e+"3y",F,k,H+"0",H+"1",H+"2",H+"3",X==1?I+"Amount":I+"BlurAmount"]}if(X==3){var I="blurbTiltShift",A=I+"InnerPoint",Z=I+"OuterPoint";
g=[I+"CenterX",I+"CenterY",Z+"1X",Z+"1Y",Z+"2X",Z+"2Y",A+"1X",A+"1Y",A+"2X",A+"2Y",I+"BlurAmount"]}p.push(g)}function J(i,M){function W(cg,G){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:cg},Vrtc:{t:"doub",v:G}}}}var $=[];
for(var X=0;X<6;X++){var P=i[X],g=p[X];for(var v=0;v<P.length;v++){var O=P[v],G={classID:X==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:X}};
$.push({t:"Objc",v:G});if(X==4){M.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:P[0][4]*100}};var t=G.blurbPathPointList={t:"VlLs",v:[W(O[0],O[1]),W(O[5],O[6])]};
for(var y=0;y<2;y++){var u={classID:"blurbBezierKernel"};G["blurb"+(y==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:u};
var S=O[y*5],w=O[y*5+1],dj=O[y*5+2],o=O[y*5+3];u.blurbBezierKernelUIControlPoint=W((S+dj)/2,(w+o)/2);
var T=dj-S,i6=o-w,bH=Math.atan2(-(O[6]-O[1]),O[5]-O[0]);u.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-i6,T)-bH+Math.PI)*180/Math.PI};
u.blurbBezierKernelLocation=W(S,w);u.blurbBezierKernelOuterPoint=W(dj,o);if(T==0&&i6==0)u.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var y=0;
y<g.length;y++)G[g[y]]={t:"doub",v:O[y]}}}M.blurbWidgetList2={t:"VlLs",v:$}}function s(i){var M=i.blurbWidgetList;
if(M==null||M.v.length==0)M=i.blurbWidgetList2;M=M.v;var W=[[],[],[],[],[],[]],$=[0,0,0,0,0,0];for(var v=0;
v<M.length;v++){var P=M[v].v,X=P.blurbWidgetType.v,j=[];W[X].push(j);if(X<4||X==5){var g=p[X];for(var O=0;
O<g.length;O++){j[O]=P[g[O]].v}if(X==5){var G=j[0]-j[4],t=j[1]-j[5],y=Math.sqrt(G*G+t*t),u=j[j.length-1]*y*.005;
$[X]=Math.max($[X],u)}else $[X]=Math.max($[X],j[j.length-1])}if(X==4){var S=i.blurbPathBlurSpeed.v.val/100;
for(var O=0;O<2;O++){var w=P["blurb"+(O==0?"Start":"End")+"BezierKernel"].v,o=w.blurbBezierKernelIsNull;
for(var T=0;T<2;T++){var i6=w["blurbBezierKernel"+(T==0?"Location":"OuterPoint")].v;j.push(i6.Hrzn.v,i6.Vrtc.v)}var bH=j.length-4,cg=j[bH],bu=j[bH+1],G=j[bH+2]-cg,t=j[bH+3]-bu,y=Math.sqrt(G*G+t*t);
if(o&&o.v)y=0;j.push(S);$[X]=Math.max($[X],y*S)}}}return[W,$]}function E(i,M,W){var $=M.s.q,P=M.s._,O=$*P,G=s(i),t=c(i);
for(var v=0;v<6;v++)if(!t[v])G[1][v]=0;var y=Date.now(),u=U(G,$,P),S=u[0],w=u[1];W.buffer.set(M.buffer);
var dj=K.QX(W.buffer);if(dj)K.hj(W.buffer);if(w!=0)l(W.buffer,$,P,S,w);var o=Math.max(G[1][4],G[1][5]);
if(o!=0&&gz.oB){var y=Date.now(),T=K.U($*P*4);for(var v=0;v<T.length;v+=4){T[v]=127;T[v+1]=127}if(G[1][4]!=0)h(T,G,$,P,o);
if(G[1][5]!=0)z(T,G,$,P,o);var i6=o*.25,bH=new Float32Array([1/$,1/P]),cg=gz.cy(0,$,P);cg.set(W.buffer);
var bu=gz.cy(1,$,P);bu.set(T);gz.Rf(cg,M.s);cg.A3(M.s);gz.filter.df({w:gz.filter.aew,SQ:bu.K8,CT:bH,R5:i6,je:2},cg.C8);
cg.get(W.buffer)}if(dj)K.wc(W.buffer)}function z(i,M,W,$,P){var O=M[0][5];if(O.length==0)return;var G=Date.now();
for(var v=0;v<O.length;v++){var t=O[v],y=B(t),u=y.O();u.m2();var S=1-t[10],w=t[14]*2.15/P;for(var dj=0;
dj<$;dj++)for(var o=0;o<W;o++){var T=y.NX*o+y.RK*dj+y.Qr,i6=y.b*o+y.zP*dj+y.dE,bH=T*T+i6*i6;if(bH<1){var cg=T-i6*w,bu=i6+T*w,hH=u.JZ(new eE(cg,bu)),dK=4*(dj*W+o),d8=Math.sqrt(bH),d1=d8<S?0:(d8-S)/(1-S);
i[dK]=Math.max(0,Math.min(255,d1*i[dK]+(1-d1)*(127+hH.x-o)));i[dK+1]=Math.max(0,Math.min(255,d1*i[dK+1]+(1-d1)*(127+hH.y-dj)))}}}console.log(Date.now()-G)}function h(i,M,W,$,P){var O=M[0][4];
if(O.length==0)return;var G=O[0];for(var v=1;v<O.length;v++)G=G.concat(O[v]);var t=[];for(var v=0;v<G.length;
v+=5){var y=G[v],u=G[v+1],S=G[v+2]-y,w=G[v+3]-G[v+1],dj=Math.sqrt(S*S+w*w);if(dj!=0){S/=dj;w/=dj}t.push(y,u,S,w,dj,G[v+4])}G=t;
var o=Math.floor(G.length/6),T=127/P;for(var u=0;u<$;u++)for(var y=0;y<W;y++){var i6=0,bH=0,cg=0,bu=0;
for(var v=0;v<o;v++){var hH=v*6,dK=G[hH],d8=G[hH+1],S=y-dK,w=u-d8,dj=1/Math.pow(S*S+w*w,.5);bH+=dj*G[hH+2];
cg+=dj*G[hH+3];bu+=dj*G[hH+4]*G[hH+5];i6+=dj}var d1=Math.sqrt(bH*bH+cg*cg),gH=T*bu/(d1*i6);i[4*(u*W+y)]=Math.min(bH*gH+127,255);
i[4*(u*W+y)+1]=Math.min(cg*gH+127,255)}}function d(i){var M=i.blurbOpenPanel;if(M)return M.v;else{var W=i.blurbWidgetList2.v;
for(var v=0;v<W.length;v++){var $=W[v].v.blurbWidgetSelected;if($&&$.v)return W[v].v.blurbWidgetType.v}}return 0}function Y(i,M){if(M<4)i.blurbOpenPanel={t:"long",v:M};
else{delete i.blurbOpenPanel;var W=i.blurbWidgetList2.v;for(var v=0;v<W.length;v++){W[v].v.blurbWidgetSelected.v=W[v].v.blurbWidgetType.v==M}}}function C(i,X,M,W){var $=s(i)[0],P=$[X],O;
if(X==0){O=P.length;P.push([M,W,20])}if(X==1||X==5){O=P.length*6+1;var G=100;P.push([M-G,W-G,M+G,W-G,M+G,W+G,M-G,W+G,M,W,.8,.8,.8,.8,20])}if(X==3){O=P.length*5;
P.push([M,W,M,W-50,M,W+50,M,W-20,M,W+20,20])}if(X==4){O=P.length*4+2;P.push([M-100,W,M-50,W,1,M,W,M+50,W,1])}J($,i);
Y(i,X);return O}return{apply:E,LZ:s,AH:J,aet:C,awJ:c,anV:_,arO:B,ajF:d,cI:Y}}();K.rU={};K.rU.U=function(j,n,Q,a){var B=[];
for(var m=0;m<4;m++)for(var R=0;R<4;R++)B.push(j+Q*R/3,n+a*m/3);return B};K.rU.a1G=function(j,n){var Q=j.slice(0);
for(var v=0;v<4;v++)for(var a=0;a<4;a++){var B=2*(v*4+a),m=2*(a*4+(3-v));if(n){var R=B;B=m;m=R}Q[m]=j[B];
Q[m+1]=j[B+1]}return Q};K.rU.Dn=K.U(0);K.rU.drawImage=function(j,n,Q,a,B,m,R){var q=!1,U=Date.now(),l=2;
if(!a.BJ(Q)){a.x=Q.x;a.y=Q.y}Q.x-=a.x;Q.y-=a.y;a.x=a.y=0;var b=a.O();b.offset(l,l);var D=b.O();D.VT(l,l);
var c=K.rU.Dn;if(c.length!=D.$()*4)c=K.rU.Dn=K.U(D.$()*4);else c.fill(0);var _=Q.O();Q.offset(l,l);K.EC(n,Q,c,D);
if(q)console.log(Date.now()-U,"copy rect");U=Date.now();K.hj(c);if(q)console.log(Date.now()-U,"multiply alpha");
U=Date.now();var p=D.q-2*l,X=D._-2*l,g=Math.max(p,X),F=Math.round(50*p/g),k=Math.round(Math.sqrt(3)*.5*50*X/g),I=F-.5,e=p+2*l,H=X+2*l,A=[],Z=[],J=[];
for(var s=0;s<k+1;s++){var E=(s&1)==0;for(var z=0;z<F+1;z++){var h=(z-(E?.5:0))/I,d=s/k;if(z==0)h=0;
if(z==F)h=1;A.push(e*h,H*d);if(z<F&&s<k){var Y=s*(F+1)+z,C=Y+1,i=Y+F+1,M=i+1;if(E)Z.push(Y,C,i,i,C,M);
else Z.push(Y,C,M,Y,M,i)}var W=K.rU.aiP(j,h,d);J.push(-W)}}var $=A.slice(0);K.rU.C(j,$,b);K.c.C($,new j8(1,0,0,1,-m.x,-m.y),$);
if(q)console.log(Date.now()-U,"mesh built");U=Date.now();var P=m.q,O=m._;K.m3.FL(c,e,H,B,P,O,A,$,J,Z,R);
if(q)console.log(Date.now()-U,"rendered");U=Date.now();K.wc(B);if(q)console.log(Date.now()-U,"divided");
U=Date.now()};K.rU.vY=new Array(10);K.rU.hB=function(j,n){var Q=200,a=0,B=0,m=1e9,R=K.rU.vY;for(var q=0;
q<Q+1;q++)for(var U=0;U<Q+1;U++){var l=U/Q,b=q/Q;K.rU.alG(j,l,b,R);var D=R[8]-n.x,c=R[9]-n.y,_=D*D+c*c;
if(_<m){m=_;a=l;B=b}}return[a,B]};K.rU.C=function(j,n,Q){var a=Q.x,B=Q.y,m=1/Q.q,R=1/Q._,q=K.rU.vY;for(var U=0;
U<n.length;U+=2){var l=(n[U]-a)*m,b=(n[U+1]-B)*R;K.rU.alG(j,l,b,q);n[U]=q[8];n[U+1]=q[9]}};K.rU.aiP=function(j,n,Q){var a,B,m,R,q=K.rU.vY;
K.rU.a3s(j,n,Q,q);a=q[8];B=q[9];K.rU.axP(j,n,Q,q);m=q[8];R=q[9];return a*R-B*m};K.rU.gk=function(j,n,Q){var a=0,B=0,m=j[2][0],R=j[2][1];
while(a+2<m.length&&m[a+1]<n)a++;n=(n-m[a])/(m[a+1]-m[a]);while(B+2<R.length&&R[B+1]<Q)B++;Q=(Q-R[B])/(R[B+1]-R[B]);
return[a*3,B*3,n,Q]};K.rU.alG=function(j,n,Q,a){var B=K.rU.gk(j,n,Q);K.rU.yq(a,0,B[3]);K.rU.yq(a,4,B[2]);
K.rU.lB(j[3],B[0],B[1],j[0],a)};K.rU.a3s=function(j,n,Q,a){var B=K.rU.gk(j,n,Q);K.rU.yq(a,0,B[3]);K.rU.abA(a,4,B[2]);
K.rU.lB(j[3],B[0],B[1],j[0],a)};K.rU.axP=function(j,n,Q,a){var B=K.rU.gk(j,n,Q);K.rU.abA(a,0,B[3]);K.rU.yq(a,4,B[2]);
K.rU.lB(j[3],B[0],B[1],j[0],a)};K.rU.abA=function(j,v,n){var Q=1-n;j[v]=-3*(Q*Q);j[v+1]=3*(Q*Q)-6*(n*Q);
j[v+2]=6*(n*Q)-3*(n*n);j[v+3]=3*(n*n)};K.rU.yq=function(j,v,n){var Q=1-n;j[v]=Q*(Q*Q);j[v+1]=3*n*(Q*Q);
j[v+2]=3*(n*n)*Q;j[v+3]=n*n*n};K.rU.a4c=function(j,n,Q,a,B){var m=K.rU.gk(j,n,Q),R=m[0],q=m[1],U=m[2],l=m[3],b=j[0],D=Math.floor(U*3),c=Math.floor(l*3),_=K.rU.vY,p=16,Z=0;
K.rU.yq(_,0,l);K.rU.yq(_,4,U);var X=[],g=[],F=[];for(var k=0;k<4;k++){for(var I=0;I<4;I++){var v=k*4+I,e=_[k]*_[4+I];
X.push(e);g.push((q+k)*b+R+I);if((k==c||k==c+1)&&(I==D||I==D+1)){var H=U*3-D;if(I==D)H=1-H;var A=l*3-c;
if(k==c)A=1-A;F[v]=H*A/e}else F[v]=0}}for(var v=0;v<p;v++)Z+=X[v]*F[v];for(var v=0;v<p;v++)F[v]/=Z;for(var v=0;
v<p;v++){var e=X[v],J=g[v];j[3][J*2]+=F[v]*a;j[3][J*2+1]+=F[v]*B}};K.rU.UI=function(j){var n=j[0],Q=j[1],a=j[2],B=j[3],m=B.slice(0);
for(var R=0;R<Q;R++)for(var q=0;q<n;q++){B[(q*Q+R)*2]=m[(R*n+q)*2];B[(q*Q+R)*2+1]=m[(R*n+q)*2+1]}j[0]=Q;
j[1]=n;j[2]=[a[1],a[0]]};K.rU.split=function(j,n,Q){if(n==1)K.rU.UI(j);var a=j[0],B=j[1],m=j[2][0],R=j[3],q=0;
while(m[q+1]&&m[q+1]<Q)q++;var U=(Q-m[q])/(m[q+1]-m[q]),l=1-U;for(var b=0;b<B;b++){var v=(b*(a+3)+q*3)*2,D=l*R[v]+U*R[v+2],c=l*R[v+1]+U*R[v+3],_=l*R[v+2]+U*R[v+4],p=l*R[v+3]+U*R[v+5],X=l*R[v+4]+U*R[v+6],g=l*R[v+5]+U*R[v+7],F=l*D+U*_,k=l*c+U*p,I=l*_+U*X,e=l*p+U*g,H=l*F+U*I,A=l*k+U*e;
R.splice(v+2,4,D,c,F,k,H,A,I,e,X,g)}m.push(Q);m.sort();j[0]+=3;if(n==1)K.rU.UI(j)};K.rU.lB=function(j,n,Q,a,B){var m=0,R=0,q=0,U=B[0],l=B[1],b=B[2],D=B[3],c=B[4],_=B[5],p=B[6],X=B[7],v=(Q*a+n)*2;
q=U*c;m+=j[v+0]*q;R+=j[v+1]*q;q=U*_;m+=j[v+2]*q;R+=j[v+3]*q;q=U*p;m+=j[v+4]*q;R+=j[v+5]*q;q=U*X;m+=j[v+6]*q;
R+=j[v+7]*q;v+=a+a;q=l*c;m+=j[v+0]*q;R+=j[v+1]*q;q=l*_;m+=j[v+2]*q;R+=j[v+3]*q;q=l*p;m+=j[v+4]*q;R+=j[v+5]*q;
q=l*X;m+=j[v+6]*q;R+=j[v+7]*q;v+=a+a;q=b*c;m+=j[v+0]*q;R+=j[v+1]*q;q=b*_;m+=j[v+2]*q;R+=j[v+3]*q;q=b*p;
m+=j[v+4]*q;R+=j[v+5]*q;q=b*X;m+=j[v+6]*q;R+=j[v+7]*q;v+=a+a;q=D*c;m+=j[v+0]*q;R+=j[v+1]*q;q=D*_;m+=j[v+2]*q;
R+=j[v+3]*q;q=D*p;m+=j[v+4]*q;R+=j[v+5]*q;q=D*X;m+=j[v+6]*q;R+=j[v+7]*q;v+=a+a;B[8]=m;B[9]=R};K.pJ={};
K.pJ.anc=function(j,n,Q){var a=Date.now();return K.pJ.a13(j,n,Q)};K.pJ.aGH=function(j,n,Q,a){var B=Q*a,m=new Uint32Array(B),R=new Uint8Array(B),q=new Int16Array(B);
m.fill(4294967295);m[n]=0;var U=new fn(B);U.push(n,m[n]);var l={IT:j,gf:m,uL:R,mS:q,Cm:U,a67:n,LE:[-Q-1,-Q,-Q+1,1,Q+1,Q,Q-1,-1]};
return l};K.pJ.mK=function(j,n){var Q=j.IT,a=j.gf,B=j.uL,m=j.mS,R=j.Cm,q=j.LE;while(R.nq!=0&&(n==null||B[n]==0)){var U=R.pop();
if(B[U]==1)continue;B[U]=1;for(var v=0;v<8;v++){var l=Q[8*U+v],b=U+q[v];if(l==255||B[b]==1)continue;
var D=a[U]+l;if(D<a[b]){a[b]=D;m[b]=U-b;R.push(b,D)}}}};function fn(j){this.list=[];this.nq=0;this.bM=4294967295}fn.prototype.push=function(j,n){var Q=this.list;
if(Q[n]==null)Q[n]=[];Q[n].push(j);this.nq++;this.bM=Math.min(this.bM,n)};fn.prototype.pop=function(){this.nq--;
var j=this.list,n=this.bM,Q=j[n].pop();if(j[n].length==0){j[n]=null;if(this.nq==0)this.bM=4294967295;
else{while(j[n]==null)n++;this.bM=n}}return Q};K.pJ.arl=function(j,n,Q,a){var B=new Int16Array(a);for(var m=0;
m<Q;m++)for(var R=0;R<n;R++){var v=m*n+R,q=0;if(1<R&&R<n-2&&1<m&&m<Q-2){q+=j[v-n-n];q+=j[v-n-1]+2*j[v-n]+j[v-n+1];
q+=j[v-2]+2*j[v-1]-16*j[v]+2*j[v+1]+j[v+2];q+=j[v+n-1]+2*j[v+n]+j[v+n+1];q+=j[v+n+n]}else q=-16*j[v];
B[v]=q}return B};K.pJ.af8=function(j,n,Q,a){if(a==null)a=128;var B=new Uint8Array(n*Q);for(var m=1;m<Q;
m++)for(var R=1;R<n;R++){var v=m*n+R;K.pJ.a74(j,v,v-1,B,a);K.pJ.a74(j,v,v-n,B,a)}return B};K.pJ.a74=function(j,v,n,Q,a){var B=j[v],m=j[n];
if(Math.abs(B-m)>a&&B*m<0){if(Math.abs(B)<Math.abs(m))Q[v]=1;else Q[n]=1}};K.pJ.aFn=function(j,n,Q,a){var B=new Float32Array(a),m=0;
B.fill(0);for(var R=0;R<Q;R++)for(var q=0;q<n;q++){var U=0,l=0,v=R*n+q,b=v*3;if(0<q&&q<n-1)U=j[v+1]-j[v-1];
if(0<R&&R<Q-1)l=j[v+n]-j[v-n];var D=U*U+l*l;if(D!=0){var c=B[b+2]=Math.sqrt(D),_=1/c;B[b]=U*_;B[b+1]=l*_;
if(c>m)m=c}}var p=3*n*Q,X=m==0?0:1/m;for(var v=0;v<p;v+=3)B[v+2]=1-B[v+2]*X;return B};K.pJ.a13=function(){function j(q,U,l){var b=new ArrayBuffer(U*l*12),D=Date.now(),c=K.pJ.arl(q,U,l,b),_=K.pJ.af8(c,U,l),p=K.pJ.aFn(q,U,l,b),X=new Uint8Array(U*l*8);
X.fill(255);var g=[-U-1,-U,-U+1,1];for(var F=1;F<l-1;F++)for(var k=1;k<U-1;k++){var I=F*U+k;for(var e=0;
e<4;e++)R(I,I+g[e],e,X,_,p)}return X}var n=new Float64Array(256);for(var v=0;v<256;v++)n[v]=Math.acos(-1+2*v/255)*(.95/Math.PI);
var Q=[-1,0,1,1,1,0,-1,-1],a=[-1,-1,-1,0,1,1,1,0];for(var v=0;v<8;v++){var B=1/Math.sqrt(Q[v]*Q[v]+a[v]*a[v]);
Q[v]*=B;a[v]*=B}var m=[Q[0],a[0],Q[1],a[1],Q[2],a[2],Q[3],a[3]];function R(q,U,l,b,D,c){var _=3*q,p=3*U,X=1-D[U],g=1-D[q],F=(l&1)==0?1:Math.SQRT1_2,k=c[p+2]*F,I=c[_+2]*F,e=c[p+1],H=-c[p],A=c[_+1],Z=-c[_],J=m[l+l],s=m[l+l+1],E=A*J+Z*s,z=e*J+H*s;
if(E+z<0){E=-E;z=-z}var h=n[~~((.5+.5*E)*255)]+n[~~((.5+.5*z)*255)];b[(q<<3)+l]=1+~~(.5+20*(.43*X+.43*h+.14*k));
b[(U<<3)+l+4]=1+~~(.5+20*(.43*g+.43*h+.14*I))}return j}();K.GY={};K.GY.c4=function(j){var n=j.slice(0),Q=0;
for(var v=0;v<j.length;v++)Q+=j[v];for(var v=0;v<j.length;v++)n[v]/=Q;return n};K.GY.Mz=[K.GY.c4([1,2,1,2,16,2,1,2,1]),K.GY.c4([1,2,1,2,4,2,1,2,1]),K.GY.c4([0,-1,0,-1,8,-1,0,-1,0]),K.GY.c4([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
K.GY.ie=function(j,n,Q,a,B,m,R,q){if(R==null)R=!1;if(q==null)q=!1;var U=Math.floor(Math.sqrt(B.length)),l=U-1>>>1,b=new Uint32Array(j.buffer),n=new Uint8ClampedArray(n.buffer);
for(var v=0;v<a;v++)for(var D=0;D<Q;D++){var c=0,_=0,p=0,X=0;for(var g=0;g<U;g++)for(var F=0;F<U;F++){var k=B[g*U+F];
if(k==0)continue;var I=D-l+F,e=v-l+g;if(I<0)I=0;else if(I>Q-1)I=Q-1;if(e<0)e=0;else if(e>a-1)e=a-1;if(q&&b[e*Q+I]>>>24==0){e=v;
I=D}var H=b[e*Q+I];c+=(H&255)*k;_+=(H>>>8&255)*k;p+=(H>>>16&255)*k;X+=(H>>>24&255)*k}if(R){if(c<0)c=-c;
if(_<0)_=-_;if(p<0)p=-p;if(X<0)X=-X}if(q){c=Math.max(0,Math.min(255,c));_=Math.max(0,Math.min(255,_));
p=Math.max(0,Math.min(255,p));X=Math.max(0,Math.min(255,X))}var A=v*Q+D<<2;n[A]=~~(.5+c);n[A+1]=~~(.5+_);
n[A+2]=~~(.5+p);n[A+3]=255-m&n[A+3]|m&~~(.5+X)}};K.GY.a8E=function(j,n,Q,a){var B=j.length,m=new Uint8Array(B);
K.GY.ie(j,n,Q,a,K.GY.Mz[4],0,!0);K.GY.ie(j,m,Q,a,K.GY.Mz[5],0,!0);for(var v=0;v<B;v+=4){var R=n[v],q=n[v+1],U=n[v+2],l=n[v+3],b=m[v],D=m[v+1],c=m[v+2],_=m[v+3];
n[v]=255-Math.max(0,Math.min(255,Math.sqrt(R*R+b*b)));n[v+1]=255-Math.max(0,Math.min(255,Math.sqrt(q*q+D*D)));
n[v+2]=255-Math.max(0,Math.min(255,Math.sqrt(U*U+c*c)))}};K.GY.aI0=function(j,n,Q,a){var B=j.length,m=new Uint8Array(B);
K.GY.T2(j,n,Q,a,K.GY.Mz[4],!0);K.GY.T2(j,m,Q,a,K.GY.Mz[5],!0);for(var v=0;v<B;v++){var R=n[v],q=m[v];
n[v]=255-Math.max(0,Math.min(255,Math.sqrt(R*R+q*q)))}};K.GY.T2=function(j,n,Q,a,B,m){n=new Uint8ClampedArray(n.buffer);
var R=[-Q-1,-Q,-Q+1,-1,0,1,Q-1,Q,Q+1],q=a-1,U=Q-1;for(var v=1;v<q;v++)for(var l=1;l<U;l++){var b=v*Q+l,D=K.GY.kU(j,b,Q,B);
if(m){if(D<0)D=-D}n[b]=~~(D+.5)}};K.GY.kU=function(j,n,Q,a){return j[n-Q-1]*a[0]+j[n-Q]*a[1]+j[n-Q+1]*a[2]+j[n-1]*a[3]+j[n]*a[4]+j[n+1]*a[5]+j[n+Q-1]*a[6]+j[n+Q]*a[7]+j[n+Q+1]*a[8]};
K.GY.atJ=function(j,n,Q,a,B){var m=[-Q-1,-Q,-Q+1,-1,0,1,Q-1,Q,Q+1],R=a-1,q=Q-1;for(var v=1;v<R;v++)for(var U=1;
U<q;U++){var l=v*Q+U;n[l]=K.GY.ahR(j,l,Q,B)}};K.GY.ahR=function(j,n,Q,a){return j[n-Q-1]*a[0]+j[n-Q]*a[1]+j[n-Q+1]*a[2]+j[n-1]*a[3]+j[n]*a[4]+j[n+1]*a[5]+j[n+Q-1]*a[6]+j[n+Q]*a[7]+j[n+Q+1]*a[8]};
K.fm={};K.fm.ao=function(){function j(R,q,U,l,b,D){if(b==0){q.set(R);return}var c=K.U(U*l),_=K.U(U*l);
if(K.QX(R)){n(R,q,U,l,b,D);K._W(R,c,3);K.fm.anp(c,_,U,l,b,D);K.wj(_,q,3)}else{for(var v=0;v<3;v++){K._W(R,c,v);
K.fm.anp(c,_,U,l,b,D);K.wj(_,q,v)}}}function n(R,q,U,l,b,D){var c=0,_=new ArrayBuffer(512*4*3),p=[new Int32Array(_,0),new Int32Array(_,2048),new Int32Array(_,2*2048)],X=1+2*Math.round(Math.sqrt(b)),g=X>>>1,F=new Array(X),k=new Array(X);
for(var v=0;v<X;v++){var _=new ArrayBuffer(512*4*3);F[v]=[new Int32Array(_,0),new Int32Array(_,2048),new Int32Array(_,2*2048)];
k[v]=F[v][0]}var I=[K.fm.kD,K.fm.ku][D],e=I[0],H=I[1],A=p[0];for(var Z=0;Z<U;Z++)if(Z<b||Z>U-b-X-1){A.fill(0);
var J=Math.max(Z-b,0),s=Math.min(U,Z+b+1),E=s-J;for(var d=0;d<b;d++)a(A,R,d*U+J,d*U+s,1);for(var d=0;
d<l;d++){var Y=d-b-1,C=d+b;if(C<l)a(A,R,C*U+J,C*U+s,1);if(Y>=0)a(A,R,Y*U+J,Y*U+s,-1);var i=d*U+Z<<2;
c=A[300];if(c!=0)for(var v=0;v<3;v++)q[i+v]=e(p[v],R[i+v],c)}}else{for(var v=0;v<X;v++)k[v].fill(0);
var J=Z-b+g,s=Z+b+1+g;for(var d=0;d<b;d++)Q(k,R,d*U+J,d*U+s,1,g);for(var d=0;d<l;d++){var Y=d-b-1,C=d+b;
if(Y>=0)Q(k,R,Y*U+J,Y*U+s,-1,g);if(C<l)Q(k,R,C*U+J,C*U+s,1,g);var M=F[g];c=M[0][300];for(var v=0;v<g;
v++){var W=g-1-v,$=g+1+v,P=F[W],O=F[$],G=c+P[0][300],t=c+O[0][300],y=d*U+Z+W<<2,r=d*U+Z+$<<2;if(G!=0)for(var u=0;
u<3;u++)q[y+u]=H(M[u],P[u],R[y+u],G);if(t!=0)for(var u=0;u<3;u++)q[r+u]=H(M[u],O[u],R[r+u],t)}var i=d*U+Z+g<<2;
if(c!=0)for(var u=0;u<3;u++)q[i+u]=e(M[u],R[i+u],c)}Z+=X-1}}function Q(R,q,U,l,b,D){var c=B,_=U<<2,p=l<<2;
c(R[D-1],q,U-1<<2,b);c(R[D-1],q,l-1<<2,-b);c(R[D+1],q,l<<2,b);c(R[D+1],q,U<<2,-b);for(var v=1;v<D;v++){var X=R[D-v-1],g=R[D+v+1];
for(var F=0;F<=v;F++){var k=F<<2;c(X,q,U-1-F<<2,b);c(X,q,l-1-F<<2,-b);c(g,q,l+F<<2,b);c(g,q,U+F<<2,-b)}}a(R[D],q,U,l,b)}function a(R,q,v,U,l){var b=v<<2,D=U<<2;
while(b<D){B(R,q,b,l);b+=4}}function B(R,q,U,l){var b=l*q[U+3];R[300]+=b;m(R,q[U],0,b);m(R,q[U+1],512,b);
m(R,q[U+2],1024,b)}function m(R,q,U,l){R[U|q]+=l;R[U|256|q>>>4]+=l}return j}();K.fm.anp=function(){function j(D,c,_,p,X,g){if(X==0){c.set(D);
return}if(X<=200)n(D,c,_,p,X,g);else m(D,c,_,p,X,g)}function n(D,c,_,p,X,g){var F=0,k=new Int32Array(512),I=1+2*Math.round(Math.sqrt(X)),e=I>>>1,H=new Array(I);
for(var v=0;v<I;v++)H[v]=new Int32Array(512);var A=[K.fm.kD,K.fm.ku][g],Z=A[0],J=A[1];for(var s=0;s<_;
s++)if(s<X||s>_-X-I-1){k.fill(0);F=0;var E=Math.max(s-X,0),d=Math.min(_,s+X+1),Y=d-E;for(var C=0;C<X;
C++){F+=Y;a(k,D,C*_+E,C*_+d,1)}for(var C=0;C<p;C++){var i=C-X-1,M=C+X;if(i>=0){F-=Y;a(k,D,i*_+E,i*_+d,-1)}if(M<p){F+=Y;
a(k,D,M*_+E,M*_+d,1)}var W=Z(k,D[C*_+s],F);c[C*_+s]=W}}else{for(var v=0;v<I;v++)H[v].fill(0);F=0;var E=s-X+e,d=s+X+1+e,Y=d-E;
for(var C=0;C<X;C++){F+=Y;Q(H,D,C*_+E,C*_+d,1,e)}for(var C=0;C<p;C++){var i=C-X-1,M=C+X;if(i>=0){F-=Y;
Q(H,D,i*_+E,i*_+d,-1,e)}if(M<p){F+=Y;Q(H,D,M*_+E,M*_+d,1,e)}for(var v=0;v<e;v++){var $=e-1-v,P=e+1+v;
c[C*_+s+$]=J(H[e],H[$],D[C*_+s+$],F);c[C*_+s+P]=J(H[e],H[P],D[C*_+s+P],F)}c[C*_+s+e]=Z(H[e],D[C*_+s+e],F)}s+=I-1}}function Q(D,c,_,p,X,g){var F=B;
F(D[g-1],c[_-1],0,X);F(D[g-1],c[p-1],0,-X);F(D[g+1],c[p],0,X);F(D[g+1],c[_],0,-X);for(var v=1;v<g;v++){var k=D[g-v-1],I=D[g+v+1];
for(var e=0;e<=v;e++){F(k,c[_-1-e],0,X);F(k,c[p-1-e],0,-X);F(I,c[p+e],0,X);F(I,c[_+e],0,-X)}}a(D[g],c,_,p,X)}function a(D,c,v,_,p){while(v<_)B(D,c[v++],0,p)}function B(D,c,_,p){D[_|c]+=p;
D[_|256|c>>>4]+=p}function m(D,c,_,p,X,g){var F=0,k=new Int32Array(512),I=new Int32Array(1*_),e=new Int32Array(512*_),H=Math.min(X,_),A=Math.min(X,p),Z=[K.fm.kD,K.fm.ku][g],J=Z[0];
for(var s=0;s<A;s++)R(e,I,D,_,s,1);for(var s=0;s<p;s++){if(s+X<p)R(e,I,D,_,s+X,1);if(s-X-1>=0)R(e,I,D,_,s-X-1,-1);
k.fill(0);F=0;for(var E=0;E<H;E++){F+=I[E];q(k,e,E)}for(var E=0;E<_;E++){var z=E-X-1,h=E+X;if(z>=0&&I[z]!=0){F-=I[z];
U(k,e,z)}if(h<_&&I[h]!=0){F+=I[h];q(k,e,h)}var d=F==0?0:J(k,D[s*_+E],F);c[s*_+E]=d}}}function R(D,c,_,p,X,g){var v=X*p;
for(var F=0;F<p;F++){B(D,_[v+F],F<<9,g);c[F]+=g}}function q(D,c,_){for(var v=0;v<16;v++){var p=c[_<<9|256|v];
if(p==0)continue;D[256|v]+=p;var X=v<<4,g=_<<9|X;l(D,c,X,g);l(D,c,X+4,g+4);l(D,c,X+8,g+8);l(D,c,X+12,g+12)}}function U(D,c,_){for(var v=0;
v<16;v++){var p=c[_<<9|256|v];if(p==0)continue;D[256|v]-=p;var X=v<<4,g=_<<9|X;b(D,c,X,g);b(D,c,X+4,g+4);
b(D,c,X+8,g+8);b(D,c,X+12,g+12)}}function l(D,c,_,p){D[_]+=c[p];D[_+1]+=c[p+1];D[_+2]+=c[p+2];D[_+3]+=c[p+3]}function b(D,c,_,p){D[_]-=c[p];
D[_+1]-=c[p+1];D[_+2]-=c[p+2];D[_+3]-=c[p+3]}return j}();K.fm.tN=.5;K.fm.kD=[function(j,n,Q){var a=~~(.5+K.fm.tN*Q),B=0,v=256;
while(B+j[v]<a)B+=j[v++];v=v-256<<4;while(B<a)B+=j[v++];return v-1},function(j,n,Q,a){var B=~~(.5+K.fm.tN*a),m=0,v=256;
while(m+j[v]+n[v]<B){m+=j[v]+n[v];v++}v=v-256<<4;while(m<B){m+=j[v]+n[v];v++}return v-1}];K.fm.uj=100;
K.fm.ku=[function(j,n,Q){var a=K.fm.uj,B=0,m=0,v=Math.max(0,n-a),R=Math.min(256,n+a+1);while(v<R){var q=j[v];
B+=v*q;m+=q;v++}return m==0?0:B/m},function(j,n,Q,a){var B=K.fm.uj,m=0,R=0,v=Math.max(0,Q-B),q=Math.min(256,Q+B+1);
while(v<q){var U=j[v]+n[v];m+=v*U;R+=U;v++}return R==0?0:m/R}];K.D={};K.D.Uu=function(j){var n=N.IP.lw(j.Trnf),Q=new b4(0,0,1e3,1e3);
if(j.Sz){var a=j.Sz.v;Q=new b4(0,0,a.Wdth.v,a.Hght.v)}var B=K.D.ZM(n,Q);return K.D.lm(B)};K.D.ZM=function(j,n){var Q=j[0],a=j[1],B=j[2],m=j[3],R=j[6],q=j[7],U=j[4],l=j[5],b=0,D=0,c=1,_=0,p=0,X=1,g=1,F=1;
if(n){b=n.x;D=n.y;c=n.x+n.q;_=n.y;p=n.x;X=n.y+n._;g=n.x+n.q;F=n.y+n._}return K.D.a5o(j,[b,D,c,_,g,F,p,X])};
K.D.a3c=function(j){function n(B,m){for(var v=0;v<m.length;v+=2)if(!Q(B,m[v],m[v+1]))return!1;return!0}function Q(B,m,R){return B[2*m]==B[2*R]&&B[2*m+1]==B[2*R+1]}var a=0;
if(n(j,[0,1,2,3]))a+=1;if(n(j,[0,3,1,2]))a+=2;return a};K.D.a5o=function(j,n){function Q(i,v,M){var d=i[v*2]-i[M*2],Y=i[v*2+1]-i[M*2+1];
return Math.sqrt(d*d+Y*Y)}var a=j[0],B=j[1],m=j[2],R=j[3],q=j[6],U=j[7],l=j[4],b=j[5],D=n[0],c=n[1],_=n[2],p=n[3],X=n[6],g=n[7],F=n[4],k=n[5],I=[[D,c,1,0,0,0,-D*a,-c*a,a],[0,0,0,D,c,1,-D*B,-c*B,B],[_,p,1,0,0,0,-_*m,-p*m,m],[0,0,0,_,p,1,-_*R,-p*R,R],[X,g,1,0,0,0,-X*q,-g*q,q],[0,0,0,X,g,1,-X*U,-g*U,U],[F,k,1,0,0,0,-F*l,-k*l,l],[0,0,0,F,k,1,-F*b,-k*b,b]],e=[0,0,0,0,0,0,0,0],H=K.uS.f1(I,e);
if(H!=0){e=[0,0,0,0,0,0,0,0];var A=K.D.a3c(j),Z=K.D.a3c(n);if(A==Z&&A!=0){var J=A==1,s=J?3:1,E=Q(j,0,s),z=Q(n,0,s),h=z/E,d=j[2*s]-j[0],Y=j[2*s+1]-j[1],C=new j8;
C.translate(-a,-B);C.rotate(Math.atan2(Y,d)-(J?Math.PI/2:0));if(J)C.scale(1,h);else C.scale(h,1);C.translate(D,c);
C.m2();e=K.D.UN(C)}}return e};K.D.U=function(j,n){if(j==null)j=n=0;return[1,0,j,0,1,n,0,0]};K.D.HF=function(j){return Math.abs(j[6])<1e-10&&Math.abs(j[7])<1e-10};
K.D.lm=function(j){return new j8(j[0],j[3],j[1],j[4],j[2],j[5])};K.D.UN=function(j){return[j.NX,j.RK,j.Qr,j.b,j.zP,j.dE,0,0]};
K.D.C=function(j,n){var Q=new Float64Array(2);for(var a=0;a<n.length;a+=2){var B=n[a],m=n[a+1];K.D.g5(B,m,j,Q);
n[a]=Q[0];n[a+1]=Q[1]}};K.D.g5=function(j,n,Q,a){var B=1/(Q[6]*j+Q[7]*n+1);a[0]=(Q[0]*j+Q[1]*n+Q[2])*B;
a[1]=(Q[3]*j+Q[4]*n+Q[5])*B};K.D.aco=function(j,n){var Q=new Float64Array(2);K.D.g5(n.x,n.y,j,Q);return new eE(Q[0],Q[1])};
K.D.UI=function(j,n,Q,a){j=new Uint32Array(j.buffer);n=new Uint32Array(n.buffer);for(var B=0;B<a;B++){for(var m=0;
m<Q;m++){n[m*a+B]=j[B*Q+m]}}};K.D.ms=function(j,n,Q,a){j=new Uint32Array(j.buffer);n=new Uint32Array(n.buffer);
for(var B=0;B<a;B++){for(var m=0;m<Q;m++){n[B*Q+m]=j[B*Q+Q-1-m]}}};K.D.a6D=function(j,n,Q,a){j=new Uint32Array(j.buffer);
n=new Uint32Array(n.buffer);for(var B=0;B<a;B++){for(var m=0;m<Q;m++){n[B*Q+m]=j[(a-1-B)*Q+m]}}};K.D.a9Z=function(j){return Math.abs(j[6])<1e-9&&Math.abs(j[7])<1e-9};
K.D.a7q=function(j){return Math.abs(j[0])<1e-9&&Math.abs(j[4])<1e-9||Math.abs(j[1])<1e-9&&Math.abs(j[3])<1e-9};
K.D.drawImage=function(j,n,Q,a,B,m,R,q,U){if(R==null)R=!1;if(q==null)q=!1;var l=K.D.m2(j),b=!0,D=0;for(var v=0;
v<8;v++){var c=Math.round(j[v]);if(v!=2&&v!=5)D+=Math.abs(c);if(Math.abs(c-j[v])>1e-9)b=!1}var _=K.D.a9Z(j),p=K.D.a7q(j)&&_,X=p?1:0;
if(R||b&&D==Q+a&&_){K.D.aB9(l,n,Q,a,B,m,q,_,U);return}var g=m.q,F=m._,k=new Float64Array(2);B=new Uint32Array(B.buffer);
n=new Uint32Array(n.buffer);for(var I=0;I<F;I++)for(var e=0;e<g;e++){var H=I*g+e,A,Z,J,s,P=0,O=0,G=0,t=0;
B[H]=0;var E=e+m.x+.5,z=I+m.y+.5;A=E;Z=z;J=l;var h=J[0]*A+J[1]*Z+J[2],d=J[3]*A+J[4]*Z+J[5];if(!_){s=1/(J[6]*A+J[7]*Z+1);
h*=s;d*=s}var Y=h*Q,C=d*a,i=Y<-1||Y>Q+1||C<-1||C>a+1;if(q){Y=Math.max(.001,Math.min(Q-1,Y));C=Math.max(.001,Math.min(a-1,C))}else if(i)continue;
var M=K.D.acH(j,Q,a,E,z,h,d),W=Math.round(M*2.3);if(M<1.1){K.D.Fu(Y,C,n,Q,a,B,H,X);continue}if(!q&&(Y<.6||Y>Q-.6||C<.6||C>a-.6)){W=Math.max(W,5)}if(q&&i)W=1;
var $=1/W,y=m.x+e,r=m.y+I;J=l;for(var v=0;v<W;v++)for(var u=0;u<W;u++){A=y+(v+.5)*$;Z=r+(u+.5)*$;var Y=J[0]*A+J[1]*Z+J[2],C=J[3]*A+J[4]*Z+J[5];
if(!_){s=1/(J[6]*A+J[7]*Z+1);Y*=s;C*=s}if(q){Y=Math.max(.001,Math.min(.999,Y));C=Math.max(.001,Math.min(.999,C))}else if(Y<0||Y>=1||C<0||C>=1)continue;
Y=Math.floor(Y*Q);C=Math.floor(C*a);var S=C*Q+Y,w=n[S],dj=w>>>24;P+=(w&255)*dj;O+=(w>>>8&255)*dj;G+=(w>>>16&255)*dj;
t+=dj}if(t!=0){var o=1/t;P=~~(P*o+.5);O=~~(O*o+.5);G=~~(G*o+.5);t=~~(t*$*$+.5);B[H]=t<<24|G<<16|O<<8|P}}};
K.D.acH=function(j,n,Q,a,B,m,R){var q=K.D.asf(j,a,B,m+1/n,R),U=K.D.asf(j,a,B,m,R+1/Q);return 1/Math.sqrt(Math.max(q,U))};
K.D.asf=function(j,n,Q,a,B){var m=1/(j[6]*a+j[7]*B+1),R=(j[0]*a+j[1]*B+j[2])*m-n,q=(j[3]*a+j[4]*B+j[5])*m-Q;
return R*R+q*q};K.D.aB9=function(j,n,Q,a,B,m,R,q,U){if(q&&!R&&m.$()>4e6&&U){K.D.a3g(j,n,Q,a,B,m,R,q,U);
return}var l=m.x+m.q,b=m.y+m._,D=0,c=new Uint32Array(B.buffer),_=new Uint32Array(n.buffer),p=j[0]*Q,X=j[1]*Q,g=j[2]*Q,F=j[3]*a,k=j[4]*a,I=j[5]*a,e=j[6],H=j[7];
if(q&&!R)for(var A=m.y+.5;A<b;A++)for(var Z=m.x+.5;Z<l;Z++){var J=p*Z+X*A+g,s=F*Z+k*A+I;if(0<J&&J<Q&&0<s&&s<a){var E=~~s*Q+~~J;
c[D]=_[E]}else c[D]=0;D++}else for(var A=m.y+.5;A<b;A++)for(var Z=m.x+.5;Z<l;Z++){var z=1/(e*Z+H*A+1),J=(p*Z+X*A+g)*z,s=(F*Z+k*A+I)*z;
if(R){J=Math.max(.001,Math.min(Q-1,J));s=Math.max(.001,Math.min(a-1,s))}if(0<J&&J<Q&&0<s&&s<a){var E=Math.floor(s)*Q+Math.floor(J);
c[D]=_[E]}else c[D]=0;D++}};K.D.a3g=function(j,n,Q,a,B,m,R,q,U){var l=new Uint32Array(B.buffer),b=new Uint32Array(n.buffer),H=0;
if(U&&(m.q&3)!=0)throw"e";var D=j[0]*Q,c=j[1]*Q,_=j[2]*Q,p=j[3]*a,X=j[4]*a,g=j[5]*a,F=j[6],k=j[7],I=m.q,e=m._,A=m.x+.5,Z=m.y+.5,J=(I>>>2<<2)-1e-9,s=-.1+(e>>>1<<1)-1e-9,E=~~Q,z=D==0?0:1/D,h=p==0?0:1/p;
for(var d=0;d<e;d++){var Y=A*D+c*(d+Z)+_,C=A*p+X*(d+Z)+g,i=0,M=I;if(D==0){}else if(z>0){i=Math.max(i,-Y*z);
M=Math.min(M,(Q-Y)*z)}else{M=Math.min(M,-Y*z);i=Math.max(i,(Q-Y)*z)}if(p==0){}else if(h>0){i=Math.max(i,-C*h);
M=Math.min(M,(a-C)*h)}else{M=Math.min(M,-C*h);i=Math.max(i,(a-C)*h)}if(M<0)M=0;if(i>M)i=M;i=~~Math.ceil(i);
M=~~M;H=~~(d*I);l.fill(0,H,H+i);H+=i;for(var W=i;W<M;W+=4){var $=D*W+Y,P=p*W+C,O=~~P*E+~~$,G=b[O];l[H]=G;
l[H+1]=G;l[H+2]=G;l[H+3]=G;H+=4}l.fill(0,H,H+I-M)}};K.D.m2=function(j){var n=j[4]-j[5]*j[7],Q=j[2]*j[7]-j[1],a=j[1]*j[5]-j[2]*j[4],B=j[5]*j[6]-j[3],m=j[0]-j[2]*j[6],R=j[3]*j[2]-j[0]*j[5],q=j[3]*j[7]-j[4]*j[6],U=j[1]*j[6]-j[0]*j[7],l=1/(j[0]*j[4]-j[1]*j[3]);
return[n*l,Q*l,a*l,B*l,m*l,R*l,q*l,U*l]};K.D.Da=function(j,n){var Q=j[0],a=j[1],B=j[2],m=j[3],R=j[4],q=j[5],U=j[6],l=j[7],b=n[0],D=n[1],c=n[2],_=n[3],p=n[4],X=n[5],g=n[6],F=n[7],k=[Q*b+a*_+B*g,Q*D+a*p+B*F,Q*c+a*X+B,m*b+R*_+q*g,m*D+R*p+q*F,m*c+R*X+q,U*b+l*_+g,U*D+l*p+F],I=1/(U*c+l*X+1);
for(var v=0;v<8;v++)k[v]*=I;return k};K.D.Fu=function(j,n,Q,a,B,m,R,q){var U=j,l=n,c=0,_=0,p=0,X=0;j-=.499999;
n-=.499999;var b=Math.floor(j),D=Math.floor(n);if(q==0){var v=D*a+b,g=b>=0&&b<a,F=b+1>=0&&b+1<a,k=D>=0&&D<B,I=D+1>=0&&D+1<B;
if(g&&k)c=Q[v];if(F&&k)_=Q[v+1];if(g&&I)p=Q[v+a];if(F&&I)X=Q[v+a+1]}else if(q==1){var e=b<0?0:b>a-1?a-1:b,H=b<-1?0:b>a-2?a-1:b+1,A=D<0?0:D>B-1?B-1:D,Z=D<-1?0:D>B-2?B-1:D+1;
c=Q[A*a+e];_=Q[A*a+H];p=Q[Z*a+e];X=Q[Z*a+H]}else{var e=(b+50*a)%a,H=(b+50*a+1)%a,A=(D+50*B)%B,Z=(D+50*B+1)%B;
c=Q[A*a+e];_=Q[A*a+H];p=Q[Z*a+e];X=Q[Z*a+H]}var J=j-b,s=n-D,E=(1-s)*(1-J)*(c>>>24),z=(1-s)*J*(_>>>24),h=s*(1-J)*(p>>>24),d=s*J*(X>>>24),Y=E+z+h+d,C=E*(c&255)+z*(_&255)+h*(p&255)+d*(X&255),i=E*(c>>>8&255)+z*(_>>>8&255)+h*(p>>>8&255)+d*(X>>>8&255),M=E*(c>>>16&255)+z*(_>>>16&255)+h*(p>>>16&255)+d*(X>>>16&255);
if(Y==0)m[R]=0;else{var W=1/Y;C=~~(C*W+.5);i=~~(i*W+.5);M=~~(M*W+.5);Y=~~(Y+.5);m[R]=Y<<24|M<<16|i<<8|C}};
K.D.aGr=function(j,n,Q,a,B,m){var R=j-.499999,q=n-.499999,U=~~R,l=~~q,b=R-U,D=q-l,c=(1-D)*(1-b),_=(1-D)*b,p=D*(1-b),X=D*b,g=l*a+U<<2,F=(l+1)*a+U<<2,k=c*Q[g]+_*Q[g+4]+p*Q[F]+X*Q[F+4],I=c*Q[g+1]+_*Q[g+5]+p*Q[F+1]+X*Q[F+5],e=c*Q[g+2]+_*Q[g+6]+p*Q[F+2]+X*Q[F+6],H=c*Q[g+3]+_*Q[g+7]+p*Q[F+3]+X*Q[F+7];
m[0]=k;m[1]=I;m[2]=e;m[3]=H};K.D.nj=function(j,n,Q,a,B){j-=.499999;n-=.499999;var m=Math.floor(j),R=Math.floor(n),q=j-m,U=n-R,l=(1-U)*(1-q),b=(1-U)*q,D=U*(1-q),c=U*q,_=(m+50*a)%a,p=(m+1+50*a)%a,X=(R+50*B)%B,g=(R+1+50*B)%B,F=Q[X*a+_],k=Q[X*a+p],I=Q[g*a+_],e=Q[g*a+p];
if(F==null||e==null)throw"e";return l*F+b*k+D*I+c*e};K.D.aHk=function(j,n,Q,a,B){j-=.499999;n-=.499999;
var m=Math.floor(j),R=Math.floor(n),q=j-m,U=n-R,l=(1-U)*(1-q),b=(1-U)*q,D=U*(1-q),c=U*q,_=0,p=R*a+m,X=p+a;
if(0<=R&&R<B&&0<=m&&m<a)_+=l*Q[p];if(0<=R&&R<B&&0<=m+1&&m+1<a)_+=b*Q[p+1];if(0<=R+1&&R+1<B&&0<=m&&m<a)_+=D*Q[X];
if(0<=R+1&&R+1<B&&0<=m+1&&m+1<a)_+=c*Q[X+1];return _};K.D.aCU=function(j,n,Q,a,B,m,R,q,U,l,b,D){var c=new Uint32Array(j.buffer),_=new Uint32Array(a.buffer),p=(1+2*l)/B,X=[],g=[];
for(var F=0;F<B;F++){var k=-.25+l-F*p;X.push(Math.cos(2*Math.PI*k)*D/b);X.push(Math.sin(2*Math.PI*k)/b)}R*=n;
q*=Q;for(var I=0;I<m;I++){var e=Math.pow(I/m,U)*m;for(var F=0;F<B;F++){var H=R+X[F<<1]*e,A=q+X[(F<<1)+1]*e,Z=~~(.5+(H<0?0:H>n-1?n-1:H)),J=~~(.5+(A<0?0:A>Q-1?Q-1:A));
_[I*B+F]=c[J*n+Z]}}};K.D.aut=function(j,n,Q,a,B,m,R,q,U,l,b,D){var c=new Uint32Array(j.buffer),_=new Uint32Array(a.buffer),p=1/D,X=[],g=Q*4,F=1/g;
for(var k=0;k<g+10;k++)X.push(Math.pow(k*F,1/U)*Q*b);R*=B;q*=m;for(var k=0;k<m;k++)for(var I=0;I<B;I++){var e=p*(I-R),H=k-q,A=1.75-Math.atan2(H,e)*(1/(2*Math.PI));
A=A-~~A;A=(A+l)*(1/(1+2*l));var Z=Math.sqrt(e*e+H*H);Z=X[~~(Z*4)];K.D.Fu(A*n+.5,Z+.5,c,n,Q,_,k*B+I,1)}};
K.D.vH=function(j,n,Q,a,B){var m=B[0],R=B[1];for(var q=0;q<R;q++)for(var U=0;U<m;U++){var l=B[2]*U+B[3]*q+B[4],b=B[5]*U+B[6]*q+B[7],D=q*m+U<<2,c=b*n+l<<2;
a[D]=j[c+0];a[D+1]=j[c+1];a[D+2]=j[c+2];a[D+3]=j[c+3]}};K.Gp={Pw:function(j,n){var Q=~~(.499+j*n);return Q<0?0:Q>n?n:Q},a4g:function(j,n,Q,a,B,m,R,q){var U=Q[0],l=Q[1],b=Q[2],D=Q[3],c=a.q,_=a._,p=new Uint32Array(1),X=new Uint8Array(p.buffer),g=Math.round(Math.random()*a.$()*100);
for(var F=0,v=0;F<_;F++){for(var k=0;k<c;k++,v++){var I=k+B,e=F+m,H=U*I+l*e,A=b*I+D*e,Z=0,E=0;if(q==0)Z=H+.5;
else if(q==1)Z=2*Math.sqrt(H*H+A*A);else if(q==2)Z=(Math.PI+Math.atan2(-A,-H))/(2*Math.PI);else if(q==3)Z=Math.abs(H*2);
else if(q==4)Z=2*(Math.abs(H)+Math.abs(A));var J=K.Gp.Pw(Z,R)*4,s=k*4;p[0]=K.L.ny(v+g);for(var z=0;z<4;
z++){var h=n[J+z],d=Math.floor(h);if(X[z]<(h-d)*255)d++;E|=d<<z*8}j[v]=E}}},xw:[function(j,n,Q,a,B,m,R){var q=Q[0],U=Q[1],l=Q[2],b=Q[3],D=a.q,c=a._;
for(var _=0,v=0;_<c;_++)for(var p=0;p<D;p++,v++){var X=p+B,g=_+m,F=q*X+U*g,k=l*X+b*g,I=F+.5;j[v]=n[K.Gp.Pw(I,R)]}},function(j,n,Q,a,B,m,R){var q=Q[0],U=Q[1],l=Q[2],b=Q[3],D=a.q,c=a._;
for(var _=0,v=0;_<c;_++)for(var p=0;p<D;p++,v++){var X=p+B,g=_+m,F=q*X+U*g,k=l*X+b*g,I=2*Math.sqrt(F*F+k*k);
j[v]=n[K.Gp.Pw(I,R)]}},function(j,n,Q,a,B,m,R){var q=Q[0],U=Q[1],l=Q[2],b=Q[3],D=a.q,c=a._;for(var _=0,v=0;
_<c;_++)for(var p=0;p<D;p++,v++){var X=p+B,g=_+m,F=q*X+U*g,k=l*X+b*g,I=(Math.PI+Math.atan2(-k,-F))/(2*Math.PI);
j[v]=n[K.Gp.Pw(I,R)]}},function(j,n,Q,a,B,m,R){var q=Q[0],U=Q[1],l=Q[2],b=Q[3],D=a.q,c=a._;for(var _=0,v=0;
_<c;_++)for(var p=0;p<D;p++,v++){var X=p+B,g=_+m,F=q*X+U*g,k=l*X+b*g,I=Math.abs(F*2);j[v]=n[K.Gp.Pw(I,R)]}},function(j,n,Q,a,B,m,R){var q=Q[0],U=Q[1],l=Q[2],b=Q[3],D=a.q,c=a._;
for(var _=0,v=0;_<c;_++)for(var p=0;p<D;p++,v++){var X=p+B,g=_+m,F=q*X+U*g,k=l*X+b*g,I=2*(Math.abs(F)+Math.abs(k));
j[v]=n[K.Gp.Pw(I,R)]}}]};K.Gp.a3i=function(j,n){return j+.5};K.Gp.aht=function(j,n){return 2*Math.sqrt(j*j+n*n)};
K.Gp.arz=function(j,n){return(Math.PI+Math.atan2(-n,-j))/(2*Math.PI)};K.Gp.af9=function(j,n){return Math.abs(j*2)};
K.Gp.aCD=function(j,n){return 2*(Math.abs(j)+Math.abs(n))};K.Gp.C_=function(j,n,Q,a,B,m,R,q,U,l,b,D){var c=j.Clrs,_=new Uint32Array(n.buffer),p=1023,X=c?K.Gp.GR(j,U,l):null;
if(D&&c){var g=K.Gp.aeV(j,X,p+1,R);K.Gp.a4g(_,g,a,Q,Q.x-B,Q.y-m,p,q)}else{var F=c?K.Gp.a06(j,X,p+1,R):K.Gp.adl(j,p+1,R),k=new Uint32Array(F.buffer);
if(q<5){K.Gp.xw[q](_,k,a,Q,Q.x-B,Q.y-m,p)}else{var I=new Uint8Array(k.buffer),e=Q.q,H=Q._,A=b.Hc-b.cK,Z=1/A,J=b.E9.q-Q.q>>1,s=b.E9._-Q._>>1,E=b.E9.q,z=-.6*Z,h=(-.6+.4)*Z,d=(-.6+2*.4)*Z,Y=(-.6+3*.4)*Z;
for(var C=0,v=0;C<H;C++)for(var i=0;i<e;i++,v+=4){var M=0,W=0,$=0,P=0,O=(C+s)*E+i+J,G=(b.i1[O]-b.cK)*Z,y=0;
if(G<=0||G>=1){y=(G<=0?0:p)<<2;n[v]=I[y];n[v+1]=I[y+1];n[v+2]=I[y+2];n[v+3]=I[y+3];continue}y=Math.max(0,Math.min(p-1,Math.round((G+z)*p)))<<2;
W+=I[y];$+=I[y+1];P+=I[y+2];M+=I[y+3];y=Math.max(0,Math.min(p-1,Math.round((G+h)*p)))<<2;W+=I[y];$+=I[y+1];
P+=I[y+2];M+=I[y+3];y=Math.max(0,Math.min(p-1,Math.round((G+d)*p)))<<2;W+=I[y];$+=I[y+1];P+=I[y+2];M+=I[y+3];
y=Math.max(0,Math.min(p-1,Math.round((G+Y)*p)))<<2;W+=I[y];$+=I[y+1];P+=I[y+2];M+=I[y+3];n[v]=W>>>2;
n[v+1]=$>>>2;n[v+2]=P>>>2;n[v+3]=M>>>2}}}};K.Gp.GR=function(j,n,Q){var a=[j.Clrs.v,j.Trns.v],B=[[],[]],m=255;
for(var R=0;R<2;R++)for(var v=0;v<a[R].length;v++){var q,U=a[R][v].v;if(R==0){var l=U.Type.v.Clry;if(l=="FrgC")q={n:n>>16&255,i:n>>8&255,b:n&255};
else if(l=="BckC")q={n:Q>>16&255,i:Q>>8&255,b:Q&255};else q=K.Gp.qF(U.Clr.v)}else{q=U.Opct.v.val*(255/100);
if(q<m)m=q}B[R].push([q,U.Lctn.v/4096,U.Mdpn.v/100])}B.push(m>254);return B};K.Gp.qF=function(j){var n,Q=j.classID;
if(Q=="RGBC"){if(j.Rd)n={n:j.Rd.v,i:j.Grn.v,b:j.Bl.v};else n={n:j.redFloat.v*255,i:j.greenFloat.v*255,b:j.blueFloat.v*255}}else if(Q=="HSBC"){n=K.JG(j.H.v.val/360,j.Strt.v/100,j.Brgh.v/100);
n.n*=255;n.i*=255;n.b*=255}else if(Q=="CMYC"){var a=j.Cyn.v,B=j.Mgnt.v,m=j.Ylw.v,R=j.Blck.v,q=[a/100,B/100,m/100,R/100],U=K.dm(q);
n={n:U[0]*255,i:U[1]*255,b:U[2]*255}}else if(Q=="Grsc")n={n:255-j.Gry.v,i:255-j.Gry.v,b:255-j.Gry.v};
else if(Q=="LbCl"){n=K.aY(j.Lmnc.v,j.A.v,j.B.v)}else if(Q=="BkCl")n={n:0,i:0,b:0};else console.log(j);
if(isNaN(n.n))n.n=n.i=n.b=0;return n};K.Gp.adl=function(j,n,Q){var a=new Uint32Array(n),B=new Uint8Array(a.buffer);
a.fill(4278190080);var m=[],R=[],q=j.RndS.v,U=j.Smth.v/4096;for(var v=0;v<4;v++){m[v]=~~(j.Mnm.v[v].v*255/100);
R[v]=~~(j.Mxm.v[v].v*255/100)}var l=K.U(n*4),b=K.U(n);for(var D=0;D<3;D++){K.t.a6Z(null,n,1,l,[1+Math.round(U*U*U*60),22,q*(2+D)]);
K._W(l,b,0);K.wj(b,B,D);var c=m[D],_=R[D];for(var v=0;v<n;v++)B[4*v+D]=Math.max(c,Math.min(_,B[4*v+D]))}if(Q)for(var v=0;
v<n/2;v++){var p=a[v];a[v]=a[n-1-v];a[n-1-v]=p}return new Uint8Array(a.buffer)};K.Gp.Db=function(j){return{classID:"RGBC",Rd:{t:"doub",v:j.n},Grn:{t:"doub",v:j.i},Bl:{t:"doub",v:j.b}}};
K.Gp.aeV=function(j,n,Q,a){var B=[],m=1/(Q-0);for(var v=0;v<Q;v++){var R=v*4,q=K.Gp.zX(j,n,(a?Q-1-v:v)*m);
B[R]=q[0];B[R+1]=q[1];B[R+2]=q[2];B[R+3]=q[3]}return B};K.Gp.a06=function(j,n,Q,a){var B=new Uint32Array(Q),m=1/(Q-0);
for(var v=0;v<Q;v++)B[v]=K.Gp.hG(j,n,(a?Q-1-v:v)*m);return new Uint8Array(B.buffer)};K.Gp.zX=function(j,n,Q){var a=j.Intr.v*(1/4096),B=n[0],m=n[1],R=B.length-1,q=m.length-1,v=-1,U=0,l=0,b=0,D=0;
if(n[2])U=255;else{while(v<q&&m[v+1][1]<=Q)v++;if(v==-1){U=m[0][0]}else if(v==q){U=m[v][0]}else{var c=K.Gp.avC(m,v,Q,a);
U=c*m[v][0]+(1-c)*m[v+1][0]}}v=-1;while(v<R&&B[v+1][1]<=Q)v++;if(v==-1){var _=B[0][0];l=_.n;b=_.i;D=_.b}else if(v==R){var _=B[v][0];
l=_.n;b=_.i;D=_.b}else{var p=B[v][0],X=B[v+1][0],g=K.Gp.avC(B,v,Q,a);l=Math.min(255,g*p.n+(1-g)*X.n);
b=Math.min(255,g*p.i+(1-g)*X.i);D=Math.min(255,g*p.b+(1-g)*X.b)}return[l,b,D,U]};K.Gp.hG=function(j,n,Q){var a=K.Gp.zX(j,n,Q),B=~~(.5+a[0]),m=~~(.5+a[1]),R=~~(.5+a[2]),q=~~(.5+a[3]);
return q<<24|R<<16|m<<8|B};K.Gp.avC=function(j,v,n,Q){if(j.length==2)Q*=.5;var a=j[v][1],B=j[v+1][1],m=a+j[v+1][2]*(B-a),R;
if(n<m)R=.5*(n-a)/(m-a);else R=.5+.5*(n-m)/(B-m);R=.5+.5*(Q*Math.cos(Math.PI*R)+(1-Q)*(1-2*R));return R};
K.Gp.acT=function(j,n,Q){var a=.5*Q._,B=a*(j/n),m=Math.sqrt(a*a+B*B),R=.5*Q.q,q=R*(n/j),U=Math.sqrt(R*R+q*q);
return Math.min(m,U)};K.Gp.aD_=function(j,n){var Q=Math.PI*j.Angl.v.val/180,a=j.Scl.v.val/100,B=j.Ofst.v,m=B.Hrzn.v.val/100,R=B.Vrtc.v.val/100,q=Math.cos(Q),U=-Math.sin(Q),l=K.Gp.acT(q,U,n),b=l*a,D=n.x+n.q/2+m*n.q,c=n.y+n._/2+R*n._;
return[new eE(D,c),new eE(D+q*b,c+U*b)]};K.Gp.$z=function(j,n,Q,a){var B=n.x-j.x,m=-(n.y-j.y),R=Math.sqrt(B*B+m*m),q=Math.atan2(m,B),U=Math.cos(q),l=-Math.sin(q),b=K.Gp.acT(U,l,Q),D=R/b,c=(j.x-Q.x-Q.q/2)/Q.q,_=(j.y-Q.y-Q._/2)/Q._;
a.Angl.v.val=180*q/Math.PI;a.Scl.v.val=D*100;var p=a.Ofst.v;p.Hrzn.v.val=c*100;p.Vrtc.v.val=_*100};K.Gp.wM=function(j,n){for(var v=0;
v<j.length;v++){var Q=j[v],a=Math.round(Q[0]*4096),B=Q[1],m=Q[2],R=j[Math.max(0,v-1)][3];if(m==null)m=1;
if(R==null)R=.5;var q=K.Gp.Db({n:B[0]*255,i:B[1]*255,b:B[2]*255});n.Clrs.v[v]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:a},Mdpn:{t:"long",v:Math.round(R*100)},Clr:{t:"Objc",v:q},Type:{t:"enum",v:{Clry:"UsrS"}}}};
n.Trns.v[v]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:a},Mdpn:{t:"long",v:Math.round(R*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(m*100)}}}}}};
K.Gp.amW=function(j,n,Q){if(n){j=K.u(j);for(var v=0;v<2;v++){var a=j[v==0?"Clrs":"Trns"].v;for(var B=0;
B<a.length;B++)a[B].v.Lctn.v=4096-a[B].v.Lctn.v;a.reverse()}}var m=[],R=1/255,q=j.Clrs.v,U=j.Trns.v,a=q;
if(fL==0||q.length!=U.length){if(fL!=0)console.log("strange gradient");if(Q!=!0)a=q.concat(U);var l=K.Gp.GR(j,0,0);
for(var v=0;v<a.length;v++){var b=a[v].v,D=b.Lctn.v/4096,c=K.Gp.zX(j,l,D);m.push([D,[c[0]*R,c[1]*R,c[2]*R],c[3]*R,b.Mdpn.v/100])}m.sort(function(p,X){return p[0]-X[0]});
for(var v=1;v<m.length;v++)if(m[v][0]-m[v-1][0]<.001){m.splice(v,1);v--}}else{for(var v=0;v<a.length;
v++){var b=q[v].v,_=b.Clr.v,D=b.Lctn.v/4096;m.push([D,[_.Rd.v*R,_.Grn.v*R,_.Bl.v*R],U[v].v.Opct.v.val/100,q[Math.min(v+1,q.length-1)].v.Mdpn.v/100])}}return m};
K.Gp.AQ=function(j,n){function Q(j,R){j.addColorStop(R[0],CSS.aaM(R[1],R[2]))}function a(R,q,U,l){var b=Math.log(.5)/Math.log(l),D=Math.log(.5)/Math.log(1-l),c=l>.5?Math.pow(U,b):1-Math.pow(1-U,D),_=1-c,p=R[0],X=R[1],g=q[1],F=[p+(q[0]-p)*U,[X[0]*_+g[0]*c,X[1]*_+g[1]*c,X[2]*_+g[2]*c],R[2]*_+q[2]*c];
return F}Q(j,n[0]);for(var v=1;v<n.length;v++){var B=n[v-1][3];if(B!=.5)for(var m=1;m<20;m++)Q(j,a(n[v-1],n[v],m/20,B));
Q(j,n[v])}};K.af$={};K.af$.Yk=function(j,n,Q,a,B,m,R,q,U,l,b,D){var c,_,p,X=Date.now(),g=!1,F=R,k=l,I,e,H,A,Z=m*255,J=255-U*255,s=1+B*6,E=1+q*6,z=1+D*4,h=(z-1)/7,d=0,Y=255-0,C,i,M,W,$,P,O,G,t,y,r,u,S,w=0,dj=1,o,T,i6,bH,cg,bu,hH,dK,d8,d1,gH=1+b,kh,ay=K.U(Q*a),dO=K.U(Q*a),fy=K.U(Q*a),bg=K.U(Q*a),f4=255/Z,jb=255/(255-J);
for(_=0;_<a;_++){for(c=0;c<Q;c++){var v=_*Q+c,jT=v<<2;o=K.bC(j[jT],j[jT+1],j[jT+2]);bg[v]=o;if(o<Z)ay[v]=255-o*f4;
if(o>J)dO[v]=255-(255-o)*jb}}if(g)console.log("init",Date.now()-X);X=Date.now();if(B*F>0){fy.set(ay);
K.KX.pI(fy,ay,new b4(0,0,Q,a),F)}if(q*k>0){fy.set(dO);K.KX.pI(fy,dO,new b4(0,0,Q,a),k)}if(g)console.log("blur",Date.now()-X);
X=Date.now();var jy=K.U(256),cl=K.U(256);for(var v=0;v<256;v++){var hu=v*(1/255),aA=0;aA=(1-Math.pow(1-hu,s))*255;
jy[v]=Math.max(0,Math.min(255,~~(aA+.5)));aA=Math.pow(hu,E)*255;cl[v]=Math.max(0,Math.min(255,~~(aA+.5)))}var ko=new Uint8ClampedArray(n.buffer),ec=new Float32Array(32768);
for(var v=0;v<32768;v++){kh=Math.sqrt(v)*(1/128);if(gH>1)kh=(1-kh)*(gH-1)+1;else kh=kh*(gH-1)+1;ec[v]=kh}for(_=0;
_<a;_++){for(c=0;c<Q;c++){var v=_*Q+c,jT=v<<2,aA=bg[v],kK=ay[v]*(1/255),cM=dO[v]*(1/255);aA=(1-kK)*aA+kK*jy[~~aA];
aA=(1-cM)*aA+cM*cl[~~aA];o=aA;var gG=j[jT],c2=j[jT+1],a1=j[jT+2];T=-gG*.168736-c2*.331264+a1*.5;i6=gG*.5-c2*.418688-a1*.081312;
kh=ec[~~(.5+T*T+i6*i6)];bH=T*kh;bu=i6*kh;dj=1-Math.min(2-(kK+cM),1);T=dj*T+(1-dj)*bH;i6=dj*i6+(1-dj)*bu;
dK=o+1.402*i6;d8=o-.34414*T-.71414*i6;d1=o+1.772*T;ko[jT]=~~(.5+dK);ko[jT+1]=~~(.5+d8);ko[jT+2]=~~(.5+d1)}}if(g)console.log("apply masks",Date.now()-X);
X=Date.now()};K.nC={};K.nC.Lr=function(j,n,Q,a,B){var m=Date.now(),R=!1,X=1,Y=0,t=0;if(!n.BJ(B)){var q=n.d_(B),U=K.U(q.$()*4);
K.EC(j,n,U,q);j=U;n=q}var l=K.U(n.$());K.Gc(Q,B,l,n);K.round(l);B=B.uf(n);var b=B.q,D=B._,c=b*3<D?2:1,_=D*3<b?2:1;
if(B.$()*(c*2+1)*(_*2+1)<n.$()){var q=new b4(B.x-b*c,B.y-D*c,b*(c*2+1),D*(_*2+1)).uf(n),U=K.U(q.$()*4);
K.EC(j,n,U,q);var p=K.U(q.$());K.Gc(l,n,p,q);n=q;j=U;l=p}while((n.q+n._)/2/X>400)X++;var g=j,F=n,k=l,I=Math.floor(F.q/X),e=Math.floor(F._/X);
j=K.U(I*e*4);K.scale.J4(g,F.q,F._,j,I,e,1/X);l=K.U(I*e);K.scale.vH(k,F.q,F._,l,I,e,1/X);K.round(l,1);
if(R)console.log("scale down:",X,I,e);var H=K.eW(l,new b4(0,0,I,e));if(H.ke())return 1;var A=Math.round((H.q+H._)/2/15);
if(R)console.log(Date.now()-m,"preprocess");m=Date.now();var Z=K.U(I*e*4);K.aqL(j,Z);var J=Int16Array,s=new J(I*e*24),E=new J(64),z=new J(64),h=new J(64),d=new J(64);
for(var C=3;C<e-4;C++)for(var i=3;i<I-4;i++){var M=C*I+i;if(l[M]==255)continue;if(K.nC.a9z(Z,l,i,C,I,e,E,z,h)!=0)continue;
K.nC.dG(E,d);var W=Y*24;s[W]=i;s[W+1]=C;K.nC.D1(E,s,W+4,12);K.nC.dG(z,d);K.nC.D1(z,s,W+16,4);K.nC.dG(h,d);
K.nC.D1(h,s,W+20,4);var $=s[W+5],P=s[W+6];s[W+5]=s[W+16];s[W+6]=s[W+20];s[W+16]=$;s[W+20]=P;Y++}if(Y==0)return 2;
if(R)console.log(Date.now()-m,"FWHT computed");m=Date.now();var O=[];K.nC.sd(0,Y-1,O,s,new J(2*24));
if(R)console.log(Date.now()-m,"KD tree computed");m=Date.now();var G=new Uint32Array(I*e*4);for(var v=0;
v<Y;v++){var y=v,r=K.nC.axp(y,s,O,A);if(r==-1)continue;var u=y*24,S=r*24,w=s[u],dj=s[u+1],o=s[S],T=s[S+1];
t+=K.nC.getError(S,u,s,1e99);var i6=o-w,bH=T-dj;G[(e+bH)*2*I+(I+i6)]+=1}if(R)console.log(Date.now()-m,"NN found");
m=Date.now();var cg=[],bu=1/(2*I);for(var v=0;v<G.length;v++){if(G[v]>0){var C=Math.floor(v*bu),i=v-C*2*I;
cg.push({x:i-I,y:C-e,J:G[v],zs:-1})}}cg.sort(function(ko,ec){return ec.J-ko.J});var hH=new Int32Array(I*e),dK=[];
for(var v=0;v<I*e;v++){if(l[v]==255){hH[v]=dK.length>>>1;dK.push(v%I,Math.floor(v/I))}else if(j[(v<<2)+3]<200){hH[v]=-2}else{hH[v]=-1}}var d8=K.nC.asT(I,e,cg,hH,dK);
if(d8==null){if(R)console.log("no appropriate labeling");return 3}var d1=d8.IW,top=d8.top;d1=K.nC.a8I(d1,j,I,e,top,hH,dK);
if(R)console.log(Date.now()-m,"optimal labeling found");m=Date.now();var q=B.O();q.VT(1,1);q=q.uf(F);
var gH=K.U(q.$()*4),kh=K.U(q.$());K.EC(g,F,gH,q);var ay=F.q,dO=F._;for(var C=0;C<dO;C++)for(var i=0;
i<ay;i++){if(k[C*ay+i]==0)continue;var fy=Math.min(Math.floor(i/X),I-1),bg=Math.min(Math.floor(C/X),e-1),f4=hH[bg*I+fy];
if(f4==-1)continue;var jb=d1[f4],jT=top[jb],jy=i+jT.x*X,cl=C+jT.y*X,hu=cl*ay+jy<<2,aA=(C-q.y+F.y)*q.q+(i-q.x+F.x)<<2;
gH[aA]=g[hu];gH[aA+1]=g[hu+1];gH[aA+2]=g[hu+2];gH[aA+3]=g[hu+3];gH[aA+3]=g[hu+3];kh[aA>>2]=jb+1}if(R)console.log(Date.now()-m,"copied back");
m=Date.now();K.kF.Lr(gH,kh,q,null,1e3);if(R)console.log(Date.now()-m,"poisson smooth");m=Date.now();
K.EC(gH,q,a,B);return 0};K.nC.aa2=function(j,n,Q,a,B,m){return K.nC.r1(j+B.x,n+B.y,Q,a,m)?0:1e9};K.nC.a8I=function(j,n,Q,a,top,B,m){var R=Date.now(),q=m.length>>>1,U=[-1,0,0,-1,1,0,0,1],l=1e99,b=[],D=[],c=2*(q*2*3+q*2),_=null,p=0,X=0,g=0,F=1e99;
while(!0&&Date.now()<R+12e3){g++;var k=null,I=l;for(var e=0;e<top.length;e++){var H=top[e],A=0,Z=q+2,J=0;
for(var v=0;v<q;v++){var s=m[v*2],E=m[v*2+1],z=top[j[v]],h=K.nC.aa2(s,E,Q,a,H,B),d=j[v]==e?1e9:K.nC.aa2(s,E,Q,a,z,B);
for(var dv=0;dv<4;dv++){if(dv==0&&s==0||dv==1&&E==0||dv==2&&s==Q-1||dv==3&&E==a-1)continue;var Y=U[2*dv],C=U[2*dv+1],i=s+Y,M=E+C,W=B[M*Q+i];
if(W==-2){}else if(W==-1){h+=3*K.nC.j1(i+H.x,M+H.y,i,M,Q,a,n,B);h+=2*K.nC.j1(i+H.x+Y,M+H.y+C,i+Y,M+C,Q,a,n,B);
d+=3*K.nC.j1(i+z.x,M+z.y,i,M,Q,a,n,B);d+=2*K.nC.j1(i+z.x+Y,M+z.y+C,i+Y,M+C,Q,a,n,B)}else if(dv>1){if(j[v]==j[W]){var $=0;
$+=K.nC.j1(s+z.x,E+z.y,s+H.x,E+H.y,Q,a,n,B);$+=K.nC.j1(i+z.x,M+z.y,i+H.x,M+H.y,Q,a,n,B);b[A]=v;b[A+1]=W;
D[A]=$;D[A+1]=$;A+=2}else{var P=top[j[W]],O=Z,G=0,t=0,y=0;Z++;G+=K.nC.j1(s+z.x,E+z.y,s+H.x,E+H.y,Q,a,n,B);
G+=K.nC.j1(i+z.x,M+z.y,i+H.x,M+H.y,Q,a,n,B);t+=K.nC.j1(s+P.x,E+P.y,s+H.x,E+H.y,Q,a,n,B);t+=K.nC.j1(i+P.x,M+P.y,i+H.x,M+H.y,Q,a,n,B);
y+=K.nC.j1(s+P.x,E+P.y,s+z.x,E+z.y,Q,a,n,B);y+=K.nC.j1(i+P.x,M+P.y,i+z.x,M+z.y,Q,a,n,B);b[A]=v;b[A+1]=O;
D[A]=G;D[A+1]=G;A+=2;b[A]=W;b[A+1]=O;D[A]=t;D[A+1]=t;A+=2;b[A]=O;b[A+1]=q+1;D[A]=y;D[A+1]=0;A+=2}}}b[A]=q;
b[A+1]=v;D[A]=h;D[A+1]=0;A+=2;b[A]=v;b[A+1]=q+1;D[A]=d;D[A+1]=0;A+=2;J+=Math.min(h,d)}if(J>I)continue;
var r=K.L4.f1(Z,A,q,q+1,b,D,I);if(r.gf<I){I=r.gf;var u=j.slice(0);K.nC.aCO(u,A,b,r.Ii,e,q);k=u}}if(I*1>=l){break}l=I;
j=k;if((g&3)==0){if(I*1.03>=F)break;F=I}if((g&3)==0){var S=0*top.length;for(var v=0;v<top.length&&top.length>S;
v++){if(j.indexOf(v)!=-1)continue;top.splice(v,1);for(var W=0;W<j.length;W++)if(j[W]>v)j[W]--;v--}}}return j};
K.nC.aCO=function(j,n,Q,a,B,m){for(var v=0;v<a.length;v++){var R=a[v]<<1,q=0,U=0;if(R<n){q=Q[R];U=Q[R+1]}else{U=Q[R];
q=Q[R+1]}if(q==m&&j[U]!=B)j[U]=B}};K.nC.azz=function(top,j,n,Q,a,B,m,R,q){for(var v=0;v<n.length;v++){var U=n[v],l=!0;
if(R!=null&&!K.nC.r1(R+U.x,q+U.y,B,m,Q))continue;if(U.zs==-1)U.zs=K.nC.a8x(U,Q,a,B,m);if(U.zs<=0)continue;
for(var b=0;b<top.length;b++){var D=top[b],c=U.x-D.x,_=U.y-D.y;if(c*c+_*_<j){l=!1;break}}if(l)return U}return null};
K.nC.a8x=function(j,n,Q,a,B){var m=0;for(var v=0;v<Q.length;v+=2){var R=Q[v]+j.x,q=Q[v+1]+j.y;if(K.nC.r1(R,q,a,B,n))m++}return m/(Q.length>>1)};
K.nC.asT=function(j,n,Q,a,B){var m=B.length>>>1,top=[];for(var v=0;v<60;v++){var R=K.nC.azz(top,25,Q,a,B,j,n);
if(R==null)break;else top.push(R)}if(top.length==0)return null;var q=[];for(var v=0;v<m;v++){var U=B[v*2],l=B[v*2+1],b=-1,D=0;
while(!0){D++;var c=Math.random();b=Math.floor(c*.99999*top.length);var _=top[b],p=U+_.x,X=l+_.y;if(K.nC.r1(p,X,j,n,a))break;
if(D>1e3){var R;R=K.nC.azz(top,0,Q,a,B,j,n,U,l);if(R==null)for(var g=0;g<4;g++){var F,k,I=0;while(!0){F=~~(Math.random()*j);
k=~~(Math.random()*n);if(K.nC.r1(F,k,j,n,a))break;I++;if(I>500)throw"e"}R={x:F-U,y:k-l,J:1,zs:-1};Q.push(R);
top.push(R)}else top.push(R);D=0}}q.push(b)}return{top:top,IW:q}};K.nC.j1=function(j,n,Q,a,B,m,R,q){if(j==Q&&n==a)return 0;
if(j<0||n<0||j>=B||n>=m||Q<0||a<0||Q>=B||a>=m||q[n*B+j]!=-1||q[a*B+Q]!=-1)return 1e7;var U=n*B+j<<2,l=a*B+Q<<2,b=R[U]-R[l],D=R[U+1]-R[l+1],c=R[U+2]-R[l+2];
return 1+(b*b+D*D+c*c)};K.nC.r1=function(j,n,Q,a,B){return j>=0&&j<Q&&n>=0&&n<a&&B[n*Q+j]==-1};K.nC.axp=function(j,n,Q,a){var B=24*j,m=n[B],R=n[B+1],q=a*a,U=0,c=1e9;
while(Q[U]!=99)if(n[B+Q[U]]<Q[U+1])U=Q[U+2];else U=Q[U+3];var l=Q[U+1],b=Q[U+2],D=-1;for(var v=l;v<=b;
v++){var U=v,_=U*24,p=n[_],X=n[_+1];if((p-m)*(p-m)+(X-R)*(X-R)<q)continue;var g=K.nC.getError(_,B,n,c);
if(g<c){c=g;D=U}}return D};K.nC.getError=function(j,n,Q,a){var B=0;for(var m=4;m<24;m+=4){var R=Q[n+m]-Q[j+m],q=Q[n+m+1]-Q[j+m+1],U=Q[n+m+2]-Q[j+m+2],l=Q[n+m+3]-Q[j+m+3];
B+=R*R+q*q+U*U+l*l;if(B>=a)return B+1}return B};K.nC.sd=function(j,n,Q,a,B){var m=16,c=0;if(n-j<=m){Q.push(99,j,n);
return}K.nC.Tv(j,n,a,B);var R=-1,q=-1;for(var v=4;v<24;v++){var U=B[2*v+1]-B[2*v];if(U>q){q=U;R=v}}var l=j+n>>1,b=K.nC.aBJ(l,j,n,a,R),D=-1;
for(var v=j;v<=n;v++)if(a[24*v+R]==b){if(D==-1)D=v;c=v}if(j+8<D&&D-j>n-c)l=D;else if(c+1<n-8)l=c+1;else if(n-j<64){Q.push(99,j,n);
return}else l=l;var _=Q.length;Q.push(R,b,0,0);Q[_+2]=_+4;K.nC.sd(j,l-1,Q,a,B);Q[_+3]=Q.length;K.nC.sd(l,n,Q,a,B)};
K.nC.Tv=function(j,n,Q,a){for(var v=0;v<48;v+=4){a[v]=3e4;a[v+1]=-3e4;a[v+2]=3e4;a[v+3]=-3e4}for(var v=j;
v<=n;v++){var B=v*24;for(var m=0;m<24;m++){var R=Q[B+m],q=a[m<<1],U=a[(m<<1)+1];if(R<q)a[m<<1]=R;if(R>U)a[(m<<1)+1]=R}}};
K.nC.fr=function(j,n,Q){var a=0,v=0;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;
v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;
v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;
v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;
v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;
v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;
v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;
v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;
v++;a=Q[j+v];Q[j+v]=Q[n+v];Q[n+v]=a;v++};K.nC.HO=function(j,n,Q,a){var B=Q+a>>>1,m=j[24*B+n];while(Q<=a){while(j[24*Q+n]<m)Q++;
while(j[24*a+n]>m)a--;if(Q<=a){if(j[24*Q+n]!=j[24*a+n])K.nC.fr(Q*24,a*24,j);Q++;a--}}return Q};K.nC.aBJ=function(j,n,Q,a,B){var m=0;
while(n!=Q){m=K.nC.HO(a,B,n,Q);if(j<m)Q=m-1;else n=m}return a[j*24+B]};K.nC.D1=function(j,n,Q,a){for(var v=0;
v<a;v++)n[Q+v]=j[v]};K.nC.a9z=function(j,n,Q,a,B,m,R,q,U){var l=(a-3)*B+(Q-3),b=l<<2;for(var D=0;D<8;
D++){if(n[l]+n[l+1]+n[l+2]+n[l+3]+n[l+4]+n[l+5]+n[l+6]+n[l+7]!=0||j[b+3]<200||j[b+7]<200||j[b+11]<200||j[b+15]<200||j[b+19]<200||j[b+23]<200||j[b+27]<200||j[b+31]<200)return 1;
var v=D<<3;R[v+0]=j[b+0];q[v+0]=j[b+1];U[v+0]=j[b+2];R[v+1]=j[b+4];q[v+1]=j[b+5];U[v+1]=j[b+6];R[v+2]=j[b+8];
q[v+2]=j[b+9];U[v+2]=j[b+10];R[v+3]=j[b+12];q[v+3]=j[b+13];U[v+3]=j[b+14];R[v+4]=j[b+16];q[v+4]=j[b+17];
U[v+4]=j[b+18];R[v+5]=j[b+20];q[v+5]=j[b+21];U[v+5]=j[b+22];R[v+6]=j[b+24];q[v+6]=j[b+25];U[v+6]=j[b+26];
R[v+7]=j[b+28];q[v+7]=j[b+29];U[v+7]=j[b+30];b+=B<<2;l+=B}return 0};K.nC.dG=function(j,n){n[0]=j[32]+j[0];
n[1]=j[33]+j[1];n[2]=j[34]+j[2];n[3]=j[35]+j[3];n[4]=j[36]+j[4];n[5]=j[37]+j[5];n[6]=j[38]+j[6];n[7]=j[39]+j[7];
n[8]=j[40]+j[8];n[9]=j[41]+j[9];n[10]=j[42]+j[10];n[11]=j[43]+j[11];n[12]=j[44]+j[12];n[13]=j[45]+j[13];
n[14]=j[46]+j[14];n[15]=j[47]+j[15];n[16]=j[48]+j[16];n[17]=j[49]+j[17];n[18]=j[50]+j[18];n[19]=j[51]+j[19];
n[20]=j[52]+j[20];n[21]=j[53]+j[21];n[22]=j[54]+j[22];n[23]=j[55]+j[23];n[24]=j[56]+j[24];n[25]=j[57]+j[25];
n[26]=j[58]+j[26];n[27]=j[59]+j[27];n[28]=j[60]+j[28];n[29]=j[61]+j[29];n[30]=j[62]+j[30];n[31]=j[63]+j[31];
n[32]=j[0]-j[32];n[33]=j[1]-j[33];n[34]=j[2]-j[34];n[35]=j[3]-j[35];n[36]=j[4]-j[36];n[37]=j[5]-j[37];
n[38]=j[6]-j[38];n[39]=j[7]-j[39];n[40]=j[8]-j[40];n[41]=j[9]-j[41];n[42]=j[10]-j[42];n[43]=j[11]-j[43];
n[44]=j[12]-j[44];n[45]=j[13]-j[45];n[46]=j[14]-j[46];n[47]=j[15]-j[47];n[48]=j[16]-j[48];n[49]=j[17]-j[49];
n[50]=j[18]-j[50];n[51]=j[19]-j[51];n[52]=j[20]-j[52];n[53]=j[21]-j[53];n[54]=j[22]-j[54];n[55]=j[23]-j[55];
n[56]=j[24]-j[56];n[57]=j[25]-j[57];n[58]=j[26]-j[58];n[59]=j[27]-j[59];n[60]=j[28]-j[60];n[61]=j[29]-j[61];
n[62]=j[30]-j[62];n[63]=j[31]-j[63];j[0]=n[16]+n[0];j[1]=n[17]+n[1];j[2]=n[18]+n[2];j[3]=n[19]+n[3];
j[4]=n[20]+n[4];j[5]=n[21]+n[5];j[6]=n[22]+n[6];j[7]=n[23]+n[7];j[8]=n[24]+n[8];j[9]=n[25]+n[9];j[10]=n[26]+n[10];
j[11]=n[27]+n[11];j[12]=n[28]+n[12];j[13]=n[29]+n[13];j[14]=n[30]+n[14];j[15]=n[31]+n[15];j[16]=n[0]-n[16];
j[17]=n[1]-n[17];j[18]=n[2]-n[18];j[19]=n[3]-n[19];j[20]=n[4]-n[20];j[21]=n[5]-n[21];j[22]=n[6]-n[22];
j[23]=n[7]-n[23];j[24]=n[8]-n[24];j[25]=n[9]-n[25];j[26]=n[10]-n[26];j[27]=n[11]-n[27];j[28]=n[12]-n[28];
j[29]=n[13]-n[29];j[30]=n[14]-n[30];j[31]=n[15]-n[31];n[0]=j[8]+j[0];n[1]=j[9]+j[1];n[2]=j[10]+j[2];
n[3]=j[11]+j[3];n[4]=j[12]+j[4];n[5]=j[13]+j[5];n[6]=j[14]+j[6];n[7]=j[15]+j[7];n[8]=j[0]-j[8];n[9]=j[1]-j[9];
n[10]=j[2]-j[10];n[11]=j[3]-j[11];n[12]=j[4]-j[12];n[13]=j[5]-j[13];n[14]=j[6]-j[14];n[15]=j[7]-j[15];
j[0]=n[4]+n[0];j[1]=n[5]+n[1];j[2]=n[6]+n[2];j[3]=n[7]+n[3];j[4]=n[0]-n[4];j[5]=n[1]-n[5];j[6]=n[2]-n[6];
j[7]=n[3]-n[7];j[8]=n[12]+n[8];j[9]=n[13]+n[9];j[10]=n[14]+n[10];j[11]=n[15]+n[11];j[12]=n[8]-n[12];
j[13]=n[9]-n[13];j[14]=n[10]-n[14];j[15]=n[11]-n[15];n[0]=j[2]+j[0];n[1]=j[3]+j[1];n[2]=j[0]-j[2];n[3]=j[1]-j[3];
n[4]=j[6]+j[4];n[5]=j[7]+j[5];n[6]=j[4]-j[6];n[7]=j[5]-j[7];n[8]=j[10]+j[8];n[9]=j[11]+j[9];n[10]=j[8]-j[10];
n[11]=j[9]-j[11];n[12]=j[14]+j[12];n[13]=j[15]+j[13];n[14]=j[12]-j[14];n[15]=j[13]-j[15];j[0]=n[1]+n[0];
j[1]=n[0]-n[1];j[2]=n[3]+n[2];j[3]=n[2]-n[3];j[4]=n[5]+n[4];j[5]=n[4]-n[5];j[6]=n[7]+n[6];j[7]=n[6]-n[7];
j[8]=n[9]+n[8];j[9]=n[8]-n[9];j[10]=n[11]+n[10];j[11]=n[10]-n[11];j[12]=n[13]+n[12];j[13]=n[12]-n[13];
j[14]=n[15]+n[14];j[15]=n[14]-n[15]};K.nC.aB1=function(){var j="",dv=64,n="v",Q="t",a="a",B=5,v,m,R;
for(v=dv>>1;v>0;v>>=1,B--){for(m=0;m<dv;m++){R=(m>>B&1)!=0;if(R){j+=Q+"["+m+"] = "+n+"["+(-v+m)+"] - "+n+"["+m+"];  "}else{j+=Q+"["+m+"] = "+n+"["+(v+m)+"] + "+n+"["+m+"];  "}}a=n;
n=Q;Q=a;j+="\n"}console.log(j)};K.nC.a1V=function(dv,j,n){var Q=j,a=n,B=Q,m=0,v,q,U;while(dv>>m!=2)m++;
var R=m;for(v=dv>>1;v>0;v>>=1,m--){for(q=0;q<dv;q++){U=(q>>m&1)!=0;if(U)a[q]=Q[-v+q]-Q[q];else a[q]=Q[v+q]+Q[q]}B=Q;
Q=a;a=B}if((R&1)==1)for(v=0;v<dv;v++)n[v]=Q[v]};K.x7={};K.x7.oz=function(j,n,Q,a,B,m,R,q,U){var l=Date.now(),b=new Uint32Array(j.buffer),D=new Uint32Array(n.buffer),c=R/Q,_=q/a,p=1/c,X=1/_,g=new Float64Array(2),F=3,k=1/F,I=1/(F*F),e=0,H=0,A=Q,Z=a;
if(B){e=B.x;H=B.y;A=B.q;Z=B._}for(var J=0;J<Z;J++)for(var s=0;s<A;s++){var E=e+s,z=H+J,v=z*Q+E,h=v<<1,d=v<<2;
K.x7.av1(m,R,q,(E+.5)*c,(z+.5)*_,g);var Y=g[0]*p,C=g[1]*X;if(Y==0&&C==0)D[v]=b[v];else{K.D.Fu(E+Y+.5,z+C+.5,b,Q,a,D,v,U)}}};
K.x7.av1=function(j,n,Q,a,B,m){a-=.499999;B-=.499999;var R=~~a,q=~~B,U=a-R,l=B-q,b=(1-l)*(1-U),D=(1-l)*U,c=l*(1-U),_=l*U,p=R<n-1?R+1:R,X=q<Q-1?q+1:q,g=q*n+R<<1,F=q*n+p<<1,k=X*n+R<<1,I=X*n+p<<1;
m[0]=b*j[g]+D*j[F]+c*j[k]+_*j[I];m[1]=b*j[g+1]+D*j[F+1]+c*j[k+1]+_*j[I+1]};K.x7.abX=function(j,n,Q,a,B){var m=1/j,R=[-1,1,-j,j],q=a.length;
for(var U=0;U<q;U++){var v=a[U],l=v<<1,b=U<<1,D=~~(v*m),c=v-j*D,_=Q[l],p=Q[l+1],X=0,g=0;if(c!=0&&c!=j-1){var F=v-1<<1,k=v+1<<1,I=Q[F],e=Q[k],H=Q[F+1],A=Q[k+1],Z=_-(I+e)*.5,J=p-(H+A)*.5;
X-=Z*B;g-=J*B}if(D!=0&&D!=n-1){var F=v-j<<1,k=v+j<<1,I=Q[F],e=Q[k],H=Q[F+1],A=Q[k+1],Z=_-(I+e)*.5,J=p-(H+A)*.5;
X-=Z*B;g-=J*B}Q[l]=_+X;Q[l+1]=p+g}};K.x7.aEu=function(j,n){var Q=j+","+n;if(K.x7.a0N==Q)return K.x7.aa4;
var a=K.x7.aa4=[];K.x7.a0N=Q;for(var v=0;v<=1e3;v++){var B=v*.001,m=Math.sqrt(B),R=Math.exp(-4*m),q=.96*(1-m*m),U=n*((1-j)*R+j*q);
a[v]=U}return a};K.x7.a0N="";K.x7.aa4=[];K.x7.axH=function(j,n,Q,a,B,m,R,q,U,l,b,D,c){var _=Math.max(0,Math.floor(B-R-1)),p=Math.min(n,Math.ceil(B+R+1)),X=Math.max(0,Math.floor(m-R-1)),g=Math.min(Q,Math.ceil(m+R+1)),F=2*n,k=R*R,I=1/R,e=0;
if(c&&(a==3||a==6))U=-U;var H=K.x7.aEu(q,U);for(var A=X;A<g;A++)for(var Z=_;Z<p;Z++){var v=A*n+Z,J=v<<1,s=(B-Z)*I,E=(m-A)*I,z=s*s+E*E;
if(z<1){D[e]=v;var h=H[~~(z*1e3)];if(a==1){j[J]=j[J]*(1-h*.05);j[J+1]=j[J+1]*(1-h*.05)}else{var d=0,Y=0,M,W,$,P;
if(a==0){d=l*h;Y=b*h}else if(a==2){}else if(a==3){d=h*E;Y=-h*s}else if(a==4){d=h*s;Y=h*E}else if(a==5){d=-h*s;
Y=-h*E}else if(a==6){d=b*h;Y=-l*h}var C=j[J],i=j[J+1];if(Z==0||Z!=n-1&&d<0){M=1+j[J+2]-C;$=j[J+3]-i}else{M=C-j[J-2]+1;
$=i-j[J-1]}if(A==0||A!=Q-1&&Y<0){W=j[J+F]-C;P=1+j[J+F+1]-i}else{W=C-j[J-F];P=i-j[J-F+1]+1}j[J]=-(M*d+W*Y-C);
j[J+1]=-($*d+P*Y-i)}e++}}};K.x7.a3l=function(j){var n=j[0],Q=j[0],a=j[1],B=j[1];for(var v=0;v<j.length;
v+=2){var m=j[v],R=j[v+1];if(m<n)n=m;else if(m>Q)Q=m;if(R<a)a=R;else if(R>B)B=R}return[n,a,Q,B]};K.ara=function(j,n,Q,a,B){function m(o,T,i6,bH){return Math.sqrt((o-i6)*(o-i6)+(T-bH)*(T-bH))}function R(o,T){return o>=0&&o<n&&T>=0&&T<Q}function q(o){if(o<0)return 0;
if(o>=n)return n-1;return o}function U(o){if(o<0)return 0;if(o>=Q)return Q-1;return o}function l(v,o){var T=o[3]*(1/255),i6=a[v]+o[0]*T;
if(i6>255)i6=255;a[v]=i6;i6=a[v+1]+o[1]*T;if(i6>255)i6=255;a[v+1]=i6;i6=a[v+2]+o[2]*T;if(i6>255)i6=255;
a[v+2]=i6}function b(o,T,i6){if(!O(o,T))return;if(i6[3]<0)i6[3]=0;l((T*n+o)*4,i6)}function D(o){var T=o.slice(0,3);
T[3]=0;return T}var c=n/800;function _(o){return Math.round(o*c)}function p(){for(var v=0;v<=300;v++){t[v]=X(v)}}function X(Q){var o=.8,T=.2,i6=o*T,bH=Q/60%2-1,cg=i6*(1-bH*bH),bu=T-i6,hH;
if(Q<60){hH=[i6+bu,cg,0]}else if(Q<120){hH=[cg,i6,0]}else if(Q<180){hH=[0,i6,cg]}else if(Q<240){hH=[0,cg,i6]}else if(Q<300){hH=[cg,0,i6]}else{hH=[i6,0,cg]}return[(hH[0]+bu)*255,(hH[1]+bu)*255,(hH[2]+bu)*255]}function g(Q){return t[~~Q]}function F(o){return 1-k(o)}function k(o){return o-~~o}function I(o,T,i6,bH){$(o,T,i6,0,T+1,1,bH)}function e(o,T,i6,bH,cg,bu){$(o,T,i6,0,bH,1,cg,bu)}function H(o){for(var v=0;
v<a.length;v+=4){l(v,o)}}function A(o,T,i6,bH,cg,bu,hH,dK){Z(o,T,i6,bH,cg,1,bu,hH,dK)}function Z(o,T,i6,bH,cg,bu,hH,dK,d8){if(bu==null)bu=.5;
if(hH==null)hH=0;if(dK==null)dK=0;if(d8==null)d8=!1;var d1=o.x,gH=o.y,kh=i6.slice(0),ay=~~(i6[3]*r);
bH=bH*r;if(!d8){T=P(T);cg=P(cg);hH=P(hH);dK=P(dK)}var dO=q(d1-T),fy=q(d1+T);for(var bg=dO;bg<=fy;bg++){var f4=bg-d1,jb=Math.floor(Math.sqrt(T*T-f4*f4)),jT=U(gH-jb),jy=U(gH);
for(var cl=jT;cl<=jy;cl++){var hu=m(bg,cl,d1,gH);if(hu>T||hu<=T-cg)break;var aA=(hu-T+cg)/cg;kh[3]=ay-bH*(bu==1?aA:Math.pow(aA,bu));
l((cl*n+bg)*4,kh)}jT=U(gH+jb);for(var cl=jT;cl>jy;cl--){var hu=m(bg,cl,d1,gH);if(hu>T||hu<=T-cg)break;
var aA=(hu-T+cg)/cg;kh[3]=ay-bH*(bu==1?aA:Math.pow(aA,bu));l((cl*n+bg)*4,kh)}}if(hH>0){$(o,T+hH,kh,kh[3],hH,1,0,0,!0)}if(dK>0){$(o,T-cg,G(i6),-i6[3],dK,1,0,0,!0)}}function J(o,T,i6,bH,cg,bu){$(o,T,i6,i6[3],T+1,1,bH,cg,bu)}function s(o,T,i6,bH,cg){if(cg==null)cg=!1;
var bu=o.x,hH=o.y;bH*=r;if(!cg){T=P(T);i6=P(i6)}var dK=q(bu-T),d8=q(bu+T);for(var d1=dK;d1<d8;d1++){var gH=d1-bu,kh=~~Math.sqrt(T*T-gH*gH),ay=U(hH-kh),dO=U(hH);
for(var fy=ay;fy<=dO;fy++){var bg=m(d1,fy,bu,hH);if(bg>T||bg<=T-i6)break;var f4=(T-bg)/i6,jb=g(300*f4);
jb[3]=bH;l((fy*n+d1)*4,jb)}ay=U(hH+kh);for(var fy=ay;fy>dO;fy--){var bg=m(d1,fy,bu,hH);if(bg>T||bg<=T-i6)break;
var f4=(T-bg)/i6,jb=g(300*f4);jb[3]=bH;l((fy*n+d1)*4,jb)}}}function E(y,o){var T=y.$M,i6=y.iC,bH=o.slice(0),cg=o[3]*r,bu=Math.abs(i6.y-T.y)>Math.abs(i6.x-T.x);
if(bu){var hH=T.x;T.x=T.y;T.y=hH;hH=i6.x;i6.x=i6.y;i6.y=hH}if(T.x>i6.x){var hH=T;T=i6;i6=hH}var dK=i6.x-T.x,d8=i6.y-T.y,d1=dK==0?1:d8/dK,gH=Math.round(T.x),kh=T.y+d1*(gH-T.x),ay=F(T.x+.5),dO=gH,fy=~~kh;
if(bu){bH[3]=cg*F(kh)*ay;b(fy,dO,bH);bH[3]=cg*k(kh)*ay;b(fy+1,dO,bH)}else{bH[3]=cg*F(kh)*ay;b(dO,fy,bH);
bH[3]=cg*k(kh)*ay;b(dO,fy+1,bH)}var bg=kh-d1;gH=Math.round(i6.x);kh=i6.y+d1*(gH-i6.x);ay=k(i6.x+.5);
var f4=gH,jb=~~kh;if(bu){bH[3]=cg*F(kh)*ay;b(jb,f4,bH);bH[3]=cg*k(kh)*ay;b(jb+1,f4,bH)}else{bH[3]=cg*F(kh)*ay;
b(f4,jb,bH);bH[3]=cg*k(kh)*ay;b(f4,jb+1,bH)}if(bu){for(var jT=dO+1;jT<=f4-1;jT++){bH[3]=cg*F(bg);b(~~bg,jT,bH);
bH[3]=cg*k(bg);b(~~bg+1,jT,bH);bg+=d1}}else{for(var jT=dO+1;jT<=f4-1;jT++){bH[3]=cg*F(bg);b(jT,~~bg,bH);
bH[3]=cg*k(bg);b(jT,~~bg+1,bH);bg+=d1}}}function z(o,T,i6,bH){for(var v=0;v<4;v++){var cg=o.Z9(T+1.3*v,i6);
E(cg,bH,1)}}function eE(o,T){this.x=Math.round(o);this.y=Math.round(T)}var h=Math.PI/180;eE.prototype.Z9=function(o,T){o=o*h;
var i6=this.x+T*Math.cos(o),bH=this.y+T*Math.sin(o);return new d(this.x,this.y,i6,bH)};eE.prototype.aEr=function(o,T){o=o*h;
var i6=this.IQ+T*Math.cos(o),bH=this.Jb+T*Math.sin(o);return new eE(i6,bH)};function d(o,T,i6,bH){this.$M=new eE(o,T);
this.iC=new eE(i6,bH)}d.prototype.pH=function(o){var T=o*this.$M.x+(1-o)*this.iC.x,i6=o*this.$M.y+(1-o)*this.iC.y;
return new eE(T,i6)};var Y=A,C=J,i=I,M=e,W=s,$=Z,P=_,O=R,G=D,t=[];p();for(var v=0;v<j.length;v++){a[v]=j[v]}var y=new d(n*B[2],Q*B[3],n/2,Q/2),r=B[1],u=[];
u[0]=function S(){var o=[80,40,15,60],i6=0,bH=0;i(y.pH(1.4),260,o,10);i(y.pH(1),100,[240,50,50,30],30);
C(y.pH(1),60,[255,40,0,40]);var T=[255,255,255,255];$(y.pH(1),70,T,T[3],58,.5);i(y.pH(1),12,T);T[3]=40;
Y(y.pH(1),150,T,T[3],150);for(var v=0;v<40;v++){i6+=Math.random()*25;bH=Math.random()*P(300)+P(100);
var cg=y.pH(1).Z9(i6,bH);E(y.pH(1).Z9(i6,bH),[110,110,110,30])}C(y.pH(1),130,[255,255,255,8]);var bu=[170,30,23,70];
M(y.pH(1),70,bu,1,3,3);var hH=[60,60,130,40];i(y.pH(.47),44,hH,5);i(y.pH(.43),22,hH,3);hH[3]=16;i(y.pH(.53),15,hH,2);
var dK=[138,94,42,100];i(y.pH(.2),16,dK,2);var d8=[130,255,170,180];C(y.pH(0),4,d8);C(y.pH(-.25),5,d8);
dK=[150,90,0,50];Y(y.pH(-.45),55,G(dK),-dK[3],40,2);i(y.pH(-.42),35,dK,2);i(y.pH(-.5),15,dK,2);W(y.pH(-1.28),145,11,70);
var d1=g(0);d1[3]=50;Y(y.pH(-1.28),149,d1,d1[3],4);d1=g(300);d1[3]=50;Y(y.pH(-1.28),155-1,G(d1),-d1[3],3);
var gH=[130,130,10,50];M(y.pH(-1),73,gH,3,2);var kh=[40,130,70,40];Y(y.pH(-1),70,G(kh),-kh[3],35);kh=[40,170,60,50];
i(y.pH(-.7),25,kh,4);var kh=[70,110,50,60];Y(y.pH(1.3),30,G(kh),-kh[3],11,3);hH=[0,50,210,80];C(y.pH(-.72),20,hH)};
u[1]=function w(){C(y.pH(1),150,[240,70,70,60]);i(y.pH(1),100,[200,60,60,40],30);var o=[255,255,255,255],T=0,i6=0;
$(y.pH(1),75,o,o[3],63);i(y.pH(1),12,o);C(y.pH(1),270,[200,200,200,20],10);for(var v=0;v<10;v++){T+=10+Math.random()*40;
i6=Math.random()*P(250)+P(80);var bH=y.pH(1).Z9(T,i6);E(bH,[110,110,110,35])}T=5;i6=100;for(var v=0;
v<12;v++){T+=30;z(y.pH(1),T,i6,[90,90,90,40])}var cg=[150,40,23,100];M(y.pH(1),70,cg,1,3,3);var bu=[30,100,60,40];
C(y.pH(-.9),180,[255,255,255,20]);i(y.pH(-.9),140,bu,15);var hH=[170,80,25,15];M(y.pH(-.9),120,hH,1,4,4);
var dK=[110,240,190,200];C(y.pH(-.6),3,dK);dK[3]=100;C(y.pH(-.6),7,dK);var d8=[230,120,40,85];C(y.pH(-.73),9,d8);
var d1=[60,60,190,50];i(y.pH(.3),28,d1,6);d1[3]=25;i(y.pH(.34),20,d1,3)};u[2]=function dj(){var o=[255,255,255,255],i6=0,bH=0;
i(y.pH(1),13,o);$(y.pH(1),150,o,o[3],137);var T=[120,80,35,20];i(y.pH(1.4),260,T,10);for(var v=0;v<40;
v++){i6+=5+Math.random()*30;bH=Math.random()*P(300);E(y.pH(1).Z9(i6,bH),[110,110,110,20])}var cg=[10,30,255,30];
i(y.pH(1),70,cg,50);var bu=[15,90,170,15];i(y.pH(1.5),60,bu);var hH=[220,220,20,50];i(y.pH(-1.15),8,hH,2);
var o=[255,255,255,40];C(y.pH(-1.18),6,o);C(y.pH(-1.18),4,o);hH=[110,110,10,8];Y(y.pH(-1.2),32,G(hH),-hH[3],20,3);
var dK=[5,0,16,255];for(var v=0;v<4;v++){i(y.pH(-1.36),10,dK,3)}var d8=[90,200,150,20],d1=d8.slice(0);
d1[3]*=2;i(y.pH(-1.32),7,d1,3);i(y.pH(-1.36),7,d1,3);i(y.pH(-1.4),7,d1,3);var o=[230,230,230,100];C(y.pH(-1.36),2,o);
o[3]=3;i(y.pH(-.55),10,o);hH=[120,100,10,18];i(y.pH(-.55),160,hH,8);i(y.pH(-.55),80,hH,4);d8[3]=3;d1[3]=6;
Y(y.pH(-.49),13,G(d1),-d1[3],13,2);Y(y.pH(-.55),13,G(d1),-d1[3],13,2);d8[3]=20;i(y.pH(.15),25,d8,3);
hH[3]=100;C(y.pH(-.52),3,hH);hH=[200,200,50,40];i(y.pH(.27),1,hH,4);var gH=[150,40,23,30];Y(y.pH(1),80,G(gH),-gH[3],2,1)};
return u[B[0]]()};K.uS={};K.uS.UI=function(j){var n=j.length,dv=j[0].length,Q=new Array(dv);for(var v=0;
v<dv;v++)Q[v]=new Array(n);for(var v=0;v<dv;v++)for(var a=0;a<n;a++)Q[v][a]=j[a][v];return Q};K.uS.tV=function(j,n){var Q=j.length,dv=j[0].length,a=new Array(Q);
for(var v=0;v<Q;v++)a[v]=new Array(dv);for(var v=0;v<Q;v++)for(var B=0;B<dv;B++)a[v][B]=j[v][B]-n[v][B];
return a};K.uS.add=function(j,n){var Q=j.length,dv=j[0].length,a=new Array(Q);for(var v=0;v<Q;v++)a[v]=new Array(dv);
for(var v=0;v<Q;v++)for(var B=0;B<dv;B++)a[v][B]=j[v][B]+n[v][B];return a};K.uS.multiply=function(j,n){var Q=j.length,a=j[0].length,dv=n[0].length;
if(a!=n.length)throw"e";var B=new Array(Q);for(var v=0;v<Q;v++)B[v]=new Array(dv);if((a&1)!=0)for(var v=0;
v<Q;v++){var m=j[v],R=B[v];for(var q=0;q<dv;q++){var U=0;for(var l=0;l<a;l++)U+=m[l]*n[l][q];R[q]=U}}else for(var v=0;
v<Q;v++){var m=j[v],R=B[v];for(var q=0;q<dv;q++){var U=0;for(var l=0;l<a;l+=2)U+=m[l]*n[l][q]+m[l+1]*n[l+1][q];
R[q]=U}}return B};K.uS.Br=function(j,n){var Q=j.length,dv=j[0].length,a=new Array(Q);for(var v=0;v<Q;
v++){var B=0;for(var m=0;m<dv;m++)B+=j[v][m]*n[m];a[v]=B}return a};K.uS.Vt=function(j,n){var Q=[];for(var v=0;
v<j;v++){Q.push([]);for(var a=0;a<n;a++)Q[v].push(0)}return Q};K.uS.adW=function(j){for(var v=0;v<j.length;
v++)console.log(JSON.stringify(j[v]))};K.uS.abY=function(j){var n=[];for(var v=0;v<j.length;v++)n.push(j[v].join(","));
return"["+n.join(";")+"]"};K.uS.f1=function(j,n){var Q=j.length;for(var a=0;a<Q;a++){var B=0,m=Number.NEGATIVE_INFINITY;
for(var v=a;v<Q;v++)if(Math.abs(j[v][a])>m){B=v;m=Math.abs(j[v][a])}K.uS.aHd(j,a,B);for(var v=a+1;v<Q;
v++){if(j[a][a]==0)return 1;var R=j[v][a]/j[a][a];for(var q=a;q<Q+1;q++)j[v][q]-=j[a][q]*R}}for(var v=Q-1;
v>=0;v--){if(j[v][v]==0)return 1;var U=j[v][Q]/j[v][v];n[v]=U;for(var q=v-1;q>=0;q--){j[q][Q]-=j[q][v]*U;
j[q][v]=0}}return 0};K.uS.aHd=function(j,n,Q){var a=j[n];j[n]=j[Q];j[Q]=a};K.uS.ab8=function(j){var n=j.length,Q=K.uS.Vt(n,n);
for(var v=0;v<n;v++)Q[v][v]=j[v];return Q};K.uS.aAC=function(j){var n=j.length,Q=j[0].length,a=new Array(n);
for(var v=0;v<n;v++){a[v]=0;for(var B=0;B<Q;B++)a[v]+=j[v][B];a[v]/=Q}return a};K.uS.b0=function(j){var n=0;
for(var v=0;v<j.length;v++)n+=j[v]*j[v];return Math.sqrt(n)};K.wz={};K.wz.hC=function(j){var n=~~(j+.5);
return n<0?0:n>255?255:n};K.wz.Ti=function(j,n,Q){function a(U){return Math.max(0,Math.min(1,U))}var B=j.n.length;
for(var v=0;v<B;v++){var m=j.n[v],R=j.i[v],q=j.b[v];n.n[v]=a(Q[0]*m+Q[1]*R+Q[2]*q+Q[3]);n.i[v]=a(Q[4]*m+Q[5]*R+Q[6]*q+Q[7]);
n.b[v]=a(Q[8]*m+Q[9]*R+Q[10]*q+Q[11])}};K.wz.an0=function(j,n,Q){var a=K.Rz(j),B=a==8?255:a==16?65535:1,m=1/B,R=j.length;
function q(D){return Math.max(0,Math.min(1,D))}for(var v=0;v<R;v+=4){var U=j[v]*m,l=j[v+1]*m,b=j[v+2]*m;
n[v]=B*q(Q[0]*U+Q[1]*l+Q[2]*b+Q[3]);n[v+1]=B*q(Q[4]*U+Q[5]*l+Q[6]*b+Q[7]);n[v+2]=B*q(Q[8]*U+Q[9]*l+Q[10]*b+Q[11])}};
K.wz.anI=function(j){var n=j[0]+j[1]+j[2],Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(n==1){var a=j.indexOf(1);
Q[a]=Q[a+4]=Q[a+8]=1}else{Q[0]=j[0];Q[5]=j[1];Q[10]=j[2]}return Q};K.wz.RA=function(j,n,Q){return[1,0,0,j,0,1,0,n,0,0,1,Q,0,0,0,1]};
K.wz.SZ=function(j,n,Q){return[j,0,0,0,0,n,0,0,0,0,Q,0,0,0,0,1]};K.wz.aEB=function(j){return[j[0],j[1],j[2],j[4],j[5],j[6],j[8],j[9],j[10]]};
K.wz.Ca=function(j){return[j[0],j[1],j[2],0,j[3],j[4],j[5],0,j[6],j[7],j[8],0,0,0,0,1]};K.wz.y0=function(j,n){return[j[0]*n[0]+j[1]*n[1]+j[2]*n[2]+j[3]*n[3],j[4]*n[0]+j[5]*n[1]+j[6]*n[2]+j[7]*n[3],j[8]*n[0]+j[9]*n[1]+j[10]*n[2]+j[11]*n[3],j[12]*n[0]+j[13]*n[1]+j[14]*n[2]+j[15]*n[3]]};
K.wz.UI=function(j){var n=[];n[0]=j[0];n[1]=j[4];n[2]=j[8];n[3]=j[12];n[4]=j[1];n[5]=j[5];n[6]=j[9];
n[7]=j[13];n[8]=j[2];n[9]=j[6];n[10]=j[10];n[11]=j[14];n[12]=j[3];n[13]=j[7];n[14]=j[11];n[15]=j[15];
return n};K.wz.add=function(j,n){var Q=j.slice(0);for(var v=0;v<16;v++)Q[v]+=n[v];return Q};K.wz.multiply=function(j,n){var Q=[];
Q[0]=j[0]*n[0]+j[1]*n[4]+j[2]*n[8]+j[3]*n[12];Q[1]=j[0]*n[1]+j[1]*n[5]+j[2]*n[9]+j[3]*n[13];Q[2]=j[0]*n[2]+j[1]*n[6]+j[2]*n[10]+j[3]*n[14];
Q[3]=j[0]*n[3]+j[1]*n[7]+j[2]*n[11]+j[3]*n[15];Q[4]=j[4]*n[0]+j[5]*n[4]+j[6]*n[8]+j[7]*n[12];Q[5]=j[4]*n[1]+j[5]*n[5]+j[6]*n[9]+j[7]*n[13];
Q[6]=j[4]*n[2]+j[5]*n[6]+j[6]*n[10]+j[7]*n[14];Q[7]=j[4]*n[3]+j[5]*n[7]+j[6]*n[11]+j[7]*n[15];Q[8]=j[8]*n[0]+j[9]*n[4]+j[10]*n[8]+j[11]*n[12];
Q[9]=j[8]*n[1]+j[9]*n[5]+j[10]*n[9]+j[11]*n[13];Q[10]=j[8]*n[2]+j[9]*n[6]+j[10]*n[10]+j[11]*n[14];Q[11]=j[8]*n[3]+j[9]*n[7]+j[10]*n[11]+j[11]*n[15];
Q[12]=j[12]*n[0]+j[13]*n[4]+j[14]*n[8]+j[15]*n[12];Q[13]=j[12]*n[1]+j[13]*n[5]+j[14]*n[9]+j[15]*n[13];
Q[14]=j[12]*n[2]+j[13]*n[6]+j[14]*n[10]+j[15]*n[14];Q[15]=j[12]*n[3]+j[13]*n[7]+j[14]*n[11]+j[15]*n[15];
return Q};K.wz.m2=function(j){var n=[];n[0]=j[5]*j[10]*j[15]-j[5]*j[14]*j[11]-j[6]*j[9]*j[15]+j[6]*j[13]*j[11]+j[7]*j[9]*j[14]-j[7]*j[13]*j[10];
n[1]=-j[1]*j[10]*j[15]+j[1]*j[14]*j[11]+j[2]*j[9]*j[15]-j[2]*j[13]*j[11]-j[3]*j[9]*j[14]+j[3]*j[13]*j[10];
n[2]=j[1]*j[6]*j[15]-j[1]*j[14]*j[7]-j[2]*j[5]*j[15]+j[2]*j[13]*j[7]+j[3]*j[5]*j[14]-j[3]*j[13]*j[6];
n[3]=-j[1]*j[6]*j[11]+j[1]*j[10]*j[7]+j[2]*j[5]*j[11]-j[2]*j[9]*j[7]-j[3]*j[5]*j[10]+j[3]*j[9]*j[6];
n[4]=-j[4]*j[10]*j[15]+j[4]*j[14]*j[11]+j[6]*j[8]*j[15]-j[6]*j[12]*j[11]-j[7]*j[8]*j[14]+j[7]*j[12]*j[10];
n[5]=j[0]*j[10]*j[15]-j[0]*j[14]*j[11]-j[2]*j[8]*j[15]+j[2]*j[12]*j[11]+j[3]*j[8]*j[14]-j[3]*j[12]*j[10];
n[6]=-j[0]*j[6]*j[15]+j[0]*j[14]*j[7]+j[2]*j[4]*j[15]-j[2]*j[12]*j[7]-j[3]*j[4]*j[14]+j[3]*j[12]*j[6];
n[7]=j[0]*j[6]*j[11]-j[0]*j[10]*j[7]-j[2]*j[4]*j[11]+j[2]*j[8]*j[7]+j[3]*j[4]*j[10]-j[3]*j[8]*j[6];n[8]=j[4]*j[9]*j[15]-j[4]*j[13]*j[11]-j[5]*j[8]*j[15]+j[5]*j[12]*j[11]+j[7]*j[8]*j[13]-j[7]*j[12]*j[9];
n[9]=-j[0]*j[9]*j[15]+j[0]*j[13]*j[11]+j[1]*j[8]*j[15]-j[1]*j[12]*j[11]-j[3]*j[8]*j[13]+j[3]*j[12]*j[9];
n[10]=j[0]*j[5]*j[15]-j[0]*j[13]*j[7]-j[1]*j[4]*j[15]+j[1]*j[12]*j[7]+j[3]*j[4]*j[13]-j[3]*j[12]*j[5];
n[11]=-j[0]*j[5]*j[11]+j[0]*j[9]*j[7]+j[1]*j[4]*j[11]-j[1]*j[8]*j[7]-j[3]*j[4]*j[9]+j[3]*j[8]*j[5];n[12]=-j[4]*j[9]*j[14]+j[4]*j[13]*j[10]+j[5]*j[8]*j[14]-j[5]*j[12]*j[10]-j[6]*j[8]*j[13]+j[6]*j[12]*j[9];
n[13]=j[0]*j[9]*j[14]-j[0]*j[13]*j[10]-j[1]*j[8]*j[14]+j[1]*j[12]*j[10]+j[2]*j[8]*j[13]-j[2]*j[12]*j[9];
n[14]=-j[0]*j[5]*j[14]+j[0]*j[13]*j[6]+j[1]*j[4]*j[14]-j[1]*j[12]*j[6]-j[2]*j[4]*j[13]+j[2]*j[12]*j[5];
n[15]=j[0]*j[5]*j[10]-j[0]*j[9]*j[6]-j[1]*j[4]*j[10]+j[1]*j[8]*j[6]+j[2]*j[4]*j[9]-j[2]*j[8]*j[5];var Q=j[0]*n[0]+j[1]*n[4]+j[2]*n[8]+j[3]*n[12];
for(var v=0;v<16;v++)n[v]/=Q;return n};K.wz.aCo=function(j){var n=[],Q=j[5]*j[10]*j[15]-j[5]*j[14]*j[11]-j[6]*j[9]*j[15]+j[6]*j[13]*j[11]+j[7]*j[9]*j[14]-j[7]*j[13]*j[10],a=-j[4]*j[10]*j[15]+j[4]*j[14]*j[11]+j[6]*j[8]*j[15]-j[6]*j[12]*j[11]-j[7]*j[8]*j[14]+j[7]*j[12]*j[10],B=j[4]*j[9]*j[15]-j[4]*j[13]*j[11]-j[5]*j[8]*j[15]+j[5]*j[12]*j[11]+j[7]*j[8]*j[13]-j[7]*j[12]*j[9],m=-j[4]*j[9]*j[14]+j[4]*j[13]*j[10]+j[5]*j[8]*j[14]-j[5]*j[12]*j[10]-j[6]*j[8]*j[13]+j[6]*j[12]*j[9];
return j[0]*Q+j[1]*a+j[2]*B+j[3]*m};K.wz.Ep=function(j,n,Q,a){var B=Math.sin(a),m=Math.cos(a),R=1/Math.sqrt(j*j+n*n+Q*Q);
j*=R;n*=R;Q*=R;return K.wz.Ca([j*j*(1-m)+m,j*n*(1-m)-Q*B,j*Q*(1-m)+n*B,j*n*(1-m)+Q*B,n*n*(1-m)+m,n*Q*(1-m)-j*B,j*Q*(1-m)-n*B,n*Q*(1-m)+j*B,Q*Q*(1-m)+m])};
K.wz.zL=K.wz.Ca([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
K.wz.avR=K.wz.Ca([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
K.wz.aeh=K.wz.m2(K.wz.zL);K.L4={};K.L4.zt=new Uint32Array(1);K.L4.a79=function(j,n,Q,a,B,m){var R=new Uint32Array(j),q=0,U=K.L4.zt;
if(U.length<n*4)K.L4.zt=U=new Uint32Array(n*4);var l=new Float64Array(U.buffer);for(var v=0;v<n;v+=2){var b=B[v],D=B[v+1],c=m[v],_=m[v+1];
U[q]=D;l[q+2>>1]=c;U[q+1]=R[b];R[b]=q+1;q+=4;U[q]=b;l[q+2>>1]=_;U[q+1]=R[D];R[D]=q+1;q+=4}return{uL:U,ai2:l,agg:R}};
K.L4.f1=function(j,n,Q,a,B,m,R){var q=1,U=K.L4.a79(j,n,Q,a,B,m),l=U.uL,b=U.ai2,D=U.agg,c=new Uint32Array(j),_=new K.L4.jG(j),X=1,e=0;
_.push(Q);_.push(a);var p=new K.L4.jG(j),g=new Uint8Array(j),F=new Uint32Array(j);g[Q]=1;g[a]=2;var k=new Uint32Array(j),I=new Uint32Array(j);
I[Q]=I[a]=0;k[Q]=k[a]=1;while(!0){var H=-1,h=0,i=1e30;while(!_.zf()&&H==-1){var A=_.top(),Z=g[A],J=D[A]-1;
while(J!=-1){var s=l[J],E=g[s],z=J^Z-1<<2;if(b[z+2>>1]!=0){if(E==0){K.L4._T(A,J,s,g,F,I,k);_.push(s)}else if(E==Z&&k[s]<=k[A]&&I[s]>I[A])K.L4._T(A,J,s,g,F,I,k);
else if(E!=Z){H=z}}J=l[J+1]-1}if(H!=-1)break;_.pop()}if(H==-1){break}X++;var d=H;while(d!=-1){c[h]=d;
h++;d=F[l[d^4]]-1}var Y=h>>1;for(var v=0;v<Y;v++){var C=c[v];c[v]=c[h-v-1];c[h-v-1]=C}d=F[l[H]]-1;while(d!=-1){c[h]=d^4;
h++;d=F[l[d^4]]-1}for(var v=0;v<h;v++)i=Math.min(i,b[c[v]+2>>1]);e+=i;if(e>=R)return{Ii:null,gf:e};for(var v=0;
v<h;v++){var M=c[v],W=M^4,A=l[W],s=l[M];b[M+2>>1]-=i;b[W+2>>1]+=i;if(b[M+2>>1]==0&&g[A]==g[s]){if(g[A]==1){F[s]=0;
p.push(s)}if(g[A]==2){F[A]=0;p.push(A)}}}while(!p.zf()){var A=p.pop(),Z=g[A],J=D[A]-1,$=Z==1?4:0,P=0,O=0,G=1e9;
while(J!=-1){var s=l[J],t=J^4,z=J^$;if(g[s]==Z&&b[z+2>>1]>0&&K.L4.aBN(s,Q,a,F,l,X,k,I)+1<G){P=s;O=t;
G=I[s]+1}J=l[J+1]-1}if(O!=0){K.L4._T(P,O,A,g,F,I,k);continue}J=D[A]-1;while(J!=-1){var s=l[J],z=J^$;
if(g[s]==Z){if(b[z+2>>1]>0){_.push(s)}if(F[s]==J+1){F[s]=0;p.push(s)}}J=l[J+1]-1}g[A]=0;_.remove(A)}}var y=[];
for(var v=0;v<n;v+=2){var A=B[v],s=B[v+1];if(g[A]==1&&g[s]!=1){y.push(v>>1)}if(g[s]==1&&g[A]!=1){y.push(n+v>>1)}}return{Ii:y,gf:e}};
K.L4._T=function(j,n,Q,a,B,m,R){a[Q]=a[j];B[Q]=n+1;m[Q]=m[j]+1;R[Q]=R[j]};K.L4.aBN=function(j,n,Q,a,B,m,R,q){var U=j,l=a[j]-1,b=0;
while(l!=-1&&R[j]!=m){j=B[l^4];l=a[j]-1;b++}if(l==-1&&j!=n&&j!=Q)return 1e9;var D=q[j]+b;b=0;l=a[U]-1;
while(U!=j){q[U]=D-b;b++;R[U]=m;U=B[l^4];l=a[U]-1}return D};K.L4.aA0=function(j,n,Q,a,B,m){var R=K.L4.a79(j,n,Q,a,B,m),q=R.uL,U=R.ai2,l=R.agg,b=0,D=0,c=new Uint32Array(j*2),_=new K.L4.ace(j),p=0;
while(!0){_.reset();_.push(Q);for(var v=0;v<j;v++)c[v<<1]=0;while(!_.zf()){var X=_.pop(),g=l[X]-1;while(g!=-1){p=q[g];
if(c[p<<1]==0&&U[g+2>>1]>0&&p!=Q){c[p<<1]=X+1;c[(p<<1)+1]=g;_.push(p)}g=q[g+1]-1}if(c[a<<1]!=0){break}}if(c[a<<1]==0){break}var F=1e30;
p=a;while(!0){var k=c[p<<1]-1;if(k==-1)break;var I=c[(p<<1)+1];F=Math.min(F,U[I+2>>1]);p=k}p=a;while(!0){var k=c[p<<1]-1;
if(k==-1)break;var I=c[(p<<1)+1],e=I^4;U[I+2>>1]-=F;U[e+2>>1]+=F;p=k}b+=F}var H=[];for(var v=0;v<n;v+=2){var k=B[v],p=B[v+1];
if((c[k<<1]!=0||k==Q)&&c[p<<1]==0&&p!=Q){H.push(v>>1)}if((c[p<<1]!=0||p==Q)&&c[k<<1]==0&&k!=Q){H.push(n+v>>1)}}return{Ii:H,gf:b}};
K.L4.ace=function(j){j|=j>>1;j|=j>>2;j|=j>>4;j|=j>>8;j|=j>>16;this.Rw=new Uint32Array(j+1);this.FO=j;
this.Sx=0;this.Xr=0};K.L4.ace.prototype={push:function(j){var n=this.Xr;this.Rw[n]=j;this.Xr=n+1&this.FO},pop:function(){var j=this.Sx,n=this.Rw[j];
this.Sx=j+1&this.FO;return n},zf:function(){return this.Sx==this.Xr},reset:function(){this.Sx=0;this.Xr=0}};
K.L4.jG=function(j){j|=j>>1;j|=j>>2;j|=j>>4;j|=j>>8;j|=j>>16;this.Rw=new Uint32Array(j+1);this.SD=new Uint32Array(j+1);
this.FO=j;this.Sx=0;this.Xr=0};K.L4.jG.prototype={top:function(){return this.Rw[this.Sx]},akh:function(){return this.Rw[this.Xr]},push:function(j){if(this.SD[j]!=0)return;
this.SD[j]=this.Xr+1;var n=this.Xr;this.Rw[n]=j;this.Xr=n+1&this.FO},pop:function(){var j=this.Sx,n=this.Rw[j];
this.SD[n]=0;this.Sx=j+1&this.FO;return n},zf:function(){return this.Sx==this.Xr},remove:function(j){var n=this.SD[j]-1;
if(n==-1)return;this.SD[j]=0;if(n==this.Sx){this.pop();return}var Q=this.pop();this.Rw[n]=Q;this.SD[Q]=n+1},dL:function(v){return v+this.FO+1&this.FO}};
K.L4.adO=function(j,n,Q){var a=K.L4.HO(j,n,Q);if(n<a-1)K.L4.adO(j,n,a-1);if(a<Q)K.L4.adO(j,a,Q)};K.L4.HO=function(j,n,Q){var a=j[n+Q>>>1];
while(n<=Q){while(j[n]<a)n++;while(j[Q]>a)Q--;if(n<=Q){K.L4.fr(j,n,Q);n++;Q--}}return n};K.L4.fr=function(j,n,Q){var a=j[n];
j[n]=j[Q];j[Q]=a};K.ro=function(){var j,n;function Q(R,q,dv){var U=dv-1,l=q+dv;j[dv-2]=R[l-2];n[0]=R[l-1];
var b=Math.max;for(var v=1;v<U;v++){j[dv-2-v]=b(j[dv-1-v],R[l-2-v]);n[v]=b(n[v-1],R[l-1+v])}for(var v=0;
v<U;v++)R[q+v]=b(j[v],n[v])}function a(R,q,dv){var U=dv-1,l=Math.ceil(q/U)*U;for(var b=0;b<l;b+=U)Q(R,b,dv)}function B(R,q,U,l,dv,b){q.set(R);
if(dv==1)return;j=K.U(dv-1);n=K.U(dv-1);var D=dv>>>1,c=K.U(Math.ceil(Math.max(U,l)/(dv-1))*(dv-1)+(dv-2)),_=new Uint8Array(c.buffer,0,U);
if(!b)K.m2(q);for(var p=0;p<l;p++){c.fill(0);c.set(new Uint8Array(q.buffer,p*U,U),D);a(c,U,dv);q.set(_,p*U)}for(var X=0;
X<U;X++){c.fill(0);for(var p=0;p<l;p++)c[p+D]=q[p*U+X];a(c,l,dv);for(var p=0;p<l;p++)q[p*U+X]=c[p]}if(!b)K.m2(q)}function m(R,q,U,l,dv,b){var D=K.U(U*l);
for(var c=0;c<4;c++){K._W(R,D,c);if(c==3)K.m2(D);B(D,D,U,l,dv,b);if(c==3)K.m2(D);K.wj(D,q,c)}}return{Yk:B,a9X:m}}();
K._y={};K._y.as7=function(j){for(var v=0;v<j.length;v++)K._y.j7(j,v)};K._y.j7=function(j,v){j[v].v.keyShapeInvalidated={t:"bool",v:!0}};
K._y.afz=function(j){for(var v=0;v<j.length;v++)j[v].v.keyOriginIndex.v=v};K._y.DB=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
K._y.QC=function(j,n,Q){j=j.v;var a={Rctn:2,Ln:4,Elps:5},B=a[j.classID],m=j.topLeft?K._y.adz(j):null,R=null,q=0,U=[!1,!1,0,0,0];
if(B==4){var l=j.Strt.v,b=j.End.v;R=[l.Hrzn.v.val,l.Vrtc.v.val,b.Hrzn.v.val,b.Vrtc.v.val];q=j.Wdth.v.val;
for(var v=0;v<2;v++){var D=j[v==0?"StrA":"EndA"];if(D==null)continue;D=D.v;U[v]=D.On.v;U[2]=D.Wdth.v;
U[3]=D.Lngt.v;U[4]=D.Cncv.v.val}}if(B==null)return null;return K._y.bJ(B,B==4?null:K._y.dk(j,n,Q),m,R,q,U)};
K._y.ti=function(j,n,Q,a,B,m,R){var q={classID:j,unitValueQuadVersion:{t:"long",v:1}};if(n)K._y.Ag(q,["Left","Top","Rght","Btom"],n);
if(Q)K._y.Ag(q,["topLeft","topRight","bottomRight","bottomLeft"],Q);if(j=="Ln"){q.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:a[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:a[1]}}}},q.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:a[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:a[3]}}}},q.Wdth={t:"UntF",v:{type:"#Pxl",val:B}};
for(var v=0;v<2;v++){var U=v==0?"StrA":"EndA";q[U]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:R[v]},Wdth:{t:"doub",v:R[2]},Lngt:{t:"doub",v:R[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:R[4]}}}}}}if(m)q.Nm={t:"TEXT",v:m};
return{t:"Objc",v:q}};K._y.alS=function(j,n){var Q=K._y.MY(j),a=j[2]-j[0],B=j[3]-j[1],m=Math.sqrt(a*a+B*B),R=[0,0,m,0,m,n,0,n],q=new j8;
q.rotate(-Q);q.translate(j[0],j[1]);K.c.C(R,q,R);return R};K._y.bJ=function(j,n,Q,a,B,m){var R=K._y.DB(),q=R.v,U;
delete q.keyShapeInvalidated;q.keyOriginType={t:"long",v:j};q.keyOriginResolution={t:"doub",v:75};if(j==4){q.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:a[0]},Vrtc:{t:"doub",v:a[1]}}};
q.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:a[2]},Vrtc:{t:"doub",v:a[3]}}};U=K._y.alS(a,B);
var l=K.c.Tv(U);n=[l.x,l.y,l.x+l.q,l.y+l._];q.keyOriginLineWeight={t:"doub",v:B};if(m)K._y.a9n(q,m)}else U=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];
q.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};K._y.EM(q,"keyOriginBoxCorners",U);var b={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
q.keyOriginShapeBBox={t:"Objc",v:b};K._y.aqx(q,n);if(Q!=null){var D={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
q.keyOriginRRectRadii={t:"Objc",v:D};K._y.mv(q,Q)}return R};K._y.C=function(j,n,Q,a){var B=K.D.a7q(n),m=K.D.a9Z(n),R=K.D.lm(n),q=R.NX*R.zP-R.b*R.RK;
for(var v=0;v<j.length;v++){var U=j[v].v;if(!K._y.GO(U))continue;if(Q.length!=0&&Q.indexOf(v)==-1)continue;
var l=U.keyOriginType.v,b=n;if(q<0&&l==2){var D=K._y.bU(U),c=0;c=D[0];D[0]=D[1];D[1]=c;c=D[2];D[2]=D[3];
D[3]=c;K._y.mv(U,D);var _=K._y.ho(U,"keyOriginBoxCorners"),p=K.c.Tv(_),X=p.x+p.q/2,g=new j8;g.translate(-X,0);
g.scale(-1,1);g.translate(X,0);b=K.D.Da(b,K.D.UN(g))}var F=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var k=0;k<F.length;k++){var _=K._y.ho(U,F[k]);if(_==null)continue;K.D.C(b,_);K._y.EM(U,F[k],_);var p=K.c.Tv(_);
K._y.aqx(U,[p.x,p.y,p.x+p.q,p.y+p._]);var I=new j8;I.rotate(-K._y.MY(_));var e={classID:"Trnf"};U.Trnf={t:"Objc",v:e};
var H="xx xy yx yy tx ty".split(" "),A=[I.NX,I.b,I.RK,I.zP,I.Qr,I.dE];for(var Z=0;Z<6;Z++)e[H[Z]]={t:"doub",v:A[Z]}}if(l==2&&a){var D=K._y.bU(U);
for(var k=0;k<4;k++)D[k]=Math.round(D[k]*n[0]);K._y.mv(U,D)}var _=K._y.ho(U,"keyOriginBoxCorners"),J=_[2]-_[0],s=_[3]-_[1],E=Math.sqrt(J*J+s*s);
J/=E;s/=E;var z=_[6]-_[0],h=_[7]-_[1],d=Math.sqrt(z*z+h*h);z/=d;h/=d;if(l==4){U.keyOriginLineWeight.v=d;
var Y=K._y.hR(U);K.D.C(n,Y);K._y.a22(U,Y)}var C=J*z+s*h;if(Math.abs(C)>.001){K._y.j7(j,v)}}};K._y.GO=function(j){var n=j.keyShapeInvalidated,Q=j.keyOriginType;
return(n==null||!n.v)&&Q!=null&&Q.v!=9};K._y.ahg=function(j){var n=j.keyOriginType.v,Q=K._y.kk(j),a=Q[0],B=Q[1],m=Q[2],R=Q[3],q=new j8,U=j.keyOriginPolyCornerRadius,_;
U=U?U.v:0;var l=K._y.ho(j,n==7||n==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),b=K._y.awU(l),D=b[2],c=b[3];
a=-D/2;m=D/2;B=-c/2;R=c/2;q.rotate(-K._y.MY(l));q.Qr=b[0];q.dE=b[1];if(n==1||n==2){var p=n==1?0:K._y.bU(j);
_=K.R.hi.Rect(a,B,m-a,R-B,p)}else if(n==4){var X=K._y.hR(j),g=K._y.a0j(j);q=new j8;if(g==null)_=K.R.hi.qm(X[0],X[1],X[2],X[3],j.keyOriginLineWeight.v);
else _=K.R.hi.i_(X[0],X[1],X[2],X[3],j.keyOriginLineWeight.v,g)}else if(n==5){_=K.R.hi.$v(a,B,m-a,R-B)}else if(n==7||n==8){var F=n==7?3:j.keyOriginPolySides.v;
_=K.R.hi.Ek(0,0,100,Math.PI/F-Math.PI/2,F,U,m,R)}K.R.fK(_,q);return _};K._y.IA=function(j,n){var Q=n.z;
for(var v=0;v<j.length;v++){var a=j[v].v;if(!K._y.GO(a))continue;var B=K._y.ahg(a),m=K.R.p$(Q,v),R=K.R.KI(Q,v);
B[2].H_=Q[m].H_;var q=Q;Q=Q.slice(0,m);for(var U=2;U<B.length;U++)Q.push(B[U]);for(var U=m+R;U<q.length;
U++)Q.push(q[U])}n.z=Q;n._r=!0};K._y.ZM=function(j){var n=1e9,Q=-n,a=1e9,B=-a,m=[],R=j.H9(),q=R[0],U=R[1];
for(var l=0;l<U.length;l++){var b=q[U[l]],D=b.add.vogk;if(D==null)continue;var c=b.add.vmsk.X;for(var _=0;
_<D.length;_++){var p=D[_].v,F=0;if(!K._y.GO(p))continue;if(U.length==1&&c.length!=0&&c.indexOf(_)==-1)continue;
var X=p.keyOriginType.v;if(X==9)continue;var g=K._y.kk(p);n=Math.min(n,g[0]);a=Math.min(a,g[1]);Q=Math.max(Q,g[2]);
B=Math.max(B,g[3]);var k=K._y.ho(p,"keyOriginBoxCorners");if(k){var I=K._y.awU(k),e=I[2],H=I[3];g[2]=g[0]+e;
g[3]=g[1]+H;F=K._y.MY(k)}var A=[X,g,F];m.push(A);var Z=p.keyOriginPolyCornerRadius;if(X==2)A.push(K._y.bU(p));
if(X==7||X==8)A.push(Z?Z.v:0);if(X==8)A.push(p.keyOriginPolySides.v)}}return m.length==1?m[0]:[0,n<Q?[n,a,Q,B]:null,0]};
K._y.MY=function(j){var n=j[2]-j[0],Q=j[3]-j[1];return-Math.atan2(-Q,n)};K._y.aad=function(j){var n=K._y.kk(j);
return K._y.MY(n)};K._y.arW=function(j,n,Q){var a=K._y.ZM(j),B=-1;for(var v=0;v<n.length;v++)if(JSON.stringify(n[v])!=JSON.stringify(a[v]))B=v;
if(B==1||B==2){}var m=j.H9(),R=m[0],q=m[1];for(var U=0;U<q.length;U++){var l=R[q[U]],b=l.add.vogk;if(b==null)continue;
var D=l.add.vmsk.X;for(var c=0;c<b.length;c++){var _=b[c].v;if(!K._y.GO(_))continue;if(q.length==1&&D.length!=0&&D.indexOf(c)==-1)continue;
var p=_.keyOriginType.v;if(B==1||B==2){K._y.C(b,K._y.ayh(B,_,a,n),D,!1);break}if(B==3)if(p==2)K._y.mv(_,n[3]);
else _.keyOriginPolyCornerRadius={t:"doub",v:n[3]};if(B==4)_.keyOriginPolySides.v=n[4];if(Q)K._y.j7(b,c)}}};
K._y.ayh=function(j,n,Q,a){var B=a[1],m=Q[1],R=(B[2]-B[0])/(m[2]-m[0]),q=(B[3]-B[1])/(m[3]-m[1]),U=new j8;
if(j==1){if(Math.max(Math.abs(R-1),Math.abs(q-1))>1e-8){var l=B[0],b=B[1];if(a[0]!=0){var D=K._y.ho(n,"keyOriginBoxCorners");
l=D[0];b=D[1]}U.translate(-l,-b);U.rotate(a[2]);U.scale(R,q);U.rotate(-a[2]);U.translate(l,b)}else{U.translate(-m[0],-m[1]);
U.translate(B[0],B[1])}}else{if(a[0]!=0)B=K._y.kk(n);var l=(B[0]+B[2])/2,b=(B[1]+B[3])/2;U.translate(-l,-b);
if(Q[0]!=0)U.rotate(Q[2]);U.rotate(-a[2]);U.translate(l,b)}return K.D.UN(U)};K._y.awU=function(j){var n=j[0],Q=j[1],a=j[2],B=j[3],m=j[4],R=j[5],q=j[6],U=j[7],l=a-n,b=B-Q,D=Math.sqrt(l*l+b*b),l=m-a,b=R-B,c=Math.sqrt(l*l+b*b);
return[(n+m)/2,(Q+R)/2,D,c]};K._y.ho=function(j,n){var Q=j[n];if(Q==null)return null;var a=[];Q=Q.v;
for(var B=0;B<4;B++){var m=Q["rectangleCorner"+["A","B","C","D"][B]].v;a.push(m.Hrzn.v,m.Vrtc.v)}return a};
K._y.EM=function(j,n,Q){var a=j[n];if(a==null)return null;a=a.v;for(var B=0;B<4;B++){var m="rectangleCorner"+["A","B","C","D"][B];
a[m]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Q[2*B]},Vrtc:{t:"doub",v:Q[2*B+1]}}}}};K._y.kk=function(j){return K._y.dk(j.keyOriginShapeBBox.v)};
K._y.dk=function(j,n,Q){var a=j.classID,B=j.Left.v,m=j.Rght.v,R=j.Top.v,q=j.Btom.v,U=B.type;if(B.val!=null){B=B.val;
m=m.val;R=R.val;q=q.val}if(U=="#Prc"&&n){B*=n/100;m*=n/100;R*=Q/100;q*=Q/100}return[B,R,m,q]};K._y.uI=function(j,n,Q){var a=K._y.dk(j,n,Q);
return new b4(a[0],a[1],a[2]-a[0],a[3]-a[1])};K._y.aqx=function(j,n){K._y.Ag(j.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],n)};
K._y.bU=function(j){var n=j.keyOriginRRectRadii;if(n==null)return[0,0,0,0];return K._y.adz(n.v)};K._y.adz=function(j){var n=[],Q=["topLeft","topRight","bottomRight","bottomLeft"];
for(var a=0;a<4;a++)n.push(j[Q[a]].v.val);return n};K._y.mv=function(j,n){K._y.Ag(j.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],n)};
K._y.Ag=function(j,n,Q){var a=j.classID;if(a=="unitRect"||a=="radii"||a=="Rctn"){for(var v=0;v<4;v++)if(Q[v]!=null)j[n[v]]={t:"UntF",v:{type:"#Pxl",val:Q[v]}}}else{for(var v=0;
v<4;v++)if(Q[v]!=null)j[n[v]]={t:"doub",v:Q[v]}}};K._y.hR=function(j){var n=j.keyOriginLineStart.v,Q=j.keyOriginLineEnd.v;
return[n.Hrzn.v,n.Vrtc.v,Q.Hrzn.v,Q.Vrtc.v]};K._y.a22=function(j,n){var Q=j.keyOriginLineStart.v,a=j.keyOriginLineEnd.v;
Q.Hrzn.v=n[0];Q.Vrtc.v=n[1];a.Hrzn.v=n[2];a.Vrtc.v=n[3]};K._y.a0j=function(j){var n=[],Q=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var v=0;v<5;v++){var a=j["keyOriginLineArr"+Q[v]];if(a==null)return null;n[v]=a.v}return n};K._y.a9n=function(j,n){j.keyOriginLineArrowSt={t:"bool",v:n[0]};
j.keyOriginLineArrowEnd={t:"bool",v:n[1]};j.keyOriginLineArrWdth={t:"doub",v:n[2]};j.keyOriginLineArrLngth={t:"doub",v:n[3]};
j.keyOriginLineArrConc={t:"long",v:n[4]}};K._y.afK=function(j){function n(e,H){return Math.abs(e-H)<.5}function Q(e,H){return n(e.x,H.x)&&n(e.y,H.y)}function a(e,H,A,Z,J,s,E){for(var v=0;
v<E;v++){var z=e[H+(A+v)%E],h=Z[J+(s+v)%E];if(!(Q(z.V,h.V)&&Q(z.vK,h.vK)&&Q(z.XH,h.XH)))return!1}return!0}var B=[];
for(var m=0;m<j.length;m++){var R=j[m],U=null;if(R.w!=0&&R.w!=3||R.H_==-1)continue;var q=m;if(R.length==4||R.length==8){var l=K.R.a7A(j.slice(0,2).concat(j.slice(q,q+R.length+1)));
q=2;if(R.length==4){var b=K.R.rb(l,q+1,4),D=b.x,c=b.y,_=D+b.q,p=c+b._;if(b.$()>4){if(K.R.Yp(l.slice(q-2,q+5)))U=K._y.bJ(2,[D,c,_,p],[0,0,0,0]);
else{var X=-1;for(var v=0;v<4;v++)if(n(l[q+1+v].V.y,p))X=v;if(X!=-1){var g=K.R.hi.$v(D,c,_-D,p-c),F=a(l,q+1,X,g,3,0,4);
if(F)U=K._y.bJ(5,[D,c,_,p])}}}}if(R.length==8){var b=K.R.rb(l,q+1,8),D=b.x,c=b.y,_=D+b.q,p=c+b._;if(b.$()>4){var X=-1;
for(var v=0;v<8;v++)if(n(l[q+1+(v+1&7)].V.y,c)&&n(l[q+1+(v+2&7)].V.y,c))X=v;if(X!=-1){var k=Math.abs(l[q+1+X].V.y-c),I=[k,k,k,k];
if(k>.5){var g=K.R.hi.Rect(D,c,_-D,p-c,I),F=a(l,q+1,X,g,3,0,8);if(F)U=K._y.bJ(2,[D,c,_,p],I)}}}}}B.push(U?U:K._y.DB())}return B};
K.c={};K.c.O=function(j){return{rZ:j.rZ.slice(0),g:j.g.slice(0)}};K.c.avb=function(j){if(j.length<6)return!0;
var n=j.length-4;for(var v=0;v<n;v+=2)if(!K.c.Xl(j[v],j[v+1],j[v+2],j[v+3],j[v+4],j[v+5]))return!1;if(!K.c.Xl(j[n],j[n+1],j[n+2],j[n+3],j[0],j[1]))return!1;
if(!K.c.Xl(j[n+2],j[n+3],j[0],j[1],j[2],j[3]))return!1;return!0};K.c.Xl=function(j,n,Q,a,B,m){return(n-a)*(B-Q)+(Q-j)*(m-a)>=0};
K.c.aic=function(j,n){function Q(G,t,J){var A=t[0]-G[0],Z=t[1]-G[1],y=K.c.wr(J[0],J[1],-Z,A,G[0],G[1],A,Z);
return[J[0]-Z*y,J[1]+A*y]}function a(G,t){var A=G[0]-t[0],Z=G[1]-t[1];return Math.sqrt(A*A+Z*Z)}j=K.c.ah$(j);
var B=[0,0,0,0],m=j.length,R=[0,0,0,0],q=Math.PI/2,U=Math.atan2(-1,0),_=1e9,p,X=0;function l(){for(var v=0;
v<4;v++){var F=B[v],k=(F+2)%m,G=j[k]-j[F],t=j[k+1]-j[F+1],y=Math.atan2(t,G),r=U+v*q;if(y<r)r-=2*Math.PI;
R[v]=y-r}}for(var v=0;v<m;v+=2){var b=j[v],D=j[v+1];if(b<j[B[0]])B[0]=v;if(D<j[B[1]+1])B[1]=v;if(b>j[B[2]])B[2]=v;
if(D>j[B[3]+1])B[3]=v}l();var c=K.c.Tv(j).$();while(X<m/2){var g=0;for(var v=0;v<4;v++)if(R[v]<R[g])g=v;
var F=B[g],k=(F+2)%m,I=B[g+2&3],e=B[g+3&3],H=B[g+1&3],b=j[F],A=j[k]-b,D=j[F+1],Z=j[k+1]-D,J=j.slice(F,F+2),s=j.slice(k,k+2),E=j.slice(I,I+2),z=j.slice(e,e+2),h=j.slice(H,H+2),d=Q(J,s,E),Y=Q(z,[z[0]-Z,z[1]+A],h),C=a(d,E),i=a(Y,h);
if(i*C<_){_=i*C;var M=Q(J,s,z);p=[M[0],M[1],A,Z,i,C]}U+=R[g];B[g]=k;l();X++}var b=p[0],D=p[1],A=p[2],Z=p[3],i=p[4],C=p[5],W=Math.sqrt(A*A+Z*Z);
A/=W;Z/=W;var $=b+A*i,P=D+Z*i,O=[b,D,$,P,$-Z*C,P+A*C,b-Z*C,D+A*C];while(O[0]>O[2]||Math.abs((O[3]-O[1])/(O[2]-O[0]))>1){O.push(O.shift(),O.shift())}return O};
K.c.ah$=function(j){var n=0;for(var v=0;v<j.length;v+=2)if(j[v]<j[n])n=v;var Q=[n];while(!0){var a=Q[Q.length-1],B=j[a],m=j[a+1],R=Q.length==1?Q[0]:Q[Q.length-2],q=j[R],U=j[R+1],c=0,_=1e9,p=0;
if(Q.length==1)U+=20;var l=q-B,b=U-m,D=Math.sqrt(l*l+b*b);l/=D;b/=D;for(var v=0;v<j.length;v+=2){if(v==R||v==a)continue;
var X=j[v],g=j[v+1],F=X-B,k=g-m,I=Math.sqrt(F*F+k*k);F/=I;k/=I;var e=l*F+b*k;if(e<_||e==_&&I>p){_=e;
c=v;p=I}}if(c==Q[0])break;Q.push(c)}var H=[];for(var v=0;v<Q.length;v++)H.push(j[Q[v]],j[Q[v]+1]);return H};
K.c.zU=function(j){var n={},Q=0,a={M:2,L:2,Q:4,C:6},B="",m="",R={g:[],rZ:[]};for(var v=0;v<j.rZ.length;
v++){var q=j.rZ[v];if(q[0]=="#")B=q;else if(q[0]=="X"){var U=B+m;if(n[U]==null)n[U]={g:[],rZ:[]};K.c.concat(n[U],R);
B="";m="";R={g:[],rZ:[]}}else if(q[0]=="O"&&q[1]=="-")m=q;else if(q=="OX"){if(m!="")m+="-1"}else{R.rZ.push(q);
var l=a[q];if(l==null)l=0;for(var b=0;b<l;b++)R.g.push(j.g[Q+b]);Q+=l}}return n};K.c.aaZ=function(j,n,Q){var a=j[n]-j[Q-2],B=j[n+1]-j[Q-1];
return a*a+B*B<1e-4};K.c.TW=function(j,n,Q){j=K.c.D5(j);var a=j.g,B=j.rZ,m=0,R="",q=0,U=0,m=0,D=null;
for(var v=0;v<B.length;v++){var l=B[v];if(l=="M"){q=a[m];U=a[m+1];m+=2;R=l}if(l=="C"){if(R=="Z"){B.splice(v,0,"M");
a.splice(m,0,q,U);v--;continue}m+=6;R=l}if(l=="Z"){R=l}}var b=[];m=0;for(var v=0;v<B.length;v++){var l=B[v];
if(l=="M"){D={z1:m,tq:0,sP:!1};b.push(D);m+=2}if(l=="C"){D.tq++;m+=6}if(l=="Z"&&D!=null){D.sP=!0}}var c=[];
for(var v=0;v<b.length;v++)if(b[v].tq!=0)c.push(b[v]);b=c;for(var v=0;v<b.length;v++){var _=b[v],p=_.z1,X=p+2+_.tq*6,F=0;
_.wS=K.c.Tv(a,p,X);var g=K.c.aaZ(a,p,X);for(var k=0;k<_.tq;k++){var I=p+k*6,e=I+6;F+=(a[e]-a[I])*(a[e+1]+a[I+1])}if(_.tq==2){var H=function(w,dj,o){var T=1-o;
return T*T*T*w[dj]+3*T*T*o*w[dj+2]+3*T*o*o*w[dj+4]+o*o*o*w[dj+6]},A=a[p],Z=a[p+1],J=a[p+6],s=a[p+7],E=a[p+6],z=a[p+7],h=H(a,p,.5),d=H(a,p+1,.5),Y=H(a,p+6,.5),C=H(a,p+7,.5);
F=(h-A)*(d-Z)+(J-h)*(s-d)+(Y-J)*(C-s)+(E-Y)*(z-C)}if(!g)F+=(a[p]-a[X-2])*(a[p+1]+a[X-1]);_.oq=F<=0}for(var v=0;
v<b.length-1;v++)for(var I=v+1;I<b.length;I++){var i=b[v],M=b[I];if(M.wS.BJ(i.wS)){b[v]=M;b[I]=i}}var W=b.length==0?!0:b[0].oq,$=[{w:6},{w:8,all:0}];
for(var v=0;v<b.length;v++){var _=b[v],p=_.z1,X=p+2+_.tq*6,g=K.c.aaZ(a,p,X);if(_.tq==1)g=!1;var P=_.sP||g?0:3,O=_.oq==W&&!n?1:0;
if(!n&&v!=0){if(b[v-1].wS.BJ(_.wS)&&b[v-1].oq!=_.oq)O=0;for(var I=0;I<b.length;I++)if(I!=v&&b[I].wS.BJ(_.wS))O=0}$.push({w:P,length:_.tq+(g?0:1),H_:Q?0:O,qg:2});
for(var I=0;I<_.tq;I++){var m=p+I*6,G=new eE(a[m],a[m+1]),t=new eE(a[m+2],a[m+3]),y;if(I==0){if(g){y=new eE(a[X-4],a[X-3]);
if(eE.X_(y,G)<1e-5)y=G.O()}else y=G.O()}else y=new eE(a[m-2],a[m-1]);$.push({w:P+2,vK:y,V:G,XH:t})}if(!g){var r=new eE(a[X-2],a[X-1]);
$.push({w:P+2,vK:new eE(a[X-4],a[X-3]),V:r,XH:r.O()})}}for(var I=0;I<$.length;I++){var u=$[I];if(u.w>5||u.w==0||u.w==3)continue;
var S=u.vK.N_(u.V)||u.XH.N_(u.XH);if(!S){var i=u.vK.x*(u.V.y-u.XH.y)+u.V.x*(u.XH.y-u.vK.y)+u.XH.x*(u.vK.y-u.V.y);
if(Math.abs(i)<1e-6)S=!0}if(S)u.w--}return $};K.c.Qn=function(j,n){var Q=K.R.$L(j),a=[];for(var v=2;
v<j.length;v++){var B=j[v].H_;if(B!=null){if(B==2||B==0||B==3||B==-1)a.push(B)}}var m=a.length!=0;if((m||n)&&j.length<5e3&&1<Q&&Q<200)j=K.R.$r(j);
var R=K.c.gb(j);return{TI:R,tA:m?1:0}};K.c.gb=function(){function j(a,B,m,R){if(R!=2&&a.XH.N_(a.V)&&B.vK.N_(B.V)){m.g.push(B.V.x,B.V.y);
m.rZ.push("L")}else{var q=a.V,U=a.XH,l=B.vK,b=B.V,D=3/2*U.x-1/2*q.x,c=3/2*U.y-1/2*q.y,_=3/2*l.x-1/2*b.x,p=3/2*l.y-1/2*b.y,X=_-D,g=p-c;
if(R==0&&X*X+g*g<.001){m.g.push((D+_)*.5,(c+p)*.5,b.x,b.y);m.rZ.push("Q")}else{m.g.push(U.x,U.y,l.x,l.y,b.x,b.y);
m.rZ.push("C")}}}function n(a,B,v,m,R,q){var U=B[v];a.g.push(U.V.x,U.V.y);a.rZ.push("M");for(var l=v;
l<v+m-1;l++)j(B[l],B[l+1],a,q);if(!R)j(B[l],B[v],a,q)}function Q(a,B){if(B==null)B=0;var m={g:[],rZ:[]};
for(var v=0;v<a.length;v++){if(a[v].w>5)continue;var R=a[v].length;if(R==0)continue;if(v==a.length-1)break;
var q=a[v].w==3;n(m,a,v+1,R,q,B);if(!q)m.rZ.push("Z");v+=R}return m}return Q}();K.c.ar_=function(j){var n=j.g,Q=[],a,B=0;
for(var v=0;v<j.rZ.length;v++){var m=j.rZ[v];if(m=="C"){a.push(n[B++],n[B++],n[B++],n[B++],n[B++],n[B++])}else if(m=="Z"){}else{a=[];
if(m!="M"){a.push(m);v++}a.push(n[B++],n[B++]);Q.push(a)}}return Q};K.c.g4=function(j,n,Q,a){if(a==null)a=1e9;
var B=1e9,m=0;for(var v=0;v<j.length;v+=2){var R=n-j[v],q=Q-j[v+1],U=R*R+q*q;if(U<B){B=U;m=v>>>1}}return B<a*a?m:-1};
K.c.aDf=function(j,n,Q,a){for(var v=0;v<j.length;v+=2){var B=j[v],m=j[v+1],R=n[v],q=n[v+1];Q[v]=B+(R-B)*a;
Q[v+1]=m+(q-m)*a}};K.c.C=function(j,n,Q){for(var v=0;v<j.length;v+=2){var a=j[v],B=j[v+1];Q[v]=a*n.NX+B*n.RK+n.Qr;
Q[v+1]=a*n.b+B*n.zP+n.dE}};K.c.Tv=function(j,n,Q){if(n==null)n=0;if(Q==null)Q=j.length;var a=99999999999,B=-a,m=99999999999,R=-m;
for(var v=n;v<Q;v+=2){var q=j[v],U=j[v+1];a=Math.min(a,q);m=Math.min(m,U);B=Math.max(B,q);R=Math.max(R,U)}return new b4(a,m,B-a,R-m)};
K.c.aDG=function(j,n){var Q=Math.max(n.x,Math.min(n.x+n.q,j.x)),a=Math.max(n.y,Math.min(n.y+n._,j.y)),B=j.x-Q,m=j.y-a;
return Math.sqrt(B*B+m*m)};K.c.Fa=function(j,n){var Q=Math.floor,a=Math.ceil;if(n){Q=Math.ceil;a=Math.floor}var B=Q(j.x),m=a(j.x+j.q),R=Q(j.y),q=a(j.y+j._);
return new b4(B,R,m-B,q-R)};K.c.so=function(j,n){return K.c.Fa(K.c.Tv(j),n)};K.c.yc=function(j,n){var Q=j.x,a=j.y,B=j.x+j.q,m=j.y+j._,R=[Q,a,B,a,B,m,Q,m];
if(n){var q=n.O();q.m2();K.c.C(R,q,R)}return{rZ:["M","L","L","L","Z"],g:R}};K.c.concat=function(j,n,Q){if(Q==null)Q=new j8;
for(var v=0;v<n.g.length;v+=2){var a=n.g[v],B=n.g[v+1];j.g.push(a*Q.NX+B*Q.RK+Q.Qr);j.g.push(a*Q.b+B*Q.zP+Q.dE)}for(var v=0;
v<n.rZ.length;v++)j.rZ.push(n.rZ[v])};K.c.reverse=function(j){var n=j.rZ.slice(1),Q=n.pop();if(Q!="Z")n.push(Q);
n.reverse();n=["M"].concat(n);if(Q=="Z")n.push("Z");var a=[],B=j.g.length;for(var m=0;m<B;m+=2){a[m]=j.g[B-2-m];
a[m+1]=j.g[B-2-m+1]}return{g:a,rZ:n}};K.c.afA=function(j,n,Q,a,B){function m(c,_,p){return new eE(c.x*(1-p)+_.x*p,c.y*(1-p)+_.y*p)}var R=m(j,n,B),q=m(Q,a,B),U=m(n,Q,B),l=m(R,U,B),b=m(U,q,B),D=m(l,b,B);
return[R,l,D,b,q]};K.c.D5=function(j){var n=j.g,Q=[],a=[],B=0,m=0,R=0,q=0,U=0,l=0,b=0,D=0,c=0,_=0,p=0;
for(var v=0;v<j.rZ.length;v++){var X=j.rZ[v];if(X=="M"){m=n[B];R=n[B+1];B+=2;a.push(X);Q.push(m,R);_=m;
p=R}else if(X=="C"){q=n[B];U=n[B+1];l=n[B+2];b=n[B+3];D=n[B+4];c=n[B+5];B+=6;a.push(X);Q.push(q,U,l,b,D,c);
m=D;R=c}else if(X=="Q"){q=n[B];U=n[B+1];l=n[B+2];b=n[B+3];B+=4;var g=q-m,F=U-R,k=l-q,I=b-U;a.push("C");
Q.push(m+2/3*g,R+2/3*F,q+1/3*k,U+1/3*I,l,b);m=l;R=b}else if(X=="L"){q=n[B];U=n[B+1];B+=2;if(q!=m||U!=R){a.push("C");
Q.push(m,R,q,U,q,U);m=q;R=U}}else{if(X=="Z"){m=_;R=p}a.push(X)}}return{rZ:a,g:Q}};K.c.atX=function(j){var n=j.g,Q=[],a=[],B=0;
for(var v=0;v<j.rZ.length;v++){var m=j.rZ[v];if(m=="Q"){var R=n[B-2],q=n[B-1],U=n[B],l=n[B+1],b=n[B+2],D=n[B+3];
B+=4;var c=U-R,_=l-q,p=b-U,X=D-l;a.push("C");Q.push(R+2/3*c,q+2/3*_,U+1/3*p,l+1/3*X,b,D)}else{var g=0;
if(m=="M"||m=="L")g=2;else if(m=="C")g=6;for(var F=0;F<g;F++)Q.push(n[B+F]);B+=g;a.push(m)}}return{rZ:a,g:Q}};
K.c.mG=function(j,n){var Q=j.g,a=[],B=[],m=0,R=0,q=0,U=0,l=0,b=0,D=0,c=0,_=0;for(var v=0;v<j.rZ.length;
v++){var p=j.rZ[v];if(p=="M"){R=Q[m];q=Q[m+1];m+=2;B.push(p);a.push(R,q)}else if(p=="C"){U=Q[m];l=Q[m+1];
b=Q[m+2];D=Q[m+3];c=Q[m+4];_=Q[m+5];m+=6;K.c.Sm(R,q,U,l,b,D,c,_,n,B,a,0);R=c;q=_}else B.push(p)}return{rZ:B,g:a}};
K.c.Sm=function(j,n,Q,a,B,m,R,q,U,l,b,D){var c=Math.sqrt((R-j)*(R-j)+(q-n)*(q-n)),_=Math.sqrt((R-B)*(R-B)+(q-m)*(q-m))+Math.sqrt((B-Q)*(B-Q)+(m-a)*(m-a))+Math.sqrt((Q-j)*(Q-j)+(a-n)*(a-n)),p=(c+_)/2;
if(p<=U){l.push("C");b.push(Q,a,B,m,R,q)}else{var X=0,g=0,F=0,k=0,I=0,e=0,H=0,A=0,Z=0,J=0,s=0,E=0,z=0;
g=(j+Q)/2;F=(n+a)/2;k=(Q+B)/2;I=(a+m)/2;e=(B+R)/2;H=(m+q)/2;A=(g+k)/2;Z=(F+I)/2;J=(k+e)/2;s=(I+H)/2;
E=(A+J)/2;z=(Z+s)/2;K.c.Sm(j,n,g,F,A,Z,E,z,U,l,b,D+1);K.c.Sm(E,z,J,s,e,H,R,q,U,l,b,D+1)}};K.c.Qs=function(j,n,Q,a,B){var m=Date.now(),R=K.c.aAc(j,n,Q);
if(B){console.log("trace polygons",Date.now()-m);m=Date.now()}var q=[];for(var v=0;v<R.length;v++){var U=R[v],l=U[0],b=["M"],D=j[l[1]*n+l[0]];
if(l.length>8)l=K.c.aba(l,a,U[1]);if(l.length<=4)continue;for(var c=2;c<l.length;c+=2)b.push("L");b.push("Z");
q.push({path:{g:l,rZ:b},color:D,parent:-1,wS:K.c.Tv(l)})}if(B){console.log("simplify polygons",Date.now()-m);
m=Date.now()}for(var v=1;v<q.length;v++){var _=q[v],p=_.path.g,X=p[0],g=p[1],F=p[2],k=p[3],I=F-X,e=k-g,H=X+.5*I-.001*e,A=g+.5*e+.001*I;
for(var c=v-1;c>=0;c--){var Z=q[c];if(!Z.wS.BJ(_.wS))continue;if(!cc.fZ(Z.path.g,H,A))continue;_.parent=c;
break}}if(B){console.log("checking parents",Date.now()-m);m=Date.now()}return q};K.c.aAc=function(j,n,Q){var a=n*Q,B=new Uint16Array(n*Q),R=0;
for(var v=0;v<a;v++)B[v]=j[v];var m=new Uint8Array(n*Q);m[1*n+1]=m[(Q-1)*n+1]=m[1*n+n-1]=m[(Q-1)*n+n-1]=1;
for(var q=1;q<Q;q++)for(var U=1;U<n;U++){var v=q*n+U,l=B[v-n-1],b=B[v-n],D=B[v-1],c=B[v],_=l==c&&b==D&&l!=b,p=0;
if(c<D){R=c;c=D;D=R}if(D<b){R=D;D=b;b=R}if(b<l){R=b;b=l;l=R}if(c<D){R=c;c=D;D=R}if(D<b){R=D;D=b;b=R}if(c<D){R=c;
c=D;D=R}if(l!=b)p++;if(b!=D)p++;if(D!=c)p++;if(c!=l)p++;if(p>=3||_)m[v]=1}var X=[];for(var q=1;q<Q;q++)for(var U=1;
U<n;U++){var v=q*n+U;if(B[v]!=B[v-1]){var g=K.c.ak7(B,n,Q,U,q),F=[];for(var k=0;k<g.length;k+=2)if(m[g[k+1]*n+g[k]]==1)F.push(k>>>1);
X.push([g,F]);K.c.DH(B,n,Q,U,q)}}return X};K.c.DH=function(j,n,Q,a,B){var m=[B*n+a],R=j[B*n+a];j[B*n+a]=65535;
while(m.length!=0){var v=m.pop();j[v]=0;if(j[v+n]==R){m.push(v+n);j[v+n]=65535}if(j[v-n]==R){m.push(v-n);
j[v-n]=65535}if(j[v-1]==R){m.push(v-1);j[v-1]=65535}if(j[v+1]==R){m.push(v+1);j[v+1]=65535}}};K.c.ak7=function(j,n,Q,a,B){var m=[0,-1,1,0,0,1,-1,0],b=1;
function R(c,_,b){var v=l*n+U,p=0;if(b==0)p=v-n;else if(b==1)p=v;else if(b==2)p=v-1;else if(b==3)p=v-n-1;
return j[p]}var q=[],U=a,l=B,D=R(U,l,b);do{q.push(U,l);U+=m[b*2];l+=m[b*2+1];if(R(U,l,b)!=D)b=b+1&3;
else if(R(U,l,b+3&3)!=D)b=b;else if(R(U,l,b+2&3)!=D)b=b+3&3}while(U!=a||l!=B);return q};K.c.aba=function(j,n,Q){if(n==null||n==0)return j;
var a=j.length-2;if(Q&&Q.length!=0){var B=Q[0]*2,m=Q[Q.length-1]*2,R=B==0?a:B-2,q=j.slice(m);for(var v=0;
v<B;v++)q.push(j[v]);if(B==m)q.push(.9*j[B]+.1*j[R],.9*j[B+1]+.1*j[R+1]);else q.push(j[B],j[B+1]);q=K.c.Hr(q,n);
q.pop();q.pop();for(var v=0;v<Q.length-1;v++){var U=j.slice(Q[v]*2,Q[v+1]*2+2);U=K.c.Hr(U,n);for(var l=0;
l<U.length-2;l++)q.push(U[l])}return q}var b=j.slice(0);b.push(.9*j[0]+.1*j[a],.9*j[1]+.1*j[a+1]);b=K.c.Hr(b,n);
b.pop();b.pop();return b};K.c.Hr=function(j,n){var Q=j.length-2,a=j[0],B=j[1],m=j[Q],R=j[Q+1],q=m-a,U=R-B,l=1/Math.sqrt(q*q+U*U),b=m*B-R*a,D=-1,c=-1,_=0;
for(var v=2;v<Q;v+=2){var p=j[v],X=j[v+1],g=X*X*1e6+p*p,F=Math.abs(U*p-q*X+b)*l;if(F>c||F==c&&g>_){c=F;
D=v;_=g}}if(c<n)return[a,B,m,R];var k=K.c.Hr(j.slice(0,D+2),n),I=K.c.Hr(j.slice(D),n);for(var v=2;v<I.length;
v++)k.push(I[v]);return k};K.c.amj=function(){var j=function(a,B,m,R,q,U){return(B-R)*(q-m)+(m-a)*(U-R)>=0},n=function(a,B,m,R,q,U,l,b){var D=l-m,c=b-R,_=q-m,p=U-R,X=a-m,g=B-R,F=D*D+c*c,k=D*_+c*p,I=D*X+c*g,e=_*_+p*p,H=_*X+p*g,A=1/(F*e-k*k),Z=(e*I-k*H)*A,J=(F*H-k*I)*A;
return Z>=0&&J>=0&&Z+J<1},Q=function(a){var dv=a.length>>>1,v=0;if(dv<3)return[];var B=[],m=[];for(var v=0;
v<dv;v++)m.push(v);var R=dv;while(R>3){var q=m[(v+0)%R],U=m[(v+1)%R],l=m[(v+2)%R],b=a[2*q],D=a[2*q+1],c=a[2*U],_=a[2*U+1],p=a[2*l],X=a[2*l+1],g=!1;
if(j(b,D,c,_,p,X)){g=!0;for(var F=0;F<R;F++){var k=m[F];if(k==q||k==U||k==l)continue;if(n(a[2*k],a[2*k+1],b,D,c,_,p,X)){g=!1;
break}}}if(g){B.push(q,U,l);m.splice((v+1)%R,1);R--;v=0}else if(v++>3*R)break}B.push(m[0],m[1],m[2]);
return B};return Q}();K.c.aAL=function(j,n){var Q={},a={rZ:[],g:[]};for(var v=0;v<n.length;v+=3){var B=n[v]*2,m=n[v+1]*2,R=n[v+2]*2;
K.c.Cp(j,B,m,a,Q);K.c.Cp(j,B,R,a,Q);K.c.Cp(j,m,R,a,Q)}return a};K.c.Cp=function(j,n,Q,a,B){if(n>Q){var m=Q;
Q=n;n=m}if(B[n+","+Q])return;B[n+","+Q]=!0;a.rZ.push("M","L");a.g.push(j[n],j[n+1],j[Q],j[Q+1])};K.c.a8a=function(j,n){var Q=[],a=j.length;
for(var v=0;v<a;v+=2){var B=j[v],m=j[v+1],R=j[(v+2)%a],q=j[(v+3)%a];if(q<m){var U=m;m=q;q=U}if(m<n&&n<q){var l=(n-m)/(q-m);
Q.push(B+l*(R-B))}}Q.sort(function(b,D){return b-D});return Q};K.c.ajC=function(j,n,Q,a,B,m,R){var q=j-Q,U=n-a,l=B-Q,b=m-a,D=1/Math.sqrt(q*q+U*U),c=1/Math.sqrt(l*l+b*b),_=q*D,p=U*D,X=l*c,g=b*c,F=p*R,k=-_*R,I=-g*R,e=X*R,H=K.c.wr(F,k,_,p,I,e,X,g),A=F+_*H,Z=k+p*H,H=K.c.wr(0,0,_,p,A,Z,-p,_),J=_*H,s=p*H;
return[Math.sqrt(J*J+s*s),_,p,X,g]};K.c.a0v=function(j,n,Q,a,B,m,R){var q=K.c.ajC(j,n,Q,a,B,m,R),U=q[0],l=q[1],b=q[2],D=q[3],c=q[4],_=Math.atan2(l*c-b*D,l*D+b*c);
if(_<0){_=_*-1}var p=Math.PI-_,X=4/3*Math.tan(p/4),g=Q+U*l,F=a+U*b,k=Q+U*D,I=a+U*c,e=g+X*R*-l,H=F+X*R*-b,A=k+X*R*-D,Z=I+X*R*-c;
return[0,0,g,F,e,H,A,Z,k,I]};K.c.wr=function(j,n,Q,a,B,m,R,q){var U=R*(n-m)-q*(j-B),l=q*Q-R*a;if(l==0)return 0;
return U/l};K.c.pK=function(j,n,Q,a,B,m){return j*(a-m)+Q*(m-n)+B*(n-a)};K.c.a2V=function(j){function n(Y,C,i,M,W,$,P,O,G){var t=K.c.wr(Y,C,i,M,W,$,P,O);
G.push(Y+i*t,C+M*t)}var Q=[],a=j.length,B=[];for(var v=0;v<a;v+=2){var m=v==0?a-2:v-2,R=v==a-2?0:v+2,q=j[v],U=j[v+1],l=q-j[m],b=U-j[m+1],D=j[R]-q,c=j[R+1]-U,_=Math.sqrt(l*l+b*b),p=Math.sqrt(D*D+c*c);
B.push(p);var X=_/(_+p),g=q-l*.5,F=U-b*.5,k=q+D*.5,I=U+c*.5,e=(j[R]+j[m])*.5,H=(j[R+1]+j[m+1])*.5,A=g+X*(k-g),Z=F+X*(I-F),J=q-A,s=U-Z,E=(D*-l+c*-b)/(_*p),z=(X-.5)*7,h=1+z*X,d=1-z*(1-X);
Q.push(g+J*h,F+s*h,k+J*d,I+s*d)}return Q};K.kF=function(){};K.kF.Lr=function(j,n,Q,a,B){var m=Q.q,R=Q._,q=m*R,U=new Int32Array(q),dv=0;
for(var v=0;v<q;v++)if(n[v]!=0){U[v]=dv;dv++}else if(j[(v<<2)+3]<200){U[v]=-2}else U[v]=-1;if(dv==0)return;
var l=new K.U5(dv,dv),b=new Array(3*dv),D=new Array(3*dv);for(var v=0;v<D.length;v++)D[v]=b[v]=0;var c=1/255,_=[-m,-1,1,m],p=[],X=[];
for(var g=0;g<R;g++)for(var F=0;F<m;F++){var k=g*m+F,I=k<<2,v=U[k],e=v*3,H=0,A=0,Z=0;if(v==-1||v==-2)continue;
for(var J=0;J<4;J++){if(J==2){A=Z;p[Z]=0;X[Z]=v;Z++}var s=k+_[J],E=s<<2,z=U[s];if(J==0&&g==0||J==1&&F==0||J==2&&F==m-1||J==3&&g==R-1||z==-2)continue;
H++;if(z==-1){b[e+0]+=j[E+0];b[e+1]+=j[E+1];b[e+2]+=j[E+2]}else{p[Z]=-1;X[Z]=z;Z++;if(n[k]==n[s]){b[e+0]+=j[I+0]-j[E+0];
b[e+1]+=j[I+1]-j[E+1];b[e+2]+=j[I+2]-j[E+2]}}}p[A]=H;l.Tp(p,X,Z)}for(var v=0;v<q;v++)if(U[v]!=-1){var h=v<<2,d=U[v],Y=d*3;
D[Y]=j[h+0];D[Y+1]=j[h+1];D[Y+2]=j[h+2]}var C=Date.now();l.a4P(D,b,a,B);console.log(Date.now()-C);for(var v=0;
v<q;v++){var d=U[v],i=d*3,h=v<<2;if(d==-1||j[h+3]!=255)continue;j[h+0]=~~(.5+Math.max(0,Math.min(255,D[i+0])));
j[h+1]=~~(.5+Math.max(0,Math.min(255,D[i+1])));j[h+2]=~~(.5+Math.max(0,Math.min(255,D[i+2])))}};K.s={};
K.s.a7a=function(j,n){var Q=[j],a=[];for(var v=0;v<n.length;v++){var B=n[v],m=!1;for(var R=v+1;R<n.length;
R++){var q=n[R];if(q[0]<=B[0]&&q[1]<=B[1]&&B[2]<=q[2]&&B[3]<=q[3]){m=!0;break}}if(!m)a.push(B)}n=a;for(var v=0;
v<n.length;v++){var B=n[v];for(var R=0;R<Q.length;R++){var q=Q[R],U=Math.max(B[0],q[0]),l=Math.min(B[2],q[2]),b=Math.max(B[1],q[1]),D=Math.min(B[3],q[3]);
if(U<l&&b<D){var c=[];if(q[1]<B[1]){var _=q.slice(0);_[3]=B[1];c.push(_)}if(q[0]<B[0]){var p=q.slice(0);
p[1]=b;p[2]=B[0];c.push(p)}if(B[2]<q[2]){var X=q.slice(0);X[1]=b;X[0]=B[2];c.push(X)}if(B[3]<q[3]){var g=[U,D,l,q[3]];
c.push(g)}if(c.length!=0){Q[R]=c[0];for(var F=1;F<c.length;F++)Q.push(c[F])}}}Q.push(B);Q=K.s.ap9(Q)}Q.sort(function(B,q){return B[1]!=q[1]?B[1]-q[1]:B[0]-q[0]});
for(var v=1;v<Q.length;v++){var B=Q[v-1],q=Q[v];if(B[0]==q[0]&&B[1]==q[1]&&B[2]==q[2]&&B[3]==q[3]){Q.splice(B[4]==null?v-1:v,1);
v--}}return Q};K.s.ap9=function(j){j=j.slice(0);for(var v=0;v<j.length;v++){var n=j[v],Q=null;if(n[4]!=null)continue;
for(var a=0;a<j.length;a++){var B=j[a];if(v==a||B[4]!=null)continue;var m=n[0]==B[0],R=n[1]==B[1],q=n[2]==B[2],U=n[3]==B[3];
if(R&&U&&(n[2]==B[0]||n[0]==B[2])){Q=[Math.min(n[0],B[0]),n[1],Math.max(n[2],B[2]),n[3]]}if(m&&q&&(n[3]==B[1]||n[1]==B[3])){Q=[n[0],Math.min(n[1],B[1]),n[2],Math.max(n[3],B[3])]}if(Q){j[v]=Q;
j.splice(a,1);break}}if(Q){v--}}return j};K.s.M7=function(j){var n=new b4;for(var v=0;v<j.length;v++)n=n.d_(j[v]);
return n};K.s.a5V=function(j,n){var Q=K.s.M7,a=new UnionFind(j.length),A=1e3,Z=1e3;for(var v=0;v<j.length;
v++)for(var B=v+1;B<j.length;B++){if(!n)continue;var m=j[v],R=j[B],D=1e9,c=1e9;if(m.Ta(R)){a.link(v,B);
continue}var q=m.x+m.q,U=m.y+m._,l=R.x+R.q,b=R.y+R._;if((q<R.x||l<m.x)&&(U<R.y||b<m.y))continue;if(!(U<R.y||b<m.y))D=Math.min(Math.abs(q-R.x),Math.abs(m.x-l));
if(!(q<R.x||l<m.x))c=Math.min(Math.abs(U-R.y),Math.abs(m.y-b));var _=Math.min(D,c),p=Math.min(m.q,m._,R.q,R._);
if(_<.3*p)a.link(v,B)}var X=[],g={};for(var v=0;v<j.length;v++){var F=a.find(v),k=j[v];if(g[F]==null){g[F]=X.length;
X.push([])}X[g[F]].push(k)}var I=[],e=[];for(var v=0;v<X.length;v++){I.push(Q(X[v]));var H=Q(X[v]);H.dL=v;
e.push(H)}e.sort(function(M,W){return Math.max(W._,W.q)-Math.max(M._,M.q)});var J=new NETXUS.RectanglePacker(A,Z);
while(!0){var s=!1;J.reset(A,Z);for(var v=0;v<e.length;v++){var E=J.findCoords(e[v].q,e[v]._);if(E){e[v].x=E.x;
e[v].y=E.y}else{A=Math.floor(A*1.1);Z=Math.floor(Z*1.1);s=!0;break}}if(s)continue;break}for(var v=0;
v<X.length;v++){var z=e[v],h=z.dL,d=I[h],Y=X[h],C=z.x-d.x,i=z.y-d.y;for(var B=0;B<Y.length;B++)Y[B].offset(C,i)}};
K.s.aEO=function(j){var n=[],Q=[],a=function(H,A){return H-A};for(var v=0;v<j.length;v++){var B=j[v];
if(n.indexOf(B[0])==-1)n.push(B[0]);if(n.indexOf(B[2])==-1)n.push(B[2]);if(Q.indexOf(B[1])==-1)Q.push(B[1]);
if(Q.indexOf(B[3])==-1)Q.push(B[3])}n.sort(a);Q.sort(a);n.push(n[n.length-1]+1);Q.push(Q[Q.length-1]+1);
var m=[],R=n.length-1,q=Q.length-1;for(var U=0;U<q;U++){var l=[];m.push(l);for(var b=0;b<R;b++){var D=n[b],c=n[b+1],_=Q[U],p=Q[U+1],X=(D+c)/2,g=(_+p)/2,F=-1,k=-1;
for(var v=0;v<j.length;v++){var B=j[v];if(B[0]==D&&B[1]==_)F=v;if(B[0]<X&&X<B[2]&&B[1]<g&&g<B[3])k=v}if(F!=-1){var B=j[F],I=1,e=1;
while(n[b+I]<B[2])I++;while(Q[U+e]<B[3])e++;l.push([F,B[2]-B[0],B[3]-B[1],I,e])}else if(k!=-1)continue;
else l.push([-1,c-D,p-_,1,1])}}return[n.pop(),Q.pop(),m]};K.s.a3X=function(j,n,Q,a){var B=K.s.aEO(j),m=["<table id=\"Table_01\" width=\""+B[0]+"\" height=\""+B[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],R=B[2];
for(var v=0;v<R.length;v++){var q=R[v];m.push("\t<tr>");for(var U=0;U<q.length;U++){var l=q[U],b=null,D="",c="",_=l[3],p=l[4],F="";
if(l[0]!=-1){var X=l[0],g=j[X];if(g.length==5){b=Q[g[4]].v;D=b.url.v}c="src=\""+n[X]+"\"";if(g[4]==null&&a==2)c=""}if(_!=1)F+=" colspan=\""+_+"\"";
if(p!=1)F+=" rowspan=\""+p+"\"";m.push("\t\t<td"+F+">");if(D!="")m.push("\t\t\t<a href=\""+D+"\" target=\""+b.null.v+"\">");
m.push((D==""?"":"\t")+"\t\t\t<img "+c+" width=\""+l[1]+"\" height=\""+l[2]+"\" alt=\""+(b?b.altTag.v:"")+"\"></td>"+(D==""?"":"</a>"))}if(v==R.length-1){m.pop();
m.pop();m.push("\t\t<td></td>")}m.push("\t</tr>")}m.push("</table>");return m.join("\n")};K.Ai=function(){};
K.Ai.ni=Math.floor(16*window.devicePixelRatio);K.Ai.iR={};K.Ai.qr=0;K.Ai.BP=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
K.Ai.a7h=["px","in","cm","mm","%"];K.Ai.hb=function(j,n,Q,a){var B=[1,n,n/2.54,n/25.4,Q/100][a];return j*B};
K.Ai.SA=function(j,n,Q,a){var B=[1,n,n/2.54,n/25.4,Q/100][a];return j/B};K.Ai.HZ=function(j,n,Q,a,B){var m=Q.c8.bp,R=[1,n,n/2.54,n/25.4,a/100][m],q=[2,3,2,1,2][m];
j=j/R;var U=Math.round(j),l=m==0&&Math.abs(j-U)<1e-6?U+"":j.toFixed(q);if(B)l+=" "+K.Ai.a7h[m];return l};
K.Ai.a68=function(j,n,Q,a){var B=Q.c8.bp,m=[1,n,n/2.54,n/25.4,a/100][B];j=parseFloat(j)*m;return j};
K.Ai.aGt=function(j,n){var Q=j+","+n;if(K.Ai.iR.clr==Q)return;var a=Math.round(K.Ai.ni*.5);K.Ai.qr=a;
var B=K.uq(a,a);B.save();B.font=a*1.5+"px monospace";var m="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var v=0;
v<m.length;v++){B.fillStyle="#"+K.EA(n);B.fillRect(0,0,a,a);B.fillStyle="#"+K.EA(j);B.fillText(m[v],0,a);
K.Ai.iR[m[v]]=new Uint8Array(B.getImageData(0,0,a,a).data.buffer)}K.Ai.iR.clr=Q;B.restore()};K.Ai.ayR=function(j,n,Q,a){var B=0,m=0,R=4*K.Ai.ni;
for(var v=9;v>=0;v--){var q=Math.pow(10,v);if(5*q*j<=R){B=5*q;m=10;break}if(2*q*j<=R){B=2*q;m=4;break}if(1*q*j<=R){B=1*q;
m=a;break}}if(B==0){B=1;m=a}var U=Math.ceil(B*j),l=K.U(U*K.Ai.ni*4);K.G5(l,4278190080|Q);for(var v=0;
v<K.Ai.ni;v++)K.Ai.ju(l,4*v*U,n);for(var v=0;v<U;v++)K.Ai.ju(l,4*((K.Ai.ni-1)*U+v),n);if(B==2)m=2;if(B==5)m=5;
if(B>1||B==1&&U>20)for(var v=1;v<m;v++)K.Ai.aAn(l,v*(U/m),U,(v&1)==1?.8:.7,n);return{_x:l,step:B}};K.Ai.aAn=function(j,n,Q,a,B){var n=Math.round(n);
for(var m=Math.round(K.Ai.ni*a);m<K.Ai.ni-1;m++)K.Ai.ju(j,4*(m*Q+n),B)};K.Ai.ju=function(j,n,Q){j[n+0]=Q>>16&255;
j[n+1]=Q>>8&255;j[n+2]=Q&255};K.Ai.aub=function(j,n,Q,a,B,m,R,q){var U=j.C5.q,l=j.C5._,b=K.Ai.ni,D=n&255,c=n>>8&255,_=n>>16&255;
n=Math.round(D*.6)<<16|Math.round(c*.6)<<8|Math.round(_*.6);K.Ai.aGt(Math.round(D*.8)<<16|Math.round(c*.8)<<8|Math.round(_*.8),Q);
var p=j.yr,X=j.k,g=j.c6;for(var F=0;F<2;F++){var k=F==0?m:R;j.yr=k[0];j.k=k[1];j.c6=0;var I=this.ayR(j.yr,n,Q,q),e=j.oR(0,0),H=j.oR(U,l),A=Math.floor(e.x/I.step)*I.step,Z=Math.ceil(H.x/I.step)*I.step,J=Math.floor(e.y/I.step)*I.step,s=Math.ceil(H.y/I.step)*I.step,E=j.Vh(A,J),z=j.Vh(Z,J),h=I.step*j.yr,d=Math.ceil(h);
if(F==1){var Y=I._x;I._x=K.U(Y.length*4);K.D.UI(Y,I._x,d,b)}var C=F==0?j.vV.data:j.L$.data,i=new b4(0,0,[U,b][F],[b,l][F]),M=new b4(0,0,[d,b][F],[b,d][F]),W=new b4([0,Math.round(b*.2)][F],[Math.round(b*.08),0][F],K.Ai.qr,K.Ai.qr),$=(F==0?Z-A:s-J)/I.step;
for(var v=0;v<$;v++){if(F==0)M.x=Math.round(E.x+v*h);else M.y=Math.round(E.y+v*h);K.EC(I._x,M,C,i,M);
var P=(F==0?A+v*I.step:Math.abs(J+v*I.step)).toString(10);for(var O=0;O<P.length;O++){if(F==0)W.x=M.x+3+O*Math.round(K.Ai.qr*.8);
else W.y=M.y+3+O*Math.round(K.Ai.qr*1.15);var G=K.Ai.iR[P[O]];K.EC(G,W,C,i,W)}}}j.yr=p;j.k=X;j.c6=g;
var t=Math.floor(b*.6),y=new Uint32Array(j.vV.data.buffer),r=new Uint32Array(j.L$.data.buffer),u=D<128?4278190080:4294967295;
if(0<a&&a<U)for(var v=0;v<t;v++)y[v*U+a]=u;if(0<B&&B<l)for(var v=0;v<t;v++)r[B*b+v]=u};K.scale={};K.scale.q$=document.createElement("canvas");
K.scale.Pf=K.scale.q$.getContext("2d");K.scale.MG=function(j,n,Q){var a=K.scale.q$,B=K.scale.Pf;a.width=n;
a.height=Q;var m=new ImageData(new Uint8ClampedArray(j.buffer),n,Q);B.putImageData(m,0,0);return B.createPattern(B.canvas,"repeat")};
K.scale.acw=function(j,n,Q,a,B,m,R,q,U){var l=K.scale.aAl(j,Q,a,B,m,R,q,U);if(n)n.set(l);return new Uint8Array(l.buffer)};
K.scale.aAl=function(j,n,Q,a,B,m,R,q){var U=K.uq(n,Q);U.save();U.rect(0,0,n,Q);U.translate(m,R);U.scale(a,B);
if(q!=null)U.rotate(-q);U.fillStyle=j;U.fill();U.restore();return new Uint8Array(U.getImageData(0,0,n,Q).data.buffer)};
K.scale.C=function(j,n,Q,a,B){var m=K.Rz(j),R=Q.b==0&&Q.RK==0,q=B.q,U=B._,l=K.c.yc(n,Q).g,b=K.c.so(l,R).uf(B),D=b.x,c=b.y,_=D+b.q,p=c+b._,X=~~n.x,g=~~n.y,F=~~n.q,k=~~n._;
if(R)for(var I=c;I<p;I++){var e=Q.zP*(I+.5)+Q.dE-g,H=~~e*F;for(var A=D;A<_;A++){var Z=Q.NX*(A+.5)+Q.Qr-X,v=H+~~Z;
if(m==8)a[I*q+A]=j[v];else if(m==16)a[I*q+A]=j[v]>>>8;else a[I*q+A]=j[v]*255}}else for(var I=c;I<p;I++)for(var A=D;
A<_;A++){var J=A+.5,s=I+.5,Z=Q.NX*J+Q.RK*s+Q.Qr-X,e=Q.b*J+Q.zP*s+Q.dE-g;if(0<=Z&&0<=e&&Z<F&&e<k){var v=~~e*F+~~Z;
if(m==8)a[I*q+A]=j[v];else if(m==16)a[I*q+A]=j[v]>>>8;else a[I*q+A]=j[v]*255}}};K.scale.az7=function(j,n,Q,a,B,m){var R=K.Rz(j),q=new Uint32Array(j.buffer),U=new Uint32Array(a.buffer),l=B.q,b=B._,D=K.c.yc(n,Q).g,c=m?B:K.c.so(D).uf(B),_=c.x,p=c.y,X=_+c.q,g=p+c._,F=~~n.x,k=~~n.y,I=~~n.q,e=~~n._;
for(var H=p;H<g;H++)for(var A=_;A<X;A++){var Z=A+.5,J=H+.5,s=Q.NX*Z+Q.RK*J+Q.Qr-F,E=Q.b*Z+Q.zP*J+Q.dE-k;
if(m){s=((I<<10)+s)%I;E=((e<<10)+E)%e}if(0<=s&&0<=E&&s<I&&E<e){if(R==8)U[H*l+A]=q[~~E*I+~~s];else{var z=(~~E*I+~~s)*4,B,h,d,Y;
if(R==16){B=j[z]>>>8;h=j[z+1]>>>8;d=j[z+2]>>>8;Y=j[z+3]>>>8}else{B=j[z]*255;h=j[z+1]*255;d=j[z+2]*255;
Y=j[z+3]*255}U[H*l+A]=Y<<24|d<<16|h<<8|B}}}};K.scale.vH=function(j,n,Q,a,B,m,R){if(R<1)K.scale.ag3(j,n,Q,a,B,m,Math.round(1/R));
else K.scale.ad9(j,n,Q,a,B,m,R)};K.scale.J4=function(j,n,Q,a,B,m,R,q){if(q)q=q.uf(new b4(0,0,n,Q));j=new Uint32Array(j.buffer);
a=new Uint32Array(a.buffer);if(R<1)K.scale.a5p(j,n,Q,a,B,m,Math.round(1/R),q);else K.scale.a2q(j,n,Q,a,B,m,R)};
K.scale.ad9=function(j,n,Q,a,B,m,R){for(var q=0;q<Q;q++)for(var U=0;U<n;U++){var l=j[q*n+U],b=Math.min(R,B-U*R),D=Math.min(R,m-q*R);
for(var v=0;v<D;v++)for(var c=0;c<b;c++)a[(R*q+v)*B+R*U+c]=l}};K.scale.ag3=function(j,n,Q,a,B,m,R){for(var q=0;
q<m;q++)for(var U=0;U<B;U++){var l=0,b=Math.min(R,n-U*R),D=Math.min(R,Q-q*R);for(var v=0;v<D;v++)for(var c=0;
c<b;c++)l+=j[(R*q+v)*n+(R*U+c)];a[q*B+U]=Math.round(l/(b*D))}};K.scale.a2q=function(j,n,Q,a,B,m,R){for(var q=0;
q<Q;q++)for(var U=0;U<n;U++){var l=j[q*n+U],b=Math.min(R,B-U*R),D=Math.min(R,m-q*R);for(var v=0;v<D;
v++)for(var c=0;c<b;c++)a[(R*q+v)*B+R*U+c]=l}};K.scale.aCI=function(j,n,Q){return(j>>>Q&255)+(n>>>Q&255)>>>1};
K.scale.R3=function(j,n){var Q=K.scale.aCI;return Q(j,n,24)<<24|Q(j,n,16)<<16|Q(j,n,8)<<8|Q(j,n,0)};
K.scale.aks=function(j,n,Q,a,B,m){var R=new Uint32Array(j.buffer),q=new Uint32Array(a.buffer);for(var U=0;
U<Q;U++){for(var l=0;l<n;l++){var b=U*n+l,D=R[b],c=D,_=D,p=D;if(l<n-1)c=K.scale.R3(D,R[b+1]);if(U<Q-1)_=K.scale.R3(D,R[b+n]);
if(l<n-1&&U<Q-1)p=K.scale.R3(D,R[b+n+1]);var X=(U*B+l)*2;q[X]=D;q[X+1]=c;q[X+B]=_;q[X+B+1]=p}}if((B&1)==1)for(var U=0;
U<m;U++)q[U*B+B-1]=q[U*B+B-2];var g=B*(m-1);if((m&1)==1)for(var l=0;l<B;l++)q[g+l]=q[g-B+l]};K.scale.a5p=function(j,n,Q,a,B,m,R,q){var U=0,l=B,b=0,D=m;
if(q){U=Math.floor(q.x/R);l=Math.ceil((q.x+q.q)/R);b=Math.floor(q.y/R);D=Math.ceil((q.y+q._)/R)}for(var c=b;
c<D;c++)for(var _=U;_<l;_++){var p=0,X=0,g=0,F=0,k=Math.min(R,n-_*R),I=Math.min(R,Q-c*R);for(var v=0;
v<I;v++)for(var e=0;e<k;e++){var H=j[(R*c+v)*n+R*_+e],A=H>>>24;p+=A;X+=A*(H>>>16&255);g+=A*(H>>>8&255);
F+=A*(H&255)}if(p!=0){var Z=1/p;a[c*B+_]=p/(k*I)<<24|X*Z<<16|g*Z<<8|F*Z}else a[c*B+_]=0}};K.K=function(){function j(q,U,v){return(128&q[v-U-1]&q[v-U]&q[v-2]&q[v-1]&q[v+1]&q[v+U-1]&q[v+U])==0}function n(q,U,v){return(128&q[v-U-U]&q[v-U+1]&q[v+2]&q[v+U+1]&q[v+U+U])==0}function Q(q,U,v){return(q[v-U]&q[v-1]&q[v+1]&q[v+U]&128)==0}function a(q,v){return(q[v]&128)!=0}function B(q,U,l,b){var v=0,D=l.q,c=l._;
if(b)for(var _=0;_<c;_++)for(var p=0;p<D;p++){if(a(q,v)&&(p<2||_<2||p>D-3||_>c-3||((q[v-1]&128)==0||U[v-1]!=0)&&j(q,D,v)||n(q,D,v)))U[v]=255;
v++}else for(var _=0;_<c;_++)for(var p=0;p<D;p++){if(a(q,v)&&(p==0||_==0||p==D-1||_==c-1||Q(q,D,v)))U[v]=255;
v++}}function m(q,U,l,b,D){var c=l.q,_=l._,p=new Uint8Array(U.buffer),X=new Uint32Array(U.buffer);if(D)for(var g=2;
g<_-2;g++)for(var F=2;F<c-2;F++){var v=g*c+F;if(a(q,v)&&(((q[v-1]&128)==0||X[v-1]!=0)&&j(q,c,v)||n(q,c,v)))X[v]=b[(F+g&4)>>>2]}else for(var g=1;
g<_-1;g++)for(var F=1;F<c-1;F++){var v=g*c+F;if(a(q,v)&&Q(q,c,v)){X[v]=b[(F+g&4)>>>2]}}}function R(q,U,l,b,D){var c=l.q,_=l._,p=new Uint8Array(U.buffer),X=new Uint32Array(U.buffer),v=0;
if(b==1)for(var g=0;g<_;g++)for(var F=0;F<c;F++,v++){var k=q[v];X[v]=255-k>>>1<<24|255}else for(var g=0;
g<_;g++)for(var F=0;F<c;F++,v++){var k=q[v];X[v]=255<<24|(k<<16|k<<8|k)}}return{ak5:B,aj0:m,a7C:R}}();
K.I8={};K.I8.oP=function(j,n,Q){var a,B;if(Q==0){a=j.s.O();B=K.I8.anK}if(Q==1){a=j.s.d_(n.s);B=K.I8.d_}if(Q==2){a=n.s.O();
B=K.I8.aof}if(Q==3){a=j.s.uf(n.s);B=K.I8.uf}if(Q==4){a=j.s.d_(n.s);B=K.I8.aw2}if(a.ke())return null;
var m=K.U(a.$());K.Gc(n.G,n.s,m,a);var R=K.U(a.$());K.Gc(j.G,j.s,R,a);B(R,m,m);var q=K.eW(m,a);if(q.ke())return null;
if(!q.N_(a)){var U=K.U(q.$());K.Gc(m,a,U,q);m=U;a=q}return{G:m,s:a}};K.I8.anK=function(j,n,Q){for(var v=0;
v<j.length;v++)Q[v]=j[v]};K.I8.d_=function(j,n,Q){for(var v=0;v<j.length;v++)Q[v]=Math.min(j[v]+n[v],255)};
K.I8.aof=function(j,n,Q){for(var v=0;v<j.length;v++)Q[v]=Math.max(n[v]-j[v],0)};K.I8.uf=function(j,n,Q){var a=1/255;
for(var v=0;v<j.length;v++)Q[v]=j[v]*n[v]*a};K.I8.aw2=function(j,n,Q){var a=1/255;for(var v=0;v<j.length;
v++)Q[v]=Math.min(j[v]+n[v],255)-j[v]*n[v]*a};K.U5=function(j,n){this.l=[];this.w3=[0];this.ox=[];this.j$=[];
this.nO=[0];this.bS=[];this.FK=[];this.rows=j;this.cols=n};K.U5.prototype.O=function(){var j=this,n=j.rows,Q=j.cols,a=new K.U5(n,Q);
a.l=j.l.slice(0);a.w3=j.w3.slice(0);a.ox=j.ox.slice(0);a.j$=j.j$.slice(0);a.nO=j.nO.slice(0);a.bS=j.bS.slice(0);
a.FK=j.FK.slice(0);return a};K.U5.prototype.Tp=function(j,n,Q){var a=this.w3.length-1;for(var v=0;v<Q;
v++){var B=j[v],m=n[v];this.l.push(B);this.ox.push(m);if(m==a){this.FK.push(B==0?0:1/B)}else{this.j$.push(B);
this.bS.push(m)}}this.w3.push(this.l.length);this.nO.push(this.j$.length)};K.U5.prototype.Br=function(j,n){var Q=this,a=Q.rows,B=Q.l,m=Q.ox;
if(n==null)n=new Array(a);for(var v=0;v<a;v++){var R=Q.w3[v],q=Q.w3[v+1],U=0;while((q-R&3)!=0){U+=B[R]*j[m[R]];
R++}for(var l=R;l<q;l+=4)U+=B[l]*j[m[l]]+B[l+1]*j[m[l+1]]+B[l+2]*j[m[l+2]]+B[l+3]*j[m[l+3]];n[v]=U}return n};
K.U5.prototype.multiply=function(j){return this.jz(j.UI())};K.U5.prototype.jz=function(j){var n=this,Q=n.rows,a=n.cols,B=j.rows,m=new K.U5(Q,B),R=n.ox,q=j.ox;
for(var v=0;v<Q;v++){var U=[],l=[],b=n.w3[v],D=n.w3[v+1];for(var c=0;c<B;c++){var _=j.w3[c],p=j.w3[c+1],X=0,g=b,F=_;
while(g<D&&F<p){var k=Math.max(R[g],q[F]);while(g<D&&R[g]<k)g++;while(F<p&&q[F]<k)F++;if(g<D&&F<p&&R[g]==q[F])X+=n.l[g++]*j.l[F++]}if(X!=0){U.push(X);
l.push(c)}}m.Tp(U,l,U.length)}return m};K.U5.prototype.UI=function(){var j=this.rows,n=this.cols,Q=[];
for(var v=0;v<n;v++)Q.push([[],[]]);var a=this.l,B=this.w3,m=this.ox;for(var v=0;v<j;v++){var R=B[v],q=B[v+1];
for(var U=R;U<q;U++){var l=Q[m[U]];l[0].push(a[U]);l[1].push(v)}}var b=new K.U5(n,j);for(var v=0;v<n;
v++)b.Tp(Q[v][0],Q[v][1],Q[v][1].length);return b};K.U5.prototype.Zo=function(){var j=this.rows,n=this.cols,Q=new Array(j),a=this.l,B=this.w3,m=this.ox;
for(var v=0;v<j;v++){var R=Q[v]=new Array(n);for(var q=0;q<n;q++)R[q]=0;var U=B[v],l=B[v+1];for(var b=U;
b<l;b++)R[m[b]]=a[b]}return Q};K.U5.prototype._5=function(j,n,Q,a,B){function m(Z,n,J,s){var E=Z.length;
for(var v=0;v<E;v++)s[v]=Z[v]-n[v]*J}function R(Z,n,J,s){var E=Z.length,z=0;while((E-z&3)!=0){s[z]=Z[z]+n[z]*J;
z++}for(var v=z;v<E;v+=4){s[v]=Z[v]+n[v]*J;s[v+1]=Z[v+1]+n[v+1]*J;s[v+2]=Z[v+2]+n[v+2]*J;s[v+3]=Z[v+3]+n[v+3]*J}}function q(Z,n,J){var s=Z.length;
for(var v=0;v<s;v++)J[v]=Z[v]*n[v]}function U(Z,n){var J=Z.length,s=0,E=0;while((J-s&3)!=0){E+=Z[s]*n[s];
s++}for(var v=s;v<J;v+=4)E+=Z[v]*n[v]+Z[v+1]*n[v+1]+Z[v+2]*n[v+2]+Z[v+3]*n[v+3];return E}var l=a!=null?2:1,b=Date.now(),D=0,c=this,_=j.slice(0),p=j.slice(0);
c.Br(j,p);m(n,p,1,_);var X=this.FK;if(l==0){X=_.slice(0);X.fill(1)}var g=_.slice(0);q(X,_,g);var F=g.slice(0),k=U(_,g);
while(!0){c.Br(F,p);var I=k/U(F,p);R(j,F,I,j);m(_,p,I,_);if((D&7)==0&&Math.sqrt(U(_,_))<Q)break;if(l<=1)q(X,_,g);
else{var e=_.slice(0);a.adK(e,_);B.akS(g,e)}var H=U(_,g),A=H/k;R(g,F,A,F);k=H;D++}};K.U5.prototype.a1L=function(j,n,Q,a){var B=Date.now(),m=1.96,q=0;
if(Q==null)Q=5e-6;if(a==null)a=1e9;var R=1-m,dv=this.rows,U=this.j$,l=this.nO,b=this.bS,D=this.FK;while(!0){var c=0;
for(var v=0;v<dv;v++){var _=n[v],p=l[v],X=l[v+1];if(X-p==4)_-=U[p]*j[b[p]]+U[p+1]*j[b[p+1]]+U[p+2]*j[b[p+2]]+U[p+3]*j[b[p+3]];
else for(var g=p;g<X;g++)_-=U[g]*j[b[g]];var F=j[v]*R+D[v]*_*m,k=F-j[v];c+=k*k;j[v]=F}if(c/dv<Q||Date.now()>B+a)break}};
K.U5.prototype.a4P=function(j,n,Q,a){var B=Date.now(),m=1.96,q=0;if(Q==null)Q=5e-5;if(a==null)a=1e9;
var R=1-m,dv=this.rows,U=this.j$,l=this.nO,b=this.bS,D=this.FK;while(!0){var c=0;for(var v=0;v<dv;v++){var _=v*3,p=n[_],X=n[_+1],g=n[_+2],F=l[v],k=l[v+1];
for(var I=F;I<k;I++){var e=U[I],H=b[I]*3;p-=e*j[H+0];X-=e*j[H+1];g-=e*j[H+2]}var A=D[v]*m,Z=j[_+0]*R+p*A,J=j[_+1]*R+X*A,s=j[_+2]*R+g*A,E=Z-j[_+0],z=J-j[_+1],h=s-j[_+2];
c+=.4*E*E+.5*z*z+.1*h*h;j[_+0]=Z;j[_+1]=J;j[_+2]=s}if(c/dv<Q||Date.now()>B+a)break}};K.c0={};K.c0.yH=function(j,n,Q){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:j},Vrtc:{t:"doub",v:n},Cnty:{t:"bool",v:Q}}}};
K.c0.C=function(j,n){for(var v=0;v<j.length;v++){var Q=j[v].v,a=n.JZ(new eE(Q.Hrzn.v,Q.Vrtc.v));Q.Hrzn.v=Math.round(a.x);
Q.Vrtc.v=Math.round(a.y)}};K.c0.ajL=function(j,n,Q){var dv=j.length-1,a=K.uS.Vt(dv+1,dv+2);for(var v=1;
v<dv;v++){a[v][v-1]=1/(j[v]-j[v-1]);a[v][v]=2*(1/(j[v]-j[v-1])+1/(j[v+1]-j[v]));a[v][v+1]=1/(j[v+1]-j[v]);
a[v][dv+1]=3*((n[v]-n[v-1])/((j[v]-j[v-1])*(j[v]-j[v-1]))+(n[v+1]-n[v])/((j[v+1]-j[v])*(j[v+1]-j[v])))}a[0][0]=2/(j[1]-j[0]);
a[0][1]=1/(j[1]-j[0]);a[0][dv+1]=3*(n[1]-n[0])/((j[1]-j[0])*(j[1]-j[0]));a[dv][dv-1]=1/(j[dv]-j[dv-1]);
a[dv][dv]=2/(j[dv]-j[dv-1]);a[dv][dv+1]=3*(n[dv]-n[dv-1])/((j[dv]-j[dv-1])*(j[dv]-j[dv-1]));K.uS.f1(a,Q)};
K.c0.aDu=function(j,n,Q,a){if(j<=n[0])return Q[0];if(j>=n[n.length-1])return Q[n.length-1];var v=1;while(n[v]<j)v++;
var B=n[v],m=n[v-1],R=Q[v],q=Q[v-1],U=(j-m)/(B-m),l=a[v-1]*(B-m)-(R-q),b=-a[v]*(B-m)+(R-q),D=(1-U)*q+U*R+U*(1-U)*(l*(1-U)+b*U);
return D};K.c0.azX=function(j,n,Q,a){var B={Wq:[j[0]],gs:[n[0]],mW:[]};a[0]=B;for(var v=1;v<j.length-1;
v++){B.Wq.push(j[v]);B.gs.push(n[v]);if(Q[v]==!1){K.c0.ajL(B.Wq,B.gs,B.mW);B={Wq:[j[v]],gs:[n[v]],mW:[]}}a[v]=B}B.Wq.push(j[v]);
B.gs.push(n[v]);K.c0.ajL(B.Wq,B.gs,B.mW);a[v]=B};K.c0.a1U=function(j,n,Q,a){if(j<=n[0])return Q[0];if(j>=n[n.length-1])return Q[n.length-1];
var v=1;while(n[v]<j)v++;var B=a[v-1];return K.c0.aDu(j,B.Wq,B.gs,B.mW)};K.c0.anN=function(j){var n={Wq:[],gs:[],PB:[]};
for(var v=0;v<j.length;v++){n.Wq[v]=j[v].v.Hrzn.v;n.gs[v]=j[v].v.Vrtc.v;n.PB[v]=j[v].v.Cnty?j[v].v.Cnty.v:!0}return n};
K.c0.PF=function(j,dv,n){var Q=0,a=255;if(n){Q=-1e9;a=1e9}var B=K.c0.anN(j),m=[];K.c0.azX(B.Wq,B.gs,B.PB,m);
var R=new Float32Array(dv);for(var v=0;v<dv;v++)R[v]=1/255*Math.max(Q,Math.min(a,K.c0.a1U(v*(255/(dv-1)),B.Wq,B.gs,m)));
return R};K.c0.am_=function(j,dv,n){var Q=Math.round(j.length/20),a=dv-j.length,B=n?(j[Q]-j[0])/Q:0,m=n?j[0]-a*B:j[j.length-1],R=new Float32Array(dv);
R.set(j,n?a:0);for(var v=0;v<a;v++)R[v+(n?0:a)]=m+v*B;return R};K.c0.eQ=function(j,dv,n){var Q=K.c0.anN(j),a=[];
K.c0.azX(Q.Wq,Q.gs,Q.PB,a);var B=new Uint8Array(dv),m=dv/256;for(var v=0;v<dv;v++)B[v]=Math.max(0,Math.min(dv-1,K.c0.a1U(v*m,Q.Wq,Q.gs,a)));
if(n){B[0]=0;if(B[1]>100)B[1]=.4*B[1];if(B[2]>150)B[1]=.7*B[2]}return B};K.c0.aGm=function(j,n){var Q=new Uint8Array(j.length);
for(var v=0;v<j.length;v++)Q[v]=n[j[v]];return Q};K.c0.afQ=function(j,n){var Q=n.length,a=new Float32Array(Q);
for(var v=0;v<Q;v++)a[v]=n[~~(j[v]*(Q-1))];return a};K.c0.r9=function(j,n,Q){var a=document.createElement("canvas");
a.width=n;a.height=Q;var B=a.getContext("2d"),m=K.c0.eQ(j,256);B.scale(n/255,Q/255);B.fillStyle="#fff";
B.fillRect(0,0,255,255);B.fillStyle="#333";B.beginPath();B.moveTo(0,255);for(var v=0;v<m.length;v++)B.lineTo(v,255-m[v]);
B.lineTo(255,255);B.closePath();B.fill();return a.toDataURL()};K.style={};K.style.stroke=function(j,n,Q,a){var B=Q.q,m=Q._,R=K.style.J6(j,B,m);
K.style.MU(n,Q,R,Q,a)};K.style.MU=function(j,n,Q,a,B){var m=n.uf(a),R=m.q,q=m._;B+=.5;var U=m.x-n.x,l=m.y-n.y,b=n.q,D=m.x-a.x,c=m.y-a.y,_=a.q;
for(var p=0;p<q;p++){var X=(p+c)*_+D,g=(p+l)*b+U;for(var F=0;F<R;F++){var k=Math.max(0,Math.min(1,B-Q[X+F]));
j[g+F]=Math.round(k*255)}}};K.style.azm=function(j,n,Q,a){for(var B=0;B<Q;B++)for(var m=0;m<n;m++){var R=B*n+m,q=0,U=0,l=j[R];
if(m==0||B==0){q=j[R+1]-l;U=j[R+n]-l}else if(m==Q-1||B==n-1){q=l-j[R-1];U=l-j[R-n]}else{q=j[R+1]-j[R-1];
U=j[R+n]-j[R-n]}if(q!=0||U!=0){var b=1/Math.sqrt(q*q+U*U);q*=b;U*=b}a[R+R]=q;a[R+R+1]=U}};K.style.J6=function(j,n,Q){var a=n*Q,B=new ArrayBuffer((a+n*4)*4),m=new Float32Array(B,0,a),R=new Uint16Array(B,0,a<<1),q=new Int32Array(B,a*4,n),U=new Int32Array(B,(a+n)*4,n),l=new Int32Array(B,(a+n*2)*4,n),b=new Int32Array(B,(a+n*3)*4,n),D=1/255;
for(let v=0;v<n;++v){let c=-Q-n,_=0,p=v,X=0;for(;X<Q;++X,p+=n){if(j[p]>128)c=X,_=j[p];R[p<<1]=X-c;R[(p<<1)+1]=_}c=R[p+=p-n-n],_=R[p+1];
for(;X>1;--X){if(R[p-=n+n]>c)R[p]=++c,R[p+1]=_;else c=R[p],_=R[p+1]}}for(let g=0;g<a;g+=n){var F=g+n,k=R[g<<1]*R[g<<1],I=0;
let e=q[0]=g,H=U[0]=g,A=k,Z=A;for(let p=g+1;p<F;++p){var J=R[p<<1]*R[p<<1];while(I&&Z>(H-p)*(H-p)+J){H=U[--I],e=q[I],A=R[e<<1]*R[e<<1],Z=(H-e)*(H-e)+A}if(I||Z<=(H-p)*(H-p)+J){var s=p-e,E=g+Math.floor((s*(p+e-g-g)+J-A)/(s<<1))+1;
if(E<F){H=U[++I]=E,e=q[I]=p,A=J,Z=(H-e)*(H-e)+A}}else H=g,e=q[0]=p,A=J,Z=(H-e)*(H-e)+A}for(let v=0;v<I;
++v){var z=q[v]<<1;l[v]=R[z]*R[z];b[v]=R[z+1]}let h=.5-R[(q[I]<<1)+1]*D;for(let p=F-1;p>=g;--p){m[p]=Math.max(0,Math.sqrt((p-e)*(p-e)+A)+h);
if(I&&p==H){H=U[--I],e=q[I],A=l[I],h=.5-b[I]*D}}}return m};K.style.aeT=function(j,n,Q){var a=new Float64Array(n*Q),B=0,m=n*Q;
for(var v=0;v<m;v++)B|=j[v];if(B==0){a.fill(1e9);return}var R=K.style.Nd(j,n,Q);for(var q=0;q<Q;q++)for(var U=0;
U<n;U++){var v=q*n+U,l=R[v*2],b=R[v*2+1];if(l==0&&b==0){a[v]=0;continue}var D=Math.sqrt(l*l+b*b),c=j[(q+b)*n+U+l]*(1/255);
a[v]=D+.5-c}return a};K.style.abx=function(j,n,Q){return(.5-Q)*j};K.style.Nd=function(j,n,Q,a){var B=new Int16Array(n*Q*2);
K.style.a2p(j,B,n,Q,128);return B};K.style.a2p=function(j,n,Q,a,B){var m=new Int32Array(Q*a);K.style.aFJ(j,m,Q,a,B);
K.style.agi(m,n,Q,a)};K.style.aFJ=function(j,n,Q,a,B){var m=new Int32Array(a);for(var R=0;R<Q;R++){var q=Q+a;
for(var U=a-1;U>=0;U--){if(j[U*Q+R]>B)q=0;else q++;m[U]=q}q=Q+a;for(var U=0;U<a;U++){if(j[U*Q+R]>B)q=0;
else q++;n[U*Q+R]=q<m[U]?-q:m[U]}}};K.style.agi=function(j,n,Q,a){var B=(Q+a)*(Q+a),m=new Float64Array(Q),R=new Uint16Array(Q);
for(var q=0;q<a;q++){var U=q*Q,l=0;R[0]=0;m[0]=-B;m[1]=+B;for(var b=1;b<Q;b++){var D=j[b+U]*j[b+U]+b*b,c=(D-(j[R[l]+U]*j[R[l]+U]+R[l]*R[l]))/(2*b-2*R[l]);
while(c<=m[l]){l--;c=(D-(j[R[l]+U]*j[R[l]+U]+R[l]*R[l]))/(2*b-2*R[l])}l++;R[l]=b;m[l]=c;m[l+1]=B}l=0;
for(var b=0;b<Q;b++){while(m[l+1]<b)l++;var _=R[l]-b,p=j[R[l]+U],v=q*Q+b<<1;n[v]=_;n[v+1]=p}}};K.style.D7=function(j,n,Q){if(Q)for(var v=0;
v<j.length;v++){var a=j[v];if(a>0)j[v]=Math.max(0,Math.min(255,a+n*2*(K.style.E7(v)-128)))}else for(var v=0;
v<j.length;v++){var a=j[v];if(a>0)j[v]=Math.max(0,Math.min(255,a+Math.min(a*3,n*2*(K.style.E7(v)-128))))}};
K.style.E7=function(j){j=j^61^j>>16;j=j+(j<<3);j=j^j>>4;j=j*668265261;j=j^j>>15;return j&255};K.l8={};
K.l8.sZ=function(j,n,Q){var a=j.canvas;if(a.width!=n||a.height!=Q){a.width=n;a.height=Q}};K.l8.Uo=function(j,n,Q,a,B,m){var R=K.Rz(B.G),q=R==8?255:R==16?65535:1,U=1/q;
K.l8.sZ(j,n,Q);if(m==null)m=!1;var l=B.G,b=B.s,D=!B.isEnabled;if(n*Q==0)return;var c=new ImageData(n,Q),_=c.data,p=1/n,X=1/Q,g=B.color/255;
for(var v=0;v<Q;v++)for(var F=0;F<n;F++){var k=(v*n+F)*4,I=Math.round(a.x+F*p*a.q),e=Math.round(a.y+v*X*a._),H=0;
if(I<b.x||I>=b.x+b.q||e<b.y||e>=b.y+b._)H=g;else H=l[(e-b.y)*b.q+(I-b.x)]*U;H=255-B.lF+H*B.lF;if(m)H=170+Math.round(.4*(H-170));
_[k]=H;_[k+1]=H;_[k+2]=H;_[k+3]=255}j.putImageData(c,0,0);if(D)K.l8.ap3(j,n,Q)};K.l8.ano=[];K.l8.alj=function(j,n,Q,a){var B,m,R;
B=Math.ceil(Math.max(n,Q)*.35);m=n-B;R=Q-B;var q=K.l8.ano[B];if(q==null){var U=K.uq(B,B);U.fillStyle="#eeeeee";
U.fillRect(0,0,B,B);var l=Math.round(B*.27),b=U.lineWidth=Math.max(1,Math.round(B*.12)),D=b/2;U.strokeRect(1+D,1+D,B-b-2,B-b-2);
U.strokeRect(l+D,l+D,B-l-l-b,B-l-l-b);q=K.l8.ano[B]=U.getImageData(0,0,B,B)}j.putImageData(q,m,R)};K.l8.ayJ=[];
K.l8.ayD=function(j,n,Q){var a,B,m;a=Math.ceil(Math.max(n,Q)*.35);B=n-a;m=Q-a;var R=K.l8.ayJ[a];if(R==null){var q=K.uq(a,a);
q.fillStyle="#eeeeee";q.fillRect(0,0,a,a);q.lineWidth=1;q.strokeRect(2.5,2.5,a-5,a-5);var U=new ImageData(3,3),l=U.data;
K.G5(l,4278190080);l[4*4]=l[4*4+1]=l[4*4+2]=238;q.putImageData(U,1,1);q.putImageData(U,a-4,1);q.putImageData(U,1,a-4);
q.putImageData(U,a-4,a-4);R=K.l8.ayJ[a]=q.getImageData(0,0,a,a)}j.putImageData(R,B,m)};K.l8.afk=function(j,n,Q,a,B){K.l8.sZ(j,n,Q);
var m=n/a.q;if(n*Q==0)return;j.fillStyle="#999999";j.setTransform(1,0,0,1,0,0);j.clearRect(0,0,n,Q);
var R=K.l8.aoP;if(R==null)R=K.l8.aoP=g8.o0.cL(!0,!0);R.strokeStyleLineWidth.v.val=1/m;j.fillStyle="#ffffff";
j.scale(m,m);K.R._L(B.z,j,0,0);K.R._L(B.z,j,0,0,R)};K.l8.ach=function(j,n,Q,a,B){K.l8.sZ(j,n,Q);if(n*Q==0)return;
j.setTransform(1,0,0,1,0,0);j.fillStyle="white";j.fillRect(0,0,n,Q);var m=B.W,R;if(m.add.SoLd)R=N.IP.lw(m.add.SoLd.nonAffineTransform);
else if(m.add.vmsk)R=m.add.vmsk.aZ();else if(m.add.TySh){if(m.xw.xf==null)return;R=K.c.yc(m.xw.xf).g;
K.c.C(R,m.add.TySh.C,R)}var q=K.c.Tv(R),U=Math.min(n/q.q,Q/q._),l=q.q*U,b=q._*U;j.translate(-q.x*U+(n-l)*.5,-q.y*U+(Q-b)*.5);
j.scale(U,U);B.XO(a,j,null,null)};K.l8.a0Y=null;K.l8.Wt=function(j,n,Q,a,B,m,R,q,U){K.l8.sZ(j,n,Q);if(n*Q==0)return;
var l=Math.max(n,Q),b=K.l8.a0Y;if(b==null||b.width<l||b.height<l){K.l8.a0Y=b=new ImageData(l,l)}l=b.width;
var D=b.data,c=a.q/n,_=a._/Q,p=m.x,X=m.x+m.q,g=m.y,F=m.y+m._,k=K.Rz(B)-8;for(var v=0;v<Q;v++)for(var I=0;
I<n;I++){var e=v*l+I,H=e*4,A=~~(a.x+I*c),Z=~~(a.y+v*_),J=K.agt(v,I,2);if(A<p||A>=X||Z<g||Z>=F||U){D[H]=J;
D[H+1]=J;D[H+2]=J;D[H+3]=255}else{var s=(Z-m.y)*m.q+(A-m.x)<<2;if(k!=24){var E=(B[s+3]>>>k)*(1/255);
D[H]=(B[s+0]>>>k)*E+J*(1-E);D[H+1]=(B[s+1]>>>k)*E+J*(1-E);D[H+2]=(B[s+2]>>>k)*E+J*(1-E)}else{var E=B[s+3];
D[H]=B[s+0]*E*255+J*(1-E);D[H+1]=B[s+1]*E*255+J*(1-E);D[H+2]=B[s+2]*E*255+J*(1-E)}D[H+3]=255}}if(q!=null)for(var v=0;
v<D.length;v+=4)D[v]=D[v+1]=D[v+2]=D[v+q];j.putImageData(b,0,0);if(R)K.l8.ap3(j,n,Q)};K.l8.ae_=function(j,n,Q,a){K.l8.sZ(j,n,Q);
j.fillStyle=K.l8.qF(a.Clr.v);j.fillRect(0,0,n,Q);K.l8.fT(j,n,Q)};K.l8.aGC=null;K.l8.aa7=function(j,n,Q,a){K.l8.sZ(j,n,Q);
var B=j.canvas.width,m=j.canvas.height,R=K.l8.aGC;if(R==null||R.width!=B||R.height!=m){j.fillStyle="#ffffff";
j.fillRect(0,0,n,Q);j.fillStyle="#000000";j.font=""+Q*.7+"px serif";j.fillText("T",(n-Q*.43)/2,Q*.75);
j.fillText("T",(n-Q*.43)/2,Q*.75);K.l8.aGC=j.getImageData(0,0,B,m)}else j.putImageData(R,0,0)};K.l8.acN=function(j,n,Q){K.l8.sZ(j,n,Q);
j.clearRect(0,0,n,Q);j.font=Q*.7+"px serif";j.fillText(":(",(n-Q*.43)/2,Q*.7)};K.l8.aqH=function(j,n,Q,a){K.l8.sZ(j,n,Q);
var B=k8.get(a),m=j.canvas.width,R=K.l8.avL[m+B];if(R==null){var q=PIMG["adj/"+B],U=fj.ME(q),l=UPNG.decode(U.buffer),b=new Uint8Array(UPNG.toRGBA8(l)[0]),D=new b4(0,0,160,160),c=0,_=m-c*2,p=N.IP.sO([b,D],new j8(_/160,0,0,_/160,0,0)),X=new b4(0,0,m,m),g=K.U(X.$()*4);
K.L.sg("norm",p.buffer,p.s,g,X,p.s,1);R=K.l8.avL[m+B]=new ImageData(new Uint8ClampedArray(g.buffer),m,m)}j.putImageData(R,0,0)};
K.l8.avL={};K.l8.ahl=function(j,n,Q,a){K.l8.sZ(j,n,Q);var B=j.canvas.width,m=j.canvas.height,R=j.getImageData(0,0,B,m);
K.Gp.C_(a.Grad.v,new Uint8Array(R.data.buffer),new b4(0,0,B,m),[1/B,0,0,1/m],B/2,m/2,!1,0,16711680,65280);
j.putImageData(R,0,0);K.l8.fT(j,n,Q)};K.l8.agu=function(j,n,Q,a,B){K.l8.sZ(j,n,Q);var m=j,R=gq.Te(a.Ptrn.v,B.add.Patt);
if(R==null)return;var q=R.Fd[1];K.l8.Wt(j,n,Q,q,R.Fd[0],q,!1);K.l8.fT(m,n,Q)};K.l8.ap3=function(j,n,Q){j.strokeStyle="#bb0000";
j.lineWidth=3;j.beginPath();j.moveTo(n*.15,Q*.15);j.lineTo(n*.85,Q*.85);j.moveTo(n*.85,Q*.15);j.lineTo(n*.15,Q*.85);
j.closePath();j.stroke()};K.l8.fT=function(j,n,Q){j.fillStyle="#eeeeee";j.fillRect(0,Q*.75,n,Q*.25);
j.beginPath();j.moveTo(0,Q*.75);j.lineTo(n,Q*.75);j.moveTo(n*.1,Q*.875);j.lineTo(n*.9,Q*.875);j.moveTo(n*.65,Q*.825);
j.lineTo(n*.65,Q*.95);j.closePath();j.stroke()};K.l8.qF=function(j){var n=K.Gp.qF(j),Q=Math.round(n.n)<<16|Math.round(n.i)<<8|Math.round(n.b);
return"#"+K.EA(Q)};K.R={};K.R.FZ=function(j,n,Q){var a=[],B=-1;for(var v=0;v<j.length;v++){var m=j[v];
if((m.w==0||m.w==3)&&m.H_!=-1)B++;if(m.w>5||m.w==0||m.w==3)continue;if(n!=null&&n.indexOf(B)==-1)continue;
if(Q!=null&&Q.indexOf(v)==-1)continue;a.push(m.vK.x);a.push(m.vK.y);a.push(m.V.x);a.push(m.V.y);a.push(m.XH.x);
a.push(m.XH.y)}return a};K.R.LS=function(j,n,Q,a){var B=0,m=-1;for(var v=0;v<n.length;v++){var R=n[v];
if((R.w==0||R.w==3)&&R.H_!=-1)m++;if(R.w>5||R.w==0||R.w==3)continue;if(Q!=null&&Q.indexOf(m)==-1)continue;
if(a!=null&&a.indexOf(v)==-1)continue;R.vK.OI(j[B],j[B+1]);R.V.OI(j[B+2],j[B+3]);R.XH.OI(j[B+4],j[B+5]);
B+=6}};K.R.fK=function(j,n,Q,a){var B=K.R.FZ(j,Q,a);K.c.C(B,n,B);K.R.LS(B,j,Q,a)};K.R.a4E=function(j,n,Q,a){var B=K.R.FZ(j,Q,a);
K.D.C(n,B);K.R.LS(B,j,Q,a)};K.R.ab1=function(j,n,Q,a){if(a==null){var B=K.R.ava(j,40,Q);for(var v=0;
v<B.length;v++)j[v]=B[v]}var m=K.R.FZ(j,Q,a);K.rU.C(n,m,K.c.Tv(m));K.R.LS(m,j,Q,a)};K.R.ava=function(j,n,Q){var a=[],B=-1;
for(var v=0;v<j.length;v++){var m=j[v],R=m.length;if(m.w>5){a.push(K.u(m));continue}m=K.u(m);a.push(m);
if(m.H_!=-1)B++;if(Q&&Q.indexOf(B)==-1){a=a.concat(j.slice(v+1,v+1+R))}else{var q=K.R.aEY(j,v+1,R);q=K.c.mG(q,n);
var U=K.R.aFM(q);m.length=U.length;for(var l=0;l<U.length;l++)a.push(U[l])}v+=R}return a};K.R.aEY=function(j,n,Q){var a={rZ:["M"],g:[]},B=j[n],m=j[n+Q-1];
a.g.push(B.V.x,B.V.y);for(var v=1;v<Q;v++){var R=j[n+v-1],q=j[n+v];a.rZ.push("C");a.g.push(R.XH.x,R.XH.y,q.vK.x,q.vK.y,q.V.x,q.V.y)}a.rZ.push("C");
a.g.push(m.XH.x,m.XH.y,B.vK.x,B.vK.y,B.V.x,B.V.y);return a};K.R.aFM=function(j){var n=[],Q=j.rZ,a=j.g,B=0,dv=a.length;
n.push({w:2,vK:new eE(a[dv-4],a[dv-3]),V:new eE(a[0],a[1]),XH:new eE(a[2],a[3])});for(var v=0;v<Q.length-2;
v++){var m=v*6+4;n.push({w:2,vK:new eE(a[m],a[m+1]),V:new eE(a[m+2],a[m+3]),XH:new eE(a[m+4],a[m+5])})}return n};
K.R.abj=function(j){for(var v=0;v<j.length;v++){if(j[v].w>5)continue;var n=j[v].length;if(!(n==4||n==6||n==8)){v+=n;
continue}for(var Q=0;Q<n;Q++){var a=j[v+1+Q],B=j[v+1+(Q+1)%n],m=Math.min(a.V.x,B.V.x),R=Math.min(a.V.y,B.V.y),q=0,U=0;
if(a.V.x<B.V.x){q=a.V.y-R;U=q-(B.V.x-m)}else{q=B.V.y-R;U=q-(a.V.x-m)}if(Math.abs(U)<.2*q)return q}}return-1};
K.R.sR=function(j,n,Q){function a(c,_){var p=Math.min(c.x,_.x),X=Math.min(c.y,_.y),g=Math.max(c.x+c.q,_.x+_.q),F=Math.max(c.y+c._,_.y+_._);
return new b4(p,X,g-p,F-X)}var B=null,m=-1,R=!K.R.tx(j);for(var v=0;v<j.length;v++){var q=j[v];if(q.w>5)continue;
if((q.w==0||q.w==3)&&q.H_!=-1)m++;if(n!=null&&n.indexOf(m)==-1)continue;if(v==j.length-1)break;var U=q.w==3,l=q.length,b=q.H_,D=K.R.rb(j,v+1,l,U);
if(B==null)B=D;else if(Q)B=a(B,D);else if(R){if(n!=null||b==0||b==-1||b==2)B=a(B,D);else if(b==1)B=B;
else if(b==3){B=D;R=!1}}else{if(n!=null||b==0||b==-1||b==1)B=a(B,D);else if(b==2)B=B;else if(b==3)B=B.uf(D)}v+=l}if(B==null||B.q<0||B._<0)B=new b4(0,0,0,0);
return B};K.R.apQ=new Float64Array(4);K.R.rb=function(j,v,n,Q){var a=K.R.apQ;a[0]=1e30;a[1]=1e30;a[2]=-1e30;
a[3]=-1e30;var B=j[v+n-1];if(!Q)K.R.a3h(B.V.x,B.V.y,B.XH.x,B.XH.y,j[v].vK.x,j[v].vK.y,j[v].V.x,j[v].V.y,a);
for(var m=v;m<v+n-1;m++){var R=j[m],q=j[m+1];K.R.a3h(R.V.x,R.V.y,R.XH.x,R.XH.y,q.vK.x,q.vK.y,q.V.x,q.V.y,a)}return new b4(a[0],a[1],a[2]-a[0],a[3]-a[1])};
K.R.a3h=function(j,n,Q,a,B,m,R,q,U){if(j==Q&&n==a&&B==R&&m==q){U[0]=Math.min(U[0],Math.min(j,R));U[1]=Math.min(U[1],Math.min(n,q));
U[2]=Math.max(U[2],Math.max(j,R));U[3]=Math.max(U[3],Math.max(n,q));return}var l=j,b=n,D=j,c=n,_=40,p=1/(_-1);
for(var X=0;X<_;X++){var g=X*p,F=1-g,k=F*F*F,I=3*F*F*g,e=3*F*g*g,H=g*g*g,A=k*j+I*Q+e*B+H*R,Z=k*n+I*a+e*m+H*q;
if(A<l)l=A;else if(A>D)D=A;if(Z<b)b=Z;else if(Z>c)c=Z}if(l<U[0])U[0]=l;if(b<U[1])U[1]=b;if(D>U[2])U[2]=D;
if(c>U[3])U[3]=c};K.R.avW=function(j,n){var Q=j.length-3,a=n%Q,B=Math.floor(a);if(n<0||B>=Q)return null;
var m=j[3+B],R=j[3+(B+1)%Q],q=m.V,U=m.XH,l=R.vK,b=R.V,D=a-B,c=1-D,_=c*c*c*q.x+3*c*c*D*U.x+3*c*D*D*l.x+D*D*D*b.x,p=c*c*c*q.y+3*c*c*D*U.y+3*c*D*D*l.y+D*D*D*b.y;
return new eE(_,p)};K.R.Ba=function(j,n){var Q=K.c.Qn(j),a=Q.TI;Q.TI=Typr.U.pathToSVG({crds:a.g,cmds:a.rZ},n==null?2:n);
return Q};K.R.$r=function(j){K.R._E();var n,Q=K.R.cg(j),a=[];for(var v=0;v<Q.length;v++){var B=Q[v][0],m=Q[v][1];
if(Math.abs(B.area)<1e-5)a.push(B);else if(n==null)n=B;else{if(!B.closed)B.closed=!0;n=n[m](B);n.remove()}}if(n==null)n=new paper.CompoundPath(a);
else{if(n.segments)n=new paper.CompoundPath(n);for(var v=0;v<a.length;v++){n.addChild(a[v])}}var R=j.slice(0,2);
R=R.concat(K.R.$y(n));K.R.fy(Q);K.R.fy([[n]]);if(R[2])R[2].H_=1;for(var v=3;v<R.length;v++)if(R[v].H_!=null)R[v].H_=-1;
return R};K.R._E=function(){if(K.R.alV==null){var j=document.createElement("canvas");paper.setup(j);
K.R.alV=!0}};K.R.axi=function(j,n){K.R._E();var Q=[],a=K.R.cg(j),B=new paper.Path.Rectangle(new paper.Rectangle(n.x,n.y,n.q,n._));
B.remove();B.fillColor=new paper.Color(1,0,0);for(var v=0;v<a.length;v++){if(B.intersects(a[v][0])||B.contains(a[v][0].children[0].segments[0].point))Q.push(v)}K.R.fy(a);
return Q};K.R.Zf=function(j,n,Q,a){K.R._E();var B=Q?{curves:!0,tolerance:a}:null,m=new paper.Point(n.x,n.y),R=K.R.cg(j);
K.R.fy(R);for(var v=R.length-1;v>=0;v--){var q=R[v][0],U=q.hitTest(m,B);if(U!=null)return{cb:v,dR:Q?U.location.index:null,CK:Q?U.location.time:0}}return{cb:-1}};
K.R.IY=function(j,n,Q,a){var B=[[],[],[]];for(var v=0;v<j.length;v++){var m=j[v];if(m.w>5||m.w==0||m.w==3)continue;
var R=n.PU(m.V),q=n.PU(m.vK),U=n.PU(m.XH);if(Q&&Q.indexOf(v)==-1){if(a){if(Q.indexOf(v-1)==-1)q=!1;if(Q.indexOf(v+1)==-1)U=!1}else q=U=!1}if(R)B[0].push(v);
if(q)B[1].push(v);if(U)B[2].push(v)}B[3]=B[0].length+B[1].length+B[2].length;return B};K.R.arq=function(j,n,Q){var a=j[n];
for(var B=n+1;B<Q;B++)j[B-1]=j[B];j[Q-1]=a};K.R.afS=function(j,n,Q,a){var v,B,m,R=0;j=j.slice(0);n.sort(function(p,X){return p-X});
m=-1;for(v=2;v<j.length;){var q=j[v],U=q.length;if(q.H_!=-1)m++;var l=R;while(l<n.length&&n[l]<v+1+U)l++;
if(R!=l){var b=n.slice(R,l);R=l;for(B=0;B<U;B++)if(b.indexOf(v+1+B)!=-1)j[v+1+B]=null;if(q.w==0){var D=b[0]-(v+1);
while(D!=0){K.R.arq(j,v+1,v+1+U);D--}}var c=q;c.length=0;B=0;while(B<U&&j[v+1+B]==null)B++;while(B<U){var _=j[v+1+B];
if(_!=null)c.length++;else if(B<U+1&&j[v+1+B+1]&&a){c=j[v+1+B]={w:0,H_:-1,length:0,wo:0,x1:0,qg:1}}B++}if(a)for(B=-1;
B<U;B++)if(j[v+1+B]&&j[v+1+B].w<3)j[v+1+B].w+=3;K._y.j7(Q,m)}v+=1+U}for(v=0;v<j.length;v++)if(j[v]==null){j.splice(v,1);
v--}m=0;for(v=2;v<j.length;v++){var q=j[v];if(q.length==0){if(j[v+1]&&j[v+1].H_==-1)j[v+1].H_=q.H_;else if(q.H_!=-1)Q.splice(m,1);
j.splice(v,1);v--}else if(q.length!=null&&q.H_!=-1)m++}return j};K.R.a7j=function(j,n){var Q=j.slice(0,2),a=-1;
for(var v=2;v<j.length;v++){if((j[v].w==0||j[v].w==3)&&j[v].H_!=-1)a++;if(n.indexOf(a)==-1)Q.push(j[v])}return Q};
K.R.asu=function(j,n){var Q=j.slice(0,2),a=-1;for(var v=2;v<j.length;v++){if((j[v].w==0||j[v].w==3)&&j[v].H_!=-1)a++;
if(n.indexOf(a)!=-1)Q.push(j[v])}return Q};K.R.a09=function(j){var n=0;for(var v=0;v<j.length;v++)if(j[v].w==0||j[v].w==3)n=v;
return j[n]};K.R.$L=function(j){var n=-1;for(var v=0;v<j.length;v++)if((j[v].w==0||j[v].w==3)&&j[v].H_!=-1)n++;
return n+1};K.R.p$=function(j,n,Q){var a=-1;for(var v=0;v<j.length;v++)if((j[v].w==0||j[v].w==3)&&(Q||j[v].H_!=-1)){a++;
if(a==n)return v}return-1};K.R.NK=function(j,n,Q){var a=-1;for(var v=0;v<j.length;v++)if((j[v].w==0||j[v].w==3)&&(Q||j[v].H_!=-1)){if(v>=n)return a;
a++}return a};K.R.KI=function(j,n){var Q=-1,a=0;for(var v=0;v<j.length;v++){if((j[v].w==0||j[v].w==3)&&j[v].H_!=-1)Q++;
if(Q==n)a++}return a};K.R.a5m=function(j){var n=180;for(var v=0;v<j.length;v++){if(j[v].w!=0&&j[v].w!=3)continue;
var Q=j[v].length;if(Q<3)continue;for(var a=0;a<Q;a++){var B=j[v+1+(a-1+Q)%Q],m=j[v+1+a],R=j[v+1+(a+1)%Q],q=m.V,U=m.vK.N_(q)?B.XH:m.vK,l=m.XH.N_(q)?R.vK:m.XH;
if(q.N_(U)||q.N_(l))continue;var b=U.x-q.x,D=U.y-q.y,c=l.x-q.x,_=l.y-q.y,U=Math.atan2(U.y-q.y,U.x-q.x)*180/Math.PI,l=Math.atan2(l.y-q.y,l.x-q.x)*180/Math.PI,p=Math.abs(l-U)%360,X=p>180?360-p:p;
if(X<n)n=X}}return n*Math.PI/180};K.R.$y=function(j){var n=j.segments?[j]:j.children,Q=[];for(var v=0;
v<n.length;v++){var a=n[v],B=a.segments,m=a.closed?0:3,R=Q.length,q=null;if(B.length<=1)continue;Q.push({w:m,length:B.length,H_:0,qg:2});
for(var U=0;U<B.length;U++){var l=B[U],b=new eE(l.handleIn.x,l.handleIn.y),D=new eE(l.handleOut.x,l.handleOut.y),c=new eE(l.point.x,l.point.y),_={w:m+1,vK:c.add(b),V:c,XH:c.add(D)};
if(q==null)q=_;Q.push(_);if(U+1==B.length&&eE.X_(q.V,_.V)<1e-5){Q.pop();Q[R].length--;q.vK=_.vK;if(m==3)for(var p=R;
p<Q.length;p++)Q[p].w-=3}}}return Q};K.R.cg=function(j){K.R._E();var n=[],Q,a=new paper.Color(1,0,0);
function B(_,q){_.remove();_.closed=!q;_.fillRule="evenodd"}for(var v=0;v<j.length;v++){if(j[v].w>5)continue;
var m=j[v].length,R;if(v==j.length-1)break;var q=j[v].w==3;if(v==2){if(!K.R.Os(j))R="subtract";else R="unite"}else{if(j[v].H_==0)R="exclude";
if(j[v].H_==1)R="unite";if(j[v].H_==2)R="subtract";if(j[v].H_==3)R="intersect"}if(j[v].H_!=-1){Q=new paper.CompoundPath;
n.push([Q,R]);Q.fillRule="evenodd";Q.fillColor=a}var U=[];for(var l=0;l<m;l++){var b=j[v+1+l],D=b.vK.tV(b.V),c=b.XH.tV(b.V);
U.push([[b.V.x,b.V.y],[D.x,D.y],[c.x,c.y]])}var _=new paper.Path(U);B(_,q);Q.addChild(_);v+=m}return n};
K.R.fy=function(j){for(var v=0;v<j.length;v++)j[v][0].remove()};K.R.cQ=function(j){for(var v=0;v<j.length;
v++){var n=j[v];if(n.V==null)continue;if(!n.V.N_(n.vK)||!n.V.N_(n.XH))return!1}return!0};K.R.ax0=function(j){if(j.length<=5)return 0;
var n=0,Q=j.length-3-1;for(var v=0;v<Q;v++){var a=j[3+v],B=j[3+v+1];if(a.w==0||B.w==0)return 0;n+=(B.V.x-a.V.x)*(a.V.y+B.V.y)}n+=(j[3].V.x-j[3+Q].V.x)*(j[3+Q].V.y+j[3+1].V.y);
return-n*.5};K.R.tx=function(j){var n=j[2],Q=!1;if(j.length==2)Q=j[1].all==0;else if(j[1].all==1){if(n.H_==1||n.H_==3)Q=!0;
else Q=!1}else{if(n.H_==1||n.H_==3||n.H_==0)Q=!0;else Q=!1}return Q};K.R.Os=function(j){var n=K.R.tx(j);
for(var v=3;v<j.length;v++)if(j[v].H_==3)n=!0;return n};K.R.ajN=0;K.R.ap4=0;K.R.ayx=0;K.R.a6x=function(j,n,Q,a){if(Q.ke())return;
var B=Q.$(),F=16384;K.R.ajN+=B;if(B>K.R.ap4){K.R.ap4=B}var m=Q.q,R=Q._;if(a==null&&K.R.cQ(j)&&j[2]&&j[2].H_!=2){var q=!0;
for(var v=2;v<j.length;)if(j[v].length==2)v+=3;else{q=!1;break}if(q){return}if(K.R.Yp(j)){n.fill(255);
var U=K.R.sR(j);if(U.$()!=B){var l=1-(U.x-Q.x),b=1-(U.y-Q.y),D=1-(Q.x+Q.q-(U.x+U.q)),c=1-(Q.y+Q._-(U.y+U._)),_=~~(l*255),p=~~(D*255),X=~~(b*255),g=~~(c*255);
n.fill(X,0,m);n[0]=~~(l*b*255);n[m-1]=~~(D*b*255);for(var v=m;v<B;v+=m){n[v]=_;n[v+m-1]=p}n.fill(g,(R-1)*m,R*m);
n[B-m]=~~(l*c*255);n[B-1]=~~(D*c*255)}return}}var k=Math.ceil(m/F),I=Math.ceil(R/F),e=Math.ceil(m/k),H=Math.ceil(R/I),A=Date.now();
for(var Z=0;Z<I;Z++)for(var J=0;J<k;J++){var s=J*e,E=Z*H,z=e,h=H,d=K.uq(z,h);if(!K.R.tx(j))d.fillRect(0,0,z,h);
K.R._L(j,d,-Q.x-s,-Q.y-E,a);var Y=new Uint8Array(d.getImageData(0,0,z,h).data.buffer);if(z==m&&h==R)K._W(Y,n,3);
else K.Oh(Y,new b4(s,E,z,h),n,new b4(0,0,m,R))}};K.R.aE8=function(j){var n=!1,Q=!1,a=0,B=!1;for(var v=0;
v<j.length;v++){var m=j[v].H_;if(m!=null){a++;if(m==-1)n=!0;if(m==1||m==2||m==3)Q=!0;if(j[v].w==0)B=!0}}if(!n&&a<20&&B&&Q)j=K.R.$r(j);
return j};K.R._L=function(j,n,Q,a,B,m){if(B!=null){j=K.R.aE8(j)}for(var v=0;v<j.length;v++){if(j[v].w>5)continue;
var R=j[v].length;if(R==0)continue;if(v==j.length-1)break;var q=j[v].w==3,U=j[v].H_;if(U!=-1&&B==null){var l=["xor","source-over","destination-out","source-in"][U];
n.globalCompositeOperation=l}if(j[v].H_!=-1){n.beginPath();if(B)K.R.DX(g8.o0.N1(B),n)}K.R.a4U(n,j,v+1,R,Q,a,q);
if(q){}else n.closePath();if(j[v+1+R]==null||j[v+1+R].H_!=-1){if(B){if(m)n.clip();n.stroke()}else n.fill(U==-1?"nonzero":"evenodd")}v+=R}n.globalCompositeOperation="source-over";
n.setLineDash([])};K.R.DX=function(j,n){var Q=j.Sn;n.setLineDash(j.SH);n.lineCap=["butt","round","square"][j.th];
n.lineJoin=["miter","round","bevel"][j.aO];n.lineWidth=j.eK==1?Q:Q*2;n.miterLimit=j.sX};K.R.a4U=function(j,n,v,Q,a,B,m){var R=n[v],q=null;
j.moveTo(R.V.x+a,R.V.y+B);for(var U=v;U<v+Q-1;U++){R=n[U];q=n[U+1];if(R.V.N_(R.XH)&&q.vK.N_(q.V))j.lineTo(q.V.x+a,q.V.y+B);
else j.bezierCurveTo(R.XH.x+a,R.XH.y+B,q.vK.x+a,q.vK.y+B,q.V.x+a,q.V.y+B)}if(!m){R=n[U];q=n[v];if(R.V.N_(R.XH)&&q.vK.N_(q.V))j.lineTo(q.V.x+a,q.V.y+B);
else j.bezierCurveTo(R.XH.x+a,R.XH.y+B,q.vK.x+a,q.vK.y+B,q.V.x+a,q.V.y+B)}};K.R.axx=function(j,n){var Q=[],a=n?4:1;
for(var v=0;v<j.length;v+=2){var B=new eE(j[v],j[v+1]);Q.push({w:a,vK:B.O(),V:B.O(),XH:B.O()})}return Q};
K.R.apm=function(j,n,Q){var a=(1-(Q!=null?Q:25)*.01)*10;if(a>0){for(var v=0;v<n.length;v++){var B=n[v],m=K.R.p$(j,B),R=K.R.KI(j,B),q=j.slice(m,m+R);
K.R._E();var U=new paper.Path;U.remove();U.closed=!0;for(var l=1;l<q.length;l++)U.add(new paper.Point(q[l].V.x,q[l].V.y));
var b=U.simplify(a);if(b)j.splice(m,R,...K.R.$y(U))}}return j};K.R.u$=function(j,n,Q){var a=K.c.Tv(j),B=Math.sqrt(Math.sqrt(a.$()))*.2,m=.2;
j=j.slice(0);var R=j.length,q=n?0:2;for(var U=0;U<5;U++)for(var v=q;v<j.length-q;v+=2){var l=(v-2+R)%R,b=(v+2)%R,D=j[v],c=j[v+1],_=(j[l]+j[b])*.5,p=(j[l+1]+j[b+1])*.5;
j[v]=D+(_-D)*m;j[v+1]=c+(p-c)*m}if(Q)return K.R.hi.O_(j,null,!n);K.R._E();var X=new paper.Path;X.remove();
X.closed=n;for(var v=0;v<j.length;v+=2)X.add(new paper.Point(j[v],j[v+1]));X.simplify(B);var g=[{w:6},{w:8,all:0}];
g=g.concat(K.R.$y(X));return g};K.R.Lk=function(j,n,Q){var a=j[n].length,B=j[n].w,m=0,R=j.slice(n+1,n+1+a);
for(var v=0;v<a;v++){var q=Q[(v-1+a)%a],U=Q[(v+1+a)%a],l=Q[v];if(l!=0){var b=R[(v-1+a)%a].V,D=R[(v+0+a)%a].V,c=R[(v+1+a)%a].V,_=eE.X_(D,b),p=eE.X_(D,c),X=K.c.ajC(b.x,b.y,D.x,D.y,c.x,c.y,l)[0],g=Math.min(X,q==0?_:_/2,U==0?p:p/2);
l*=g/X;var F=K.c.a0v(b.x,b.y,D.x,D.y,c.x,c.y,l),k={w:B+1,vK:new eE(F[2],F[3]),V:new eE(F[2],F[3]),XH:new eE(F[4],F[5])},I={w:B+1,vK:new eE(F[6],F[7]),V:new eE(F[8],F[9]),XH:new eE(F[8],F[9])};
j.splice(n+m+1,1,k,I);m++;j[n].length++}m++}};K.R.cQ=function(j){for(var v=0;v<j.length;v++){var n=j[v],Q=n.w;
if(Q==1||Q==2||Q==4||Q==5)if(!n.V.N_(n.vK)||!n.V.N_(n.XH))return!1}return!0};K.R.Yp=function(j){if(j.length!=7||j[2].length!=4||!K.R.cQ(j))return!1;
for(var v=0;v<4;v++){var n=!0;for(var Q=0;Q<4;Q++){var a=j[3+(v+Q&3)],B=j[3+(v+Q+1&3)];if(a.V.x!=B.V.x&&a.V.y!=B.V.y)n=!1}if(n)return!0}return!1};
K.R.auB=function(j){if(j.length<6)return 0;var n=j.length-2,Q=0;for(var v=0;v<n;v+=2)Q+=(j[v+2]-j[v])*(j[v+1]+j[v+3]);
Q+=(j[0]-j[n])*(j[n+1]+j[1]);return-Q*.5};K.R.a7A=function(j){j=f.hx.wX(j);var n=K.R.$L(j);for(var Q=0;
Q<n;Q++){var a=K.R.p$(j,Q)+1,B=j[a-1].length,m=[];for(var v=0;v<B;v++){var R=j[a+v].V;m.push(R.x,R.y)}var q=K.R.auB(m);
if(q<0)K.R.alu(j,a-1)}return j};K.R.alu=function(j,n){var Q=n+1,a=j[n].length,B=[];for(var v=0;v<a;v++){var m=j[Q+v],R=m.vK;
m.vK=m.XH;m.XH=R;B.push(m)}for(var v=0;v<a;v++)j[Q+v]=B[a-1-v]};K.R.hi={};K.R.hi.O_=function(j,n,Q){var a=[{w:6},{w:8,all:0}],B=null;
a.push({w:Q?3:0,H_:1,length:0,wo:0,x1:0,qg:1});if(n==0||n==null)B=null;else if(n instanceof Array)B=n;
else{B=[];for(var v=0;v<j.length;v+=2)B.push(n)}a=a.concat(K.R.axx(j,Q));a[2].length=a.length-3;if(B)K.R.Lk(a,2,B);
return a};K.R.hi.aFN=function(j,n,Q,a,B){var m=[],R=[],q=.553,U=1,l=-1;m.push({w:1,vK:new eE(0,q),V:new eE(0,0),XH:new eE(0,-q)});
B+=2;for(var v=0;v<B;v++){var b={w:1};if(v==0){b.V=new eE(1,-1);b.vK=new eE(1-q,-1);b.XH=new eE(1+q,-1)}else{var D=-(v+2)*Math.PI/2,c=1+((v&1)==1?v-1:v),_=Math.sin(D),p=Math.cos(D);
U+=c*(_-p);l+=c*(p+_);b.V=new eE(U,l);b.vK=new eE(U+c*p*q,l-c*_*q);if((v&1)==1)c+=2;b.XH=new eE(U-c*p*q,l+c*_*q)}var X={w:1,vK:new eE(-b.XH.x,-b.XH.y),V:new eE(-b.V.x,-b.V.y),XH:new eE(-b.vK.x,-b.vK.y)};
m.push(b);if(v<B-2)R.push(X)}R.reverse();m=m.concat(R);var g=[{w:6},{w:8,all:0}];g.push({w:0,H_:1,length:m.length,wo:0,x1:0,qg:1});
g=g.concat(m);var F=new j8(Q/B,0,0,Q/B,0,0);F.rotate(a);F.translate(j,n);K.R.fK(g,F);return g};K.R.hi.Rect=function(j,n,Q,a,B){var m=[j,n,j+Q,n,j+Q,n+a,j,n+a];
return K.R.hi.O_(m,B)};K.R.hi.Ek=function(j,n,Q,a,B,m,R,q){var U=[],l=2*Math.PI/B;for(var v=0;v<B;v++)U.push(Math.cos(v*l-a),Math.sin(v*l-a));
if(R!=null){var b=K.c.Tv(U),D=b.q,c=b._,_=R/(D/2),p=q/(c/2);for(var v=0;v<U.length;v+=2){U[v]=(U[v]-(b.x+D/2))*_;
U[v+1]=(U[v+1]-(b.y+c/2))*p}Q=1}var X=new j8(Q,0,0,Q,0,0);X.translate(j,n);K.c.C(U,X,U);return K.R.hi.O_(U,m)};
K.R.hi.aeS=function(j,n,Q,a,B,m,R){var q=[],U=Math.PI/B;for(var v=0;v<B*2;v++){var l=(v&1)==0?1:R;q.push(l*Math.cos(v*U),l*Math.sin(v*U))}var b=new j8(Q,0,0,Q,0,0);
b.rotate(a);b.translate(j,n);K.c.C(q,b,q);return K.R.hi.O_(q,m)};K.R.hi.qm=function(j,n,Q,a,B){return K.R.hi._R(0,j,n,Q,a,B)};
K.R.hi.aHo=function(j,n,Q,a,B,m){return K.R.hi._R(1,j,n,Q,a,B,m)};K.R.hi.i_=function(j,n,Q,a,B,m){return K.R.hi._R(2,j,n,Q,a,B,m)};
K.R.hi._R=function(j,n,Q,a,B,m,R){var q=Math.sqrt((a-n)*(a-n)+(B-Q)*(B-Q)),U;m/=2;if(j==0)U=[-m,0,m,0,m,q,-m,q];
if(j==1){var l=m*2*R*1.3/1.5,b=m*R;U=[-m,0,m,0,m,q-l,b,q-l,0,q,-b,q-l,-m,q-l]}if(j==2){var l=R[3],b=R[2]/2,D=l*(2/3)*R[4]/100,c=l-D,_=l;
U=[];if(R[0])U.push(-m,c,-b,_,0,0,b,_,m,c);else if(m==0)U.push(0,0);else U.push(-m,0,m,0);if(R[1])U.push(m,q-c,b,q-_,0,q,-b,q-_,-m,q-c);
else if(m==0)U.push(0,q);else U.push(m,q,-m,q)}var p=new j8(1,0,0,1,0,0);p.rotate(Math.atan2(-B+Q,a-n)+Math.PI/2);
p.translate(n,Q);K.c.C(U,p,U);return K.R.hi.O_(U,0)};K.R.hi.$v=function(j,n,Q,a){var B=[{w:6},{w:8,all:0}],D=.553;
B.push({w:0,H_:1,length:4,wo:0,x1:0,qg:1});var m=j,R=n,q=j+Q,U=n+a,j=(m+q)/2,n=(R+U)/2,l=(m-q)/2,b=(R-U)/2;
B.push({w:1,vK:new eE(j-D*l,n-b),V:new eE(j,n-b),XH:new eE(j+D*l,n-b)});B.push({w:1,vK:new eE(j+l,n-D*b),V:new eE(j+l,n),XH:new eE(j+l,n+D*b)});
B.push({w:1,vK:new eE(j+D*l,n+b),V:new eE(j,n+b),XH:new eE(j-D*l,n+b)});B.push({w:1,vK:new eE(j-l,n+D*b),V:new eE(j-l,n),XH:new eE(j-l,n-D*b)});
return B};K.R.hi.agA=function(j,n,Q,a,B){var m=[{w:6},{w:8,all:0}];m.push({w:3,H_:1,length:5,wo:0,x1:0,qg:1});
var R=(B-a)/4;for(var v=0;v<5;v++){var q=v*R,U=Math.cos(q),l=Math.sin(q),b=.553*(R/(Math.PI/2)),D=l*b,c=-U*b,_=new eE(U,l);
m.push({w:4,vK:v==0?_.O():new eE(U+D,l+c),V:_,XH:v==4?_.O():new eE(U-D,l-c)})}var p=new j8;p.rotate(-a);
p.scale(Q,Q);p.translate(j,n);K.R.fK(m,p);return m};K.UH={};K.UH.w={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
K.UH.alq={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
K.UH.En=function(j){var n=j.warpStyle.v.warpStyle;if(n=="warpNone")return!0;else if(n=="warpCylinder")return!1;
else if(n=="warpCustom"){var Q=!1,a=K.UH.alz(j);for(var v=0;v<4;v++)for(var B=0;B<4;B++){var m=a[v*2]-a[(B*4+v)*2],R=a[v*4*2+1]-a[(v*4+B)*2+1];
if(m*m>1||R*R>1)Q=!0}return!Q}else return j.warpValue.v==0&&j.warpPerspective.v==0&&j.warpPerspectiveOther.v==0};
K.UH.aFd=function(j){var n=K.u(j);n.v.classID="quiltWarp";n.v.deformNumRows={t:"long",v:4};n.v.deformNumCols={t:"long",v:4};
if(n.v.customEnvelopeWarp)K.UH.aeF(n.v,[[0,1],[0,1]]);return n};K.UH.a5M=function(j){var n;if(K.UH.pq(j.v)==16)n=K.u(j);
else n={t:"Objc",v:K.UH.U(K.UH.uI(j.v))};n.v.classID="warp";delete n.v.deformNumRows;delete n.v.deformNumCols;
var Q=n.v.customEnvelopeWarp;if(Q){delete Q.v.quiltSliceX;delete Q.v.quiltSliceY}return n};K.UH.pq=function(j){return j.deformNumRows.v*j.deformNumCols.v};
K.UH.U=function(j){var n={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(j){n.classID="quiltWarp";n.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:j.y}},Left:{t:"UntF",v:{type:"#Pxl",val:j.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:j.y+j._}},Rght:{t:"UntF",v:{type:"#Pxl",val:j.x+j.q}}}};
n.uOrder={t:"long",v:4};n.vOrder={t:"long",v:4};n.deformNumRows={t:"long",v:4};n.deformNumCols={t:"long",v:4}}return n};
K.UH.a38=function(j,n,Q){for(var v=0;v<j.length;v+=2){var a=j[v],B=j[v+1],m=(1-n)/2,R=1-m,q=m+a*(R-m);
B=.5+(B-.5)*q*2;var U=(1-Q)/2,l=1-U,b=U+B*(l-U);a=.5+(a-.5)*b*2;j[v]=a;j[v+1]=B}};K.UH.lR=function(j,n){return{id:j,type:"UnFl",uID:"#Pxl",arr:n}};
K.UH.aeF=function(j,n){var Q=K.UH.uI(j);function a(m,R){m=m.slice(0);var q=m.length,v;for(v=0;v<q;v++)m[v]*=R;
m[0]-=.6;m[q-1]+=.6;return m}var B=j.customEnvelopeWarp.v;B.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[K.UH.lR("quiltSliceX",a(n[0],Q.q))]}};
B.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[K.UH.lR("quiltSliceY",a(n[1],Q._))]}}};K.UH.a2y=function(j){var n=K.UH.uI(j);
function Q(R,q){R=R.slice(0);var m=R.length,v,U=1e9,l=-U;for(v=0;v<m;v++){if(R[v]<U)U=R[v];if(R[v]>l)l=R[v]}for(v=0;
v<m;v++)R[v]=(R[v]-U)/(l-U);R[0]=0;R[m-1]=1;return R}var a=j.customEnvelopeWarp.v,B=[],m=["X","Y"];for(var v=0;
v<2;v++)B.push(Q(a["quiltSlice"+(v==0?"X":"Y")].v.arr[0].arr.slice(0),v==0?n.q:n._));return B};K.UH.aHy=function(j,n){var Q=[],a=[];
for(var v=0;v<n.length;v+=2){Q.push(n[v]);a.push(n[v+1])}j.customEnvelopeWarp.v.meshPoints.v.arr=[K.UH.lR("Hrzn",Q),K.UH.lR("Vrtc",a)]};
K.UH.alz=function(j){var n=[],Q=j.customEnvelopeWarp.v.meshPoints.v.arr,a=Q[0].arr,B=Q[1].arr;for(var v=0;
v<a.length;v++)n.push(a[v],B[v]);return n};K.UH.Fo=function(j,n){var Q,a=j.warpStyle.v.warpStyle;if(a=="warpCustom")Q=[j.deformNumCols.v,j.deformNumRows.v,K.UH.a2y(j),K.UH.alz(j)];
else{if(n==null)n=K.UH.uI(j);if(n.ke())n.q=n._=1;if(a=="warpCylinder"){var B=N.IP.lw(j.warpValues);Q=K.UH.UH(a,B)}else{var m="warpPerspective";
Q=K.UH.UH(a,j.warpValue.v/100,j.warpRotate.v.Ornt=="Hrzn",j[m].v/100,j[m+"Other"].v/100,n.q/n._)}K.UH.aji(Q[3],n)}return Q};
K.UH.aji=function(j,n){for(var v=0;v<j.length;v+=2){j[v]=n.x+j[v]*n.q;j[v+1]=n.y+j[v+1]*n._}};K.UH.aD1=function(j){var n=Math.sin(j*Math.PI/2),Q=Math.pow(j,1/3.5),a=(1-j)*n+j*Q;
a=Math.pow(a,1.045);var B=.1725+.0573*a,m=1-(.96*n+.04*Q);m=Math.pow(m,1.27);var R=1/129+(.167684-1/129)*m;
return[B,R]};K.UH.aH=function(j,n){j.warpStyle.v.warpStyle="warpCustom";j.deformNumCols.v=n[0];j.deformNumRows.v=n[1];
var Q="customEnvelopeWarp";if(j[Q]==null)j[Q]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
K.UH.aeF(j,n[2]);K.UH.aHy(j,n[3])};K.UH.uI=function(j){var n=j.bounds.v,Q=n.Left.v.val,a=n.Rght.v.val,B=n.Top.v.val,m=n.Btom.v.val;
if(Q==null){Q=n.Left.v,a=n.Rght.v;B=n.Top.v,m=n.Btom.v}return new b4(Q,B,a-Q,m-B)};K.UH.UH=function(j,n,Q,a,B,m){if(j=="warpCylinder"){var R=n,q=R[0],U=R[1],l=R[2],b=R[3],D=R[4],c=R[5],_=R[6],p=[];
for(var X=0;X<4;X++)for(var g=0;g<13;g++)p.push(g/12,X/3);var F=l-q,k=U-b,I=D*.5*(F/k),e=c*.5*(F/k),H=K.UH.aD1(_),A=[0,0,0,0,0,H[0],.5],Z=[0,0,0,0,I*.42,I,I],J=[0,0,0,0,e*.42,e,e];
for(var X=0;X<4;X++)for(var g=0;g<7;g++){var v=X*13+g;p[v*2]=A[g];var s=Z[g],E=1+J[g],z=X/3;p[v*2+1]=s*(1-z)+E*z}for(var X=0;
X<4;X++)for(var g=0;g<6;g++){var v=X*13+g,h=X*13+12-g;p[h*2]=1-p[v*2];p[h*2+1]=p[v*2+1]}var z=H[1];return[13,4,[[0,z,.5,1-z,1],[0,1]],p]}var d=K.rU.U(0,0,1,1);
if(j!="warpNone"){if(!Q)m=1/m;K.UH.a77(d,j,n,a,B,m);var Y=d.slice(0);if(!Q)for(var X=0;X<4;X++)for(var g=0;
g<4;g++){d[(X*4+g)*2]=Y[(g*4+X)*2+1];d[(X*4+g)*2+1]=Y[(g*4+X)*2]}if(n==0)K.UH.a38(d,a,B);else{var C=new j8;
C.translate(-.5,-.5);K.c.C(d,C,d);K.UH.a2S(d,B,a);C.m2();K.c.C(d,C,d)}}return[4,4,[[0,1],[0,1]],d]};
K.UH.a77=function(j,n,Q,a,B,m){var R=new b4(0,0,m,1);for(var v=0;v<j.length;v+=2)j[v]*=m;for(var v=0;
v<4;v++){for(var q=0;q<4;q++){var U=2*(4*v+q),l=j[U]-R.x,b=j[U+1]-R.y,D=l,c=b;if(Q!=0){var _=R.q/2,p=R._/2;
D-=_;c-=p;var X=D,g=D,F=-p,k=p,I=Math.abs(Q),e=Math.tan((1-I)*Math.PI/2),H=Math.sqrt(e*e+1),A=Math.atan2(1,e),Z=D/_*A,J=_*H,s=_*H+R._,E=Math.cos(A),z=Math.sin(A),h=K.UH.au3(E,z),d=K.UH.aH9(E,z),Y=-e*_+h*J;
if(n=="warpArc"){X=Math.sin(Z)*s;F=e*_-Math.cos(A)*s+p;g=Math.sin(Z)*J;k=e*_-Math.cos(A)*J+p;if(q==1||q==2){X=q==1?-d*s:d*s;
g=q==1?-d*J:d*J;F=e*_+p-h*s;k=e*_+p-h*J}if(Q<0){var C=X;X=g;g=C;C=F;F=-k;k=-C}}if(n=="warpArcLower"){if(q==1||q==2){g=q==1?-d*J:d*J;
k=Q<0?p-Y:p+Y}}if(n=="warpArcUpper"||n=="warpArch"||n=="warpBulge"){if(q==1||q==2){X=q==1?-d*J:d*J;F=Q<0?-p+Y:-p-Y}if(n=="warpArch"){g=X;
k=F+2*p}if(n=="warpBulge"){g=X;k=-F}}if(n=="warpFish"||n=="warpFlag"||n=="warpWave"){var i=q;if(n=="warpFlag")i=3-q;
if(i==1){F-=Q*4*p;k+=Q*4*p}if(i==2){F+=Q*4*p;k-=Q*4*p}if(n=="warpFlag"||n=="warpWave")F=k-2*p}if(n=="warpRise"){if(q<2)F=-p+Q*p*4;
k=F+2*p}var M=(c+p)/R._;D=X+M*(g-X);c=F+M*(k-F);if(n=="warpWave"){if(v==0)c=-p;if(v==3)c=p;if(v==1||v==2)c=2*p*(v/3-.5)*(1/3)+c*(2/3)}if(n=="warpFisheye"){if((v==1||v==2)&&(q==1||q==2)){D=D+4*D*Q;
c=c+4*c*Q}}if(n=="warpInflate"){var W=2/3;if((v==1||v==2)&&(q==1||q==2)){D=D+.5*D*Q;c=c+.5*c*Q}else if(v==1||v==2)D=D+W*D*Q;
else if(q==1||q==2)c=c+W*c*Q}if(n=="warpSqueeze"){var W=2/3;if((v==1||v==2)&&(q==1||q==2)){if(Q>0)D=D-W*D*Q;
else c=c+W*c*Q}else if(v==1||v==2)D=D-W*D*Q;else if(q==1||q==2)c=c+W*c*Q}if(n=="warpTwist"){if((v==1||v==2)&&(q==1||q==2)){var $=Q*Math.PI/2,H=1+Math.abs(Q)*2,P=D*Math.cos($)-c*Math.sin($),O=D*Math.sin($)+c*Math.cos($);
D=P*H;c=O*H}}if(n=="warpShellLower"||n=="warpShellUpper"){if(n=="warpShellUpper"){v=3-v;c=-c}if(v>2||v==2&&(q==0||q==3)){if(Q>0){var G=J+v/3*2*p;
D=Math.sin(Z)*G;c=-e*_-p+Math.cos(Z)*G;if(q==1||q==2){D=q==1?-d*G:d*G;c=-e*_-p+h*G}}else{if((q==1||q==2)&&v==3){D=q==1?-d*J:d*J;
c=e*_-h*J+p}else if(v==2){c=p-p*(2/3)*Math.cos(Z);D=D+p*(2/3)*Math.sin(Z)}}}if(n=="warpShellUpper"){v=3-v;
c=-c}}D+=_;c+=p}l=D,b=c;j[U]=l+R.x;j[U+1]=b+R.y}}for(var v=0;v<j.length;v+=2)j[v]/=m};K.UH.a2S=function(j,n,Q){var a=[];
for(var B=0;B<4;B++)a.push(1-Q+B/3*2*Q);var m=[];for(var B=0;B<4;B++)m.push(1-n+B/3*2*n);var R=[0,0,0,0],q=[0,0,0,0];
for(var v=0;v<4;v++)for(var B=0;B<4;B++){var U=2*(4*v+B),l=j[U],b=j[U+1];R[B]+=l/4;q[B]+=b/4}for(var v=0;
v<4;v++)for(var B=0;B<4;B++){var D=a[B],U=2*(4*v+B),l=j[U],b=j[U+1],c=R[B],_=q[B];j[U]=c+D*(l-c);j[U+1]=_+D*(b-_)}var p=j.slice(0);
for(var v=0;v<4;v++)for(var B=1;B<3;B++){var U=2*(4*v+B),l=j[U],b=j[U+1],X=U+(B==1?-2:2),g=j[X],F=j[X+1];
j[U]=l-g;j[U+1]=b-F}var k=j[0],I=j[1],e=j[8],H=j[9],A=j[16],Z=j[17],J=j[24],s=j[25],E=j[6],z=j[7],h=j[14],d=j[15],Y=j[22],C=j[23],i=j[30],M=j[31],W=E-k,$=z-I,P=h-e,O=d-H,G=Y-A,t=C-Z,y=i-J,r=M-s;
for(var v=0;v<4;v++){var u=2*v*4,S=0,w=0,dj=v==1?.33:.66,o=1-dj;if(v==0){S=W;w=$}if(v==1){S=o*W+dj*-y;
w=o*$+dj*-r}if(v==2){S=o*W+dj*-y;w=o*$+dj*-r}if(v==3){S=-y;w=-r}j[u]=j[u]+S/2;j[u+1]=j[u+1]+w/2;j[u+6]=j[u+6]-S/2;
j[u+7]=j[u+7]-w/2}for(var v=0;v<4;v++)for(var B=1;B<3;B++){var U=2*(4*v+B),l=j[U],b=j[U+1],X=U+(B==1?-2:2),g=j[X],F=j[X+1],D=2*v/3;
j[U]=g+D*l;j[U+1]=F+D*b}for(var v=1;v<3;v++)for(var B=1;B<3;B++){var U=2*(4*v+B),l=j[U],b=j[U+1],T=v==1?-8:-16,i6=v==1?16:8,bH=j[U+T],cg=j[U+T+1],bu=j[U+i6],hH=j[U+i6+1],D=v/3;
l=(1-D)*bH+D*bu;b=(1-D)*cg+D*hH;j[U]=l;j[U+1]=b}K.c.aDf(p,j,j,n)};K.UH.au3=function(j,n){return(4-j)*(1/3)};
K.UH.aH9=function(j,n){return(1-j)*(3-j)/(3*n)};K.MK={};K.MK.axl=function(j,n,Q,a,B,m,R,q,U,l){for(var b=0;
b<q;b++)for(var D=0;D<R;D++){var c=3*(b*R+D),_=b+m,p=D+B,X=j[_*n+p];a[c]=X;a[c+1]=X;a[c+2]=X}};K.MK.vH=function(j,n,Q,a,B,m,R,q,U,l){var b=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],D=1/U,c=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],_=new Uint32Array(6);
for(var p=0;p<q;p++){for(var X=0;X<R;X++){var g=3*(p*R+X),F=p+m,k=X+B;_[0]=0;_[1]=0;_[2]=0;_[3]=0;_[4]=0;
_[5]=0;for(var v=0;v<16;v+=2){var I=k+c[v],e=F+c[v+1],H=I-U*~~(I*D),A=e-U*~~(e*D),Z=l[A*U+H];_[Z]+=j[e*n+I];
_[Z+3]++}var I=k,e=F,H=I-U*~~(I*D),A=e-U*~~(e*D),Z=l[A*U+H];_[Z]=j[F*n+k];_[Z+3]=1;a[g]=_[0]*b[_[3]];
a[g+1]=_[1]*b[_[4]];a[g+2]=_[2]*b[_[5]]}}};K.MK.aBR=function(j,n,Q){for(var v=0;v<Q;v+=2)j[n+v]=j[n+v+1];
n=n+Q;for(var v=0;v<Q;v+=2)j[n+v+1]=j[n+v]};K.MK.a6S=function(j,n,Q,a){for(var v=0;v<a;v+=2){var B=n+v*Q;
j[B]=j[B+Q];j[B+Q+1]=j[B+1]}};K.MK.aGi=function(j,n,Q,a,B,m){var R=a[B],q=a[B+1],U=a[m],l=a[m+1],b=q+U>>>1;
j[n]=j[n+3]=j[Q]=j[Q+3]=R;j[n+1]=b;j[n+4]=q;j[Q+1]=U;j[Q+4]=b;j[n+2]=j[n+5]=j[Q+2]=j[Q+5]=l};K.MK.ahv=function(j,n,Q,a,B,m){var R=m*3;
for(var v=0;v<m;v+=2){var q=n+v,U=B+v*3;K.MK.aGi(a,U,U+R,j,q,q+Q)}};K.MK.adU=function(j,n,Q,a,B,m,R){var q=m*3;
for(var v=0;v<R;v+=2){var U=n+v*Q,l=B+v*m*3;K.MK.aGi(a,l,l+q,j,U,U+Q)}};K.MK.ahq=function(j,v,n){var Q=j[v-n-n],a=j[v-n],B=j[v-2],m=j[v-1],R=j[v],q=j[v+1],U=j[v+2],l=j[v+n],b=j[v+n+n],D=Math.abs(a-l),c=Math.abs(m-q),_=Math.abs(R-Q)*2+D,p=Math.abs(R-U)*2+c,X=Math.abs(R-B)*2+c,g=Math.abs(R-b)*2+D,F=Math.min(_,Math.min(p,Math.min(X,g)));
if(F==_)return a*3+l+R-Q>>2;if(F==p)return q*3+m+R-U>>2;if(F==X)return m*3+q+R-B>>2;return l*3+a+R-b>>2};
K.MK.wh=function(j,n,Q,a,B){if(j<n&&n<Q||j>n&&n>Q)return~~(.5+a+(B-a)*(n-j)/(Q-j));else return(a+B>>1)+(n+n-j-Q>>2)};
K.MK.amF=function(j,n,v,Q){var a=n[v-Q-1],B=n[v-Q+1],m=n[v],R=n[v+Q-1],q=n[v+Q+1],U=j[v-Q-1],l=j[v-Q+1],b=j[v],D=j[v+Q-1],c=j[v+Q+1],_=Math.abs(l-D)+Math.abs(j[v-Q-Q+2]-b)+Math.abs(b-j[v+Q+Q-2])+Math.abs(B-m)+Math.abs(m-R),p=Math.abs(U-c)+Math.abs(j[v-Q-Q-2]-b)+Math.abs(b-j[v+Q+Q+2])+Math.abs(a-m)+Math.abs(m-q);
if(_<p)return K.MK.wh(B,m,R,l,D);else return K.MK.wh(a,m,q,U,c)};K.MK.jI=function(j,n,Q,a,B,m){j[n+0]=Q[B];
j[n+1]=a[B];j[n+2]=K.MK.amF(Q,a,B,m)};K.MK.ye=function(j,n,Q,a,B,m){var R=a[B];j[n+0]=K.MK.wh(a[B-1],R,a[B+1],Q[B-1],Q[B+1]);
j[n+1]=R;j[n+2]=K.MK.wh(a[B-m],R,a[B+m],Q[B-m],Q[B+m])};K.MK.Sk=function(j,n,Q,a,B,m){var R=a[B];j[n+0]=K.MK.wh(a[B-m],R,a[B+m],Q[B-m],Q[B+m]);
j[n+1]=R;j[n+2]=K.MK.wh(a[B-1],R,a[B+1],Q[B-1],Q[B+1])};K.MK.dD=function(j,n,Q,a,B,m){j[n+0]=K.MK.amF(Q,a,B,m);
j[n+1]=a[B];j[n+2]=Q[B]};K.MK.aaz=function(j,n,Q,a,B,m,R,q,U){var l=Date.now(),b=2,D=n-2,c=2;if((B&1)==1){b++;
D--}var _=Q-2;if((m&1)==1){c++;_--}if(U==1||U==3){b++;D--}var p=j.slice(0);K.MK.aBR(p,0,n);K.MK.a6S(p,0,n,Q);
K.MK.a6S(p,n-2,n,Q);K.MK.aBR(p,(Q-2)*n,n);for(var X=c;X<_;X+=2)for(var g=b;g<D;g+=2){var v=X*n+g,F=K.MK.ahq(p,v,n),k=K.MK.ahq(p,v+n+1,n);
p[v]=Math.max(0,F);p[v+n+1]=Math.max(0,k)}var I=R,e=q;if(m+q==Q){e-=2;K.MK.ahv(j,(Q-2)*n+B,n,a,(q-2)*R*3,R)}if(B+R==n){I-=2;
K.MK.adU(j,m*n+B+R-2,n,a,(R-2)*3,R,q)}if(U==0)for(var X=0;X<e;X+=2)for(var g=0;g<I;g+=2){var H=(X+m)*n+g+B,A=(X*R+g)*3;
K.MK.jI(a,A,j,p,H,n);K.MK.ye(a,A+3,j,p,H+1,n);H+=n;A+=3*R;K.MK.Sk(a,A,j,p,H,n);K.MK.dD(a,A+3,j,p,H+1,n)}else if(U==1)for(var X=0;
X<e;X+=2)for(var g=0;g<I;g+=2){var H=(X+m)*n+g+B,A=(X*R+g)*3;K.MK.ye(a,A,j,p,H,n);K.MK.jI(a,A+3,j,p,H+1,n);
H+=n;A+=3*R;K.MK.dD(a,A,j,p,H,n);K.MK.Sk(a,A+3,j,p,H+1,n)}else if(U==2)for(var X=0;X<e;X+=2)for(var g=0;
g<I;g+=2){var H=(X+m)*n+g+B,A=(X*R+g)*3;K.MK.dD(a,A,j,p,H,n);K.MK.Sk(a,A+3,j,p,H+1,n);H+=n;A+=3*R;K.MK.ye(a,A,j,p,H,n);
K.MK.jI(a,A+3,j,p,H+1,n)}else if(U==3)for(var X=0;X<e;X+=2)for(var g=0;g<I;g+=2){var H=(X+m)*n+g+B,A=(X*R+g)*3;
K.MK.Sk(a,A,j,p,H,n);K.MK.dD(a,A+3,j,p,H+1,n);H+=n;A+=3*R;K.MK.jI(a,A,j,p,H,n);K.MK.ye(a,A+3,j,p,H+1,n)}};
K.raw={};K.raw.aGf=function(j){var n=Date.now(),Q=j.width,a=j.height,B=0,m=0,R=Q,q=a;if(j.t50829){var U=j.t50829;
B=U[1];m=U[0];R=U[3];q=U[2]}if(j.t50720&&j.t50720[0]*1.2>Q){if(j.t50719){var l=j.t50719;B+=l[0]>>1<<1;
m+=l[1]>>1<<1}if(j.t50720){var b=j.t50720;R=B+b[0];q=m+b[1]}}var D=R-B,c=q-m,_=K.raw.agb(j),p=j.t33422,X=j.t33421;
if(X){var b=X[0],g=p.slice(0);for(var F=0;F<b;F++)for(var k=0;k<b;k++){var I=(k+(B&1))%b,e=(F+(m&1))%b;
g[F*b+k]=p[e*b+I]}p=g}if(j.t277[0]==1&&p)K.raw.ay8(_,Q,a,j,p);K.raw.BV(2,j,_,Q,a);var H=new Float32Array(D*c*3);
if(j.t277[0]==1){if(X==null){K.MK.axl(_,Q,a,H,B,m,D,c)}else if(X.length!=2||X[0]!=2||X[1]!=2){console.log("Unknown CFA pattern size",X);
K.MK.vH(_,Q,a,H,B,m,D,c,X[0],p)}else{var A=j.t33422.join(","),Z=0;if(A=="0,1,1,2")Z=0;else if(A=="1,0,2,1")Z=1;
else if(A=="2,1,1,0")Z=2;else if(A=="1,2,0,1")Z=3;else throw"Unknown CFA pattern "+A;if((D&1)!=0||(c&1)!=0)throw"e";
K.MK.aaz(_,Q,a,H,B,m,D,c,Z)}}else{for(var F=0;F<c;F++)for(var k=0;k<D;k++){var J=((F+m)*Q+k+B)*3,s=(F*D+k)*3;
H[s+0]=_[J+0];H[s+1]=_[J+1];H[s+2]=_[J+2]}}var E=H,z=H.length,h=K.raw.T9(j),d=1/h;for(var v=0;v<z;v+=3){H[v]=E[v]*d;
H[v+1]=E[v+1]*d;H[v+2]=E[v+2]*d}K.raw.BV(3,j,H,D,c);var Y=j.u6,C=D,i=c;if(Y==1||Y==9){}else{var M=K.raw.az1(Y,D,c),s=0;
C=M[0];i=M[1];var W=H.slice(0);for(var F=0;F<i;F++)for(var k=0;k<C;k++){var $=M[2]*k+M[3]*F+M[4],P=M[5]*k+M[6]*F+M[7],J=(P*D+$)*3;
H[s]=W[J];H[s+1]=W[J+1];H[s+2]=W[J+2];s+=3}}return{jB:H,ek:C,Ka:i}};K.raw.az1=function(j,n,Q){var a=n,B=Q;
if(!1){}else if(j==0)return[Q,n,0,-1,n-1,1,0,0];else if(j==2)return[n,Q,-1,0,n-1,0,1,0];else if(j==3)return[n,Q,-1,0,n-1,0,-1,Q-1];
else if(j==4)return[n,Q,1,0,0,0,-1,Q-1];else if(j==5)return[Q,n,0,1,0,1,0,0];else if(j==6)return[Q,n,0,1,0,-1,0,Q-1];
else if(j==7)return[Q,n,0,-1,n-1,-1,0,Q-1];else if(j==8)return[Q,n,0,-1,n-1,1,0,0];else throw"unknown orientation "+j};
K.raw.ay8=function(j,n,Q,a,B){var m=Date.now(),d=0,i=0;if(K.raw.T9(a)>4e4){for(var v=0;v<j.length;v++)j[v]>>=1;
var R=["t50714","t50715","t50712","t50717"];for(var v=0;v<R.length;v++){var q=a[R[v]];if(q)for(var U=0;
U<q.length;U++)q[U]>>>=1}console.log("remapping to lower bit depth")}var l=~~Math.sqrt(B.length),b=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],D=[];
for(var c=0;c<l;c++)for(var _=0;_<l;_++){var v=c*l+_,p=B[v],X=4,g=4,F=8,k=0,I=0;for(var U=0;U<18;U+=2){var e=(l+_+b[U])%l,H=(l+c+b[U+1])%l,A=B[H*l+e];
if(A==p){}else if(X==4){X=A;k=U}else if(g==4&&A!=X){g=A;I=U;break}}if(g<X){var Z=g;g=X;X=Z;Z=I;I=k;k=Z}if(X<p){var Z=X;
X=p;p=Z;Z=k;k=F;F=Z}if(g<X){var Z=g;g=X;X=Z;Z=I;I=k;k=Z}D[v*3]=b[F+1]*n+b[F];D[v*3+1]=b[k+1]*n+b[k];
D[v*3+2]=b[I+1]*n+b[I]}var J=~~(.996*K.raw.T9(a)),s=~~(.992*K.raw.T9(a)),E=a.t50728;if(E==null||E[0]==0)E=[1,1,1];
var z=[],h=[0,0,0];for(var c=1;c<Q-1;c++)for(var _=1;_<n-1;_++){var v=c*n+_,Y=c%l*l+_%l,p=j[v+D[Y*3+0]],X=j[v+D[Y*3+1]],g=j[v+D[Y*3+2]],C=Math.max(p,X,g);
if(C>J)z.push(v);else if(C>s){h[0]+=p;h[1]+=X;h[2]+=g;d++}}if(z.length==0)return;if(d/(n*Q)<1e-5){console.log("not enough semi-saturated pixels",d);
h=E}if(h[1]<h[i])i=1;if(h[2]<h[i])i=2;var M=[h[0]/h[i],h[1]/h[i],h[2]/h[i]],W=j.slice(0);for(var $=0;
$<z.length;$++){var v=z[$],c=~~(v/n),_=v-c*n,Y=c%l*l+_%l,P=Math.min(65535,~~(j[v+D[Y*3+i]]*M[B[Y]]));
if(P>W[v])W[v]=P}j.set(W)};K.raw.Cq=function(j,n,Q,a){var B=Math.round(j.length/3),m=ik.xN(a[0],a[1]),R=K.raw.aCP(Q,m),q=K.wz.multiply(K.wz.zL,R),U=Math.pow(2,Q.t50730?Q.t50730[0]:0);
q=K.wz.multiply(q,K.wz.SZ(U,U,U));var l=K.raw.Cq.ae2;if(l==null){l=K.raw.Cq.ae2=new Float64Array(8e3);
for(var v=0;v<8e3;v++)l[v]=K.Ku(v*(1/1e3))}for(var v=0;v<B;v++){var b=v<<2,D=b-v,c=j[D],_=j[D+1],p=j[D+2],X=q[0]*c+q[1]*_+q[2]*p,g=q[4]*c+q[5]*_+q[6]*p,F=q[8]*c+q[9]*_+q[10]*p;
if(X<0)X=0;if(g<0)g=0;if(F<0)F=0;n[D]=l[~~(X*1e3)];n[D+1]=l[~~(g*1e3)];n[D+2]=l[~~(F*1e3)]}};K.raw.agb=function(j){var n=j.width,Q=j.height,a=n*Q*j.t277,B=new Uint16Array(a),m=null,R=0;
K.raw.aF9(j,B);K.raw.BV(1,j,B,n,Q);if(j.t50712){m=j.t50712;R=m.length-1;if(m[R]>65535)throw"too big values"}var q=K.raw.ac2(j),U=K.raw.a1P(j);
if(m==null)for(var v=0;v<a;v++)B[v]=Math.max(0,B[v]-q);else for(var v=0;v<a;v++){var l=B[v];if(l>R)l=R;
l=m[l];B[v]=Math.max(0,l-q)}return B};K.raw.ac2=function(j){var n=j.t50714,Q=n?n[0]:0,a=j.t50715,B=j.t50716;
if(a)Q+=a[0][0]/a[0][1];if(B)Q+=B[0][0]/B[0][1];return Math.round(Q)};K.raw.a1P=function(j){var n=null,Q=0;
if(j.t50712){n=j.t50712;Q=n.length-1}var a=j.t50717?j.t50717[0]:(1<<j.t258[0])-1;if(n)a=Math.min(a,n[Q]);
return a};K.raw.T9=function(j){var n=K.raw.ac2(j),Q=K.raw.a1P(j);return Q-n};K.raw.aF9=function(j,n){var Q=n.length,a=j.data,B=j.t258[0];
if(B!=16&&B!=14&&B!=12&&B!=10&&B!=8)throw"Unsupported Bits Per Sample:"+B;B=Math.round(a.length*8/Q);
if(B==16&&j.isLE){K.D1(a,n);return}for(var v=0;v<Q;v+=2){var m=0,R=0,q=0;if(B==16){m=v<<1;R=a[m]<<8|a[m+1];
q=a[m+2]<<8|a[m+3]}else if(B==14){var U=v*14,l=U>>>3,b=a[l]<<24|a[l+1]<<16|a[l+2]<<8|a[l+3];if((U&7)==0){R=b>>>18;
q=b>>>4&16383}else{R=b>>>14&16383;q=b&16383}}else if(B==12){m=v+(v>>>1);R=a[m]<<4|a[m+1]>>4;q=(a[m+1]&15)<<8|a[m+2]}else if(B==10){var U=v*10,l=U>>>3;
if((U&7)==0){R=(a[l]<<2|a[l+1]>>6)&1023;q=(a[l+1]<<4|a[l+2]>>4)&1023}else{R=(a[l]<<6|a[l+1]>>2)&1023;
q=(a[l+1]<<8|a[l+2]>>0)&1023}}else if(B==8){m=v;R=a[m];q=a[m+1]}n[v]=R;n[v+1]=q}};K.raw.a5a=function(j,n,Q,a,B,m,R){var q=j-.499999,U=n-.499999,l=~~q,b=~~U,D=q-l,c=U-b,_=(1-c)*(1-D),p=(1-c)*D,X=c*(1-D),g=c*D,F=(b*a+l)*3,k=((b+1)*a+l)*3,I=_*Q[F]+p*Q[F+3]+X*Q[k]+g*Q[k+3],e=_*Q[F+1]+p*Q[F+4]+X*Q[k+1]+g*Q[k+4],H=_*Q[F+2]+p*Q[F+5]+X*Q[k+2]+g*Q[k+5];
m[R]=I;m[R+1]=e;m[R+2]=H};K.raw.BV=function(j,n,Q,a,B){var m=n["t"+[51008,51009,51022][j-1]],b=0;if(m==null)return;
var R=a*B,q=L.St,U=L.NZ,l=new Uint8Array(m),aC=L.St(l,b);b+=4;for(var D=0;D<aC;D++){var c=q(l,b);b+=4;
var _=q(l,b);b+=4;var p=q(l,b);b+=4;var X=q(l,b);b+=4;if(!1){}else if(c==1&&j==3){var g=b,F=q(l,g);g+=4;
var k=U(l,g);g+=8;var I=U(l,g);g+=8;var e=U(l,g);g+=8;var H=U(l,g);g+=8;var A=U(l,g);g+=8;var Z=U(l,g);
g+=8;g+=(F-1)*8*6;var J=U(l,g);g+=8;var s=U(l,g);g+=8;var E=J*a,z=s*B,h=Math.max(E,a-E),d=Math.max(z,B-z),Y=Math.sqrt(h*h+d*d),C=1/Y,i=Q.slice(0);
for(var M=0;M<B;M++)for(var W=0;W<a;W++){var $=(W+.5-E)*C,P=(M+.5-z)*C,O=$*$+P*P,G=k+I*O+e*(O*O)+H*(O*O)*O,t=A*(2*$*P)+Z*(O+2*$*$),y=Z*(2*$*P)+A*(O+2*P*P),r=Math.min(E+Y*(G*$+t),a-1),u=Math.min(z+Y*(G*P+y),B-1),S=(M*a+W)*3;
K.raw.a5a(r,u,i,a,B,Q,S)}}else if(c==3&&j==3){var g=b,w=U(l,g);g+=8;var dj=U(l,g);g+=8;var o=U(l,g);
g+=8;var T=U(l,g);g+=8;var i6=U(l,g);g+=8;var J=U(l,g);g+=8;var s=U(l,g);g+=8;var E=J*a,z=s*B,h=Math.max(E,a-E),d=Math.max(z,B-z),Y=Math.sqrt(h*h+d*d),C=1/Y;
for(var M=0;M<B;M++)for(var W=0;W<a;W++){var $=(W+.5-E)*C,P=(M+.5-z)*C,O=$*$+P*P,bH=1+(w+(dj+(o+(T+i6*O)*O)*O)*O)*O,S=(M*a+W)*3;
Q[S]=bH*Q[S];Q[S+1]=bH*Q[S+1];Q[S+2]=bH*Q[S+2]}}else if(c==4&&j==1){var g=b,cg=q(l,g);g+=4;var bu=q(l,g);
g+=4;for(var v=0;v<R;v++)if(Q[v]==cg)Q[v]=Q[v-2]+Q[v+2]>>1}else if(c==5&&j==1){var g=b,hH=q(l,g);g+=4;
var dK=q(l,g);g+=4;var d8=q(l,g);g+=4;for(var v=0;v<dK;v++){var d1=q(l,g);g+=4;var gH=q(l,g);g+=4;var v=d1*a+gH;
Q[v]=Q[v-2]+Q[v+2]>>1}}else if(c==7&&j==1){var g=b,kh=L.it(l,g);g+=16;var ay=q(l,g);g+=4;var dO=q(l,g);
g+=4;var fy=q(l,g),bg=q(l,g+4);g+=8;var f4=q(l,g);g+=4;var jb=new Uint16Array(f4);for(var v=0;v<f4;v++)jb[v]=L.oN(l,g+2*v);
var jT=kh.q,jy=kh._;for(var M=0;M<jy;M+=fy)for(var W=0;W<jT;W+=bg){var v=(kh.y+M)*a+(kh.x+W);Q[v]=jb[Q[v]]}}else if(c==8&&j==2){var g=b,kh=L.it(l,g);
g+=16;var ay=q(l,g);g+=4;var dO=q(l,g);g+=4;var fy=q(l,g),bg=q(l,g+4);g+=8;var cl=q(l,g);g+=4;var hu=[];
for(var v=0;v<=cl;v++)hu[v]=L.NZ(l,g+v*8);var aA=kh.x,ko=kh.x+kh.q,ec=kh.y,kK=kh.y+kh._,cM=n.t50717[0],gG=1/cM;
for(var c2=0;c2<dO;c2++)for(var M=ec;M<kK;M+=fy){var S=3*M*a+ay+c2;for(var W=aA;W<ko;W+=bg){var v=S+3*W,a1=Q[v]*gG,cs=hu[cl];
for(var f7=cl;f7>0;f7--)cs=cs*a1+hu[f7-1];Q[v]=Math.max(0,Math.min(65535,~~(cs*cM)))}}}else if(c==9&&j==2){var g=b,kh=L.it(l,g),jl=!0;
g+=16;var ay=q(l,g);g+=4;var dO=q(l,g);g+=4;var fy=q(l,g),bg=q(l,g+4);g+=8;var j7=q(l,g),dz=q(l,g+4);
g+=8;var iA=U(l,g),kk=U(l,g+8);g+=16;var fA=U(l,g),g5=U(l,g+8);g+=16;var h$=q(l,g);g+=4;if(h$!=1)throw"more than one map plane";
var hL=j7*dz,ha=new Float32Array(hL);for(var f7=0;f7<hL;f7++)ha[f7]=L.Hb(l,g+f7*4);for(var f7=0;f7<hL;
f7++)if(ha[f7]!=1)jl=!1;if(!jl){var jT=kh.q,jy=kh._,fI=.9999*(dz-1)/jT,aE=.9999*(j7-1)/jy;for(var M=0;
M<jy;M+=fy)for(var W=0;W<jT;W+=bg){var v=(kh.y+M)*a+(kh.x+W),es=W*fI,kN=M*aE,fV=Math.floor(es),jU=Math.floor(kN),c$=es-fV,iq=kN-jU,S=jU*dz+fV,cz=ha[S]*(1-c$)+ha[S+1]*c$,h0=ha[S+dz]*(1-c$)+ha[S+1+dz]*c$,fl=cz*(1-iq)+h0*iq;
Q[v]=Math.max(0,Math.min(65535,~~(Q[v]*fl+.5)))}}}else console.log("Unknown opcode "+c+" in OpcodeList"+j+". Length: "+X);
b+=X}};K.raw.aCP=function(j,n){var Q=ik.vx(n),a=K.raw.a0n(j,n),B=K.wz.m2(a),m=ik.ahV(Q,ik.vx(ik.afC)),R=K.wz.multiply(m,B);
return R};K.raw.apX=function(j){var n=j.t50728,B=1;if(n==null||n[0]==0)n=[1,1,1];var Q=n.slice(0);Q.push(0);
var a={x:.34567,y:.3585};do{var m=K.wz.m2(K.raw.a0n(j,a)),R=K.wz.y0(m,Q),q=ik.aDa(R);B=Math.abs(a.x-q.x)+Math.abs(a.y-q.y);
a=q}while(B>1e-7);return a};K.raw.a0n=function(j,n){var Q=ik.aH6(n),a=K.raw.awB,B=j.t50778?j.t50778[0]:0,m=j.t50779?j.t50779[0]:0,R=j.t50723,q=j.t50724;
if(R&&R.length==3)R=null;if(q&&q.length==3)q=null;var U=a(j.t50721,j.t50722,B,m,Q.uW),l=a(R,q,B,m,Q.uW);
U=U||[1,0,0,0,1,0,0,0,1];l=l||[1,0,0,0,1,0,0,0,1];var b=j.t50727?[j.t50727[0],0,0,0,j.t50727[1],0,0,0,j.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return K.wz.multiply(K.wz.Ca(b),K.wz.multiply(K.wz.Ca(l),K.wz.Ca(U)))};K.raw.awB=function(j,n,Q,a,B){if(!j&&!n){return null}else if(j&&!n){return j}else if(B<Q){return j}else if(B>a){return n}else{var m=(1/B-1/a)/(1/Q-1/a),R=1-m,q=[];
for(var v=0;v<9;v++)q[v]=j[v]*m+n[v]*R;return q}};var ik={};ik.afC={x:.34567,y:.3585};ik.asD=[{n:0,SS:.18006,n8:.26352,xE:-.24341},{n:10,SS:.18066,n8:.26589,xE:-.25479},{n:20,SS:.18133,n8:.26846,xE:-.26876},{n:30,SS:.18208,n8:.27119,xE:-.28539},{n:40,SS:.18293,n8:.27407,xE:-.3047},{n:50,SS:.18388,n8:.27709,xE:-.32675},{n:60,SS:.18494,n8:.28021,xE:-.35156},{n:70,SS:.18611,n8:.28342,xE:-.37915},{n:80,SS:.1874,n8:.28668,xE:-.40955},{n:90,SS:.1888,n8:.28997,xE:-.44278},{n:100,SS:.19032,n8:.29326,xE:-.47888},{n:125,SS:.19462,n8:.30141,xE:-.58204},{n:150,SS:.19962,n8:.30921,xE:-.70471},{n:175,SS:.20525,n8:.31647,xE:-.84901},{n:200,SS:.21142,n8:.32312,xE:-1.0182},{n:225,SS:.21807,n8:.32909,xE:-1.2168},{n:250,SS:.22511,n8:.33439,xE:-1.4512},{n:275,SS:.23247,n8:.33904,xE:-1.7298},{n:300,SS:.2401,n8:.34308,xE:-2.0637},{n:325,SS:.24792,n8:.34655,xE:-2.4681},{n:350,SS:.25591,n8:.34951,xE:-2.9641},{n:375,SS:.264,n8:.352,xE:-3.5814},{n:400,SS:.27218,n8:.35407,xE:-4.3633},{n:425,SS:.28039,n8:.35577,xE:-5.3762},{n:450,SS:.28863,n8:.35714,xE:-6.7262},{n:475,SS:.29685,n8:.35823,xE:-8.5955},{n:500,SS:.30505,n8:.35907,xE:-11.324},{n:525,SS:.3132,n8:.35968,xE:-15.628},{n:550,SS:.32129,n8:.36011,xE:-23.325},{n:575,SS:.32931,n8:.36038,xE:-40.77},{n:600,SS:.33724,n8:.36051,xE:-116.45}];
ik.aH6=function(j){var n=ik.asD,Q=2*j.x/(1.5-j.x+6*j.y),a=3*j.y/(1.5-j.x+6*j.y),B=0,m=0,R=0;for(;R<31;
R++){B=a-n[R].n8-n[R].xE*(Q-n[R].SS);if(R>0&&B<0){break}m=B}while(R>=n.length)R--;B/=Math.sqrt(1+n[R].xE*n[R].xE);
m/=Math.sqrt(1+n[R-1].xE*n[R-1].xE);var q=m/(m-B),U=1e6/((n[R].n-n[R-1].n)*q+n[R-1].n),l=Q-((n[R].SS-n[R-1].SS)*q+n[R-1].SS),b=a-((n[R].n8-n[R-1].n8)*q+n[R-1].n8),D=Math.sqrt(1+n[R].xE*n[R].xE),c=1/D,_=n[R].xE/D,p=Math.sqrt(1+n[R-1].xE*n[R-1].xE),X=1/p,g=n[R-1].xE/p,F=(c-X)*q+X,k=(_-g)*q+g,I=Math.sqrt(F*F+k*k);
F/=I;k/=I;var e=(l*F+b*k)*-3e3;return{uW:U,vM:e}};ik.xN=function(j,n){var Q=ik.asD,a=1e6/j,B=1;for(;
B<31;B++){if(a<Q[B].n){break}}var m=(Q[B].n-a)/(Q[B].n-Q[B-1].n),R=(Q[B-1].SS-Q[B].SS)*m+Q[B].SS,q=(Q[B-1].n8-Q[B].n8)*m+Q[B].n8,U=Math.sqrt(1+Q[B].xE*Q[B].xE),l=1/U,b=Q[B].xE/U,D=Math.sqrt(1+Q[B-1].xE*Q[B-1].xE),c=1/D,_=Q[B-1].xE/D,p=(c-l)*m+l,X=(_-b)*m+b,g=Math.sqrt(p*p+X*X);
p/=g;X/=g;R+=p*n/-3e3;q+=X*n/-3e3;return{x:1.5*R/(R-4*q+2),y:q/(R-4*q+2)}};ik.aDa=function(j){var n=j[0]+j[1]+j[2];
return{x:j[0]/n,y:j[1]/n}};ik.vx=function(j){return{x:j.x/j.y,y:1,Fp:(1-j.x-j.y)/j.y}};ik.ahV=function(j,n){var Q=K.wz.Ca([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),a=[j.x,j.y,j.Fp,0],B=[n.x,n.y,n.Fp,0];
a=K.wz.y0(Q,a);B=K.wz.y0(Q,B);var m=B[0]/a[0],R=B[1]/a[1],q=B[2]/a[2],U=K.wz.Ca([m,0,0,0,R,0,0,0,q]),l=K.wz.m2(Q);
return K.wz.multiply(K.wz.multiply(l,U),Q)};K.raw.b0={};K.raw.FC=function(j){j*=8;var n=[8,10,12,14,16];
for(var Q in CAMS){var a=CAMS[Q];if(a.length==4)continue;var B=a[4],m=a[5];for(var v=0;v<n.length;v++)if(B*m*n[v]==j)return[Q,n[v]]}var R=[[4e3,3e3]];
for(var v=0;v<R.length;v++){var a=R[v],B=a[0],m=a[1];for(var v=0;v<n.length;v++)if(B*m*n[v]==j)return[a,n[v]]}return null};
K.raw.a7i=function(j){var j=new Uint8Array(j);for(var v=0;v<j.length;v+=2){var n=j[v];j[v]=j[v+1];j[v+1]=n}var Q=K.raw.FC(j.length),a=CAMS[Q[0]];
if(a==null)a=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,Q[0][0],Q[0][1]];var B=a[4],m=a[5],R=Math.max(a[2],116),q={data:j,u6:1,width:B,height:m,t256:[B],t257:[m],t258:[Q[1]],t277:[1],t33421:[2,2],t33422:K.raw.Xy[a[1]],t50706:[1,2,0,0],t50714:[R,R,R,R],t50717:[a[3]],t50721:a[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var v=0;v<9;v++)q.t50721[v]/=1e4;return q};K.raw.axh=function(j){if(j==null||j.length==0||typeof j[0]=="number")return j;
var n=[];for(var v=0;v<j.length;v++)n[v]=j[v][1]==0?0:j[v][0]/j[v][1];return n};K.raw.Xy=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
K.raw.normalize=function(j,n){if(j.t50706!=null||j.t271[0].startsWith("Hasselblad")){var Q=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var v=0;v<Q.length;v++)if(j["t"+Q[v]]!=null)j["t"+Q[v]]=K.raw.axh(j["t"+Q[v]]);if(j.t271&&j.t271[0].startsWith("Hasselblad")){j.t50706=[1,2,0,0];
j.t33422=K.raw.Xy[1];j.t50723=[1,0,0,0,1,0,0,0,1];j.t50778=[17];if(!j.isLE)for(var v=0;v<j.data.length;
v+=2){var a=j.data[v];j.data[v]=j.data[v+1];j.data[v+1]=a}}if(j.t272&&j.t272[0]=="HERO10 Black"){j.t50728=[.469725,1,.739884];
if(!j.t305[0].startsWith("Adobe")){var B=new Uint16Array(j.data.buffer);for(var v=0;v<B.length;v++)B[v]>>>=2}}return}var m=j.t258[0],R=j.exifIFD,n=new Uint8Array(n);
j.t50706=[1,2,0,0];var q=j.t271[0].trim(),U=j.t272[0].trim();if(j.t50708==null)j.t50708=[q+" "+U];var l=(q+":"+U).toLowerCase().trim(),b=CAMS[l];
if(l=="panasonic:dmc-lx2")b[3]=1<<16;if(b==null){alert("Unknown camera:"+l);if(l.startsWith("canon"))b=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(b!=null){var D=b[2];
j.t50714=[D,D,D,D];if(j.t272=="Canon EOS REBEL T3")b[3]=13584;j.t50717=[b[3]];j.t50721=b[0].slice(0);
for(var v=0;v<9;v++)j.t50721[v]=j.t50721[v]*(1/1e4)}j.t50723=[1,0,0,0,1,0,0,0,1];if(j.t50728==null)j.t50728=[.35,1,.6];
j.t50778=[17];if(q.startsWith("OLYMPUS")||q.startsWith("OM Digital Solutions")){j.t33422=[2,1,1,0];var c=R.t41730,g;
if(c)j.t33422=[c[4],c[5],c[6],c[7]];var _=j.t50341;if(_==null)_=R.t36864;var p=K.raw.aou(_.buffer,j);
j.data=new Uint8Array(p.buffer);if((j.height&1)==1)j.t50829=[0,0,j.height-1,j.width];var X=R.makerNote,F=X.t8256;
if(F)g=F.t256;else g=X.t12288.t256;if(g)j.t50728=[256/g[0],1,256/g[1]]}else if(j.t271[0].startsWith("SONY")){var k=UTIF["_bin"+(j.isLE?"LE":"BE")],I=j.t28688,E;
if(JSON.stringify(I)!="[8000,10400,12900,14100]")console.log(I);if(I&&I.join("")!="0000"){var e=[0,0,0,0,0,4095],H=new Uint16Array(16385);
for(var v=0;v<4;v++){var A=I[v]>>>2;e[v+1]=A;if(A>4095)throw"e"}for(var v=0;v<16385;v++)H[v]=v;for(var v=0;
v<5;v++)for(var Z=e[v]+1;Z<=e[v+1];Z++)H[Z]=H[Z-1]+(1<<v);var J=n.length*8<j.width*j.height*m;if(J)j.t50712=H}else console.log("no curve");
var s=j.dngPrvt;if(s){var z=s.t29184[0],h=s.t29185[0],d=(j.isLE?L.vS:L.St)(s.t29217,0),Y=new Uint32Array(n.slice(z,z+(h&4294967292)).buffer),C=new Uint32Array(h>>>2);
K.raw.aHu(Y,C,h>>>2,d);var i=new Uint8Array(z+h);i.set(new Uint8Array(C.buffer),z);var M=[];UTIF._readIFD(k,i,z,M,0,!1);
var W=M.pop(),$=W.t29458;j.t50728=[$[1]/$[0],1,$[1]/$[3]];j.t50730=[.5];var P=W.t29891;j.t50829=[P[1],P[0],P[3],P[2]]}else if(R.makerNote&&R.makerNote.t8208){var E=R.makerNote,O=E.t8208,G=O.length,t=0,y=new Uint8Array(256);
for(var v=249;v<256;v++)y[v]=v;for(var v=0;v<249;v++)y[v*v*v%249]=v;for(var v=0;v<G;v++)O[v]=y[O[v]];
if(G==6604)t=612;else throw"e";var $=[];for(var v=0;v<3;v++)$.push(L.FT(O,t+v*2));console.log($);j.t50728=[$[1]/$[0],1,$[1]/$[2]]}else console.log("no white balance");
if(j.width*j.height*1.5==j.t279[0]){D=D>>>2;j.t50714=[D,D,D,D];j.t50717=[b[3]>>>2]}}else if(j.t271[0].startsWith("Canon")){var n=j.data,r=n.slice(0),u=j.t50752,S=[],dj=0;
if(u==null||u[0]==0&&u[1]==0)S.push(j.width);else{for(var v=0;v<u[0];v++)S.push(u[1]);S.push(u[2])}var w=j.width*2,o=j.t50885&&j.t50885[0]==4;
if(!o)for(var T=0;T<S.length;T++){var i6=S[T],bH=2*dj,cg=2*i6;for(var bu=0;bu<j.height;bu+=2){var hH=bu*w+bH,dK=j.height*bH+bu*cg;
for(var v=0;v<cg;v++){n[hH+v]=r[dK+v];n[hH+v+w]=r[dK+v+cg]}}dj+=i6}else{var d8=new Uint16Array(r.buffer),d1=new Uint16Array(n.buffer);
function gH(ay,dO){d1[dO*3+0]=d8[ay*3+0];d1[dO*3+1]=d8[ay*3+1];d1[dO*3+2]=d8[ay*3+2]}var kh=(u[0]*u[1]+u[2])/j.width;
for(var T=0;T<S.length;T++){var i6=Math.round(S[T]/kh);for(var bu=0;bu<j.height;bu++){var ay=j.height*dj+(kh==3?(bu>>>3)*8+[0,4,1,5,2,6,3,7][bu&7]:bu)*i6,dO=bu*j.width+dj;
for(var fy=0;fy<i6;fy++)gH(ay+fy,dO+fy)}dj+=i6}var bg=new Uint16Array(n.buffer),f4=new Uint16Array(1),jb=new Int16Array(f4.buffer);
for(var v=0;v<bg.length;v+=3){var jT=bg[v],jy=bg[v+1],cl=bg[v+2];f4[0]=jy<<2;jy=jb[0]>>2;f4[0]=cl<<2;
cl=jb[0]>>2;bg[v+0]=Math.max(0,cl+jT);bg[v+1]=Math.max(0,(jT<<12)-jy*778-(cl<<11)>>12);bg[v+2]=Math.max(0,jy+jT)}}var E=R.makerNote,ay=E.t224;
if(ay){var z=j.t50719=[ay[5],ay[6]],hu=j.t50720=[ay[7]+1-ay[5],ay[8]+1-ay[6]],aA=E.t154;if(aA){z[0]+=aA[3];
z[1]+=aA[4];hu[0]=aA[1];hu[1]=aA[2]}}if(E.t16385){var ko=E.t16385,ec=ko.length;if(ko instanceof Array)ko=new Uint16Array(ko);
if(ko instanceof Uint8Array)ko=new Int16Array(ko.slice(0).buffer);var kK=ko[0];if(ec==1273||ec==1275)kK=66;
var cM=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
cM[-3]=[71,264,662];cM[-4]=[71,333,1385];cM[66]=[63,251,483];cM[32]=[85,343,810];cM[33]=[85,343,810];
cM[34]=[105,363,640];cM[48]=[105,363,640];var gG=cM[kK];if(gG==null){if(ec==582)gG=[25,166,null];if(ec==653)gG=[34,286,null]}var t=gG[0],c2=gG[1],a1=gG[2];
if(t)j.t50728=[ko[t+1]/ko[t],1,ko[t+1]/ko[t+3]];if(c2)j.t50714=[ko[c2],ko[c2],ko[c2],ko[c2]];if(a1)j.t50717=[ko[a1]]}else{j.t50728=[.4,1,.6]}if(o){j.t277=[3];
j.t50728=[1,1,1];j.t50714=[0,0,0,0]}}else if(j.t271[0].startsWith("NIKON")){var E=R.makerNote,cs=j.isLE?L.FT:L.TY,fA=0,g5=0,fI,iq=0;
if(E.t61){var f7=E.t61,j7=[];for(var v=0;v<4;v++)j7[v]=f7[v]/Math.pow(2,14-m);j.t50714=j7}if(E.t3585){var dz=E.t3585,v=0,z=22;
while(z<dz.length&&v!=-4){var iA=L.vS(dz,z);z+=4;z+=14;v=L.vS(dz,z)-4;z+=4;if(iA==1990472198){if(dz[z]!=0)throw"Flip"}if(iA==1990472199){var kk=L.FT(dz,z);
if(kk==0)j.u6=1;else if(kk==270)j.u6=8;else throw"e "+kk}z+=v}}if(E.t183){var h$=E.t183,hu=[];for(var v=0;
v<6;v++)hu.push(cs(h$,16+v*2));fA=hu[0];g5=hu[1]}if(E.t3614){var hL=E.t3614;fA=L.vS(hL,8);g5=L.vS(hL,12)}if(fA!=0&&Math.max(fA,g5)<Math.max(j.width,j.height)){if(fA<g5){var a=fA;
fA=g5;g5=a}var fy=j.width-fA>>>1,bu=j.height-g5>>>1;j.t50829=[bu,fy,bu+g5,fy+fA]}else j.t50829=[8,8,j.height-8,j.width-56];
var ha=E.t69;if(ha){var jl=ha[1];if((jl&1)==1)jl++;j.t50829=[jl,ha[0],jl+ha[3],ha[0]+ha[2]]}if(E.t12){var aE=K.raw.axh(E.t12);
fI=[1/aE[0],1,1/aE[1]]}else if(E.t151){var es=K.raw.alm(E,151),kN=es[0],jw=es[1],fV=es[2];if(kN=="0100"&&jw>=80){var jU=[];
for(var v=0;v<4;v++)jU.push(cs(fV,68+v*2));fI=[jU[3]/jU[0],1,jU[3]/jU[1]]}else if(kN=="0102"){var jU=[];
for(var v=0;v<4;v++)jU.push(cs(fV,6+v*2));fI=[jU[1]/jU[0],1,jU[1]/jU[3]]}else if(kN=="0103"&&jw>=26){var jU=[];
for(var v=0;v<4;v++)jU.push(cs(fV,16+v*2));fI=[jU[1]/jU[0],1,jU[3]/jU[2]]}else if(kN=="0204"&&jw>=564||kN=="0205"&&jw>=284){var z=kN=="0204"?6:14,jU=[];
for(var v=0;v<4;v++)jU.push(cs(fV,z+v*2));fI=[jU[1]/jU[0],1,jU[1]/jU[3]]}else throw"e"}else console.log("no white balance info");
if(U=="NIKON D1")fI=[1,1,1];if(fI)j.t50728=fI;var c$=E.t150?E.t150:E.t140;if(c$){var cz=c$[iq++],h0=c$[iq++],cC;
if(cz==73||h0==88)iq+=2110;iq+=8;var fl=1<<m&32767,co=cs(c$,iq);iq+=2;var H=[];if(co>1)cC=Math.floor(fl/(co-1));
if(cz==68&&h0==32&&cC>0){for(v=0;v<co;v++){H[v*cC]=cs(c$,iq);iq+=2}for(v=0;v<fl;v++)H[v]=Math.floor((H[v-v%cC]*(cC-v%cC)+H[v-v%cC+cC]*(v%cC))/cC)}else if(cz!=70&&co<=16385){fl=co;
for(var v=0;v<co;v++)H[v]=cs(c$,iq+2*v);iq+=2*co}var U=j.t272[0];if(H.length!=0)j.t50712=new Uint16Array(H);
if(j.t258[0]==14&&j.t50717&&j.t50717[0]<1e4){console.log("fixing white");j.t50717[0]*=4}}}else if(q.startsWith("FujiFilm")){}else if(q.startsWith("Panasonic")){if(j.t277==null)j.t277=[1]}else alert("Unknown camera "+q)};
K.raw.aHu=function(j,n,Q,a){if(0==Q)return;var B=new Uint32Array(128),m=new Uint8Array(B.buffer),R=127,q=0,U=0;
for(var R=0;R<4;R++)B[R]=a=(a*15625>>>0)*3125+1>>>0;B[3]=B[3]<<1|(B[0]^B[2])>>>31;for(var R=4;R<127;
R++)B[R]=(B[R-4]^B[R-2])<<1|(B[R-3]^B[R-1])>>>31;for(var R=0;R<127;R++)B[R]=L.St(m,R*4);for(;Q>0;Q--){B[R&127]=B[R+1&127]^B[R+1+64&127];
var l=B[R&127],b=j[q];b^=l;n[U]=b;q++;U++;R++}};K.raw.arn=function(j,n){var Q=L.AP(n,0,4),a=K.raw.a2Q;
for(var v=0;v<a.length;v++)if(a[v][0]==j&&Q.startsWith(a[v][1])&&(a[v][2]==0||a[v][2]==n.length))return a[v];
throw"e"};K.raw.anB=function(j){if(j.t29==null)return[];var n=K.raw.azG,Q=K.raw.aos,a=j.t29[0],B=0,R=0;
for(var v=0;v<a.length;v++){var m=a.charCodeAt(v);B=B*10+(48<=m&&m<=57?m-48:m%10)}var jw=j.t167[0];for(var v=0;
v<4;v++)R^=jw>>>(v<<3)&255;var q=n[B&255],U=Q[R&255];return[q,U,96]};K.raw.alm=function(j,n){var Q=j["t"+n],jw=Q.length,a=K.raw.arn(n,Q),B=L.AP(Q,0,4),m,R=a[4];
if(R==null)m=Q.slice(4);else{m=new Uint8Array(jw-R);var q=K.raw.anB(j),U=q[0],l=q[1],b=q[2];for(var v=0;
v<m.length;v++){l=l+U*b++&255;m[v]=Q[R++]^l}}return[B,jw,m]};K.raw.aou=function(j,n){var Q=n.t271[0],a=n.t272[0],B=n.t256[0],m=n.t257[0],R=n.t258[0],q=n.t273[0],U=q,l=new Uint8Array(j),b,D=B-4,c=m,_=l.length-q,g=0,F=0;
function p(){var A=new Uint16Array(4096),dv=0;A[dv]=3084;for(var v=12;v--;)for(var Z=0;Z<2048>>v;Z++)A[++dv]=v+1<<8|v;
return A}function X(){return l[U++]}function k(A,Z){var J;if(A>25)return 0;if(A==0||F<0)return 0;if(A<0){g=0;
F=0;return 0}while(F<A){J=X();if(J==null)break;g=(g<<8)+(255&J);F+=8}J=F==0?0:g<<32-F>>>32-A;if(Z){F-=Z[J]>>8;
J=255&Z[J]}else F-=A;return J}function I(){var A=p();U+=7;k(-1);for(var Z=0;Z<c;Z++){var J=[new Int32Array(3),new Int32Array(3)];
for(var s=0;s<B;s++){var E=J[s&1],v=2*(E[2]<3),z;for(z=2+v;(65535&E[0])>>z+v;z++);var h=k(3),d=h&3;h=h<<29>>31;
var Y=k(12,A);if(Y==12)Y=k(16-z)>>>1;var C=k(z);E[0]=Y<<z|C;var i=(E[0]^h)+E[1];E[1]=i*3+E[1]>>5;E[2]=E[0]>16?0:E[2]+1;
if(s>=D)continue;var M=b[Z*B+s-2],dv=b[(Z-2)*B+s],W=b[(Z-2)*B+s-2];b[Z*B+s]=(Z<2&&s<2?0:Z<2?M:s<2?dv:M<W&&W<dv||dv<W&&W<M?Math.abs(M-W)>32||Math.abs(dv-W)>32?M+dv-W:M+dv>>1:Math.abs(M-W)>Math.abs(dv-W)?M:dv)+(i<<2|d)}}}function e(){var A=B*R/8,Z=m+1>>1,s=0,E=0;
A+=A&6>>7;var J=A*8-B*R;for(var z=0;z<m;z++){var h=z%Z*2+~~(z/Z);if(h==1){s=0;U=q-(-Z*A&-2048)}for(var d=0;
d<B;d++){for(s-=R;s<0;s+=8){E<<=8;for(var v=0;v<8;v+=8)E|=X()<<v}var Y=E<<64-R-s>>>64-R;b[h*B+d]=Y}s-=J}}function H(){var A=!Q.startsWith("OLYMPUS")||!Q.startsWith("OM Digi")||!Q.toLowerCase().startsWith("clauss")&&!a.toLowerCase().startsWith("pix 5oo");
return A&&_<B*m*(R/8)}if(H()){b=new Uint16Array(D*c);I()}else if(B*m*2==n.data.length){b=new Uint16Array(n.data.buffer)}else{b=new Uint16Array(B*m);
e()}return b};K.raw.a2Q=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
K.raw.azG=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
K.raw.aos=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
K.Bl={};K.Bl.Bl=function(j,n,Q,a,B){if(a==null)a=3;if(B==null)B=!0;var m=j.q,R=j._,q=1/m,U=m*R,l=Date.now(),b=!1,D=K.Bl.aFy(Q,m,R,255,128),c=K.Bl.aFy(Q,m,R,0,128),o=0;
if(b)console.log("extract contours",Date.now()-l);l=Date.now();var _=function(dz,iA){var kk=dz<<2,fA=iA<<2;
return n[kk]+n[kk+1]+n[kk+2]-(n[fA]+n[fA+1]+n[fA+2])};D.sort(_);c.sort(_);var p=K.U(U),X=K.U(U),g=[],F=new Uint32Array(m*R);
F.fill(4294967295);for(var v=0;v<U;v++)if(Q[v]==0)X[v]=255;else if(Q[v]==255)p[v]=255;else{F[v]=g.length;
g.push(v)}var k=D.length,I=c.length,e=g.length;function H(dz,iA,kk,fA){var g5=dz.length,h$=new Array(g5*2);
for(var v=0;v<g5;v++){var M=dz[v],W=~~(M*fA),$=M-W*kk,a1=M<<2;h$[v*2]=$<<16|W;h$[v*2+1]=iA[a1]<<16|iA[a1+1]<<8|iA[a1+2]}return h$}var A=H(D,n,m,q),Z=H(c,n,m,q),J=H(g,n,m,q);
if(b)console.log("Itemize",Date.now()-l,"Unknown:",e,k,I);l=Date.now();var s=K.style.Nd(p,m,R,!0),E=K.style.Nd(X,m,R,!0),z=new Array(e),h=new Array(e),d=new Array(e),Y=new Array(e),C=new Array(e);
if(b)console.log("Dist transform",Date.now()-l);l=Date.now();var i=K.Bl.gf;for(var v=0;v<e;v++){var M=g[v],W=~~(M*q),$=M-W*m,P=s[M<<1],O=s[(M<<1)+1],G=Math.sqrt(P*P+O*O),t=E[M<<1],y=E[(M<<1)+1],r=Math.sqrt(t*t+y*y);
z[v]=1/G;h[v]=1/r;var u=Math.floor(K.L.E7(M*17)*k),S=Math.floor(K.L.E7(M*19)*I);d[v]=u;Y[v]=S;C[v]=i(J[v*2],J[v*2+1],A[u*2],A[u*2+1],Z[S*2],Z[S*2+1],z[v],h[v],1e9)}var w=[-m-1,-m,-m+1,-1,1,m-1,m,m+1];
while(Math.floor(Math.max(k,I)*Math.pow(.5,o))>1)o++;for(var T=0;T<a;T++){var i6=0;for(var v=0;v<e;v++){var M=g[v],W=~~(M*q),$=M-W*m,bH=z[v],cg=h[v],bu=J[v*2],hH=J[v*2+1],dK=C[v],u=d[v],S=Y[v],dO=1;
if(W!=0&&$!=0&&$!=m-1&&W!=R-1)for(var d8=0;d8<8;d8++){var d1=F[M+w[d8]];if(d1==4294967295)continue;var gH=d[d1],kh=Y[d1];
if(gH==u&&kh==S)continue;var ay=i(bu,hH,A[gH*2],A[gH*2+1],Z[kh*2],Z[kh*2+1],bH,cg,dK);if(ay<dK){dK=ay;
u=gH;S=kh}}for(var f4=0;f4<o;f4++){var jb=~~(k*dO),jT=~~(I*dO);dO*=.5;var jy=K.L.E7(M+T*17+f4*31),cl=K.L.E7(M+T*29+f4*63),hu=Math.max(0,u-jb),aA=Math.min(u+jb,k-1),ko=Math.max(0,S-jT),ec=Math.min(S+jT,I-1),gH=hu+~~(jy*(aA-hu)),kh=ko+~~(cl*(ec-ko)),ay=i(bu,hH,A[gH*2],A[gH*2+1],Z[kh*2],Z[kh*2+1],bH,cg,dK);
if(ay<dK){dK=ay;u=gH;S=kh}}C[v]=dK;d[v]=u;Y[v]=S;i6+=dK}}if(b)console.log(i6);if(b)console.log("iterations",Date.now()-l);
l=Date.now();var kK=Q.slice(0);for(var v=0;v<e;v++){var cM=K.Bl.alpha(J[v*2+1],A[d[v]*2+1],Z[Y[v]*2+1]);
kK[g[v]]=~~(.5+255*cM)}kK=K.KU.at0(kK,n,new b4(0,0,m,R),16,.01*.01);if(b)console.log("guided filter",Date.now()-l);
l=Date.now();if(B)for(var v=0;v<U;v++)if(Q[v]==255||Q[v]==0)kK[v]=Q[v];var gG=n.slice(0);for(var v=0;
v<e;v++){var c2=g[v],u=D[d[v]],dK=C[v],a1=c2<<2,f7=kK[c2],j7=(f7>=250?c2:u)<<2;gG[a1]=n[j7];gG[a1+1]=n[j7+1];
gG[a1+2]=n[j7+2]}K.wj(kK,gG,3);if(b)console.log(Date.now()-l);l=Date.now();return gG};K.Bl.gf=function(j,n,Q,a,B,m,R,q,U){var l=j>>>16,b=j&65535,D=l-(Q>>>16),c=b-(Q&65535),_=l-(B>>>16),p=b-(B&65535),X=Math.sqrt(D*D+c*c)*R,g=Math.sqrt(_*_+p*p)*q;
if(X+g>=U)return 1e9;var F=K.Bl.abN(n,a,m);return F+X+g};K.Bl.abN=function(j,n,Q){var a=j>>>16,B=j>>>8&255,m=j&255,R=n>>>16,q=n>>>8&255,U=n&255,l=Q>>>16,b=Q>>>8&255,D=Q&255,c=K.Bl.alpha(j,n,Q),_=a-(c*R+(1-c)*l),p=B-(c*q+(1-c)*b),X=m-(c*U+(1-c)*D);
return Math.sqrt(_*_+p*p+X*X)};K.Bl.alpha=function(j,n,Q){var a=j>>>16,B=j>>>8&255,m=j&255,R=n>>>16,q=n>>>8&255,U=n&255,l=Q>>>16,b=Q>>>8&255,D=Q&255,c=R-l,_=q-b,p=U-D,X=a-l,g=B-b,F=m-D,k=c*c+_*_+p*p,I=k==0?.5:(X*c+g*_+F*p)/k;
return Math.max(0,Math.min(1,I))};K.Bl.a1k=function(j){};K.Bl.aFy=function(j,n,Q,a,B){var m=[],R=n-1,q=Q-1;
for(var U=1;U<q;U++)for(var l=1;l<R;l++){var v=U*n+l;if(j[v]==a&&(j[v-n-1]==B||j[v-n]==B||j[v-n+1]==B||(j[v-1]==B||j[v+1]==B)||(j[v+n-1]==B||j[v+n]==B||j[v+n+1]==B)))m.push(v)}return m};
K.KU={};K.KU.a5u=function(j,n,Q,a,B){var m=Q.q,R=Q._,q=m*R,U=K.KU.avs,l=K.U(q*4),b;l.fill(255);var D=Q,c=j,_=n,p=a;
K.wj(j,l,0);b=K.jk(l,Q);b=K.jk(b.jB,b.s);D=b.s;p=a>>>2;console.log(D,p);c=K.U(D.$());K._W(b.jB,c,0);
K.wj(n,l,0);b=K.jk(l,Q);b=K.jk(b.jB,b.s);_=K.U(D.$());K._W(b.jB,_,0);var X=K.KU.a4a(c,_,D,p,B),g=X[0],F=X[1],k=new b4(0,0,D.q*2,D._*2);
g=U(g,D,k,!0);g=U(g,k,Q,!0);F=U(F,D,k,!0);F=U(F,k,Q,!0);var I=K.U(q);for(var v=0;v<q;v++)I[v]=Math.max(0,Math.min(255,Math.floor(.5+(g[v]*n[v]+255*F[v]))));
return I};K.KU.KX=function(j,n,Q,a){n.set(j);K.KX.av_(n,Q,a)};K.KU.avs=function(j,n,Q,a){var B=Q.q,m=Q._,R=n.q,q=n._,U=K.KU.Fu,l=new Float32Array(B*m);
for(var b=0;b<q;b++){var D=(b+b)*B;for(var c=0;c<R;c++){if(!0||c==0||b==0||c==R-1||b==q-1)l[D]=l[D+1]=l[D+B]=l[D+B+1]=j[b*R+c];
else{l[D]=U(c+.25,b+.25,j,R,q);l[D+1]=U(c+.75,b+.25,j,R,q);l[D+B]=U(c+.25,b+.75,j,R,q);l[D+B+1]=U(c+.75,b+.75,j,R,q)}D+=2}}return l};
K.KU.Fu=function(j,n,Q,a,B){j-=.499999;n-=.499999;var m=Math.floor(j),R=Math.floor(n),q=R*a+m,U=j-m,l=n-R,b=(1-l)*(1-U),D=(1-l)*U,c=l*(1-U),_=l*U;
if(Q[q]==null||Q[q+a+1]==null){console.log(j,n,a,B);throw"e"}return b*Q[q+0]+D*Q[q+1]+c*Q[q+a+0]+_*Q[q+a+1]};
K.KU.a4a=function(j,n,Q,a,B){var m=Q.q,R=Q._,q=m*R,U=K.KU.asP,l=K.KU.U,b=K.KU.KX,D=K.KU.NG,n=U(n,q),j=U(j,q),c=l(q);
b(n,c,Q,a);var _=l(q);b(j,_,Q,a);var p=l(q);D(n,n,p);b(p,p,Q,a);var X=l(q);D(n,j,X);b(X,X,Q,a);var g=l(q),F=l(q);
for(var v=0;v<q;v++){var k=c[v],I=_[v],e=p[v]-k*k,H=X[v]-k*I,A=H/(e+B),Z=I-A*k;g[v]=A;F[v]=Z}var J=l(q);
b(g,J,Q,a);var s=l(q);b(F,s,Q,a);return[J,s]};K.KU.at0=function(j,n,Q,a,B){var m=Q.q,R=Q._,q=m*R,U=K.KU.avs,l=Date.now(),b=!1,D=Q,c=j,_=n,p=a;
D=new b4(0,0,m>>>2,R>>>2);p=a>>>2;c=K.KU.ayv(j,m,R);_=K.KU.alP(n,m,R);if(b)console.log(Date.now()-l);
l=Date.now();var X=K.KU.axn(c,_,D,p,B),g=X[0],F=X[1],k=X[2],I=X[3];if(b)console.log(Date.now()-l);l=Date.now();
var e=K.U(q);for(var H=0;H<R;H++)for(var A=0;A<m;A++){var v=H*m+A,Z=(H>>>2)*(m>>>2)+(A>>>2),J=v<<2,s=g[Z]*n[J]+F[Z]*n[J+1]+k[Z]*n[J+2]+I[Z]*255;
e[v]=Math.max(0,Math.min(255,~~(.5+s)))}if(b)console.log(Date.now()-l);l=Date.now();return e};K.KU.ayv=function(j,n,Q){var a=n>>>2,B=Q>>>2,m=K.U(a*B);
for(var R=0;R<B;R++)for(var q=0;q<a;q++)m[R*a+q]=j[R*n+q<<2];return m};K.KU.alP=function(j,n,Q){var a=n>>>2,B=Q>>>2,m=K.U(a*B*4);
for(var R=0;R<B;R++)for(var q=0;q<a;q++){var U=R*a+q<<2,l=R*n+q<<4;m[U]=j[l];m[U+1]=j[l+1];m[U+2]=j[l+2];
m[U+3]=j[l+3]}return m};K.KU.axn=function(j,n,Q,a,B){var m=Q.q,R=Q._,q=m*R,U=K.KU.asP,l=K.KU.U,b=K.KU.KX,D=K.KU.NG,j=U(j,q),c=new K.aL(m*R);
K.yD(n,c);var n=[U(c.n,q),U(c.i,q),U(c.b,q)],_=K.KU.a33(j,n,Q,a,B),p=l(q);b(j,p,Q,a);var X=l(q);D(n[0],j,X);
b(X,X,Q,a);var g=l(q);D(n[1],j,g);b(g,g,Q,a);var F=l(q);D(n[2],j,F);b(F,F,Q,a);var k=l(q),I=l(q),e=l(q),H=l(q);
for(var v=0;v<q;v++){var A=p[v],Z=_.Ge[v],J=_.YI[v],s=_.jS[v],E=X[v]-Z*A,z=g[v]-J*A,h=F[v]-s*A;k[v]=_.a9e[v]*E+_.iv[v]*z+_.gu[v]*h;
I[v]=_.iv[v]*E+_.a5L[v]*z+_._K[v]*h;e[v]=_.gu[v]*E+_._K[v]*z+_.aHa[v]*h;H[v]=A-k[v]*Z-I[v]*J-e[v]*s}b(k,k,Q,a);
b(I,I,Q,a);b(e,e,Q,a);b(H,H,Q,a);return[k,I,e,H]};K.KU.a33=function(j,n,Q,a,B){var m=Q.q,R=Q._,q=m*R,U=K.KU.U,l=K.KU.KX,b=K.KU.NG,D={};
D.Ge=U(q);l(n[0],D.Ge,Q,a);D.YI=U(q);l(n[1],D.YI,Q,a);D.jS=U(q);l(n[2],D.jS,Q,a);var c=U(q);b(n[0],n[0],c);
l(c,c,Q,a);var _=U(q);b(n[0],n[1],_);l(_,_,Q,a);var p=U(q);b(n[0],n[2],p);l(p,p,Q,a);var X=U(q);b(n[1],n[1],X);
l(X,X,Q,a);var g=U(q);b(n[1],n[2],g);l(g,g,Q,a);var F=U(q);b(n[2],n[2],F);l(F,F,Q,a);D.a9e=c;D.iv=_;
D.gu=p;D.a5L=X;D._K=g;D.aHa=F;for(var v=0;v<q;v++){var k=D.Ge[v],I=D.YI[v],e=D.jS[v],H=c[v]-k*k+B,A=_[v]-k*I,Z=p[v]-k*e,J=X[v]-I*I+B,s=g[v]-I*e,E=F[v]-e*e+B,z=J*E-s*s,h=s*Z-A*E,d=A*s-J*Z,Y=H*E-Z*Z,C=Z*A-H*s,i=H*J-A*A,M=z*H+h*A+d*Z,W=1/M;
D.a9e[v]=z*W;D.iv[v]=h*W;D.gu[v]=d*W;D.a5L[v]=Y*W;D._K[v]=C*W;D.aHa[v]=i*W}return D};K.KU.U=function(j){return new Float32Array(j)};
K.KU.asP=function(j,n){var Q=new Float32Array(n);for(var v=0;v<n;v++)Q[v]=j[v]*(1/255);return Q};K.KU.NG=function(j,n,Q){for(var v=0;
v<j.length;v++)Q[v]=j[v]*n[v]};K.kM={};K.kM.mb=function(j,n,Q,a){var B=j[n]-Q[a],m=j[n+1]-Q[a+1],R=j[n+2]-Q[a+2];
return Math.sqrt(B*B+m*m+R*R)*(1/441.7)};K.kM.getSelection=function(j,n,Q){var a=n*Q,B=K.U(a),m=!1,R=Math.round(Q*.7),q=1,U=new Uint32Array(12),l=K.U(12);
for(var b=0;b<R;b++)for(var D=0;D<n;D++){if(D<q||b<q||D>n-q-1||b>Q-q-1){var v=b*n+D,c=v<<2,_=0;if(b<q)_=4;
else if(D>n-q-1)_=8;U[_]+=j[c];U[_+1]+=j[c+1];U[_+2]+=j[c+2];U[_+3]++;B[v]=255}}for(var v=0;v<12;v+=4)for(var p=0;
p<3;p++)l[v+p]=U[v+p]/U[v+3];var X=new Float32Array(a);for(var v=0;v<a;v++){var c=v*4,g=K.kM.mb(j,c,l,0),F=K.kM.mb(j,c,l,4),k=K.kM.mb(j,c,l,8),I=Math.max(g,Math.max(F,k));
X[v]=g+F+k-I}K.kM.Aw(X);var e=Date.now(),H=new Float32Array(a),A=[],Z=K.U(a);for(var v=0;v<3;v++){K._W(j,Z,v);
var J=new Uint16Array(a);A.push(J);K.kM.amq(Z,B,n,Q,J)}if(m)console.log("MBD",Date.now()-e);e=Date.now();
for(var v=0;v<a;v++)H[v]=A[0][v]+A[1][v]+A[2][v];K.kM.Aw(H);for(var v=0;v<a;v++)H[v]+=.4*X[v];var s=n>>>1,R=Q>>>1,E=1/Math.sqrt(s*s+R*R);
for(var b=0;b<Q;b++)for(var D=0;D<n;D++){var z=D-s,h=b-R,d=1-Math.sqrt(z*z+h*h)*E;H[b*n+D]*=d}if(m)console.log("Centeredness",Date.now()-e);
e=Date.now();for(var v=0;v<a;v++)B[v]=H[v]*255;var Y=Math.round(n/120),C=Math.round(Y*.8);if(m)console.log(Y,C);
K.ro.Yk(B,B,n,Q,Y+Y+1,!1);if(m)console.log("erosion",Date.now()-e);e=Date.now();for(var v=0;v<a;v++)H[v]=B[v];
K.kM.Aw(H);var i=K.U(256);for(var v=0;v<256;v++)i[v]=256/(1+Math.exp(-20*(v/255-.5)));for(var v=0;v<a;
v++){var M=~~(H[v]*255+.5);B[v]=i[M]}if(m)console.log("Simoid",Date.now()-e);e=Date.now();return B};
K.kM.Aw=function(j){var n=j.length,Q=0;for(var v=0;v<n;v++)Q=Math.max(Q,j[v]);var a=1/Q;for(var v=0;
v<n;v++)j[v]=j[v]*a};K.kM.amq=function(j,n,Q,a,B){var m=Q*a,R=j.slice(0),q=j.slice(0);for(var v=0;v<m;
v++)B[v]=n[v]==255?0:65535;K.kM.aId(j,q,R,B,Q,a);K.kM.abO(j,q,R,B,Q,a);K.kM.aId(j,q,R,B,Q,a);K.kM.abO(j,q,R,B,Q,a);
return B};K.kM.aId=function(j,n,Q,a,B,m){for(var R=1;R<B;R++)K.kM.eY(R,-1,j,n,Q,a);for(var q=1;q<m;q++){K.kM.eY(q*B,-B,j,n,Q,a);
for(var R=1;R<B;R++){var v=q*B+R;K.kM.eY(v,-1,j,n,Q,a);K.kM.eY(v,-B,j,n,Q,a)}}};K.kM.abO=function(j,n,Q,a,B,m){for(var R=B-2;
R>=0;R--)K.kM.eY(B*m-B+R,1,j,n,Q,a);for(var q=m-2;q>=0;q--){K.kM.eY(q*B+B-1,B,j,n,Q,a);for(var R=B-2;
R>=0;R--){var v=q*B+R;K.kM.eY(v,1,j,n,Q,a);K.kM.eY(v,B,j,n,Q,a)}}};K.kM.eY=function(v,j,n,Q,a,B){var m=v+j,R=n[v],q=Q[m],U=a[m];
if(q<R)q=R;else if(R<U)U=R;var l=q-U;if(B[m]!=65535&&l<B[v]){B[v]=l;Q[v]=q;a[v]=U}};K.H5={};K.H5.filter=function(j,n,Q,a){var B=n.q,m=n._,R=B*m,q=a[0],U=a[1],l=a[2],b=a[3],D=a[4],c=a[5],_=a[6],p=Date.now(),X=new Float32Array(B*m*4);
K.H5.apM(j,B,m,X);var g=Math.ceil(q*Math.sqrt(-2*Math.log(.1))),F=new ArrayBuffer(R*4),k=new Float32Array(F),I=new Float32Array(R),e=new Float32Array(R);
for(var v=0;v<R;v++){var H=v*4;k[v]=X[H];I[v]=X[H+1];e[v]=X[H+2]}K.KX.qA(k,n,g*1/2.4,2);K.KX.qA(I,n,g*1/2.4,2);
K.KX.qA(e,n,g*1/2.4,2);for(var v=0;v<R;v++){var H=v*4;X[H]=k[v];X[H+1]=I[v];X[H+2]=e[v]}var A=new Uint8Array(F);
for(var v=0;v<R;v++){var H=v*4,Z=v*4,k=X[H],I=X[H+1],e=X[H+2],J=Math.sqrt((k-e)*(k-e)+4*I*I),s=(k+e+J)*.5,E=(k+e-J)*.5,z=E-e,h=I,d=z*z+h*h;
if(d!=0){var Y=Math.sqrt(d),C=1/Y;z*=C;h*=C}A[Z]=128+127*z;A[Z+1]=128+127*h}var i=1.3*U+2,M=b*(2/10),W=j.slice();
if(gz.oB){var $=new Float32Array([1/B,1/m]),P=gz.cy(0,B,m);P.set(W);var O=gz.cy(1,B,m);O.set(A);gz.Rf(P,n);
if(D){P.A3(n);gz.filter.df({w:gz.filter.avz,CT:$,a4K:1/l,aoJ:M},P.C8)}P.A3(n);gz.filter.df({w:gz.filter.oo,SQ:O.K8,CT:$,R5:i,je:2},P.C8);
if(D){P.A3(n);gz.filter.df({w:gz.filter.aFO,CT:$,ahi:new Float32Array(_),aGU:c},P.C8)}P.get(Q)}else{if(D)K.H5.D7(1/l,M,W,B,m);
K.H5.oo(W,Q,A,B,m,i);if(D)K.H5.a0e(B,m,Q,_,c)}var G=R*4;for(var v=3;v<G;v+=4)Q[v]=j[v]};K.H5.oo=function(j,n,Q,a,B,m){var R=Math.ceil(2*m),q=-1/(2*m*m),U=[],l=1;
for(var v=0;v<R+20;v++)U[v]=Math.exp(v*v*q);var b=[0,0,0,0];for(var D=0;D<B;D++){for(var c=0;c<a;c++){var _=D*a+c,p=_*4,X=1,g=j[p],F=j[p+1],k=j[p+2],I=j[p+3],e=(Q[p]-128)*(1/127),H=(Q[p+1]-128)*(1/127),A=e,Z=H,J=c==0?.51:.49,s=D==0?.51:.49;
for(var v=0;v<2;v++){var E=c+J,z=D+s,h=0;while(h<R){if(E<.5||a-.5<E||z<.5||B-.5<z)break;var d=~~E,Y=~~z,C=Y*a+d,i=C*4,M=(Q[i]-128)*(1/127),W=(Q[i+1]-128)*(1/127);
if(M*A+W*Z<0){M=-M;W=-W}A=M;Z=W;E+=l*M;z+=l*W;if(E<.5||a-.5<E||z<.5||B-.5<z)break;var $=~~E,P=~~z,O=P*a+$<<2;
h+=l;var G=U[~~h];K.D.aGr(E,z,j,a,B,b);g+=b[0]*G;F+=b[1]*G;k+=b[2]*G;I+=b[3]*G;X+=G}A=-e;Z=-H}var t=1/X;
n[p]=~~(.5+g*t);n[p+1]=~~(.5+F*t);n[p+2]=~~(.5+k*t);n[p+3]=~~(.5+I*t)}}};K.H5.a0e=function(j,n,Q,a,B){for(var m=0;
m<n;m++)for(var R=0;R<j;R++){var q=m*j+R<<2,U=1+K.H5.a6r(R,m,Q,j,n,a)*B;Q[q]=Math.max(0,Math.min(255,Q[q]*U));
Q[q+1]=Math.max(0,Math.min(255,Q[q+1]*U));Q[q+2]=Math.max(0,Math.min(255,Q[q+2]*U))}};K.H5.a6r=function(j,n,Q,a,B,m){var R=Q[(n*a+Math.max(0,j-1))*4+3],q=Q[(n*a+Math.min(a-1,j+1))*4+3],U=Q[(Math.max(0,n-1)*a+j)*4+3],l=Q[(Math.min(B-1,n+1)*a+j)*4+3],b=.7,D=(q-R)*(1/255),c=.7,_=(l-U)*(1/255),p=-D*c,X=-b*_,g=b*c,F=Math.sqrt(p*p+X*X+g*g),k=1/F,I=p*k,e=X*k,H=g*k,A=m[0]*I+m[1]*e+m[2]*H;
return A};K.H5.D7=function(j,n,Q,a,B){function m(q,l,b){return Math.max(l,Math.min(b,q))}for(var R=0;
R<B;R++)for(var q=0;q<a;q++){var U=K.H5.a0y(q+.5,R+.5,j,n);Q[(R*a+q)*4+3]=Math.max(0,Math.min(255,U*255))}};
K.H5.a0y=function(j,n,Q,a){function B(Z,J,s){return(1-s)*Z+s*J}var m=(j+613)*Q,R=(n+117)*Q,q=~~m,U=~~R,l=m-q,b=R-U,D=Math.sin(11),c=Math.cos(q)*D,_=Math.cos(q+1)*D,p=Math.cos(U)*D,X=Math.cos(U+1)*D,dv=K.H5.hash(c,p),g=K.H5.hash(_,p),F=K.H5.hash(c,X),k=K.H5.hash(_,X),I=B(dv,g,l),e=B(F,k,l),H=B(I,e,b);
H=H<.5?0:1;var A=H+a*K.H5.hash(Math.cos(m)*D,Math.cos(R)*D);return A*(1/3)};K.H5.hash=function(j,n){var Q=Math.sin(j*11.697096+n*73.32456)*12157.47691;
return Q-Math.floor(Q)};K.H5.apM=function(j,n,Q,a){var B=[-1,0,1,-2,0,2,-1,0,1],m=[-1,-2,-1,0,0,0,1,2,1],R=n-1,q=Q-1,U=n*4;
for(var l=1;l<q;l++)for(var b=1;b<R;b++){var v=l*n+b,D=v*4,c=K.H5.kU(j,D,U,B),_=K.H5.kU(j,D,U,m),p=K.H5.kU(j,D+1,U,B),X=K.H5.kU(j,D+1,U,m),g=K.H5.kU(j,D+2,U,B),F=K.H5.kU(j,D+2,U,m);
a[D]=c*c+p*p+g*g;a[D+1]=c*_+p*X+g*F;a[D+2]=_*_+X*X+F*F}K.H5.ah4(a,n,Q)};K.H5.kU=function(j,n,Q,a){return j[n-Q-4]*a[0]+j[n-Q]*a[1]+j[n-Q+4]*a[2]+j[n-4]*a[3]+j[n]*a[4]+j[n+4]*a[5]+j[n+Q-4]*a[6]+j[n+Q]*a[7]+j[n+Q+4]*a[8]};
K.H5.ah4=function(j,n,Q){function a(U,v,l){var b=v*4,D=l*4;U[D]=U[b];U[D+1]=U[b+1];U[D+2]=U[b+2]}var B=n-1,m=Q-1;
a(j,n+1,0);a(j,2*n-2,n-1);for(var R=1;R<B;R++)a(j,n+R,R);for(var q=1;q<m;q++){a(j,q*n+1,q*n);a(j,q*n+n-2,q*n+n-1)}for(var R=1;
R<B;R++)a(j,(Q-2)*n+R,(Q-1)*n+R);a(j,(q-2)*n+1,(q-1)*n);a(j,(q-1)*n-2,q*n-1)};K._S=function(){function j(l,b,D,c){var _=new Float32Array(l*l),p=l/2;
for(var X=0;X<l;X++)for(var g=0;g<l;g++){var F=g+D-p,k=X+c-p;_[X*l+g]=Math.max(0,Math.min(1,b+.5-Math.sqrt(F*F+k*k)))}return _}var n=[],a=null;
function Q(l,b,D,c){var _=Math.floor(b*10),p=n[_],X=l*8,g=X>>>1;if(p==null){p=n[_]=[];var F=new b4(0,0,X,X),k=l/2/(1+.2*b),I=Math.floor(l*_*.1);
for(var e=0;e<2;e++)for(var H=0;H<2;H++){var A=j(X,k,.25+H*.5,.25+e*.5),Z=0;K.KX.qA(A,F,I);while(A[X*g+Z]<.005)Z++;
if(Z!=0)Z--;var J=2*(g-Z),s=new b4(Z,Z,J,J),E=new Float32Array(J*J);for(var z=0;z<J;z++)for(var h=0;
h<J;h++)E[z*J+h]=A[(Z+z)*X+Z+h];p.push([E,s])}}var d=Math.floor(D),Y=Math.floor(c),C=D-d,i=c-Y,M=C<.5?1:0,W=i<.5?1:0;
p=p[W*2+M];var s=p[1].O();s.x+=d-g;s.y+=Y-g;return[p[0],s]}function B(l,b,D){if(a==null){a=new Uint8Array(4e4);
for(var v=0;v<4e4;v++)a[v]=Math.min(255,~~(.5+255*K.ld(v*(1/255))))}var c=l.length;for(var v=0;v<c;v++){var _=l[v],p=~~(255*_);
b[v]=a[p]<<24|D}}function m(l,b,D,c,_){var p=b.uf(c),X=Math.max(0,p.x-b.x),g=Math.max(0,p.x-c.x),F=Math.max(0,p.y-b.y),k=Math.max(0,p.y-c.y),I=p.q,e=p._;
for(var v=0;v<e;v++){var H=(F+v)*b.q+X,A=(k+v)*c.q+g;for(var Z=0;Z<I;Z++){D[A+Z]+=_*l[H+Z]}}}var R=-1;
function q(l,b,D,c,_){var p=Math.round(c[1]*b*D*.01),X=c[2],g=c[3],F=c[4],k=c[5],I=c[6],e=c[7],H=c[8],A=c[9],Z=c[10]?c[10]:1,G=!1;
if(X!=R){n=[];R=X}var J=Date.now(),s=new b4(0,0,b,D),E=new U(c[0]);if(_)l.fill(0);var z=new Float32Array(_?l.buffer:b*D);
for(var v=0;v<p;v++){var h=E.get()*b,d=E.get()*D,Y=E.get()*g,C=E.get()*X*4,i=(E.get()+I)*Math.PI*2,M=E.get()*X*4,W=(E.get()+2*I)*Math.PI*2;
h+=A*(C*Math.cos(i)+M*Math.cos(W));d+=A*(C*Math.sin(i)+M*Math.sin(W));if(H)d=d+I*D*Z;var $=Q(X,Y,h,d%D),P=F,O=E.get();
if(e)P=.5+.5*F*(.5+.5*Math.sin((2*I+O)*2*Math.PI));m($[0],$[1],z,s,P)}if(G)console.log(Date.now()-J,"add floats");
J=Date.now();var t=new Uint8Array(z.buffer);B(z,new Uint32Array(t.buffer),k.b<<16|k.i<<8|k.n);if(G)console.log(Date.now()-J,"toInt");
J=Date.now();if(!_){K.L.sg("scrn",t,s,l,s,s,1);if(G)console.log(Date.now()-J,"blendOver")}}function U(l){this.Z6=123456789;
this._s=987654321;this.N=4294967295;this.pr(l)}U.prototype.pr=function(v){this.Z6=123456789+v&this.N;
this._s=987654321-v&this.N};U.prototype.get=function(){this._s=36969*(this._s&65535)+(this._s>>16)&this.N;
this.Z6=18e3*(this.Z6&65535)+(this.Z6>>16)&this.N;var l=(this._s<<16)+(this.Z6&65535)>>>0;l/=4294967296;
return l};return{ex:q}}();K.wK={};K.wK.nt=function(j,n,Q,a){var B=j[n*2],m=j[n*2+1],R=j[Q*2],q=j[Q*2+1],U=j[a*2],l=j[a*2+1];
return B*q+R*l+U*m-U*q-R*m-B*l};K.wK.a1Y=function(j,n){var Q=[],a=[],B=[],m={};for(var v=0;v<n.length;
v+=3){var R=~~(v*(1/3)),q=n[v+0],U=n[v+1],l=n[v+2],b=K.wK.nt(j,q,U,l);if(b>0){var D=U;U=l;l=D}var c=m[l+"-"+U],_=m[U+"-"+q],p=m[q+"-"+l],X=[l,c,R,null],g=[U,_,R,X],F=[q,p,R,g];
X[3]=F;if(c)c[1]=X;if(_)_[1]=g;if(p)p[1]=F;m[l+"-"+q]=F;m[q+"-"+U]=g;m[U+"-"+l]=X;Q[q]=g;B[v]=g;Q[U]=X;
B[v+1]=X;Q[l]=F;B[v+2]=F;a[R]=g}return{fi:Q,ai:a,zu:B}};K.wK.afM=function(j){var n=[],Q=j.ai;for(var v=0;
v<Q.length;v++){var a=Q[v];n.push(a[0]);a=a[3];n.push(a[0]);a=a[3];n.push(a[0])}return n};K.wK.agw=function(j,n,Q,a){var B=j[n*2],m=j[n*2+1],R=j[Q*2],q=j[Q*2+1],U=j[a*2],l=j[a*2+1],b=R-B,D=q-m,c=U-B,_=l-m,p=b*(B+R)+D*(m+q),X=c*(B+U)+_*(m+l),g=2*(b*(l-q)-D*(U-R));
if(Math.abs(g)<1e-5){var F=Math.min(B,R,U),k=Math.min(m,q,l),I=(Math.max(B,R,U)-F)*.5,e=(Math.max(m,q,l)-k)*.5;
return[F+I,k+e,I*I+e*e,1]}var H=(_*p-D*X)/g,A=(b*X-c*p)/g,I=H-B,e=A-m;return[H,A,I*I+e*e,0]};K.wK.adn=function(j,n,Q){var a=Q[1],B=Q[3],m=B[3],R=a[3],q=R[3],U=Q[2],l=a[2],b=Q[0],D=a[0],c=B[0],_=R[0],p=K.wK.agw(j,D,_,c),X=j[b*2]-p[0],g=j[b*2+1]-p[1],F=X*X+g*g>p[2]&&p[3]==0&&K.wK.nt(j,_,b,c)<0&&K.wK.nt(j,c,D,_)<0;
if(F){Q[0]=c;a[0]=_;Q[3]=m;m[3]=R;R[3]=Q;a[3]=q;q[3]=B;B[3]=a;B[2]=l;R[2]=U;n.ai[l]=q;n.ai[U]=m;n.fi[D]=R;
n.fi[b]=B}return F};K.wK.a3Y=function(j,n,Q){var a=j[n*2]-j[Q*2],B=j[n*2+1]-j[Q*2+1];return Math.sqrt(a*a+B*B)};
K.wK.a3J=function(j,n,Q){var a=Q[1],B=Q[3],m=B[3],R,q,U=Q[2],l,b=Q[0],D=m[0],c=B[0],_;if(a){R=a[3];q=R[3];
l=a[2];_=R[0]}var p=j.length>>>1;j[2*p]=(j[2*D]+j[2*b])*.5;j[2*p+1]=(j[2*D+1]+j[2*b+1])*.5;if(!0){var X=U,g=Q,F=n.ai.length,k=[p,null,X,g],I=[c,k,F,m];
k[1]=I;var e=[p,null,F,I];B[3]=k;m[3]=e;m[2]=F;n.ai[X]=B;n.ai[F]=e;n.fi[b]=B;n.fi[c]=m;n.zu.push(k,I,e)}if(a){var H=l,A=a,Z=F+1;
e[1]=A,A[1]=e;var J=[p,null,H,A],s=[_,J,Z,q];J[1]=s;var E=[p,g,Z,s];g[1]=E;R[3]=J;q[3]=E;q[2]=Z;n.ai[H]=R;
n.ai[Z]=q;n.fi[D]=R;n.fi[_]=q;n.zu.push(J,s,E)}n.fi[p]=g};K.wK.a0s=function(j,n){var Q=0;while(!0){var a=Q;
for(var v=0;v<n.zu.length;v++){var B=n.zu[v];if(B[1]==null)continue;var m=K.wK.adn(j,n,B);if(m){Q++;
break}}if(a==Q)break}return Q!=0};K.wK.alW=function(j,n,Q,a){var B=0;for(var v=0;v<a;v++){var m=null,R=0;
for(var q=0;q<n.zu.length;q++){var U=n.zu[q],l=K.wK.a3Y(j,U[0],U[3][3][0])*(U[1]?1:2);if(l>R){m=U;R=l}}if(R>Q){K.wK.a3J(j,n,m);
B++}}return B!=0};K.wK.aiv=function(j,n){var Q=[],c=0;for(var v=0;v<j.length;v++)Q.push(0);for(var v=0;
v<n.zu.length;v++){var a=n.zu[v],B=a[0],m=a[3][3][0],R=j[B*2],q=j[B*2+1],U=j[m*2],l=j[m*2+1],b=R-U,D=q-l;
Q[B*2]+=-b;Q[B*2+1]+=-D;Q[m*2]+=b;Q[m*2+1]+=D}for(var v=0;v<j.length;v+=2){var _=v>>>1,p=n.fi[_],a=p,X=!0;
do{if(a[1]==null){X=!1;break}a=a[1][3]}while(a!=p);if(X){var g=.02;j[v]+=g*Q[v];j[v+1]+=g*Q[v+1];c+=g*(Q[v]*Q[v]+Q[v+1]*Q[v+1])}}return c};
K.wK.ayW=function(j,n,Q){var a=K.c.Tv(j),B=K.wK.a1Y(j,n);K.wK.a0s(j,B);for(var m=0;m<300;m++){var R=!1,q=!1;
R=K.wK.alW(j,B,Q,5);if(R)q=K.wK.a0s(j,B);var U=K.wK.aiv(j,B);if(!R&&!q&&U<1e-4){break}}return K.wK.afM(B)};
K.m3={};K.m3.aqt=function(j){var n=j.o2,Q=j.xd,a=j.kc,B=j.rQ,m=j.TV,R=j.nG,q=j.w6,U=K.uS.Br,k,I,e=0;
function l(dv){var T=new Array(dv);for(var v=0;v<dv;v++)T[v]=0;return T}var b=Q.length>>>1,D=l(n.rm*2),c=l(n.rm),_=l(n.rm),p=Date.now();
for(var v=0;v<j.LO.length;v++){var X=n.aGh+v,g=n.Uw*(R[v*2]+q[v*2]),F=n.Uw*(R[v*2+1]+q[v*2+1]);D[X*2]=g;
D[X*2+1]=F;c[X]=g;_[X]=F}n.aqy._5(B,n.a0x.Br(D),.01,k,I);for(var v=0;v<n.ac9.zu.length;v++){var H=n.ac9.zu[v],A=H[3][3][0],Z=H[0],J=H[3][0],s=H[1]?H[1][3][0]:J;
if(H[1]&&A>Z)continue;var E=Q[A*2],z=Q[A*2+1],h=Q[Z*2],d=Q[Z*2+1],Y=B[A*2],C=B[A*2+1],i=B[Z*2],M=B[Z*2+1],W=B[J*2],$=B[J*2+1],P=B[s*2],O=B[s*2+1],G=[Y,C,i,M,W,$];
if(H[1])G.push(P,O);var t=U(n.a0a[e],G),y=t[0],r=t[1],u=1/Math.sqrt(y*y+r*r);y*=u;r*=u;var S=h-E,w=d-z;
c[e]=y*S+r*w;_[e]=-r*S+y*w;e++}var dj=new Array(b),o=new Array(b);for(var v=0;v<b;v++){dj[v]=m[v*2];
o[v]=m[v*2+1]}n.aqm._5(dj,n.ayk.Br(c),.5);n.aqm._5(o,n.ayk.Br(_),.5);for(var v=0;v<b;v++){m[v*2]=dj[v];
m[v*2+1]=o[v]}};K.m3.adG=function(j){var n=j.xd,Q=j.kc,a=j.LO,B=K.uS.multiply,m=Date.now(),R=K.wK.a1Y(n,Q),q=n.length>>>1,U=0,p=0,r=1e3;
for(var v=0;v<R.zu.length;v++)U+=R.zu[v][1]?.5:1;var l=U+a.length,b=[],D=new K.U5(l*2,q*2),c=new K.U5(l,q),_=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],X=[],g=[];
for(var v=0;v<R.zu.length;v++){var F=R.zu[v],k=F[3][3][0],I=F[0],e=F[3][0],H=F[1]?F[1][3][0]:e;if(F[1]&&k>I)continue;
var A=n[k*2],Z=n[k*2+1],J=n[I*2],s=n[I*2+1],E=n[e*2],z=n[e*2+1],h=n[H*2],d=n[H*2+1],Y=[[A,Z,1,0],[Z,-A,0,1],[J,s,1,0],[s,-J,0,1],[E,z,1,0],[z,-E,0,1]];
if(F[1])Y.push([h,d,1,0],[d,-h,0,1]);var C=K.uS.UI(Y),i=B(linear.invert(B(C,Y)),C);i.pop();i.pop();b.push(i);
var M=J-A,W=s-Z,$=_[F[1]?1:0];$=K.uS.tV($,B([[M,W],[W,-M]],i));var P=[k*2,k*2+1,I*2,I*2+1,e*2,e*2+1,H*2,H*2+1],O=F[1]?8:6,G=[];
for(var t=0;t<O;t++)G.push([P[t],$[0][t],$[1][t]]);G.sort(function(T,i6){return T[0]-i6[0]});for(var y=0;
y<2;y++){for(var t=0;t<O;t++){X[t]=G[t][0];g[t]=G[t][1+y]}D.Tp(g,X,O)}if(k<I)c.Tp([-1,1],[k,I],2);else c.Tp([1,-1],[I,k],2);
p++}for(var v=0;v<a.length;v++){var u=a[v];D.Tp([r],[u*2],1);D.Tp([r],[u*2+1],1);c.Tp([r],[u],1)}var S=D.UI(),w=S.jz(S),dj=c.UI(),o=dj.jz(dj);
return{aGh:U,rm:l,a0x:S,aqy:w,ayk:dj,aqm:o,ac9:R,a0a:b,Uw:r}};K.m3.aAg=function(j,n,Q,a,B){var m=new b4(0,0,n,Q),R=K.U(m.$());
K._W(j,R,3);K.round(R,70);var q=K.eW(R,m),U=[.1,.065,.035][a]*Math.max(q.q,q._),l=B+1,b=n+l*2,D=Q+l*2,c=new b4(-l,-l,b,D),_=K.U(c.$());
K.Gc(R,m,_,c);var p=_.slice(0);for(var X=0;X<B;X++){for(var g=1;g<D-1;g++){for(var F=1;F<b-1;F++){var v=g*b+F;
p[v]=_[v-b]|_[v-1]|_[v]|_[v+1]|_[v+b]}}var k=p;p=_;_=k}var I=cc.p2(_,b,D,Math.round(q.$()*5e-4)),e=cc.H9(I),H=new j8(1,0,0,1,-l,-l);
for(var v=0;v<e.length;v++){var A=e[v];K.c.C(A.path.g,H,A.path.g);A.xd=K.m3.a4p(A.path);A.kc=K.c.amj(A.xd);
A.kc=K.wK.ayW(A.xd,A.kc,U)}return e};K.m3.a4p=function(j){var n=[],Q=j.g,a=j.rZ.length-1,B=0,m=0;for(var R=0;
R<a;R++){var v=R*6,q=Q[v+6]-Q[v+0],U=Q[v+7]-Q[v+1],l=Math.ceil(Math.sqrt(q*q+U*U));for(var b=0;b<l;b++){var D=b/l,c=1-D,_=c*c*c*Q[v+0]+3*c*c*D*Q[v+2]+3*c*D*D*Q[v+4]+D*D*D*Q[v+6],p=c*c*c*Q[v+1]+3*c*c*D*Q[v+3]+3*c*D*D*Q[v+5]+D*D*D*Q[v+7];
n.push(_,p);B=_;m=p}}n=K.c.aba(n,1);var X=[],g=n.length;for(var v=0;v<g;v+=2){var p=n.pop(),_=n.pop();
X.push(_,p)}return X};K.m3.awK=function(j,n,Q,a){function B(J,s,E,z,h){var d=h[J*2]-h[s*2],Y=h[J*2+1]-h[s*2+1],C=Math.sqrt(d*d+Y*Y);
if(E[J].indexOf(s)==-1){E[J].push(s);z[J].push(C)}if(E[s].indexOf(J)==-1){E[s].push(J);z[s].push(C)}}var m=j.length>>>1,R=new Array(m);
if(Q.length==0){R.fill(0);return R}var q=new Array(m),U=new Array(m);for(var v=0;v<m;v++){q[v]=[];U[v]=[]}for(var v=0;
v<n.length;v+=3){B(n[v],n[v+1],q,U,j);B(n[v],n[v+2],q,U,j);B(n[v+1],n[v+2],q,U,j)}var l=new Float64Array(m*2),b=new Uint32Array(m*2);
l.fill(1e9);var D=new Uint8Array(m);for(var c=0;c<Q.length;c++){D.fill(0);var _=["---",[0,Q[c]]];while(_.length!=1){var p=K.a5Y.Eb(_),X=p[0],g=p[1];
if(D[g]==1)continue;var F=g<<1;if(X<l[F]){l[F+1]=l[F];b[F+1]=b[F];l[F]=X;b[F]=c}else if(X<l[F+1]){l[F+1]=X;
b[F+1]=c}D[g]=1;var k=q[g],I=U[g];for(var v=0;v<k.length;v++){var e=k[v];if(D[e]!=1){K.a5Y.J0(_,[X+I[v],e])}}}}for(var v=0;
v<m;v++){var F=v<<1,H=l[F],A=l[F+1],Z=1/(H+A);R[v]=(1-H*Z)*a[b[F]]+(1-A*Z)*a[b[F+1]]}return R};K.m3.ait=function(j){var n={rZ:[],g:[]},Q=[j];
while(Q.length!=0){var a=Q.pop(),B=a.wS;if(a.aiS instanceof Array||a.aH0 instanceof Array){n.rZ.push("M","L","L","L","Z");
n.g.push(B[0],B[1],B[2],B[1],B[2],B[3],B[0],B[3])}else Q.push(a.aiS,a.aH0)}return n};K.m3.FL=function(j,n,Q,a,B,m,R,q,U,l,b){var D=Math.round(l.length/3),c=new Array(D);
for(var v=0;v<D;v++)c[v]=v;c.sort(function(p,X){return U[l[p*3]]-U[l[X*3]]});for(var v=0;v<D;v++){var _=c[v]*3;
K.m3.ago(l[_]*2,l[_+1]*2,l[_+2]*2,R,q,j,n,Q,a,B,m,b)}};K.m3.ago=function(j,n,Q,a,B,m,R,q,U,l,b,D){var c=[j,n,Q,1.2,1.2,1.2,0],_=[0,0,0,0],p=B[j],X=B[j+1],g=B[n],F=B[n+1],k=B[Q],I=B[Q+1],e=g-p,H=F-X,A=k-p,Z=I-X,J=e*Z-A*H+1e-9,s=1/J,E=Math.max(0,Math.min(R-1,a[j])),z=Math.max(0,Math.min(R-1,a[n])),h=Math.max(0,Math.min(R-1,a[Q])),d=Math.max(0,Math.min(q-1,a[j+1])),Y=Math.max(0,Math.min(q-1,a[n+1])),C=Math.max(0,Math.min(q-1,a[Q+1])),i=p<g?p<k?j:Q:g<k?n:Q,M=B[i+1]+.5,W=Math.max(0,Math.floor(Math.min(p,g,k))),$=Math.min(l,Math.ceil(Math.max(p,g,k))),P=Math.max(0,Math.floor(Math.min(X,F,I))),O=Math.min(b,Math.ceil(Math.max(X,F,I))),G=1e9;
for(var t=P;t<O;t++){var y=t>M&&G!=1e9?G:W;G=1e9;for(var r=y;r<$;r++){var u=r+.5-p,S=t+.5-X,w=(u*Z-A*S)*s,dj=(e*S-u*H)*s;
if(w>=0&&dj>=0&&w+dj<=1){if(G==1e9)G=r;var o=1-w-dj,T=E*o+z*w+h*dj,i6=d*o+Y*w+C*dj;if(D){var bH=Math.floor(.5+i6)*R+Math.floor(.5+T),cg=bH<<2,bu=t*l+r<<2;
U[bu]=m[cg];U[bu+1]=m[cg+1];U[bu+2]=m[cg+2];U[bu+3]=m[cg+3]}else{K.D.aGr(T,i6,m,R,q,_);K.m3.a2Z(_,U,t*l+r<<2)}}else if(G!=1e9)break}}};
K.m3.a2Z=function(j,n,Q){if(j[3]>250){n[Q]=~~(.5+j[0]);n[Q+1]=~~(.5+j[1]);n[Q+2]=~~(.5+j[2]);n[Q+3]=~~(.5+j[3])}else{var a=n[Q],B=n[Q+1],m=n[Q+2],R=n[Q+3],q=1-j[3]*(1/255);
n[Q]=~~(.5+j[0]+a*q);n[Q+1]=~~(.5+j[1]+B*q);n[Q+2]=~~(.5+j[2]+m*q);n[Q+3]=~~(.5+j[3]+R*q)}};K.m3.aD2=function(){var j=function(Q,a,B,m){var R=m[0],q=m[1],U=m[2],l=Q[R+0],b=Q[R+1],D=Q[q+0],c=Q[q+1],_=Q[U+0],p=Q[U+1],X=D-l,g=c-b,F=_-l,k=p-b,I=a-l,e=B-b,H=X*k-F*g,A=1/(H+1e-9),Z=(I*k-F*e)*A,J=(X*e-I*g)*A;
if(Z>=0&&J>=0&&Z+J<=1){m[3]=1-Z-J;m[4]=Z;m[5]=J;return 1}return 0},n=function(Q,a,B,m){var R=[0,0,0,0,0,0];
for(var v=0;v<a.length;v+=3){R[0]=a[v]*2;R[1]=a[v+1]*2;R[2]=a[v+2]*2;if(j(Q,B,m,R)==1)return!0}return!1};
return{a3K:j,a78:n}}();K.TX={};K.TX.at1=function(j,n,Q,a){j=j.slice(0);if(a)K.wj(a,j,3);else for(var v=0;
v<j.length;v+=4)j[v+3]=0;var B=K.U(n*Q*4),m=!1;K.D.vH(j,n,Q,B,[Q,n,0,1,0,1,0,0]);return[K.TX.RD(j,n,Q,m),K.TX.RD(B,Q,n,m)]};
K.TX.C=function(j,n){var Q=!1,a=j[0],B=j[1],m=a[1],R=a[2],q=a[3],U=n.q,l=n._;if(R==U&&q==l)m=m.slice(0);
else if(q!=l){var b=K.U(R*l*4);K.TX.Cc(B,l,b,Q);m=K.U(R*l*4);K.D.vH(b,l,R,m,[R,l,0,1,0,1,0,0]);if(R!=U){a=K.TX.RD(m,R,l,Q);
m=K.U(U*l*4);K.TX.Cc(a,U,m,Q)}}else if(R!=U){m=K.U(U*q*4);K.TX.Cc(a,U,m,Q)}for(var v=0;v<m.length;v+=4)m[v+3]=255;
return m};K.TX.RD=function(j,n,Q,a){var B=Date.now(),m=new Uint16Array(n*Q),l=1;K.TX.aBB(j,n,Q,m);var R=K.U(n*Q);
K._W(j,R,3);for(var q=0;q<Q;q++)for(var U=0;U<n;U++)m[q*n+U]+=Math.floor((65535-m[q*n+U])*R[q*n+U]*(1/255));
var b=Math.ceil(n/l),D=new Uint32Array(l),c=new Uint32Array(l),b=Math.floor(n/l);for(var _=0;_<l;_++)c[_]=_<l-1?b:n-(l-1)*b;
for(var q=0;q<Q;q++){var v=q*n;for(var _=0;_<l;_++){var b=c[_];for(var U=0;U<b;U++)D[_]+=m[v+U];v+=b}}if(a){console.log(Date.now()-B,"cost");
B=Date.now()}var p=new Uint32Array(n),X=new Uint32Array(n),g=new Uint32Array(n*Q);for(var U=0;U<n;U++){g[(Q-1)*n+U]=m[(Q-1)*n+U]}for(var q=Q-2;
q>=0;q--){var F=q*n;for(var _=0;_<l;_++){var b=c[_];g[F]=m[F]+Math.min(g[F+n],g[F+n+1]);for(var U=1;
U<b-1;U++){var v=F+U;g[v]=m[v]+Math.min(g[v+n-1],Math.min(g[v+n],g[v+n+1]))}F+=b-1;g[F]=m[F]+Math.min(g[F+n-1],g[F+n]);
F++}}if(a){console.log(Date.now()-B,"Building M");B=Date.now()}function k(h,d){return h<d?h:d}function I(v,h){var d=X[v],Y=g[h],C=~~(d*Y*1e-4);
return C}var e=new Uint8Array(n*Q),H=new Uint32Array(n);for(var v=0;v<n;v++){p[v]=v;X[v]=m[v]}for(var q=1;
q<Q;q++){var A=0,F=q*n;for(var _=0;_<l;_++){var b=c[_],v=F;H[A]=I(A,v);var Z=H[A]+I(A+1,v+1),J=I(A,v+1)+I(A+1,v);
H[A+1]=k(Z,J);for(var U=2;U<b;U++){var v=F+U,s=H[A+U-1]+I(A+U-1,v-1),E=H[A+U-2]+I(A+U-1,v-2)+I(A+U-2,v-1);
H[A+U]=k(s,E)}var U=b-1;while(U>=2){var v=F+U,s=H[A+U-1]+I(A+U-1,v-1),E=H[A+U-2]+I(A+U-1,v-2)+I(A+U-2,v-1);
if(H[A+U]==s){e[v-n]=1;U-=1}else{e[v-n]=0;e[v-n-1]=2;U-=2}}var v=F;if(U==0){e[v-n]=1}else{if(H[A+1]==Z){e[v+1-n]=1;
e[v-n]=1}else{e[v+1-n]=0;e[v-n]=2}}F+=b;A+=b}K.TX.a1A(q,n,e,m,p,X,!0,B)}if(a){console.log(Date.now()-B,"Matching");
B=Date.now()}var z=m;return[UZIP.adler(j,0,j.length),j,n,Q,l,c,D,p,X,e,z]};K.TX.Cc=function(j,n,Q,a){var B=j.slice(0),m=B.shift(),R=B.shift(),q=B.shift(),U=B.shift(),l=B.shift(),b=B.shift(),D=B.shift(),c=B.shift(),_=B.shift().slice(0),p=B.shift(),X=B.shift(),g=Date.now(),F=Math.abs(q-n),k=Math.floor(F/l),I=new Uint32Array(l),H=0,A=1e9,J=0,s=0,E=0;
for(var e=0;e<l;e++)I[e]=e<l-1?k:F-(l-1)*k;X.fill(0);for(var Z=0;Z<q;Z++){H=Math.max(H,_[Z]);A=Math.min(A,_[Z])}for(var e=0;
e<l;e++){var z=b[e],k=I[e];for(var h=0;h<k;h++){var d=0,Y=1e9;for(var Z=0;Z<z;Z++)if(_[s+Z]<Y){Y=_[s+Z];
d=s+Z}if(n<q)_[d]=1e9;else _[d]*=1.2;if(E<q/3)J+=Y;var C=c[d],i=X[C],M=i<65280?65280:i+1;if(M<65280)throw"e";
for(var W=0;W<U;W++){var v=W*q+C;X[v]=M;C+=p[v]-1}E++}s+=z}if(a){console.log(Date.now()-g,"Removing best seams");
g=Date.now()}function $(v,O){var G=v<<2,t=O<<2;Q[G]=R[t];Q[G+1]=R[t+1];Q[G+2]=R[t+2];Q[G+3]=R[t+3]}for(var W=0;
W<U;W++){var P=0,v=W*q;for(var Z=0;Z<n;Z++,P++){if(n<q){while(X[v+P]==65280)P++;$(W*n+Z,W*q+P)}else{$(W*n+Z,W*q+P);
while(X[v+P]>=65280){X[v+P]--;Z++;$(W*n+Z,W*q+P)}}}}if(a){console.log(Date.now()-g,"Shifting image pixels");
g=Date.now()}};K.TX.a1A=function(j,n,Q,a,B,m){var R=0,v=j*n;while(R<n){if(Q[v-n]==1){m[R]=m[R]+a[v];
R++;v++}else{var q=B[R];B[R]=B[R+1];B[R+1]=q;var U=m[R];m[R]=m[R+1]+a[v];m[R+1]=U+a[v+1];R+=2;v+=2}}};
K.TX.aBB=function(j,n,Q,a){function B(j,v,U){var D=v<<2,c=U<<2,_=j[D]-j[c],p=j[D+1]-j[c+1],X=j[D+2]-j[c+2];
return Math.abs(_)+Math.abs(p)+Math.abs(X)}for(var m=1;m<n;m++){var R=B(j,m,m-1);a[m-1]+=R;a[m]+=R}for(var q=1;
q<Q;q++){var U=q*n,R=B(j,U,U-n);a[U]+=R;a[U-n]+=R;for(var m=1;m<n;m++){var v=q*n+m,l=B(j,v,v-1),b=B(j,v,v-n);
a[v-n]+=b;a[v-1]+=l;a[v]+=b+l}}for(var q=0;q<Q;q++){a[q*n]*=2;a[q*n+n-1]*=2}for(var v=0;v<a.length;v++)if(a[v]==0)a[v]=1};
K.Gj=function(){function j(){return 1953e6+Math.floor(Math.random()*999999)}function n(Y,C){var i=C[0]-Y[0],M=C[1]-Y[1];
return i*i+M*M}function Q(Y,C,i,M,W,$,P,O){var G=i-Y,t=M-C,y=K.c.wr(Y,C,G,t,W,$,P-W,O-$),r=[Y+y*G,C+y*t],u=y>0?[[[Y,C],r,!1,0,1],[[W,$],r,!1,0,5]]:[[[i,M],r,!1,0,1],[[P,O],r,!1,0,5]];
return u}function a(Y,C){var i=Q(Y[0],Y[1],Y[2],Y[3],Y[6],Y[7],Y[4],Y[5]),M=Q(Y[0],Y[1],Y[6],Y[7],Y[2],Y[3],Y[4],Y[5]),W=[i,M],$=[i[0][1],M[0][1]];
for(var v=0;v<2;v++){var P=$[1-v],O=W[v];if(n(O[0][0],P)<n(O[1][0],P)){var G=O[0];O[0]=O[1];O[1]=G}}var t=[j(),0,-1,0,[0,0],i[0],i[1],M[0],M[1]],y=H(t,C),r=y[1][0];
t[3]=r;t[4]=y[0][r];t[5][3]=t[6][3]=y[0].indexOf(t[5][1]);t[7][3]=t[8][3]=y[0].indexOf(t[7][1]);if((t[6][3]+1)%3!=t[7][3]){var G=t[5];
t[5]=t[7];t[7]=G;var G=t[6];t[6]=t[8];t[8]=G}for(var v=0;v<4;v++)t[5+v][4]=[1,5,7,3][v];return t}function B(Y){var C=Y[5],i=Y[8],M=Y[6],W=C[0],$=i[0],P=M[0],O=C[1],G=i[1],t=$[0],y=$[1],r=G[0]-t,u=G[1]-y,S=K.c.wr(t,y,r,u,P[0],P[1],O[0]-P[0],O[1]-P[1]);
return[W[0],W[1],t,y,t+S*r,y+S*u,P[0],P[1]]}function m(Y,C){return Y[0]==C[0]&&Y[1]==C[1]}function R(Y){return{1:0,5:1,7:2,3:3}[Y]}function q(Y,C,i){var M=C[5+R(Y)],W=M[1],$=M[0][0]-W[0],P=M[0][1]-W[1],O=Math.sqrt($*$+P*P);
$/=O;P/=O;for(var G=0;G<i.length;G++){var t=i[G];if(t[0]!=C[1]&&t[1]!=C[0])continue;for(var v=0;v<4;
v++){var y=t[5+v],r=y[0];if(!m(W,y[1]))continue;var u=r[0]-W[0],S=r[1]-W[1];O=Math.sqrt(u*u+S*S);u/=O;
S/=O;var w=u*$+S*P;if(Math.abs(w-1)<1e-7)return!0}}return!1}function U(Y,C){K.D.C(Y,C);return C}function l(Y,C){var i=[];
for(var M=0;M<Y.length;M++){var W=Y[M],$=W[1];for(var P=0;P<$.length;P++){if(C&&C[M].indexOf(P)==-1)continue;
var O=$[P],G=[],t=K.D.ZM(B(O),new b4(0,0,1,1));for(var v=1;v<=7;v+=2){G[v]=q(v,O,$)}if(!G[1]){if(!G[7])i.push([U(t,[0,0]),M,P,0]);
i.push([U(t,[.5,0]),M,P,1])}if(!G[3]){if(!G[1])i.push([U(t,[1,0]),M,P,2]);i.push([U(t,[1,.5]),M,P,3])}if(!G[5]){if(!G[3])i.push([U(t,[1,1]),M,P,4]);
i.push([U(t,[.5,1]),M,P,5])}if(!G[7]){if(!G[5])i.push([U(t,[0,1]),M,P,6]);i.push([U(t,[0,.5]),M,P,7])}}}return i}function b(Y){var C=Y.length-2,i=0;
for(var v=0;v<C;v+=2)i+=(Y[v+2]-Y[v])*(Y[v+1]+Y[v+3]);i+=(Y[0]-Y[C])*(Y[C+1]+Y[1]);return-i*.5}function D(Y,C,i,M){}function c(Y,v){var C=Y[v+2&7]-Y[v&7],i=Y[v+3&7]-Y[v+1&7],M=1/Math.sqrt(C*C+i*i);
return[C*M,i*M]}function _(Y){var C=Y[2];Y[2]=Y[6];Y[6]=C;var C=Y[3];Y[3]=Y[7];Y[7]=C}function p(Y,C,i,M){if(M==null)M=0;
var W=C[1],$=B(C),S=null,w,i6,bH,cl,hu,u,aA;if(W==0){if(b($)<0)_($);var P=6,O=$[7]+$[1];for(var v=0;
v<6;v+=2){var G=$[v+1]+$[v+3];if(G<O){O=G;P=v}}$=$.slice(P).concat($.slice(0,P));var t=N.MT.DN($,i[0],i[1]),y=Math.sqrt(n($,$.slice(2))),r=Math.sqrt(n($.slice(4),$.slice(6))),u=(y+r)*.5;
return[$,new b4(0,0,u,u/t)]}for(var v=0;v<Y.length&&S==null;v++){w=Y[v][1];for(var dj=0;dj<w.length&&S==null;
dj++)if(w[dj][0]==W)S=w[dj]}var o=p(Y,S,i,M+1),T=o[0];o=o[1];for(var v=0;v<8;v+=2){var cg=T[v&7],bu=T[v+1&7],hH=T[v+2&7],dK=T[v+3&7];
for(var dj=0;dj<8;dj+=2){var d8=$[dj],d1=$[dj+1],gH=$[dj+2&7],kh=$[dj+3&7],ay=Math.abs(K.c.pK(cg,bu,hH,dK,d8,d1))+Math.abs(K.c.pK(cg,bu,hH,dK,gH,kh));
if(ay<=30){i6=dj;bH=v}}}var dO=c(T,bH),fy=c($,i6),bg=dO[0]-fy[0],f4=dO[1]-fy[1],jb=bg*bg+f4*f4;if(jb<.001){_($);
i6={0:6,2:4,4:2,6:0}[i6]}while(i6!=(bH+4&7)){$.unshift($.pop());i6=i6+1&7}var t=N.MT.DN($,i[0],i[1]),jT=K.D.ZM(T,o);
jT=K.D.m2(jT);var jy=[$[i6],$[i6+1],$[i6+2&7],$[i6+3&7]];K.D.C(jT,jy);var ko=K.c.Tv(jy);if(bH==0||bH==4){u=ko.q;
aA=u/t;cl=ko.x;hu=ko.y+(bH==0?-aA:0)}else{aA=ko._;u=aA*t;hu=ko.y;cl=ko.x+(bH==6?-u:0)}return[$,new b4(cl,hu,u,aA)]}function X(Y,C){function i(r,u,S,w){var dj=U(r,[u,S]);
dj.push(w);return dj}var M=[];for(var W=0;W<Y.length;W++){var $=Y[W],P=$[1];for(var O=0;O<P.length;O++){var G=P[O],t=p(Y,G,C),y=t[0],r=K.D.ZM(y,new b4(0,0,1,1));
M.push(i(r,.5,0,1));M.push(i(r,1,.5,3));M.push(i(r,.5,1,5));M.push(i(r,0,.5,7));M.push(i(r,.5,.5,[t?(t[1].q/t[1]._).toFixed(2):""].join(", ")))}}return M}function g(Y,C,i,M){var W=[C],$=[C];
while(!0){var P=[];for(var v=0;v<Y.length;v++){var O=Y[v],G=!1;for(var t=0;t<W.length;t++){if(O[1]==Y[W[t]][0]||O[0]==Y[W[t]][1])P.push(v)}}var y=W.length;
for(var v=0;v<P.length;v++){var r=P[v],O=Y[r];if($.indexOf(r)!=-1)continue;$.push(r);var u=p([[10,Y]],O,M);
if(u[1].Ta(i))W.push(r)}if(y==W.length)break}return W}function F(Y,C,i){var M=i[0],W=i[1],$=C.x-Y[0],P=C.y-Y[1],O=K.c.wr(Y[0],Y[1],$,P,W[0],W[1],M[0]-W[0],M[1]-W[1]);
return[Y[0]+O*$,Y[1]+O*P]}function k(Y,C,i){Y=K.u(Y);var M=Y[C[1]][1][C[2]],W=C[3]>=8,$=C[3]&7;if(($&1)==0)return Y;
var P=R($);if($==1||$==7){var O=M[5+P],G=M[5+2-P],t=M[5+($==1?3:1)],y=M[5+($==1?1:3)],r=O[1],u=F(r,i,G);
if(!W&&n(u,G[1])<n(y[0],G[1]))return Y;O[0]=G[0]=u;t[0]=F(r,i,t)}else{var t=M[5+P],r=t[1],O=M[5+($==3?0:2)],u=F(r,i,O);
if(!W&&n(u,O[1])>n(O[0],O[1]))return Y;if(Math.sign(O[1][0]-O[0][0])!=Math.sign(O[1][0]-u[0]))return Y;
t[0]=u}return Y}function I(Y,C,i){var M=C[0]-Y[0],W=C[1]-Y[1],$=K.c.wr(i[0],i[1],-W,M,Y[0],Y[1],M,W);
return[i[0]-W*$,i[1]+M*$]}function e(Y,C,i){var M=i[0],W=i[1],U=I(Y,C,i),$=U[0],P=U[1],O=I(Y,i,C),G=K.c.wr($,P,M-$,W-P,C[0],C[1],O[0]-C[0],O[1]-C[1]);
return[$+(M-$)*G,P+(W-P)*G]}function H(Y,C){var i=Y[5][1],M=Y[7][1],W=e(i,M,C),$=[i,M,W];$.sort(function(G,t){return G[0]-t[0]});
if(b([$[0][0],$[0][1],$[1][0],$[1][1],$[2][0],$[2][1]])<0){var P=$[1];$[1]=$[2];$[2]=P}var O=[$.indexOf(i),$.indexOf(M),$.indexOf(W)];
return[$,O]}function A(Y,C,i){Y=K.u(Y);var M=C[1],W=Y[M][1][C[2]],$=C[3];if(($&1)!=1)return Y;var P=H(W,i),O=P[1][2],G=P[0][O],t=K.u(W);
Y[M][1].push(t);t[0]=j();t[1]=W[0];t[2]=-10+$;t[3]=O;t[4]=G;if($==1||$==5){t[7][3]=t[8][3]=O;t[7][1]=t[8][1]=G;
if($==5){t[5][0]=t[7][0]=W[6][0];t[8][0]=B(W).slice(4,6)}}else{t[5][3]=t[6][3]=O;t[5][1]=t[6][1]=G;if($==3){t[5][0]=t[7][0]=W[8][0];
t[6][0]=B(W).slice(4,6)}}return Y}function Z(Y,C,i){Y=K.u(Y);var M=C[1],W=Y[M][1][C[2]],$=W[2]+10,P=$+4&7,O=$==1||$==5,G=W[5+R(O?7:1)][1],t=W[5+R(P)][0],y=W[5+R($)][0];
W[2]=(O?90:0)+(n(t,G)<n(y,G)?180:0);var r=a(B(W),i);for(var v=5;v<9;v++)W[v]=r[v];return Y}function J(Y,C,i){var dv=Y.length>>1,M,W=Y[2*dv-3]-i,$=Y[2*dv-2]-C,P=Y[2*dv-1]-i,O=!1,G=0;
for(var v=0;v<dv;v++){M=$;W=P;$=Y[2*v]-C;P=Y[2*v+1]-i;if(W==P)continue;O=P>W}for(var v=0;v<dv;v++){M=$;
W=P;$=Y[2*v]-C;P=Y[2*v+1]-i;if(W<0&&P<0)continue;if(W>0&&P>0)continue;if(M<0&&$<0)continue;if(W==P&&Math.min(M,$)<=0)return!0;
if(W==P)continue;var t=M+($-M)*-W/(P-W);if(t==0)return!0;if(t>0)G++;if(W==0&&O&&P>W)G--;if(W==0&&!O&&P<W)G--;
O=P>W}return(G&1)==1}function s(Y,C,i,M,W){var $=null;for(var P=0;P<Y.length;P++){var O=Y[P][1];for(var G=0;
G<O.length;G++){var t=B(O[G]);if(J(t,C,i)||W&&W[0]==P&&W[1]==G&&$==null){$=[P,G];if(M){var y=p(Y,O[G],M),r=K.D.ZM(y[0],y[1]),u=[C,i];
r=K.D.m2(r);K.D.C(r,u);$.push(u)}}}}return $}function E(Y,C){for(var i=0;i<Y.length;i++){var M=Y[i][1],W=C[i];
if(W.length==0)continue;var $=z(M,W);for(var P=0;P<M.length;P++){if($.indexOf(M[P][0])!=-1){M.splice(P,1);
P--}}}for(var i=0;i<Y.length;i++)if(Y[i][1].length==0){Y.splice(i,1);i--}return Y}function z(Y,C){var i=[];
for(var v=0;v<10;v++)for(var M=0;M<Y.length;M++){var W=Y[M];if(C.indexOf(M)!=-1||i.indexOf(W[1])!=-1)if(i.indexOf(W[0])==-1)i.push(W[0])}return i}function h(Y){var C=L.AP(Y,0,Y.length),i=C.split("\n").slice(1);
function M(){return parseFloat(i.shift())}function W(){var d8=[M(),M()];$(1);return d8}function $(dv){for(var v=0;
v<dv;v++)i.shift()}var P=[],O=M();for(var G=0;G<O;G++){var t=M(),y=M(),r=[];P.push([t,r]);for(var u=0;
u<y;u++){var S=M(),w=M(),dj=M(),o=M(),T=W(),i6=[S,w,dj,o,T];r.push(i6);for(var v=0;v<4;v++){var bH=W(),cg=W(),bu=M()==1,hH=M(),dK=M();
i6.push([bH,cg,bu,hH,dK])}}}return P}function d(Y){function C(y){i.push(y[0],y[1],"")}var i=["tNaF203"];
i.push(Y.length);for(var M=0;M<Y.length;M++){i.push(Y[M][0]);var W=Y[M][1];i.push(W.length);for(var $=0;
$<W.length;$++){var P=W[$];i.push(P[0],P[1],P[2],P[3]);C(P[4]);for(var v=0;v<4;v++){var O=P[5+v];C(O[0]);
C(O[1]);i.push(O[2]?1:0,O[3],O[4])}}}var G=i.join("\n"),t=new Uint8Array(G.length);L.ey(t,0,G);return t}return{by:h,mH:d,ahf:B,as5:a,cX:l,akz:k,Yj:X,aGN:function(Y,C){return C&&(C[3]&1)==0&&Y[C[1]][1].length==1},HK:function(Y,C){return C&&(C[3]&1)==1},y8:p,aj1:A,a9D:Z,avY:E,y$:z,Mt:s,i6:g}}();
K.ak2=function(){var j=0,n=0,a=15,m=256;function Q(b,D,c,_,p,X){var g=(p-1)*D,F=X*D;return b[F+_]-b[F+c-1]-b[g+_]+b[g+c-1]}var B=Math.round(a/8),R=[];
function q(b,D){for(var c=0;c<D.length;c++){var _=D[c],p=0,X=0,g=b[_.Im],F=g.l$,k=g.Uw,I=g.WC;for(var e=-a;
e<=a;e++)for(var H=-a;H<=a;H++){var A=H+_.ata,Z=e+_.a4n;if(H*H+e*e>a*a||A<0||Z<0||A>=k||Z>=k)continue;
var J=F[Z*k+A];p+=H*J;X+=e*J}_.Fr=Math.atan2(X,p)}}function U(b,D,c,_,p){var X=~~(b+.5),g=~~(D+.5);return Q(c,_,X-B,X+B,g-B,g+B)}function l(b,D,c,_,p){j=_;
n=p;if(R.length==0){var X=new K.L._z(16200817),I=8,e=0;function g(T){var E=T[0]-T[2],z=T[1]-T[3];return E*E+z*z}function F(){var T=0,i6=0;
while(T===0)T=X.get();while(i6===0)i6=X.get();return Math.sqrt(-2*Math.log(T))*Math.cos(2*Math.PI*i6)}var k=F,H=[];
while(e!=m){var A=Math.max(-a,Math.min(a,k()*I)),Z=Math.max(-a,Math.min(a,k()*I)),J=Math.max(-a,Math.min(a,k()*I)),s=Math.max(-a,Math.min(a,k()*I)),E=A-J,z=Z-s,h=Math.sqrt(E*E+z*z);
if(h<3||h>12)continue;R.push(A,Z,J,s);e++}}var d=20;for(var Y=0;Y<D.length;Y++){var C=D[Y],i=b[C.Im],M=i.M8,c=i.l$,_=i.Uw,p=i.WC,W=C.ata,$=C.a4n,P=C.Fr,O=Math.cos(P),G=Math.sin(P),t=new Uint8Array(m>>>3);
C.Tu=t;for(var v=0;v<m;v++){var y=v*4,A=R[y+0],Z=R[y+1],J=R[y+2],s=R[y+3],r=O*A-G*Z,u=G*A+O*Z,S=O*J-G*s,w=G*J+O*s,dj=U(W+r,$+u,M,_,p),o=U(W+S,$+w,M,_,p);
t[v>>>3]|=(dj<o?0:1)<<(v&7)}}}return{aj9:q,a6P:l}}();K.a7W=function(){function j(n,Q){var a=[[9]],B=Date.now(),m=[];
for(var R=0;R<n.length;R++){var q=n[R],U=q.M8,l=q.Uw,b=q.WC,_=9,I=1,C=24;if(U==null)continue;var D=new Float32Array(l*b),c=new Uint8Array(l*b),p=_>>>1,X=p>>>1,g=Math.round(_/3);
if(g!=_/3)throw"e";var F=1/(_*_),k=1.2*(_/9);for(var e=p+1;e<b-p;e+=I)for(var H=p+1;H<l-p;H+=I){var A=K.B$(U,l,H-X,H+X,e-p,e+p)-3*K.B$(U,l,H-X,H+X,e-p+g,e+p-g),Z=K.B$(U,l,H-p,H+p,e-X,e+X)-3*K.B$(U,l,H-p+g,H+p-g,e-X,e+X),J=H-p+1,s=H+p-1,E=e-p+1,z=e+p-1,h=K.B$(U,l,J,H-1,E,e-1)+K.B$(U,l,H+1,s,e+1,z)-K.B$(U,l,H+1,s,E,e-1)-K.B$(U,l,J,H-1,e+1,z),d=(Z*A-.9*h*(.9*h))*(F*F);
D[e*l+H]=Math.abs(d);c[e*l+H]=d<0?0:1}var Y=l*I;for(var e=C;e<b-C;e+=I)for(var H=C;H<l-C;H+=I){var v=e*l+H,i=D[v];
if(i<16)continue;if(D[v-I]>=i||D[v+I]>=i)continue;if(D[v-Y-I]>=i||D[v-Y]>=i||D[v-Y+I]>=i)continue;if(D[v+Y-I]>=i||D[v+Y]>=i||D[v+Y+I]>=i)continue;
m.push({x:~~(H*q.Tw+.5),y:~~(e*q.Tw+.5),ata:H,a4n:e,Im:R,J:i,awN:c[v],bD:k})}}if(Q!=null){m.sort(function(y,r){return r.J-y.J});
m=m.slice(0,Q)}return m;var M=[];for(var v=0;v<m.length;v++){var W=!0,$=m[v];for(var P=0;P<m.length;
P++){var O=m[P];if(P!=v&&O.J>$.J&&(O.Im==$.Im+1||O.Im==$.Im-1)){var G=$.x-O.x,t=$.y-O.y;if(G*G+t*t<5){W=!1;
break}}}if(W)M.push($)}console.log(m.length,M.length);return M}return{ao5:j}}();K.Wv={};K.Wv.ax5=function(j){var n=j.length,Q=K.Wv.ahZ(j,!1),B=0,m=1;
throw"e";var a=[];for(var v=0;v<n;v++)a[v]=K.Wv.afq(Q[v]);var R=j[0][1],q=K.Wv.match(Q[B],Q[m],a[m]);
console.log(q.length);var U=Math.max(Math.min(q.length,40),q.length*.54);U=Math.min(U,200);var l=q.slice(0,U),b=K.sb.ag2(Q[B],Q[m],l,R.q,R._),D=K.sb.afw(b,[0,0,0],1),c=R.q/2,_=R._/2,p=1/Math.max(c,_);
for(var v=0;v<1;v++){var X=l[v],g=Q[B][X[0]],F=Q[m][X[1]],k=K.sb.agM(D,p*(g.x-c),p*(g.y-_),p*(F.x-c),p*(F.y-_))}var I=K.sb.axQ(b,R),e=[];
for(var v=0;v<2;v++){var H=I[v],A=[H[0][0],H[0][1],H[0][2],H[1][0],H[1][1],H[1][2],H[2][0],H[2][1]],Z=N.IP.CN(j[v],null,A);
e.push([Z.buffer,Z.s])}return[K.Wv.asv(e[0],e[1],Q[B],Q[m],l,b,I,R)]};K.Wv.qP=function(j,n){var Q=j.length,a=!1,B=Date.now(),m=K.Wv.ahZ(j,!1,1e4);
if(a)console.log("Descriptors ready",Date.now()-B);B=Date.now();for(var v=0;v<Q;v++){var R=j[v][1];for(var q=0;
q<m[v].length;q++){m[v][q].x+=R.x;m[v][q].y+=R.y}}if(a)console.log("shifted",Date.now()-B);B=Date.now();
var U=[];for(var v=0;v<Q;v++)U[v]=K.Wv.afq(m[v]);if(a)console.log("trees built",Date.now()-B);B=Date.now();
var l=[];for(var v=0;v<Q-1;v++)for(var q=v+1;q<Q;q++){var b=K.Wv.match(m[v],m[q],U[q]);if(a)console.log("Matches found",v,q,b.length);
b=b.slice(0,b.length>>>1);if(b.length<10)continue;var D=K.Wv.a0E(m[v],m[q],b,2);l.push([v,q,b,D])}l.sort(function(s,E){return E[2].length-s[2].length});
if(a)console.log("Matches found",Date.now()-B);B=Date.now();var c=[],_=new UnionFind(Q);for(var v=0;
v<l.length;v++){var p=l[v],X=_.find(p[0]),g=_.find(p[1]);if(X!=g){c.push(p);_.link(X,g)}}var F=[];for(var v=0;
v<Q;v++)F[v]=[1,0,0,0,1,0,0,0];var k=[0],I=new Uint8Array(Q);I[k[0]]=1;while(k.length!=0){var g=k.pop(),D=F[g],e=[];
for(var v=0;v<c.length;v++){var p=c[v],H=p[0],A=p[1];if(H==g&&I[A]==0){F[A]=K.D.Da(D,p[3]);k.push(A);
I[A]=1}if(A==g&&I[H]==0){F[H]=K.D.Da(D,K.D.m2(p[3]));k.push(H);I[H]=1}}}if(n==null){var Z=[];for(var v=0;
v<Q;v++)Z.push([F[v][2],v]);Z.sort(function(s,E){return s[0]-E[0]});n=Z[Z.length>>>1][1]}var J=K.D.m2(F[n]);
for(var v=0;v<Q;v++)F[v]=K.D.Da(F[v],J);if(a)console.log("Transforms reordered",Date.now()-B);B=Date.now();
return F};K.Wv.ahZ=function(j,n,Q){var a=[],B=!1;for(var v=0;v<j.length;v++){var m=j[v][0],R=j[v][1],q=R.q,U=R._,l=K.U(R.$());
K.AS(m,l);var b=Date.now(),D=K.Wv.a64(l,R,!0);if(B)console.log("Pyramid built ---------------",Date.now()-b);
b=Date.now();var c=K.a7W.ao5(D,Q);if(B)console.log("SURF Generation",Date.now()-b);b=Date.now();if(!n){K.ak2.aj9(D,c);
if(B)console.log("ORB Orientations",Date.now()-b);b=Date.now();K.ak2.a6P(D,c,l,q,U);if(B)console.log("ORB Descriptors",Date.now()-b);
b=Date.now()}a.push(c)}return a};K.Wv.a64=function(j,n,Q){var a=[],B=[j,n];K.hY(B);if(Q){var m=K.a52(j,n),R=m.s,q=[m.jB,R];
K.hY(q)}for(var v=0;v<B.length;v++){var U=B[2*v],l=B[2*v+1],b=l.q,D=l._,c=Math.min(b,D);if(c<30)break;
if(c<1600)a.push({l$:U,Uw:b,WC:D,Tw:1<<v,M8:K.le(U,b,D)});if(!Q)continue;var U=q[2*v],l=q[2*v+1],b=l.q,D=l._,c=Math.min(b,D);
if(c<30)break;if(c<1600)a.push({l$:U,Uw:b,WC:D,Tw:(1<<v)*3/2,M8:K.le(U,b,D)})}return a};K.Wv.a0E=function(j,n,Q,a){var B=Date.now(),m,R=0,q=0,U=Q.length,l=new Float64Array(2);
for(var b=0;b<3e3;b++){var D=~~(Math.random()*U),c=~~(Math.random()*U),_=~~(Math.random()*U),p=~~(Math.random()*U),Y=0,C=0;
if(D==c||D==_||D==p||c==_||c==p||_==p)continue;var X=Q[D],g=Q[c],F=Q[_],k=Q[p],I=j[X[0]],e=n[X[1]],H=j[g[0]],A=n[g[1]],Z=j[F[0]],J=n[F[1]],s=j[k[0]],E=n[k[1]],z=[I.x,I.y,H.x,H.y,Z.x,Z.y,s.x,s.y],h=[e.x,e.y,A.x,A.y,J.x,J.y,E.x,E.y],d=K.D.a5o(z,h);
if(d[0]==0&&d[1]==0&&d[3]==0&&d[4]==0)continue;var i=U-R+2;for(var v=0;v<U&&v-Y<i;v++){var M=j[Q[v][0]],W=n[Q[v][1]];
K.D.g5(W.x,W.y,d,l);var $=l[0]-M.x,P=l[1]-M.y,O=$*$+P*P;if(O<a){Y++;C+=O}}if(Y>R||Y==R&&C<q){m=d;R=Y;
q=C}}return m};var aC=new Uint8Array(256);for(var v=0;v<256;v++){var jw=0,dv=v;while(dv!=0){dv=dv&dv-1;
jw++}aC[v]=jw}K.Wv.atc=function(j,n,Q){var a=0,B=j.length;for(var v=0;v<B&&a<Q;v++)a+=aC[j[v]^n[v]];
return a};K.Wv.alp=function(j,n,Q,top,a){if(a[Q]==1)return;var B=K.Wv.atc(j.Tu,n.Tu,top[0]);if(B<top[0]){if(B<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=B;top[3]=Q}else{top[0]=B;top[1]=Q}}a[Q]=1};K.Wv.afq=function(j){var n=[],Q=[],a=[[],[]],B=4;
for(var v=0;v<j.length;v++)(j[v].awN==0?n:Q).push(v);for(var m=0;m<2;m++){var R=new Array(B),q=[],U=m==0?n:Q,l=U.length/256,b=[];
for(var D=0;D<32;D++){var c=new Array(256),X=0;for(var _=0;_<256;_++)c[_]=[];for(var _=0;_<U.length;
_++){var p=U[_];c[j[p].Tu[D]].push(p)}for(var _=0;_<256;_++)X+=Math.abs(c[_].length-l);b.push([X,D,c])}b.sort(function(g,F){return g[0]-F[0]});
var q=[],R=[];a[m]=[q,R];for(var v=0;v<B;v++){q.push(b[v][1]);R.push(b[v][2])}}return a};K.Wv.match=function(j,n,Q){var a=[],B=new Uint16Array(n.length);
B.fill(65535);var m=new Uint8Array(n.length),top=new Uint32Array(4),R=[];for(var q=0;q<j.length;q++){var U=j[q],l=U.Tu;
top.fill(1e6);m.fill(0);var b=Q[U.awN];for(var D=0;D<b[1].length;D++){var c=b[1][D][l[b[0][D]]];for(var _=0;
_<c.length;_++){var p=c[_];K.Wv.alp(U,n[p],p,top,m)}}if(top[2]<50&&top[2]<top[0]*.5){var X=B[top[3]];
if(X==65535){B[top[3]]=a.length;a.push([q,top[3],top[2]])}else if(top[2]<a[X][2]){a[X]=[q,top[3],top[2]]}}}a.sort(function(g,F){return g[2]-F[2]});
return a};K.Wv.a14=function(j){var n=new b4;for(var v=0;v<j.length;v++)n=n.d_(j[v][1]);var Q=K.U(n.$()*4);
for(var v=0;v<j.length;v++)K.L.sg("norm",j[v][0],j[v][1],Q,n,n,1);return[Q,n]};K.Wv.asv=function(j,n,Q,a,B,m,R,q){var U=j[1].O(),l=U.O();
U.x=U.y=0;var b=n[1].O(),D=b.O();b.x=b.y=0;b.x=U.q;var c=U.d_(b),_=D.y-l.y,p=K.U(c.$()*4);K.EC(j[0],U,p,c);
K.EC(n[0],new b4(b.x,b.y+_,b.q,b._),p,c);var X=document.createElement("canvas");X.width=c.q;X.height=c._;
var g=X.getContext("2d");g.lineWidth=.5;g.putImageData(new ImageData(new Uint8ClampedArray(p.buffer),c.q,c._),0,0);
if(m){var F=m[0],k=K.uS.UI(F),I=U.q,e=q.q;for(var v=0;v<B.length;v++){var H=B[v],j=Q[H[0]],n=a[H[1]];
g.strokeStyle="#"+"ff0000";g.beginPath();var A=K.sb.aod(k,R[0],n,0,e),Z=K.sb.aod(F,R[1],j,0,e);g.moveTo(-l.x+A[0],-l.y+A[1]);
g.lineTo(-l.x+A[2],-l.y+A[3]);g.moveTo(I-D.x+Z[0],-D.y+_+Z[1]);g.lineTo(I-D.x+Z[2],-D.y+_+Z[3]);g.stroke()}}if(B){var J=B.length;
for(var v=0;v<J;v++){var H=B[v],j=Q[H[0]],n=a[H[1]];g.strokeStyle="#"+"ffff00"}}var s=new Uint8Array(g.getImageData(0,0,c.q,c._).data.buffer);
if(!1){for(var E=0;E<2;E++){var z=E==0?Q:a,h=E*U.q;for(var v=0;v<z.length;v++){var d=z[v],Y=~~d.x,C=~~d.y,i=(C*c.q+Y+h)*4;
s[i+1]=s[i+2]=d.aBj*60;s[i+0]=0;s[i+3]=255}}}return[s,c]};K.stack={};K.stack.stack=function(j,n,Q){var a=j.length,B=n.length;
if(a==1){n.set(j[0]);return}if(Q=="avrg"||Q=="stdv"||Q=="summ"||Q=="vari"){var m=1/a;for(var v=0;v<B;
v++){var R=0;for(var q=0;q<a;q++)R+=j[q][v];var U=~~(R*m+.5);if(Q=="avrg"||(v&3)==3)n[v]=U;else if(Q=="summ")n[v]=255*Math.pow(Math.min(255,R)*(1/255),1/2.4);
else{var l=0;for(var q=0;q<a;q++){var b=j[q][v]-U;l+=b*b}var D=Math.sqrt(l*m)*(1/255);if(Q=="stdv")n[v]=255*Math.pow(D,1/2.4);
else n[v]=255*Math.pow(D*D,1/2.4)}}}else if(Q=="maxx"){for(var v=0;v<B;v++){var c=0;for(var q=0;q<a;
q++)c=Math.max(c,j[q][v]);n[v]=c}}else if(Q=="minn"){for(var v=0;v<B;v++){var c=255;for(var q=0;q<a;
q++)c=Math.min(c,j[q][v]);n[v]=c}}else if(Q=="medn"||Q=="rang"){var _=function(F,k){return F-k},p=new Array(a),X=0,g=0;
if((a&1)==0){g=a>>>1;X=g-1}else{X=g=a>>>1}for(var v=0;v<B;v++){for(var q=0;q<a;q++)p[q]=j[q][v];p.sort(_);
if(Q=="medn")n[v]=p[X]+p[g]>>>1;else n[v]=(v&3)==3?p[a-1]:p[a-1]-p[0]}}else console.log(Q)};K.WM={};
K.WM.a0O=function(j,n,Q,a){var B=Date.now(),m=new Uint32Array(n*Q),R=new Uint8Array(n*Q);while(!0){R.fill(0);
m.fill(0);var q=[],U=0;for(var l=0;l<Q;l++){for(var b=0;b<n;b++){var v=l*n+b;if(R[v]==0){var D=q.length,c=K.WM.DH(j,n,Q,b,l,R,m,D);
q.push([D,b,l,c[0],c[1],j[v]]);if(c[0]<a)U++}}}if(U==0)break;var _=q.length,p=new UnionFind(_),X=[];
for(var v=0;v<_;v++)X.push([]);for(var v=0;v<_;v++){var c=q[v],g=c[4],F=0,k=0;if(c[3]>=a)continue;var D=c[0];
for(var I=0;I<g.length;I+=2){var e=m[g[I+1]*n+g[I]],H=q[e];if(H[3]>k){k=H[3];F=e}}if(p.find(D)!=p.find(F)){p.link(D,F);
X[D].push(F);X[F].push(D)}}var A=new Uint32Array(_);A.fill(4294967295);var Z=new Uint32Array(_);for(var v=0;
v<_;v++){if(A[v]!=4294967295||X[v].length==0)continue;var J=[v],s=[v],E=v,z=q[v][3];while(s.length!=0){var h=s.pop(),d=X[h];
for(var I=0;I<d.length;I++){var Y=d[I];if(J.indexOf(Y)==-1){J.push(Y);s.push(Y);var C=q[Y];if(C[3]>z){z=C[3];
E=Y}}}}for(var I=0;I<J.length;I++){A[J[I]]=E;var i=q[E];Z[J[I]]=j[i[2]*n+i[1]]}}for(var l=0;l<Q;l++)for(var b=0;
b<n;b++){var v=l*n+b,M=A[m[v]];if(M!=4294967295)j[v]=Z[M]}}};K.WM.DH=function(j,n,Q,a,B,m,R,q){var U=[a,B],l=j[B*n+a],b=0,D=[];
m[B*n+a]=1;while(U.length!=0){var c=U.pop(),_=U.pop(),v=c*n+_;R[v]=q;b++;if(c!=Q-1)if(j[v+n]==l){if(m[v+n]==0){U.push(_,c+1);
m[v+n]=1}}else D.push(_,c+1);if(c!=0)if(j[v-n]==l){if(m[v-n]==0){U.push(_,c-1);m[v-n]=1}}else D.push(_,c-1);
if(_!=n-1)if(j[v+1]==l){if(m[v+1]==0){U.push(_+1,c);m[v+1]=1}}else D.push(_+1,c);if(_!=0)if(j[v-1]==l){if(m[v-1]==0){U.push(_-1,c);
m[v-1]=1}}else D.push(_-1,c)}return[b,D]};K.WM.aFv=function(j,n,Q){var a=new Uint32Array(n*Q);for(var v=0;
v<a.length;v++)a[v]=j[v];var B=[];for(var m=0;m<Q;m++){for(var R=0;R<n;R++){var v=m*n+R,q=a[v];if(q<1e3){var U=K.WM.aD7(a,n,Q,R,m,1e3+B.length);
B.push([R,m,q,U,0])}}}for(var v=0;v<a.length;v++)a[v]-=1e3;var l=new Float32Array(n*Q);l.fill(n+Q);for(var m=0;
m<Q;m++)for(var R=0;R<n;R++){var v=m*n+R,q=a[v];if(R==0||m==0||a[v-1]!=q||a[v-n]!=q)l[v]=0;else{var b=Math.min(l[v],l[v-1]+1,l[v-n]+1);
if(a[v-n-1]==q)b=Math.min(b,l[v-n-1]+1.414);l[v]=b}}for(var m=Q-1;m>=0;m--)for(var R=n-1;R>=0;R--){var v=m*n+R,q=a[v];
if(R==n-1||m==Q-1||a[v+1]!=q||a[v+n]!=q)l[v]=0;else{var b=Math.min(l[v],l[v+1]+1,l[v+n]+1);if(a[v+n+1]==q)b=Math.min(b,l[v+n+1]+1.414);
l[v]=b}}for(var m=0;m<Q;m++)for(var R=0;R<n;R++){var v=m*n+R,D=B[a[v]];if(l[v]>D[4]){D[4]=l[v];D[0]=R;
D[1]=m}}return B};K.WM.aD7=function(j,n,Q,a,B,m){var R=[a,B],q=j[B*n+a],U=0;j[B*n+a]=4294967295;while(R.length!=0){var B=R.pop(),a=R.pop(),v=B*n+a;
U++;j[v]=m;if(B<Q-1&&j[v+n]==q){R.push(a,B+1);j[v+n]=4294967295}if(B>0&&j[v-n]==q){R.push(a,B-1);j[v-n]=4294967295}if(a>0&&j[v-1]==q){R.push(a-1,B);
j[v-1]=4294967295}if(a<n-1&&j[v+1]==q){R.push(a+1,B);j[v+1]=4294967295}}return U};K.WM.a3V=function(j,n,Q,a,B){var m=K.WM.aun(j.buffer,n,Q).Oc,R=Date.now(),q=[];
for(var v=0;v<m.length;v++){var U=m[v],l=1;for(var b=0;b<l;b++)q.push(U.RK)}var D=new Uint32Array(q),c=UPNG.quantize.getKDtree(new Uint8Array(D.buffer),a),_=[n,1,-n,-1,n+1,-n+1,-n-1,n-1,n+n,2,-n-n,-2,n+n-1,n+n+1,n+2,-n+2,-n-n+1,-n-n-1,-n-2,n-2,n+n+2,-n-n+2-n-n-2,n+n-2],p=new Uint8Array(n*Q),X=j;
for(var g=0;g<Q;g++)for(var F=0;F<n;F++){var v=g*n+F<<2,k=X[v]*(1/255),I=X[v+1]*(1/255),e=X[v+2]*(1/255),H=X[v+3]*(1/255),A=K.WM._M(c,k,I,e,H,B);
if(A==null){var Z=[],J=0;while(J<20){var s=g*n+F+_[J]<<2,E=X[s]*(1/255),z=X[s+1]*(1/255),h=X[s+2]*(1/255),d=X[s+3]*(1/255),Y=K.WM._M(c,E,z,h,d,.005);
if(Y!=null){if(Z.indexOf(Y)==-1){Z.push(Y);Y.qt=1}else Y.qt++}J++}Z.sort(function(H,e){return e.qt-H.qt});
while(Z.length!=0&&Z[Z.length-1].qt<3)Z.pop();if(Z.length==0)A=K.WM._M(c,k,I,e,H,100);else if(Z.length==1)A=Z[0];
else if(Z.length==2){var C=Z[0],i=Z[1],M=C.est.q,W=i.est.q,$=W[0]-M[0],P=W[1]-M[1],O=W[2]-M[2],G=W[3]-M[3],t=k-M[0],y=I-M[1],r=e-M[2],u=H-M[3],S=$*$+P*P+O*O+G*G,w=t*t+y*y+r*r+u*u,dj=(t*$+y*P+r*O+u*G)/S,o=w-dj*dj*S;
if(o<.5)A=dj<.5?C:i;else{A=K.WM._M(c,k,I,e,H,100)}}else{var C=Z[0],i=Z[1],T=Z[2],M=C.est.q,W=i.est.q,i6=T.est.q,bH=M[0]-i6[0],cg=M[1]-i6[1],bu=M[2]-i6[2],hH=M[3]-i6[3],dK=W[0]-i6[0],d8=W[1]-i6[1],d1=W[2]-i6[2],gH=W[3]-i6[3],kh=i6[0]-k,ay=i6[1]-I,dO=i6[2]-e,fy=i6[3]-H,bg=bH*bH+cg*cg+bu*bu+hH*hH,f4=bH*dK+cg*d8+bu*d1+hH*gH,jb=kh*bH+ay*cg+dO*bu+fy*hH,jT=bH*dK+cg*d8+bu*d1+hH*gH,jy=dK*dK+d8*d8+d1*d1+gH*gH,cl=kh*dK+ay*d8+dO*d1+fy*gH,hu=1/(f4*jT-bg*jy),dj=(jy*jb-cl*f4)*hu,aA=(cl*bg-jb*jT)*hu,ko=1-dj-aA,ec=Math.max(dj,aA,ko);
if(ec==dj)A=C;else if(ec==aA)A=i;else A=T}}p[v>>2]=A.ind}return{kc:p,Oc:c[1]}};K.WM.aun=function(j,n,Q){var a=[],B={},m=n-1,R=Q-1,q=0,U=new Uint32Array(j),l=[-n-1,-n,-n+1,-1,1,n-1,n,n+1,n+n,2,-n-n,-2,n+n-1,n+n+1,n+2,-n+2,-n-n+1,-n-n-1,-n-2,n-2,n+n+2,-n-n+2-n-n-2,n+n-2];
for(var b=1;b<R;b++)for(var D=1;D<m;D++){var c=b*n+D,_=U[c],p=!0;for(var v=0;v<8;v++)p=p&&U[c+l[v]]==_;
if(p){q++;var X=B[_];if(X==null){B[_]=a.length;a.push({RK:_,uN:1})}else a[X].uN++}}return{Oc:a,azx:q}};
K.WM._M=function(j,n,Q,a,B,m){var R=UPNG.quantize.getNearest(j[0],n,Q,a,B);return K.WM.a7N(R,n,Q,a,B)<m?R:null};
K.WM.a7N=function(j,n,Q,a,B){var m=j.est.q,R=n-m[0],q=Q-m[1],U=a-m[2],l=B-m[3];return R*R+q*q+U*U+l*l};
(function(){K.WM.u$=function(q,U,l,b,D){var c=q.JO,_=U*l,p=q.IG,X=q.kc,g=a(b,X,c,_),F=new UnionFind(c),Z=0;
for(var k=1;k<l;k++)for(var I=1;I<U;I++){var v=k*U+I,e=X[v],H=0;if((H=X[v-1])!=e&&g[H]==g[e]&&j(p,0,e*6,H*6)<D)F.link(e,H);
if((H=X[v-U])!=e&&g[H]==g[e]&&j(p,0,e*6,H*6)<D)F.link(e,H)}var A=new Uint16Array(c);A.fill(65535);var J=new Uint16Array(c);
for(var v=0;v<c;v++){var s=F.find(v);if(A[s]==65535)A[s]=Z++;J[v]=A[s]}var E=new Uint16Array(_);for(var v=0;
v<_;v++)E[v]=J[X[v]];return{kc:E,JO:Z}};K.WM.W8=function(q,U,l){var b=K.U(U),D=q.length;for(var v=0;
v<D;v++){var c=l[v];if(c==0||c==255){var _=q[v],p=2-(c>>>7),X=b[_]=b[_]|p;if(X==3)return _}}return-1};
function j(q,U,l,b){var D=1/q[l+5],c=1/q[b+5],_=q[l]*D-q[b]*c,p=q[l+1]*D-q[b+1]*c,X=q[l+2]*D-q[b+2]*c,g=q[l+3]*D-q[b+3]*c,F=q[l+4]*D-q[b+4]*c,k=Math.sqrt(_*_+p*p+X*X),I=Math.sqrt(g*g+F*F);
return~~(k+U*I+.5)}function n(q,U){var v=0,l=q.length;while(v!=l&&q[v]!=U)v+=2;return v==l?-1:v}function Q(q,v){if(v==q.length-2){q.pop();
q.pop()}else{q[v+1]=q.pop();q[v]=q.pop()}}K.WM.ayC=function(q,U,l,b,D){var c=new Uint32Array(D*4400),_=[];
for(var v=0;v<D;v++)_.push([]);for(var p=0;p<l;p++)for(var X=0;X<U;X++){var v=p*U+X,g=v<<2,F=b[v],k=0,I=q[g]>>>4,e=q[g+1]>>>4,H=q[g+2]>>>4;
c[F*4400+(I<<8|e<<4|H)]++;c[F*4400+4096]++;c[F*4400+4100+(I<<4|e)]++;c[F*4400+4360+I]++;if(X!=0&&(k=b[v-1])!=F&&n(_[F],k)==-1){_[F].push(k,0);
_[k].push(F,0)}if(p!=0&&(k=b[v-U])!=F&&n(_[F],k)==-1){_[F].push(k,0);_[k].push(F,0)}}for(var v=0;v<D;
v++){var H=_[v];for(var A=0;A<H.length;A+=2)H[A+1]=R(c,v,H[A])}return[c,_]};function a(q,U,l,b){var D=K.U(l);
for(var v=0;v<b;v++){var c=q[v];if(c==0||c==255)D[U[v]]=2-(c>>>7)}return D}K.WM.aC7=function(q,U,l,b,D,c,_){var p=U*l,X=_[0],g=_[1],F=new UnionFind(b),k=a(D,q,b,p),I=-1,e=!0,H=0;
for(var v=0;v<b;v++)if(k[v]==1){if(I==-1)I=v;else F.link(v,I)}if(I==-1){for(var v=0;v<p;v++)c[v]=D[v]==255?255:0;
return}while(e){while(e){e=!1;for(var v=0;v<b;v++){if(k[v]==0){var A=B(g[v]);if(k[A]==1){k[v]=k[A];e=!0;
F.link(v,A)}}}}e=!0;H=0;while(e){e=!1;for(var v=0;v<b;v++){if(k[v]==0){var A=B(g[v]);if(k[A]==0){var Z=v*4400,J=A*4400;
for(var s=0;s<4400;s+=2){X[Z+s]+=X[J+s];X[Z+s+1]+=X[J+s+1]}m(g,X,v,A);H++;k[A]=3;e=!0;F.link(v,A)}}}}e=H!=0}var E=F.find(I);
for(var v=0;v<b;v++)k[v]=F.find(v)==E?255:0;for(var v=0;v<p;v++){c[v]=k[q[v]]}for(var v=0;v<p;v++){var A=D[v];
if(A==0||A==255)c[v]=A}};function B(q){var U=0,l=0,b=q.length;for(var D=0;D<b;D+=2){var c=q[D+1];if(c>l){l=c;
U=D}}return q[U]}function m(q,U,l,b){var D=q[l],c=q[b];Q(D,n(D,b));Q(c,n(c,l));for(var v=0;v<c.length;
v+=2){var _=c[v],p=q[_];Q(p,n(p,b));if(n(p,l)==-1){p.push(l,0);D.push(_,0)}}for(var v=0;v<D.length;v+=2){var _=D[v],p=q[_],X=R(U,l,_);
D[v+1]=X;p[n(p,l)+1]=X}}function R(q,U,l){var b=0,D=4096,c=U*4400,_=l*4400;for(var p=0;p<16;p++){if(q[c+4360+p]==0||q[_+4360+p]==0)continue;
for(var X=0;X<16;X++){var g=p<<4|X;if(q[c+4100+g]==0||q[_+4100+g]==0)continue;var F=c+(g<<4),k=_+(g<<4);
for(var v=0;v<16;v++)b+=Math.sqrt(q[F+v]*q[k+v])}}var I=b/Math.sqrt(q[c+D]*q[_+D]);return~~(999.99999*I)}}());
K.WM.Hm=function(){var j,n,Q,R=0,q=0;function a(_,p,X){var g=[],F=X,k=X,I=X>>>2;for(var e=0;e<p;e++)for(var H=0;
H<_;H++){var A=~~((H+.5)*F),Z=~~((e+.5)*k),J=1e9,s=Math.max(0,A-I),E=Math.min(n,A+I+1),z=Math.max(0,Z-I),h=Math.min(Q,Z+I+1);
for(var d=z;d<h;d++)for(var Y=s;Y<E;Y++){var C=B(Y,d);if(C<J){A=Y;Z=d;J=C}}g.push(A,Z)}return g}function B(_,p){var X=(p*n+_)*4,g=n*4,F=m(X-4,X)+m(X,X+4),k=m(X-g,X)+m(X,X+g);
return F+k}function m(_,p){var X=j[_]-j[p],g=j[_+1]-j[p+1],F=j[_+2]-j[p+2];return X*X+g*g+F*F}function U(_,p,X,g){q++;
if(g<R)R=g;_[g].push(p,X)}function l(_){q--;while(_[R].length==0)R++}function b(_,p,X,g,F){var k=(X*n+p)*4,I=g[F+5],e=1/I,H=j[k]*I-g[F],A=j[k+1]*I-g[F+1],Z=j[k+2]*I-g[F+2],J=p*I-g[F+3],s=X*I-g[F+4],E=Math.sqrt(H*H+A*A+Z*Z),z=Math.sqrt(J*J+s*s);
return~~((E+_*z)*e+.5)}function D(_,p,X,g,F){j=_;n=p;Q=X;R=0;q=0;var k=n*Q,I=Math.round(Math.min(n,Q)/(g?g:30));
if(I==0)I=1;var e=(F?F:30)/I,H=Math.floor(n/I),A=Math.floor(Q/I),Z=new Uint16Array(k);for(var v=0;v<k;
v++)Z[v]=65535;var J=a(H,A,I),s=J.length>>>1;if(s>65535)throw s;var E=new Uint32Array(s*6),z=[];for(var v=0;
v<1e3+Q;v++)z.push([]);var h=1e3*700/(n*Q),d=Math.floor(A*h);d=Math.min(A,Math.max(4,d));d=A;var E=new Uint32Array(s*6);
for(var Y=0;Y<A;Y+=d){var C=Math.min(Y+d,A);for(var i=Y;i<C;i++)for(var M=0;M<H;M++){var v=i*H+M;U(z,J[v*2+1]<<16|J[v*2],v,0)}var W=Math.min(Q,C*I);
if(Y+d>=A)W=Q;c(E,z,Z,e,W)}j=null;return{kc:Z,JO:s,IG:E,aBh:e}}function c(_,p,X,g,F){while(q!=0){l(p);
var k=p[R].pop(),I=p[R].pop(),e=I>>>16,H=I&65535,v=e*n+H;if(X[v]==null)throw"e";if(X[v]==65535){var A=k*6,Z=v<<2;
X[v]=k;_[A]+=j[Z];_[A+1]+=j[Z+1];_[A+2]+=j[Z+2];_[A+3]+=H;_[A+4]+=e;_[A+5]++;if(e!=F-1&&X[v+n]==65535)U(p,e+1<<16|H,k,b(g,H,e+1,_,A));
if(e!=0&&X[v-n]==65535)U(p,e-1<<16|H,k,b(g,H,e-1,_,A));if(H!=0&&X[v-1]==65535)U(p,e<<16|H-1,k,b(g,H-1,e,_,A));
if(H!=n-1&&X[v+1]==65535)U(p,e<<16|H+1,k,b(g,H+1,e,_,A))}}}D.mG=function(_,p,X,g,F,k){j=_;n=p;Q=X;var I=g.JO=g.JO+1,e=g.kc,H=g.IG,A=g.IG=new Uint32Array(I*6);
A.set(H,0);var Z=e[F[1]*n+F[0]];for(var v=0;v<e.length;v++)if(e[v]==Z)e[v]=65535;for(var v=0;v<6;v++)A[Z*6+v]=0;
var J=[];for(var v=0;v<1e3+Q;v++)J.push([]);for(var v=0;v<F.length;v+=2)U(J,F[v+1]<<16|F[v],Z,0);for(var v=0;
v<k.length;v+=2)U(J,k[v+1]<<16|k[v],I-1,0);c(A,J,e,g.aBh,Q);j=null};return D}();K.ah9={};K.ah9.azp=function(){var j=11,n=7,Q=j>>>1,dv=n>>>1,a=2,B=2e3/a,m=[],q=null,U="";
function R(b,D,c){var _=(b[D+0]-b[c+0])*(1/255),p=(b[D+1]-b[c+1])*(1/255),X=(b[D+2]-b[c+2])*(1/255),g=(b[D+3]-b[c+3])*(1/255),F=_*_*.125+p*p*.25+X*X*.5+g*g;
return m[~~(F*B)]}function l(b,D,c,_,p,X){var g=Date.now(),F=K.U(D*c);K.AS(b,F);var k=UZIP.adler(F,0,D*c);
if(k!=U){var I=K.le(F,D,c);q=K.U(D*c*4);U=k;var e=[1,1/9,1/25,1/49,1/81];for(var H=0;H<c;H++)for(var A=0;
A<D;A++)for(var v=0;v<4;v++){var Z=Math.max(1,A-v),J=Math.min(D-1,A+v),s=Math.max(1,H-v),E=Math.min(c-1,H+v),z=K.B$(I,D,Z,J,s,E);
if(isNaN(z))throw A+","+H+","+v+","+z;q[(H*D+A)*4+v]=z*e[v]}}if(gz.oB){var h=gz.cy(0,D,c);h.set(b);var d=gz.cy(1,D,c);
d.set(q);var Y=gz.cy(2,D,c);gz.Rf(Y);gz.filter.df({w:gz.filter.anh,CT:new Float32Array([1/D,1/c]),axC:d.K8,aFL:p,aeG:X},h.K8);
Y.get(_)}else{for(var v=0;v<2e3;v++)m[v]=Math.exp(-(v/2e3)*a*(100+(1-p)*(1-p)*1e4));var C=dv+2;for(var H=C;
H<c-C;H++)for(var A=C;A<D-C;A++){var i=0,M=0,W=0,$=0;for(var P=0;P<j;P++)for(var O=0;O<j;O++){var G=A+O-Q,t=H+P-Q;
if(G==A&&t==H||G<C||t<C||G>=D-C||t>=c-C)continue;var y=R(q,(H*D+A)*4,(t*D+G)*4),r=t*D+G<<2;i+=y*b[r+0];
M+=y*b[r+1];W+=y*b[r+2];$+=y}if($==0){continue}var u=1/$,S=(H*D+A)*4;_[S+0]=~~((1-X)*u*i+X*_[S+0]);_[S+1]=~~((1-X)*u*M+X*_[S+1]);
_[S+2]=~~((1-X)*u*W+X*_[S+2])}}}return l}();K.a95=function(){var j=6,n=j>>>1,Q=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],a=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function B(X,g){var F=!1,k=X.length,I=g[0],Z=5,s=0,E=0;for(var v=1;v<k;v++)I=I.d_(g[v]);if((I.q&1)!=0)I.q++;
if((I._&1)!=0)I._++;var e=I.q,H=I._,A=Math.max(e,H);while(A>>>Z>8&&Z<10)Z++;var J=1<<Z;if(e%J!=0)s=J-e%J;
if(H%J!=0)E=J-H%J;I.VT(s>>>1,E>>>1);e=I.q;H=I._;if(e%J!=0||H%J!=0)throw"e";var z=Date.now(),h=[],d=K.U(I.$()),Y=[],C=e*H,i=new Float32Array(e*H*2);
for(var v=0;v<k;v++){var M=g[v],W=K.U(M.$());K.AS(X[v],W);d.fill(0);K.Gc(W,M,d,I);h.push(d.slice(0));
var $=M.x-I.x,P=M.y-I.y,O=$+M.q-2,G=P+M._;for(var t=0;t<M._;t++){var y=(t+P)*e;for(var r=0;r<$;r++)d[y+r]=d[y+$];
for(var r=O;r<e;r++)d[y+r]=d[y+O-1]}for(var r=0;r<e;r++){for(var t=0;t<P;t++)d[t*e+r]=d[P*e+r];for(var t=G;
t<H;t++)d[t*e+r]=d[(G-1)*e+r]}var u=new Float32Array(e*H*2);Y.push(u);for(var S=0;S<C;S++)u[S*2]=d[S]*(1/255);
U(u,i,e,H,Z);m(u,e,H,Z)}if(F)console.log("to gray, decompose",Date.now()-z);z=Date.now();var w=K.U(e*H);
for(var t=0;t<H;t++)for(var r=0;r<e;r++){var dj=0,o=0,T=t*e+r<<1;for(var v=0;v<k;v++){var i6=Y[v],bH=i6[T],cg=i6[T+1],bu=bH*bH+cg*cg;
if(bu>o){o=bu;dj=v}}w[T>>>1]=dj}if(F)console.log("max abs value",Date.now()-z);z=Date.now();R(w,e,H,Z);
q(w,e,H);if(F)console.log("denoise",Date.now()-z);z=Date.now();var hH=i.slice(0);for(var t=0;t<H;t++)for(var r=0;
r<e;r++){var v=t*e+r,T=v<<1,dK=Y[w[v]];hH[T]=dK[T];hH[T+1]=dK[T+1]}l(hH,i,e,H,Z);if(F)console.log("compose",Date.now()-z);
z=Date.now();for(var S=0;S<C;S++){var bu=hH[S*2]*255,dj=0,o=1e9;for(var v=0;v<k;v++){var d8=Math.abs(h[v][S]-bu);
if(d8<o){o=d8;dj=v}h[v][S]=0}h[dj][S]=255}if(F)console.log("toRGB",Date.now()-z);z=Date.now();return[h,I]}function m(X,g,F,k){var I=g>>>k,e=F>>>k,H=1e-4;
for(var A=0;A<F;A++)for(var Z=0;Z<g;Z++){if(Z<I&&A<e)continue;var J=(A*g+Z)*2,s=X[J],E=X[J+1],z=s*s+E*E;
if(z<H)s=E=0;else{var h=(z-H)/z;s*=h;E*=h}X[J]=s;X[J+1]=E}}function R(X,g,F,k){for(var I=0;I<k;I++){var e=g>>>I,H=F>>>I,A=e>>>1,Z=H>>>1;
for(var J=0;J<Z;J++)for(var s=0;s<A;s++){var E=J*g+A+s,z=(J+Z)*g+A+s,h=(J+Z)*g+s,d=X[E],Y=X[z],C=X[h];
if(d==Y==C){}else if(d==Y)X[h]=d;else if(Y==C)X[E]=Y;else if(d==C)X[z]=d}}}function q(X,g,F){for(var k=1;
k<F-1;k++)for(var I=1;I<g-1;I++){var v=k*g+I,e=X[v-g],H=X[v-1],A=X[v],Z=X[v+1],J=X[v+g],s=e==H&&e==Z||e==Z&&Z==J||Z==J&&H==J||e==H&&J==H;
if(s)X[v]=e==H?e:H==Z?H:e;else if(A>e&&A>H&&A>Z&&A>J)X[v]=e+H+Z+J>>>2;else if(A<e&&A<H&&A<Z&&A<J)X[v]=e+H+Z+J>>>2}}function U(X,g,F,k,I){for(var v=0;
v<I;v++){var e=F>>>v,H=k>>>v;b(X,g,F,k,e,H)}}function l(X,g,F,k,I){for(var v=I-1;v>=0;v--){var e=F>>v,H=k>>v;
D(X,g,F,k,e,H)}}function b(X,g,F,k,I,e){_(X,g,F,k,I,e,!0);_(g,X,F,k,I,e,!1)}function D(X,g,F,k,I,e){p(X,g,F,k,I,e,!0);
p(g,X,F,k,I,e,!1)}function c(X,g,F,k,I,e){var H=F*k+g<<1;X[H]=I;X[H+1]=e}function _(X,g,F,k,I,e,H){var jw=H?I:e,A=H?e:I,Z=A>>>1;
for(var J=0;J<jw;J++){for(var s=0;s<A;s+=2){var E=0,z=0,h=0,d=0,Y=s>>>1;for(var C=0;C<6;C++){var i=s+C-3;
if(i<0)i=A+i;if(i>=A)i=i-A;var M=(H?i*F+J:J*F+i)<<1,W=X[M],$=X[M+1],P=Q[C],O=a[C];E+=W*P[0]-$*P[1];z+=$*P[0]+W*P[1];
h+=W*O[0]-$*O[1];d+=$*O[0]+W*O[1]}if(H){c(g,J,Y,F,E,z);c(g,J,Y+Z,F,h,d)}else{c(g,Y,J,F,E,z);c(g,Y+Z,J,F,h,d)}}}}function p(X,g,F,k,I,e,H){var jw=H?I:e,A=H?e:I,Z=A>>>1,J,s,E,z;
for(var h=0;h<jw;h++){for(var d=0;d<A;d++){var Y=0,C=0;for(var i=d+3&1;i<6;i+=2){var M=d-i+3>>1;if(M<0)M=Z+M;
if(M>=Z)M=M-Z;if(H){J=h;s=M;E=h;z=M+Z}else{s=h;J=M;z=h;E=M+Z}var W=s*F+J<<1,$=z*F+E<<1,P=X[W],O=X[W+1],G=X[$],t=X[$+1],y=Q[i],r=a[i];
Y+=P*y[0]+G*r[0];Y+=O*y[1]+t*r[1];C+=O*y[0]+t*r[0];C-=P*y[1]+G*r[1]}if(H)c(g,h,d,F,Y,C);else c(g,d,h,F,Y,C)}}}return{Yk:B}}();
K.asC=function(){var j=Math.floor(12e3/8),n=UPNG.quantize.findNearest,Q,a,B,m;function R(c,_,p,X){var g=[c,new b4(0,0,_,p)],k;
K.xu(g);var F=Date.now(),I=_+p>>>1;for(var v=I<1e3?2:4;v>=0;v-=2){var e=g[v+1],a=e.q,B=e._;if(k==null){k=new Uint8Array(a*B);
n(g[v],k,X)}q(g[v],a,B,X,k);if(v!=0){var H=g[v-1],A=H.q,Z=H._,J=new Uint8Array(A*Z);for(var s=0;s<Z;
s++)for(var E=0;E<A;E++)J[s*A+E]=k[(s>>>1)*a+(E>>>1)];k=J}}return k}function q(c,_,p,X,g){Q=c;a=_;B=p;
m=X;var F=m.length>>>2,k=[-1,-a,1,a],I=[-1,-a,-a+1,2,a+1,a],e=[-1,-a,1,a+1,a+a,a-1],H=8,A=a+B>>>1,Z=1e9;
while(A>512){H>>=1;A>>=1}H=Math.max(1,Math.min(4,H));for(var J=0;J<H;J++){var s=0;for(var E=0;E<B;E++)for(var z=0;
z<a;z++){if(b(g,z,E)<2)continue;var h=E*a+z,d=g[h],Y=1e9,C=0,i=z==0||E==0||z>a-3||E>B-3;if(i){Y=1e9;
for(var v=0;v<F;v++){g[h]=v;var M=D(g,z,E,2);if(M<Y){Y=M;C=v}}g[h]=C;if(C==d&&z+1<a&&g[h+1]==d){Y=1e9;
for(var v=0;v<F;v++){g[h]=g[h+1]=v;var M=D(g,z,E,2)+D(g,z+1,E,2);if(M<Y){Y=M;C=v}}g[h]=g[h+1]=C}if(C==d&&E+1<B&&g[h+a]==d){Y=1e9;
for(var v=0;v<F;v++){g[h]=g[h+a]=v;var M=D(g,z,E,2)+D(g,z,E+1,2);if(M<Y){Y=M;C=v}}g[h]=g[h+a]=C}}else{Y=1e9;
C=-1;for(var v=0;v<4;v++){var W=g[h+k[v]];if(W==C)continue;g[h]=W;var M=D(g,z,E,2);if(M<Y){Y=M;C=W}}g[h]=C;
if(C==d&&z+1<a&&g[h+1]==d){Y=1e9;C=-1;for(var v=0;v<6;v++){var W=g[h+I[v]];if(W==C)continue;g[h]=g[h+1]=W;
var M=D(g,z,E,2)+D(g,z+1,E,2);if(M<Y){Y=M;C=W}}g[h]=g[h+1]=C}if(C==d&&E+1<B&&g[h+a]==d){Y=1e9;C=-1;for(var v=0;
v<6;v++){var W=g[h+e[v]];if(W==C)continue;g[h]=g[h+a]=W;var M=D(g,z,E,2)+D(g,z,E+1,2);if(M<Y){Y=M;C=W}}g[h]=g[h+a]=C}}s+=Y}}}function U(c){var _=0;
for(var p=0;p<B;p++)for(var X=0;X<a;X++)_+=D(c,X,p,1);return _/(a*B)}function l(c,_,p){var v=p*a+_,X=v*4,g=c[v]*4,F=Q[X]-m[g],k=Q[X+1]-m[g+1],I=Q[X+2]-m[g+2],e=Q[X+3]-m[g+3];
return F*F+k*k+I*I+e*e}function b(c,_,p){if(_<0||_>=a||p<0||p>=B)throw"e";var v=p*a+_,X=c[v],g=0;if(p>0&&X!=c[v-a])g+=2;
if(_>0&&X!=c[v-1])g+=2;if(_<a-1&&X!=c[v+1])g+=2;if(p<B-1&&X!=c[v+a])g+=2;if(p>0&&_>0&&X!=c[v-a-1])g++;
if(p<B-1&&_>0&&X!=c[v+a-1])g++;if(p>0&&_<a-1&&X!=c[v-a+1])g++;if(p<B-1&&_<a-1&&X!=c[v+a+1])g++;return g}function D(c,_,p,X){return l(c,_,p)+b(c,_,p)*X*j}return R}();
var cc=function(){function j(){this.$=0;this.tq=0;this.Hj={};this.ra=[];this.Vp=1e5;this.S8=1e5;this.Dv=-1;
this.XB=-1;this.color=0}function n(dv){this.Ov=dv;this.y7=new Array(dv);this.RK=new Array(dv*6);this.a1H=0;
this.rL=new Array(dv*2);this.alpha=new Array(dv);this.mp=new Array(dv);this.ak=new Array(dv)}function Q(B,m,R,q){function U(g,F,B,m){return B[m*F+g]}function l(v){var Z=B.length;
while(v<Z&&B[v]==0)v++;return v<Z?v:-1}function b(g,F,Z){for(var v=2;v<5;v++){var J=0;for(var s=-v+1;
s<=v-1;s++){J+=U(g+s,F+v-1,B,m)==Z?1:-1;J+=U(g+v-1,F+s-1,B,m)==Z?1:-1;J+=U(g+s-1,F-v,B,m)==Z?1:-1;J+=U(g-v,F+s,B,m)==Z?1:-1}if(J>0)return 1;
else if(J<0)return 0}return 0}function D(Z,p){var X=new j,g=Z,F=p,J=0,s=1,E;X.color=B[p*m+Z];X.sign=U(Z,p,B,m)==X.color?"+":"-";
while(1){X.ra.push(g,F);if(g>X.Dv)X.Dv=g;if(g<X.Vp)X.Vp=g;if(F>X.XB)X.XB=F;if(F<X.S8)X.S8=F;X.tq++;g+=J;
F+=s;X.$-=g*s;if(g==Z&&F==p)break;var z=U(g+(J+s-1>>1),F+(s-J-1>>1),B,m)==X.color,h=U(g+(J-s-1>>1),F+(s+J-1>>1),B,m)==X.color;
if(h&&!z){if(q.X6=="right"||q.X6=="black"&&X.sign=="+"||q.X6=="white"&&X.sign=="-"||q.X6=="majority"&&b(g,F,X.color)||q.X6=="minority"&&!b(g,F,X.color)){E=J;
J=-s;s=E}else{E=J;J=s;s=-E}}else if(h){E=J;J=-s;s=E}else if(!z){E=J;J=s;s=-E}}return X}var c=0,_=[];
while(!0){var c=l(c);if(c==-1)break;var p=Math.floor(c/m),X=D(c-p*m,p);for(var v=0;v<X.ra.length-2;v+=2){var g=X.ra[v],F=X.ra[v+1],k=F*m+g;
if(g==X.ra[v+2]&&F+1==X.ra[v+3]&&B[k]!=0)cc.fill(k,B,m,0)}if(X.$>q.aiq)_.push(X)}for(var v=0;v<_.length;
v++)_[v].parent=-1;var I=Date.now();for(var v=1;v<_.length;v++){var e=_[v];for(var H=v-1;H>=0;H--){var A=_[H];
if(e.Vp<A.Vp||e.Dv>A.Dv||e.S8<A.S8||e.XB>A.XB)continue;if(!cc.fZ(A.ra,e.ra[0]+.5,e.ra[1]+.5))continue;
e.parent=H;break}}return _}function a(B,m){function R(J,s,E,z,h){this.x=J;this.y=s;this.AB=E;this.Kk=z;
this._3=h}function q(J,dv){return(dv+J)%dv}function U(J,s,E,z){return J*z-E*s}function l(J,s,E,z){return J*E+s*z}function b(J,s,E){if(J<=E)return J<=s&&s<E;
else return J<=s||s<E}function D(J,s,E){var z=0;z+=s*J[0]*s;z+=s*J[1]*E;z+=s*J[2];z+=E*J[3]*s;z+=E*J[4]*E;
z+=E*J[5];z+=J[6]*s;z+=J[7]*E;z+=J[8];return z}function c(J,s,E){return s+J*(E-s)}function _(J,s,E,z){var h=Math.sign(E-J),d=-Math.sign(z-s);
return h*(E-J)-d*(z-s)}function p(J,s){return Math.sqrt(J*J+s*s)}function X(J,s,E,z,h){var d=1-J;return d*d*d*s+3*(d*d*J)*E+3*(J*J*d)*z+J*J*J*h}function g(J,s,E,z,h,d,Y,C){var i=U(J,s,Y,C),M=U(E,z,Y,C),W=U(h,d,Y,C),$=i-2*M+W,P=-2*i+2*M,O=i,G=P*P-4*$*O;
if($==0||G<0)return-1;var t=Math.sqrt(G),y=(-P+t)/(2*$),r=(-P-t)/(2*$);if(y>=0&&y<=1)return y;else if(r>=0&&r<=1)return r;
else return-1}function F(Z){var v,J,s;Z.es=Z.ra[0];Z.anG=Z.ra[1];Z.Zr=[];var E=Z.Zr;E.push(new R(0,0,0,0,0));
for(v=0;v<Z.tq;v++){J=Z.ra[v<<1]-Z.es;s=Z.ra[(v<<1)+1]-Z.anG;E.push(new R(E[v].x+J,E[v].y+s,E[v].AB+J*s,E[v].Kk+J*J,E[v]._3+s*s))}}function k(Z){var dv=Z.tq,J=Z.ra,s,E=new Array(dv),z=new Array(dv),h=new Array(4),d,Y,C,i,M,W,$,P,O,G,t,v,y,r,u,S,w,dj,o=0;
Z.EL=new Array(dv);for(v=dv-1;v>=0;v--){if(J[v<<1]!=J[o<<1]&&J[(v<<1)+1]!=J[(o<<1)+1])o=v+1;z[v]=o}for(v=dv-1;
v>=0;v--){var T=q(v+1,dv)<<1;h[0]=h[1]=h[2]=h[3]=0;s=(3+3*(J[T]-J[v<<1])+(J[T+1]-J[(v<<1)+1]))/2;h[s]++;
d=0;Y=0;C=0;i=0;o=z[v];r=v;while(1){t=0;s=(3+3*Math.sign(J[o*2]-J[r*2])+Math.sign(J[o*2+1]-J[r*2+1]))/2;
h[s]++;if(h[0]&&h[1]&&h[2]&&h[3]){E[v]=r;t=1;break}O=J[o*2]-J[v*2];G=J[o*2+1]-J[v*2+1];if(U(d,Y,O,G)<0||U(C,i,O,G)>0){break}if(Math.abs(O)<=1&&Math.abs(G)<=1){}else{M=O+(G>=0&&(G>0||O<0)?1:-1);
W=G+(O<=0&&(O<0||G<0)?1:-1);if(U(d,Y,M,W)>=0){d=M;Y=W}M=O+(G<=0&&(G<0||O<0)?1:-1);W=G+(O>=0&&(O>0||G<0)?1:-1);
if(U(C,i,M,W)<=0){C=M;i=W}}r=o;o=z[r];if(!b(o,v,r)){break}}if(t==0){$=Math.sign(J[o*2]-J[r*2]);P=Math.sign(J[o*2+1]-J[r*2+1]);
O=J[r*2]-J[v*2];G=J[r*2+1]-J[v*2+1];u=U(d,Y,O,G);S=U(d,Y,$,P);w=U(C,i,O,G);dj=U(C,i,$,P);y=1e7;if(S<0){y=Math.floor(u/-S)}if(dj>0){y=Math.min(y,Math.floor(-w/dj))}E[v]=q(r+y,dv)}}y=E[dv-1];
Z.EL[dv-1]=y;for(v=dv-2;v>=0;v--){if(b(v+1,E[v],y)){y=E[v]}Z.EL[v]=y}for(v=dv-1;b(q(v+1,dv),y,Z.EL[v]);
v--){Z.EL[v]=y}}function I(Z){function J(Z,v,s){var dv=Z.tq,O=Z.ra,G=Z.Zr,t,y,r,u,S,z,w,dj,P,o,T,i6,bH,cg,bu=0;
if(s>=dv){s-=dv;bu=1}if(bu==0){t=G[s+1].x-G[v].x;y=G[s+1].y-G[v].y;u=G[s+1].Kk-G[v].Kk;r=G[s+1].AB-G[v].AB;
S=G[s+1]._3-G[v]._3;z=s+1-v}else{t=G[s+1].x-G[v].x+G[dv].x;y=G[s+1].y-G[v].y+G[dv].y;u=G[s+1].Kk-G[v].Kk+G[dv].Kk;
r=G[s+1].AB-G[v].AB+G[dv].AB;S=G[s+1]._3-G[v]._3+G[dv]._3;z=s+1-v+dv}T=(O[v<<1]+O[s<<1])/2-O[0];i6=(O[(v<<1)+1]+O[(s<<1)+1])/2-O[1];
cg=O[s<<1]-O[v<<1];bH=-(O[(s<<1)+1]-O[(v<<1)+1]);w=(u-2*t*T)/z+T*T;dj=(r-t*i6-y*T)/z+T*i6;P=(S-2*y*i6)/z+i6*i6;
o=bH*bH*w+2*bH*cg*dj+cg*cg*P;return Math.sqrt(o)}var v,s,E,z,dv=Z.tq,h=new Array(dv+1),d=new Array(dv+1),Y=new Array(dv),C=new Array(dv+1),i=new Array(dv+1),M=new Array(dv+1),W,$,P;
for(v=0;v<dv;v++){P=q(Z.EL[q(v-1,dv)]-1,dv);if(P==v){P=q(v+1,dv)}if(P<v){Y[v]=dv}else{Y[v]=P}}s=1;for(v=0;
v<dv;v++){while(s<=Y[v]){C[s]=v;s++}}v=0;for(s=0;v<dv;s++){i[s]=v;v=Y[v]}i[s]=dv;E=s;v=dv;for(s=E;s>0;
s--){M[s]=v;v=C[v]}M[0]=0;h[0]=0;for(s=1;s<=E;s++){for(v=M[s];v<=i[s];v++){$=-1;for(z=i[s-1];z>=C[v];
z--){W=J(Z,z,v)+h[z];if($<0||W<$){d[v]=z;$=W}}h[v]=$}}Z.aIe=E;Z.aa1=new Array(E);for(v=dv,s=E-1;v>0;
s--){v=d[v];Z.aa1[s]=v}}function e(Z){function J(Z,v,W,Y,C,hH){var dv=Z.tq,dK=Z.Zr,d8=0,P;while(W>=dv){W-=dv;
d8+=1}while(v>=dv){v-=dv;d8-=1}while(W<0){W+=dv;d8-=1}while(v<0){v+=dv;d8+=1}var d1=dK[W+1].x-dK[v].x+d8*dK[dv].x,gH=dK[W+1].y-dK[v].y+d8*dK[dv].y,kh=dK[W+1].Kk-dK[v].Kk+d8*dK[dv].Kk,ay=dK[W+1].AB-dK[v].AB+d8*dK[dv].AB,dO=dK[W+1]._3-dK[v]._3+d8*dK[dv]._3,$=W+1-v+d8*dv;
Y[hH]=d1/$;Y[hH+1]=gH/$;var fy=(kh-d1*d1/$)/$,bg=(ay-d1*gH/$)/$,f4=(dO-gH*gH/$)/$,jb=(fy+f4+Math.sqrt((fy-f4)*(fy-f4)+4*bg*bg))/2;
fy-=jb;f4-=jb;if(Math.abs(fy)>=Math.abs(f4)){P=Math.sqrt(fy*fy+bg*bg);if(P!=0){C[hH]=-bg/P;C[hH+1]=fy/P}}else{P=Math.sqrt(f4*f4+bg*bg);
if(P!=0){C[hH]=-f4/P;C[hH+1]=bg/P}}if(P==0){C[hH]=C[hH+1]=0}}var s=Z.aIe,E=Z.aa1,dv=Z.tq,z=Z.ra,h=Z.es,d=Z.anG,Y=new Array(s*2),C=new Array(s*2),i=new Array(s),M=new Array(3),v,W,$,P,y,r,u,S,w,dj,o;
Z.Hj=new n(s);for(v=0;v<s;v++){W=E[q(v+1,s)];W=q(W-E[v],dv)+E[v];Y[v<<1]=0;Y[(v<<1)+1]=0;C[v<<1]=0;C[(v<<1)+1]=0;
J(Z,E[v],W,Y,C,v<<1)}for(v=0;v<s;v++){i[v]=[0,0,0,0,0,0,0,0,0];var O=C[v<<1]*C[v<<1]+C[(v<<1)+1]*C[(v<<1)+1],G=1/O;
if(O!=0){M[0]=C[(v<<1)+1];M[1]=-C[v<<1];M[2]=-M[1]*Y[(v<<1)+1]-M[0]*Y[v<<1];for(P=0;P<3;P++){i[v][P*3+0]=M[P]*M[0]*G;
i[v][P*3+1]=M[P]*M[1]*G;i[v][P*3+2]=M[P]*M[2]*G}}}var t=[0,0,0,0,0,0,0,0,0];for(v=0;v<s;v++){t[0]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=0;
var T=z[E[v]<<1]-h,i6=z[(E[v]<<1)+1]-d,bH=0,cg=0;W=q(v-1,s);for(P=0;P<9;P+=3){t[P+0]=i[W][P+0]+i[v][P+0];
t[P+1]=i[W][P+1]+i[v][P+1];t[P+2]=i[W][P+2]+i[v][P+2]}while(1){var bu=t[0]*t[4]-t[1]*t[3];if(bu!=0){bH=(-t[2]*t[4]+t[5]*t[0])/bu;
cg=(t[2]*t[3]-t[5]*t[0])/bu;break}if(t[0]>t[4]){M[0]=-t[1];M[1]=t[0]}else if(t[4]){M[0]=-t[4];M[1]=t[3]}else{M[0]=1;
M[1]=0}var O=M[0]*M[0]+M[1]*M[1],G=1/O;M[2]=-M[1]*i6-M[0]*T;for(P=0;P<3;P++){t[P*3+0]+=M[P]*M[0]*G;t[P*3+1]+=M[P]*M[1]*G;
t[P*3+2]+=M[P]*M[2]*G}}y=Math.abs(bH-T);r=Math.abs(cg-i6);if(y<=.5&&r<=.5){Z.Hj.rL[v<<1]=bH+h;Z.Hj.rL[(v<<1)+1]=cg+d;
continue}u=D(t,T,i6);w=T;dj=i6;if(t[0]!=0){for(o=0;o<2;o++){cg=i6-.5+o;bH=-(t[1]*cg+t[2])/t[0];y=Math.abs(bH-T);
S=D(t,bH,cg);if(y<=.5&&S<u){u=S;w=bH;dj=cg}}}if(t[4]!=0){for(o=0;o<2;o++){bH=T-.5+o;cg=-(t[3]*bH+t[5])/t[4];
r=Math.abs(cg-i6);S=D(t,bH,cg);if(r<=.5&&S<u){u=S;w=bH;dj=cg}}}for(P=0;P<2;P++){for($=0;$<2;$++){bH=T-.5+P;
cg=i6-.5+$;S=D(t,bH,cg);if(S<u){u=S;w=bH;dj=cg}}}Z.Hj.rL[v<<1]=w+h;Z.Hj.rL[(v<<1)+1]=dj+d}}function H(Z){var J=Z.Hj.Ov,s=Z.Hj,v,E,z,h,d,Y,C,i,M;
for(v=0;v<J;v++){E=q(v+1,J);z=q(v+2,J);var W=s.rL[v<<1],$=s.rL[(v<<1)+1],P=s.rL[z<<1],O=s.rL[(z<<1)+1],G=s.rL[E<<1],t=s.rL[(E<<1)+1],y=c(.5,P,G),r=c(.5,O,t);
d=_(W,$,P,O);if(d!=0){h=U(G-W,t-$,P-W,O-$)/d;h=Math.abs(h);Y=h>1?1-1/h:0;Y=Y*(1/.75)}else{Y=4/3}s.mp[E]=Y;
var u=3*E<<1;if(Y>=m.asM){s.y7[E]=0;s.RK[u+0]=s.RK[u+1]=0;s.RK[u+2]=G;s.RK[u+3]=t;s.RK[u+4]=y;s.RK[u+5]=r}else{if(Y<.55){Y=.55}else if(Y>1){Y=1}var S=.5+.5*Y;
s.y7[E]=1;s.RK[u]=c(S,W,G);s.RK[u+1]=c(S,$,t);s.RK[u+2]=c(S,P,G);s.RK[u+3]=c(S,O,t);s.RK[u+4]=y;s.RK[u+5]=r}s.alpha[E]=Y;
s.ak[E]=.5}s.asi=1}function A(Z){function J(){this.PM=0;this.u2=0;this.W$=0;this.QD=0;this.r6=0;this.xE=0;
this.bD=0;this.alpha=0}function s(Z,v,W,jy,cl,w,dj){var z=Z.Hj.Ov,hu=Z.Hj.RK,aA=Z.Hj.rL;if(v==W)return 1;
var ko=v,G=q(v+1,z),ec=q(ko+1,z),ay=aA[v<<1],dO=aA[(v<<1)+1],kK=aA[G<<1],cM=aA[(G<<1)+1],gG=w[ec];if(gG==0)return 1;
var c2=p(ay-kK,dO-cM);for(ko=ec;ko!=W;ko=ec){var ec=q(ko+1,z),a1=q(ko+2,z),cs=aA[ec<<1],f7=aA[(ec<<1)+1],j7=aA[a1<<1],dz=aA[(a1<<1)+1];
if(w[ec]!=gG)return 1;if(Math.sign(U(kK-ay,cM-dO,j7-cs,dz-f7))!=gG)return 1;if(l(kK-ay,cM-dO,j7-cs,dz-f7)<c2*p(cs-j7,f7-dz)*-.999847695156)return 1}var iA=q(v,z)*3+2<<1,kk=q(v+1,z)<<1,fA=q(W,z)<<1,g5=q(W,z)*3+2<<1,hH=hu[iA],dK=hu[iA+1],h$=aA[kk],hL=aA[kk+1],ha=aA[fA],jl=aA[fA+1],fI=hu[g5],aE=hu[g5+1],o=aA[0],T=aA[1];
iA=W*3+2<<1;var es=hu[iA],kN=hu[iA+1],t=dj[W]-dj[v];t-=U(es-o,kN-T,es-o,kN-T)/2;if(v>=W){t+=dj[z]}var fV=h$-hH,jU=hL-dK,c$=ha-hH,iq=jl-dK,cz=fI-hH,h0=aE-dK,fl=U(fV,jU,c$,iq),co=U(fV,jU,cz,h0),cC=U(c$,iq,cz,h0),gr=fl+cC-co;
if(co==fl)return 1;var S=cC/(cC-gr),u=co/(co-fl),eK=co*S/2;if(eK==0)return 1;var kM=t/eK,y=2-Math.sqrt(4-kM/.3);
jy.u2=c(S*y,hH,h$);jy.W$=c(S*y,dK,hL);jy.QD=c(u*y,fI,ha);jy.r6=c(u*y,aE,jl);jy.alpha=y;jy.xE=S;jy.bD=u;
h$=jy.u2;hL=jy.W$;ha=jy.QD;jl=jy.r6;jy.PM=0;for(ko=q(v+1,z);ko!=W;ko=ec){ec=q(ko+1,z);var bM=aA[ko<<1],bn=aA[(ko<<1)+1],cs=aA[ec<<1],f7=aA[(ec<<1)+1];
S=g(h$-hH,hL-dK,ha-h$,jl-hL,fI-ha,aE-jl,cs-bM,f7-bn);if(S<-.5)return 1;var fT=X(S,hH,h$,ha,fI),ck=X(S,dK,hL,jl,aE),c2=p(cs-bM,f7-bn);
if(c2==0)return 1;var ce=U(cs-bM,f7-bn,fT-bM,ck-bn)/c2;if(Math.abs(ce)>cl)return 1;if(l(cs-bM,f7-bn,fT-bM,ck-bn)<0||l(bM-cs,bn-f7,fT-cs,ck-f7)<0){return 1}jy.PM+=ce*ce}for(ko=v;
ko!=W;ko=ec){ec=q(ko+1,z);var iA=ko*3+2<<1,kk=ec*3+2<<1,kn=hu[iA],fc=hu[iA+1],cv=hu[kk],gM=hu[kk+1];
S=g(h$-hH,hL-dK,ha-h$,jl-hL,fI-ha,aE-jl,cv-kn,gM-fc);if(S<-.5)return 1;var fT=X(S,hH,h$,ha,fI),ck=X(S,dK,hL,jl,aE),c2=p(cv-kn,gM-fc);
if(c2==0)return 1;var ce=U(cv-kn,gM-fc,fT-kn,ck-fc)/c2,hF=U(cv-kn,gM-fc,aA[ec<<1]-kn,aA[(ec<<1)+1]-fc)/c2;
hF*=.75*Z.Hj.alpha[ec];if(hF<0){ce=-ce;hF=-hF}if(ce<hF-cl)return 1;if(ce<hF){jy.PM+=(ce-hF)*(ce-hF)}}return 0}var E=Z.Hj,z=E.Ov,h=E.rL,d=new Array(z+1),Y=new Array(z+1),C=new Array(z+1),i=new Array(z+1),M,v,W,$,P=new J,O,G,t,y,r,u,S,w=new Array(z),dj=new Array(z+1);
for(v=0;v<z;v++){if(E.y7[v]=="CURVE"){var o=h[q(v-1,z)<<1],T=h[(q(v-1,z)<<1)+1],i6=h[v<<1],bH=h[(v<<1)+1],cg=h[q(v+1,z)<<1],bu=h[(q(v+1,z)<<1)+1];
w[v]=Math.sign(U(i6-o,bH-T,cg-i6,bu-bH))}else{w[v]=0}}t=0;dj[0]=0;var hH=E.rL[0],dK=E.rL[1];for(v=0;
v<z;v++){G=q(v+1,z);if(E.y7[G]=="CURVE"){y=E.alpha[G];var d8=v*3+2<<1,d1=G*3+2<<1,gH=E.RK[d8],kh=E.RK[d8+1],ay=h[G<<1],dO=h[(G<<1)+1],fy=E.RK[d1],bg=E.RK[d1+1];
t+=.3*y*(4-y)*U(ay-gH,dO-kh,fy-gH,bg-kh)/2;t+=U(gH-hH,kh-dK,fy-hH,bg-dK)/2}dj[v+1]=t}d[0]=-1;Y[0]=0;
C[0]=0;for(W=1;W<=z;W++){d[W]=W-1;Y[W]=Y[W-1];C[W]=C[W-1]+1;for(v=W-2;v>=0;v--){$=s(Z,v,q(W,z),P,m.aeA,w,dj);
if($){break}if(C[W]>C[v]+1||C[W]==C[v]+1&&Y[W]>Y[v]+P.PM){d[W]=v;Y[W]=Y[v]+P.PM;C[W]=C[v]+1;i[W]=P;P=new J}}}M=C[z];
r=new n(M);u=new Array(M);S=new Array(M);W=z;for(v=M-1;v>=0;v--){var f4=q(W,z),jb=v*3+0<<1,jT=f4*3+0<<1;
if(d[W]==W-1){r.y7[v]=E.y7[f4];r.RK[jb]=E.RK[jT];r.RK[jb+1]=E.RK[jT+1];r.RK[jb+2]=E.RK[jT+2];r.RK[jb+3]=E.RK[jT+3];
r.RK[jb+4]=E.RK[jT+4];r.RK[jb+5]=E.RK[jT+5];r.rL[v<<1]=E.rL[f4<<1];r.rL[(v<<1)+1]=E.rL[(f4<<1)+1];r.alpha[v]=E.alpha[f4];
r.mp[v]=E.mp[f4];r.ak[v]=E.ak[f4];u[v]=S[v]=1}else{r.y7[v]="CURVE";r.RK[jb]=i[W].u2;r.RK[jb+1]=i[W].W$;
r.RK[jb+2]=i[W].QD;r.RK[jb+3]=i[W].r6;r.RK[jb+4]=E.RK[jT+4];r.RK[jb+5]=E.RK[jT+5];r.rL[v<<1]=c(i[W].bD,E.RK[jT+4],h[f4<<1]);
r.rL[(v<<1)+1]=c(i[W].bD,E.RK[jT+5],h[(f4<<1)+1]);r.alpha[v]=i[W].alpha;r.mp[v]=i[W].alpha;u[v]=i[W].bD;
S[v]=i[W].xE}W=d[W]}for(v=0;v<M;v++){G=q(v+1,M);r.ak[v]=u[v]/(u[v]+S[G])}r.asi=1;Z.Hj=r}for(var v=0;
v<B.length;v++){var Z=B[v];F(Z);k(Z);I(Z);e(Z);H(Z);if(m.akd)A(Z)}}return{akO:Q,acZ:a}}();cc.p2=function(j,n,Q,a){var B={X6:"minority",aiq:a,akd:!0,asM:1,aeA:.2},m=cc.akO(j,n,Q,B);
cc.acZ(m,B);return m};cc.H9=function(j){var n=[];for(var v=0;v<j.length;v++){var Q=j[v],a=Q.Hj,B=["M"],m=[a.RK[(a.Ov-1)*6+4],a.RK[(a.Ov-1)*6+5]];
for(var R=0;R<a.Ov;R++){var q=R*6;if(a.y7[R]==1){B.push("C");for(var U=0;U<6;U++)m.push(a.RK[q+U])}else if(a.y7[R]==0){B.push("L");
for(var U=2;U<4;U++)m.push(a.RK[q+U])}}B.push("Z");n.push({parent:Q.parent,color:Q.color,path:{g:m,rZ:B}})}return n};
cc.fZ=function(j,n,Q){var dv=j.length>>1,a,B=j[2*dv-3]-Q,m=j[2*dv-2]-n,R=j[2*dv-1]-Q,q=R>B,U=0;for(var v=0;
v<dv;v++){a=m;B=R;m=j[2*v]-n;R=j[2*v+1]-Q;if(B==R)continue;q=R>B}for(var v=0;v<dv;v++){a=m;B=R;m=j[2*v]-n;
R=j[2*v+1]-Q;if(B<0&&R<0)continue;if(B>0&&R>0)continue;if(a<0&&m<0)continue;if(B==R&&Math.min(a,m)<=0)return!0;
if(B==R)continue;var l=a+(m-a)*-B/(R-B);if(l==0)return!0;if(l>0)U++;if(B==0&&q&&R>B)U--;if(B==0&&!q&&R<B)U--;
q=R>B}return(U&1)==1};cc.fill=function(j,n,Q,a){var B=n[j],m=[j],R=0;while(R<m.length){var q=m[R];R++;
n[q]=a;if(n[q-Q]==B){m.push(q-Q);n[q-Q]=254}if(n[q-1]==B){m.push(q-1);n[q-1]=254}if(n[q+1]==B){m.push(q+1);
n[q+1]=254}if(n[q+Q]==B){m.push(q+Q);n[q+Q]=254}}};var dN=function(){function j(q){return Math.max(0,Math.min(1,q))}function n(q,U){var l=U<0?-U:U;
if(q>1)q=.99;q=q*.99;var b=Math.pow(l/5,.16),D=Math.pow(2,l<1?l:1+(l-1)*.8);if(U<0)D=1/D;q=b*(1-Math.pow(1-q,D))+(1-b)*q;
return q}function Q(q,U){var l=U/100;q=q*.99;q=l*(.5-.5*Math.cos(q*Math.PI))+(1-l)*q;return q}var a=K.wz.Ep(1,1,1,-.3),B=K.wz.m2(a);
function m(q,U,l,b,D,c,_){var p=q[l],X=q[l+1],g=q[l+2],F=K.wz.y0(a,[p,X,g,1]);p=F[0];X=F[1];g=F[2];p=n(p,b);
X=n(X,b);g=n(g,b);var F=K.wz.y0(B,[p,X,g,1]);p=F[0];X=F[1];g=F[2];p=j(p);X=j(X);g=j(g);p=Q(p,D);X=Q(X,D);
g=Q(g,D);var k=i2.a8o(p,X,g,c);p=k[0];X=k[1];g=k[2];p=j(p);X=j(X);g=j(g);if(_){var I=new Uint8Array(4);
I[0]=~~(.5+p*255);I[1]=~~(.5+X*255);I[2]=~~(.5+g*255);k8.cN(_,I,I,new b4(0,0,1,1));p=I[0]/255;X=I[1]/255;
g=I[2]/255}U[l]=p;U[l+1]=X;U[l+2]=g}function R(q,U,l,b,D,c){var _=D.Temp?D.Temp.v:0,p=D.Tint?D.Tint.v:0,X=D.Ex12?D.Ex12.v:0,g=D.Cr12?D.Cr12.v:0,F=D.Vibr?D.Vibr.v:0,k=D.Strt?D.Strt.v:0,I=i2.ZM(_,p),e=null;
X+=I.afn;if(F!=0||k!=0)e=k8.Ya("vibA",{Strt:D.Strt,vibrance:D.Vibr});var H=Date.now();if(c){var A=Math.pow(2,X),Z=q.length;
X=0;var J=new Float32Array(4e3);for(var v=0;v<4e3;v++){var s=v*(1/1e3);s=K.ld(s);s*=A;s=K.Ku(s);s=j(s);
J[v]=s}for(var v=0;v<Z;v+=4){b[v]=J[~~(q[v]*1e3)];b[v+1]=J[~~(q[v+1]*1e3)];b[v+2]=J[~~(q[v+2]*1e3)]}console.log(Date.now()-H,"Exposure normalizing");
H=Date.now()}else if(b!=q)b.set(q);if(X!=0||g!=0||_!=0||p!=0||e){var E=17,z=1/(E-1),h=E*E*E,d=new Array(h*3);
for(var Y=0;Y<E;Y++)for(var C=0;C<E;C++)for(var i=0;i<E;i++){var v=Y*E*E+C*E+i,M=v*3;d[M]=Y*z;d[M+1]=C*z;
d[M+2]=i*z}for(var v=0;v<h;v++)m(d,d,v*3,X,g,I,e);console.log(Date.now()-H,"making LUT");H=Date.now();
ICC.U.applyLUT(d,E,b,b);console.log(Date.now()-H,"applying LUT");H=Date.now()}}return R}();function a5(){}a5.by=function(j,n){var Q=new Uint8Array(j),a=0,B=n.split("/").pop().split(".")[0];
function m(g){for(var v=0;v<g.length;v++)g[v].v.Nm.v=B+"/"+g[v].v.Nm.v.split("/").pop()}var R={wP:[],jy:[],list:[]},q=L.oN(Q,a);
a+=2;if(q<=2){R=a5.aej(Q);m(R.list);return R}var U=L.oN(Q,a);a+=2;var l=L.AP(Q,a,8);a+=8;var b=L.St(Q,a);
a+=4;if(b>0)R.wP=a5.aHJ(Q,a,b,U,q);a+=b;var D=L.AP(Q,a,8);a+=8;var c=L.St(Q,a);a+=4;if(c>0)R.jy=g9.US(Q,a,c);
a+=c;var _=L.AP(Q,a,8);a+=8;var p=L.St(Q,a);a+=4;if(p>0){var X={};aB.CF(Q,X,a+4);R.list=X.Brsh.v}a+=p;
var g=R.list;for(var v=0;v<g.length;v++){ic.b0.check(g[v].v)}m(g);return R};a5.zN=function(j,n){j.v.Nm.v=n};
a5.aej=function(j){var n={wP:[],jy:[],list:[]},Q=0,a=L.oN(j,Q);Q+=2;var B=L.oN(j,Q);Q+=2;for(var v=0;
v<B;v++){var m=L.oN(j,Q);Q+=2;var R=L.St(j,Q);Q+=4;var q=Q;if(m==2){var U={};n.wP.push(U);var l=L.St(j,q);
q+=4;var b=L.oN(j,q);q+=2;if(a==2){var D=L.N4(j,q);q+=4+D.length*2+2}U.id=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f";
q++;q+=8;U.SK=L.it(j,q);q+=16;var c=L.oN(j,q);q+=2;var _=j[q];q++;var p=iz.Wx(!1,c,j,U.SK.q,U.SK._,q,_);
p=K.R8(p,8);a5.amD(U,p);var X=ic.GK(U.id),g=X.Brsh.v;g.Dmtr.v.val=U.SK.q;g.Spcn.v.val=b;n.list.push({t:"Objc",v:X})}Q+=R}return n};
a5.zw=function(j){var n=new e3,Q=0,a=0;L.jZ(n,Q,6);Q+=2;L.jZ(n,Q,2);Q+=2;var B={},m=[],R={},q=[];for(var v=0;
v<j.list.length;v++){var U=j.list[v].v,l=U.Brsh.v;if(l.classID=="sampledBrush")B[l.sampledData.v]=!0;
if(U.Txtr)R[U.Txtr.v.Idnt.v]=!0}for(var v=0;v<j.wP.length;v++)if(B[j.wP[v].id])m.push(j.wP[v]);for(var v=0;
v<j.jy.length;v++)if(B[j.jy[v].id])q.push(j.jy[v]);L.GJ(n,Q,"8BIMsamp");Q+=8;Q+=4;a=Q;Q=a5.aBZ(n,Q,m);
L.mF(n,a-4,Q-a);L.GJ(n,Q,"8BIMpatt");Q+=8;Q+=4;a=Q;Q=g9.Rs(n,Q,q);L.mF(n,a-4,Q-a);var b=K.u(j.list);
for(var v=0;v<b.length;v++)b[v].v.Nm.v=b[v].v.Nm.v.split("/").pop();var D={classID:"null",Brsh:{t:"VlLs",v:b}};
L.GJ(n,Q,"8BIMdesc");Q+=8;Q+=4;a=Q;L.mF(n,Q,16);Q+=4;Q+=aB.wO(n,D,Q);L.mF(n,a-4,Q-a);return n.data.slice(0,Q).buffer};
a5.aHJ=function(j,n,Q,a,B){var m=L.St,R=L.it,q=n+Q,U=[];while(n<q){var l={};U.push(l);var b=m(j,n);n+=4;
var D=n,c=L.kJ(j,n);n+=c.length;l.id=c.aB;if(a==1){n+=9;l.SK=R(j,n);n+=16}else{n+=7;var _=m(j,n);n+=4;
l.SK=R(j,n);n+=16;var p=m(j,n);n+=4;n+=p*4;var X=m(j,n);n+=4;var g=m(j,n);n+=4;var F=R(j,n);n+=16}var k=L.oN(j,n);
n+=2;var I=j[n];n+=1;var e=iz.Wx(!1,k,j,l.SK.q,l.SK._,n,I);e=K.R8(e,8);a5.amD(l,e);if(b%4!=0)b+=4-b%4;
n=D+b}return U};a5.amD=function(j,n){var Q=j.SK.O();Q.x=Q.y=0;j.Fd=[n,Q]};a5.aBZ=function(j,n,Q){var a=L.mF,B=L.K5;
for(var v=0;v<Q.length;v++){var m=Q[v],R=n+4,U=56,b=1;n+=4;L.Ez(j,n,m.id);n+=m.id.length+2;j.G2(n,1);
j.data[n]=1;n+=3;a(j,n,3);n+=4;var q=n;n+=4;B(j,n,m.SK);n+=16;a(j,n,U);n+=4;n+=U*4;a(j,n-4,1);var l=n;
n+=4;a(j,n,8);n+=4;B(j,n,m.SK);n+=16;L.jZ(j,n,8);n+=2;j.G2(n,1);j.data[n]=b;n++;var D=m.Fd[0];j.G2(n,m.SK.$()*2);
n=iz.bV(!1,D,j.data,m.SK.q,m.SK._,n,b);j.G2(n,8);n+=8;var c=n-R;a(j,R-4,c);a(j,q,c-49);a(j,l,c-305);
if(c%4!=0)n+=4-c%4}return n};function dr(){}dr.by=function(j,n){var Q=new Uint8Array(j),a=[],B=0,m=L.oN(Q,B);
B+=2;if(m!=4){throw"Unknown version of curves: "+m}var R=L.oN(Q,B);B+=2;for(var v=0;v<R;v++){var q=dr.anl(Q,B);
B+=2+2*q.length;a.push(q)}if(B!=Q.length){var U=L.AP(Q,B,4);B+=4;var l=L.oN(Q,B);B+=2;var b=L.oN(Q,B);
B+=2;if(b!=0)throw"extra curves for channels"}var D=dr.abV(a,0);D.presetKind={t:"long",v:3};D.presetFileName={t:"TEXT",v:n.split("/").pop().split(".")[0]};
return[D]};dr.KW=function(j,n,Q,a){var B=a?L.vS:L.St,m=n,R=[],q=j[n];n+=3;var U=B(j,n);n+=4;for(var v=0;
v<4;v++){var l=U>>>v&1;if(l){if(q==0){var b=dr.anl(j,n,a);n+=2+2*b.length}else{var b=dr.aBG(j,n);n+=256}R.push(b)}else R.push(q==0?[0,0,255,255]:dr.aFh())}var D=dr.abV(R,q);
return D};dr.abV=function(j,n){var Q=fo.cL("curv");for(var v=0;v<4;v++){if(n==0){var a=j[v],B=[];for(var m=0;
m<a.length;m+=2)B.push(K.c0.yH(a[m],a[m+1],!0));dr.RQ(Q,v,B)}else dr.RQ(Q,v,j[v])}return Q};dr.nZ=function(j,n,Q){var a=[];
for(var v=0;v<4;v++){var B=dr.Js(Q,v);if(B.length==256)a.push(B);else{var m=[];for(var R=0;R<B.length;
R++)m.push(B[R].v.Hrzn.v,B[R].v.Vrtc.v);a.push(m)}}var q=n,U=a[0].length==256?1:0;j.G2(n,3);j.data[n]=U;
j.data[n+1]=0;j.data[n+2]=1;n+=3;L.mF(j,n,15);n+=4;for(var v=0;v<4;v++){var l=a[v];if(U==0){dr.a3Z(j,n,l);
n+=2+2*l.length}else{dr.aF6(j,n,l);n+=256}}return n-q};dr.aFh=function(){var j=[];for(var v=0;v<256;
v++)j.push(v);return j};dr.RQ=function(j,n,Q){var a=kp.fJ("CrvA",n);if(Q.length<256)a.Crv={t:"VlLs",v:Q};
else{a.Mpng={t:"VlLs",v:[]};for(var v=0;v<256;v++)a.Mpng.v[v]={t:"long",v:Q[v]}}a={t:"Objc",v:a};var B=j.Adjs.v,m=kp.vC(B,n);
if(m==-1)B.push(a);else B[m]=a};dr.Js=function(j,n){var Q=j.Adjs.v,a=kp.vC(Q,n);if(a==-1){if(Q.length==0||Q[0].v.Crv)return[K.c0.yH(0,0,!0),K.c0.yH(255,255,!0)];
if(Q[0].v.autoMachineLearning||Q[0].v.AuCo)return[K.c0.yH(0,0,!0),K.c0.yH(128,160,!0),K.c0.yH(255,255,!0)];
var B=[];for(var v=0;v<256;v++)B.push(v);return B}var m=Q[a].v;if(m.Crv)return m.Crv.v;if(m.Mpng){var B=[];
for(var v=0;v<256;v++)B.push(m.Mpng.v[v].v);return B}return[K.c0.yH(0,0,!0),K.c0.yH(255,255,!0)]};dr.anl=function(j,n,Q){var a=Q?L.rv:L.oN,B=[],m=a(j,n);
n+=2;for(var R=0;R<m;R++){var q=a(j,n);n+=2;var U=a(j,n);n+=2;B.push(U,q)}return B};dr.a3Z=function(j,n,Q){var a=Q.length/2;
L.jZ(j,n,a);n+=2;for(var B=0;B<a;B++){L.jZ(j,n,Q[B*2+1]);n+=2;L.jZ(j,n,Q[B*2+0]);n+=2}};dr.aBG=function(j,n){var Q=[];
for(var v=0;v<256;v++)Q.push(j[n+v]);return Q};dr.aF6=function(j,n,Q){j.G2(n,256);for(var v=0;v<256;
v++)j.data[n+v]=Q[v]};function az(){}az.KW=function(j,n,Q,a){var B={},m=a?L.rv:L.oN,R=a?L.FT:L.TY,q=m(j,n);
n+=2;B.iT=j[n]==1;n++;n++;B.Rc=[R(j,n),R(j,n+2),R(j,n+4)];n+=6;B.Ky=[R(j,n),R(j,n+2),R(j,n+4)];n+=6;
B.Bp=[];for(var v=0;v<6;v++){var U={};U.ei=[R(j,n),R(j,n+2),R(j,n+4),R(j,n+6)];n+=8;U.gY=[R(j,n),R(j,n+2),R(j,n+4)];
n+=6;B.Bp.push(U)}var l=fo.cL("hue2"),b=B;if(l.Clrz==null)l.Clrz={t:"bool",v:!1};l.Clrz.v=b.iT;for(var v=0;
v<7;v++){var D=v==0?b.iT?b.Rc:b.Ky:b.Bp[v-1];az.RQ(l,v,D)}return l};az.anw=function(j){return{classID:"Hst2",H:{t:"long",v:j[0]},Strt:{t:"long",v:j[1]},Lght:{t:"long",v:j[2]}}};
az.vC=function(j,n){for(var v=0;v<j.length;v++){var Q=j[v].v.LclR;if(n==0&&Q==null||Q!=null&&Q.v==n)return v}return-1};
az.RQ=function(j,n,Q){var a=n==0?Q:Q.gY,B=az.anw(a);if(n!=0){var m=Q.ei;B.LclR={t:"long",v:n},B.BgnR={t:"long",v:m[0]};
B.BgnS={t:"long",v:m[1]};B.EndS={t:"long",v:m[2]};B.EndR={t:"long",v:m[3]}}B={t:"Objc",v:B};var R=j.Adjs.v,q=az.vC(R,n);
if(q==-1)R.push(B);else R[q]=B};az.Js=function(j,n){var Q=j.Adjs.v,a=az.vC(Q,n);if(a==-1){if(n==0)return[0,0,0];
else return[{ei:[315,345,15,45],gY:[0,0,0]},{ei:[15,45,75,105],gY:[0,0,0]},{ei:[75,105,135,165],gY:[0,0,0]},{ei:[135,165,195,225],gY:[0,0,0]},{ei:[195,225,255,285],gY:[0,0,0]},{ei:[255,285,315,345],gY:[0,0,0]}][n-1]}var B=Q[a].v,m=[B.H.v,B.Strt.v,B.Lght.v];
if(n==0)return m;return{gY:m,ei:[B.BgnR.v,B.BgnS.v,B.EndS.v,B.EndR.v]}};az.nZ=function(j,n,Q){var a={iT:Q.Clrz?Q.Clrz.v:!1,Bp:[]};
a.Rc=a.Ky=az.Js(Q,0);for(var v=1;v<7;v++)a.Bp.push(az.Js(Q,v));var B=2+2+12+6*14,m=j.data;j.G2(n,B);
L.pL(m,n,2);n+=2;m[n]=a.iT?1:0;n++;n++;L.vz(m,n+0,a.Rc[0]);L.vz(m,n+2,a.Rc[1]);L.vz(m,n+4,a.Rc[2]);n+=6;
L.vz(m,n+0,a.Ky[0]);L.vz(m,n+2,a.Ky[1]);L.vz(m,n+4,a.Ky[2]);n+=6;for(var v=0;v<6;v++){var R=a.Bp[v].ei,q=a.Bp[v].gY;
L.vz(m,n+0,R[0]);L.vz(m,n+2,R[1]);L.vz(m,n+4,R[2]);L.vz(m,n+6,R[3]);n+=8;L.vz(m,n+0,q[0]);L.vz(m,n+2,q[1]);
L.vz(m,n+4,q[2]);n+=6}return B};function kp(){}kp.by=function(j,n){var Q=new Uint8Array(j),a=2,B=n?L.rv:L.oN,m=[];
for(var v=0;v<29;v++){var R=[];m.push(R);for(var q=0;q<5;q++)R.push(B(Q,a+v*10+q*2))}a+=29*10;if(a<Q.length){var U=L.Xv(Q,a,n);
a+=4;var l=B(Q,a);a+=2;var b=B(Q,a);a+=2;var D=b-29;for(var v=0;v<D;v++){var R=[];m.push(R);for(var q=0;
q<5;q++)R.push(B(Q,a+v*10+q*2))}}var c=fo.cL("levl");for(var v=0;v<4;v++)kp.RQ(c,v,m[v]);return c};kp.fJ=function(j,v){var n=["Cmps","Rd","Grn","Bl"],Q={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n[v]}}]};
return{classID:j,Chnl:Q}};kp.vC=function(j,n){var Q={Cmps:0,Rd:1,Grn:2,Bl:3};for(var v=0;v<j.length;
v++){var a=j[v].v,B=Q[a.Chnl.v[0].v.enum];if(B==n)return v}return-1};kp.RQ=function(j,n,Q){var a=kp.fJ("LvlA",n);
a.Inpt={t:"VlLs",v:[{t:"long",v:Q[0]},{t:"long",v:Q[1]}]};a.Otpt={t:"VlLs",v:[{t:"long",v:Q[2]},{t:"long",v:Q[3]}]};
a.Gmm={t:"doub",v:Q[4]/100};a={t:"Objc",v:a};var B=j.Adjs.v,m=kp.vC(B,n);if(m==-1)B.push(a);else B[m]=a};
kp.Js=function(j,n){var Q=[0,255,0,255,100],a=j.Adjs.v,B=kp.vC(a,n);if(B==-1)return Q;var m=a[B].v;if(m.Inpt){Q[0]=m.Inpt.v[0].v;
Q[1]=m.Inpt.v[1].v}if(m.Otpt){Q[2]=m.Otpt.v[0].v;Q[3]=m.Otpt.v[1].v}if(m.Gmm){Q[4]=Math.round(m.Gmm.v*100)}return Q};
kp.zw=function(j,n){var Q=[],a=0;for(var v=0;v<4;v++)Q.push(kp.Js(n,v));while(Q.length<29)Q.push([0,255,0,255,100]);
j.G2(0,2+10*29);L.pL(j.data,a,2);a+=2;for(var v=0;v<29;v++){var B=Q[v];for(var m=0;m<5;m++)L.pL(j.data,a+v*10+m*2,B[m])}a+=29*10;
if(Q.length==29)return a;j.G2(a,8+10*(Q.length-29));L.ey(j.data,a,"Lvls");a+=4;L.pL(j.data,a,3);a+=2;
L.pL(j.data,a,Q.length);a+=2;var R=Q.length-29;for(var v=0;v<R;v++){var B=Q[29+v];for(var m=0;m<5;m++)L.pL(j.data,a+v*10+m*2,B[m])}a+=10*R;
return a};function ek(){}ek.by=function(j,n){var Q=new Uint8Array(j),a=2,B=n.split("/").pop().split(".")[0],m={aF:[],oK:[]},R=L.AP(Q,a,4);
a+=4;var q=L.oN(Q,a);a+=2;var U=L.St(Q,a);a+=4;m.aF=g9.US(Q,a,U);a+=U;var l=L.St(Q,a);a+=4;for(var v=0;
v<l;v++){var b=L.St(Q,a);a+=4;var D=a,c={t_:{},IK:{}};m.oK.push(c);a+=4;a+=aB.CF(Q,c.t_,a);c.t_.Nm.v=B+"/"+c.t_.Nm.v.split("=").pop();
a+=4;a+=aB.CF(Q,c.IK,a);a=D+b;var _=c.IK.blendOptions,p=c.IK.Lefx;if(_&&Object.keys(_.v).length>1){}if(p){if(p.v.masterFXSwitch==null)p.v.masterFXSwitch={t:"bool",v:!0};
cO.Kg(p.v)}}return m};ek.zN=function(j,n){j.t_.Nm.v=n};ek.zw=function(j){var n=new e3,Q=0;L.jZ(n,Q,2);
Q+=2;L.GJ(n,Q,"8BSL");Q+=4;L.jZ(n,Q,3);Q+=2;var a=Q;Q+=4;Q=g9.Rs(n,Q,j.aF);L.mF(n,a,Q-a-4);var B=j.oK.length;
L.mF(n,Q,B);Q+=4;for(var v=0;v<B;v++){Q+=4;var m=Q,R=j.oK[v];L.mF(n,Q,16);Q+=4;var q=R.t_.Nm.v;R.t_.Nm.v=R.t_.Nm.v.split("/").pop();
Q+=aB.wO(n,R.t_,Q);R.t_.Nm.v=q;var U=R.IK.Lefx;if(U){R.IK.Lefx=K.u(U);cO.EY(R.IK.Lefx.v)}L.mF(n,Q,16);
Q+=4;Q+=aB.wO(n,R.IK,Q);if(U)R.IK.Lefx=U;L.mF(n,m-4,Q-m)}return n.data.slice(0,Q).buffer};function cG(){}cG.KW=function(j,n,Q,a){var B=a?L.rv:L.oN,m=a?L.FT:L.TY,R=B(j,n);
n+=2;var q={};q.RZ=B(j,n)==1;n+=2;q.A_=[];for(var v=0;v<10;v++){var U=[];q.A_.push(U);for(var l=0;l<4;
l++)U.push(m(j,n+l*2));n+=8}var b=fo.cL("selc");b.Mthd.v.CrcM=q.RZ?"Absl":"Rltv";for(var v=1;v<10;v++)cG.RQ(b,v-1,q.A_[v]);
return b};cG.D2="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");cG.fJ=function(j,v){var n=["Cmps","Rd","Grn","Bl"],Q={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n[v]}}]};
return{classID:j,Chnl:Q}};cG.vC=function(j,n){var Q=cG.D2;for(var v=0;v<j.length;v++){var a=j[v].v,B=Q.indexOf(a.Clrs.v.Clrs);
if(B==n)return v}return-1};cG.RQ=function(j,n,Q){var a=["Cyn","Mgnt","Ylw","Blck"],B={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:cG.D2[n]}}};
for(var m=0;m<4;m++)B[a[m]]={t:"UntF",v:{type:"#Prc",val:Q[m]}};B={t:"Objc",v:B};var R=j.ClrC.v,q=cG.vC(R,n);
if(q==-1)R.push(B);else R[q]=B};cG.Js=function(j,n){var Q=[0,0,0,0],a=j.ClrC.v,B=cG.vC(a,n);if(B==-1)return Q;
var m=["Cyn","Mgnt","Ylw","Blck"];for(var v=0;v<4;v++)if(a[B].v[m[v]])Q[v]=a[B].v[m[v]].v.val;return Q};
cG.nZ=function(j,n,Q){var a={RZ:Q.Mthd.v.CrcM=="Absl",A_:[[0,0,0,0]]};for(var v=0;v<9;v++)a.A_.push(cG.Js(Q,v));
j.G2(n,84);L.pL(j.data,n,1);n+=2;L.pL(j.data,n,a.RZ?1:0);n+=2;for(var v=0;v<10;v++){var B=a.A_[v];for(var m=0;
m<4;m++)L.vz(j.data,n+m*2,B[m]);n+=8}return 84};function bJ(){}bJ.cL=function(){return{wS:new b4(0,0,50,50),t_:"",iA:"play",z:K.R.hi.O_([.1,.1,.9,.5,.1,.9],0)}};
bJ.by=function(j,n){j=new Uint8Array(j);var Q=0,a=[],B=n.split("/").pop().split(".")[0],m=Date.now(),R=L.AP(j,0,4);
Q+=4;var q=L.St(j,Q);Q+=4;var U=L.St(j,Q);Q+=4;for(var v=0;v<U;v++){var l=L.N4(j,Q);Q+=l.length*2+4+2;
if((l.length&1)==0)Q+=2;Q=bJ.aqG(j,Q,l,a);a[v].iA=B+"/"+a[v].iA}return a};bJ.aqG=function(j,n,Q,a){var B=L.St(j,n);
n+=4;var m=L.St(j,n);n+=4;var R=n,q=L.kJ(j,R).aB;R+=q.length+1;var U=L.it(j,R);R+=16;var l=bJ.iW(j,R,m-(R-n)),b=K.R.FZ(l),D=K.c.Tv(b),c=1/D.q,_=1/D._;
K.R.fK(l,new j8(c,0,0,_,-D.x*c,-D.y*_));a.push({iA:Q,t_:q,z:l,wS:U});n+=m;return n};bJ.zN=function(j,n){j.iA=n};
bJ.zw=function(j){var n=new e3,Q=0;L.GJ(n,Q,"cush");Q+=4;L.mF(n,Q,2);Q+=4;L.mF(n,Q,j.length);Q+=4;for(var v=0;
v<j.length;v++){var a=j[v],B=a.iA.split("/").pop()+"\0";L.Um(n,Q,B);Q+=4+B.length*2;if((B.length&1)==1)Q+=2;
L.mF(n,Q,1);Q+=4;Q+=4;var m=Q;L.Ez(n,Q,a.t_);Q+=a.t_.length+1;L.K5(n,Q,a.wS);Q+=16;n.G2(Q,a.z.length*26);
bJ.WF(n.data,Q,a.z,1,1);Q+=a.z.length*26;var R=Q-m;if((R&3)!=0)R+=4-(R&3);L.mF(n,m-4,R);Q=m+R}return n.data.slice(0,Q).buffer};
bJ.azs=function(j){var n=[];for(var v=0;v<j.length;v++){var Q=j[v],a=Q.w,B={type:a};n.push(B);if(a==6){}else if(a==8)B.all=Q.all;
else if(a==0||a==3){B.length=Q.length;B.frule=Q.H_;B.third=Q.qg;B.prmA=Q.wo;B.prmB=Q.x1}else{B.c=[Q.vK.x,Q.vK.y,Q.V.x,Q.V.y,Q.XH.x,Q.XH.y]}}return n};
bJ.atQ=function(j){var n=[];for(var v=0;v<j.length;v++){var Q=j[v],a=Q.type,B={w:a};n.push(B);if(a==6){}else if(a==8)B.all=Q.all;
else if(a==0||a==3){B.length=Q.length;B.H_=Q.frule;B.qg=Q.third;B.wo=Q.prmA;B.x1=Q.prmB}else{var m=Q.c;
B.vK=new eE(m[0],m[1]);B.V=new eE(m[2],m[3]);B.XH=new eE(m[4],m[5])}}return n};bJ.iW=function(j,n,Q,a,B,m){if(a==null)a=1;
if(B==null)B=1;var R=m?L.a2L:L.a5n;function q(k,I,e){var H=R(k,I)*e,A=Math.round(H);return Math.abs(H-A)<1e-6?A:H}var U=m?L.FT:L.TY,l=m?L.vS:L.St,b=[],D=Math.floor(Q/26);
for(var v=0;v<D;v++){var c=n+v*26,_={},p=0;b.push(_);_.w=U(j,c);c+=2;if(_.w==6){p=24}if(_.w==8){_.all=U(j,c);
c+=2;p=22}if(_.w==0||_.w==3){_.length=U(j,c);c+=2;_.H_=U(j,c);c+=2;_.qg=U(j,c);c+=2;_.wo=l(j,c);c+=4;
_.x1=l(j,c);c+=4;p=10}if(_.w==1||_.w==2||_.w==4||_.w==5){var X,g;g=q(j,c,B);c+=4;X=q(j,c,a);c+=4;_.vK=new eE(X,g);
g=q(j,c,B);c+=4;X=q(j,c,a);c+=4;_.V=new eE(X,g);g=q(j,c,B);c+=4;X=q(j,c,a);c+=4;_.XH=new eE(X,g);p=0}for(var F=0;
F<p;F++)if(j[c+F]!=0){console.log("Unexpected non-zero byte!",_,F,j[c+F])}}return b};bJ.WF=function(j,n,Q,a,B){var m=L.vz,R=L.a4R,q=Q.length;
for(var v=0;v<q;v++){var U=n+v*26,l=Q[v];m(j,U,l.w);U+=2;if(l.w==6){}if(l.w==8)m(j,U,l.all);if(l.w==0||l.w==3){m(j,U,l.length);
U+=2;m(j,U,l.H_);U+=2;m(j,U,l.qg);U+=2}if(l.w==1||l.w==2||l.w==4||l.w==5){R(j,U,l.vK.y/B);U+=4;R(j,U,l.vK.x/a);
U+=4;R(j,U,l.V.y/B);U+=4;R(j,U,l.V.x/a);U+=4;R(j,U,l.XH.y/B);U+=4;R(j,U,l.XH.x/a);U+=4}}};function hq(){}hq.aaf=function(j,n,Q,a){var B=a.split(".")[0];
if(n+3<j.length){var m={},U=0;cO.iq(j,n,j.length,m);var R=m.phry.hierarchy.v,q=[[]];for(var v=0;v<R.length;
v++){var top=q[q.length-1],l=R[v].v,b=l.classID;if(b=="Grup"){var D=[];q.push(D);top.push([l.Nm.v,null,D,!0])}else if(b=="preset"){top.push(Q[U]);
U++}else if(b=="groupEnd"){q.pop()}}var c=hq.a7z(q[0],hq);return[[B,null,q[0],!0]]}else{for(var v=0;
v<Q.length;v++){var _=Q[v][0].split("/");if(_.length>1){B=_[_.length-2];Q[v][0]=_.pop().split("=").pop()}}return[[B,null,Q,!0]]}};
hq.a7z=function(j,n){var Q=[],a=[];hq.H3(j,Q,a);var B=new Uint8Array(n.zw(Q)),m=new e3;m.G2(0,B.length);
m.data.set(B,0);var R={phry:{classID:"null",hierarchy:{t:"VlLs",v:a}}},q=cO.Y0(m,B.length,R);return m.data.slice(0,q)};
hq.H3=function(j,n,Q){for(var v=0;v<j.length;v++){var a=j[v];if(a[1]==null){Q.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:a[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
hq.H3(a[2],n,Q);Q.push({t:"Objc",v:{classID:"groupEnd"}})}else{Q.push({t:"Objc",v:{classID:"preset"}});
n.push(a)}}};hq.by=function(j,n){var Q=new Uint8Array(j),a=[],B=0;if(L.AP(Q,0,4)=="ASEF")B=hq.aeD(Q,a);
else{B=hq.agN(Q,B,a);if(B+3<Q.length){a=[];B=hq.agN(Q,B,a)}}return hq.aaf(Q,B,a,n)};hq.aeD=function(j,n){var Q=8,a=L.St(j,Q),B,m=null,R,q,U,l;
Q+=4;for(var b=0;b<a;b++){var D=L.oN(j,Q);Q+=2;var c=L.St(j,Q);Q+=4;var _=Q+c;if(D==49153||D==1){var p=L.oN(j,Q);
Q+=2;var X=L.AN(j,Q,p-1);Q+=p*2;if(D==1)B=X;else m=X}if(D==1){var g=L.AP(j,Q,4);Q+=4;R=L.Hb(j,Q);Q+=4;
q=L.Hb(j,Q);Q+=4;U=L.Hb(j,Q);Q+=4;if(g=="RGB "){}else if(g=="CMYK"){l=L.Hb(j,Q);Q+=4;var F=UDOC.C.cmykToRgb([R,q,U,l]);
R=F[0];q=F[1];U=F[2]}else alert("Unknown color space: "+g);n.push([(m?m+" : ":"")+B,{n:R*255,i:q*255,b:U*255}])}Q=_}return Q};
hq.agN=function(j,n,Q){var a=L.oN,B=L.TY,m=a(j,n);n+=2;var R=a(j,n);n+=2;for(var v=0;v<R;v++){var q=hq.qH(j,n),U="clr"+v;
n+=10;if(m==2){U=L.N4(j,n);n+=4+U.length*2+2}Q.push([U,q])}return n};hq.qH=function(j,n,Q){var a=Q?L.rv:L.oN,B=Q?L.FT:L.TY,m=a(j,n),p=null;
n+=2;var R=a(j,n);n+=2;var q=a(j,n);n+=2;var U=a(j,n);n+=2;var l=a(j,n);n+=2;var b=1/65535,D=255/65535,c=100/65535,_=255/1e4;
if(m==0)p={n:R*D,i:q*D,b:U*D};else if(m==1){p=K.JG(R*b,q*b,U*b);p.n*=255;p.i*=255;p.b*=255}else if(m==2)p=K.Gp.qF({classID:"CMYC",Cyn:{t:"doub",v:100-R*c},Mgnt:{t:"doub",v:100-q*c},Ylw:{t:"doub",v:100-U*c},Blck:{t:"doub",v:100-l*c}});
else if(m==7){var X=K.aY(R/100,B(j,n-6)/100,B(j,n-4)/100);p=X}else if(m==8){p={n:255-R*_,i:255-q*_,b:255-U*_}}else if(m==18){var g=255*R/16384;
p={n:g,i:g,b:g}}else{throw m}return p};hq.zw=function(j){var n=new e3,Q=0,a=L.jZ;for(var B=1;B<3;B++){a(n,Q,B);
Q+=2;a(n,Q,j.length);Q+=2;for(var v=0;v<j.length;v++){var m=j[v];n.G2(Q,10);hq.E1(n.data,Q,m[1]);Q+=10;
if(B==2){var R=m[0]+"\0";L.Um(n,Q,R);Q+=4+R.length*2}}}return n.data.slice(0,Q).buffer};hq.E1=function(j,n,Q){var a=65535/255,B=L.pL;
B(j,n,0);B(j,n+2,Math.round(Q.n*a));B(j,n+4,Math.round(Q.i*a));B(j,n+6,Math.round(Q.b*a));B(j,n+8,0)};
hq.r9=function(j,n,Q){var a=j[1],B=255<<24|a.b<<16|a.i<<8|a.n,m=new Uint32Array(n*Q);m.fill(B);var R=UPNG.encode([m.buffer],n,Q);
return"data:image/png;base64,"+fj.cJ(R)};function cr(){}cr.by=function(j){var n=new Uint8Array(j),Q=4,a={};
a.ID=L.N4(n,Q);Q+=4+a.ID.length*2+2;a.exp=n[Q++]==1;a.C5=[];var B=L.St(n,Q);Q+=4;for(var v=0;v<B;v++){var m={};
a.C5.push(m);m.cb=L.oN(n,Q);Q+=2;m.shift=n[Q++]==1;m.aBl=n[Q++]==1;m.color=L.oN(n,Q);Q+=2;m.ID=L.N4(n,Q);
Q+=4+m.ID.length*2+2;m.exp=n[Q++]==1;m.C5=[];var R=L.St(n,Q);Q+=4;for(var q=0;q<R;q++){var U={};m.C5.push(U);
U.exp=n[Q++]==1;U.m=n[Q++]==1;U.amR=n[Q++]==1;U.a4B=n[Q++];var l=L.AP(n,Q,4);Q+=4;if(l=="TEXT"){U.ep=cr.a5$(n,Q);
Q+=4+U.ep.length}else if(l=="long"){U.ep=L.AP(n,Q,4);Q+=4}else throw"e";U.bQ=cr.a5$(n,Q);Q+=4+U.bQ.length;
var b=L.q_(n,Q);Q+=4;if(b==-1){U.Tu={};var D=aB.CF(n,U.Tu,Q);Q+=D}}}console.log(a);var c=new Uint8Array(cr.zw(a));
for(var v=0;v<c.length;v++)if(c[v]!=n[v]&&L.AP(n,v+1,4)!="None"){console.log(n.length,c.length);var _=4*(v>>>2)-16;
console.log(L.H0(n,_,64));console.log(L.H0(c,_,64));console.log(n.slice(_,_+64));console.log(c.slice(_,_+64));
throw"i"}return[a]};cr.a5$=function(j,n){var Q=L.St(j,n);return L.AP(j,n+4,Q)};cr.atk=function(j,n,Q){L.mF(j,n,Q.length);
L.GJ(j,n+4,Q)};cr.zw=function(j){var n=new e3,Q=0;L.mF(n,Q,16);Q+=4;L.Um(n,Q,j.ID+"\0");Q+=4+j.ID.length*2+2;
n.G2(Q,1);n.data[Q++]=j.exp?1:0;var a=j.C5.length;L.mF(n,Q,a);Q+=4;for(var v=0;v<a;v++){var B=j.C5[v];
L.jZ(n,Q,B.cb);Q+=2;n.G2(Q,2);n.data[Q++]=B.shift?1:0;n.data[Q++]=B.aBl?1:0;L.jZ(n,Q,B.color);Q+=2;L.Um(n,Q,B.ID+"\0");
Q+=4+B.ID.length*2+2;n.G2(Q,1);n.data[Q++]=B.exp?1:0;var m=B.C5.length;L.mF(n,Q,m);Q+=4;for(var R=0;
R<m;R++){var q=B.C5[R];n.G2(Q,4);n.data[Q++]=q.exp?1:0;n.data[Q++]=q.m?1:0;n.data[Q++]=q.amR?1:0;n.data[Q++]=q.a4B;
var U="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(q.ep)!=-1;L.GJ(n,Q,U?"long":"TEXT");
Q+=4;if(!U){cr.atk(n,Q,q.ep);Q+=4+q.ep.length}else{L.GJ(n,Q,q.ep);Q+=4}cr.atk(n,Q,q.bQ);Q+=4+q.bQ.length;
L.Ia(n,Q,q.Tu?-1:0);Q+=4;if(q.Tu){var l=aB.wO(n,q.Tu,Q);Q+=l}}}return n.data.slice(0,Q).buffer};function kQ(){}kQ.by=function(j){var n=new Uint8Array(j),Q=0,a=L.St(n,Q),U;
Q+=4;var B=L.AP(n,Q,8);Q+=8;var m=L.vS(n,Q);Q+=4;var R=L.vS(n,Q);Q+=4;var q=L.vS(n,Q);Q+=4;console.log(m,R,q);
if(a==2){U=new Float32Array(j,32,j.byteLength-32>>>2)}else if(a==3||a==4){U=new Float32Array(R*q*2);
var l=0,b=0,D=!0;Q=a==3?32:16+8+40;while(Q<n.length){var c=L.vS(n,Q);Q+=4;if(D)b+=c;else{for(var v=0;
v<c;v++){U[l+b+v<<1]=L.Gf(n,Q);U[(l+b+v<<1)+1]=L.Gf(n,Q+4);Q+=8}b+=c}D=!D;if(c!=0&&b==R){l+=R;b=0;D=!0;
if(l==R*q)break}}}else throw"unknown Mesh version: "+a;return{Uw:R,WC:q,map:U}};kQ.mH=function(j){var n=j.Uw,Q=j.WC,a=j.map,B=new Uint8Array(32+Q*n*8+Q*8),m=0,R=0;
L.gS(B,m,3);m+=4;L.ey(B,m,"yfqLhseM");m+=8;L.eI(B,m,2);m+=4;L.eI(B,m,n);m+=4;L.eI(B,m,Q);m+=4;L.eI(B,m,0);
m+=4;L.eI(B,m,1);m+=4;for(var q=0;q<Q;q++){L.eI(B,m,0);m+=4;L.eI(B,m,n);m+=4;for(var U=0;U<n;U++){L._j(B,m,a[R]);
L._j(B,m+4,a[R+1]);R+=2;m+=8}}return B.buffer};function kU(){}kU.by=function(j){var n=new Uint8Array(j),Q=0,a=L.AP(n,Q,4);
Q+=4;var B=L.oN(n,Q);Q+=2;var m=L.St(n,Q);Q+=4;var R=[];for(var v=0;v<m;v++){var q=L.St(n,Q);Q+=4;var U={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
R.push(U);var l=L.N4(n,Q);U.Nm.v=l;Q+=4+l.length*2+2;var b=L.oN(n,Q);Q+=2;var D=L.oN(n,Q);Q+=2;for(var c=0;
c<D;c++){var _=K.c0.yH(0,0,!0);_.v.Vrtc.v=L.oN(n,Q);Q+=2;_.v.Hrzn.v=L.oN(n,Q);Q+=2;U.Crv.v.push(_)}if(q==1){}else if(q==2){for(var c=0;
c<D;c++){U.Crv.v[c].v.Cnty.v=n[Q]==1;Q+=1}}else throw"error";var p=L.St(n,Q);Q+=4;var X=L.St(n,Q);Q+=4}return R};
kU.zN=function(j,n){j.Nm.v=n};kU.zw=function(j){var n=new e3,Q=0;L.GJ(n,Q,"8BFS");Q+=4;L.jZ(n,Q,1);Q+=2;
L.mF(n,Q,j.length);Q+=4;for(var v=0;v<j.length;v++){L.mF(n,Q,2);Q+=4;var a=j[v];L.Um(n,Q,a.Nm.v+"\0");
Q+=4+a.Nm.v.length*2+2;L.jZ(n,Q,2);Q+=2;var B=a.Crv.v.length;L.jZ(n,Q,B);Q+=2;for(var m=0;m<B;m++){var R=a.Crv.v[m];
L.jZ(n,Q,R.v.Vrtc.v);Q+=2;L.jZ(n,Q,R.v.Hrzn.v);Q+=2}n.G2(Q,B);for(var m=0;m<B;m++){n.data[Q]=a.Crv.v[m].v.Cnty.v;
Q++}L.mF(n,Q,0);Q+=4;L.mF(n,Q,0);Q+=4}return n.data.slice(0,Q).buffer};function g9(){}g9.by=function(j,n){var Q=new Uint8Array(j),a=4,B=n.split("/").pop().split(".")[0],m=L.oN(Q,a);
a+=2;var R=L.St(Q,a);a+=4;var q=[];for(var v=0;v<R;v++){var U={};q.push(U);a=g9.aEQ(Q,a,U);U.name=B+"/"+U.name.split("=").pop()}return q};
g9.zN=function(j,n){j.name=n};g9.zw=function(j){var n=new e3,Q=0;L.GJ(n,Q,"8BPT");Q+=4;L.jZ(n,Q,1);Q+=2;
L.mF(n,Q,j.length);Q+=4;for(var v=0;v<j.length;v++){var a=j[v],B=a.name;a.name=a.name.split("/").pop();
Q=g9.ax7(n,Q,a);a.name=B}return n.data.slice(0,Q).buffer};g9.US=function(j,n,Q,a){var B=a?L.vS:L.St,m=n+Q,R=[];
while(n<m){var q={},U=B(j,n);n+=4;var l=n;n=g9.aEQ(j,n,q,a);if(!q.Fd[1].ke())R.push(q);if(U%4!=0)U+=4-U%4;
n=l+U}return R};g9.Rs=function(j,n,Q){for(var v=0;v<Q.length;v++){var a=Q[v];n+=4;var B=n;n=g9.ax7(j,n,a);
var m=n-B;L.mF(j,B-4,m);if(m%4!=0)B+=4-m%4;n=B+m}return n};g9.aEQ=function(j,n,Q,a){var B=a?L.vS:L.St,m=a?L.rv:L.oN,R=a?L.lz:L.N4,q=B(j,n);
n+=4;if(q!=1)alert("Unknown version of pattern");var U=B(j,n);n+=4;if(U!=1&&U!=2&&U!=3)console.log("Unsupported mode of pattern: "+U);
var l=m(j,n);n+=2;var b=m(j,n);n+=2;var D=new b4(0,0,b,l);Q.name=R(j,n);n+=4+2*Q.name.length+2;var c=j[n];
n++;Q.id=L.AP(j,n,c);n+=Q.id.length;var _=-1;if(U==2){_=n;n+=3*256+4}var p=new K.aL(b*l);n=g9.auQ(j,n,p,a);
if(U==2){for(var v=0;v<p.n.length;v++){var X=3*p.n[v];p.n[v]=j[_+X+0];p.i[v]=j[_+X+1];p.b[v]=j[_+X+2]}}var g=K.U(D.$()*4);
K.Y1(p,g);Q.Fd=[g,D];return n};g9.ax7=function(j,n,Q){var a=Q.Fd[0],B=Q.Fd[1];L.mF(j,n,1);n+=4;L.mF(j,n,3);
n+=4;L.jZ(j,n,B._);n+=2;L.jZ(j,n,B.q);n+=2;L.Um(j,n,Q.name+"\0");n+=4+2*Q.name.length+2;L.mk(j,n,Q.id.length);
n++;L.GJ(j,n,Q.id);n+=Q.id.length;var m=new K.aL(B.$());K.yD(a,m);n=g9.axR(j,n,m,B);return n};g9.auQ=function(j,n,Q,a){var B=a?L.vS:L.St,m=a?L.rv:L.oN,R=n,q={SK:null,Y:[],awv:null,qs:null},U=B(j,n);
n+=4;var l=B(j,n);n+=4;q.SK=L.it(j,n,a);n+=16;var b=B(j,n);n+=4;for(var v=0;v<b+2;v++){var D=B(j,n);
n+=4;if(D==0)continue;var c=B(j,n);n+=4;if(c==0)continue;var _=B(j,n);n+=4;var p=L.it(j,n,a);n+=16;var X=m(j,n);
n+=2;var g=j[n];n++;var F=iz.Wx(!1,_,j,p.q,p._,n,g,c,a);F=K.R8(F,8);if(v<b)q.Y.push(F);if(v==b)q.awv=F;
if(v==b+1)q.qs=F;n+=c-23}if(!q.SK.ke()){if(q.Y[0])Q.n=q.Y[0];if(q.Y[1])Q.i=q.Y[1];else Q.i=q.Y[0].slice(0);
if(q.Y[2])Q.b=q.Y[2];else Q.b=q.Y[0].slice(0);if(q.qs)Q.NX=q.qs;else Q.NX.fill(255)}return n};g9.axR=function(j,n,Q,a){var B=n,m={SK:a,Y:[Q.n,Q.i,Q.b],awv:null,qs:Q.NX};
L.mF(j,n,3);n+=4;L.mF(j,n,0);n+=4;L.K5(j,n,a);n+=16;L.mF(j,n,24);n+=4;for(var v=0;v<24+2;v++){var R=n,q=v<3||v==25?1:0;
L.mF(j,n,q);n+=4;if(q==0)continue;L.mF(j,n,0);n+=4;L.mF(j,n,8);n+=4;L.K5(j,n,a);n+=16;L.jZ(j,n,8);n+=2;
L.mk(j,n,1,1);n++;var U=v<3?m.Y[v]:m.qs;j.G2(n,a.$()+2);n=iz.bV(!1,U,j.data,a.q,a._,n,1);L.mF(j,R+4,n-R-8)}L.mF(j,B+4,n-B-8);
return n};function at(){}at.by=function(j,n){var Q=new Uint8Array(j),B=0;if(Q[0]==71)return at.a6i(Q);
var a=n.split("/").pop().split(".")[0],m=L.AP(Q,B,4);B+=4;var R=L.oN(Q,B);B+=2;var q=[];if(R<=3){var U=L.oN(Q,B);
B+=2;for(var v=0;v<U;v++){var l=Q[B++],b=L.AP(Q,B,l);B+=l;var D=at.az8(Q,B,b),c=D[0];B=D[1];q.push(c)}}else{var D={},_=aB.CF(Q,D,B+4),p=D.GrdL.v;
for(var v=0;v<p.length;v++)q[v]=p[v].v.Grad.v;B+=4+_}for(var v=0;v<q.length;v++)q[v]=[q[v].Nm.v,q[v]];
return hq.aaf(Q,B,q,n)};at.zN=function(j,n){j.Nm.v=n};at.zw=function(j){var n=new e3,Q=0;L.GJ(n,Q,"8BGR");
Q+=4;L.jZ(n,Q,5);Q+=2;L.mF(n,Q,16);Q+=4;var a={classID:"null",GrdL:{t:"VlLs",v:[]}},B=a.GrdL.v;for(var v=0;
v<j.length;v++){var m=K.u(j[v]);m[1].Nm.v=m[0];B[v]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:m[1]}}}}Q+=aB.wO(n,a,Q);
return n.data.slice(0,Q).buffer};at.az8=function(j,n,Q,a){var B={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:Q},Trns:{t:"VlLs",v:[]}},m=a?L.rv:L.oN,R=a?L.vS:L.St,q=m(j,n);
n+=2;if(q==0)throw"e";for(var v=0;v<q;v++){var U=R(j,n),l=R(j,n+4),b=hq.qH(j,n+8,a),D={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:b.n},Grn:{t:"doub",v:b.i},Bl:{t:"doub",v:b.b}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:U},Mdpn:{t:"long",v:l}}};
B.Clrs.v.push(D);n+=20}var c=m(j,n);n+=2;for(var v=0;v<c;v++){var U=R(j,n),l=R(j,n+4),_=m(j,n+8),D={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*_/255)}},Lctn:{t:"long",v:U},Mdpn:{t:"long",v:l}}};
B.Trns.v.push(D);n+=10}var p=m(j,n);n+=2;B.Intr.v=p==2?m(j,n):4096;n+=2;var X=m(j,n);n+=2;return[B,n]};
at.aAI=function(j,n,Q){var a=Q.Clrs.v.length;L.jZ(j,n,a);n+=2;for(var v=0;v<a;v++){var B=Q.Clrs.v[v];
L.mF(j,n,B.v.Lctn.v);L.mF(j,n+4,B.v.Mdpn.v);L.jZ(j,n+8,0);var m=K.Gp.Db(K.Gp.qF(B.v.Clr.v)),R=[m.Rd.v,m.Grn.v,m.Bl.v,0];
for(var q=0;q<4;q++)L.jZ(j,n+10+q*2,Math.round(65535*(R[q]/255)));n+=20}var U=Q.Trns.v.length;L.jZ(j,n,U);
n+=2;for(var v=0;v<U;v++){var B=Q.Trns.v[v];L.mF(j,n,B.v.Lctn.v);L.mF(j,n+4,B.v.Mdpn.v);L.jZ(j,n+8,Math.round(255*B.v.Opct.v.val/100));
n+=10}L.jZ(j,n,2);n+=2;L.jZ(j,n,Q.Intr.v);n+=2;L.jZ(j,n,32);n+=2;return n};at.a6i=function(j){var n=L.Cl(j,0,j.length).split("\n"),Q=parseFloat(n[2]),a=[],B=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]).Grad.v;
B.Intr.v=0;B.Nm.v=n[1];for(var v=0;v<Q;v++){var m=n[3+v].split(" ").map(parseFloat),R=m[11],q=m[12];
a.push([m[0],m.slice(3,6),m[6]]);if(q!=0){var U=K.Qq(m[3],m[4],m[5]),l=K.Qq(m[7],m[8],m[9]),b=U.WC,D=l.WC;
if(q==1&&b>D)D++;if(q==2&&b<D)b++;var c=Math.round(Math.abs(D-b)*7);if(c>1)for(var _=0;_<c;_++){var p=1-(_+1)/(c+1),X=1-p,g=K.JG(p*b+X*D,p*U.bD+X*l.bD,p*U.n8+X*l.n8);
a.push([p*m[0]+X*m[2],[g.n,g.i,g.b],p*m[6]+X*m[10]])}}a.push([m[2],m.slice(7,10),m[10]])}a.sort(function(F,k){return F[0]-k[0]});
K.Gp.wM(a,B);return[B]};at.r9=function(j,n,Q){var a=N.$A.r9(j[1],n,Q,Math.PI/4,16777215,0);return a};
function hZ(){}hZ.by=function(j){var n=new Uint8Array(j),Q=[],a=[],B=[],m=[],R=[],q=0,U=L.AP(n,q,4);
q+=4;var l=L.St(n,q);q+=4;var b=L.St(n,q);q+=4;while(q<n.length){var D=L.AP(n,q,4);q+=4;var c=L.AP(n,q,4);
q+=4;var _=L.St(n,q);q+=4;if(c=="tppa"){a=g9.US(n,q,_);q+=_}else if(c=="tpbd"){B=a5.aHJ(n,q,_,1,1);q+=_}else if(c=="tptp"){var p=L.St(n,q);
q+=4;for(var v=0;v<p;v++){var X=L.N4(n,q);q+=6+X.length*2;q+=4;var g={};q+=aB.CF(n,g,q);Q.push([X,g])}while((q&3)!=0)q++}else if(c=="tpsh"){var F=q,k=n.slice(q,q+_);
while(q<F+_){var I=L.St(n,q);q+=4;q=bJ.aqG(n,q,"Shape",m)}q=F+_}else if(c=="tpst"){var F=q;q+=4;while(q<F+_){var e=L.St(n,q);
q+=4;var H=q,A=L.St(n,q);q+=4;var g={t_:{},IK:{}};R.push(g);q+=4;q+=aB.CF(n,g.t_,q);q+=4;q+=aB.CF(n,g.IK,q);
q=H+e;var Z=g.IK.Lefx;if(Z){if(Z.v.masterFXSwitch==null)Z.v.masterFXSwitch={t:"bool",v:!0};cO.Kg(Z.v)}}q=F+_}else{console.log(n.slice(q-8,q+64));
console.log(L.AP(n,q-8,64));throw c}}return{wP:B,jy:a,list:Q,aui:m,oK:R}};hZ.zN=function(j,n){j[0]=n};
hZ.zw=function(j){var n=new e3,Q=0;L.GJ(n,Q,"8BTP");Q+=4;L.mF(n,Q,3);Q+=4;L.mF(n,Q,1);Q+=4;var a=[j.jy,j.wP,j.list];
for(var v=0;v<3;v++){if(a[v].length==0)continue;L.GJ(n,Q,"8BIM");Q+=4;var B=["tppa","tpbd","tptp"][v];
L.GJ(n,Q,B);Q+=4;var m=Q;Q+=4;if(B=="tppa"){Q=g9.Rs(n,Q,j.jy)}else if(B=="tpbd"){Q=a5.aBZ(n,Q,j.wP)}else if(B=="tptp"){L.mF(n,Q,j.list.length);
Q+=4;for(var R=0;R<j.list.length;R++){var q=j.list[R];L.Um(n,Q,q[0]+"\0");Q+=6+q[0].length*2;L.mF(n,Q,16);
Q+=4;Q+=aB.wO(n,q[1],Q)}}L.mF(n,m,Q-m-4);while((Q&3)!=0)Q++;n.G2(Q,0)}return n.data.slice(0,Q).buffer};
function hy(){}hy.by=function(j,n){var Q=new Uint8Array(j),a;if(L.St(Q,0)==Q.length)a="icc";else if(Q[0]=="<".charCodeAt(0))a="look";
else if(L._8(Q,"LUT_3D_SIZE")!=-1)a="cube";else a="3DL";if(a!="icc"){var B=hy.a8y(Q,a),m=hy.aAo(B[0],B[1]);
Q=m}var R=[];for(var v=0;v<Q.length;v++)R.push(Q[v]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:n?n:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:R}}]};
hy.zw=function(j){var n=j[0],Q=new Uint8Array(n.profile.v);return Q.buffer};hy.zN=function(j,n){j.Nm.v=n};
hy.aAo=function(j,n){var Q=new e3,a=128;Q.G2(0,128);var B=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var v=0;v<B.length;v++)Q.data[v]=B[v];var m=["desc","A2B0"],R=m.length,q=128+4+R*12;L.mF(Q,a,R);
a+=4;for(var U=0;U<R;U++){var l=m[U];L.GJ(Q,a,l);a+=4;L.mF(Q,a,q);a+=4;var b=q;if(l=="desc"){L.GJ(Q,b,"mluc");
b+=4;b+=4;L.mF(Q,b,1);b+=4;L.mF(Q,b,12);b+=4;L.GJ(Q,b,"enUS");b+=4;var D="ICC by Photopea\0",c=D.length*2+2;
L.mF(Q,b,c);b+=4;L.mF(Q,b,28);b+=4;Q.G2(b,c);for(var v=0;v<D.length;v++)Q.data[b+v*2+1]=D.charCodeAt(v);
b+=c}if(l=="A2B0"){L.GJ(Q,b,"mAB ");b+=4;b+=4;Q.G2(b,4);Q.data[b]=3;Q.data[b+1]=3;b+=4;Q.G2(b,4*5);b+=4*3;
L.mF(Q,b,b+8-q);b+=4;b+=4;Q.G2(b,20);Q.data[b]=j;Q.data[b+1]=j;Q.data[b+2]=j;b+=16;Q.data[b]=2;b+=4;
var _=j*j*j*3;Q.G2(b,_*2);for(var v=0;v<_;v++)L.pL(Q.data,b+v*2,Math.max(0,Math.min(65535,Math.round(n[v]*65535))));
b+=_*2}var p=b-q;while((p&3)!=0)p++;L.mF(Q,a,p);a+=4;q+=p}L.mF(Q,0,q);return Q.data.slice(0,q)};hy.a8y=function(j,n){n="LUTFormat"+n.toUpperCase();
var Q=[],a=0,B=L.Cl(j,0,j.length),m="";for(var v=0;v<j.length&&m=="";v++){if(j[v]==10)m="\n";else if(j[v]==13){m="\r";
if(j[v+1]==10)m+="\n"}}if(n=="LUTFormatCUBE"){var R=B.split(m);for(var v=0;v<R.length;v++){if(R[v]==""||R[v][0]=="#")continue;
var q=R[v].split(" "),U=q[0];if(U=="LUT_3D_SIZE"){a=parseInt(q[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(U)!=-1)continue;
Q.push(parseFloat(q[0]),parseFloat(q[1]),parseFloat(q[2]))}Q=hy.ad2(a,Q)}else if(n=="LUTFormat3DL"){var R=B.split(m),l=1/4095;
for(var v=0;v<R.length;v++){var b=R[v];if(b==""||b=="3DMESH"||b.startsWith("Mesh")||b[0]=="#")continue;
var q=b.split(" "),U=q[0];if(a==0){a=q.length;continue}Q.push(parseFloat(q[0])*l,parseFloat(q[1])*l,parseFloat(q[2])*l)}}else if(n=="LUTFormatLOOK"){var D=new DOMParser,c=D.parseFromString(B,"text/xml"),_=c.getElementsByTagName("LUT")[0],p=_.children[0].textContent;
a=parseInt(JSON.parse(p));var X=_.children[1].textContent;X=X.replace(/"/g,"").replace(/\s/g,"");var g=3*a*a*a,F=g*4,k=new Uint8Array(F);for(var v=0;v<F;v++){var I=X.charCodeAt(v*2),e=X.charCodeAt(v*2+1),H=I<58?I-48:I-55,A=e<58?e-48:e-55;k[v]=(H<<4)+A}for(var v=0;v<g;v++)Q.push(L.Gf(k,v<<2));Q=hy.ad2(a,Q)}else throw n;return[a,Q]};hy.axK=function(j,n,Q){var a=["#Created by www.Photopea.com","TITLE \""+Q+"\"","","#LUT size","LUT_3D_SIZE "+n,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],B=6;
for(var v=0;v<j.length;v+=3){a.push(j[v].toFixed(B)+" "+j[v+1].toFixed(B)+" "+j[v+2].toFixed(B))}a.push("");
return L.XS(a.join("\n")).buffer};hy.ad2=function(j,n){var Q=[],a=j*j*j;for(var v=0;v<a;v++)Q.push(0,0,0);
for(var B=0;B<j;B++)for(var m=0;m<j;m++)for(var R=0;R<j;R++){var v=3*(R+m*j+B*j*j),q=3*(B+m*j+R*j*j);
Q[q]=n[v];Q[q+1]=n[v+1];Q[q+2]=n[v+2]}return Q};function aB(){}aB.CF=function(j,n,Q,a,B,m){var R=Q,b;
if(B==null)B=0;var q=m?L.vS:L.St,U=m?L.J9:L.q_,l=m?L.lz:L.N4,D=q(j,Q);if(D==0){b="";Q+=4}else{b=l(j,Q);
Q+=4+2*b.length+2}if(b!="")n.__name=b;n.classID=aB.aR(j,Q,m);if(a)console.log("\t".repeat(B),"- reading descriptor",n.classID,Q);
Q+=aB.FX(j,Q,m);var c=U(j,Q);Q+=4;for(var v=0;v<c;v++){var _=aB.aR(j,Q,m);Q+=aB.FX(j,Q,m);var p=aB.aj7(j,Q,a,B,m);
n[_]=p;Q+=p.size;delete p.size}return Q-R};aB.wO=function(j,n,Q,a){var B=Q,m=n.__name;if(m==null)m="";
m+="\0";L.Um(j,Q,m);Q+=4+2*m.length;aB.hA(j,Q,n.classID);Q+=aB.FX(j.data,Q);L.Ia(j,Q,Object.keys(n).length-1-(n.__name==null?0:1));
Q+=4;for(var R in n){if(R=="classID")continue;if(R=="__name")continue;aB.hA(j,Q,R);Q+=aB.FX(j.data,Q);
Q+=aB.a01(j,Q,n[R])}return Q-B};aB.aj7=function(j,n,Q,a,B){var m=n,R=L.Xv(j,n,B);n+=4;var q=B?L._t:L.NZ,U=B?L.vS:L.St,l=B?L.J9:L.q_,b=B?L.lz:L.N4,D={size:0,t:R,v:null};
if(Q)console.log("\t".repeat(a),"reading key",R,m);switch(R){case"obj ":case"VlLs":D.v=[];var c=U(j,n);
n+=4;for(var v=0;v<c;v++){var _=aB.aj7(j,n,Q,a+1,B);n+=_.size;delete _.size;D.v.push(_)}break;case"UntF":D.v={type:L.Xv(j,n,B),val:q(j,n+4)};
n+=12;break;case"doub":{D.v=q(j,n);n+=8;break}case"bool":D.v=j[n]==1;n+=1;break;case"long":D.v=l(j,n);
n+=4;break;case"comp":D.v=l(j,n+4);n+=8;break;case"Objc":D.v={};var p=aB.CF(j,D.v,n,Q,a+1,B);n+=p;break;
case"TEXT":var X=U(j,n);if(X==0){D.v="";n+=4}else{D.v=b(j,n);n+=4+D.v.length*2+2}break;case"enum":var g=aB.aR(j,n,B);
n+=aB.FX(j,n,B);var F=aB.aR(j,n,B);n+=aB.FX(j,n,B);D.v={};D.v[g]=F;break;case"tdta":var k=l(j,n);n+=4;
D.v=Array.from(j.slice(n,n+k));n+=k;break;case"ObAr":var I=U(j,n);n+=4;var e=b(j,n);n+=4+2*e.length+2;
if(e!="")throw e;var H=aB.aR(j,n,B);n+=4+Math.max(4,H.length);D.v={classID:H,arr:[]};var A=U(j,n);n+=4;
for(var v=0;v<A;v++){var H=aB.aR(j,n,B);n+=4+Math.max(4,H.length);var g=L.Xv(j,n,B);n+=4;var Z=L.Xv(j,n,B);
n+=4;var J={id:H,type:g,uID:Z,arr:[]};D.v.arr.push(J);var s=U(j,n,4);n+=4;for(var E=0;E<s;E++){var z=q(j,n);
n+=8;J.arr.push(z)}}break;case"Pth ":if(B)throw"e";var h=n,k=L.St(j,n);n+=4;var d=L.AP(j,n,4);n+=4;var Y=L.vS(j,n);
n+=4;var C=L.aqa(j,n);n+=4+C.length*2;D.v={sig:d,pth:C};break;case"Clss":case"type":case"rele":var C=b(j,n);
n+=4+C.length*2+2;var i=aB.aR(j,n,B);n+=4+Math.max(4,i.length);D.v={classID:i};if(C!="")D.v.__name=C;
if(R=="rele"){D.v.val=l(j,n);n+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var M=aB.WR[R],C=b(j,n);
n+=4+C.length*2+2;if(C.length!=0){console.log("String found",R,C)}D.v={};for(var v=0;v<M.length;v++){var i=aB.aR(j,n,B);
n+=4+Math.max(4,i.length);D.v[M[v]]=i}if(R=="name"){var C=b(j,n);n+=4+C.length*2+2;D.v.val=C}if(R=="indx"||R=="Idnt"){D.v.val=U(j,n);
n+=4}break;case"alis":var k=U(j,n);n+=4;D.v=L.AP(j,n,k);n+=k;break;default:{console.log("unknown oskey: "+R+", "+m);
throw"e";return D}}if(Q){console.log("\t".repeat(a),D.v);console.log("\t".repeat(a),"======",n)}D.size=n-m;
return D};aB.WR={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
aB.a01=function(j,n,Q){var a=n,B=Q.t;Q=Q.v;L.GJ(j,n,B);n+=4;switch(B){case"obj ":case"VlLs":L.Ia(j,n,Q.length);
n+=4;for(var m=0;m<Q.length;m++){var R=aB.a01(j,n,Q[m]);n+=R}break;case"UntF":L.GJ(j,n,Q.type);L.G3(j,n+4,Q.val);
n+=12;break;case"doub":L.G3(j,n,Q);n+=8;break;case"bool":L.mk(j,n,Q?1:0,1);n+=1;break;case"long":L.Ia(j,n,Q);
n+=4;break;case"comp":L.Ia(j,n+4,Q);n+=8;break;case"Objc":var R=aB.wO(j,Q,n);n+=R;break;case"TEXT":L.Um(j,n,Q+"\0");
n+=4+Q.length*2+2;break;case"enum":var q=Object.keys(Q)[0],U=Q[q];aB.hA(j,n,q);n+=aB.FX(j.data,n);aB.hA(j,n,U);
n+=aB.FX(j.data,n);break;case"tdta":L.mF(j,n,Q.length);n+=4;L.Y4(j,n,Q);n+=Q.length;break;case"ObAr":L.mF(j,n,Q.arr[0].arr.length);
n+=4;L.Um(j,n,"\0");n+=6;aB.hA(j,n,Q.classID);n+=4+Math.max(4,Q.classID.length);L.mF(j,n,Q.arr.length);
n+=4;for(var v=0;v<Q.arr.length;v++){var l=Q.arr[v];aB.hA(j,n,l.id);n+=4+Math.max(4,l.id.length);L.GJ(j,n,l.type);
n+=4;L.GJ(j,n,l.uID);n+=4;L.mF(j,n,l.arr.length);n+=4;for(var m=0;m<l.arr.length;m++){L.G3(j,n,l.arr[m]);
n+=8}}break;case"Pth ":var b=Q.pth.length*2+4+8;L.mF(j,n,b);n+=4;L.GJ(j,n,Q.sig);n+=4;L.Sd(j,n,b);n+=4;
L.aB6(j,n,Q.pth);n+=Q.pth.length*2+4;break;case"Clss":case"type":case"rele":var D=Q.__name;if(D==null)D="";
L.Um(j,n,D+"\0");n+=4+D.length*2+2;var c=Q.classID;aB.hA(j,n,c);n+=4+Math.max(4,c.length);if(B=="rele"){L.Ia(j,n,Q.val);
n+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var _=aB.WR[B],p="";if(B=="name"&&Q.classID=="Grdn")p="Gradient";
L.Um(j,n,p+"\0");n+=4+p.length*2+2;for(var v=0;v<_.length;v++){var c=Q[_[v]];aB.hA(j,n,c);n+=4+Math.max(4,c.length)}if(B=="name"){L.Um(j,n,Q.val+"\0");
n+=4+Q.val.length*2+2}if(B=="indx"||B=="Idnt"){L.mF(j,n,Q.val);n+=4}break;case"alis":var b=Q.length;
L.mF(j,n,b);n+=4;L.GJ(j,n,Q);n+=b;break;default:console.log("unknown oskey: "+B);n=a;break}return n-a};
aB.aR=function(j,n,Q){var a=Q?L.J9:L.q_,B=a(j,n);if(B>1e3)throw"e";if(B==0)return L.Xv(j,n+4,Q).trim();
return L.AP(j,n+4,B).trim()};aB.FX=function(j,n,Q){var a=Q?L.J9:L.q_,B=a(j,n);return B==0?8:4+B};aB.hA=function(j,n,Q){var a="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),B=4<Q.length||a.indexOf(Q)!=-1;
L.Ia(j,n,B?Q.length:0);L.GJ(j,n+4,Q);if(Q.length<4&&!B){var m="";for(var v=Q.length;v<4;v++)m+=" ";L.GJ(j,n+4+Q.length,m)}};
aB.ayK=function(j){var n={};for(var Q in j){if(Q=="classID")n[Q]=j[Q];else if(Q=="__name")n[Q]=j[Q];
else n[Q]=aB.arC(j[Q])}return n};aB.arC=function(j){if(j.xE=="Objc")return aB.ayK(j.v);else if(j.xE=="VlLs"){var n=[];
for(var v=0;v<j.v.length;v++)n.push(aB.arC(j.v[v]));return n}else if(j.xE=="UntF")return j.v.val;else return j.v};
function cO(){}cO.iq=function(j,n,Q,a,B,m,R){var q=R?L.vS:L.St,U=R?L.J9:L.q_,l=R?L.rv:L.oN,b=R?L.FT:L.TY,D=R?L.aDb:L.Kq,c=R?L._t:L.NZ,_=R?L.Gf:L.Hb,p=R?L.aqa:L.jA;
while(n<Q){var X=L.Xv(j,n,R);n+=4;if(X!="8BIM"&&X!="8B64"){console.log("layer information signature error! "+X,"PSB = "+B);
alert("Error in PSD file: wrong signature.");return Q}var g=L.Xv(j,n,R);n+=4;var F=q(j,n);n+=4;var k=B&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(g)!=-1;
if(k){F=F<<32|U(j,n);n+=4}var I=["lrFX","PlLd"];if(I.indexOf(g)!=-1){if(F%4!=0)F+=4-F%4;n+=F;continue}switch(g){case"iOpa":a[g]=j[n];
break;case"brst":a[g]=[1,1,1];for(var v=0;v<F;v+=4)a[g][q(j,n+v)]=0;break;case"knko":a[g]=j[n];break;
case"infx":a[g]=j[n];break;case"clbl":a[g]=j[n];break;case"lmgm":a[g]=j[n];break;case"vmgm":a[g]=j[n];
break;case"fcmy":a[g]=j[n];break;case"lyid":a[g]=q(j,n);break;case"lsct":a[g]={w:q(j,n)};if(F>=12)a[g].TM=L.Xv(j,n+8,R);
break;case"lsdk":a.lsct={w:q(j,n)};break;case"lyvr":a[g]=q(j,n);break;case"lnsr":var e={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
a[g]=L.Xv(j,n,R);break;case"lspf":a[g]=q(j,n);break;case"lclr":a[g]=l(j,n);break;case"luni":a[g]=p(j,n);
break;case"fxrp":a[g]=new eE(c(j,n),c(j,n+8));break;case"phry":case"artb":case"artd":a[g]={};aB.CF(j,a[g],n+4,!1,null,R);
break;case"SoCo":a[g]={};aB.CF(j,a[g],n+4,!1,null,R);break;case"GdFl":a[g]={};aB.CF(j,a[g],n+4,!1,null,R);
cO.Li(a[g],g);break;case"PtFl":a[g]={};aB.CF(j,a[g],n+4,!1,null,R);cO.Li(a[g],g);break;case"CgEd":a[g]={};
aB.CF(j,a[g],n+4,!1,null,R);break;case"brit":var H=a.brit=fo.cL("brit"),A={};H.Brgh.v=b(j,n);H.Cntr.v=b(j,n+2);
H.useLegacy.v=!0;break;case"levl":var Z=j.buffer.slice(n,n+F);a[g]=kp.by(Z,R);break;case"curv":a[g]=dr.KW(j,n,F,R);
break;case"expA":var J=b(j,n),s=a[g]=fo.cL("expA");s.Exps.v=_(j,n+2);s.Ofst.v=_(j,n+6);s.gammaCorrection.v=_(j,n+10);
break;case"vibA":a[g]={};aB.CF(j,a[g],n+4,!1,null,R);break;case"hue2":a[g]=az.KW(j,n,F,R);break;case"blnc":var s=a[g]=fo.cL(g);
s.PrsL.v=j[n+18]==1;var E=["ShdL","MdtL","HghL"];for(var v=0;v<3;v++)for(var z=0;z<3;z++)s[E[v]].v[z].v=b(j,n+v*6+z*2);
break;case"blwh":var h={};aB.CF(j,h,n+4,!1,null,R);var s=fo.cL(g),d="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var v=0;v<d.length;v++){s[d[v]]=h[d[v]];delete h[d[v]]}a[g]=s;break;case"phfl":var s=a[g]=fo.cL(g),Y=s.Clr.v,J=l(j,n);
if(J==3){var C=[q(j,n+2),q(j,n+6),q(j,n+10)],i=32768,M=K.axm(C[0]/i,C[1]/i,C[2]/i);Y.Lmnc.v=M.Cm;Y.A.v=M.NX;
Y.B.v=M.b}if(J==2){var W=l(j,n+2);if(W!=7)throw"e";Y.Lmnc.v=b(j,n+4)/100;Y.A.v=b(j,n+6)/100;Y.B.v=b(j,n+8)/100}var $=n+2+(J==3?12:10);
s.Dnst.v=q(j,$);$+=4;s.PrsL.v=j[$]==1;break;case"mixr":var P={At:l(j,n+2)==1,J:[]};for(var v=0;v<20;
v++)P.J.push(b(j,n+4+v*2));a[g]=k8.Yn(P);break;case"clrL":case"rplc":a[g]={};aB.CF(j,a[g],n+6,!1,null,R);
break;case"nvrt":a[g]={};break;case"post":a[g]=fo.cL("post");a[g].Lvls.v=l(j,n);break;case"thrs":a[g]=fo.cL("thrs");
a[g].Lvl.v=l(j,n);break;case"grdm":var O=n,G=l(j,O);O+=2;var t=j[O]==1,y=j[O+1]==1;O+=2;var r=L.Xv(j,O,R);
if(r=="Perc"||r=="Gcls"||r=="Lnr "||r=="\0\0\x0B\x1D")O+=4;var u=p(j,O);O+=4+u.length*2;var S=at.az8(j,O,u,R),w=S[0];
O=S[1];var dj=l(j,O);O+=2;var o=q(j,O);O+=4;var T=l(j,O)==1;O+=2;var i6=l(j,O)==1;O+=2;var bH=q(j,O);
O+=4;var cg=l(j,O);O+=2;var bu=[],hH=[];for(var v=0;v<4;v++){bu.push({t:"long",v:~~(l(j,O+v*2)*100/32768)});
hH.push({t:"long",v:~~(l(j,O+v*2+8)*100/32768)})}O+=16;var dK=l(j,O);O+=2;if(dj==1)w={classID:"Grdn",Nm:{t:"TEXT",v:u},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:T},VctC:{t:"bool",v:i6},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:o},Smth:{t:"long",v:bH},Mnm:{t:"VlLs",v:bu},Mxm:{t:"VlLs",v:hH}};
var d8=fo.cL("grdm");d8.Rvrs.v=t;d8.Grad.v=w;a[g]=d8;break;case"selc":a[g]=cG.KW(j,n,F,R);break;case"vmsk":case"vsms":var d1=a.vmsk=new f.hx,gH=U(j,n+4),kh=(gH>>0&1)==1;
d1.DW=(gH>>1&1)==0;d1.isEnabled=(gH>>2&1)==0;d1.z=bJ.iW(j,n+8,F-8,m.q,m._,R);break;case"shmd":a[g]={};
var ay=q(j,n),$=n+4;for(var v=0;v<ay;v++){var X=L.Xv(j,$,R);$+=4;var dO=L.Xv(j,$,R);$+=4;var fy=j[$];
$++;if(Math.max(j[$],j[$+1])!=0)throw"e";$+=3;var bg=q(j,$);$+=4;if(dO=="cust"||dO=="cmls"||dO=="extn"||dO=="mlst"){var f4=q(j,$);
if(f4!=16)$+=4;if(q(j,$)==16){var h={};aB.CF(j,h,$+4,!1,null,R);a[g][dO]=h;if(dO=="cmls")N.pw.aav(a[g][dO])}}else{console.log("unknown shmd key: "+dO+", size: "+bg)}$+=bg}break;
case"shpa":var J=q(j,n),jb=q(j,n+4);if(jb!=0)console.log("some patterns present!");break;case"TySh":var jT=a[g]={},J=l(j,n);
jT.C=L.rk(j,n+2,R);var jy=l(j,n+2+48);jT.K7={};try{var cl=aB.CF(j,jT.K7,n+56)}catch(bY){a[g]=null;break}var hu=eR.abd();
for(var aA in hu)if(jT.K7[aA]==null)jT.K7[aA]=hu[aA];jT.ED={};var ko=aB.CF(j,jT.ED,n+56+cl+6,!1,null,R);
jT.v$=L.a7O(j,n+56+cl+6+ko);jT.Kt=dC.by(jT.K7.EngineData.v);eR.agS(jT.Kt.EngineDict.StyleRun.RunArray);
if(jT.Kt.ResourceDict==null)jT.Kt.ResourceDict=K.u(jT.Kt.DocumentResources);delete jT.K7.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var ec=q(j,n),kK=q(j,n+4);a.lmfx={};var cl=aB.CF(j,a.lmfx,n+8,!1,null,R);
cO.Kg(a.lmfx);break;case"FMsk":a[g]=j.slice(n,n+F);break;case"Txt2":a[g]={};a[g].raw=j.slice(n,n+F);
a[g].t0=aN.by(a[g].raw);break;case"Patt":a[g]=g9.US(j,n,F,R);break;case"SoLd":var cM=L.Xv(j,n,R),gG=q(j,n+4),c2=q(j,n+8),a1=a[g]={},cs=aB.CF(j,a1,n+12,null,null,R),f7=a1.warp,j7=a1.quiltWarp;
if(j7==null)j7=a1.quiltWarp=K.UH.aFd(f7);delete a1.warp;var dz=j7.v.warpStyle.v.warpStyle,iA=j7.v.warpValues;
if(dz!="warpCylinder"&&iA){j7.v.warpValue={t:"doub",v:iA.v[0].v};delete j7.v.warpValues}if(a1.nonAffineTransform==null)a1.nonAffineTransform=K.u(a1.Trnf);
if(a1.Impr==null)a1.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var gG=q(j,n);
a[g]={};var cs=aB.CF(j,a[g],n+4,!1,null,R);break;case"vscg":var dO=L.Xv(j,n,R),gG=q(j,n+4);a[dO]={};
var cs=aB.CF(j,a[dO],n+8,!1,null,R);cO.Li(a[dO],dO);break;case"vogk":var kk=q(j,n),gG=q(j,n+4);a[g]={};
var cs=aB.CF(j,a[g],n+8,!1,null,R);a[g]=a[g].keyDescriptorList.v;for(var v=0;v<a[g].length;v++){var fA=a[g][v].v;
if(!K._y.GO(fA))continue;if(fA.keyOriginBoxCorners==null){var g5=K._y.kk(fA);fA.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var h$=[g5[0],g5[1],g5[2],g5[1],g5[2],g5[3],g5[0],g5[3]];if(fA.keyOriginType.v==4)h$=K._y.alS(K._y.hR(fA),fA.keyOriginLineWeight.v);
K._y.EM(fA,"keyOriginBoxCorners",h$)}}break;case"lnk2":case"lnkD__":case"lnk3__":a[g]=[];var O=n;while(O<n+F){var hL=new f.mD;
a[g].push(hL);var ha=D(j,O);O+=8;var jl=O;hL.w=L.Xv(j,O,R);O+=4;if(hL.w!="liFD"){alert("Unknown Linked Layer type: "+hL.w);
break;throw hL.w}hL.o8=q(j,O);O+=4;var fI=L.kJ(j,O);O+=1+fI.aB.length;hL.A8=fI.aB;var aE=R?L.lz:L.N4;
hL.yR=aE(j,O);O+=4+hL.yR.length*2+2;hL.px=L.Xv(j,O,R);O+=4;hL.T$=L.Xv(j,O,R);O+=4;var es=D(j,O);O+=8;
hL.open=j[O];O+=1;if(hL.open!=0){var kN={},cl=aB.CF(j,kN,O+4,null,null,R);if(cl%4!=0)cl+=4-cl%4;console.log(kN);
O+=cl+4}hL.open=0;hL.raw=j.slice(O,O+es);O=jl+ha;if(ha%4!=0)O+=4-ha%4}break;case"FEid":var O=n;a[g]=[];
var fV=O+F,J=q(j,O);O+=4;while(O<fV){var ha=D(j,O);O+=8;var S={};a[g].push(S);S.id=L.kJ(j,O).aB;O+=S.id.length+1;
var J=q(j,O);O+=4;O+=4;var jU=q(j,O);O+=4;S.s=L.it(j,O,R);O+=16;var c$=q(j,O);O+=4;var iq=q(j,O);O+=4;
var cz=new K.aL(0);for(var v=0;v<iq+2;v++){var h0=q(j,O);O+=4;if(h0!=0){var fl=D(j,O),co=null;O+=8;if(v<3||v==25){co=iz.h3(!0,c$,j,S.s.q,S.s._,O,fl,R);
co=K.R8(co,8)}if(v==0)cz.n=co;if(v==1)cz.i=co;if(v==2)cz.b=co;if(v==25)cz.NX=co;O+=fl}}S.buffer=K.U(S.s.$()*4);
K.Y1(cz,S.buffer);var cC=j[O];O++;if(cC!=0){S.N=new f.km;S.N.s=L.it(j,O,R);O+=16;var gr=D(j,O);O+=8;
var co=iz.h3(!0,c$,j,S.N.s.q,S.N.s._,O,gr,R);S.N.G=K.R8(co,8);S.N.color=255;S.N.Dy();O+=gr}if(ha%4!=0)O+=4-ha%4}break;
case"Lr16":hz.Qg(m,j,n,R);break;case"Lr32":hz.Qg(m,j,n,R);break;case"Anno":a[g]=[];var eK=n,kM=n+4,jb=q(j,kM);
kM+=4;for(var v=0;v<jb;v++){var ha=q(j,kM);kM+=4;var bM=L.Xv(j,kM,R);kM+=4;if(bM!="txtA")throw bM;var bn=j[kM++],fT=j[kM++],ck=l(j,kM);
kM+=2;var ce=L.it(j,kM,R);kM+=16;var kn=L.it(j,kM,R);kM+=16;var Y=hq.qH(j,kM,R);kM+=10;var fc=L.kJ(j,kM);
kM+=fc.length;var cv=L.kJ(j,kM);kM+=cv.length;var gM=L.kJ(j,kM);kM+=gM.length;var hF=q(j,kM);kM+=4;var fg=L.Xv(j,kM,R);
kM+=4;var fP=q(j,kM);kM+=4;var cu=R?L._2:L.AN,h8=cu(j,kM+2,fP-2>>1);kM+=fP;a[g].push([ce.x,ce.y,Y,fc.aB,h8])}break;
default:break}var ia="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry".split(",");
if(ia.indexOf(g)==-1)if(F%4!=0)console.log("size not multiple of 4!!!",g);if(g!="luni"&&g!="TySh"&&g!="tySh"&&g!="lfx2"&&g!="iOpa")if(F%4!=0)F+=4-F%4;
n+=F}var A=a.CgEd;if(A){var H=a.brit;if(H){H.Brgh.v=A.Brgh?A.Brgh.v:0;H.Cntr.v=A.Cntr?A.Cntr.v:0;H.useLegacy.v=A.useLegacy?A.useLegacy.v:0}delete a.CgEd}var jd=[];
for(var v=0;v<jd.length;v++)delete a[jd[v]];return n};cO.Y0=function(j,n,Q,a,B){if(Q.SoLd){var m={};
for(var R in Q){if(R=="SoLd")m.PlLd={};m[R]=Q[R]}Q=m}for(var q in Q)if(Q[q]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+q+"\" tag was present with a null value.");delete Q[q]}for(var q in Q){var U=a&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(q)!=-1,b=0;
L.GJ(j,n,U?"8B64":"8BIM");n+=4;var l=n;L.GJ(j,n,q);n+=4;L.Ia(j,n,0);n+=U?8:4;switch(q){case"iOpa":L.mk(j,n,Q[q],1);
b=4;break;case"brst":b=0;for(var v=0;v<3;v++)if(Q[q][v]==0){L.mF(j,n+b,v);b+=4}break;case"knko":L.mk(j,n,Q[q],1);
b=4;break;case"infx":L.mk(j,n,Q[q],1);b=4;break;case"clbl":L.mk(j,n,Q[q],1);b=4;break;case"lmgm":L.mk(j,n,Q[q],1);
b=4;break;case"vmgm":L.mk(j,n,Q[q],1);b=4;break;case"fcmy":L.mk(j,n,Q[q],1);b=4;break;case"lyid":L.mF(j,n,Q[q]);
b=4;break;case"lsct":L.mF(j,n,Q[q].w);b=4;if(Q[q].TM){L.GJ(j,n+4,"8BIM");L.GJ(j,n+8,Q[q].TM);b=12}break;
case"lyvr":L.mF(j,n,Q[q]);b=4;break;case"lnsr":L.GJ(j,n,Q[q]);b=4;break;case"lspf":L.mF(j,n,Q[q]);b=4;
break;case"lclr":L.jZ(j,n,Q[q]);b=8;break;case"luni":L.Um(j,n,Q[q]);b=4+2*Q[q].length;break;case"fxrp":L.G3(j,n,Q[q].x);
L.G3(j,n+8,Q[q].y);b=16;break;case"phry":case"artb":case"artd":L.mF(j,n,16);b=aB.wO(j,Q[q],n+4)+4;break;
case"SoCo":L.mF(j,n,16);b=aB.wO(j,Q[q],n+4)+4;break;case"GdFl":L.mF(j,n,16);b=aB.wO(j,Q[q],n+4)+4;break;
case"PtFl":L.mF(j,n,16);b=aB.wO(j,Q[q],n+4)+4;break;case"CgEd":var D={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},c=D,_=Q[q];
c.Brgh.v=_.Brgh.v;c.Cntr.v=_.Cntr.v;c.useLegacy.v=_.useLegacy.v;L.mF(j,n,16);b=aB.wO(j,D,n+4)+4;break;
case"brit":j.G2(n,8);b=8;break;case"levl":var p=new e3;b=kp.zw(p,Q[q]);L.Y4(j,n,p.data);break;case"curv":b=dr.nZ(j,n,Q[q]);
break;case"expA":b=14;j.G2(n,14);L.pL(j.data,n,1);L.mT(j.data,n+2,Q[q].Exps?Q[q].Exps.v:0);L.mT(j.data,n+6,Q[q].Ofst?Q[q].Ofst.v:0);
L.mT(j.data,n+10,Q[q].gammaCorrection?Q[q].gammaCorrection.v:1);break;case"vibA":L.mF(j,n,16);b=aB.wO(j,Q[q],n+4)+4;
break;case"hue2":b=az.nZ(j,n,Q[q]);break;case"blnc":b=19;j.G2(n,b);var X=["ShdL","MdtL","HghL"];for(var v=0;
v<3;v++){var g=Q[q][X[v]].v;for(var F=0;F<3;F++)g.push(L.vz(j.data,n+v*6+F*2,g[F].v))}j.data[n+18]=Q[q].PrsL.v?1:0;
break;case"blwh":var D={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},k="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var v=0;v<k.length;v++){D[k[v]]=Q[q][k[v]]}L.mF(j,n,16);b=aB.wO(j,D,n+4)+4;break;case"phfl":L.jZ(j,n,2);
var I=Q[q].Clr.v;L.jZ(j,n+2,7);L.jZ(j,n+4,Math.round(I.Lmnc.v*100));L.jZ(j,n+6,Math.round(I.A.v*100));
L.jZ(j,n+8,Math.round(I.B.v*100));L.jZ(j,n+10,0);var e=n+2+10;j.G2(e,5);L.gS(j.data,e,Q[q].Dnst.v);e+=4;
j.data[e]=Q[q].PrsL.v?1:0;e++;b=e-n;break;case"mixr":b=44;j.G2(n,b);var H=k8.Ng(Q[q]);L.pL(j.data,n,1);
L.pL(j.data,n+2,H.At?1:0);for(var v=0;v<20;v++)L.vz(j.data,n+4+v*2,H.J[v]);break;case"clrL":case"rplc":L.jZ(j,n,1);
L.mF(j,n+2,16);b=aB.wO(j,Q[q],n+6)+6;break;case"nvrt":b=0;break;case"post":L.jZ(j,n,Q[q].Lvls.v);b=2;
break;case"thrs":L.jZ(j,n,Q[q].Lvl.v);b=2;break;case"grdm":var A=Q[q].Rvrs?Q[q].Rvrs.v:!1,Z=!1,J=867527939,s=!1,E=!1,z=2048,h=[0,0,0,0],d=[32768,32768,32768,32768],Y=Q[q].Grad.v,C,i,M=Y.Clrs==null?1:0;
if(M==0){C=Y;i=JSON.parse(g8.Qu.ahF).v}else{C=fo.cL("grdm").Grad.v;i=Y}j.G2(n,4);L.pL(j.data,n,1);j.data[n+2]=A?1:0;
j.data[n+3]=Z?1:0;var W=n+4;L.Um(j,W,Y.Nm.v);W+=4+Y.Nm.v.length*2;W=at.aAI(j,W,C);L.jZ(j,W,M);W+=2;L.mF(j,W,i.RndS.v);
W+=4;L.jZ(j,W,i.ShTr.v?1:0);W+=2;L.jZ(j,W,i.VctC.v?1:0);W+=2;L.mF(j,W,i.Smth.v);W+=4;L.jZ(j,W,3);W+=2;
for(var v=0;v<4;v++)L.jZ(j,W+v*2,h[v]);W+=8;for(var v=0;v<4;v++)L.jZ(j,W+v*2,d[v]);W+=8;W+=2;b=W-n;break;
case"selc":b=cG.nZ(j,n,Q[q]);break;case"FMsk":L.Y4(j,n,Q[q]);b=Q[q].length;break;case"Txt2":var $=new e3,P=aN.mH(Q[q].t0,$),O=$.data.slice(0,P);
L.Y4(j,n,O);b=O.length;break;case"vmsk":var G=Q[q],t=0;L.mF(j,n,3);if(!G.DW)t+=1<<1;if(!G.isEnabled)t+=1<<2;
L.mF(j,n+4,t);b=8;var y=G.z.length;j.G2(n+8,y*26);bJ.WF(j.data,n+8,G.z,B.q,B._);b+=y*26;break;case"shmd":L.mF(j,n,Object.keys(Q[q]).length);
var e=n+4;for(var r in Q[q]){L.GJ(j,e,"8BIM");e+=4;L.GJ(j,e,r);e+=4;L.mF(j,e,0);e+=4;L.mF(j,e,0);e+=4;
L.mF(j,e,16);e+=4;var u=aB.wO(j,Q[q][r],e);if(u%4!=0)u+=4-u%4;L.mF(j,e-8,u+4);e+=u}b=e-n;break;case"TySh":var e=n;
L.pv(j,e,1);e+=2;var S=Q[q],$=new e3;S.Kt.DocumentResources=K.u(S.Kt.ResourceDict);var P=dC.mH(S.Kt,$),O=$.data.slice(0,P);
S.K7.EngineData={t:"tdta",v:O};var w=S.Kt.EngineDict.Editor.Text;S.K7.Txt.v=w.substring(0,w.length-1);
L.aqv(j,e,S.C);e+=48;L.pv(j,e,50);e+=2;L.mF(j,e,16);e+=4;e+=aB.wO(j,S.K7,e);L.pv(j,e,1);e+=2;L.mF(j,e,16);
e+=4;e+=aB.wO(j,S.ED,e);L.aDY(j,e,S.v$);e+=16;b=e-n;break;case"lmfx":L.mF(j,n,0);L.mF(j,n+4,16);var D=K.u(Q[q]),dj=!1;
cO.EY(D);for(var v=0;v<g8.Ub.length;v++)if(D[g8.Ub[v]]!=null)dj=!0;L.GJ(j,l,dj?"lmfx":"lfx2");b=aB.wO(j,D,n+8)+8;
break;case"Patt":var e=g9.Rs(j,n,Q[q]);b=e-n;break;case"PlLd":var o=n;j.G2(n,60);var g=Q.SoLd;L.GJ(j,n,"plcL");
L.mF(j,n+4,3);var T=j.data[n+8]=g.Idnt.v.length;L.GJ(j,n+9,g.Idnt.v);var e=n+9+T,i6=[1,1,16,2];for(var v=0;
v<4;v++)L.mF(j,e+v*4,i6[v]);e+=16;i6=N.IP.lw(g.nonAffineTransform);for(var v=0;v<8;v++)L.G3(j,e+v*8,i6[v]);
e+=64;L.mF(j,e,0);L.mF(j,e+4,16);var bH=K.UH.a5M(g.quiltWarp).v;e+=8+aB.wO(j,bH,e+8);b=e-n;break;case"SoLd":var g=Q[q],cg=g.quiltWarp;
g.warp=K.UH.a5M(cg);if(K.UH.pq(cg.v)==16)delete g.quiltWarp;L.GJ(j,n,"soLD");L.mF(j,n+4,4);L.mF(j,n+8,16);
b=aB.wO(j,g,n+12)+12;g.quiltWarp=cg;delete g.warp;break;case"vstk":case"pths":L.mF(j,n,16);b=aB.wO(j,Q[q],n+4)+4;
break;case"vscg__":L.GJ(j,n,Q[q].key);L.mF(j,n+4,16);b=aB.wO(j,Q[q].J,n+8)+8;break;case"vogk":L.mF(j,n,1);
L.mF(j,n+4,16);K._y.afz(Q[q]);for(var v=0;v<Q[q].length;v++){var bu=Q[q][v].v.keyOriginResolution;if(bu)bu.v=B.Mp}var hH={classID:"null",keyDescriptorList:{t:"VlLs",v:Q[q]}};
b=aB.wO(j,hH,n+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var W=n;for(var v=0;v<Q[q].length;v++){var dK=Q[q][v],d8=W;
L.$E(j,W,0);W+=8;L.GJ(j,W,dK.w);W+=4;L.mF(j,W,dK.o8);W+=4;j.G2(W,1);j.data[W]=dK.A8.length;W++;L.GJ(j,W,dK.A8);
W+=dK.A8.length;L.Um(j,W,dK.yR+"\0");W+=4+dK.yR.length*2+2;L.GJ(j,W,dK.px);W+=4;L.GJ(j,W,dK.T$);W+=4;
L.$E(j,W,dK.raw.length);W+=8;j.G2(W,1);j.data[W]=dK.open;W++;L.Y4(j,W,dK.raw);W+=dK.raw.length;L.mF(j,W,1);
W+=4;W+=11;var d1=W-d8-8;L.$E(j,d8,d1);if(d1%4!=0){j.G2(W,4-d1%4);W+=4-d1%4}}b=W-n;break;case"FEid":var W=n;
L.mF(j,W,3);W+=4;for(var gH=0;gH<Q[q].length;gH++){var kh=Q[q][gH];W+=4;var ay=W;W+=4;L.Ez(j,W,kh.id);
W+=kh.id.length+1;L.mF(j,W,1);W+=4;var dO=K.U(kh.s.$()),fy=kh.s,bg=K.U(fy.$());W+=4;var f4=W;W+=4;L.K5(j,W,fy);
W+=16;L.mF(j,W,8);W+=4;L.mF(j,W,24);W+=4;for(var v=0;v<24+2;v++){var jb=-1;if(v==0)jb=0;if(v==1)jb=1;
if(v==2)jb=2;if(v==25)jb=3;L.mF(j,W,jb!=-1?1:0);W+=4;if(jb!=-1){K._W(kh.buffer,dO,jb);K.Gc(dO,kh.s,bg,fy);
W+=4;var jT=W;W+=4;j.G2(W,fy.$()+2);W=iz.f4(!0,bg,j.data,fy.q,fy._,W,3);L.mF(j,jT,W-(jT+4))}}L.mF(j,f4,W-(f4+4));
j.G2(W,1);j.data[W]=kh.N?1:0;W++;if(kh.N!=null){var jy=fy,cl=K.U(jy.$());cl.fill(kh.N.color);K.Gc(kh.N.G,kh.N.s,cl,jy);
L.K5(j,W,jy);W+=16;W+=4;var hu=W;W+=4;j.G2(W,jy.$()+2);W=iz.f4(!0,cl,j.data,jy.q,jy._,W,3);L.mF(j,hu,W-(hu+4))}var d1=W-(ay+4);
L.mF(j,ay,d1);if(d1%4!=0)W+=4-d1%4}b=W-n;break;case"Lr16":case"Lr32":var aA=hz.an_(B,j,n,[],!1);b=aA-n;
break;case"Anno":var aA=n,ko=Q[q].length;L.jZ(j,aA,2);L.jZ(j,aA+2,1);aA+=4;L.mF(j,aA,ko);aA+=4;for(var v=0;
v<ko;v++){var ec=Q[q][v],kK=ec[0],cM=ec[1],gG=aA;aA+=4;L.GJ(j,aA,"txtA");aA+=4;j.G2(aA,2);j.data[aA]=1;
j.data[aA+1]=28;aA+=2;L.jZ(j,aA,1);aA+=2;L.K5(j,aA,new b4(kK,cM,17,21));aA+=16;L.K5(j,aA,new b4(kK+8,cM+10,241,141));
aA+=16;j.G2(aA,10);hq.E1(j.data,aA,ec[2]);aA+=10;aA+=L.Ez(j,aA,ec[3]);aA+=L.Ez(j,aA,"");aA+=L.Ez(j,aA,"D:20211012120233+01'00'");
var c2=ec[4].length*2;L.mF(j,aA,12+2+c2);aA+=4;L.GJ(j,aA,"txtC");aA+=4;L.mF(j,aA,2+c2);aA+=4;j.G2(aA,2);
j.data[aA]=254;j.data[aA+1]=255;aA+=2;L.a0h(j,aA,ec[4]);aA+=c2;L.mF(j,gG,aA-gG)}b=aA-n;break;default:console.log("unknown layer tag: "+q+", size: "+b);
n-=12;continue}var a1=["Txt2","artd","extd","pths"];if(a1.indexOf(q)==-1)if(b%4!=0)b+=4-b%4;if(U)L.$E(j,n-8,b);
else L.mF(j,n-4,b);if(q!="luni"&&q!="TySh")if(b%4!=0)b+=4-b%4;n+=b}return n};cO.Kg=function(j){for(var v=0;
v<g8.order.length;v++){var n=g8.order[v],Q=g8.Ub[v];if(j[Q]==null)j[Q]={t:"VlLs",v:[]};if(j[n]!=null){j[Q].v.push(j[n]);
delete j[n]}var a=[];for(var B=0;B<j[Q].v.length;B++){var m=j[Q].v[B];if(m.v.present==null||m.v.present.v==!0)a.push(m)}j[Q].v=a}};
cO.EY=function(j){for(var v=0;v<g8.order.length;v++){var n=g8.order[v],Q=g8.Ub[v],a=j[Q].v.length;if(a==0){delete j[Q];
continue}if(a==1){j[n]=j[Q].v[0];delete j[Q];continue}}};cO.Li=function(j,n){if(n=="GdFl"){if(j.Angl==null)j.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(j.Algn==null)j.Algn={v:!0,t:"bool"};if(j.Scl==null)j.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(j.Ofst==null)j.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(j.Rvrs==null)j.Rvrs={v:!1,t:"bool"};if(j.Dthr==null)j.Dthr={v:!1,t:"bool"}}if(n=="PtFl"){if(j.Algn==null)j.Algn={v:!0,t:"bool"};
if(j.Angl==null)j.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(j.Scl==null)j.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(j.phase==null)j.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};cO.O=function(j,n){var Q={};
if(j=="TySh"){Q.C=n.C.O();Q.K7=K.u(n.K7);Q.ED=K.u(n.ED);Q.v$=n.v$.O();Q.Kt=K.u(n.Kt);if(n.add)Q.add={vmsk:n.add.vmsk.O(),vogk:K.u(n.add.vogk)};
return Q}else if(j=="fxrp")return n.O();else if(j=="vmsk")return n.O();else return K.u(n)};function b7(j,n){}b7.by=function(j,n,Q,a,B){a=b7.aC9(j,n,Q,a,B);
return a};b7.mH=function(j,n,Q,a,B){a=b7.ahU(j,n,Q,a,B);return a};b7.aC9=function(j,n,Q,a,B){var m=a;
j.s=L.it(Q,a,B);a+=16;var R=B?L.rv:L.oN,q=B?L.FT:L.TY,U=R(Q,a);a+=2;j.Qt=[];var l=n.$T,b=B?L.aDb:L.Kq,D=B?L.vS:L.St,c=l?b:D;
for(var v=0;v<U;v++){j.Qt[v]={id:q(Q,a),length:c(Q,a+2)};a+=l?10:6}var _=L.Xv(Q,a,B);a+=4;if(_!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(_));
alert("Error in Photoshop file: wrong signature.");throw"e"}j.TM=L.Xv(Q,a,B);a+=4;j.wT=Q[a];a+=1;j.U7=Q[a]==1;
a+=1;j.G$=Q[a];a+=1;if(Q[a]!=0)console.log("error in filler!");a+=1;var p=D(Q,a);a+=4;var X=a;a=b7.amG(j,Q,a,B);
a=b7.aBS(j,Q,a,B);var g=L.kJ(Q,a);j.name=g.aB;a+=g.length;if(g.length%4!=0)a+=4-g.length%4;a=cO.iq(Q,a,X+p,j.add,l,n,B);
if(j.add.lsct){if(j.add.lsct.TM)j.TM=j.add.lsct.TM;j.add.lsct=j.add.lsct.w}return a};b7.ahU=function(j,n,Q,a,B){var m=a;
L.K5(Q,a,j.s);a+=16;var R=n.add.fcmy==1,q=j.aH4(R);L.jZ(Q,a,q.length);a+=2;var U=n.$T;B.push(a);for(var v=0;
v<q.length;v++){L.pv(Q,a,q[v]);if(U)L.$E(Q,a+2,0);else L.mF(Q,a+2,0);a+=U?10:6}L.GJ(Q,a,"8BIM");a+=4;
L.GJ(Q,a,j.TM);a+=4;L.mk(Q,a,j.wT,1);a+=1;L.mk(Q,a,j.U7?1:0,1);a+=1;L.mk(Q,a,j.G$,1);a+=1;L.mk(Q,a,0,1);
a+=1;var l=a;L.mF(Q,a,0);a+=4;var b=a;a=b7.aHn(j,Q,a);a=b7.a3T(j,Q,a);var D=L.Ez(Q,a,j.name.slice(0,255));
a+=D;if(D%4!=0)a+=4-D%4;if(j.add.lsct){j.add.lsct={w:j.add.lsct};if(j.TM=="pass"){j.add.lsct.TM="pass";
j.TM="norm"}}if(j.TM=="pass")j.add.lsct={w:j.add.lsct,TM:"pass"};if(j.add.brit)j.add.CgEd=j.add.brit;
a=cO.Y0(Q,a,j.add,U,n);delete j.add.CgEd;if(j.add.lsct){if(j.add.lsct.TM)j.TM=j.add.lsct.TM;j.add.lsct=j.add.lsct.w}var c=a-b;
L.mF(Q,l,c);return a};b7.amG=function(j,n,Q,a){var B=a?L.vS:L.St,m=B(n,Q);Q+=4;if(m==0)return Q;var R=Q;
j.N=new f.km;j.N.s=L.it(n,Q,a);Q+=16;j.N.color=n[Q];Q+=1;var q=b7.a9S(j.N,n,Q);Q+=1;if(q){if(a)throw"e";
var U=!1,l=255,b=0,D=255,c=0;for(var v=0;v<j.Qt.length;v++)if(j.Qt[v].id==-3)U=!0;if(U){j.Bc=b7.as9(n,Q);
Q+=18}var _=Q,p=n[Q];Q++;if(p>>0&1){l=n[Q];Q++}if(p>>1&1){b=L.NZ(n,Q);Q+=8}if(p>>2&1){D=n[Q];Q++}if(p>>3&1){c=L.NZ(n,Q);
Q+=8}if((Q-_&1)==1)Q++;j.YK=[l,b,D,c]}else{if(m==20)Q+=2;else{j.Bc=b7.as9(n,Q,a);Q+=18}}return R+m};
b7.aHn=function(j,n,Q){L.mF(n,Q,0);Q+=4;if(j.N==null)return Q;var a=j.sJ(),B=j.add.vmsk,m=Q,R=!0;L.mF(n,Q,0);
L.K5(n,Q,j.N.s);Q+=16;L.mk(n,Q,j.N.color);Q+=1;b7.aDK(j.N,n,Q,R);Q+=1;if(R){if(j.Bc){b7.aoy(n,Q,j.Bc);
Q+=18}var q=Q;L.mk(n,Q,B?15:3);Q+=1;L.mk(n,Q,a?a.lF:255);Q+=1;L.G3(n,Q,a?a.g_:0);Q+=8;if(B){L.mk(n,Q,B?B.lF:255);
Q+=1;L.G3(n,Q,B?B.g_:0);Q+=8}if((Q-q&1)==1)Q++}L.mF(n,m-4,Q-m);return Q};b7.as9=function(j,n,Q){var a=new f.km;
b7.a9S(a,j,n);n+=1;a.color=j[n];n+=1;a.s=L.it(j,n,Q);n+=16;return a};b7.aoy=function(j,n,Q){b7.aDK(Q,j,n,!1);
n+=1;L.mk(j,n,Q.color);n+=1;L.K5(j,n,Q.s);n+=16};b7.a9S=function(j,n,Q){var a=n[Q];j.DW=(a>>0&1)==0;
j.isEnabled=(a>>1&1)==0;j.lt=(a>>3&1)==1;return a>>4&1};b7.aDK=function(j,n,Q,a){var B=0;if(!j.DW)B+=1<<0;
if(!j.isEnabled)B+=1<<1;if(j.lt)B+=1<<3;if(a)B+=1<<4;L.mk(n,Q,B)};b7.aBS=function(j,n,Q,a){var B=a?L.vS:L.St,m=B(n,Q);
Q+=4;for(var v=0;v<m;v++)j.rH[v]=n[Q+v];return Q+m};b7.a3T=function(j,n,Q){L.mF(n,Q,j.rH.length);Q+=4;
n.G2(Q,40);for(var v=0;v<40;v++){n.data[Q+v]=j.rH[v]}return Q+40};function iz(){}iz.by=function(j,n,Q,a,B){a=iz.amP(j,n,Q,a,B);
return a};iz.zw=function(j,n,Q,a,B,m,R){a=iz.aro(j,n,Q,a,B,m,R);return a};iz.amP=function(j,n,Q,a,B){var m=n.ee,R=j.Qt,q={},U=a;
for(var v=0;v<R.length;v++){var l=R[v],b=l.id,D=l.length,c;if(b==-2&&j.N==null)b=-1;if(b==-3)c=j.Bc.s;
else if(b==-2)c=j.N.s;else c=j.s;var _=iz.h3(n.$T,n.v3,Q,c.q,c._,a,D,B);_=K.R8(_,n.depth);a+=D;if(b==-3)j.Bc.G=_;
else if(b==-2)j.N.G=_;else q["c"+b]=_}var p=new K.aL(0);p.NX=null;if(m==3){p.n=q.c0;p.i=q.c1;p.b=q.c2;
p.NX=q["c-1"]}else if(m==1){p.n=q.c0;p.i=q.c0;p.b=q.c0;p.NX=q["c-1"]}else if(m==4){var X=n.pC.r1039,g=null,F=q.c0,k=q.c1,I=q.c2,e=q.c3;
if(X){var g=X.a9u,H=17;if(g==null){var A=ICC.R(X.buffer);if(A.header.spaceIn=="RGB "){}else g=X.a9u=ICC.U.sampleLUT(A,H)}}if(g){var Z={n:F,i:k,b:I,NX:e},J=K.U(F.length*4);
K.Y1(Z,J);K.m2(J);ICC.U.applyLUT4(g,H,J,J);K.yD(J,Z)}else{for(var v=0;v<F.length;v++){var s=1-F[v]*(1/255),E=1-k[v]*(1/255),z=1-I[v]*(1/255),h=1-e[v]*(1/255),d=K.dm([s,E,z,h]);
F[v]=Math.floor(.5+d[0]*255);k[v]=Math.floor(.5+d[1]*255);I[v]=Math.floor(.5+d[2]*255)}}p.n=F;p.i=k;
p.b=I;p.NX=q["c-1"]}if(p.n==null)p.n=K.U(0);if(p.NX==null&&p.n!=null){p.NX=p.n.slice(0);p.NX.fill(255)}if(p.i==null)p.i=p.n.slice(0);
if(p.b==null)p.b=p.n.slice(0);j.buffer=K.U(Math.max(0,j.s.$()*4),n.depth);K.Y1(p,j.buffer);return a};
iz.aro=function(j,n,Q,a,B,m,R){var q=n.aH4(R),U=n.buffer,l=null,b=K.Rz(U),D=K.U(n.s.$(),b);if(R){l=K.U(n.s.$(),b);
K._W(U,l,3);U=U.slice(0);K.aBL(U)}for(var v=0;v<q.length;v++){var c=q[v],_;if(c==-3)_=n.Bc.s;else if(c==-2)_=n.N.s;
else _=n.s;var p=D;if(c==-3)p=n.Bc.G;if(c==-2)p=n.N.G;if(c==-1){if(l)p=l;else K._W(U,D,3)}if(c==0)K._W(U,D,0);
if(c==1)K._W(U,D,1);if(c==2)K._W(U,D,2);if(c==3)K._W(U,D,3);Q.G2(a,_.$()*3+4);var X=a;a=iz.f4(j,p,Q.data,_.q,_._,a,b!=8||m[1]?3:1);
var g=a-X;if(j)L.a1l(Q.data,B+v*10+2,g);else L.gS(Q.data,B+v*6+2,g)}return a};iz.h3=function(j,n,Q,a,B,m,R,q){var U=q?L.rv:L.oN,l=U(Q,m);
m+=2;var b=iz.Wx(j,n,Q,a,B,m,l,R-2,q);return b};iz.f4=function(j,n,Q,a,B,m,R){L.vz(Q,m,R);m+=2;m=iz.bV(j,n,Q,a,B,m,R);
return m};iz.Wx=function(j,n,Q,a,B,m,R,q,U){var l,b=a*B*(n>>>3),D=b&3,c=b+(D==0?0:4-D);if(q<=0){return K.U(c,n)}if(R==0){if(m+c<=Q.length)l=Q.slice(m,m+c);
else{l=K.U(b);for(var v=0;v<b;v++)l[v]=Q[m+v]}m+=b}else if(R==1){l=K.U(b);var _=j?4:2,p=iz.ax8(Q,l,a,B,m,m+_*B,_,U);
m+=_*B+p}else if(R==2||R==3){var X=new Uint8Array(Q.buffer,m+2,q-6),g=K.U(c);UZIP.inflateRaw(X,g);if(R==3){if(n==8)for(var F=0;
F<B;F++){var k=F*a+1,I=k+a-1,e=g[k-1];for(var H=k;H<I;H++){e+=g[H];g[H]=e&255}}else if(n==16)for(var F=0;
F<B;F++){var k=F*a,I=k+a,e=0;for(var H=k;H<I;H++){var A=H<<1;e+=g[A]<<8|g[A+1];g[A]=e&255;g[A+1]=e>>>8}}else{var Z=a,J=g.slice(0,Z*4);
for(var F=0;F<B;F++){var k=F*Z*4+1,I=k+Z*4-1,e=g[k-1];for(var H=k;H<I;H++){e+=g[H];g[H]=e&255}var s=F*Z*4;
for(var H=0;H<Z;H++){J[4*H+3]=g[s+H];J[4*H+2]=g[s+Z+H];J[4*H+1]=g[s+Z+Z+H];J[4*H]=g[s+Z+Z+Z+H]}g.set(J,s)}}}if(g.length==c)l=g;
else{l=K.U(c);for(var v=0;v<g.length;v++)l[v]=g[v]}}else l=K.U(c);if(n==16)l=new Uint16Array(l.buffer);
if(n==32)l=new Float32Array(l.buffer);return l};iz.bV=function(j,n,Q,a,B,m,R){var q=a*B,U=K.Rz(n);if(U!=8)n=new Uint8Array(n.buffer);
var l=n;if(R==0)for(var v=0;v<q;v++)Q[m++]=l[v];else if(R==1){var b=j?4:2,D=iz.acV(l,Q,a,B,m,m+b*B,b);
m+=b*B+D}else if(R==2||R==3){function c(s,v){return s[v+1]<<8|s[v]}if(R==3){if(U==8)for(var _=0;_<B;
_++){var p=_*a,X=p+a;for(var g=X-1;g>p;g--)l[g]=l[g]-l[g-1]+256&255}else if(U==16)for(var _=0;_<B;_++){var p=_*a,X=p+a;
for(var g=X-1;g>p;g--){var F=g<<1,k=c(l,F)-c(l,F-2)+65536&65535;l[F]=k>>>8;l[F+1]=k&255}var I=l[p*2];
l[p*2]=l[p*2+1];l[p*2+1]=I}else if(U==32){var e=a,H=l.slice(0,e*4);for(var _=0;_<B;_++){var A=_*e*4;
for(var g=0;g<e;g++){var Z=A+4*g;H[g]=l[Z+3];H[e+g]=l[Z+2];H[e+e+g]=l[Z+1];H[e+e+e+g]=l[Z]}for(var g=e*4-1;
g>0;g--)H[g]=H[g]-H[g-1]+256&255;l.set(H,A)}}}Q[m]=120;Q[m+1]=156;m+=2;var J=pako.deflateRaw(l,{ag5:4});
L.akb(Q,m,J);m+=J.length+4}else console.log("Unknown compression: "+R);return m};iz.ax8=function(j,n,Q,a,B,m,R,q){if(!(j instanceof Uint8Array)||!(n instanceof Uint8Array))throw"e";
var U=m,l=a|0;if(q){if(R==2)for(var v=0;v<l;v++){var b=L.rv(j,B+(v<<1));iz._C(j,m,b,n,v*Q,Q);m+=b}else for(var v=0;
v<l;v++){var b=L.vS(j,B+(v<<2));iz._C(j,m,b,n,v*Q,Q);m+=b}}else{if(R==2)for(var v=0;v<l;v++){var b=L.oN(j,B+(v<<1));
iz._C(j,m,b,n,v*Q,Q);m+=b}else for(var v=0;v<l;v++){var b=L.St(j,B+(v<<2));iz._C(j,m,b,n,v*Q,Q);m+=b}}return m-U};
iz.acV=function(j,n,Q,a,B,m,R){var q=m;if(R==2)for(var v=0;v<a;v++){var U=iz.aab(j,v*Q,Q,n,m);L.pL(n,B+v*2,U);
m+=U}else for(var v=0;v<a;v++){var U=iz.aab(j,v*Q,Q,n,m);L.gS(n,B+v*4,U);m+=U}return m-q};iz.aab=function(j,n,dv,Q,a){var B,m,R,q,U,jw,l;
q=n+dv;for(R=n,m=a;dv>0;R=B,dv-=jw){l=dv<128?dv:128;if(R<=q-3&&j[R+1]==j[R+0]&&j[R+2]==j[R+0]){for(B=R+3;
B<R+l&&j[B]==j[R+0];)++B;jw=B-R;Q[m++]=1+256-jw;Q[m++]=j[R+0]}else{for(B=R;B<R+l;)if(B<=q-3&&j[B+1]==j[B+0]&&j[B+2]==j[B+0])break;
else++B;jw=B-R;Q[m++]=jw-1;for(var v=0;v<jw;v++)Q[m+v]=j[R+v];m+=jw}}return m-a};iz._C=function(j,n,Q,a,B,m){for(var R=0;
R<Q;){var dv=j[n++];if(dv>=128){var q=j[n++],U=B+(257-dv);a.fill(q,B,U);B=U;R+=2}else{for(var v=0;v<=dv;
v++)a[B+v]=j[n+v];n+=dv+1;B+=dv+1;R+=1+1+dv}}};function hz(){}hz.U4=function(j,n,Q){return;var a="",B=n;
while(B!=0){var m=B%1e3+"";while(m.length<3)m="0"+m;a=(a==""?m:m+" ")+a;B=Math.floor(B/1e3)}while(a.startsWith("0")&&a!="0")a=a.slice(1);
while(a.length<11)a=" "+a;console.log("===",a,"\t".repeat(j),": "+Q)};hz.a4Z=function(j){var n={pC:{},add:{}},a=0,B=0,q;
n.$T=!1;n.v3=8;var Q=new Uint8Array(j);B=hz.Ue(n,Q,a);a=B;B=hz.a1_(n,Q,a);a=B;var m=L.St(Q,a);a+=4+m;
var R=n.$T?8:4;if(n.$T)q=L.Kq(Q,a);else q=L.St(Q,a);a+=R+q;B=hz.aFc(n,Q,a);return[{nJ:new b4(0,0,n.q,n._),data:n.buffer.buffer}]};
hz.by=function(j,n){n.$T=!1;var Q=new Uint8Array(j),a=0,B=0,q=0,dj,dO=!1,fy=!0,bg=!1,f4=0,kn=0;B=hz.Ue(n,Q,a);
hz.U4(0,B-a,"PSD Header");a=B;B=hz.a1_(n,Q,a);hz.U4(0,B-a,"Color Mode Data");a=B;B=hz.a2F(n,Q,a);hz.U4(0,B-a,"Image Resources");
a=B;var m=a;B=hz.awE(n,Q,a);hz.U4(0,B-a,"Layer And Mask Info");a=B;var m=a;B=hz.aFc(n,Q,a);hz.U4(0,B-a,"Merged Image");
a=B;if(n.T.length==0){var R=n.JL();R.kw("Background");n.T.push(R);R.buffer=n.buffer.slice(0);R.s=new b4(0,0,n.q,n._)}for(var v=0;
v<n.T.length;v++){var B=n.T[v],U=B.add.lsct;if(U==fM.KB)q++;else if(U==fM.ko||U==fM.NO)q--}while(q<0){n.T.unshift(n.v4());
q++}if(n.pC.r1005){n.Mp=L.TN(n.pC.r1005,0)}if(n.pC.r1026){var Q=n.pC.r1026;for(var v=0;v<Q.length;v+=2){var B=n.T[v>>>1];
if(B)B.i8=L.oN(Q,v)}}if(n.pC.r1072){var Q=n.pC.r1072;for(var v=0;v<Q.length;v++){var B=n.T[v];if(B)B.dq=Q[v]==1}}if(n.pC.r1032){n.qO=hz.al0(n.pC.r1032,0)}delete n.pC.r1036;
n.hT(n.pC.r1039);if(n.pC.r1050){var l=L.St,b=n.pC.r1050,D=L.St(b,0);if(D==6){var c=4,_=L.it(b,c);c+=16;
var p=L.jA(b,c);c+=4+p.length*2;var X=l(b,c);c+=4;var g=n.XZ;for(var v=0;v<X;v++){var F=N.Ie.DI(),I;
g.push(F);F=F.v;F.sliceID.v=l(b,c);c+=4;F.groupID.v=l(b,c);c+=4;var k=l(b,c);c+=4;if(k==1){I=l(b,c);
c+=4}var p=L.jA(b,c);c+=4+p.length*2;var e=l(b,c);c+=4;var H=[l(b,c),l(b,c+4),l(b,c+8),l(b,c+12)];c+=16;
N.Ie.pu(g,g.length-1,H);var A=F.url.v=L.jA(b,c);c+=4+A.length*2;var Z=F.null.v=L.jA(b,c);c+=4+Z.length*2;
var J=F.Msge.v=L.jA(b,c);c+=4+J.length*2;var s=F.altTag.v=L.jA(b,c);c+=4+s.length*2;F.cellTextIsHTML.v=b[c]==1;
c++;var E=F.cellText.v=L.jA(b,c);c+=4+E.length*2;var z=l(b,c);c+=4;var h=l(b,c);c+=4;var d=b.slice(c,c+4);
c+=4;if(k!=2)g.pop()}}else if(D==8){var Y={},C=new b4(0,0,n.q,n._);aB.CF(b,Y,8,!1);var b=n.XZ=Y.slices.v;
for(var v=0;v<b.length;v++){var i=N.Ie.$O(b,v),M=new b4(i[0],i[1],i[2]-i[0],i[3]-i[1]);if(b[v].v.origin.v.ESliceOrigin!="userGenerated"||M.uf(C).ke()){b.splice(v,1);
v--}}}}if(n.pC.r1058){var W=n.pC.r1058,$=UTIF.decode(W.buffer,{parseMN:!1,debug:!1});bZ.Eq($[0],n.bc);
delete n.pC.r1058}if(n.pC.r1060){var P=L.Cl(n.pC.r1060);bZ.EP(P,n.bc);delete n.pC.r1060}if(n.pC.r1065){var Q=n.pC.r1065;
n.gh={};aB.CF(Q,n.gh,4,!1)}if(n.pC.r1069){var Q=n.pC.r1069,O=[];for(var v=2;v<Q.length;v+=4){var I=L.St(Q,v);
for(var G=0;G<n.T.length;G++){var B=n.T[G];if(B.add.lyid==I&&B.add.lsct!=3&&O.indexOf(G)==-1)O.push(G)}}n.X=O}if(n.pC.r1073){var Q=n.pC.r1073,c=0,t=L.q_(Q,c);
c+=4;var y=L.q_(Q,c);c+=4;for(var v=0;v<y;v++){n.xS.push({y:t>=2?L.Hb(Q,c+2):L.TN(Q,c+2),x:t>=2?L.Hb(Q,c+6):L.TN(Q,c+6)});
c+=14}delete n.pC.r1073}if(n.pC.r1074){n.tp={};aB.CF(n.pC.r1074,n.tp,4,!1);delete n.pC.r1074}if(n.pC.r1025){var r=n.pC.r1025;
delete n.pC.r1025;var u=bJ.iW(r,0,r.length,n.q,n._),S=new f.hx;S.z=u;n.AZ[0]=hs.Nt("Work Path",{vmsk:S})}var w=n.add.pths;
delete n.add.pths;var o=n.pC.r3000;if(o){dj={};aB.CF(o,dj,4,!1);delete n.pC.r3000}if(w){var T=w.pathSymmetrySelectedPath;
if(T){var i6=w.pathList.v[T.v].v,bH=i6.pathUnicodeName.v;n.zO=bH.startsWith("Tile Symmetry")}}for(var cg=0;
cg<=997;cg++){var bu="r"+(2e3+cg),r=n.pC[bu];if(r==null)break;var u=bJ.iW(r,0,r.length,n.q,n._),bH="Path "+cg;
if(w){var hH=w.pathList.v[cg].v;bH=hH.pathUnicodeName.v;if(bH=="Tile Symmetry 1")continue}var dK=dj?dj.keyRootDescriptorList.v[cg].v.keyDescriptorList.v:f.sU(u),S=new f.hx;
S.z=u;n.AZ.push(hs.Nt(bH,{vmsk:S,vogk:dK}));delete n.pC[bu]}delete n.$T;if(n.pC.r4000){n.Gj=K.Gj.by(n.pC.r4000)}var d8=n.pC.r7000,d1=n.pC.r7001;
if(d8){var gH=L.Cl(d8);n.Wr=hz.a0p(gH)}if(d1){var gH=L.Cl(d1);n.$h=hz.ade(gH)}delete n.pC.r7000;delete n.pC.r7001;
var C=new b4(0,0,n.q,n._),kh=n.add.Txt2,ay=kh;if(ay){ay=ay.t0;if(ay._DocumentResources==null)ay=bO.a5w(ay)}var jb=-1;
for(var v=0;v<n.T.length;v++){var B=n.T[v],jT=B.add.lsct,jy=B.add.vmsk,cl=B.sJ();if(jT==fM.KB){f4++;
B.add.lspf=0}else if(jT==fM.ko||jT==fM.NO)f4--;if(B.name==""){B.name="Layer "+(v+1);bg=!0}if(bg&&B.bx()&&B.TM=="norm")B.TM="pass";
if(B.FI()&&B.vG(n)==null)delete B.add.SoLd;if(B.FI()&&B.vG(n).N){var hu=B.vG(n);hu.N.isEnabled=B.add.SoLd.filterFX.v.filterMaskEnable.v}if(jy&&B.Oi()){var aA=g8.o0.cL(!0);
if(B.add.vstk==null)B.add.vstk=K.u(aA);else{var ko="strokeStyleLineDashSet";if(B.add.vstk[ko]==null)B.add.vstk[ko]=K.u(aA[ko])}B.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
B.add.vstk.strokeStyleResolution.v=n.Mp}if(jy&&(B.add.vogk==null||K.R.$L(jy.z)!=B.add.vogk.length))B.sU();
if(!1){var ec=B.add.vogk,kK=!0;for(var cM=0;cM<ec.length;cM++){var gG=ec[cM].v.keyShapeInvalidated;if(gG==null||gG.v==!1)kK=!1}if(kK)B.sU()}if(B.add.SoLd&&B.s.ke()){console.log("redrawing smart instance");
B.pS(n,null,null,!0,!0)}if(cl==null&&B.N!=null){if(B.N.lt==!1){B.N.lt=!0;B.Bc=B.N.O()}}cl=B.sJ();if(B.YK){var aA=B.YK,S=jy;
if(cl){cl.lF=aA[0];cl.g_=aA[1]}if(S){S.lF=aA[2];S.g_=aA[3]}B.YK=null}if(cl!=null&&jy!=null&&(cl.g_+jy.g_!=0||cl.lF+jy.lF!=2*255))B.tI(n);
else if(jy!=null&&!B.Oi())B.tI();else if(cl&&cl.lF!=255&&B.Oi())B.tI(n);var c2=B.add.artb;if(c2&&c2.artboardBackgroundType==null)c2.artboardBackgroundType={t:"long",v:1};
if(c2&&f4!=0)delete B.add.artb;var a1=B.add.vstk;if(B.Oi()&&(B.s.ke()||jy&&jy.g_!=0||a1&&!a1.fillEnabled.v&&(!a1.strokeEnabled.v||a1.strokeStyleLineWidth.v.val==0)))B.Df(n);
if(B.add.TySh){dO=!0;if(!B.s.ke())fy=!1}if(B.add.TySh&&ay){jb++;var cs=B.add.TySh.Kt,f7=eR.UC(cs),j7=ay._DocumentObjects._TextObjects;
if(j7.length<=jb){console.log("Txt2 incomplete");continue}var dz=j7[jb]._Model,iA=dz._StyleRun?dz._StyleRun._RunArray:[],kk=cs.EngineDict.StyleRun.RunArray;
for(var fA=0;fA<kk.length;fA++){var g5=kk[fA].StyleSheet.StyleSheetData;if(iA[fA]==null)continue;var h$=iA[fA]._RunData._StyleSheet._Features;
if(h$){if(h$._BaselineDirection)g5.BaselineDirection=parseInt(h$._BaselineDirection.slice(1));if(h$._FillBackgroundFlag)g5._FillBackgroundFlag=h$._FillBackgroundFlag;
if(h$._FillBackgroundColor)g5._FillBackgroundColor={Type:1,Values:d2.uA(h$._FillBackgroundColor._Color._Values)};
var U=eR.nP;for(var G=0;G<U.length;G++)if(h$[U[G]]!=null)g5[U[G]]=h$[U[G]];var hL=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset"];
for(var G=0;G<hL.length;G++)if(h$[hL[G]]!=null)g5[hL[G]]=parseInt(h$[hL[G]].slice(1));if(h$._LineDashArray!=null)g5._LineDashArray=d2.uA(h$._LineDashArray)}}var ha=cs.EngineDict.ParagraphRun.RunArray,jl=dz._ParagraphRun._RunArray;
if(jl==null)jl=[];var fI=Math.min(jl.length,ha.length);for(var G=0;G<fI;G++){var aE=ha[G].ParagraphSheet.Properties,es=ay._DocumentResources._ParagraphSheetSet._Resources,kN=jl[G]._RunData._ParagraphSheet;
if(typeof kN=="string")kN=es[parseInt(kN.slice(1))]._Resource;var fV=kN._Parent==null?kN:es[parseInt(kN._Parent.slice(1))]._Resource;
kN=kN._Features;fV=fV._Features;var jU=kN._ParagraphDirection;if(jU==null)jU=fV._ParagraphDirection;
if(jU)aE._Direction=parseInt(jU.slice(1));if(kN._ComposerEngine)aE._ComposerEngine=parseInt(kN._ComposerEngine.slice(1))}if(dz._AlternateGlyphRun){var jl=dz._AlternateGlyphRun._RunArray,fI=jl.length,c$=cs.EngineDict.AlternateGlyphRun=eR.adk();
for(var G=0;G<fI;G++){var kN=jl[G],iq={},cz=kN._RunData._AlternateGlyphSheet;if(cz)iq.Glyph=parseInt(cz._Glyph.slice(1));
c$.RunArray.push(iq);c$.RunLengthArray.push(parseInt(kN._Length.slice(1)))}}var h0=ay._DocumentResources,fl=h0._TextFrameSet._Resources,co=fl[jb]._Resource,cC=co._Data,gr=new j8(1,0,0,1,0,0);
if(co._0){var eK=parseFloat(co._0[0].slice(1)),kM=parseFloat(co._0[1].slice(1));gr.translate(eK,kM)}if(f7){gr.translate(f7[0],f7[1]);
eR.gG(cs,[0,0,f7[2]-f7[0],f7[3]-f7[1]])}else{if(co._Bezier&&co._Bezier._Points){var u=co._Bezier._Points,eK=parseFloat(u[0].slice(1)),kM=parseFloat(u[1].slice(1));
if(eK!=0||kM!=0){gr.translate(eK,kM)}}}if(co._Data&&co._Data._FrameMatrix){var bM=co._Data._FrameMatrix;
bM=bM.map(function(hF){return parseFloat(hF.slice(1))});gr.concat(new j8(bM[0],bM[1],bM[2],bM[3],bM[4],bM[5]))}gr.concat(B.add.TySh.C);
B.add.TySh.C=gr;var e=cC._Type?parseInt(cC._Type.slice(1)):0;if(e==2||e==1&&cC._PathData&&cC._PathData._Spacing=="i-3")if(co._Bezier){var bn=function(hF){return parseFloat(hF.slice(1))},u=co._Bezier._Points.map(bn);
if(f7)K.c.C(u,new j8(1,0,0,1,-f7[0],-f7[1]),u);var fT=cC._PathData?cC._PathData._Reversed:!1,ck=cC._TextOnPathTRange;
if(ck==null)ck=["f-3","f-3"];cs.Curve={Points:u,TextOnPathTRange:ck.map(bn),Reversed:fT==null?!1:fT};
B.add.TySh.add={vmsk:new f.hx,vogk:null};eR.o3(B.add.TySh)}if(cC._LineOrientation=="i2")cs._LineOrientation=2}}N.pw.KQ(n,!0);
var ce={},fc=[];for(var v=0;v<n.T.length;v++){var cv=n.T[v].add.lyid;if(cv==null)continue;var kn=Math.max(kn,cv);
if(ce[cv]!=null)fc.push(v);else ce[cv]=!0}for(var v=0;v<fc.length;v++)n.T[fc[v]].add.lyid=kn+1+v};hz.al0=function(j,n){n+=12;
var Q=L.St(j,n),a=[];n+=4;Q=Math.min(Q,Math.floor((j.length-n)/5));for(var v=0;v<Q;v++){var B=Math.min(j[n+v*5+4],1),m=L.q_(j,n+v*5)/32;
a.push([B,m])}return a};hz.a0p=function(j){var n=new DOMParser,Q=n.parseFromString(j,"text/xml").firstChild.children[0],a=Q.getElementsByTagName("variables");
if(a.length==0)return[];a=a[0].children;var B=[],m="varName trait docRef placementMethod align valign clip".split(" ");
for(var R=0;R<a.length;R++){var q=a[R],U={};B.push(U);for(var l=0;l<m.length;l++){var b=m[l],D=q.getAttribute(b);
if(D==null)continue;U[b]=D}}return B};hz.ade=function(j){var n=new DOMParser,Q=n.parseFromString(j,"text/xml").firstChild.children,a=[[]];
if(Q==null)return a;for(var v=0;v<Q.length;v++){var B=Q[v],m=[];a.push(m);for(var R=0;R<B.children.length;
R++){var q=B.children[R];if(v==0)a[0].push(q.tagName);m.push(q.textContent)}}return a};hz.mH=function(j,n,Q){N.pw.he(j);
N.pw.KQ(j,!1);j.$T=Q[3]==!0;var a=[],B=[],g=0,k=1,p=16,d1=0;for(var v=0;v<j.T.length;v++){var m=j.T[v];
if(m.FI()&&m.vG(j).N){m.add.SoLd.filterFX.v.filterMaskEnable.v=m.vG(j).N.isEnabled}if(m.add.TySh){var R=m.add.TySh.Kt,q=eR.Pv(R);
m.add.TySh.K7.TextIndex={t:"long",v:a.length};a.push(R);if(q==2)eR.UQ(m.add.TySh)}var U=m.add.vstk;if(U)U.strokeStyleResolution.v=j.Mp;
if(m.Oi()||Q[2]&&m.add.SoLd){B[v]=[m.s,m.buffer];m.s=new b4;m.buffer=K.U(0);if(m.add.SoLd){var l=m.vG(j);
if(l!=null){B[v].push(l.buffer);l.buffer=K.U(l.buffer.length)}}}}if(a.length>0){var b=j.add.Txt2?j.add.Txt2.t0:null;
if(j.add.Txt2==null)j.add.Txt2={};j.add.Txt2.t0=d2.auY(a,null,b)}var D=[j.add.lnk2,j.add.FEid,j.add.Patt],c=j.adR(j.T);
j.ahy(c);j.pC.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);L.asy(j.pC.r1005,0,j.Mp);L.asy(j.pC.r1005,8,j.Mp);
if(j.xS.length>0){var _=j.xS;j.pC.r1073=new Uint8Array(8+_.length*14);L.YW(j.pC.r1073,0,3);L.YW(j.pC.r1073,4,_.length);
for(var v=0;v<_.length;v++){var p=8+14*v;L.vz(j.pC.r1073,p,14);L.mT(j.pC.r1073,p+2,_[v].y);L.mT(j.pC.r1073,p+6,_[v].x);
L.vz(j.pC.r1073,p+10,-1);L.vz(j.pC.r1073,p+12,8)}}if(j.Se()){j.pC.r1022=new Uint8Array([0,3+j.Kj.length-1,0])}else delete j.pC.r1022;
var X=new Uint8Array(j.T.length*2),F=new Uint8Array(j.T.length);for(var v=0;v<j.T.length;v++){var m=j.T[v],I=m.i8,e=m.dq?1:0;
L.pL(X,v*2,I);F[v]=e;if(I>g)g=I;if(e==0)k=0}if(g>0)j.pC.r1026=X;if(k<1)j.pC.r1072=F;var H=j.qO,A=H.length,Z=j.pC.r1032=new Uint8Array(16+5*A);
L.gS(Z,0,1);L.gS(Z,4,576);L.gS(Z,8,576);L.gS(Z,12,A);for(var v=0;v<A;v++){L.YW(Z,p,Math.round(H[v][1]*32));
Z[p+4]=H[v][0];p+=5}if(Q[4]!=!0){var J=[j.rd(),new b4(0,0,j.q,j._)],s=0;K.xu(J);while(J[s+1].$()>200*200)s+=2;
var E=fj.Mi("jpg"),z=J[s+1],h=new Uint8Array(E.OR([[J[s].buffer]],z.q,z._)),Z=j.pC.r1036=new Uint8Array(28+h.length);
L.gS(Z,0,1);L.gS(Z,4,z.q);L.gS(Z,8,z._);L.gS(Z,12,z.q*3);L.gS(Z,16,z.$()*3);L.gS(Z,20,h.length);L.pL(Z,24,24);
L.pL(Z,26,1);Z.set(h,28)}var d=K.QX(j.buffer);if(j.add.fcmy)d=!1;var Y=[];if(d)Y.push({name:"Transparency",Cx:{n:255,i:0,b:0},b5:100,m_:1});
Y=Y.concat(j.Kj);delete j.pC.r1045;delete j.pC.r1006;delete j.pC.r1077;var C=new e3;p=0;var i=new Uint8Array(4+Y.length*13);
i[3]=1;for(var v=0;v<Y.length;v++){var M=Y[v],W=M.name+"\0";L.Um(C,p,W);p+=4+W.length*2;var $=4+v*13;
hq.E1(i,$,M.Cx);i[$+11]=M.b5;i[$+12]=M.m_}if(p!=0)j.pC.r1045=C.data.slice(0,p);j.pC.r1077=i;for(var v=0;
v<j.XZ.length;v++)j.XZ[j.XZ.length-v-1].v.sliceID.v=2+v*3;var P={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:j.XZ}},C=new e3;
L.mF(C,0,8);L.mF(C,4,16);var O=aB.wO(C,P,8);j.pC.r1050=C.data.slice(0,O+8);var C=new e3;L.mF(C,0,16);
var O=aB.wO(C,j.gh,4);j.pC.r1065=C.data.slice(0,O+4);if(j.tp){var C=new e3;L.mF(C,0,16);var O=aB.wO(C,j.tp,4);
j.pC.r1074=C.data.slice(0,O+4)}var G=j.X;Z=j.pC.r1069=new Uint8Array(2+G.length*4);L.pL(Z,0,G.length);
for(var v=0;v<G.length;v++)L.gS(Z,2+4*v,j.T[G[v]].add.lyid);delete j.pC.r1058;delete j.pC.r1060;if(Object.keys(j.bc).length!=0){var t=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
bZ.UU(j.bc,t[0],Q[0]&&Q[1]);j.pC.r1058=new Uint8Array(UTIF.encode(t));var y=bZ.Ap(j.bc);j.pC.r1060=L.XS(y)}var r=[],u=[],S=j.AZ.slice(0);
if(j.zO){var w=bJ.atQ([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),dj=new f.hx;
dj.z=w;S.push(hs.Nt("Tile Symmetry 1",{vmsk:dj,vogk:f.sU(w)}))}for(var v=0;v<S.length;v++){var o=S[v],w=o.add.vmsk.z;
if(v==0&&w.length==2)continue;var T=K.U(w.length*26);bJ.WF(T,0,w,j.q,j._);var i6=v==0?1025:2e3+v-1;j.pC["r"+i6]=T;
if(v!=0){var bH={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:o.name}};if(o.name=="Tile Symmetry 1")bH.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
r.push({t:"Objc",v:bH});u.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:o.add.vogk}}})}}if(r.length!=0){j.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:r}};
if(j.zO)j.add.pths.pathSymmetrySelectedPath={t:"long",v:r.length-1};u={classID:"null",keyRootDescriptorList:{t:"VlLs",v:u}};
var C=new e3;L.mF(C,0,16);var O=aB.wO(C,u,4);j.pC.r3000=C.data.slice(0,O+4)}else{delete j.add.pths;delete j.pC.r3000}if(j.Gj&&j.Gj.length!=0){j.pC.r4000=K.Gj.mH(j.Gj)}if(j.Wr.length!=0){var cg="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var v=0;v<j.Wr.length;v++){var bu=j.Wr[v],hH=[];for(var i6 in bu)hH.push(i6+"=\""+bu[i6]+"\"");cg+="<variable "+hH.join(" ")+">\n</variable>\n"}cg+="</variables>\n</variableSet>\n</variableSets>";
j.pC.r7000=L.XS(cg)}if(j.$h.length!=0){var cg="<sampleDataSets psdPath=\""+j.name+"\">\n";for(var v=1;
v<j.$h.length;v++){var dK=j.$h[v];cg+="<sampleDataSet dataSetName=\"Data Set "+v+"\">\n";for(var d8=0;
d8<dK.length;d8++)cg+="<"+j.$h[0][d8]+">"+dK[d8].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+j.$h[0][d8]+">\n";
cg+="</sampleDataSet>\n"}cg+="</sampleDataSets>";j.pC.r7001=L.XS(cg)}d1=hz.asn(j,n,d1,3+Y.length);d1=hz.ako(j,n,d1);
d1=hz.a5C(j,n,d1);d1=hz.a5G(j,n,d1,Q,d);d1=hz.ahA(j,n,d1,Q[0],d);var gH=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var v=0;v<gH.length;v++)delete j.pC["r"+gH[v]];for(var v=0;v<j.T.length;v++){var m=j.T[v];if(m.Oi()||Q[2]&&m.add.SoLd){m.s=B[v][0];
m.buffer=B[v][1];if(B[v][2]){var l=m.vG(j);B[v].push(l.buffer);l.buffer=B[v][2]}}}j.ahy(D);N.pw.KQ(j,!0);
delete j.$T;return d1};hz.Ue=function(j,n,Q){var a=L.AP(n,Q,4);Q+=4;if(a!="8BPS")alert("invalid header signature: "+a);
var B=L.oN(n,Q);Q+=2;j.$T=B==2;if(B!=1&&B!=2)alert("invalid version: "+B);Q+=6;j.zy=L.oN(n,Q);Q+=2;j._=L.q_(n,Q);
Q+=4;j.q=L.q_(n,Q);Q+=4;j.v3=L.oN(n,Q);Q+=2;j.ee=L.oN(n,Q);Q+=2;return Q};hz.asn=function(j,n,Q,a){var B=j.add.fcmy==1;
n.G2(0,64);L.ey(n.data,Q,"8BPS");Q+=4;L.pL(n.data,Q,j.$T?2:1);Q+=2;L.gS(n.data,Q,0);Q+=4;L.pL(n.data,Q,0);
Q+=2;L.pL(n.data,Q,a+(B?1:0));Q+=2;L.YW(n.data,Q,j._);Q+=4;L.YW(n.data,Q,j.q);Q+=4;L.pL(n.data,Q,j.depth);
Q+=2;L.pL(n.data,Q,B?4:3);Q+=2;return Q};hz.a1_=function(j,n,Q){var a=L.q_(n,Q);Q+=4;if(a!=0)j._H=n.slice(Q,Q+a);
Q+=a;return Q};hz.ako=function(j,n,Q){if(j.depth==32){var a=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
L.Ia(n,Q,a.length);Q+=4;n.G2(Q,a.length);n.data.set(a,Q);Q+=a.length}else{L.Ia(n,Q,0);Q+=4}return Q};
hz.a2F=function(j,n,Q){var a=L.St(n,Q),B=0;Q+=4;var m=[];while(B<a){var R=L.AP(n,Q+B,4);B+=4;var q=L.oN(n,Q+B);
B+=2;var U=L.kJ(n,Q+B);B+=U.length;if(R=="MeSa"&&(q==7e3||q==7001)){}else if(R!="8BIM"){m.push(q);console.log("Unknown Image Resources signature: "+R+", ID: "+q)}var l=L.St(n,Q+B);
B+=4;if(j.pC["r"+q]!=null)console.log("--- two resources with same ID");j.pC["r"+q]=L.PL(n,Q+B,l);B+=l+(l&1)}for(var v=0;
v<m.length;v++)delete j.pC["r"+m[v]];delete j.pC.r1092;return Q+a};hz.a5C=function(j,n,Q){var a=Q,R=0;
Q+=4;var B=[];for(var m in j.pC){B.push(parseInt(m.slice(1)))}B.sort(function(D,c){return D-c});for(var v=0;
v<B.length;v++){var q=B[v];L.GJ(n,Q+R,q==7e3||q==7001?"MeSa":"8BIM");R+=4;L.jZ(n,Q+R,q);R+=2;var U=L.Ez(n,Q+R,"");
R+=U;var l=j.pC["r"+q],b=l.length;L.mF(n,Q+R,b);R+=4;L.Y4(n,Q+R,l);R+=b;if(b%2==1)R++}L.mF(n,a,R);return Q+R};
hz.awE=function(j,n,Q){var a=Q,B,m,R=j.$T?8:4;if(j.$T)B=L.Kq(n,Q);else B=L.St(n,Q);Q+=R;if(B==0)return a+R;
m=hz.aiR(j,n,Q);hz.U4(1,m-Q,"Layer Info");Q=m;m=hz.aBs(j,n,Q);hz.U4(1,m-Q,"Global Layer Mask Info");
Q=m;m=cO.iq(n,Q,a+R+B,j.add,j.$T,j);hz.U4(1,m-Q,"Project Add Info");Q=m;return a+R+B};hz.a5G=function(j,n,Q,a,B){var m=Q;
L.mF(n,Q,0);Q+=4;if(j.$T){L.mF(n,Q,0);Q+=4}Q=hz.a1M(j,n,Q,a,B);Q=hz.ai4(j,n,Q);if(j.depth==16)j.add.Lr16={};
if(j.depth==32)j.add.Lr32={};Q=cO.Y0(n,Q,j.add,j.$T,j);delete j.add.Lr16;delete j.add.Lr32;if(j.$T)L.$E(n,m,Q-m-8);
else L.mF(n,m,Q-m-4);return Q};hz.aiR=function(j,n,Q){var a,B=j.$T?8:4;if(j.$T)a=L.Kq(n,Q);else a=L.St(n,Q);
Q+=B;if(a!=0)hz.Qg(j,n,Q);return Q+a};hz.Qg=function(j,n,Q,a){var B=Q,m=a?L.FT:L.TY,R=m(n,Q);Q+=2;var q=Math.abs(R);
for(var v=0;v<q;v++){var U=new f;Q=b7.by(U,j,n,Q,a);j.T[v]=U}var l=new b4(0,0,j.q,j._);for(var v=0;v<q;
v++){var b=j.T[v],D=b.sJ(),c=iz.by(b,j,n,Q,a);if(c-Q>8)hz.U4(2,c-Q,"Lay: "+b.getName());Q=c;hz.atM(b,l);
if(D)hz.atM(D,l)}};hz.atM=function(j,n){};hz.a1M=function(j,n,Q,a,B){var m=Q,R=j.$T;Q+=R?8:4;if(j.depth==8)Q=hz.an_(j,n,Q,a,B);
var q=Q-m-(R?8:4);if(q%2!=0)q++;if(R)L.$E(n,m,q);else L.mF(n,m,q);return m+q+(R?8:4)};hz.an_=function(j,n,Q,a,B){var m=j.T.length;
L.pv(n,Q,B?-m:m);Q+=2;var R=[];for(var v=0;v<m;v++)Q=b7.mH(j.T[v],j,n,Q,R);for(var v=0;v<m;v++)Q=iz.zw(j.$T,j.T[v],n,Q,R[v],a,j.add.fcmy==1);
return Q};hz.aBs=function(j,n,Q){var a=L.St(n,Q);Q+=4;Q+=a;return Q};hz.ai4=function(j,n,Q){var a=L.mF(n,Q,0);
Q+=4;return Q};hz.aFc=function(j,n,Q){var a=j.ee,B="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),m=[1,1,1,3,4,1,1,3],R,X;
delete j.add.fcmy;if(a!=3){if(a==1||a==2||a==4)console.log("Project will be converted from "+B[a]+" to "+B[3]+" mode.");
else{alert("Color mode "+B[a]+" is not supported yet :(")}if(a==4)j.add.fcmy=1}if(j.pC.r1045){R=[];var q=j.pC.r1045,U=0;
while(U<q.length){var l=L.N4(q,U);R.push(l);U+=4+2+l.length*2}}var b=m[a]+(R==null||R[0]=="Transparency"?1:0),D=j.q,c=j._,_=D*c,p=L.oN(n,Q);
Q+=2;j.buffer=K.U(_*4,j.depth);if(j.depth==8)K.G5(j.buffer,4278190080);var g=Q;for(var F=0;F<j.zy;F++){if(p==0){X=iz.Wx(j.$T,j.v3,n,D,c,Q,p);
X=K.R8(X,8);Q+=_*(j.v3>>>3)}else if(p==1){var k=j.v3==8?1:j.v3==16?2:4;X=K.U(_*k);var I=j.$T?4:2;if(F==0)Q+=j.zy*c*I;
Q+=iz.ax8(n,X,D*k,c,g+F*c*I,Q,I);if(j.v3==16){for(var v=0;v<X.length;v+=2){var e=X[v];X[v]=X[v+1];X[v+1]=e}X=new Uint16Array(X.buffer)}if(j.v3==32){for(var v=0;
v<X.length;v+=4){var e=X[v];X[v]=X[v+3];X[v+3]=e;e=X[v+1];X[v+1]=X[v+2];X[v+2]=e}X=new Float32Array(X.buffer)}X=K.R8(X,j.depth)}else{console.log("unknown compression of image data: ",p);
return}if(F<b){K.wj(X,j.buffer,F);if(j.zy==1&&F==0){K.wj(X,j.buffer,1);K.wj(X,j.buffer,2)}}else{var H=new f.km,A=F-b,Z=F-m[j.ee];
H.name=R?R[Z]:"Alpha";if(H.name=="Quick Mask"){H.fa=!0;j.Yb.push(A)}H.s=new b4(0,0,D,c);H.G=X;H.color=0;
H.Dy();j.Kj[A]=H;if(j.pC.r1077){var q=j.pC.r1077.slice(4+Z*13);H.Cx=hq.qH(q,0);H.b5=q[11];H.m_=q[12];
if(H.m_==2)H.fa=!0}}}j.zy=4;if(j.ee==2)for(var v=0;v<_;v++){var J=v*4,s=j.buffer[J];j.buffer[J]=j._H[0+s];
j.buffer[J+1]=j._H[256+s];j.buffer[J+2]=j._H[512+s]}return Q};hz.ahA=function(j,n,Q,a,B){var m=1,R=16,q=j.q,U=j._,b,D,c;
L.jZ(n,Q,m);Q+=2;if(j.depth!=8)a=!0;var l=q*U;if(!a){D=new K.aL(q*U);K.yD(j.buffer,D);var _=D.n,p=D.i,X=D.b,g=D.NX;
for(var v=0;v<l;v++){var F=g[v]*(1/255);_[v]=~~(_[v]*F+255*(1-F));p[v]=~~(p[v]*F+255*(1-F));X[v]=~~(X[v]*F+255*(1-F))}c=[D.n,D.i,D.b];
if(j.add.fcmy==1){c.push(K.U(l));var k=j.buffer.slice(0);K.aBL(k);K.yD(k,{n:c[0],i:c[1],b:c[2],NX:c[3]})}if(B)c.push(D.NX)}else{b=K.U(l,j.depth);
if(j.depth==16)b.fill(65535);c=[b,b,b];if(j.add.fcmy==1)c.push(b);if(B)c.push(b)}for(var v=0;v<j.Kj.length;
v++){c.push(j.Kj[v].OC(new b4(0,0,j.q,j._)))}var I=Q;for(var e=0;e<c.length;e++){n.G2(Q,q*U+4);b=c[e];
if(m==0||m==2||m==3)Q=iz.bV(j.$T,b,n.data,q,U,Q,m);else{var H=new Uint8Array(b.buffer),A=q*(j.depth>>>3),Z=j.$T?4:2;
if(e==0)Q+=c.length*U*Z;var J=Q;Q+=iz.acV(H,n.data,A,U,I+e*U*Z,Q,Z)}}return Q};function dC(){}dC.by=function(j){var n={};
dC.l4(j,n,0,0);return n};dC.mH=function(j,n){var Q=0;Q=dC.yO(j,n,Q,0);return Q};dC.l4=function(j,n,Q,a){while(j[Q]!="<".charCodeAt(0))Q++;
Q+=2;while(!0){if(j[Q]=="/".charCodeAt(0)){Q++;var B=L.indexOf(j," ".charCodeAt(0),Q,Q+50),m=L.indexOf(j,"\n".charCodeAt(0),Q,Q+50);
if(m==-1)m=Infinity;if(B==-1)B=Infinity;var R=Math.min(m,B),q=L.AP(j,Q,R-Q),U=dC.PS(j,R+1,a+1,q);n[q]=U.J;
Q=R+1;Q+=U.size}else if(j[Q]==">".charCodeAt(0)){Q+=2;break}else{var l=j[Q];if(l==10||l==9||l==32)Q++;
else{console.log("unknown byte: "+l+", char: "+String.fromCharCode(l),Q);Q++}}}return Q};dC.yO=function(j,n,Q,a){L.GJ(n,Q,"<<\n");
Q+=3;var B=dC.a71;for(var m in j){L.mk(n,Q,"\t".charCodeAt(0),a+1);Q+=a+1;L.GJ(n,Q,"/"+m);Q+=1+m.length;
if(B(j[m])||j[m]instanceof Array){L.GJ(n,Q," ");Q++}else{L.GJ(n,Q,"\n");Q++;L.mk(n,Q,"\t".charCodeAt(0),a+1);
Q+=a+1}Q=dC.aa(j[m],n,Q,a+1);L.GJ(n,Q,"\n");Q++}L.mk(n,Q,"\t".charCodeAt(0),a);Q+=a;L.GJ(n,Q,">>");Q+=2;
return Q};dC.PS=function(j,n,Q,a){var B=n,m={size:0,J:0};while(!0){while(j[n]==" ".charCodeAt(0)||j[n]=="\t".charCodeAt(0)||j[n]=="\n".charCodeAt(0))n++;
if(j[n]=="<".charCodeAt(0)){m.J={};n=dC.l4(j,m.J,n,Q+1);break}else if(j[n]=="(".charCodeAt(0)){n+=3;
var R=n;while(!0){if(j[R-1]!="\\".charCodeAt(0)&&j[R]==")".charCodeAt(0)&&(j[R+1]=="\n".charCodeAt(0)||j[R+1]==" ".charCodeAt(0)))break;
else R++}m.J=L.aij(j,n,R);n=R+2;break}else if(j[n]=="[".charCodeAt(0)){n++;m.J=[];while(j[n]==" ".charCodeAt(0)||j[n]=="\t".charCodeAt(0)||j[n]=="\n".charCodeAt(0))n++;
while(j[n]!="]".charCodeAt(0)){var q=dC.PS(j,n,Q+1,a);m.J.push(q.J);n+=q.size;while(j[n]==" ".charCodeAt(0)||j[n]=="\t".charCodeAt(0)||j[n]=="\n".charCodeAt(0))n++}n++;
break}else{var U=L.indexOf(j," ".charCodeAt(0),n,n+50),l=L.indexOf(j,"\n".charCodeAt(0),n,n+50);if(l==-1)l=Infinity;
if(U==-1)U=Infinity;var b=L.AP(j,n,Math.min(U,l)-n).trim(),D=parseFloat(b);if(!isNaN(D)){m.J=parseFloat(b);
n=Math.min(U,l)+1;break}else if(b=="true"||b=="false"){m.J=b=="true";n=Math.min(U,l)+1;break}else if(b=="null"||b=="NaN"||b=="undefined"){m.J=0;
n=Math.min(U,l)+1;break}else{console.log("unknown identifier: "+b);throw"e"}n=Math.min(U,l)+1}}m.size=n-B;
return m};dC.aa=function(j,n,Q,a){if(j instanceof Array){var B=j.length==0||typeof j[0]=="number";if(B){L.GJ(n,Q,"[ ");
Q+=2;for(var v=0;v<j.length;v++){var m=j[v]+" ";L.GJ(n,Q,m);Q+=m.length}L.GJ(n,Q,"]");Q+=1}else{L.GJ(n,Q,"[\n");
Q+=2;for(var v=0;v<j.length;v++){L.mk(n,Q,"\t".charCodeAt(0),a);Q+=a;Q=dC.aa(j[v],n,Q,a);L.GJ(n,Q,"\n");
Q++}L.mk(n,Q,"\t".charCodeAt(0),a);Q+=a;L.GJ(n,Q,"]");Q+=1}}else if(j instanceof Object){Q=dC.yO(j,n,Q,a)}else if(typeof j=="string"){L.GJ(n,Q,"(");
Q++;L.mk(n,Q,254);Q++;L.mk(n,Q,255);Q++;Q=L.acx(n,Q,j);L.GJ(n,Q,")");Q+=1}else{var m=j+"";L.GJ(n,Q,m);
Q+=m.length}return Q};dC.a71=function(j){var n=typeof j;return n=="string"||n=="number"||n=="boolean"};
function aN(){}aN.by=function(j){var n={};aN.ama(j,n,0,0);return n};aN.mH=function(j,n){var Q=0;L.GJ(n,Q," ");
Q++;Q=aN.a55(j,n,Q,0);Q--;n.G2(Q,2);n.data[Q]=n.data[Q+1]=0;Q+=2;return Q};aN.l4=function(j,n,Q,a){while(j[Q]!="<".charCodeAt(0)){Q++;
console.log("šipka")}Q+=2;Q=aN.ama(j,n,Q,a);return Q};aN.yO=function(j,n,Q,a){L.GJ(n,Q,"<< ");Q+=3;Q=aN.a55(j,n,Q,a);
L.GJ(n,Q,">>");Q+=2;return Q};aN.WG=function(j){return j==9||j==10||j==32};aN.ama=function(j,n,Q,a){while(!0){while(aN.WG(j[Q])||j[Q]==0)Q++;
if(Q>=j.length)break;if(j[Q]=="/".charCodeAt(0)){Q++;var B=Q;while(!aN.WG(j[B]))B++;var m=L.AP(j,Q,B-Q);
Q=B+1;var R=aN.PS(j,Q,a,m);n["_"+m]=R.J;Q+=R.size}else if(j[Q]==">".charCodeAt(0)){Q+=2;break}else{var q=j[Q];
console.log(L.AP(j,Q,Q+100));console.log("unknown byte: "+q+", char: "+String.fromCharCode(q)+", offset: "+Q);
Q++;throw"e";return-1}}return Q};aN.a55=function(j,n,Q,a){for(var B in j){var m=B.substring(1,B.length);
L.GJ(n,Q,"/"+m);Q+=1+m.length;L.GJ(n,Q," ");Q++;Q=aN.aa(j[B],n,Q,a+1,m);L.GJ(n,Q," ");Q++}return Q};
aN.PS=function(j,n,Q,a){var B=n,m={w:"",size:0,J:0};while(aN.WG(j[n]))n++;if(j[n]=="<".charCodeAt(0)){m.w="Object";
m.J={};n=aN.l4(j,m.J,n,Q+1)}else if(j[n]=="(".charCodeAt(0)){m.w="String";n++;if(j[n]==")".charCodeAt(0)){m.J="e";
n++}else if(j[n]==254&&j[n+1]==255){n+=2;var R=n,q=0;while(!0){if(j[R]==")".charCodeAt(0)&&j[R-1]!="\\".charCodeAt(0))break;
else R+=1}m.J="s"+L.aij(j,n,R);n=R+2}else{var R=n;while(j[R]!=")".charCodeAt(0))R++;m.J="s"+L.AP(j,n,R-n);
n=R+1}}else if(j[n]=="[".charCodeAt(0)){n++;m.J=[];m.w="Array";while(aN.WG(j[n]))n++;while(j[n]!="]".charCodeAt(0)){var U=aN.PS(j,n,Q+1,a);
if(U==-1)return-1;m.J.push(U.J);n+=U.size;delete U.size;while(aN.WG(j[n]))n++}n++}else{var l=n;while(!aN.WG(j[l]))l++;
var b=L.AP(j,n,l-n),D=parseFloat(b);if(!isNaN(D)&&b.indexOf(".")!=-1){m.w="Float";var c=parseFloat(b);
m.J="f"+c}else if(!isNaN(D)&&b.indexOf(".")==-1){m.w="Integer";m.J="i"+parseInt(b)}else if(b=="true"||b=="false"){m.w="Boolean";
m.J=b=="true"}else if(b.charAt(0)=="/"){m.w="BString";m.J=b}else if(b=="NaN"||b=="undefined"){m.w="Float";
m.J="f0"}else{console.log("unknown value",JSON.stringify(b));throw"e"}n=l+1}m.size=n-B;return m};aN.atG=function(j){if(j==Math.round(j))return j+".0";
var n=j.toFixed(5);while(n.endsWith("0")&&n[n.length-2]!=".")n=n.slice(0,n.length-1);if(0<j&&j<1)n=n.slice(1);
if(-1<j&&j<0)n="-"+n.slice(2);return n};aN.aa=function(j,n,Q,a,B){var m=typeof j=="string"?j.charAt(0):"";
if(j instanceof Array){L.GJ(n,Q,"[ ");Q+=2;for(var v=0;v<j.length;v++){Q=aN.aa(j[v],n,Q,a,"");L.GJ(n,Q," ");
Q++}L.GJ(n,Q,"]");Q+=1}else if(j instanceof Object){Q=aN.yO(j,n,Q,a)}else if(m=="e"){L.GJ(n,Q,"()");
Q+=2}else if(m=="s"){L.GJ(n,Q,"(");Q++;if(B=="97"){L.GJ(n,Q,j.slice(1));Q+=j.length-1}else{L.mk(n,Q,254);
Q++;L.mk(n,Q,255);Q++;Q=L.acx(n,Q,j.slice(1))}L.GJ(n,Q,")");Q++}else if(m=="/"){L.GJ(n,Q,j);Q+=j.length}else if(m=="f"){var R=parseFloat(j.substring(1)),q=aN.atG(R);
L.GJ(n,Q,q);Q+=q.length}else if(m=="i"){L.GJ(n,Q,j.substring(1));Q+=j.length-1}else{var q=j+"";L.GJ(n,Q,q);
Q+=q.length}return Q};function L(){}L.a32=function(dv){var j="";for(var v=3;v>=0;v--)j+=String.fromCharCode(dv>>v*8&255);
return j};L.adP=function(j){var dv=0;for(var v=j.length-1;v>=0;v--)dv|=j.charCodeAt(v)<<(3-v)*8;return dv};
L.indexOf=function(j,n,Q,a){if(Q==null)Q=0;if(a==null)a=j.length;a=Math.min(a,j.length);for(var v=Q;
v<a;v++)if(j[v]==n)return v;return-1};L._8=function(j,n,Q){if(Q==null)Q=0;var a=n.length,B=j.length-a;
if(typeof n=="string"){var m=[];for(var v=0;v<a;v++)m.push(n.charCodeAt(v));n=m}if(n.length>0){var R=n[0];
for(var v=Q;v<B;v++)if(j[v]==R){var q=!0;for(var U=1;U<a;U++)if(n[U]!=j[v+U]){q=!1;break}if(q)return v}}return-1};
L.aij=function(j,n,Q){var a=[],m="";while(n<Q){var B=j[n++];if(B=="\\".charCodeAt(0))a.push(j[n++]);
else a.push(B)}for(var v=0;v<a.length;v+=2)m+=String.fromCharCode(a[v]<<8|a[v+1]);return m};L.anb=function(j,n,Q){var a=new Uint8Array(2);
for(var v=0;v<Q.length;v++){L.pL(a,0,Q.charCodeAt(v));if(a[0]==")".charCodeAt(0)||a[0]=="(".charCodeAt(0)||a[0]=="\\".charCodeAt(0)){j[n]="\\".charCodeAt(0);
n++}j[n]=a[0];n++;if(a[1]==")".charCodeAt(0)||a[1]=="(".charCodeAt(0)||a[1]=="\\".charCodeAt(0)){j[n]="\\".charCodeAt(0);
n++}j[n]=a[1];n++}return n};L.acx=function(j,n,Q){j.G2(n,4*Q.length);return L.anb(j.data,n,Q)};L._2=function(j,n,Q){var a="";
for(var v=0;v<Q;v++){var B=j[n++]|j[n++]<<8;a+=String.fromCharCode(B)}return a};L.AN=function(j,n,Q){var a="";
for(var v=0;v<Q;v++){var B=j[n++]<<8|j[n++];a+=String.fromCharCode(B)}return a};L.azM=function(j,n,Q){for(var v=0;
v<Q.length;v++){var a=Q.charCodeAt(v);L.Oo(j,n+2*v,a)}};L.asz=function(j,n,Q){for(var v=0;v<Q.length;
v++){var a=Q.charCodeAt(v);L.pL(j,n+2*v,a)}};L.a0h=function(j,n,Q){j.G2(n,2*Q.length);L.asz(j.data,n,Q)};
L.ayV=function(j,v,n){var Q=[],a=0,B=0;n+=v;while(v<n){a=j[v++];if((a&128)==0)B=a;else if((a&224)==192){B=(a&31)<<6;
a=j[v++];B|=a&63}else if((a&240)==224){B=(a&15)<<12;a=j[v++];B|=(a&63)<<6;a=j[v++];B|=a&63}else if((a&248)==240){B=(a&7)<<18;
a=j[v++];B|=(a&63)<<12;a=j[v++];B|=(a&63)<<6;a=j[v++];B|=a&63}else throw"e";Q.push(B)}return Q};L.aqu=window.TextDecoder?new window.TextDecoder("utf8"):null;
L.Cl=function(j,n,Q){if(n==null)n=0;if(Q==null)Q=j.length;if(L.aqu&&n==0&&Q==j.length)return L.aqu.decode(j);
var a=L.ayV(j,n,Q),B=a.length;for(var v=0;v<B;v++)a[v]=String.fromCharCode(a[v]);return a.join("")};
L.a9F=window.TextEncoder?new window.TextEncoder("utf8"):null;L.XS=function(j){if(L.a9F)return L.a9F.encode(j);
var n=new Uint8Array(j.length*4),Q=L._e(j,n,0);return n.slice(0,Q)};L._e=function(j,n,Q){var a=j.length,v=0;
for(var B=0;B<a;B++){var m=j.charCodeAt(B);if((m&4294967295-(1<<7)+1)==0){n[Q+v]=m;v++}else if((m&4294967295-(1<<11)+1)==0){n[Q+v]=192|m>>6;
n[Q+v+1]=128|m>>0&63;v+=2}else if((m&4294967295-(1<<16)+1)==0){n[Q+v]=224|m>>12;n[Q+v+1]=128|m>>6&63;
n[Q+v+2]=128|m>>0&63;v+=3}else if((m&4294967295-(1<<21)+1)==0){n[Q+v]=240|m>>18;n[Q+v+1]=128|m>>12&63;
n[Q+v+2]=128|m>>6&63;n[Q+v+3]=128|m>>0&63;v+=4}else throw"e"}return v};L.zg=function(j,n){var Q=L.St(j,n),a=L.Cl(j,n+4,Q-1);
return{bD:a,IT:4+Q}};L.aqa=function(j,n){var Q=L.vS(j,n),a=L._2(j,n+4,Q);return a};L.jA=function(j,n){var Q=L.St(j,n),a=L.AN(j,n+4,Q);
return a};L.N4=function(j,n){var Q=L.St(j,n),a=L.AN(j,n+4,Q-1);return a};L.lz=function(j,n){var Q=L.vS(j,n),a=L._2(j,n+4,Q-1);
return a};L.amX=function(j,n,Q){L.eI(j,n,Q.length);n+=4;L.azM(j,n,Q)};L.aa8=function(j,n,Q){L.gS(j,n,Q.length);
n+=4;L.asz(j,n,Q)};L.Um=function(j,n,Q){j.G2(n,4+2*Q.length);L.aa8(j.data,n,Q)};L.aB6=function(j,n,Q){j.G2(n,4+2*Q.length);
L.amX(j.data,n,Q)};L.H0=function(j,n,Q){var a=[];for(var v=0;v<Q;v++)a.push(String.fromCharCode(j[n+v]));
return a};L.al7=function(j,n,Q){var a=!1,B=j.length-Q.length;for(var v=n;v<B;v++){for(var m=0;m<Q.length;
m++){if(j[v+m]!=Q.charCodeAt(m))break;if(m==Q.length-1)return v}}};L.Xv=function(j,n,Q){var a=L.AP(j,n,4);
if(Q)a=a.split("").reverse().join("");return a};L.AP=function(j,n,Q){var a="";for(var v=0;v<Q;v++)a+=String.fromCharCode(j[n+v]);
return a};L.ey=function(j,n,Q){for(var v=0;v<Q.length;v++)j[n+v]=Q.charCodeAt(v)};L.GJ=function(j,n,Q){j.G2(n,Q.length);
L.ey(j.data,n,Q)};L.az6=function(j,n,Q){var a="";for(var v=0;v<Q;v++){var B=j[n+v];if(B<10)a+="  ";else if(B<100)a+=" ";
a+=B+", "}return a};L.oN=function(j,n){return j[n]<<8|j[n+1]};L.pL=function(j,n,dv){j[n]=dv>>8&255;j[n+1]=dv&255};
L.jZ=function(j,n,dv){j.G2(n,4);L.pL(j.data,n,dv)};L.TN=function(j,n){var Q=L.oN(j,n),a=L.oN(j,n+2);
return Q+a*(1/65536)};L.asy=function(j,n,dv){var Q=Math.floor(dv),a=Math.floor((dv-Q)*65536);L.pL(j,n,Q);
L.pL(j,n+2,a)};L.rv=function(j,n){return j[n+1]<<8|j[n]};L.Oo=function(j,n,dv){j[n+1]=dv>>8&255;j[n]=dv&255};
L.wW=function(j,n,dv){j.G2(n,4);L.Oo(j.data,n,dv)};L.TY=function(j,n){L._G[0]=j[n+1];L._G[1]=j[n];return L.pf[0]};
L.FT=function(j,n){L._G[0]=j[n];L._G[1]=j[n+1];return L.pf[0]};L.vz=L.pL;L.pv=L.jZ;L.q_=function(j,n){L.YO[0]=j[n+3];
L.YO[1]=j[n+2];L.YO[2]=j[n+1];L.YO[3]=j[n];return L.B6[0]};L.YW=function(j,n,dv){L.B6[0]=dv;j[n+3]=L.YO[0];
j[n+2]=L.YO[1];j[n+1]=L.YO[2];j[n+0]=L.YO[3]};L.Ia=function(j,n,dv){j.G2(n,4);L.YW(j.data,n,dv)};L.Fb=function(j,n,Q,a){Q[a+0]=j[n+0];
Q[a+1]=j[n+1];Q[a+2]=j[n+2];Q[a+3]=j[n+3]};L.vS=function(j,n){L.Fb(j,n,L.YO,0);return L.a2o[0]};L.eI=function(j,n,dv){L.a2o[0]=dv;
L.Fb(L.YO,0,j,n)};L.Sd=function(j,n,dv){j.G2(n,4);L.eI(j.data,n,dv)};L.J9=function(j,n){L.Fb(j,n,L.YO,0);
return L.B6[0]};L.apo=function(j,n,dv){L.B6[0]=dv;L.Fb(L.YO,0,j,n)};L.aHM=function(j,n,dv){j.G2(n,4);
L.apo(j.data,n,dv)};L.St=function(j,n){var Q=j[n]*(256*256*256)+(j[n+1]<<16|j[n+2]<<8|j[n+3]);return Q};
L.gS=function(j,n,dv){j[n]=dv>>24&255;j[n+1]=dv>>16&255;j[n+2]=dv>>8&255;j[n+3]=dv>>0&255};L.mF=function(j,n,dv){j.G2(n,4);
L.gS(j.data,n,dv)};L.Kq=function(j,n){return L.St(j,n)<<32|L.St(j,n+4)};L.a1l=function(j,n,dv){L.gS(j,n,dv>>16>>16);
L.gS(j,n+4,dv&4294967295)};L.$E=function(j,n,dv){j.G2(n,8);L.a1l(j.data,n,dv)};L.aDb=function(j,n){return L.vS(j,n+4)|L.vS(j,n)<<32};
L.NZ=function(j,n){var Q=new Uint8Array(8);for(var v=0;v<8;v++)Q[v]=j[n+7-v];var a=new Float64Array(Q.buffer);
return a[0]};L._t=function(j,n){var Q=new Uint8Array(8);for(var v=0;v<8;v++)Q[v]=j[n+v];var a=new Float64Array(Q.buffer);
return a[0]};L.zH=function(j,n,dv){var Q=new Float64Array(1);Q[0]=dv;var a=new Uint8Array(Q.buffer);
for(var v=0;v<4;v++){var B=a[v];a[v]=a[7-v];a[7-v]=B}for(var v=0;v<8;v++)j[n+v]=a[v]};L.G3=function(j,n,dv){j.G2(n,8);
L.zH(j.data,n,dv)};L.Hb=function(j,n){L.YO[0]=j[n+3];L.YO[1]=j[n+2];L.YO[2]=j[n+1];L.YO[3]=j[n+0];return L.GN[0]};
L.Gf=function(j,n){L.YO[0]=j[n+0];L.YO[1]=j[n+1];L.YO[2]=j[n+2];L.YO[3]=j[n+3];return L.GN[0]};L.mT=function(j,n,dv){L.GN[0]=dv;
j[n+0]=L.YO[3];j[n+1]=L.YO[2];j[n+2]=L.YO[1];j[n+3]=L.YO[0]};L.alI=function(j,n,dv){j.G2(n,4);L.mT(j.data,n,dv)};
L._j=function(j,n,dv){L.GN[0]=dv;j[n+0]=L.YO[0];j[n+1]=L.YO[1];j[n+2]=L.YO[2];j[n+3]=L.YO[3]};L.a8v=function(j,n,dv){j.G2(n,4);
L._j(j.data,n,dv)};L.a5n=function(j,n){var Q=L.q_(j,n),a=Q*(1/(1<<24));return a};L.a2L=function(j,n){var Q=L.J9(j,n),a=Q*(1/(1<<24));
return a};L.a4R=function(j,n,Q){var a=Math.floor(Q*(1<<24));L.YW(j,n,a)};L.arg=function(j,n,Q){j.G2(n,4);
L.a4R(j.data,n,Q)};L.kJ=function(j,n){var Q=j[n],a=L.AP(j,n+1,Q);Q+=1-Q%2;return{aB:a,length:Q+1}};L.a5K=function(j,n,Q){var a=Q.length;
j[n]=a;L.ey(j,n+1,Q);if(a%2==0){j[n+1+a]=0;++a}return a+1};L.Ez=function(j,n,Q){j.G2(n,Q.length+2);return L.a5K(j.data,n,Q)};
L.rk=function(j,n,Q){var a=Q?L._t:L.NZ,B=new j8;B.NX=a(j,n+0*8);B.b=a(j,n+1*8);B.RK=a(j,n+2*8);B.zP=a(j,n+3*8);
B.Qr=a(j,n+4*8);B.dE=a(j,n+5*8);return B};L.zD=function(j,n,Q){L.zH(j,n+0*8,Q.NX);L.zH(j,n+1*8,Q.b);
L.zH(j,n+2*8,Q.RK);L.zH(j,n+3*8,Q.zP);L.zH(j,n+4*8,Q.Qr);L.zH(j,n+5*8,Q.dE)};L.aqv=function(j,n,Q){j.G2(n,48);
L.zD(j.data,n,Q)};L.a7O=function(j,n){var Q=L.Hb(j,n),a=L.Hb(j,n+4),B=L.Hb(j,n+8),m=L.Hb(j,n+12);return new b4(Q,a,B-Q,m-a)};
L.a0f=function(j,n,Q){L.mT(j,n,Q.x);L.mT(j,n+4,Q.y);L.mT(j,n+8,Q.x+Q.q);L.mT(j,n+12,Q.y+Q._)};L.aDY=function(j,n,Q){j.G2(n,16);
L.a0f(j.data,n,Q)};L.it=function(j,n,Q){var a=Q?L.J9:L.q_,B=a(j,n),m=a(j,n+4),R=a(j,n+8),q=a(j,n+12);
return new b4(m,B,q-m,R-B)};L.agr=function(j,n,Q){L.YW(j,n,Q.y);L.YW(j,n+4,Q.x);L.YW(j,n+8,Q.y+Q._);
L.YW(j,n+12,Q.x+Q.q)};L.K5=function(j,n,Q){j.G2(n,16);L.agr(j.data,n,Q)};L.PL=function(j,n,Q){var a=new Uint8Array(Q);
for(var v=0;v<Q;v++)a[v]=j[n+v];return a};L.akb=function(j,n,Q){j.set(Q,n)};L.Y4=function(j,n,Q){j.G2(n,Q.length);
L.akb(j.data,n,Q)};L.a5O=function(j,n,Q,dv){if(!dv)dv=1;for(var v=0;v<dv;v++)j[n+v]=Q};L.mk=function(j,n,Q,dv){if(!dv)dv=1;
j.G2(n,dv);L.a5O(j.data,n,Q,dv)};L.pf=new Int16Array(1);L._G=new Uint8Array(L.pf.buffer);L.B6=new Int32Array(1);
L.a2o=new Uint32Array(L.B6.buffer);L.YO=new Uint8Array(L.B6.buffer);L.GN=new Float32Array(L.B6.buffer);
function jX(){}jX.by=function(j,n){var Q=new Uint8Array(j),a=0,B=L.AP(Q,a,9),q=4,U=100;a+=9;var m=L.AP(Q,a,4);
a+=4;a++;n.q=L.St(Q,a);a+=4;n._=L.St(Q,a);a+=4;var R=L.St(Q,a);a+=4;if(R!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(m)==-1){U=L.St(Q,a);a+=4;if(parseInt(m.slice(1))>=7){U=U}else alert("Unknown XCF version: "+m);
q=8}var l={};a=jX.yK(Q,a,l);var b=[];a=jX.ss(Q,a,b,q);var D=[];a=jX.ss(Q,a,D,q);n.$0=0;for(var v=0;v<b.length;
v++)jX.ai3(Q,b[v],n,l,q,U);while(n.$0>0){n.T.push(n.v4());n.$0--}n.T.reverse();delete n.$0;n.buffer=K.U(n.q*n._*4);
if(n.T.length==0)console.log("No layers!!!");for(var v=0;v<D.length;v++){var c=jX.aHI(Q,D[v],l,q,U);
if(c._q[e1.azd])n.K={G:c.l$,s:new b4(0,0,n.q,n._)}}};jX.ai3=function(j,n,Q,a,B,m){var R=Q.JL(),q=L.St(j,n),D=0;
n+=4;var U=L.St(j,n);n+=4;R.s=new b4(0,0,q,U);var l=L.St(j,n);n+=4;var b=L.zg(j,n);n+=b.IT;R.kw(b.bD);
var c={};n=jX.yK(j,n,c);if(c[e1.a72]){var _=c[e1.a72];D=_.length/4-1}if(c[e1.ej]){R.s.x=L.q_(c[e1.ej],0);
R.s.y=L.q_(c[e1.ej],4)}if(c[e1.alf]){R.wT=L.St(c[e1.alf],0)}if(c[e1.a48]){R.add.lsct=fM.ko;R.G$=24}if(c[e1.auN]){var p=L.St(c[e1.auN],0);
R.TM=e1.aiU[p];if(R.bx()&&R.TM=="norm")R.TM="pass"}if(c[e1.aF1]){if(L.St(c[e1.aF1],0)==0)R.G$+=2}if(c[e1.a0c]){var X=L.St(c[e1.a0c],0);
R.add.lsct=X&1==1?fM.ko:fM.NO}if(c[e1.vD]){var g=c[e1.vD];for(var F in g){var k=g[F];if(F=="gimp-text-layer"){var I=jX.am6(k),e=I.text,H=I.font,A=I.color,Z=I["font-size"];
if(e==null&&I.markup){var J=new DOMParser,s=J.parseFromString(I.markup,"image/svg+xml");while(s.firstChild!=null&&s.firstChild.tagName!=null){s=s.firstChild;
var E=s.getAttribute("font"),z=s.getAttribute("foreground"),h=s.getAttribute("size");if(E!=null)H=E;
if(z!=null){z=CSS.qH(z);A=[1,z.n/255,z.i/255,z.b/255]}if(h!=null){Z=""+parseFloat(h)/245}}e=s.textContent}R.add.lnsr="rend";
R.add.TySh=eR.N0(0,0);R.add.TySh.v$=new b4(0,0,100,100);R.add.TySh.C=new j8(1,0,0,1,R.s.x,R.s.y);var d=R.add.TySh.Kt;
eR.Yr(d,0,e);var Y=eR.JB(d,0,0),C=I.justify,i=I["line-spacing"];if(A)Y.RW.FillColor={Type:1,Values:[1,parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])]};
if(Z){Z=Math.round(parseFloat(Z));Y.RW.FontSize=Z;R.add.TySh.C.dE+=Math.min(17,Z*.17)}if(i){i=Math.round(parseFloat(i)+Y.RW.FontSize*1.2);
Y.RW.Leading=i;Y.RW.AutoLeading=!1}if(C)Y.w$.Justification=["left","right","center","fill"].indexOf(C);
if(H&&H!="Sans-serif"){var M=H.toLowerCase(),W="bold italic semi extra regular condensed light".split(" "),$=M.length;
for(var v=0;v<W.length;v++){var P=M.indexOf(W[v]);if(P!=-1&&P<$&&M[P-1]==" ")$=P}if($!=M.length)H=H.slice(0,$-1).split(" ").join("")+"-"+H.slice($).split(" ").join("");
eR.em(Y,H)}eR.A0(d,0,e.length,Y);var O=I["box-width"],G=I["box-height"],t=O?parseFloat(O):R.s.q,y=G?parseFloat(G):R.s._;
eR.dY(d,1);eR.gG(d,[0,0,Math.ceil(t),Math.ceil(y)])}else console.log("Unknown property "+F)}}while(Q.$0>D){Q.T.push(Q.v4());
Q.$0--}Q.$0=D;if(R.add.lsct==fM.ko||R.add.lsct==fM.NO)Q.$0++;var r=B==4?L.St:L.Kq,u=r(j,n);n+=B;var S=r(j,n);
n+=B;if(R.OZ()){R.buffer=K.U(R.s.$()*4);var w=new K.aL(R.s.$());jX.ahW(j,u,w,a,B,m);K.Y1(w,R.buffer)}if(S!=0){R.N=new f.km;
var dj=jX.aHI(j,S,a,B,m);R.N.G=dj.l$;R.N.s=R.s.O();if(c[e1.a0G])R.N.isEnabled=L.St(c[e1.a0G],0)==1;R.N.color=R.N.G[0];
R.N.Dy()}if(R.bx())R.s=new b4;Q.T.push(R)};jX.am6=function(j){var n="("+L.Cl(j,0,j.length-1)+")",Q=[],a={};
jX.aaP(n,1,Q);jX.aBW(Q,a);return a};jX.aBW=function(j,n){for(var v=0;v<j.length;v++){var Q=j[v],a=Q[0];
if(Q.length==2)n[a]=Q[1];else n[a]=Q.slice(1)}};jX.aaP=function(j,n,Q){while(!0){if(n>=j.length)throw"e";
var a=j.charAt(n);n++;if(a=="("){var B=[];n=jX.aaP(j,n,B);Q.push(B)}else if(a==" "||a=="\n"||a=="\r"){}else if(a==")")return n;
else if(a=="\""){var m=n;while(!0){var R=j[n];n++;if(R=="\"")break;if(R=="\\")n++}Q.push(JSON.parse(j.slice(m-1,n)))}else{var m=n-1;
while(j[n]!=" "&&j[n]!=")")n++;Q.push(j.slice(m,n))}}};jX.aHI=function(j,n,Q,a,B){var m=L.St(j,n);n+=4;
var R=L.St(j,n);n+=4;var q=L.zg(j,n);n+=q.IT;var U={};n=jX.yK(j,n,U);var l=new K.aL(m*R),b=a==4?L.St:L.Kq,D=b(j,n);
n+=a;jX.ahW(j,D,l,Q,a,B);return{l$:l.n,_q:U}};jX.ahW=function(j,n,Q,a,B,m){var R=L.St(j,n);n+=4;var q=L.St(j,n);
n+=4;var U=L.St(j,n);n+=4;var l=B==4?L.St:L.Kq,b=l(j,n);n+=B;jX.aoA(j,b,Q,a,U,B,m)};jX.aoA=function(j,n,Q,a,B,m,R){var q=L.St(j,n),b=0,v=0;
n+=4;var U=L.St(j,n);n+=4;var l=new b4(0,0,q,U);if(R==100||R==150)b=1;else if(R==200||R==250)b=2;else if(R==300||R==350)b=4;
else if(R==500||R==550)b=2;else if(R==600||R==650)b=4;else if(R==700||R==750)b=8;else{alert("unsupported bit depth "+R);
throw"e"}var D=B/b,b=Math.round(B/D),c=[];n=jX.ss(j,n,c,m);var _=new K.aL(64*64*b),p=new b4,X=a[e1.au6][0],g=[_.n,_.i,_.b,_.NX];
if(D==3)_.NX.fill(255);var F=Date.now();if(c.length!=0)for(var k=0;k<U;k+=64)for(var I=0;I<q;I+=64){var e=Math.min(q-I,64),H=Math.min(U-k,64),A=e*H;
p.OI(I,k,e,H);jX.aFe(j,c[v++],A*b,X,D,g);if(R==100||R==150){}else if(R==250){for(var Z=0;Z<D;Z++){var J=g[Z];
for(var s=0;s<A;s++){var E=J[s]<<8|J[A+s];J[s]=Math.min(E>>>8,255)}}}else if(R==600){var z=jX.ahL(),h=new Uint32Array(1),d=new Float32Array(h.buffer);
for(var Z=0;Z<D;Z++){var J=g[Z];for(var s=0;s<A;s++){h[0]=J[s]<<24|J[A+s]<<16|J[(A<<1)+s]<<8|J[(A<<1)+A+s]<<0;
var C=d[0];if(C<0)C=0;else if(C>1)C=1;J[s]=z[~~(.5+C*1e3)]}}}else console.log("unknown data format",R);
K.Ej(_,p,Q,l)}};jX.ahL=function(){var j=jX.atz;if(j!=null)return j;j=jX.atz=new Uint8Array(1001);for(var v=0;
v<1001;v++)j[v]=~~(.49+255*K.Ku(v*.001));return j};jX.aFe=function(j,n,Q,a,B,m){if(a==1){for(var R=0;
R<B;R++){var q=m[R],U=0;while(U<Q){var dv=j[n];n++;if(dv<127){var l=j[n];n++;dv++;for(var v=0;v<dv;v++)q[U+v]=l}else if(dv==127){var b=j[n];
n++;var D=j[n];n++;var l=j[n];n++;dv=b<<8|D;for(var v=0;v<dv;v++)q[U+v]=l}else if(dv==128){var b=j[n];
n++;var D=j[n];n++;dv=b<<8|D;for(var v=0;v<dv;v++)q[U+v]=j[n+v];n+=dv}else{dv=256-dv;for(var v=0;v<dv;
v++)q[U+v]=j[n+v];n+=dv}U+=dv}}}else if(a==2){var c=pako.inflate(j.slice(n)),_=Math.round(c.length/Q);
for(var v=0;v<Q;v++){var p=v*_;m[0][v]=c[p];m[1][v]=c[p+1];m[2][v]=c[p+2];m[3][v]=_==3?255:c[p+3]}}else alert("Unknown compression "+a)};
jX.ss=function(j,n,Q,a){var B=a==4?L.St:L.Kq;while(!0){var m=B(j,n);n+=a;if(m==0)break;else Q.push(m)}return n};
jX.yK=function(j,n,Q){while(!0){var a=L.St(j,n);n+=4;var B=L.St(j,n);n+=4;if(a==e1.aia)break;else if(a==e1.vD)Q[a]=jX.atE(j,n,n+B);
else Q[a]=L.PL(j,n,B);n+=B}return n};jX.atE=function(j,n,Q){var a={};while(n<Q){var B=L.zg(j,n);n+=B.IT;
var m=L.St(j,n);n+=4;if(m!=1)console.log("unknown flags",m);var R=L.St(j,n);n+=4;a[B.bD]=L.PL(j,n,R);
n+=R}return a};var e1={aia:0,a8Z:1,anH:2,aHz:3,azd:4,aEs:5,alf:6,auN:7,aF1:8,ahX:9,aFY:10,a0G:11,a3v:12,azv:13,aD9:14,ej:15,a5r:16,au6:17,aw8:18,aes:19,ay9:20,vD:21,atF:22,a2d:23,av3:24,am8:25,a3p:26,a2g:27,aj5:28,a48:29,a72:30,a0c:31,a8h:32,a4I:33,a9E:34,ams:35,ahe:36,alc:37,a6Q:38,adr:0,aeP:1,abS:2,aph:3,alF:1,ay_:2,akA:0,asm:1,amN:1};
e1.aiU="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var iM=function(){var j=!1,n,Q,F=0,e;function a(){var Z=L.AP(n,Q,4);Q+=4;return Z[3]+Z[2]+Z[1]+Z[0]}function B(){var Z=L.AP(n,Q,4);
Q+=4;return Z}function m(){var Z=n[Q];Q+=1;return Z}function R(){var Z=L.rv(n,Q);Q+=2;return Z}function q(){var Z=L.vS(n,Q);
Q+=4;return Z}function U(){var Z=L.J9(n,Q);Q+=4;return Z}function l(){var Z=L.vS(n,Q);Q+=8;return Z}function b(){var Z=L.Gf(n,Q);
Q+=4;return Z}function D(){var Z=L._t(n,Q);Q+=8;return Z}function c(){var Z=L.rv(n,Q),J=L.Cl(n,Q+2,Z);
Q+=2+Z;return J}function _(){var Z=L.vS(n,Q),J=L.Cl(n,Q+4,Z);Q+=4+Z;return J}function p(Z){Q=Z;var J=[];
while(Q!=0){var s=B();if(s!="#FT4"&&s!="#FT3"&&s!="#FT2")throw s;var E=l(),z=l(),h=l(),d=l(),Y=l(),C=q(),i=q(),M=q(),W=R(),$=m(),P={};
J.push(P);for(var v=0;v<C;v++){var O=q(),G=m();if(G!=0&&G!=1&&G!=2)throw G;var t=[];if(G==0||G==1){var y=l(),r=l(),u=l(),S=q(),w=m(),dj=q(),o=s!="#FT4"?0:q(),T=null;
if(s=="#FAT"||s=="#FT2"){switch(w){case 1:w=1;break;case 2:w=65;break;case 3:w=129;break;case 4:w=193;
break;default:w=0;break}}if(G==0)T=c();t=[y,r,u,w,T]}P["i"+O]=[G,t]}for(var v=0;v<W;v++){var i6=R(),bH=R(),cg=l(),bu=L.AP(n,Q,i6);
Q+=i6}Q=E}J.reverse();for(var hH=1;hH<J.length;hH++){var P=J[hH],dK=J[hH]=K.u(J[hH-1]);for(var d8 in P){var d1=P[d8];
if(d1[0]==0)dK[d8]=d1;else if(d1[0]==1){d1[1][4]=dK[d8][1][4];dK[d8]=d1}else if(d1[0]==2)delete dK[d8]}}var gH=J.pop(),kh=[];
for(var d8 in gH)kh.push(gH[d8][1]);kh.sort(function(ay,dO){return ay[0]-dO[0]});return kh}function X(Z,J,s,E){while(Q<n.length){var z=m(),C=null;
if(z==0){if(E){var h=m();if(h!=2){var d=a()}if(h==0)Q+=4;E=!1;continue}else{break}}var Y=a();if(j)console.log("  ".repeat(J),z,z&127,Y,Z._type);
if(z>127)C=g(z,J,s);else C=k(z,J,s);if(j)console.log("  ".repeat(J),C);Z[Y]=C}}function g(Z,J,s){var E=[];
Z=Z&127;if(Z==43)Q+=4;var z=q();if(Z==50){var h=a(),d=R();if(d!=1)throw"e";for(var v=0;v<z;v++){var Y={_status:"NotShared",_type:h};
E.push(Y);var C=m();if(C!=0&&C!=1)throw C;X(Y,J+1,s)}}else if(Z==41){if(z>8)throw z;for(var v=0;v<z;
v++)E.push((n[Q]>>>v&1)==1);Q++}else for(var v=0;v<z;v++){E.push(k(Z,J,s,v!=0));if(Z==42)Z=2}return E}function k(Z,J,s,E){var z=null;
if(Z==49){z={};var h=m();if(h!=0){var d=q();if(s==null){z._id=d;z._status=["Shared","Link"][h-1]}if(s&&h==2)z=s[d];
if(h==1){if(s)s[d]=z;var Y=m(),C=!1;if(Y>1)throw Y;z._type=a();if(j)console.log("  ".repeat(J),"new",z._type,Y,Q);
if(Y==0){while(!0){var i=R();if(i!=0&&i!=1&&i!=2&&i!=3&&i!=4)throw i;if(n[Q]!=0){C=!0;break}var M=R();
if(M==512)break;var W=a();if(M==256)break}}X(z,J+1,s,C)}}}else if(Z==50){z={_status:"NotShared"};if(m()==1){z._type=a();
Q+=2;X(z,J+1,s)}}else if(Z==1)z={type:"byte",value:m()};else if(Z==2)z={type:"uint16",value:R()};else if(Z==3)z={type:"uint32",value:q()};
else if(Z==4)z={type:"uint64",value:l()};else if(Z==7)z={type:"int32",value:U()};else if(Z==8)z={type:"int64",value:l()};
else if(Z==9)z={type:"float32",value:b()};else if(Z==10)z={type:"float64",value:D()};else if(Z==21)z={type:"Vec2i",value:[q(),q()]};
else if(Z==23)z={type:"Vec4i",value:[q(),q(),q(),q()]};else if(Z==33)z={type:"Vec4f",value:[b(),b(),b(),b()]};
else if(Z==36)z={type:"Vec2",value:[D(),D()]};else if(Z==38)z={type:"Vec4",value:[D(),D(),D(),D()]};
else if(Z==40)z={type:"Vec6",value:[D(),D(),D(),D(),D(),D()]};else if(Z==41)z={type:"bool",value:m()!=0};
else if(Z==42)z={type:"Enum",value:q()};else if(Z==43)z={type:"string",value:_()};else if(Z==44){if(E!=!0)F=R();
z={type:"curv16",value:[D(),F==12?[m(),m(),m(),m()]:[q(),q()]]}}else if(Z==45){var $=q();z={type:"buff",value:n.slice(Q,Q+$)};
Q+=$}else if(Z==47){z={type:"uint32",value:q()}}else if(Z==48){var P=[],O=R();if(O!=1)throw O;while(!0){if(n[Q]==135){var G=g(m(),J+1,s),t=g(m(),J+1,s),y=g(m(),J+1,s);
P.push([G,t,y])}else{var r=1;if(n[Q]==3){m();r=q()}for(var v=0;v<r;v++){if(m()!=41)throw"e";var d=m();
if(d!=0&&d!=1)throw d;if(m()!=172)throw"e";var u=q(),S=R(),w=[];P.push(w);if(S!=18)throw S;if(u>4e3)throw u;
for(var dj=0;dj<u;dj++)w.push([D(),D(),m(),m()])}}if(n[Q]==0){Q++;break}}z={type:"curve",value:P}}else if(Z==51){z={type:"EmbeddedData"};
z[a()]=_()}else if(Z==52)z={type:"uint32",value:q()};else if(Z==56)z={type:"Color32",value:[m(),m(),m(),m()]};
else if(Z==60)z={type:"ColorGRAY",value:[b(),b()]};else if(Z==68)z={type:"ColorRGBA",value:[b(),b(),b(),b()]};
else if(Z==72)z={type:"ColorCMYK",value:[b(),b(),b(),b(),b()]};else{throw Z}return Z==49||Z==50||Z==51?z:z.value}function I(Z){var J=0,s=Z.length;
for(var v=0;v<s;v+=4){Z[v]=J=J+Z[v];Z[v+1]=J=J+Z[v+1];Z[v+2]=J=J+Z[v+2];Z[v+3]=J=J+Z[v+3]}}function H(Z){n=Z;
Q=4;var J=q(),s=B();if(s!="nsrP")throw s;var s=B();if(s!="#Inf")throw s;var E=l();e=l();var z=l(),h=l(),d=l(),Y=q(),C=q(),s=B();
if(s!="Prot")throw s;var Y=q(),i=p(E),M={},W=Date.now();for(var $=0;$<i.length;$++){var P=i[$],O=P[3],u=null;
Q=P[0];var s=B();if(s!="#Fil")throw s;var G=O>>>5&1,t=O&3,y=O&192;switch(y){case 64:y=1;G=0;break;case 128:y=2;
break;case 192:y=3;break;default:y=0;G=0}var r=new Uint8Array(n.buffer,Q,P[2]);if(t==0)u=r;else if(t==1)u=pako.inflate(r);
else if(t==2)u=fj.cq.Yu(r,P[1]);else throw t;if(G==0){if(y==1)I(u);if(y==2)throw"e"}else if(G==1){if(y==2)I(u);
else throw y}else throw G;M[P[4]]=u}return M}function A(Z){var J=H(new Uint8Array(Z));n=J["doc.dat"];
Q=16;var s={};X(s,0,[]);return[J,s,e]}return{aFB:A}}();function fH(){}fH.by=function(){function j(X,g){var F=Date.now(),k=iM.aFB(X),I=k[0],e=k[1],H=k[2],A=e.DocR,Z=A.DfSz,J=A.Chld;
if(J.length!=1)console.log(J);var s=J[0],E=s.SprB;J=s.Chld;if(E){g.q=~~E[2];g._=~~E[3]}else{g.q=1920;
g._=1080}g.buffer=K.U(g.q*g._*4);var z=[0,{}];for(var v=0;v<J.length;v++)m(J[v],g,I,new j8,z,[],0);g.VV(z[0]);
console.log(Date.now()-F,"Document created");F=Date.now()}function n(X){return new j8(X[0],X[3],X[1],X[4],X[2],X[5])}function Q(X,g){var F=g.Xfrm;
F=F?n(F):new j8;F.concat(X);return F}function a(X){var g={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[X];
return g?g:"norm"}function B(X,g){var F=X[g],k=X.DsMa;if(F==null&&k)F=k[g];return F}function m(X,g,F,k,I,e,H){var A=X._type,Z=X.Chld,J=g.JL();
J.kw(X.Desc==null||X.Desc==""?A=="Grup"?"Folder":"Layer":X.Desc);var s=B(X,"Visi");if(s!=null)J._a(s);
var E=B(X,"Opac");if(E!=null)J.wT=Math.round(255*E);var z=B(X,"FOpc");if(z!=null)J.add.iOpa=Math.round(255*z);
var h=B(X,"Blnd");if(h!=null)J.TM=a(h);if(X.BFFl&&X.BFFl[0])e.push(X.BFFl[0]);var d=Q(k,X),Y=A=="ShpN"||A=="PCrv";
if(Z){g.T.push(g.v4());J.add.lsct=fM.ko;if(J.TM=="norm")J.TM="pass";J.G$=24;if(s!=null)J._a(s);if(A=="ShpN"&&H==0){var C=X.ShpB;
J.vn(new b4(C[0]+d.Qr,C[1]+d.dE,Math.round(d.NX*(C[2]-C[0])),Math.round(d.zP*(C[3]-C[1]))));I[0]++;J.add.artb.Clr={t:"Objc",v:K.Gp.Db({n:255,i:255,b:255})};
var i=e[0];for(var v=0;v<e.length;v++)if(e[v].FDeF._type!="FilN")i=e[v];if(i.FDeF._type=="FilS"){J.add.artb.Clr=l(i.FDeF.Colr);
J.add.artb.artboardBackgroundType.v=4}}var M=X.Shpe?X:null;if(M==null)M=X.DsMa&&X.DsMa.Shpe?X.DsMa:null;
if(M){var W=q(M);if(W.z.length!=7){J.add.vmsk=W;K.R.fK(W.z,d);J.sU();J.tI(g)}}for(var v=0;v<Z.length;
v++)m(Z[v],g,F,d,I,e,H+1)}else if(A=="Rstr"||A=="ImgN"||A=="MRst"){var $=B(X,"Bitm"),P=$.Bckg,O=Date.now(),G;
if(P==null){G=D($,F,I[1]);J.s=G[2].O();J.buffer=G[1].slice(0);J.s.x+=d.Qr;J.s.y+=d.dE}if(P||d.P8()!=1){var t,y=0,r=0;
if(P){var u=F[P.Data],S=L._8(u,"ataD")+4,w=L.vS(u,S);S+=4;t=u.slice(S,S+w)}else{y=J.s.x-d.Qr;r=J.s.y-d.dE;
if(G[3]==null)G[3]=new Uint8Array(fj.Mi("PNG").OR([[J.buffer.buffer]],J.s.q,J.s._));t=G[3].slice(0)}var dj=g.$D(t,J.getName(),0,0);
dj.G$=J.G$;dj.wT=J.wT;J=dj;var o=new j8;o.translate(y,r);o.concat(d);var T=J.s.O();T.x=T.y=0;var i6=K.c.yc(T).g;
K.c.C(i6,o,i6);J.add.SoLd.Trnf=N.IP.ob(i6);J.add.SoLd.nonAffineTransform=N.IP.ob(i6);J.pS(g,!1)}}else if(A=="TxtA"||A=="TxtF"){J.add.lnsr="rend";
J.add.TySh=eR.N0(0,0);J.add.TySh.v$=new b4(0,0,100,100);var bH=X.TxtH?X:X.DsMa,cg=bH.TxtH.FrmB,bu=1,hH=1,dK=J.add.TySh.C=new j8,ay=0;
dK.translate(cg[0],cg[1]);dK.concat(d);if(A=="TxtF"){var d8=Math.atan2(-dK.b,dK.NX);dK.rotate(-d8);bu=dK.NX;
hH=dK.zP;dK.zP=dK.NX=1;dK.rotate(d8)}var d1=J.add.TySh.Kt,gH=bH.StSt;if(gH==null)gH=bH.StMa.StSt;var kh=gH.Blok;
if(kh.length!=1)throw"e";for(var dO=0;dO<kh.length;dO++){var fy=kh[dO],bg=ay,f4=0,jb=fy.Glyp.Utf8;if(jb==null)continue;
jb=jb.replace(/\u2028/g,"\n");jb=jb.replace(/\u2029/g,"\n");jb=jb.slice(0,jb.length-1);if(jb=="")continue;
J.kw(jb.slice(0,255));eR.Yr(d1,ay,jb);ay+=jb.length;var jT=fy.GAtt.Runs,jy=fy.PAtt.Runs[0],cl=jy.Item.Ints[0];
for(var hu=0;hu<jT.length;hu++){var aA=jT[hu],ko=aA.Indx,ec=aA.Item,kK=ec.Objs,cM=eR.JB(d1,bg,1);cM.w$.Justification=cl==0?0:cl==1?2:1;
eR.em(cM,ec.DFnt.Post);cM.RW.FontSize=ec.Doub[0];for(var v=0;v<kK.length;v++){var gG=kK[v];if(gG._type=="FDsc"){var c2=gG.FDeF;
if(c2._type=="FilS"){var a1=b(c2.Colr);cM.RW.FillColor={Type:1,Values:[1,a1[0],a1[1],a1[2]]}}}}eR.A0(d1,bg+f4,bg+Math.min(ko,jb.length),cM);
f4=ko}}eR.dY(d1,1);eR.gG(d1,[0,0,Math.round((cg[2]-cg[0])*bu*1.02),Math.round((cg[3]-cg[1])*hH*1.2)]);
g.HM=!0}else if(Y){J.G$|=16;var cs=J.add.vstk=g8.o0.cL(!0),W=J.add.vmsk=q(X);K.R.fK(W.z,d);var i=e[0];
for(var v=0;v<e.length;v++)if(e[v].FDeF._type!="FilN")i=e[v];if(i){var f7=i.FDeF,j7=f7._type;if(j7=="FilS")J.add.SoCo={classID:"null",Clr:l(f7.Colr)};
else if(j7=="FilG"){var dz=J.add.GdFl=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]);U(i,dz,K.R.sR(W.z))}else if(j7=="FilN"){J.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}};
cs.fillEnabled.v=!1}else console.log(j7)}if(X.LILn){var iA=X.LILn[0].LDeL,kk=iA.Wght;if(kk!=0){cs.strokeEnabled.v=!0;
cs.strokeStyleLineWidth.v.val=kk;var f7=X.LIFl[0].FDeF,j7=f7._type;if(j7=="FilS")cs.strokeStyleContent.v.Clr=l(f7.Colr);
else if(j7=="FilN")cs.strokeEnabled.v=!1}}J.sU();J.tI(g)}else if(A=="RcRA"){var fA=X.AdjP,g5="hue2",h$=J.add[g5]=fo.cL(g5);
R(h$,fA)}else console.log(A);var hL=X.AdCh,ha=[];if(hL)for(var v=0;v<hL.length;v++){var jl=hL[v],fI=jl._type;
if(fI=="ShpN"||fI=="PCrv"){var W=J.add.vmsk=q(jl),aE=Q(d,jl);K.R.fK(W.z,aE);J.sU();J.tI(g)}else if(jl.AdjP){var fA=jl.AdjP,es=fA._type;
console.log(es);var kN={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[es];
if(kN==null){console.log(fA);continue}var fV=fo.m4(kN,{});ha.push(fV);var h$=fV.v.Fltr.v;if(es=="LevP"){var jU=kp.Js(h$,0);
jU[0]=fA.OutB*255;jU[1]=fA.OutW*255;kp.RQ(h$,0,jU)}else if(es=="WhBP"){var jU=kp.Js(h$,2);jU[4]=100+fA.WBTi*20;
kp.RQ(h$,2,jU);var jU=kp.Js(h$,3);jU[4]=100+fA.WBTi*200;kp.RQ(h$,3,jU)}else if(es=="HSSP"){var jU=az.Js(h$,0);
jU[0]=Math.round(fA.HueA*256);jU[1]=Math.round(fA.SatA*256);jU[2]=Math.round(fA.LumA*256);az.RQ(h$,0,jU)}else if(es=="RecP"){R(h$,fA)}else if(es=="B&CP"){h$.Brgh.v=Math.round(fA.Brig*100);
h$.Cntr.v=Math.round(fA.Ctrs*100-100)}else if(es=="PosP"){h$.Lvls.v=fA.Post}else if(es=="VibP"){h$.vibrance.v=fA.Vibr-100;
h$.Strt.v=Math.round(fA.Satu*100)}else if(es=="ExpP"){h$.Exps.v=fA.Expo;h$.gammaCorrection.v=fA.Gamm/2.2}else if(es=="ThrP"){h$.Lvl.v=Math.round(fA.Thre*255)}else if(es=="CrvP"){var c$=fA.Mast["Cnt "],iq=fA.Mast.Vals,jU=dr.Js(h$,0),cz=jU[0];
for(var h0=0;h0<c$;h0++){var fl=jU[h0]=K.u(cz);fl.v.Hrzn.v=Math.round(iq[h0]*255);fl.v.Vrtc.v=Math.round(iq[4+h0]*255)}dr.RQ(h$,0,jU)}}else console.log(jl)}if(ha.length!=0&&J.add.SoLd){J.add.SoLd.filterFX=fo.Wu();
g.Qp({id:J.add.SoLd.placed.v,s:new b4,buffer:K.U(1),N:new f.km});J.add.SoLd.filterFX.v.filterFXList.v=ha;
J.pS(g,!1)}var co=X.FiEf;if(co&&co.length!=0){var cC=J.add.lmfx=JSON.parse(g8.default);for(var v=0;v<g8.order.length;
v++)cC[g8.Ub[v]]={t:"VlLs",v:[]};for(var gr=0;gr<co.length;gr++){var eK=co[gr],kM=eK._type,bM={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[kM],dz=bM?JSON.parse(g8.sp[g8.order.indexOf(bM)]):null,bn=1;
if(kM=="ColO"){dz.Clr=l(eK.Colr)}else if(kM=="GrdO"){U(eK.GrFl,dz)}else if(kM=="Shad"||kM=="InnS"||kM=="OutG"||kM=="InnG"){dz.Clr=l(eK.Colr);
dz.blur.v.val=Math.round(eK.Radi);var fT=eK.Comp;if(fT!=null){if(fT>.5)bn=1-.5*(fT-.5);else dz.Ckmt.v.val=Math.round(100*(.5-fT))}if(eK.Offs!=null){dz.Dstn.v.val=eK.Offs;
dz.lagl.v.val=Math.round(180-eK.Angl*180/Math.PI);dz.uglg.v=!1}}else if(kM=="Strk"){if(eK.Ftyp==0)dz.Clr=l(eK.Colr);
else{U(eK.GrFl,dz);dz.PntT.v.FrFl="GrFl"}dz.Sz.v.val=Math.round(eK.Radi)}else if(kM=="PhgB"||kM=="BevE"){dz.blur.v.val=Math.round(eK.Radi);
if(kM=="BevE")dz.bvlS.v.BESl="PlEb"}else if(kM=="Gaus"){if(Y&&eK.Enab){J.add.vmsk.g_=eK.Radi/2.4;J.add.vmsk._r=!0;
J.sU();J.tI(g)}}if(bM){dz.enab.v=eK.Enab;if(dz.Md&&eK.BlnM!=null)dz.Md.v.BlnM=af.sr(a(eK.BlnM));if(dz.Opct&&eK.Opac!=null)dz.Opct.v.val=Math.round(bn*eK.Opac*100);
var ck=g8.Ub[g8.order.indexOf(bM)];cC[ck].v.unshift({t:"Objc",v:dz})}}}if(X.BFFl&&X.BFFl[0])e.pop();
g.T.push(J)}function R(X,g){X.Clrz.v=!0;var F=az.Js(X,0);F[0]=Math.round(g.RecH*360);F[1]=Math.round(g.RecS*100);
F[2]=Math.round(g.RecL*100);az.RQ(X,0,F)}function q(X){var g=new f.hx,F=X._type;if(X.ShpB==null&&X.Crvs==null)X=X.DsMa;
if(F=="PCrv"){var k=X.Crvs.Data,I=[],e=[];for(var v=0;v<k.length;v++){var H=k[v],A=H.length%3;if(A!=1){H=A==2?H[0][2]!=0?H.slice(0,H.length-1):H.slice(1):H.slice(1,H.length-1)}for(var Z=0;
Z<H.length;Z++){var J=H[Z],s=J[2];if(s!=0)I.push(Z==0?"M":"C");e.push(J[0],J[1])}}g.z=K.c.TW({g:e,rZ:I},!0)}else{var E=X.ShpB,z=X.Shpe,h=z._type,d=E[2]-E[0];
if(h=="ShpE"){g.z=K.R.hi.$v(E[0],E[1],E[2]-E[0],E[3]-E[1])}else if(h=="ShNR"){var Y=[0,0,0,0];if(z.CTyp){Y=z.ShCR.slice(0);
for(var v=0;v<4;v++)Y[v]*=E[2]-E[0];for(var v=1;v<4;v++)Y[v]=Y[0]}g.z=K.R.hi.Rect(E[0],E[1],E[2]-E[0],E[3]-E[1],Y)}else if(h=="ShpT"){g.z=K.c.TW({rZ:["M","L","L","Z"],g:[E[0],E[3],E[2],E[3],E[0]+d*.5,E[1]]},!0)}else if(h=="ShTz"){g.z=K.c.TW({rZ:["M","L","L","L","Z"],g:[E[0]+d*z.PosL,E[1],E[0]+d*z.PosR,E[1],E[2],E[3],E[0],E[3]]},!0)}else{console.log("--",h);
g.z=K.R.hi.Rect(E[0],E[1],E[2]-E[0],E[3]-E[1],[0,0,0,0])}}return g}function U(X,g,F){var k=X.FDeF,I=X.FDeX;
if(I)I=n(I);var e=k.Grad,H=e.Cols;g.Type.v.GrdT=k.Type==0?"Lnr":"Rdl";var A=[];for(var v=0;v<H.length;
v++){var Z=b(H[v]);A.push([e.Posn[v][0],Z])}g.Grad.v.Intr.v=0;K.Gp.wM(A,g.Grad.v);var J=e.Posn,s=new eE(J[0][0],J[0][1]),E=new eE(J[1][0],J[1][1]);
if(I){var z=new j8;if(F==null)z.translate(-.5,-.5);z.concat(I);if(F==null)z.translate(.5,.5);s=z.JZ(s);
E=z.JZ(E)}if(k.Type==0)s=new eE((s.x+E.x)/2,(s.y+E.y)/2);K.Gp.$z(s,E,F?F:new b4(0,0,1,1),g)}function l(X){var g=b(X);
return{t:"Objc",v:K.Gp.Db({n:g[0]*255,i:g[1]*255,b:g[2]*255})}}function b(X){var g=X._col,F=X._type;
if(F=="HSLA"){var k=K.BK(g[0],g[1],g[2]);return[k.n,k.i,k.b,g[3]]}else if(F=="RGBA")return g;else if(F=="CMYK")return K.dm(g);
else if(F=="GRAY")return[g[0],g[1],g[2]];else if(F=="Pant")return X.srgb._col;else{console.log(g);throw F}}function D(X,g,F){var k=X.Frmt,C="";
if(k!=0&&k!=1&&k!=4&&k!=6)throw k;var I=X.BmpW,e=X.BmpH,H=k==1?128:256,A=k==4?5:k==0||k==1?4:1,Z=Math.ceil(I/H),J=Math.ceil(e/256),s=new b4(0,0,Z,J),E=new b4;
for(var v=0;v<A;v++){var z=new Uint8Array(X["Sta"+(v+1)]);for(var h=0;h<z.length;h++)if(z[h]==1)z[h]=0;
var d=K.eW(z,s);E=E.d_(d)}var Y=[];for(var v=0;v<A;v++){var z=new Uint8Array(X["Sta"+(v+1)]),i=K.U(E.$());
K.Gc(z,s,i,E);Y[v]=[];for(var h=0;h<i.length;h++)Y[v][h]=i[h];C+=JSON.stringify(Y[v])+","+JSON.stringify(X["Idx"+(v+1)])+","}if(F[C]==null){var M=E.q*H,W=E._*256,$=new Array(A);
for(var v=0;v<A;v++){var z=$[v]=new Uint8Array(M*W);c(z,X["Idx"+(v+1)],Y[v],g,M,W,H)}var P=K.U(M*W*4);
if(k==0||k==1)K.Y1({n:$[0],i:$[1],b:$[2],NX:$[3]},P);else if(k==4){for(var v=0;v<$[0].length;v++){var O=v*4,G=$[0][v]*(1/255),t=$[1][v]*(1/255),y=$[2][v]*(1/255),r=$[3][v]*(1/255),u=UDOC.C.cmykToRgb([G,t,y,r]);
P[O]=u[0]*255;P[O+1]=u[1]*255;P[O+2]=u[2]*255;P[O+3]=$[4][v]}}else{P.fill(255);K.YM($[0],P)}var S=new b4(0,0,M,W),w={buffer:P,s:S};
K.DS(w);F[C]=[w.s,w.buffer]}var d=F[C][2]=F[C][0].O();d.x+=E.x*H;d.y+=E.y*256;return F[C]}function c(X,g,F,k,I,e,H){var A=0,Z=I>>>(H==256?8:7),J=e>>>8;
for(var s=0;s<J;s++)for(var E=0;E<Z;E++){var z=E*H,h=s*256,d=s*Z+E,Y=h*I+z,C=F[d];if(C<=1){}else if(C==2)_(X,Y,255,I,H,256);
else if(C==4){var i=g[A];A++;var M=k[i.Data.DatI],W=i.Rect;if(W==null)W=[0,0,H,256];p(X,(h+W[1])*I+z+W[0],M,W[1]*H+W[0],I,H,W[2]-W[0],W[3]-W[1])}else console.log(C)}}function _(X,g,F,k,I,e){var H=g+k*e;
for(;g<H;g+=k){var A=g+I;for(var Z=g;Z<A;Z++){X[Z]=F}}}function p(X,g,F,k,I,e,H,A){var Z=g+I*A,J=k+e*A;
for(;g<Z&&k<J;g+=I,k+=e){for(var v=0;v<H;v++)X[g+v]=F[k+v]}}return j}();function dp(){}dp.by=function(j,n){var Q=dp,a=fS.parse(j),m=0;
if(a.pages.length>1)console.log(a.pages.length,"pages");var B=[],R=new b4;for(var q=0;q<a.pages.length;
q++){var U=a.pages[q],l=U.layers,b=Q.Tv(l,q),c=!1;if(b.$()>8e3*8e3||b.q>3e4||b._>3e4){Q.amc(l,!0);var D=Q.Tv(l,q);
if(D.$()>=b.$())Q.amc(l,!1)}b=Q.Tv(l,q);for(var _=0;_<l.length;_++){var p=l[_];if(Q.uC(p)=="artboard")c=!0}if(!c){console.log("no artboard");
var X={};for(var g in U)X[g]=U[g];X._class="group";U.layers=[X]}B.push(b.O());if(b.ke())continue;b.x=0;
b.y=m;m+=b._+200;R=R.d_(b)}var F={};if(a.foreignSymbols)for(var v=0;v<a.foreignSymbols.length;v++){var k=a.foreignSymbols[v].symbolMaster;
F[k.symbolID]={fV:k}}Q.aFr(a.pages,F,n);for(var I in F){var p=F[I].fV,e=Q.aeX(p.layers)}var H=dp.Gb(R,8192*8192);
n.HM=!0;n.q=Math.round(R.q/H);n._=Math.round(R._/H);n.buffer=K.U(n.q*n._*4);n.VV(a.pages[0].layers.length);
n.H2={};n.Dx=[];m=0;for(var q=0;q<a.pages.length;q++){var A=a.pages[q],b=B[q],Z=new j8(H,0,0,H,b.x,b.y-m);
Q.jW(A.layers,n,Z,a,F,{},[]);m+=b._+200}delete n.H2;delete n.Dx;if(H!=1)alert("File scaled down "+H+"x");
n.a4b()};dp.a61=0;dp.uC=function(j){return j._class?j._class:j.$class};dp.Gb=function(j,n){var Q=1;while(Math.round(j.q/Q)*Math.round(j._/Q)>n||Math.max(Math.round(j.q/Q),Math.round(j._/Q))>3e4)Q++;
if(window.awS)return Q;if(Q!=1&&!window.confirm("Your image is quite large ("+j.q+" x "+j._+" px).\n"+"Press OK to scale it down "+Q+"x, or Cancel to keep the size."))Q=1;
return Q};dp.Tv=function(j,n){var Q=[],a=dp;for(var B=0;B<j.length;B++){var m=j[B],R=a.it(m.frame);if(n==0||a.uC(m)=="artboard")Q.push(R)}return K.s.M7(Q)};
dp.amc=function(j,n){var Q=[],a=dp;for(var B=0;B<j.length;B++){var m=j[B],R=a.it(m.frame);R.q+=150;R._+=150;
Q.push(R)}var q=K.s.M7(Q);K.s.a5V(Q,n);var U=K.s.M7(Q);if(U.$()*1.5<q.$()||q.q>3e4&&U.q<=3e4||q._>3e4&&U._<=3e4){alert("Re-arranging artboards");
for(var B=0;B<j.length;B++){var l=Q[B],m=j[B],b=m.frame;b.x=l.x;b.y=l.y}}};dp.aFr=function(j,n,Q){if(j==null)return;
var a=dp;for(var B=0;B<j.length;B++){var m=j[B],R=a.uC(m);if(["page","artboard","group"].indexOf(R)!=-1)a.aFr(m.layers,n,Q);
else if(R=="symbolMaster")n[m.symbolID]={fV:m}}};dp.aeX=function(j){var n=dp;for(var Q=0;Q<j.length;
Q++){var a=j[Q],B=n.uC(a),m=null;if(["page","artboard","group"].indexOf(B)!=-1)m=n.aeX(a.layers);if(B=="symbolMaster"||B=="symbolInstance")m=a;
if(m!=null)return m}return null};dp.jW=function(j,n,Q,a,B,m,R){if(j==null)return;var q=dp,U=[];for(var l=0;
l<j.length;l++){var b=j[l],D=b.frame?q.it(b.frame):null,c=b.style,F="",Z=null,J=!1;if(c==null){console.log("no styles")}var _=q.aas(b,Q),p=q.uC(b),X=p=="shapeGroup"||p=="shapePath"||p=="rectangle"||p=="oval"||p=="triangle"||p=="polygon",g=["page","artboard","group"].indexOf(p)!=-1;
if(p=="shapeGroup"){for(var v=0;v<b.layers.length;v++)if(q.uC(b.layers[v])=="shapeGroup")g=!0}var k=b.exportOptions;
if(k){var I=k.exportFormats;if(I==null)I=k.sizes;if(p!="artboard"&&(I&&I.length!=0)){var e=I[0].scale}}var H=n.JL();
H._a(b.isVisible);var A=b.name;if(!(typeof A=="string"))A=p;H.kw(F+A.slice(0,250));if(c!=null)Z=q.atW(a,n,c,D,_,H.getName(),X||p=="artboard"||g);
if(p=="rectangle"&&c&&c.fills&&c.fills[0]){var s=c.fills[0];if(s.fillType==4&&s.patternFillType>1&&s.image!=null)J=!0}if(b.shouldBreakMaskChain){while(U.length!=0)q.afP(U.pop(),n)}if(g){H.add.lsct=b.layerListExpandedType==2?fM.ko:fM.NO;
H.TM="pass";H.G$=24;H._a(b.isVisible);n.T.push(n.v4());if(p=="artboard"){var E=D.O(),z=_.P8();E.x=-Math.floor(_.Qr/z);
E.y=-Math.floor(_.dE/z);E.q=Math.floor(E.q/z);E._=Math.floor(E._/z);H.vn(E);var h=b.backgroundColor,d=h?{n:255*h.red,i:255*h.green,b:255*h.blue}:{n:255,i:255,b:255};
H.add.artb.Clr={t:"Objc",v:K.Gp.Db(d)};H.add.artb.artboardBackgroundType={t:"long",v:4}}q.jW(b.layers,n,_,a,B,m,R)}else if(X&&!J){var Y=Z!=null&&Z.frameFXMulti.v.length==1;
H.add.vmsk=new f.hx;H.add.vstk=g8.o0.cL(!0,Y);var C=c?c.fills:null,i=c?q.abt(a,C,D,_,H.getName(),n,q.VO(R,b.do_objectID+"_image")):[];
if(i.length==0){if(Y)H.add.vstk.fillEnabled.v=!1;else H.add.iOpa=0;H.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}}}else{var M=i[0],W=null,$=null;
if(M.w=="SoFi"){W="SoCo";$=g8.WE}if(M.w=="GrFl"){W="GdFl";$=g8.Kp}if(M.w=="patternFill"){W="PtFl";$=g8._$}if(W!=null){H.add[W]={classID:"null"};
for(var v=0;v<$.length;v++){var P=$[v];H.add[W][P]=M.J.v[P]}var O=M.J.v.Opct.v.val;if(Y&&O==0)H.add.vstk.fillEnabled.v=!1;
else H.add.iOpa=Math.round(255*O/100)}}H.G$|=16;H.add.vmsk.z=q.fx(b.layers?b.layers:[b],b.layers?_:Q);
var G=c?c.blur:null;if(G&&G.isEnabled&&G.type<=1)H.add.vmsk.g_=G.radius;if(H.add.vmsk.z.length==2){console.log("shape with no content:",H.getName())}if(Y){var t=Z.frameFXMulti.v[0].v,y=H.add.vstk,r=c.borders[0];
Z.frameFXMulti.v=[];gq.anZ(t,y);var u=c.borderOptions,S=c.miterLimit;if(u)g8.o0.write(y,{th:u.lineCapStyle,aO:u.lineJoinStyle,SH:u.dashPattern,sX:S})}H.sU();
H.tI(n)}else if(p=="bitmap"||J){if(!J&&b.image==null)continue;var w=J?c.fills[0]:null,dj=J?w.image.bdata:b.image.bdata,o=n.$D(dj,H.getName(),0,0);
o.G$=H.G$;H=o;var G=c?c.blur:null,T=c?c.colorControls:null;if(G||T){H.add.SoLd.filterFX=fo.Wu();n.Qp({id:H.add.SoLd.placed.v,s:new b4,buffer:K.U(1),N:new f.km});
var C=H.add.SoLd.filterFX.v.filterFXList.v;if(G){var i6=fo.m4("GsnB",{});i6.v.enab.v=G.isEnabled;i6.v.Fltr.v.Rds.v.val=G.radius;
C.push(i6)}if(T){var bH=T.brightness,cg=T.contrast,bu=T.hue,hH=T.saturation;if(bu!=0||hH!=1){var i6=fo.m4("hue2",{});
i6.v.enab.v=T.isEnabled;az.RQ(i6.v.Fltr.v,0,[Math.round(bu*180/Math.PI),Math.round((hH-1)*100),0]);C.push(i6)}if(bH!=0||cg!=1){var i6=fo.m4("brit",{});
i6.v.enab.v=T.isEnabled;cg=cg-1;if(cg>0)cg/=2;var dK=i6.v.Fltr.v;dK.Brgh.v=Math.round(bH*255);dK.Cntr.v=Math.round(cg*255);
dK.useLegacy.v=!0;C.push(i6)}}}if(J){var d1=w.patternFillType;if(d1==3){var gH=H.s.q/H.s._,kh=D.q/D._;
if(gH<kh){_.translate(-(D.q*(1-gH/kh))/2,0);_.scale(kh/gH,1)}else{_.translate(0,-(D._*(1-kh/gH))/2);
_.scale(1,gH/kh)}}}D.x=D.y=0;var dO=K.c.yc(D).g;_.m2();K.c.C(dO,_,dO);H.add.SoLd.Trnf=N.IP.ob(dO);H.add.SoLd.nonAffineTransform=N.IP.ob(dO);
H.pS(n,!1)}else if(p=="text"){if(b.attributedString==null)continue;var bg=_.O(),f4,jb,aA=0;bg.m2();bg.NX=bg.zP=Math.min(bg.NX,bg.zP);
H.add.lnsr="rend";H.add.TySh=eR.N0(0,0);H.add.TySh.v$=new b4(0,0,D.q,D._);H.add.TySh.C=bg;var jT=b.attributedString;
if(jT.archivedAttributedString)jT=jT.archivedAttributedString;var jy=jT.NSString;if(jy==null)jy=jT.string;
if(jy==null)jy="";if(jy["NS.string"])jy=jy["NS.string"];if(m[b.do_objectID]!=null)jy=m[b.do_objectID];
var cl=q.VO(R,b.do_objectID+"_stringValue");if(cl)jy=cl.value;if(jT.attributes!=null){f4=[];jb=[];var hu=jT.attributes;
for(var v=0;v<hu.length;v++){f4.push(hu[v].length,v);jb.push(hu[v].attributes)}}else if(jT.NSAttributeInfo==null){f4=[jy.length,0];
jb=[jT.NSAttributes]}else{f4=jT.NSAttributeInfo["NS.data"];jb=jT.NSAttributes;f4=dp.a3S(f4,jb)}for(var v=0;
v<f4.length;v+=2)aA+=f4[v];if(aA!=jy.length){while(aA>jy.length){f4[f4.length-2]--;aA--;if(f4[f4.length-2]==0){f4.pop();
f4.pop()}}f4[f4.length-2]+=jy.length-aA}jy=jy.replace(/\u2028/g,"\n");jy=jy.replace(/\u2029/g,"\n");
jy=jy.replace(/\r/g,"\n");var ko=H.add.TySh.Kt;eR.Yr(ko,0,jy);if(jy!=""){var ec=b.textBehaviour,kK=c.textStyle,cM=kK?kK.verticalAlignment:0,gG=q.a6X(ko,f4,jb,jy),z=bg.P8(),c2=eR.JB(ko,0,1),f7=0;
if(c2.RW.Font){var a1=c2.hK[c2.RW.Font].Name;if(a1=="FontAwesome"||a1=="Ionicons")gG*=.87}var cs=c2.RW.AutoLeading?0:c2.RW.Leading*.6,j7=Math.max(gG,cs)*z,dz=D.q,iA=D._;
if(ec==0){eR.dY(ko,0);var kk=eR.GP(c2.w$);if(kk==1)f7=dz*z;if(kk==2)f7=dz*z*.5;if(cM==0)j7*=1;else j7*=.9}else{eR.dY(ko,1);
eR.gG(ko,[0,0,Math.round(dz),Math.round(iA)]);if(ec==2&&cM==0)j7=j7*.2;else if(ec==2&&cM==1){j7=z*.5*(iA-c2.RW.FontSize)}else if(ec==1&&cM==0)j7=j7*.2;
else j7=j7*.35}H.add.TySh.C.translate(f7,j7)}}else if(p=="symbolInstance"||p=="symbolMaster"){var fA=b.symbolID;
if(m[b.do_objectID])fA=m[b.do_objectID].symbolID;var g5=q.VO(R,b.do_objectID+"_symbolID");if(g5)fA=g5.value;
if(fA=="")continue;var h$={};for(var P in m)h$[P]=m[P];if(b.overrides)for(var P in b.overrides)h$[P]=b.overrides[P];
var hL=R.slice(0);if(b.overrideValues)hL=hL.concat(b.overrideValues);var ha=B[fA];if(ha==null){console.log("Unknown master master",b.symbolID);
continue}var jl=dp.it(ha.fV.frame),fI=jl.q/D.q,aE=jl._/D._,es=_.O();es.scale(fI,aE);H.add.lsct=fM.NO;
H.TM="pass";H.G$=24;H._a(b.isVisible);n.T.push(n.v4());var kN=ha.fV;if(n.Dx.indexOf(kN)==-1){n.Dx.push(kN);
q.jW(kN.layers,n,es,a,B,h$,hL);n.Dx.pop()}}else if(p=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+p,b);continue}if(c&&c.contextSettings){var fV=c.contextSettings,jU=fV.blendMode;
if(jU<q.n$.length){H.TM=af.Yh[af.de.indexOf(q.n$[jU])];if(g&&H.TM=="norm")H.TM="pass"}H.wT=Math.round(H.wT*fV.opacity)}if(Z!=null){H.add.lmfx=Z}n.T.push(H);
if(b.hasClippingMask&&j.length>1){U.push(H);n.T.push(n.v4())}}while(U.length!=0)q.afP(U.pop(),n)};dp.VO=function(j,n){for(var v=0;
v<j.length;v++)if(j[v].overrideName.startsWith(n))return j[v]};dp.a3S=function(j,n){var Q=0,a=[];while(Q+1<j.length){var B=j[Q];
Q++;if(B>127){B+=128*(j[Q]-1);Q++;if(j[Q-1]>127){B+=128*(j[Q]-1);Q++}}var m=j[Q];Q++;a.push(B,m)}return a};
dp.a6X=function(j,n,Q,a){var B=dp,m=0,b=0,D=0;for(var v=0;v<a.length;v++){var R=a.charCodeAt(v),q=1473<=R&&R<=1479||1488<=R&&R<=1514||1520<=R&&R<=1524,U=1569<=R&&R<=1594||1600<=R&&R<=1749;
if(q||U)m++}var l=m>a.length/2;for(var v=0;v<n.length;v+=2){var c=n[v],H=14,A="DejaVuSans";if(c==0)continue;
var _=n[v+1],p=Q[_],X=eR.JB(j,b,b+c-1),g=p.NSColor;if(g==null){var g=p.MSAttributedStringColorDictionaryAttribute;
if(g==null)g=p.MSAttributedStringColorAttribute;if(g==null)g="0 0 0";else g=[g.red,g.green,g.blue].join(" ")}else if(B.uC(g)=="MSArchivedColor")g=g.dr+" "+g.dg+" "+g.db;
else if(g.NSRGB){g=g.NSRGB;g=L.AP(g,0,g.length-1)}else if(g.NSCMYK){g=g.NSCMYK;g=L.AP(g,0,g.length-1);
g=g.split(" ").map(parseFloat);var F=1-g[0],k=1-g[1],I=1-g[2],e=1-g[3];g=F*e+" "+k*e+" "+I*e}else if(g.NSWhite){g="1 1 1"}g=g.split(" ");
X.RW.FillColor={Type:1,Values:[1,parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])]};var Z=p.MSAttributedStringFontAttribute;
if(p.NSFont){H=p.NSFont.NSSize;A=p.NSFont.NSName}else if(Z){if(Z.attributes){Z=Z.attributes;H=Z.size;
A=Z.name}else{var J=Z.NSFontDescriptorAttributes;if(J==null)J=Z.UIFontDescriptorAttributes;Z=J;H=Z.NSFontSizeAttribute;
A=Z.NSFontNameAttribute}if(A==null)A="DejaVuSans"}var D=Math.max(D,H);X.RW.FontSize=Math.round(H);eR.em(X,A);
var s=p.NSKern;if(s==null)s=p.kerning;if(s!=null)X.RW.Tracking=Math.round(1e3*s/H);if(p.NSUnderline!=null)X.RW.Underline=p.NSUnderline>0;
var E=p.NSStrikethrough;if(E==null)E=p.strikethroughStyle;if(E!=null)X.RW.Strikethrough=E>0;if(p.MSAttributedStringTextTransformAttribute==1)X.RW.FontCaps=2;
var z=p.NSParagraphStyle;if(z==null)z=p.paragraphStyle;if(z){var h=z.paragraphSpacing;if(h!=null){X.w$.SpaceAfter=h}var d=z.NSAlignment;
if(d==null)d=z.alignment;if(d!=null){var Y=0;if(!1){}else if(d==1)Y=1;else if(d==2)Y=2;else if(d==4)Y=0;
else{Y=d;console.log("unknown align",d)}if(l&&Y<2)Y=1-Y;X.w$.Justification=Y}var C=z.NSMinLineHeight;
if(C==null)C=z.minimumLineHeight;if(C!=null){X.RW.AutoLeading=!1;X.RW.Leading=C}}X.w$._Direction=l?1:0;
eR.A0(j,b,b+c,X);b+=c}return D};dp.atW=function(j,n,Q,a,B,m,R){var q=dp,U=JSON.parse(g8.default),l=!1;
for(var v=0;v<g8.order.length;v++)U[g8.Ub[v]]={t:"VlLs",v:[]};var b=Q.fills,D=q.abt(j,b,a,B,m,n);for(var c=0;
c<2;c++){var _=Q[["shadows","innerShadows"][c]];if(_==null)continue;var p=["DrSh","IrSh"][c],X=g8.Ub[g8.order.indexOf(p)];
for(var v=0;v<_.length;v++){var g=_[v];if(!g.isEnabled)continue;var F=g.contextSettings;if(F&&F.opacity==0||g.color.alpha==0)continue;
var k=JSON.parse(g8.sp[g8.order.indexOf(p)]);U[X].v.unshift({t:"Objc",v:k});l=!0;k.Clr.v=q.qH(g.color);
k.blur.v.val=Math.round(g.blurRadius/B.P8());var I=B.O();I.Qr=I.dE=0;I.m2();var e=I.JZ(new eE(g.offsetX,g.offsetY)),H=Math.sqrt(e.x*e.x+e.y*e.y);
k.Dstn.v.val=Math.round(H);k.lagl.v.val=Math.round(Math.atan2(e.y,-e.x)*(180/Math.PI));if(k.layerConceals)k.layerConceals.v=D.length!=0;
q.NR(g,k)}}var A=Q.borders;if(A!=null&&(D.length==0||Q.blur==null||!Q.blur.isEnabled))for(var v=0;v<A.length;
v++){var Z=A[v];if(!Z.isEnabled)continue;var k=JSON.parse(g8.sp[g8.order.indexOf("FrFX")]),X=g8.Ub[g8.order.indexOf("FrFX")];
U[X].v.unshift({t:"Objc",v:k});l=!0;k.Clr.v=q.qH(Z.color);if(Z.fillType!=0&&Z.gradient){var J=q.aiK(Z.gradient,a,B,m),s=["Type","Angl","Ofst","Scl"];
for(var v=0;v<s.length;v++)k[s[v]]=J[s[v]];k.Grad.v=J.Grad.v;k.PntT.v.FrFl="GrFl"}k.Sz.v.val=Math.round(Z.thickness/B.P8());
k.Styl.v.FStl=["CtrF","InsF","OutF"][Z.position];q.NR(Z,k)}for(var v=R?1:0;v<D.length;v++){var E=D[v],X=g8.Ub[g8.order.indexOf(E.w)];
U[X].v.unshift(E.J);l=!0}return l?U:null};dp.abt=function(j,n,Q,a,B,m,R){if(n==null)return[];var q=dp,U=[];
for(var v=0;v<n.length;v++)if(n[v].isEnabled)U.push(n[v]);n=U;var l=[];for(var v=0;v<n.length;v++){var b=n[v],D=null,c=null;
if(b.fillType==0){D="SoFi";var _=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);c={t:"Objc",v:_};c.v.Clr.v=q.qH(b.color)}else if(b.fillType==1){D="GrFl";
c={t:"Objc",v:q.aiK(b.gradient,Q,a,B)}}else if(b.fillType==4&&b.image!=null){var p=b.image;if(R)p=R.value;
var X=fj.Ot(p.bdata.buffer);if(X=="fpng")X="png";if(X!=null&&X!="pdf"&&X!="eps"){var g,H=0,A=0,Z=0;if(m.H2[p.key])g=m.H2[p.key];
else{var F={data:new ArrayBuffer(4),nJ:new b4(0,0,1,1)};try{F=fj.Mi(X).z5(p.bdata)[0]}catch(bY){}g={};
g.id=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f";g.name="someImage";g.Fd=[new Uint8Array(F.data),F.nJ];m.sS(g);
m.H2[p.key]=g}var k=g.Fd[1],_=JSON.parse(g8.sp[g8.order.indexOf("patternFill")]);D="patternFill";c={t:"Objc",v:_};
var I=b.patternFillType,e=b.patternTileScale;_.Algn.v=!0;_.Ptrn.v.Idnt.v=g.id;if(I==0){H=e*k.q/Math.min(k.q,k._);
A=-a.Qr;Z=-a.dE}else{H=Math.max(Q.q/k.q,Q._/k._);A=-a.Qr-(k.q*H-Q.q)/2;Z=-a.dE-(k._*H-Q._)/2}_.Scl.v.val=100*H*(1/a.P8());
_.phase.v.Hrzn.v=Math.round(A/a.P8());_.phase.v.Vrtc.v=Math.round(Z/a.P8())}}else if(b.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",b.fillType);
if(D!=null){q.NR(b,c.v);l.push({w:D,J:c})}}return l};dp.ajm=function(j){var n=dp,Q=new b4(0,0,1,1);j=j.slice(0);
while(!0){var a=!1;for(var v=0;v<j.length-1;v++){var B=j[v],m=j[v+1],R=null,q=B.contextSettings;if(B.fillType==0&&(q==null||q.opacity==1&&q.blendMode==0)&&B.color.alpha==1){var U="norm",l=1,q=m.contextSettings;
if(q){l=q.opacity;U=af.Ci(n.n$[q.blendMode])}if(m.fillType==0){R=K.u(m);n.aBv(R.color,B.color,R.color,Q,U,l)}if(m.fillType==1){R=K.u(m);
var b=R.gradient.stops;for(var D=0;D<b.length;D++)n.aBv(b[D].color,B.color,b[D].color,Q,U,l)}if(R!=null&&R.contextSettings){var q=R.contextSettings;
q.opacity=1;q.blendMode=0}}if(R!=null){j.splice(v,0,R);a=!0;break}}if(!a||j.length<2)break}return j};
dp.aBv=function(j,n,Q,a,B,m){var R=dp,q=K.U(4);R.aoz(j,q);var U=K.U(4);R.aoz(n,U);K.L.sg(B,q,a,U,a,a,m);
R.ao9(U,Q)};dp.aoz=function(j,n){n[0]=255*j.red;n[1]=255*j.green;n[2]=255*j.blue;n[3]=255*j.alpha};dp.ao9=function(j,n){n.red=j[0]/255;
n.green=j[1]/255;n.blue=j[2]/255;n.alpha=j[3]/255};dp.afP=function(j,n){j=j.O();j.G$=24;j.kw("Mask by "+j.getName());
n.T.push(j);j.add.lsct=fM.ko;j.add.lyid=n.Ed();delete j.add.lmfx;delete j.add.SoCo;delete j.add.GdFl;
delete j.add.PtFl;delete j.add.iOpa;if(j.add.vmsk)j.add.vmsk._r=!0;j.sU();j.tI(n);if((j.G$&16)==16)j.G$-=16;
if((j.G$&2)==2)j.G$-=2;j.TM="pass";j.wT=255};dp.n$="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
dp.aiK=function(j,n,Q,a){Q=Q.O();Q.m2();Q.Qr=Q.dE=0;var B=Q.P8(),c=0,_=0;Q.scale(1/B,1/B);var m=dp,R=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]),q=R.Grad.v;
q.Intr.v=0;if(j==null)return R;var U=j.gradientType,l=m.rw(j.from),b=m.rw(j.to);l.offset(-.5,-.5);b.offset(-.5,-.5);
l=Q.JZ(l);b=Q.JZ(b);var D=Math.atan2(-(b.y-l.y),b.x-l.x);R.Type.v.GrdT=["Lnr","Rdl","Angl"][U];R.Scl.v.val=100*eE.X_(l,b);
if(U==0){R.Angl.v.val=180/Math.PI*D;R.Scl.v.val=100*eE.X_(l,b);c=(l.x+b.x)/2;_=(l.y+b.y)/2}if(U==1){R.Scl.v.val=200*eE.X_(l,b);
c=l.x;_=l.y}if(U==2){R.Angl.v.val=180/Math.PI*(D-Math.PI/2)}var p=R.Ofst.v;p.Hrzn.v.val=c*100;p.Vrtc.v.val=_*100;
var X=[];for(var v=0;v<j.stops.length;v++){var g=j.stops[v],F=g.color;X.push([g.position,F?[F.red,F.green,F.blue]:[0,0,0],F.alpha])}K.Gp.wM(X,q);
return R};dp.NR=function(j,n){var Q=dp,a=1,B=j.contextSettings;if(B!=null){n.Md.v.BlnM=Q.n$[B.blendMode];
a*=B.opacity}else n.Md.v.BlnM=Q.n$[0];n.enab.v=j.isEnabled;if(n.uglg!=null)n.uglg.v=!1;if(j.color!=null)a*=j.color.alpha;
n.Opct.v.val=Math.round(a*100)};dp.qH=function(j){return K.Gp.Db(j?{n:j.red*255,i:j.green*255,b:j.blue*255}:{n:0,i:0,b:0})};
dp.fx=function(j,n){var Q=dp,a=[{w:6},{w:8,all:0}];for(var B=0;B<j.length;B++){var m=j[B],R=m.booleanOperation,q=0,U=m._class,p=!1;
if(U=="group"||U=="text"||U=="symbolInstance"||U=="slice"){console.log(U+" inside ShapeGroup");continue}if(R==-1)q=0;
else if(R==0)q=1;else if(R==1)q=2;else if(R==2)q=3;else if(R==3)q=0;if(B==0)q=1;var l=dp.it(m.frame),b=Q.aas(m,n),D=m.path?m.path:m,c=[{w:0,length:0,H_:q,qg:2,wo:0,x1:0}],_=D.points;
for(var v=0;v<_.length;v++){var X=_[v],g=Q.rw(X.curveTo),F=Q.rw(X.point),k=Q.rw(X.curveFrom);p=p||X.hasCurveFrom&&!k.N_(F)||X.hasCurveTo&&!g.N_(F)}var I=[];
if(!p){var e=[],dv=_.length;if(dv==0)continue;for(var v=0;v<dv;v++){I[v]=_[v].cornerRadius;var X=Q.rw(_[v].point);
e.push(X.x,X.y)}b.scale(1/l.q,1/l._);b.m2();K.c.C(e,b,e);c=K.R.hi.O_(e,I).slice(2);c[0].H_=q}else{var H=_.length;
c[0].length=H;for(var v=0;v<H;v++){var X=_[v],A=X.curveMode,Z=Q.rw(X.point);c[1+v]={w:A==2||A==4?1:2,vK:X.hasCurveTo?Q.rw(X.curveTo):Z.O(),V:Z,XH:X.hasCurveFrom?Q.rw(X.curveFrom):Z.O()}}b.scale(1/l.q,1/l._);
b.m2();K.R.fK(c,b);var I=[];for(var v=0;v<H;v++){var X=_[v],A=X.curveMode,J=X.cornerRadius;if(A==1&&J!=0)I.push(J);
else I.push(0)}}if(!D.isClosed)for(var v=0;v<c.length;v++)c[v].w+=3;a=a.concat(c);var s=Q.uC(m);if(b.b==0&&b.RK==0){var E=b.Qr,z=b.dE,h=E+b.NX,d=z+b.zP,Y=[E,z,h,d]}}return a};
dp.aas=function(j,n){var Q=n.O(),a=j.frame?dp.it(j.frame):null;if(a)Q.translate(-a.x-a.q/2,-a.y-a._/2);
if(j.isFlippedHorizontal)Q.scale(-1,1);if(j.isFlippedVertical)Q.scale(1,-1);Q.rotate(-j.rotation*(Math.PI/180));
if(a)Q.translate(a.q/2,a._/2);return Q};dp.rw=function(j){j=j.slice(1,j.length-1).split(",");return new eE(parseFloat(j[0]),parseFloat(j[1]))};
dp.it=function(j){return new b4(j.x,j.y,j.width,j.height)};dp.agr=function(j){return{_class:"rect",constrainProportions:!1,x:j.x,y:j.y,width:j.q,height:j._}};
function k4(){}k4.by=function(j,n){var Q=Date.now(),a=k4,B=UZIP.parse(j),m=JSON.parse(L.Cl(B.manifest)),R=JSON.parse(L.Cl(B["resources/graphics/graphicContent.agc"])).resources,q=[],U=[],l=m.children;
for(var v=0;v<l.length;v++){var b=l[v];if(b.name=="artwork"){var D=b.children;for(var c=0;c<D.length;
c++){var _=D[c],p=JSON.parse(L.Cl(B["artwork/"+_.path+"/graphics/graphicContent.agc"])),X=p.children;
if(X.length==0){}else if(X.length==1){if(_["uxdesign#bounds"]){_._node=X[0];q.push(_)}}else{var g=X[0],F=g.transform,k=g.shape;
if(k==null)k={x:0,y:0,width:1e3,height:1e3};if(k.type=="path"){var I=K.c.so(Typr.U.SVGToPath(k.path).crds);
k={x:I.x,y:I.y,width:I.q,height:I._}}k=K.u(k);if(F){k.x+=F.tx;k.y+=F.ty}_["uxdesign#bounds"]=k;_._node={type:"artboard",artboard:{children:X}};
U.push(_)}}}}if(q.length==0)q=U;var e=[],H=new b4;for(var v=0;v<q.length;v++){var _=q[v],A=dp.it(_["uxdesign#bounds"]);
e.push(A);H=H.d_(A)}var Z=dp.Gb(H,8192*8192);n.HM=!0;n.q=Math.round(H.q/Z);n._=Math.round(H._/Z);n.buffer=K.U(n.q*n._*4);
n.VV(q.length);var J=new j8(Z,0,0,Z,H.x,H.y);n.H2={};for(var v=0;v<q.length;v++){var _=q[v],A=dp.it(_["uxdesign#bounds"]),s=_._node,E=J.O(),z=A.O(),h=E.P8();
E.translate(-A.x,-A.y);z.x=-Math.floor(E.Qr/h);z.y=-Math.floor(E.dE/h);z.q=Math.floor(z.q/h);z._=Math.floor(z._/h);
E.translate(A.x,A.y);k4.zG(s,n,E,R,B,z);var d=n.T[n.T.length-1];d.kw(_.name);d.vn(z);if(v!=q.length-1)d.add.lsct=fM.NO}delete n.H2};
k4.rk=function(j){if(j==null)return new j8;return new j8(j.a,j.b,j.c,j.d,j.tx,j.ty)};k4.zG=function(j,n,Q,a,B,m){var R=k4,q=j.type,U=j[q],l=j.style,b=R.rk(j.transform),p,X="none",g,F="none",k,I;
b.m2();var D=Q.O();D.concat(b);var c=n.JL(),_=j.name;c.kw(_?_.slice(0,250):"Layer");if(j.visible!=null)c._a(j.visible);
if(l){p=l.stroke;X=p?p.type:"none";g=l.fill;F=g?g.type:"none";if(g&&Object.keys(g).length==1)F="none";
k=l.filters;I=l.clipPath;if(I&&a.clipPaths[I.ref])I=a.clipPaths[I.ref].children;else I=null;if(l.opacity!=null)c.wT=Math.round(255*l.opacity);
if(F=="solid"&&g.color.alpha)c.wT=Math.round(c.wT*g.color.alpha);if(k){c.add.lmfx=R.aye(k);for(var v=0;
v<k.length;v++)if(k[v].type=="uxdesign#blur"){var e=k[v],H=e.params,A=H.brightnessAmount;if(A==null)A=0;
A=Math.abs(A/100);if((e.visible==null||e.visible==!0)&&H.backgroundEffect)c.wT=Math.round(c.wT*(A+(1-A)*H.fillOpacity))}}if(F=="pattern"&&g.pattern.meta.ux.uid=="")F="none"}if(I==null&&j.meta&&j.meta.ux&&j.meta.ux.clipPathResources)I=j.meta.ux.clipPathResources.children;
if(q=="artboard"||q=="group"){if(I){var Z=I[0],J=Z.shape,s=J!=null&&J.type=="rect"&&J.width*J.height>4e6;
if(Z.type!="text"&&!s){if(J){var b=R.rk(Z.transform);b.m2();var E=D.O();E.concat(b);c.add.vmsk=new f.hx;
c.add.vmsk.z=R.fx(J);E=E.O();E.m2();K.R.fK(c.add.vmsk.z,E);c.sU();c.tI(n)}}else if(!s)alert("Clipping by text has been ignored")}c.add.lsct=fM.ko;
c.TM="pass";c.G$=24;if(j.visible!=null)c._a(j.visible);n.T.push(n.v4());var z=U.children,h=g;if(h)h=h.color;
if(h)h=h.value;if(g){if(q=="artboard"&&F=="solid"){c.vn(new b4(0,0,10,10));c.add.artb.Clr={t:"Objc",v:K.Gp.Db({n:h.r,i:h.g,b:h.b})};
c.add.artb.artboardBackgroundType={t:"long",v:4}}else{var d=n.JL();d.kw("BACKGROUND");d.G$|=16;d.add.vstk=g8.o0.cL();
d.add.vmsk=new f.hx;d.add.vmsk.z=R.fx({type:"rect",x:m.x,y:m.y,width:m.q,height:m._});R.N8(g,F,D,m,m,d,n,a,B);
d.sU();d.tI(n);n.T.push(d)}}for(var v=0;v<z.length;v++){k4.zG(z[v],n,D,a,B,m)}}else if(q=="shape"&&(U.type=="rect"&&(U.r==null||U.r==0)||U.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(U.path)))&&F=="pattern"&&(Math.abs(U.width/U.height-g.pattern.width/g.pattern.height)<.01||l.fill.pattern.meta.ux.scaleBehavior=="fill")){var Y=g.pattern,C=Y.meta.ux,i=C.uid,M=B["resources/"+i];
if(M==null){console.log(Y);return}var W=n.$D(M,c.getName(),0,0);W.G$=c.G$;W.wT=c.wT;c=W;var $=K.R.sR(R.fx(U),null),P=K.c.yc(new b4(0,0,Y.width,Y.height)).g,O=new j8;
O.scale(Y.width/$.q,Y.height/$._);if(C.offsetX)O.translate(-C.offsetX*Y.width,0);if(C.offsetY)O.translate(0,-C.offsetY*Y.height);
D.concat(O);D.m2();K.c.C(P,D,P);c.add.SoLd.Trnf=N.IP.ob(P);c.add.SoLd.nonAffineTransform=N.IP.ob(P);
c.pS(n,!1)}else if(q=="shape"){c.G$|=16;c.add.vstk=g8.o0.cL();c.add.vmsk=new f.hx;c.add.vmsk.z=R.fx(U);
var $=K.R.sR(c.add.vmsk.z,null),E=D.O();E.m2();K.R.fK(c.add.vmsk.z,E);var G=K.R.sR(c.add.vmsk.z,null);
if(X=="none"){}else{var t=p.color.value,y,r;y="SoFi";var u=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);
r={t:"Objc",v:u};r.v.Clr.v=K.Gp.Db({n:t.r,i:t.g,b:t.b});var S=p.align,w=p.cap;if(S==null)S="center";
var o=c.add.vstk;o.strokeEnabled.v=!0;o.strokeStyleLineWidth.v.val=p.width;if(S)o.strokeStyleLineAlignment.v.strokeStyleLineAlignment=g8.o0.cw[["inside","center","outside"].indexOf(S)];
if(w)o.strokeStyleLineCapType.v.strokeStyleLineCapType=g8.o0.Gv[["butt","round","square"].indexOf(w)];
var T=["SoFi","GrFl","patternFill"].indexOf(y),i6=[g8.WE,g8.Kp,g8._$][T];o.strokeStyleContent.v={classID:g8.o0.TF[0]};
var bH=o.strokeStyleContent.v={classID:g8.o0.TF[T]};for(var v=0;v<i6.length;v++)bH[i6[v]]=r.v[i6[v]]}if(k)for(var v=0;
v<k.length;v++)if(k[v].type=="uxdesign#blur"&&k[v].visible){var cg=k[v];c.add.vmsk.g_=cg.params.blurAmount}R.N8(g,F,D,$,G,c,n,a,B);
c.sU();c.tI(n)}else if(q=="text"&&j.text){var bu=j.text,hH=bu.frame,dK=l.font,d1=l.textAttributes,b=D.O(),bg=0;
b.m2();c.add.lnsr="rend";c.add.TySh=eR.N0(0,0);c.add.TySh.v$=new b4(0,0,100,100);c.add.TySh.C=b;var gH=c.add.TySh.Kt,kh=bu.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
eR.Yr(gH,0,kh);if(kh!=""){var ay=eR.JB(gH,0,1),dO=dK.postscriptName;if(dO==null)dO=dK.family;eR.em(ay,dO);
ay.RW.FontSize=Math.round(dK.size);if(F=="solid"){var t=g.color.value;ay.RW.FillColor={Type:1,Values:[1,t.r/255,t.g/255,t.b/255]}}if(d1){if(d1.paragraphAlign)ay.w$.Justification=["left","right","center"].indexOf(d1.paragraphAlign);
if(d1.letterSpacing)ay.RW.Tracking=Math.round(d1.letterSpacing);if(d1.lineHeight){ay.RW.AutoLeading=!1;
ay.RW.Leading=Math.round(d1.lineHeight)}}eR.A0(gH,0,kh.length,ay)}var fy=j.meta.ux.rangedStyles;if(fy)for(var v=0;
v<fy.length;v++){var U=fy[v],f4=Math.min(U.length,kh.length-bg);if(v==fy.length-1)f4=kh.length-bg;var ay=eR.JB(gH,bg,bg+f4),dO=U.postscriptName;
if(dO==null)dO=U.family;if(dO!=null)eR.em(ay,dO);var jb=U.textScript,jT=U.underline,jy=U.fontSize,e=U.fill,cl=U.textTransform;
if(jb&&jb!="none")ay.RW.FontBaseline=jb=="superscript"?1:2;if(jT!=null)ay.RW.Underline=jT;if(jy!=null)ay.RW.FontSize=Math.round(jy);
if(cl!=null)ay.RW.FontCaps=cl=="uppercase"?2:0;if(cl=="lowercase"){eR.Zd(gH,bg,bg+f4);eR.Yr(gH,bg,kh.slice(bg,bg+f4).toLowerCase())}if(e!=null){var hu=e.value;
ay.RW.FillColor={Type:1,Values:[1,(hu>>>16&255)/255,(hu>>>8&255)/255,(hu>>>0&255)/255]}}eR.A0(gH,bg,bg+f4,ay);
bg+=f4}if(hH.type=="area"||hH.type=="autoHeight"){var aA=hH.width,ko=hH.height;eR.dY(gH,1);eR.gG(gH,[0,0,aA,ko!=null?ko:aA*2])}}else if(q=="syncRef"){var ec=j.syncSourceGuid,kK=a.meta.ux.symbols,cM=R.lq(kK,ec);
if(cM){var gG=D.O();gG.concat(R.rk(cM.transform));k4.zG(cM,n,gG,a,B,m)}return}else console.log(q,j);
n.T.push(c)};k4.lq=function(j,n){for(var v=0;v<j.length;v++){var Q=j[v],a=Q.group;if(Q.id==n)return Q;
if(a){var B=k4.lq(a.children,n);if(B)return B}}return null};k4.fx=function(j){var n=j.type,Q=[{w:6},{w:8,all:0}];
if(n=="rect"){var a=j.r,B=j.x,m=j.y,R=j.width,q=j.height;Q=K.R.hi.Rect(B,m,R,q,a?a:0)}else if(n=="circle"){var a=j.r;
Q=K.R.hi.$v(j.cx-a,j.cy-a,2*a,2*a)}else if(n=="ellipse"){var U=j.rx,l=j.ry;Q=K.R.hi.$v(j.cx-U,j.cy-l,2*U,2*l)}else if(n=="path"||n=="compound"){var b=Typr.U.SVGToPath(j.path);
Q=K.c.TW({rZ:b.cmds,g:b.crds},!1)}else if(n=="line"){var D=j.x1,c=j.x2,_=j.y1,p=j.y2;Q=K.R.hi.O_([D,_,c,p],0,!0)}else if(n=="polygon"){var X=j.points,g=[];
for(var v=0;v<X.length;v++)g.push(X[v].x,X[v].y);Q=Q.concat(K.R.hi.O_(g,0,!1).slice(2))}else console.log(n,j);
return Q};k4.aye=function(j){var n=JSON.parse(g8.default);for(var v=0;v<g8.order.length;v++)n[g8.Ub[v]]={t:"VlLs",v:[]};
for(var v=0;v<j.length;v++){var Q=j[v],a=Q.type,B=Q.params,m=Q.visible;if(a=="dropShadow"){var R=g8.Ub[g8.order.indexOf("DrSh")],q=JSON.parse(g8.sp[g8.order.indexOf("DrSh")]);
n[R].v.unshift({t:"Objc",v:q});var U=B.dropShadows;if(U.length!=1)throw"e";var l=U[0],b=l.color,D=b.value,c=l.dx,_=l.dy;
q.Clr.v=K.Gp.Db({n:D.r,i:D.g,b:D.b});q.Opct.v.val=Math.round((b.alpha!=null?b.alpha:1)*100);q.uglg.v=!1;
q.enab.v=m!=null?m:!0;q.lagl.v.val=Math.round(180/Math.PI*Math.atan2(_,-c));q.Dstn.v.val=Math.round(Math.sqrt(c*c+_*_));
q.blur.v.val=Math.round(l.r*2.3)}}return n};k4.N8=function(j,n,Q,a,B,m,R,q,U){var l=k4;m.add.vstk.fillEnabled.v=n!="none";
if(n=="none"){m.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}}}else{var b,D,c;if(n=="solid"){var _=j.color.value;
b="SoCo";D=g8.WE;var p=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);c={t:"Objc",v:p};c.v.Clr.v=K.Gp.Db({n:_.r,i:_.g,b:_.b})}else if(n=="gradient"){b="GdFl";
D=g8.Kp;var p=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]),X=p.Grad.v,e,H,A;X.Intr.v=0;var g=j[n],F=g.ref?q.gradients[g.ref]:g.meta.ux.gradientResources,k=["linear","radial","angular"].indexOf(F.type),I=F.stops;
p.Type.v.GrdT=["Lnr","Rdl","Angl"][k];if(k==0){var e=new eE(g.x1,g.y1),H=new eE(g.x2,g.y2);e.x=H.x+.5*(e.x-H.x);
e.y=H.y+.5*(e.y-H.y)}else{var e=new eE(g.cx,g.cy),H=new eE(g.cx+g.r,g.cy)}A=B;if(g.units=="objectBoundingBox"){var Z=new j8(a.q,0,0,a._,a.x,a.y);
e=Z.JZ(e);H=Z.JZ(H)}var Z=l.rk(g.transform);e=Z.JZ(e);H=Z.JZ(H);Z=Q.O();Z.m2();e=Z.JZ(e);H=Z.JZ(H);K.Gp.$z(e,H,A,p);
var J=[];for(var v=0;v<I.length;v++){var s=I[v],E=s.color,_=E.value,z=E.alpha;if(z==null)z=1;J.push([s.offset,[_.r/255,_.g/255,_.b/255],z])}K.Gp.wM(J,X);
c={t:"Objc",v:p}}else if(n=="pattern"){b="PtFl";D=g8._$;var p=JSON.parse(g8.sp[g8.order.indexOf("patternFill")]),P;
c={t:"Objc",v:p};var h=j[n],d=h.meta.ux,Y=d.uid,C=U["resources/"+Y].buffer,i=d.flipX,M=d.flipY,W=Y+i+M,$=fj.Ot(C);
if(R.H2[W])P=R.H2[W];else{var O=new b4(0,0,h.width,h.height),G;if(O.ke()||$==null){O=new b4(0,0,1,1);
G=new ArrayBuffer(4)}else{var t=fj.Mi($);if(t.ps){var y=new hs;t.z5(C,y);G=y.rd().buffer}else{try{var r=t.z5(C)[0];
G=r.data;O=r.nJ}catch(bY){G=new ArrayBuffer(O.$()*4)}}}P={};P.id=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f";
P.name="someImage";P.Fd=[new Uint8Array(G),O];if(i)K.D.ms(P.Fd[0].slice(0),P.Fd[0],O.q,O._);if(M)K.D.a6D(P.Fd[0].slice(0),P.Fd[0],O.q,O._);
R.sS(P);R.H2[W]=P}var u=Q.O();u.m2();u.translate(a.x,a.y);var S=a.q,w=a._,dj=P.Fd[1].q,o=P.Fd[1]._,T=Math.max(S/dj,w/o);
if(d.scale)T*=d.scale;var i6=new j8;i6.translate(-dj/2,-o/2);i6.scale(1/dj,1/o);if(d.offsetX!=null)i6.translate(d.offsetX,d.offsetY);
i6.scale(dj,o);i6.scale(T,T);i6.translate(S/2,w/2);i6.concat(u);gq.avS(P,p,0,0,1e3,i6)}else console.log(n);
if(b!=null){m.add[b]={classID:"null"};for(var v=0;v<D.length;v++){var bH=D[v];m.add[b][bH]=c.v[bH]}}}};
var hI=function(){function j(g){return g.tagName?g.tagName.split(":").pop():null}function n(g,F,k){if(k&&k[0]==null)k=null;
g=new Uint8Array(g);var I,$=1;if(g[0]==255&&g[1]==254)I=L._2(g,2,(g.length>>>1)-1);else I=L.Cl(g,0,g.length);
var e=new DOMParser,H=e.parseFromString(I,"image/svg+xml"),A=H.getElementsByTagName("style")[0];if(A)A=Typr.U.SVG.cssMap(A.textContent);
else A={};var Z=H.firstChild;while(j(Z)!="svg")Z=Z.nextSibling;var J=new b4(0,0,100,100),s=Z.getAttribute("viewBox"),E=Z.getAttribute("width"),z=Z.getAttribute("height"),h=E!=null?parseFloat(E):parseFloat(z),d=z!=null?parseFloat(z):parseFloat(E);
if(s){var Y=Q(s);J.x=Y[0];J.y=Y[1];J.q=Y[2];J._=Y[3];if(E!=null){var C=Y[2]/Y[3],i=h/d;if(i>C){var M=Y[3]*i-J.q;
J.x-=M/2;J.q+=M}if(i<C){var W=Y[2]/i-J._;J.y-=W/2;J._+=W}}}else if(E!=null||z!=null){J.q=h;J._=d}J=K.c.Fa(J);
while(k&&Math.max(J.q*$,J._*$)<Math.max(k[0],k[1]))$++;while(k==null&&Math.max(J.q,J._)*$>8192)$*=.5;
F.HM=!0;F.q=~~(J.q*$);F._=~~(J._*$);var P=new j8($,0,0,$,-J.x*$,-J.y*$),O={IK:D(Z),afJ:A,DP:0};a(H,Z.children,F,P,O,new j8,0);
if(F.T.length==0){var G=F.JL();G.kw("Layer");F.T.push(G)}}function Q(g){var F=" ";if(g.indexOf(",")!=-1)F=",";
return g.split(F).map(parseFloat)}function a(g,F,k,I,e,H,A,Z){var J=["display","opacity","fill-opacity","filter","clip-path"],s=0;
for(var E=0;E<F.length;E++){var z=F[E],h=j(z),d=z.getAttribute("id"),i=13,O=1,y="clip-path",r=null,cg=0;
if(d==null)d=z.getAttribute("data-name");var Y=D(z,e.afJ);for(var C in e.IK)if(J.indexOf(C)==-1&&Y[C]==null)Y[C]=e.IK[C];
if(Y["font-size"])i=R(Y["font-size"],i);var M=U(z);if(z.getAttribute("dx"))M.Qr+=R(z.getAttribute("dx"),i);
if(z.getAttribute("dy"))M.dE+=R(z.getAttribute("dy"),i);M.concat(I);var W=z.getAttribute("visibility"),$=Y.display,P=k.JL();
if(W=="hidden"||$=="none")P._a(!1);P.kw(d!=null?d.split(":::")[0]:"Layer");if(Y.opacity)O*=parseFloat(Y.opacity);
if(Y["fill-opacity"]){var G=parseFloat(Y["fill-opacity"]);if(G!=0)O*=G}P.wT=Math.round(255*O);if(Y["mix-blend-mode"]){var t=af.iL.indexOf(Y["mix-blend-mode"]);
if(t!=-1)P.TM=af.Yh[t]}if(z.getAttribute(y)==null)y="mask";if(z.getAttribute(y)!=null||Y["clip-path"]){var u=z.getAttribute(y);
if(u==null)u=Y["clip-path"];u=u.slice(4,u.length-1);var S=g.getElementById(u.slice(1));if(S){var w=S.children;
r=k.JL();r.kw("Clip-Path"+(d?": "+d:""));r.add.lsct=A<2?fM.ko:fM.NO;r.TM="pass";r.G$=24;var dj=r.add.vmsk=new f.hx;
k.T.push(k.v4());var o=[];if(S.getAttribute(y)){var u=S.getAttribute(y);u=u.slice(4,u.length-1);o=g.getElementById(u.slice(1)).children}for(var v=0;
v<w.length;v++){var T=U(w[v]);T.concat(M);var i6=m(k,g,w[v],!1).slice(2);K.R.fK(i6,T);dj.z=dj.z.concat(i6)}for(var v=0;
v<o.length;v++){var T=U(w[v]);T.concat(M);var i6=m(k,g,o[v],!1).slice(2);for(var bH=0;bH<i6.length;bH++)if(i6[v].H_!=null)i6[v].H_=3;
K.R.fK(i6,T);dj.z=dj.z.concat(i6)}for(var v=0;v<dj.z.length;v++)if(dj.z[v].H_!=null)dj.z[v].H_=0;r.sU();
r.tI();A++}}if(Y.filter&&Y.filter!="none"){var bu=Y.filter,dK,d8,d1,kh=!1,ay=!1,dO=!1;bu=bu.slice(5,bu.length-1);
var hH=g.getElementById(bu),gH=[0,0,0,.5],fy=M.P8();if(hH)for(var v=0;v<hH.children.length;v++){var bg=hH.children[v],f4=j(bg);
if(f4=="feGaussianBlur"){kh=!0;dK=parseFloat(bg.getAttribute("stdDeviation"))*fy}if(f4=="feColorMatrix"){var jb=bg.getAttribute("values");
if(jb){jb=jb.split(" ").map(parseFloat);gH=[jb[4],jb[9],jb[14],jb[18]]}}if(f4=="feComposite"){dO=!0}if(f4=="feOffset"){ay=!0;
var jT=bg.getAttribute("dx"),jy=bg.getAttribute("dy");d8=parseFloat(jT?jT:0)*fy;d1=parseFloat(jy?jy:0)*fy}}if(kh&&(dO||ay)){var cl=dO?"IrSh":"DrSh";
if(cl=="IrSh"){P.add.iOpa=0}var hu=JSON.parse(g8.sp[g8.order.indexOf(cl)]);hu.blur.v.val=Math.round(dK*2.4);
var aA=Math.sqrt(d8*d8+d1*d1);hu.uglg.v=!1;hu.Dstn.v.val=Math.round(aA);hu.lagl.v.val=Math.round(Math.atan2(d1,-d8)*(180/Math.PI));
hu.Clr.v=K.Gp.Db({n:gH[0]*255,i:gH[1]*255,b:gH[2]*255});hu.Opct.v.val=Math.round(gH[3]*100);B(P,g8.Ub[g8.order.indexOf(cl)],hu)}else if(kh)cg=dK}if(h=="g"||h=="a"||h=="svg"||h=="switch"||(h=="text"||h=="textPath")&&z.children.length>0||h=="symbol"&&Z){if(h=="text")H=l(z,H);
var ko=z.getAttribute("viewBox"),ec=z.getAttribute("width"),kK=z.getAttribute("height");if(h=="svg"&&ec&&kK&&ko==null)ko="0 0 "+ec+" "+kK;
if(ko&&ec&&kK){var cM=Q(ko),gG=l(z),c2=new j8;c2.translate(-cM[0],-cM[1]);c2.scale(parseFloat(ec)/cM[2],parseFloat(kK)/cM[3]);
c2.translate(gG.Qr,gG.dE);c2.concat(M);M=c2}var a1=z.children.length,cs=e.IK;e.IK=Y;var f7=e.DP;e.DP=Math.max(e.DP,cg);
var j7=h!="text"&&h!="textPath"||a1>1;if(j7){var dz=P.VH();P.add.lsct=A<2&&dz&&(d==null||!d.endsWith(":::"))?fM.ko:fM.NO;
P.TM="pass";P.G$=24;P._a(dz);k.T.push(k.v4())}a(g,z.children,k,M,e,H,A+1);if(j7)k.T.push(P);else{var iA=k.T[k.T.length-1];
iA.wT=P.wT;iA.TM=P.TM}e.DP=f7;e.IK=cs}else if(h=="use"){var c2=l(z);c2.concat(M);var kk=_(z),fA=g.getElementById(kk.slice(1));
if(fA){var cs=e.IK;e.IK=Y;if(Y.filter)fA.setAttribute("filter",Y.filter);a(g,[fA],k,c2,e,H,A+1,!0);e.IK=cs}}else if(h=="path"||h=="rect"||h=="circle"||h=="ellipse"||h=="polygon"||h=="polyline"||h=="line"){P.G$|=16;
var dj=P.add.vmsk=new f.hx,g5=Y.fill,h$=g5=="none"||Y["fill-opacity"]&&parseFloat(Y["fill-opacity"])==0,hL=Y["fill-rule"]=="evenodd"?1:0;
dj.z=m(k,g,z,hL==1,h$);dj.H_=hL;K.R.fK(dj.z,M);var ha=Y.stroke,jl=Y["stroke-width"],fI=Y["stroke-dasharray"],aE=Y["stroke-linejoin"];
if(aE==null)aE="miter";var es=Y["stroke-linecap"];if(es==null)es="butt";var kN=Y["stroke-miterlimit"];
if(kN==null)kN=4;else kN=parseFloat(kN);var fV=Y["paint-order"],jU=!(ha==null||ha=="none"||ha=="null"),c$=P.add.vstk=g8.o0.cL(null,jU),iq=Y["stroke-opacity"]?parseFloat(Y["stroke-opacity"]):1;
if(jU){var cz=q(g,ha,M,dj.z,k),h0=["SoFi","GrFl","patternFill"].indexOf(cz.w),fl=cz.J.v.Opct.v,gr=1;
if(fl.val!=100||iq!=1&&h$){P.wT=Math.round(iq*P.wT*fl.val/100);fl.val=100;iq=1}var co=[g8.WE,g8.Kp,g8._$][h0],cC=c$.strokeStyleContent.v={classID:g8.o0.TF[h0]};
for(var v=0;v<co.length;v++)cC[co[v]]=cz.J.v[co[v]];jl=jl?parseFloat(jl):1;if(fV&&fV.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){gr=2;
jl/=2}var eK={aO:["miter","round","bevel"].indexOf(aE),th:["butt","round","square"].indexOf(es),Sn:jl,sX:kN};
if(fI!=null&&fI!="none")eK.SH=fI.split(",").map(parseFloat);g8.o0.write(c$,eK,M.P8());c$.strokeStyleLineAlignment.v.strokeStyleLineAlignment=g8.o0.cw[gr];
c$.strokeStyleOpacity.v.val=100*iq;if(cz.vg)P.add._sstl=cz.vg}P.add.vstk.fillEnabled.v=!h$;if(h$){P.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}}}else{var cz=q(g,g5,M,dj.z,k),kM=null,bM=null;
if(cz.w=="SoFi"){kM="SoCo";bM=g8.WE}if(cz.w=="GrFl"){kM="GdFl";bM=g8.Kp}if(cz.w=="patternFill"){kM="PtFl";
bM=g8._$}if(kM!=null){var fl=cz.J.v.Opct.v;if(fl.val!=100){P.wT=Math.round(P.wT*fl.val/100);fl.val=100}P.add[kM]={classID:"null"};
for(var v=0;v<bM.length;v++){var C=bM[v];P.add[kM][C]=cz.J.v[C]}}if(cz.vg)P.add._fstl=cz.vg}var bn=Math.max(cg,e.DP);
if(bn!=0)P.add.vmsk.g_=bn;P.sU();P.tI(k);k.T.push(P)}else if((h=="text"||h=="tspan")&&z.textContent!=""){H=l(z,H);
var c2=H.O(),d1=0;c2.concat(M);if(h=="tspan"&&H.x!=0){}else c2.translate(s,0);if(z.children.length>0){var fT=D(z.children[0],e.afJ);
for(var C in fT)if(J.indexOf(C)==-1)Y[C]=fT[C]}var ck=Y["xml:space"],ce=z.textContent;if(ck=="preserve")ce=ce.replace(/\t/g," ").replace(/\n/g," ");
if(d==null)P.kw(ce);P.add.lnsr="rend";P.add.TySh=eR.N0(0,0);P.add.TySh.v$=new b4(0,0,100,100);P.add.TySh.C=c2.O();
var kn=P.add.TySh.Kt;eR.Yr(kn,0,ce);if(h=="tspan")s+=i*ce.length*.5*c2.P8();var g5=Y.fill,fc=Y["font-weight"],cv=Y["font-family"],gM=Y["text-decoration"],ha=Y.stroke,jl=Y["stroke-width"],hF=Y["dominant-baseline"];
if(hF=="text-before-edge")d1=i;else if(hF=="middle")d1=i/2;else if(hF=="hanging")d1=i;if(d1!=0)P.add.TySh.C.translate(0,d1);
var fg=eR.JB(kn,0,1);if(g5&&g5!="none"){var gH=CSS.qH(g5);fg.RW.FillColor={Type:1,Values:[1,gH.n/255,gH.i/255,gH.b/255]}}if(gM=="underline")fg.RW.Underline=!0;
fg.RW.FontSize=Math.round(i);eR.em(fg,"LiberationSans");if(fc=="bold")eR.em(fg,"LiberationSans-Bold");
if(cv){cv=cv.split(",")[0].trim();if(cv[0]=="\"")cv=cv.slice(1);if(cv[cv.length-1]=="\"")cv=cv.slice(0,cv.length-1);
var fP=cv+":"+(fc?fc:"normal"),cu={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(cu[fP])eR.em(fg,cu[fP]);else eR.em(fg,cv)}if(Y["text-anchor"])fg.w$.Justification=["start","end","middle"].indexOf(Y["text-anchor"]);
eR.A0(kn,0,ce.length,fg);if(ha==null||ha=="none"){}else{var hu=JSON.parse(g8.sp[g8.order.indexOf("FrFX")]);
hu.Clr.v=K.Gp.Db(CSS.qH(ha));hu.Sz.v.val=Math.round(parseFloat(jl)*c2.P8());B(P,"frameFXMulti",hu)}k.T.push(P)}else if(h=="image"){var kk=_(z);
if(kk&&kk.slice(0,4)=="data"){var h8=fj.ME(kk),ia=h8,jd=k.$D(ia,P.getName(),0,0);jd.G$=P.G$;P=jd;var hL=P.s.O();
hL.x=hL.y=0;var bL=z.getAttribute("width"),jq=z.getAttribute("height");if(bL)hL.q=parseFloat(bL);if(jq)hL._=parseFloat(jq);
var dJ=l(z);dJ.concat(M);var ju=K.c.yc(hL).g;K.c.C(ju,dJ,ju);P.add.SoLd.Trnf=N.IP.ob(ju);P.add.SoLd.nonAffineTransform=N.IP.ob(ju);
P.pS(k,!1);k.T.push(P)}}else console.log("unknown tag: "+h,z.children.length,z.textContent.length);if(r!=null){k.T.push(r);
A--}}}function B(g,F,k){var I=g.add.lmfx;if(I==null){var I=g.add.lmfx=JSON.parse(g8.default);for(var v=0;
v<g8.order.length;v++)I[g8.Ub[v]]={t:"VlLs",v:[]}}I[F].v.push({t:"Objc",v:k})}function m(g,F,k,I,e){var H=[{w:6},{w:8,all:0}],A=j(k);
if(A=="use"){var Z=_(k),J=F.getElementById(Z.slice(1)),s=new j8;if(j(J)!="rect")s=l(J);s.concat(U(J));
H=m(g,F,J,I,e);K.R.fK(H,s)}else if(A=="path"){var E=k.getAttribute("d");if(E==null)return H;var z=Typr.U.SVGToPath(E);
H=K.c.TW({g:z.crds,rZ:z.cmds},I,e)}else if(A=="rect"){var h=k.getAttribute("rx"),d=new eE(0,0);p("x",k,g,d,!0);
p("y",k,g,d,!1);var Y=new eE(0,0);p("width",k,g,Y,!0);p("height",k,g,Y,!1);H=K.R.hi.Rect(d.x,d.y,Y.x,Y.y,h?parseFloat(h):0)}else if(A=="circle"||A=="ellipse"){var C=[0,0,0,0],i=["cx","cy","rx","ry","r"];
for(var v=0;v<5;v++){var M=k.getAttribute(i[v]);if(M){M=parseFloat(M);if(v<4)C[v]=M;else C[2]=C[3]=M}}H=K.R.hi.$v(C[0]-C[2],C[1]-C[3],2*C[2],2*C[3])}else if(A=="polygon"||A=="polyline"||A=="line"){var W;
if(A=="line")W=[k.getAttribute("x1"),k.getAttribute("y1"),k.getAttribute("x2"),k.getAttribute("y2")].map(parseFloat);
else W=k.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
H=K.R.hi.O_(W,0,A!="polygon")}return H}function R(g,F){if(g.endsWith("em"))return F*parseFloat(g.slice(0,g.length-2));
else return parseFloat(g)}function q(g,F,k,I,e){var H,A,Z,J=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]),s=K.R.sR(I),E=F!=null?F.indexOf("("):-1;
if(E!=-1){var z=F.indexOf(")"),h=F.slice(0,E).trim(),d=F.slice(E+1,z).trim();if(d.charAt(0)=="'"||d.charAt(0)=="\"")d=d.slice(1,d.length-1);
if(h=="url"){if(d.charAt(0)=="#"){var Y=g.getElementById(d.slice(1));if(Y&&j(Y).toLowerCase().endsWith("gradient")){Z=X(g,Y,k,s,I);
var C=g7.jF(Z,I);H="GrFl";A={t:"Objc",v:C}}else if(Y&&j(Y).toLowerCase()=="pattern"&&Y.children[0]&&j(Y.children[0])=="use"){H="SoFi";
A={t:"Objc",v:J};var i=Y.children[0],M=U(i),W=_(i),$=g.getElementById(W.slice(1)),P=fj.ME(_($)).buffer,O=fj.Mi(fj.Ot(P)),G=O.z5(P)[0],t={};
t.id=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f";t.name="someImage";t.Fd=[new Uint8Array(G.data),G.nJ];e.sS(t);
var J=JSON.parse(g8.sp[g8.order.indexOf("patternFill")]);J.Scl.v.val=Math.round(100*s.q*M.NX);var y=J.phase.v;
y.Hrzn.v=Math.round(s.x+M.Qr*s.q);y.Vrtc.v=Math.round(s.y+M.dE*s._);J.Ptrn.v.Idnt.v=t.id;H="patternFill";
A={t:"Objc",v:J}}else{H="SoFi";A={t:"Objc",v:J}}}else console.log("unknown url",d)}else if(h=="rgb"||h=="rgba"||h=="hsla"){H="SoFi";
A={t:"Objc",v:J};A.v.Clr.v=K.Gp.Db(CSS.qH(F));if(h=="rgba"||h=="hsla")A.v.Opct.v.val=Math.round(100*parseFloat(F.split(",").pop()))}else console.log("unknown fill",F)}else{H="SoFi";
A={t:"Objc",v:J};var r=CSS.qH(F);A.v.Clr.v=K.Gp.Db(r);if(r.NX!=null)A.v.Opct.v.val=Math.round(100*r.NX/255)}return{w:H,J:A,vg:Z}}function U(g){var F=new j8,k=g.getAttribute("transform");
if(k)F=b(k);var I=g.getAttribute("style");if(I!=null){var e={};c(e,I,["transform"]);I=e.transform;if(I)F.concat(b(I))}return F}function l(g,F){var k=new j8,I=g.getAttribute("x"),e=g.getAttribute("y");
if(I)k.Qr=parseFloat(I);else if(F)k.Qr=F.Qr;if(e)k.dE=parseFloat(e);else if(F)k.dE=F.dE;return k}function b(g){var F=Typr.U.SVG.readTrnf(g);
return new j8(F[0],F[1],F[2],F[3],F[4],F[5])}function D(g,F){var k={},I="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var v=0;v<I.length;v++){var e=g.getAttribute(I[v]);if(e!=null&&e!="inherit")k[I[v]]=e}var H=g.getAttribute("class");
if(F!=null&&H!=null&&F["."+H]!=null)c(k,F["."+H],I);var A=g.getAttribute("id");if(F!=null&&A!=null&&F["#"+A]!=null)c(k,F["#"+A],I);
var Z=g.getAttribute("style");if(Z!=null)c(k,Z,I);return k}function c(g,F,k){F=F.trim().split(";");for(var v=0;
v<F.length;v++){var I=F[v].split(":"),e=I[0]?I[0].trim():"",H=I[1]?I[1].trim():"";for(var A=0;A<k.length;
A++)if(e==k[A]&&H!="inherit")g[k[A]]=H}}function _(g){var F=g.getAttribute("xlink:href");if(F==null)F=g.getAttribute("href");
if(F==null)F=g.getAttribute("xl:href");return F}function p(g,F,k,I,e){var H=F.getAttribute(g);if(H==null)return;
var A=parseFloat(H);if(H.endsWith("%"))A*=(e?k.q:k._)/100;if(e)I.x=A;else I.y=A}function X(g,F,k,I,e){var H=p,A=new j8,Z=F.getAttribute("gradientTransform"),d=!1;
if(Z)A=b(Z);A.concat(k);var J=j(F)=="linearGradient"?0:1,s=new eE(0,0),E=new eE(1,0),z=s.O();if(J==0){var h=new b4(0,0,1,1);
H("x1",F,h,s,!0);H("y1",F,h,s,!1);H("x2",F,h,E,!0);H("y2",F,h,E,!1);z.OI(s.x,s.y)}if(J==1){if(F.getAttribute("cx"))s.x=parseFloat(F.getAttribute("cx"));
if(F.getAttribute("cy"))s.y=parseFloat(F.getAttribute("cy"));E.OI(s.x,s.y);z.OI(s.x,s.y);if(F.getAttribute("r"))E.x+=parseFloat(F.getAttribute("r"));
if(F.getAttribute("fx"))z.x=parseFloat(F.getAttribute("fx"));if(F.getAttribute("fy"))z.y=parseFloat(F.getAttribute("fy"))}var Y=F;
while(!0){if(Y.getAttribute("gradientUnits")=="userSpaceOnUse")d=!0;var C=_(Y);if(C==null)break;Y=g.getElementById(C.slice(1))}if(!d)A=new j8(I.q,0,0,I._,I.x,I.y);
A=g7.dV(s,E,A);var i=g7.J7(J,A,e);g7.HJ(i,s,E,z);var M=F.children,W=i[1]=[];if(M.length==0){var $=_(F);
if($==null)throw"gradient has no stops";var P=g.getElementById($.slice(1));if(P==null){console.log($.slice(1))}else W=i[1]=X(g,P,A,I,e)[1]}else for(var v=0;
v<M.length;v++){var O=M[v],G=D(O),t=G["stop-color"],y=G["stop-opacity"],r=O.getAttribute("offset");if(t==null)t="#000000";
y=y==null?1:parseFloat(y);var u=r?parseFloat(r):0;if(r&&r.endsWith("%"))u/=100;t=CSS.qH(t);if(t.NX!=null)y*=t.NX/255;
W.push([u,[t.n/255,t.i/255,t.b/255],parseFloat(y),.5])}return i}return{by:n}}();hI.zw=function(){var j=null,n="",Q="",a;
function B(s,E,z,h){var d=[],M=" { ",W=" } ",$=!1;j=E;Q=E.k2?"":"\t";n=E.k2?"":" ";var Y=E.ajE,C=E.azR;
a=fL==0?new b4(0,0,s.q,s._):s.AF();if(h!=null){a=s.root.children[h].W.v_();Y=a.q;C=a._}d.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[a.x,a.y,a.q,a._].join(" ")+"\" width=\""+Y+"\" height=\""+C+"\">");
if(!E.k2)d.push(m(1)+"<title>"+k(s.name.split(".")[0])+"</title>");var i={w7:[],C5:[],nL:0,VX:0,kq:0,MW:{},tj:{},ot:0,oK:{},a7H:{},f9:0,wR:[]};
p(s,i,s.root.children,1,E,z,h);if(i.w7.length!=0){d.push(m(1)+"<defs>");d=d.concat(i.w7);d.push(m(1)+"</defs>")}d.push(m(1)+"<style>");
if(E.k2){M="{";W="}"}for(var v=0;v<s.T.length;v++)if(s.T[v].add.TySh)$=!0;if($&&!E.a2s&&!E.akr)d.push(m(2)+"tspan"+M+"white-space:pre"+W);
for(var P in i.oK)d.push(m(2)+"."+P+M+i.oK[P]+W);d.push(m(1)+"</style>");d=d.concat(i.C5);d.push("</svg>");
d=d.join(E.k2?"":"\n");return L.XS(d)}function m(dv){var s="";for(var v=0;v<dv;v++)s+=Q;return s}function R(dv,s){if(s==null)s=1;
var E=""+parseFloat(dv.toFixed(s));if(E.startsWith("0."))E=E.slice(1);return E}function q(s,E){var z=s.add.lmfx;
if(z)z=z[E].v[0];if(z)z=z.v;if(z&&!z.enab.v)z=null;return z}function U(s,E){var z=q(s,"frameFXMulti");
if(z){var h=z.Sz.v.val;if(z.Styl.v.FStl=="OutF"){E.push("paint-order:stroke fill markers");h*=2}_(E,CSS.pl(z.Clr.v),1);
if(h!=1)E.push("stroke-width: "+h);E.push("stroke-linejoin: round;")}}var l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function b(s){var E=l.length,z="";for(var h=1;h<10;h++){var d=(E-10)*~~Math.pow(E,h-1);if(s<d){for(var v=0;
v<h;v++){var Y=v==h-1?10:0,C=E-Y,i=s%C;z=l[i+Y]+z;s=Math.floor((s-i)/C)}break}s-=d}return z}function D(s,E,z,h){if(s.length!=0){if(h==null)h="s";
var d=s.join(";"),Y=E.a7H[d];if(Y==null){Y=j.k2?b(E.f9):h+E.f9;E.f9++;E.a7H[d]=Y;E.oK[Y]=d}if(z)z.push(Y);
return Y}}function c(s){if(j.k2&&s.length==7&&s[0]=="#"){if(s[1]==s[2]&&s[3]==s[4]&&s[5]==s[6])s="#"+s[1]+s[3]+s[5]}return s}function _(s,E,z){E=c(E);
if(E!="#000"||z==1)s.push((z==0?"fill:":"stroke:")+n+E)}function p(s,E,z,h,d,Y,C){var i=!1;for(var M=0;
M<z.length;M++){var W=z[M].W,$=W.add.lsct;if(W.Le)continue;if(W.add.artb&&C!=null&&M!=C)continue;if(!W.U7&&z[M+1]&&z[M+1].W.U7&&W.Oi()&&W.add.vmsk){var P=[];
e(W,W.add.vmsk,E,P);E.C5.push(m(h)+"<g "+P[0]+">");h++;i=!0}else if(!W.U7&&z[M-1]&&z[M-1].W.U7&&i){h--;
E.C5.push(m(h)+"</g>");i=!1}var O=W.add.vmsk,G=W.add.vogk,t=W.add.vstk,y=W.add.TySh;if(O&&!O.isEnabled)O=t=null;
var r=[];if(!d.hidden&&!W.VH())continue;var u=W.wT/255,S=W.add.iOpa?W.add.iOpa/255:1;if(W.bx()){u*=S;
S=1}if(u!=1)r.push("opacity:"+n+R(u));if(S!=1)r.push("fill-opacity:"+n+R(S));if(W.TM!="norm"){var w=af.iL[af.Yh.indexOf(W.TM)];
if(w!=null)r.push("mix-blend-mode:"+n+w)}if(!W.VH())r.push("display:"+n+"none");var P=[],dj=[],o=W.getName(),T=o.indexOf(" .");
if(!d.k2)P.push("id=\""+k(o)+"\"");var i6=gq.av0(W.add.lmfx,W.add),bH=i6[0],cg=i6[1],bu=W.add.SoLd;if(bu&&bu.filterFX){var hH=bu.filterFX.v;
if(hH.enab.v&&hH.filterFXList.v.length!=0)bu=null}if(W.bx()){var dK=z[M].children;if(dK.length==1&&dK[0].W.add.SoLd&&!d.Cb){}else{var d8=O,d1=dK.length==0?null:dK[dK.length-1].W;
if(fL==1&&d1&&d1.Le&&d1.VH())d8=d1.add.vmsk;e(W,d8,E,P);if(r.length!=0)P.push("style=\""+r.join(";")+"\"");
if(bH){var gH=CSS.pl(bH.Clr.v),kh="f"+E.VX;E.VX++;E.C5.push(m(h)+"<filter id=\""+kh+"\">");E.C5.push(m(h+1)+"<feFlood flood-color=\""+gH+"\" flood-opacity=\""+R(bH.Opct.v.val/100,2)+"\" />");
E.C5.push(m(h+1)+"<feBlend mode=\""+af.iL[af.Yh.indexOf(af.Ci(bH.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
E.C5.push(m(h+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");E.C5.push(m(h)+"</filter>");
P.push("filter=\"url(#"+kh+")\"")}var ay=F(P,dj),dO=d.k2&&ay=="";if(!dO)E.C5.push(m(h)+"<g"+(ay==""?"":" "+ay)+">");
p(s,E,dK,h+1,d,Y);if(!dO)E.C5.push(m(h)+"</g>")}}else if(W.Oi()&&O==null){H(s,r,W.add,E,a,d);if(r.length!=0)P.push("style=\""+r.join(";")+"\"");
E.C5.push(m(h)+"<rect width=\""+a.q+"\" height=\""+a._+"\" "+F(P,dj)+"/>")}else if(O&&bu==null&&W.add.PtFl==null){H(s,r,W.add,E,gK,d,O.z);
D(r,E,dj);var fy,bg=null,f4=0,jb;if(G.length!=0){fy=G[0].v;bg=fy.keyOriginType;if(bg)bg=bg.v;if(bg==2){var jT=K._y.bU(fy);
f4=jT[0];for(var v=0;v<3;v++)if(f4!=jT[v+1])bg=null}}if(G.length==1&&bg==5&&Math.abs(K._y.aad(fy))<1e-4){var jy=K._y.kk(fy),cl=(jy[0]+jy[2])/2,hu=(jy[1]+jy[3])/2,aA=cl-jy[0],ko=hu-jy[1],ec=Math.abs(aA-ko)<.01,kK=ec?"r=\""+R(aA)+"\"":"rx=\""+R(aA)+"\" ry=\""+R(ko)+"\"";
jb="<"+(ec?"circle":"ellipse")+" "+F(P,dj)+" cx=\""+R(cl)+"\" cy=\""+R(hu)+"\" "+kK+"/>"}else if(G.length==1&&bg==2&&f4!=0&&Math.abs(K._y.aad(fy))<1e-4){var jy=K._y.kk(fy),cM=jy[0],gG=jy[1],c2=jy[2]-jy[0],a1=jy[3]-jy[1],cs="";
if(cM!=0)cs+=" x=\""+R(cM)+"\"";if(gG!=0)cs+=" y=\""+R(gG)+"\"";cs+=" width=\""+R(c2)+"\"";cs+=" height=\""+R(a1)+"\"";
cs+=" rx=\""+R(f4)+"\"";jb="<rect "+F(P,dj)+cs+"></rect>"}else{var f7,j7;if(fL==0){var dz=K.R.Ba(O.z,1);
f7=dz.TI;j7=dz.tA}else{var iA=K.c.gb(O.z);f7=Typr.U.pathToSVG({crds:iA.g,cmds:iA.rZ},1);j7=O.H_}if(j7!=0){P.push("fill-rule=\"evenodd\"")}jb="<path "+F(P,dj)+" d=\""+f7+"\"/>"}E.C5.push(m(h)+jb)}else if(y&&d.a2s){n=d.k2?"":" ";
var kk=y.Kt,fA=new bG(kk,Y,y.K7),g5=null;if(bH)g5=CSS.pl(bH.Clr.v);if(cg){var jy=W.s.O();J(cg,E,jy,d);
g5="url(#g"+E.nL+")"}if(g5)r.push("fill:"+n+g5);U(W,r);var iA=ji.hr(fA,y,!0),h$=K.c.zU(iA);for(var hL in h$){var ha=r.slice(0),jl=dj.slice(0),fI=P.slice(0);
if(g5==null){_(ha,hL.slice(0,7),0);if(hL.length>7){var aE=ji.aBT(hL.slice(7));_(ha,Z(aE.tY),1);A(aE,ha,!0)}}D(ha,E,jl);
var es=h$[hL],kN=Typr.U.pathToSVG({crds:es.g,cmds:es.rZ},1);E.C5.push(m(h)+"<path "+F(fI,jl)+(d.k2?"":" "+g(y))+" d=\""+kN+"\"/>")}}else if(y&&!d.akr){var kk=y.Kt,fV=y.C.O(),g5=null;
r.push("transform:"+n+I(fV));var jU=eR.yi(kk),fA=new bG(kk,Y,y.K7);U(W,r);if(r.length!=0)P.push("style=\""+r.join(";")+"\"");
E.C5.push(m(h)+"<text "+F(P,dj)+" >");if(bH)g5=CSS.pl(bH.Clr.v);if(cg){var jy=W.s.O();jy.x-=fV.Qr;jy.y-=fV.dE;
J(cg,E,jy,d);g5=" url(#g"+E.nL+")"}for(var v=0;v<fA.w$.length;v++){var c$=fA.w$[v];if(c$.qq.length==1&&c$.qq[0].XC)continue;
for(var iq=0;iq<c$.Gk.length;iq++){var cz=c$.Gk[iq],hu=c$.q8.y+cz.q8.y,h0=c$.qq[cz.start].start,fl=c$.qq[cz.end-1].end,co=eR.a1R(kk,h0,fl),cC="";
for(var gr=0;gr<co.length;gr++){var eK=fA.Qd(h0),kM=co[gr],bM=eR.JB(kk,h0,h0),bn=bM.hK[bM.RW.Font].Name,hL=eR.qF(bM.RW.FillColor),fT=Math.round(bM.RW.FontSize),ck=jU.slice(h0,h0+kM);
if(bM.RW.FontCaps==2)ck=ck.toUpperCase();var ce=new j8;ce.translate(eK.SK.x,-hu);var kn=[];CSS.anP(kn,bM,null,!0,!0,g5);
var fc=D(kn,E,null,"t");fc=fc?" class=\""+fc+"\"":"";var cl=eK.SK.x,cv=X(bM,ck);cC+="<tspan "+(gr==0?"x=\""+R(eK.SK.x)+"\"":"")+" y=\""+R(hu)+"\""+fc+cv+">"+k(ck)+"</tspan>";
h0+=kM}E.C5.push(m(h+1)+cC)}}E.C5.push(m(h)+"</text>")}else if(bu&&d.Cb&&bH==null){var kh=bu.Idnt.v,gM=0,hF=bu.Crop?bu.Crop.v:null;
console.log(hF);if(E.tj[kh]!=null)gM=E.tj[kh];else{E.ot++;gM=E.ot;E.tj[kh]=E.ot;var fg=s.x3(kh,hF),h8="";
if(fg==null)return;var fP=fg.LQ,cu=fj.Ot(fg.raw.buffer);console.log(cu);if(cu=="pdf"){var ia=new hs("h");
fj.Mi("PDF").z5(fg.raw.buffer,ia);ia.iN();ia.xg();ia.ge();ia.D$();if(bu.Crop&&bu.Crop.v==1){N.MT._i(ia,ia.root.uI(ia,!0))}var jd=fj.Mi("SVG").OR(ia,ia.q,ia._,null,{wR:Y});
h8="data:image/svg+xml;base64,"+fj.cJ(jd)}else if(cu=="jpg"||cu=="png"||cu=="gif"||cu=="svg"){var bL={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
h8="data:"+bL[cu]+";base64,"+fj.cJ(fg.raw.buffer)}else{h8=fj.PH(fP[0].buffer,fP[1].q,fP[1]._)}var jq=bu.Sz.v;
E.w7.push(m(2)+"<image width=\""+jq.Wdth.v+"\" height=\""+jq.Hght.v+"\" id=\"img"+gM+"\" href=\""+h8+"\"/>")}var dJ=K.D.Uu(bu),ju=[];
e(W,O,E,ju);if(ju.length!=0)E.C5.push(m(h)+"<g "+F(ju,dj)+">");if(r.length!=0)P.push("style=\""+r.join(";")+"\"");
var cL=F(P,dj);E.C5.push(m(h)+"<use "+cL+" href=\"#img"+gM+"\" transform=\""+I(dJ)+"\"/>");if(ju.length!=0)E.C5.push(m(h)+"</g>")}else if(!W.s.ke()&&(d.Cb||y)){if(r.length!=0)P.push("style=\""+r.join(";")+"\"");
var cL=F(P,dj),k7=W.buffer;if(bH)k7=gq.av6(k7,bH,W.s);var j7=W.s;E.ot++;var h8=fj.PH(k7.buffer,j7.q,j7._,"png",null,!0);
E.w7.push(m(2)+"<image "+g(y)+" width=\""+W.s.q+"\" height=\""+W.s._+"\" id=\"img"+E.ot+"\" href=\""+h8+"\"/>");
E.C5.push(m(h)+"<use "+cL+" href=\"#img"+E.ot+"\" x=\""+j7.x+"\" y=\""+j7.y+"\"/>")}}if(i){h--;E.C5.push(m(h)+"</g>");
i=!1}}function X(s,E){var z=s.RW.Tracking,h="";if(z!=null&&z!=0){z=Math.round(z*s.RW.FontSize/1e3);h=" dx=\"0";
for(var d=1;d<E.length;d++)h+=" "+z;h+="\" "}return h}function g(s){if(s==null)return"";var E=s.Kt,z=eR.yi(E);
z=k(z.slice(0,z.length-1));return"aria-label=\""+z+"\" "}function F(s,E){if(E.length!=0)s.push("class=\""+E.join(" ")+"\"");
return s.join(" ")}function k(s){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function I(s){var E=[s.NX,s.b,s.RK,s.zP,s.Qr,s.dE];
for(var v=0;v<6;v++)E[v]=R(E[v],3);return"matrix("+E.join(",")+")"}function e(s,E,z,h){if(E||s.add.artb){var d;
if(E)d=K.R.Ba(E.z).TI;else{var Y=s.v_(),C=K.c.yc(Y);d=Typr.U.pathToSVG({crds:C.g,cmds:C.rZ},1)}z.kq++;
h.push("clip-path=\"url(#cp"+z.kq+")\"");z.w7.push(m(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+z.kq+"\">");
z.w7.push(m(3)+"<path d=\""+d+"\"/>");z.w7.push(m(2)+"</clipPath>")}}function H(s,E,z,h,d,Y,C){var i=z.vmsk,M=z.lmfx,W=[];
if(i&&i.g_!=0){var $=R(i.g_);if(h.MW[$]==null){h.VX++;h.MW[$]=h.VX;h.w7.push(m(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+h.VX+"\"> <feGaussianBlur stdDeviation=\""+$+"\"/> </filter>")}W.push("url(#f"+h.MW[$]+")")}if(M)for(var v=0;
v<g8.order.length;v++){var P=g8.order[v],O=g8.Ub[v],G=M[O].v;for(var t=0;t<G.length;t++){var y=G[t].v,r=y.classID;
if(!y.enab.v)continue;if(r=="OrGl"||r=="DrSh"){h.VX++;W.push("url(#f"+h.VX+")");var u=0,S=0,w=y.blur.v.val/2.4,o=y.Opct.v.val/100;
if(r=="DrSh"){var T=y.uglg&&y.uglg.v?s._Q():y.lagl.v.val;T=T*(Math.PI/180);var i6=y.Dstn.v.val;u=-Math.cos(T)*i6;
S=Math.sin(T)*i6}if(r=="OrGl")o/=y.Inpr.v.val/100;var bH="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+h.VX+"\" >";
bH+="<feDropShadow dx=\""+u+"\" dy=\""+S+"\" stdDeviation=\""+w+"\" flood-color=\""+CSS.pl(y.Clr.v)+"\" flood-opacity=\""+R(o)+"\"/>";
bH+="</filter>";h.w7.push(m(2)+bH)}}}if(W.length!=0)E.push("filter:"+n+W.join(" "));var cg=z.vstl;if(cg==null)cg=hs.Xa(z,s);
for(var v=0;v<2;v++){var bu=v==0?cg.vg:cg.tY;if(bu.length==0){if(v==0)E.push("fill:"+n+"none")}else if(bu.length==3)_(E,Z(bu),v);
else{J(bu,h,d,Y,C);_(E,"url(#g"+h.nL+")",v)}}if(cg.tY.length!=0){A(cg,E)}}function A(s,E,z){var h=s.th,d=s.aO,Y=s.Sn,C=s.eK,i=s.SH;
if(C==2){if(!z)Y*=2;E.push("paint-order:stroke fill markers")}if(h!=0)E.push("stroke-linecap:"+n+["butt","round","square"][h]);
if(d!=0)E.push("stroke-linejoin:"+n+["miter","round","bevel"][d]);else if(s.sX!=4)E.push("stroke-miterlimit:"+s.sX);
if(Y!=1)E.push("stroke-width:"+n+R(Y));if(i.length!=0)E.push("stroke-dasharray:"+n+i.join(","))}function Z(s){return CSS.E1({n:s[0]*255,i:s[1]*255,b:s[2]*255})}function J(s,E,z,h,d){if(d==null)d=K.R.hi.Rect(z.x,z.y,z.q,z._);
if(!(s instanceof Array))s=g7.xG(s,d);E.nL++;var Y=s[0],C=(Y==1?"radial":"linear")+"Gradient",i=m(2)+"<"+C+" id=\"g"+E.nL+"\"",M="";
if(h.k2){if(E.nL==1)E.w7.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");M=" href=\"#P\""}else M=" gradientUnits=\"userSpaceOnUse\"";
var W=g7.Kz(s,d),$=[new eE(0,0),new eE(1,0)];M+=" gradientTransform=\""+I(W)+"\"";var P=h.k2?2:3;if(Y==0)E.w7.push(i+" x2=\"1\""+M+">");
if(Y==1){if(s[2][6]!=0){var O=s[2][5]*Math.PI/180,G=s[2][6];E.w7.push(i+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+R(Math.cos(O)*G,P)+"\" fy=\""+R(-Math.sin(O)*G,P)+"\""+M+">")}else E.w7.push(i+" cx=\"0\" cy=\"0\" r=\"1\""+M+">")}var t=s[1];
for(var v=0;v<t.length;v++){var y=t[v],r=y[0],u=y[1],S=y[2];S=S==1?"":" stop-opacity=\""+R(S,P)+"\"";
var w=r==0&&h.k2?"":" offset=\""+R(r,P)+"\"",dj=Z(u);dj=h.k2&&dj=="#000000"?"":" stop-color=\""+c(dj)+"\"";
E.w7.push(m(3)+"<stop"+w+dj+S+"/>")}E.w7.push(m(2)+"</"+C+">")}hI.zD=I;return B}();hI.hi=function(j,n,Q,a,B){var m=[],R=hI.hi,q=!1,U={Uw:j,WC:n,T6:[!0,!0,!0],yA:!1,pr:Q,a0$:0};
U.W7=Math.round(Math.max(j,n)*(.02+R.V5(U)*.03));U.kZ=R.adZ(U);U.et=R.apZ(U.kZ,(R.V5(U)<.5?-1:1)*(.2+R.V5(U)*.3));
if(R.V5(U)<.5){var l=U.kZ;U.kZ=U.et;U.et=l}U.azL=R.V5(U)<.4&&R.aHG(U.et,{n:1,i:1,b:1})>.3;U.axE=R.V5(U)<.5?0:1;
m.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+j+" "+n+"\" width=\""+j+"\" height=\""+n+"\">");
U.nW=a[Math.floor(R.TU(U)*a.length)];U.vu=a[Math.floor(R.TU(U)*a.length)];m.push("<style>");m.push("@font-face {  font-family: "+U.nW[2]+";  src: url("+bv.xU("rsrc/fonts/")+U.nW[5]+");  }");
m.push("@font-face {  font-family: "+U.vu[2]+";  src: url("+bv.xU("rsrc/fonts/")+U.vu[5]+");  }");m.push("</style>");
var b=[0,0,j,n],D=b;if(B==null)m.push("<path style=\"fill: "+R.hc(U.kZ)+"\" d=\""+R.Rect(b[0],b[1],b[2]-b[0],b[3]-b[1])+"\" id=\"Background\" />");
else{U.yA=!0;R.a9Y(U,b,m,B)}if(R.V5(U)<.25&&!U.yA){U.T6[0]=U.T6[2]=!1;R.amE(b,U,m);D=b}else if(R.V5(U)<.25||U.yA)D=b;
else{var c=.52+R.V5(U)*.2;if(R.V5(U)<.5)c=1-c;var _=b.slice(0),p=b.slice(0);if(R.V5(U)<.5)_[2]=p[0]=Math.round(c*j);
else _[3]=p[1]=Math.round(c*n);if(R.V5(U)<.5){var l=_;_=p;p=l}D=_;R.aaV(U,p,m,B)}R.aDh(U,D,m);m.push("</svg>");
m=m.join("\n");var X=K.U(Math.round(m.length*1.5)),g=L._e(m,X,0);return[X.buffer.slice(0,g),U._x]};hI.hi.amE=function(j,n,Q){var a=hI.hi,B=j[2]-j[0],m=j[3]-j[1];
if(a.V5(n)<.5){Q.push("<path id=\"Border\" style=\"fill: "+a.hc(n.et)+"\" d=\""+a.aal(j[0],j[1],j[2]-j[0],j[3]-j[1],n.W7)+"\" />")}else{var R=a.V5(n)<.5?0:1,q=(R==0?m:B)/4,U=a.YQ(n,R,j,Q,q,!0),U=a.YQ(n,R+2,j,Q,q,!0,U)}};
hI.hi.aDh=function(j,n,Q){var a=hI.hi,B="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),m=2*Math.floor(a.V5(j)*B.length/2),R=n[2]-n[0],q=n[3]-n[1],l=0,D=0;
j.UT=(j.Uw+R)*.5*(.04+a.V5(j)*.05);j.UT=Math.min(j.UT,q*.4,R*.12);j.UT=Math.round(j.UT);var U=Math.min(j.UT*B[m].length*(.35+.3*a.V5(j)),R*.9),b=(n[1]+n[3])/2,c=K.GD(j.kZ)<.85?{n:1,i:1,b:1}:{n:.1,i:.1,b:.1};
if(a.V5(j)<.25&&j.T6[0]){D=0;l=n[0]+j.W7}else if(a.V5(j)<.33&&j.T6[2]){D=2;l=n[2]-j.W7}else{D=1;l=(n[0]+n[2])/2}var _=c.n==1?"0,0,0":"255,255,255",p=j.yA&&a.V5(j)<1;
if(p){var X=n[0],g=R,F=b-j.UT*1.1,k=j.UT*2.2,I=.7;if(D==1&&a.V5(j)<.5){X=F=.2*Math.min(R,q);g=R-2*F;
k=q-F-F}else if(a.V5(j)<.7){X=F=0;g=R;k=q;I=.25}Q.push("<path id=\"Strip\" style=\"fill: rgb("+_+"); opacity: "+I+"\" d=\""+a.Rect(X,F,g,k)+"\" />")}if(a.V5(j)<.4){var e=j.UT*.07;
e*=1.5+a.V5(j)*1;if(D==-1&&R/q<3&&!p){Q.push("<path id=\"Bar-bottom\" style=\"fill: "+a.hc(c)+"\" d=\""+a.Rect(l-U/2,b+j.UT*1.1-e/2,U,e)+"\" />");
Q.push("<path id=\"Bar-top\"    style=\"fill: "+a.hc(c)+"\" d=\""+a.Rect(l-U/2,b-j.UT*1.1-e/2,U,e)+"\" />")}if(D!=1){Q.push("<path id=\"Bar\" style=\"fill: "+a.hc(c)+"\" d=\""+a.Rect(l-e/2,b-j.UT*.8,e,j.UT*.8*2)+"\" />");
l+=(D==0?1:-1)*j.UT/3}}var H=j.UT*.4;Q.push(a.adi(B[m+1],l,b+H*1.6,H,c,D,j.vu));Q.push(a.adi(B[m],l,b+j.UT*.04,j.UT,c,D,j.nW))};
hI.hi.aaV=function(j,n,Q,a){var B=n[2]-n[0],m=n[3]-n[1],R=Math.max(B,m),q=Math.min(B,m),U=hI.hi;if(R/q<5&&!j.yA&&!1){U.a9Y(j,n,Q,a)}else if(U.V5(j)<0)Q.push("<path style=\"fill: "+U.hc(j.et)+"\" d=\""+U.Rect(n[0],n[1],B,m)+"\" />");
else{var l=0;if(n[3]!=j.WC)l=0;if(n[2]!=j.Uw)l=3;if(n[0]!=0)l=1;if(n[1]!=0)l=2;var b=l+2&3;if(R/q<3){var D=U.auO(b),c=D[Math.round(U.V5(j)*(D.length-1))],_=c.DA.slice(0,4),p=_.indexOf(1);
c=K.u(c);var X=-1;if(_!="0000"){var g=new j8;if(c.DA[5]=="0"){if(p==3&&l==1){X=1;g.scale(-1,1)}else X=p}else{var F=b;
while(F==b)F=Math.floor(U.V5(j)*4)&3;g.rotate((-p+F)*Math.PI/2)}U.C(c,g)}var k=U.Tv(c),I=B-2*j.W7,e=m-2*j.W7;
if(X!=-1){if((X&1)==0)e-=j.W7;else I-=j.W7}var H=Math.min(I/k.q,e/k._),A=new j8;A.translate(-k.x,-k.y);
A.scale(H,H);var Z=(B-k.q*H)/2,J=(m-k._*H)/2;if(X!=-1){if(X==3)Z=0;if(X==0)J=0;if(X==1)Z=B-k.q*H;if(X==2)J=m-k._*H}A.translate(n[0]+Z,n[1]+J);
U.Ma(j,c,A,j.et,Q)}else{U.YQ(j,l,n,Q,1e9)}}};hI.hi.a9Y=function(j,n,Q,a){var B=n[2]-n[0],m=n[3]-n[1],R=Math.max(B,m),q=Math.min(B,m),U=hI.hi,l=U.TU(j),b,D,c,_=a[0]instanceof ArrayBuffer;
if(_){b="data:image/jpg;base64,"+aL.i7(a[0]);D=a[1];c=a[2]}else{var p=Math.floor(l*a.length),X=a[p];
j._x=X;b=X.webformatURL;D=X.webformatWidth;c=X.webformatHeight}var g=n[0],F=n[1],k=B,I=m;if(B/m>D/c){I=k*c/D;
F=F-(I-m)/2}else{k=I*D/c;g=g-(k-B)/2}if(_){Q.push("<defs>");Q.push("<image width=\""+D+"\" height=\""+c+"\" id=\"Background\" href=\""+b+"\" />");
Q.push("</defs>");var e=k/D;Q.push("<use href=\"#Background\" transform=\""+hI.zD(new j8(e,0,0,e,g,F))+"\" />")}else{var H="cp"+Math.random();
Q.push("<clipPath id=\""+H+"\">");Q.push("<path style=\"fill: "+U.hc(j.et)+"\" d=\""+U.Rect(n[0],n[1],B,m)+"\" />");
Q.push("</clipPath>");Q.push("<image  clip-path=\"url(#"+H+")\" xlink:href=\""+b+"\" x=\""+g+"\" y=\""+F+"\" width=\""+k+"\" height=\""+I+"\" />")}};
hI.hi.adi=function(j,n,Q,a,B,m,R){var q=hI.hi;return"<text x=\""+n+"\" y=\""+Q+"\" style=\"fill:"+q.hc(B)+"; font-size:"+a+"px; text-anchor:"+["start","middle","end"][m]+"; font-family:"+R[2]+";\"><tspan>"+j+"</tspan></text>"};
hI.hi.Ma=function(j,n,Q,a,B){var m=hI.hi,R=[];for(var v=0;v<n.aX.length;v++){R.push(a);if(j.azL){a=(v&1)==j.axE?{n:1,i:1,b:1}:R[0]}}B.push("<g id=\""+n.DA.split("-")[2]+":::\" style=\"transform: "+hI.zD(Q)+";\" >");
for(var v=0;v<n.aX.length;v++){var q=n.aX[v];a=R.pop();B.push("<path style=\"fill: "+(a?m.hc(a):"#"+q[0])+"\" d=\""+Typr.U.pathToSVG({crds:q[1].g,cmds:q[1].rZ})+"\" />")}B.push("</g>")};
hI.hi.aly=function(){if(SHPS[0].DA)return;for(var v=0;v<SHPS.length;v++){var j=SHPS[v],n=j[1],Q=[];for(var a=0;
a<n.length;a++){var B=n[a],m=Typr.U.SVGToPath(B[1]);Q.push([B[0],{rZ:m.cmds,g:m.crds}])}SHPS[v]={DA:j[0],aX:Q}}};
hI.hi.auO=function(j){var n=SHPS;hI.hi.aly();var Q=[];for(var v=0;v<n.length;v++){var a=n[v],B=a.DA.slice(0,4);
if(B=="0000"){Q.push(a);continue}if(["1000","0100","0010","0001"].indexOf(B)==-1)continue;var m=B.indexOf("1");
if(a.DA[5]=="0"&&j==m&&m!=3)continue;Q.push(a)}return Q};hI.hi.YQ=function(j,n,Q,a,B,m,R){var q=SHPS,k,I;
hI.hi.aly();var U=hI.hi,l=[];for(var v=0;v<q.length;v++){var b=q[v],D=b.DA.slice(0,4);if(["1110","1101","1011","0111"].indexOf(D)==-1)continue;
var c=D.indexOf("0")+2&3;if(b.DA[5]=="0")if(m==!0||n!=c&&!(n==1&&c==3))continue;l.push(b)}var _=R!=null?R:Math.floor(U.V5(j)*l.length),b=l[_],b=K.u(b),D=b.DA.slice(0,4),c=D.indexOf("0")+2&3;
if(c==3&&n==1)K.C(b,new j8(1,0,0,-1,0,1e3));var p=new j8;p.translate(-500,-500);p.rotate(-c*Math.PI/2);
p.translate(500,500);U.C(b,p);var X=Q[3]-Q[1],g=Q[2]-Q[0],F=U.Tv(b);if(F.y<0){F._+=F.y;F.y=0}if(F.y>0){F._+=F.y;
F.y=0}if((n&1)==0){I=X;k=g}else{k=X;I=g}var e=Math.min(Math.min(.5+.5*U.V5(j))*Math.min(g,X),B)/F._,H=Math.ceil(k/(1e3*e)),A=new j8,Z=new j8;
Z.scale(e,e);if(n==0||n==2){Z.translate(-(g/2),-(X/2));Z.rotate(-n*Math.PI/2);Z.translate(g/2+Q[0],X/2+Q[1])}else{Z.rotate(Math.PI/2);
Z.scale(1,-1);Z.translate(Q[0],Q[1]);if(n==1){Z.scale(-1,1);Z.translate(g,0)}}a.push("<g id=\"Border-"+["top","right","bottom","left"][n]+":::\">");
for(var v=0;v<H;v++){var J=A.O();J.concat(Z);U.Ma(j,b,J,j.et,a);A.translate(1e3-2,0)}a.push("</g>");
return _};hI.hi.Rect=function(j,n,Q,a){return Typr.U.pathToSVG({crds:[j,n,j+Q,n,j+Q,n+a,j,n+a],cmds:["M","L","L","L","Z"]})};
hI.hi.aal=function(j,n,Q,a,B){var m=[j,n,j+Q,n,j+Q,n+a,j,n+a];j+=B;n+=B;Q-=2*B;a-=2*B;m.push(j,n,j,n+a,j+Q,n+a,j+Q,n);
return Typr.U.pathToSVG({crds:m,cmds:"M L L L Z M L L L Z".split(" ")})};hI.hi.apZ=function(j,n){var Q=K.Wd(j.n,j.i,j.b);
Q.IT=Math.max(.1,Math.min(.9,Q.IT+n));return K.BK(Q.WC,Q.bD,Q.IT)};hI.hi.a8r=function(j,n){var Q=K.Wd(j.n,j.i,j.b);
Q.WC+=n;return K.BK(Q.WC,Q.bD,Q.IT)};hI.hi.a3H=function(j){var n=K.Wd(j.n,j.i,j.b);n.IT=1-n.IT;return K.BK(n.WC,n.bD,n.IT)};
hI.hi.aHG=function(j,n){var Q=j.n-n.n,a=j.i-n.i,B=j.b-n.b;return Math.sqrt(Q*Q+a*a+B*B)};hI.hi.adZ=function(j){var n=hI.hi;
return{n:n.V5(j),i:n.V5(j),b:n.V5(j)}};hI.hi.hc=function(j){return CSS.E1({n:j.n*255,i:j.i*255,b:j.b*255})};
hI.hi.Tv=function(j){var n=j.aX,Q=new b4;for(var v=0;v<n.length;v++)Q=Q.d_(K.c.Tv(n[v][1].g));return Q};
hI.hi.C=function(j,n){var Q=j.aX;for(var v=0;v<Q.length;v++)K.c.C(Q[v][1].g,n,Q[v][1].g)};hI.hi.V5=function(j){j.a0$++;
var n=j.a0$&3;if(n==0)j.pr=hI.hi.ny(j.pr);var Q=j.pr>>>8*n&255;return Q*(.99999999/255)};hI.hi.TU=function(j){var n=hI.hi.ny(j.pr);
j.pr=hI.hi.ny(n);return n*(1/4294967295)};hI.hi.ny=function(j){j=(j^61^j>>>16)>>>0;j=j+(j<<3)>>>0;j=(j^j>>>4)>>>0;
j=j*668265261>>>0;j=(j^j>>>15)>>>0;return j};var fS={};fS.parse=function(j){var n=new Uint8Array(j),Q=null;
if(n[0]==80&&n[1]==75){var a=Date.now(),B=UZIP.parse(n.buffer),Q=B["document.json"];Q=JSON.parse(L.Cl(Q,0,Q.length));
fS.p_(Q,B)}else{var m=fd.parse(j);Q=fS.a8w(m[2][0][1])}return Q};fS.p_=function(j,n){var Q=typeof j;
if(Q=="string"||Q=="number"||Q=="boolean"||j==null)return j;if(j instanceof Array){for(var v=0;v<j.length;
v++)j[v]=fS.p_(j[v],n);return j}var a=j._class;if(a==null)return j;if(a=="MSJSONFileReference"){var B=j._ref;
if(!1){}else if(n[B+".json"]!=null){var m=n[B+".json"],R=m.length;for(var v=0;v<R;v++)if(m[v]==11||m[v]==3)m[v]=32;
var q=L.Cl(m,0,R);j=JSON.parse(q)}else if(n[B+".png"]!=null)return{key:B.split("/").pop(),bdata:n[B+".png"]};
else if(n[B+".jpg"]!=null)return{key:B.split("/").pop(),bdata:n[B+".jpg"]};else if(n[B+".pdf"]!=null)return{key:B.split("/").pop(),bdata:n[B+".pdf"]};
else if(n[B]!=null)return{key:B.split("/").pop(),bdata:n[B]};else{console.log(j,n);return}}else if(a=="MSAttributedString"){var q=atob(j.archivedAttributedString._archive),U=q.length,l=new Uint8Array(U);
for(var v=0;v<U;v++)l[v]=q.charCodeAt(v);j.archivedAttributedString=fS.a8w(l)}for(var b in j)j[b]=fS.p_(j[b],n);
return j};fS.a8j=function(j,n,Q,a,B){if(j instanceof Uint8Array)return null;if(a.indexOf(j)!=-1)return null;
a.push(j);if(j==n)return Q;for(var m in j){Q.push(m);var R=fS.a8j(j[m],n,Q,a,B);if(R){console.log(j,R);
throw"e"}Q.pop()}};fS.a8w=function(j){var n=ip.parse(j,0),Q=n.$objects,a=new Uint8Array(Q.length),B=fS.rI(Q,a,n.$top.root);
for(var v=0;v<Q.length;v++)if(a[v]==0&&v!=0){console.log(v,Q[v]);fS.a8j(B,v,[],[],typeof Q[v])}for(var v=0;
v<Q.length;v++){var m=Q[v];if(m._class&&(m._class=="bitmap"||m._class=="fill"&&m.fillType==4&&(m.image||m.imageSHA))){var R=m.image,q=m.imageSHA,U=null,l=null;
if(R=="$null")R=null;if(q=="$null")q=null;if(R&&R.data){l=R.sha1["NS.bytes"];l=btoa(L.AP(l,0,l.length));
U=R.data instanceof Uint8Array?R.data:R.data["NS.bytes"]}else if(R==null&&q==null){var b=fj.Mi("PNG").OR([[K.U(4).buffer]],1,1);
U=new Uint8Array(b)}else{var D=(B.assets?B.assets.imageCollection:B.images).images;if(q)l=q instanceof Uint8Array?q:q["NS.bytes"];
else l=R.sha1["NS.bytes"];l=btoa(L.AP(l,0,l.length));var U=D[l].data;if(U["NS.bytes"])U=U["NS.bytes"]}U=new Uint8Array(U.buffer.slice(U.byteOffset,U.byteOffset+U.length));
delete m.imageSHA;m.image={key:l,bdata:U}}}return B};fS.aHw=function(j){return j.slice(0,11)=="MSImmutable"?"MS"+j.slice(11):j};
fS.rI=function(j,n,Q){var a=j[Q];if(n[Q]==1){return a}n[Q]=1;if(typeof a=="string")return a;if(typeof a=="number")return a;
if(typeof a=="boolean")return a;if(a instanceof Array)return a;if(a instanceof Uint8Array){return a}if(j[a.$class]==null){if(a.$class==null&&a["NS.data"]!=null)return a;
console.log(Q,a);throw"e"}var B=j[a.$class],m=fS.aHw(B.$classname);n[a.$class]=1;a.$class=m;if(fS.asL[m]){delete a.$class;
a._class=fS.asL[m]}var R=fS.rI;if(m=="NSMutableArray"||m=="NSArray"){var q=[];if(a["NS.objects"]!=null)for(var v=0;
v<a["NS.objects"].length;v++)q.push(R(j,n,a["NS.objects"][v]));else for(var v=0;a["NS.object."+v]!=null;
v++)q.push(R(j,n,a["NS.object."+v]));j[Q]=q;return q}if(m=="NSDictionary"||m=="NSMutableDictionary"){var U={$class:m};
if(a["NS.keys"]!=null)for(var v=0;v<a["NS.keys"].length;v++){var l=R(j,n,a["NS.keys"][v]);if(l instanceof Uint8Array)l=btoa(fS.BI.AP(l,0,l.length));
else if(typeof l!="string"&&typeof l!="number")l=btoa(fS.BI.AP(l["NS.bytes"],0,l["NS.bytes"].length));
U[l]=R(j,n,a["NS.objects"][v])}else for(var v=0;a["NS.key."+v]!=null;v++){var l=R(j,n,a["NS.key."+v]);
if(l instanceof Uint8Array)l=btoa(fS.BI.AP(l,0,l.length));else if(typeof l!="string"&&typeof l!="number")l=btoa(fS.BI.AP(l["NS.bytes"],0,l["NS.bytes"].length));
U[l]=R(j,n,a["NS.object."+v])}for(var b in a)delete a[b];for(var b in U)a[b]=U[b];return a}if(m=="NSURL")return{$class:m,base:R(j,n,a["NS.base"]),relative:R(j,n,a["NS.relative"])};
if(fS.ai0.indexOf(m)!=-1){j[Q]=R(j,n,a.array_do);return j[Q]}if(a.do_objectID!=null)a.do_objectID=R(j,n,a.do_objectID);
if(fS.aE$.indexOf(m)!=-1)return a;var D=fS.a0C[m];if(D==null){console.log(j,a);throw"unknown class "+m}for(var v=0;
v<D.length;v++)if(a[D[v]]!=null)a[D[v]]=R(j,n,a[D[v]]);if(m=="MSTextLayer"){var c=a,_,p,X,g;if(c.attributedString)_=c.attributedString.archivedAttributedString;
else _=c.storage;g=_.NSString;if(typeof g!="string")g=L.Cl(g["NS.bytes"],0,g["NS.bytes"].length);if(_.NSAttributeInfo)p=_.NSAttributeInfo["NS.bytes"];
else{var F=g.length,k=[];while(F>0){var I=Math.min(100,F);k.push(I,0);F-=I}p=new Uint8Array(k)}X=_.NSAttributes instanceof Array?_.NSAttributes:[_.NSAttributes];
var e={$class:"NSAttributedString",NSString:g,NSAttributes:X};c.attributedString={_class:"MSAttributedString",archivedAttributedString:e};
e.NSAttributeInfo={$class:"NSMutableData","NS.data":p};delete c.storage}return a};fS.BI={oN:function(j,n){return j[n+1]<<8|j[n]},St:function(j,n){return j[n+3]<<24|j[n+2]<<16|j[n+1]<<8|j[n]},AP:function(j,n,Q){var a="";
for(var v=0;v<Q;v++)a+=String.fromCharCode(j[n+v]);return a}};fS.asL={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fS.ai0=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fS.aE$="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fS.a0C={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var ip={};ip.parse=function(j,n){var Q=L.AP(j,n,8);n+=8;var a=j.length-32,B=ip.parse.acQ(j,a),m=[];if(B.DR==1){var n=a-B.DR*B.Gy;
for(var v=0;v<B.Gy;v++)m.push(j[n+v])}else if(B.DR==2){var n=a-B.DR*B.Gy;for(var v=0;v<B.Gy;v++)m.push(L.oN(j,n+v*2))}else if(B.DR==4){var n=a-B.DR*B.Gy;
for(var v=0;v<B.Gy;v++)m.push(L.St(j,n+v*4))}else{throw"e"}var R=ip.parse.rI(j,m,B.root,B);return R};
ip.parse.rI=function(j,n,Q,a){var B=ip.BI,m=a.atL,R=m==4?B.St:m==2?B.oN:B.aug,q=ip.parse,U=n[Q],l=j[U],b=l>>4,D=l&15,_=null;
U+=1;if([4,5,6,10,12,13].indexOf(b)!=-1&&D==15){var c=q.q_(j,U);U+=c.tq;D=c.J}if(!1){}else if(b==0)_=D==8?!1:D==9?!0:null;
else if(b==1)_=q.q_(j,U-1).J;else if(b==2)_=1<<D==4?L.Hb(j,U):L.NZ(j,U);else if(b==3)_=L.NZ(j,U);else if(b==4)_=new Uint8Array(j.buffer,U,D);
else if(b==5)_=L.AP(j,U,D);else if(b==6)_=L.AN(j,U,D);else if(b==8){_=0;for(var v=0;v<D+1;v++)_=_<<8|j[U+v]}else if(b==10){_=[];
for(var v=0;v<D;v++)_.push(q.rI(j,n,R(j,U+m*v),a))}else if(b==12){_=[];for(var v=0;v<D;v++)_.push(q.rI(j,n,R(j,U+m*v),a))}else if(b==13){_={};
for(var v=0;v<D;v++){var p=q.rI(j,n,R(j,U+m*v),a),X=q.rI(j,n,R(j,U+m*(D+v)),a);_[p]=X}}else throw"unknown mask "+b;
return _};ip.parse.q_=function(j,n){var Q=1<<(j[n]&15),a=0;for(var v=0;v<Q;v++)a=a<<8|j[n+1+v];return{J:a,tq:Q+1}};
ip.parse.acQ=function(j,n){var Q={};n+=6;Q.DR=j[n];n++;Q.atL=j[n];n++;n+=4;Q.Gy=L.St(j,n);n+=4;n+=4;
Q.root=L.St(j,n);n+=4;n+=4;Q.aBq=L.St(j,n);n+=4;return Q};ip.BI={aug:function(j,n){return j[n]},oN:function(j,n){return j[n]<<8|j[n+1]},St:function(j,n){return j[n]<<24|j[n+1]<<16|j[n+2]<<8|j[n+3]},AP:function(j,n,Q){var a="";
for(var v=0;v<Q;v++)a+=String.fromCharCode(j[n+v]);return a}};var fd={parse:function(j){var n=new Uint8Array(j),Q=fd.Ue(n),a=[],B=new Uint8Array(n.length),m=[];
a.push(m);fd.Ef(n,Q,1,B,m);for(var v=0;v<m.length;v++){var R=[];a.push(R);fd.Ef(n,Q,m[v][3],B,R,v==11);
m[v][3]=v+1}return a},Ef:function(j,n,Q,a,B,m){Q--;var R=Q*n.OH+(Q==0?100:0),q=j[R],U=fd.oN(j,R+1),l=fd.oN(j,R+3),b=fd.oN(j,R+5),c=0;
if(b==0)b=65536;var D=j[R+7];R+=8;if(q==2||q==5){c=fd.St(j,R);R+=4}for(var _=0;_<l;_++){var p=Q*n.OH+fd.oN(j,R+2*_),X=-1,g=0,F=0,k=0;
if(q==2||q==5){X=fd.St(j,p);p+=4}if(q==2||q==10||q==13){g=fd.ln(j,p);p+=g.tq}if(q==5||q==13){F=fd.ln(j,p);
p+=F.tq}if(q==2||q==5){fd.Ef(j,n,X,a,B,m);continue}var I=n.OH-(Q==0?100:0),e=g.n8,H=q==13?I-35:Math.floor((I-12)*64/255)-23,A=Math.floor((I-12)*32/255)-23,Z=A+(e-A)%(I-4);
if(e<=H){fd.D1(j,p,a,0,e)}else{var J=Z<=H?Z:A,s=0;fd.D1(j,p,a,0,J);s+=J;k=fd.St(j,p+J);while(k!=0){var E=(k-1)*n.OH;
k=fd.St(j,E);var z=Math.min(n.OH-4,e-s);fd.D1(j,E+4,a,s,z);s+=z}}B.push(fd.agO(a,e))}if(c!=0)fd.Ef(j,n,c,a,B,m)},agO:function(j,n){var Q=0,a=fd.ln(j,Q);
Q+=a.tq;var B=[],m=[];while(Q<a.n8){var R=fd.ln(j,Q);Q+=R.tq;B.push(R.n8)}if(Q!=a.n8)throw"e";for(var v=0;
v<B.length;v++){var R=B[v];if(!1){}else if(R==0)m.push(null);else if(R==1){m.push(fd.aik(j,Q));Q+=1}else if(R==2){m.push(fd.TY(j,Q));
Q+=2}else if(R==3){m.push(fd.aBm(j,Q));Q+=3}else if(R==4){m.push(fd.q_(j,Q));Q+=4}else if(R==5){m.push(fd.St(j,Q+2));
Q+=6}else if(R==6){m.push(fd.St(j,Q)+":"+fd.St(j,Q+4));Q+=8}else if(R==7){m.push(fd.aqn(j,Q));Q+=8}else if(R==8)m.push(0);
else if(R==9)m.push(1);else if(R>=12&&(R&1)==0){var q=R-12>>1,U=new Uint8Array(q);fd.D1(j,Q,U,0,q);m.push(U);
Q+=q}else if(R>=13&&(R&1)==1){var q=R-13>>1;m.push(fd.Cl(j,Q,q));Q+=q}else throw"unknonw type "+R}return m},Ue:function(j){if(!(j[18]==1&&j[19]==1&&j[20]==0&&j[21]==64&&j[22]==32&&j[23]==32))throw"unexpected SQL3 header";
var n={PV:fd.AP(j,0,15),OH:fd.oN(j,16),adt:fd.St(j,24),size:fd.St(j,28),a5Z:fd.St(j,32),akF:fd.St(j,36),aty:fd.St(j,40),anF:fd.St(j,44),a9y:fd.St(j,48),atU:fd.St(j,52),ayq:fd.St(j,56),a6F:fd.St(j,60),aao:fd.St(j,64)!=0,aAD:fd.St(j,68),a9M:fd.St(j,92),avX:fd.St(j,96)};
if(n.OH==1)n.OH=65536;if(n.ayq!=1)throw"unsupported text encoding "+n.ayq;return n},aqK:function(j,n){return j[n]<<16|j[n+1]<<8|j[n+2]},aBm:function(j,n){var Q=fd.aqK(j,n),a=Q&8388608;
return a?-(16777215-Q+1):Q},aik:function(j,n){fd.Pp[0]=j[n];return fd.a9_[0]},q_:function(j,n){var Q=fd.Pp;
for(var v=0;v<4;v++)Q[v]=j[n+3-v];return fd.aHs[0]},TY:function(j,n){var Q=fd.Pp;Q[0]=j[n+1];Q[1]=j[n];
return fd.anf[0]},oN:function(j,n){return j[n]<<8|j[n+1]},St:function(j,n){var Q=fd.Pp;for(var v=0;v<4;
v++)Q[v]=j[n+3-v];return fd.aD8[0]},aqn:function(j,n){var Q=fd.Pp;for(var v=0;v<8;v++)Q[v]=j[n+7-v];
return fd.ai_[0]},ln:function(j,n){var Q=n,dv=0;while(!0){var a=j[n];n++;dv=dv*128+(a&127);if(a<128)break}return{n8:dv,tq:n-Q}},AP:function(j,n,Q){var a="";
for(var v=0;v<Q;v++)a+=String.fromCharCode(j[n+v]);return a},Cl:function(j,n,Q){var a="";for(var v=0;
v<Q;v++)a+="%"+fd.a7w(j[n+v].toString(16));try{a=decodeURIComponent(a);return a}catch(bY){return a}},D1:function(j,n,Q,a,B){if(B!=0&&(j[n+B-1]==null||Q[a+B-1]==null)){console.log(n,a,B);
throw"e"}for(var v=0;v<B;v++)Q[a+v]=j[n+v]},a7w:function(dv){return dv.length<2?"0"+dv:dv}};fd.Pp=new Uint8Array(8);
fd.a9_=new Int8Array(fd.Pp.buffer);fd.anf=new Int16Array(fd.Pp.buffer);fd.aHs=new Int32Array(fd.Pp.buffer);
fd.aD8=new Uint32Array(fd.Pp.buffer);fd.ai_=new Float64Array(fd.Pp.buffer);fd.apc=function(j,n){var Q=j[0],a={};
for(var v=0;v<Q.length;v++){var B=Q[v],m=B[1];if(B[0]!="table")continue;var R=B[4];R=R.slice(R.indexOf("(")+1,R.indexOf(")"));
R=R.split(",");for(var q=0;q<R.length;q++){var U=R[q].trim().split(" ")[0];if(n&&U.startsWith(m))U=U.slice(m.length);
R[q]=U}var l=a[m]=[],b=j[B[3]];for(var q=0;q<b.length;q++){var D=b[q],c={};l.push(c);for(var _=0;_<R.length;
_++){if(c[R[_]]!=null)throw"e";c[R[_]]=D[_]}}}return a};function fs(j,n,Q){this.Xz=j;this.l2=n;this.aAp=Q;
this.HV=new eE(0,0);this.W2=-1;this.QA=0;this.tZ=0;this.lH=new b4;this.CR=[];this.ua=null;this.aBU=null;
this.lW=null;this.M6=null;this.SY=null;this.adN=null}fs.prototype.StartPage=function(j,n,Q,a,B){var m=this.l2,R=m.P8(),q=1,U=(Q-j)*(a-n);
if(B!=null)U=B;while(U*R*R/(q*q)>2*8192*8192)q++;m.scale(1/q,1/q);this.aBU=[j,n,Q,a];var q=m.P8();j=Math.round(j*q);
n=Math.round(n*q);Q=Math.round(Q*q);a=Math.round(a*q);var l=this.Xz,b=this.lW;if(b==null){m.Qr=-j}else{var D=b[2]-b[0]+30,c=Math.round(Q-j)+30;
if(this.HV.x+D+c>8192){m.Qr=-j;this.HV.x=0;this.HV.y+=this.tZ+120;this.tZ=0}else{m.Qr+=D;this.HV.x+=D}}m.dE=this.HV.y+(this.aAp?a:-n);
this.tZ=Math.max(this.tZ,Math.round(a-n));this.lW=[j,n,Q,a];this.agz=[];l.T.push(l.v4())};fs.prototype.StartTGroup=function(j){this.XV();
var n=this.Xz;n.T.push(n.v4());var Q=fs.Lb[j.bmode];if(Q==null)Q="norm";var a=n.JL();a.kw("<Group>");
a.add.lsct=fM.ko;a.TM=Q=="norm"?"pass":Q;a.G$=24;a.wT=Math.round(255*j.ca);this.agz.push(a)};fs.prototype.EndTGroup=function(){this.Xz.T.push(this.agz.pop())};
fs.prototype.a6z=function(){var j=this.Xz,n=j.T[j.T.length-1];return n};fs.prototype.aHF=function(){var j=this.Xz,n=j.JL();
n.kw("Path "+j.T.length);this.Xz.T.push(n);n.G$|=16;n.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}};
n.add.vmsk=new f.hx;n.add.vstk=g8.o0.cL();return n};fs.prototype.Ns=function(j){var n={g:j.crds,rZ:j.cmds},Q=K.c.TW(n,!1);
K.R.fK(Q,this.l2);return Q};fs.a9d=function(j,n){for(var v=0;v<j.length;v++)if(j[v].H_!=null)j[v].H_=n};
fs.bh=function(j){return K.Gp.Db({n:j[0]*255,i:j[1]*255,b:j[2]*255})};fs.fv=function(j){return new j8(j[0],j[1],j[2],j[3],j[4],j[5])};
fs.prototype.Stroke=function(j){if(this.W2!=-1&&this.W2!=this.QA)return;if(j.pth.cmds.length<=1)return;
var n=this.Ns(j.pth),R=null;if(n.length<=2)return;this.lN(j);fs.a9d(n,-1);n[2].H_=1;var Q=this.a6z(),a=g8.o0.cL(null,!0),B=j.ctm,m={};
fs.atT(m,j);g8.o0.write(a,m,Math.sqrt(Math.abs(B[0]*B[3]-B[1]*B[2]))*this.l2.P8());if(!(j.COLR instanceof Array)){R=K.c.Tv(j.pth.crds);
var q=K.c.yc(R);K.c.C(q.g,this.l2,q.g);R=K.c.Tv(q.g)}var U=fs.aK(j.COLR,this.l2,n),l=["SoFi","GrFl","patternFill"].indexOf(U.w),b=[g8.WE,g8.Kp,g8._$][l],D=a.strokeStyleContent.v={classID:g8.o0.TF[l]};
for(var v=0;v<b.length;v++)D[b[v]]=U.J.v[b[v]];var c=Q!=null&&Q.add.vmsk!=null&&!Q.bx(),_=c&&!Q.add.vstk.fillEnabled.v&&JSON.stringify(a)==Q.add.vsjs;
if(_){var p=Q.add.vmsk.z;for(var v=2;v<n.length;v++)p.push(n[v])}else{var X=c&&!Q.add.vstk.strokeEnabled.v&&f.hx.anJ(Q.add.vmsk.z,n,!0);
if(X){Q.add.vstk=a;a.fillEnabled.v=!0}else{Q=this.aHF();Q.add.vmsk.z=n;Q.add.vstk=a;Q.add.vsjs=JSON.stringify(a)}}};
fs.atT=function(j,n){j.Sn=n.lwidth;j.sX=n.mlimit;j.SH=n.dash.slice(0);j.oZ=n.doff;j.aO=n.ljoin;j.th=n.lcap;
j.eK=1};fs.Dd=function(j,n){n.lwidth=j.Sn*(j.eK==2?2:1);n.mlimit=j.sX;n.doff=j.oZ;n.ljoin=j.aO;n.lcap=j.th;
n.sal=j.eK;n.dash=j.SH.slice(0);if(n.dash.length==1&&n.dash[0]==0)n.dash=[]};fs.prototype.Fill=function(j,n){if(this.W2!=-1&&this.W2!=this.QA)return;
if(j.ca==0)return;var Q=j.pth.cmds;if(Q.length==0)return;if(Q.length==2&&JSON.stringify(Q)=="[\"M\",\"L\"]")return;
var a=K.c.Tv(j.pth.crds),B=K.c.Tv(j.cpth.crds);if(a.uf(B).ke())return;var m=j.pth,R=UDOC.G.isBox(m,[a.x,a.y,a.x+a.q,a.y+a._]),q=j.cpth,U=UDOC.G.isBox(q,[B.x,B.y,B.x+B.q,B.y+B._]);
if(R&&U&&a.$()>B.$()*2){var l=a.uf(B),b=l.x,D=l.y,c=b+l.q,_=D+l._;m={cmds:["M","L","L","L","Z"],crds:[b,D,c,D,c,_,b,_]};
a=l}else if(this.M6==null&&UDOC.G.isBox(m,[a.x,a.y,a.x+a.q,a.y+a._])&&a.BJ(B)){m=q;a=B}else this.lN(j);
var p=this.Ns(m),X=fs.aK(j.colr,this.l2,p),g=this.a6z(),F=g!=null&&g.wT==Math.round(255*j.ca)&&g.add.vstk!=null&&!g.add.vstk.strokeEnabled.v&&g.add.SoCo&&X.w=="SoFi"&&JSON.stringify(g.add.SoCo.Clr.v)==JSON.stringify(X.J.v.Clr.v);
if(F){var k=!1;for(var v=0;v<p.length;v++){if(p[v].H_==0||p[v].H_==2)k=!0}if(k){var I=K.c.Tv(K.R.FZ(g.add.vmsk.z)),e=K.c.Tv(K.R.FZ(p));
F=I.uf(e).ke()}}if(F){var H=g.add.vmsk.z;for(var v=2;v<p.length;v++)H.push(p[v])}else{g=this.aHF();delete g.add.SoCo;
g.add.vmsk.z=f.hx.wX(p);fs.N8(j.colr,g,this.l2,p);fs.ar2(j,g)}};fs.N8=function(j,n,Q,a){var B=fs.aK(j,Q,a),m=null,R=null;
n.add.vstk.fillEnabled.v=!0;if(B.w=="SoFi"){m="SoCo";R=g8.WE}if(B.w=="GrFl"){m="GdFl";R=g8.Kp}if(B.w=="patternFill"){m="PtFl";
R=g8._$}if(m!=null){n.add[m]={classID:"null"};for(var v=0;v<R.length;v++){var q=R[v];n.add[m][q]=B.J.v[q]}if(m=="GdFl")n.add._fstl=B.vg}};
fs.prototype.lN=function(j){var n=this.Xz,Q=j.cpth,a=Q.cmds.join(""),B=Q.crds,m=a+" "+B.join(","),R=UDOC.G.isBox(Q,this.aBU);
if(R&&this.M6==null)return;if(m==this.M6)return;this.XV();if(!R){this.M6=m;n.T.push(n.v4());var q=n.JL();
q.kw("Mask");q.add.lsct=fM.NO;q.TM="pass";q.G$=24;var U=q.add.vmsk=new f.hx;U.z=this.Ns(j.cpth);if(UDOC.G.isBox(Q)){this.SY=K.R.sR(U.z);
this.SY.VT(3,3)}else this.SY=null;this.adN=q}};fs.prototype.XV=function(){var j=this.Xz;if(this.M6!=null){var n=j.T.length-1,v=n,Q=!1;
while(v>=0&&j.T[v].add.lsct!=fM.KB)v--;var a=this.SY;if(a){var B=new b4,m=n;while(m>v){B=j.T[m].jL(this.Xz,!1,!0);
m--}Q=a.BJ(B)}if(Q){this.CR.splice(v,1);j.T.splice(v,1)}else{j.T.push(this.adN)}this.M6=null}};fs.aK=function(j,n,Q){var a,B,m;
if(j.length!=null){a="SoFi";var R=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);B={t:"Objc",v:R};B.v.Clr.v=fs.bh(j)}else{var q=fs.ahH(j,n,Q);
a="GrFl";B={t:"Objc",v:g7.jF(q,Q)};m=q}return{w:a,J:B,vg:m}};fs.ahH=function(j,n,Q){var a=fs.fv(j.mat);
a.concat(n);var B=new eE(0,0),m=new eE(0,0),R=new eE,q=j.crds,U=j.typ=="rad"?1:0;if(U==1){var l=.7;R.x=q[0];
R.y=q[1];B.x=q[3];B.y=q[4];m.x=B.x;m.y=B.y;m.x+=q[5]}else{B.x=q[0];B.y=q[1];m.x=q[2];m.y=q[3];R.OI(B.x,B.y)}a=g7.dV(B,m,a);
var b=g7.J7(U,a,Q);g7.HJ(b,B,m,R);b[1]=K.u(j.grad);return b};fs.prototype.PutText=function(j,n,Q,a){var B=n.charCodeAt(0),_=null;
if(this.W2!=-1&&this.W2!=this.QA)return;if(n.length==0||n.length==1&&(B==0||B==8203))return;this.lN(j);
var m=this.Xz,R=j.font,q=Math.round(255*j.ca);if(j.font.Tmode==3)q=0;var U=fs.fv(j.ctm);U.concat(this.l2);
var l=fs.fv(R.Tm);l.concat(U);var b=l.P8(),D=new j8(1/b,0,0,-1/b,0,0);D.concat(l);var c=R.Tfs*b,p=m.T.length-1;
while(p>=0&&m.T[p].add.TySh==null)p--;if(D.b*D.b+D.RK*D.RK<.001&&a==null&&p>=0&&m.T[p].add.TySh&&m.T[p].wT==q){var X=m.T[p],g=this.CR[p],F=X.add.TySh.C,k=(D.Qr-g.aFD)/c,I=Math.abs(k),e=F.NX==D.NX&&F.b==D.b&&F.RK==D.RK&&F.zP==D.zP,H=D.dE-g.oS,A=e&&Math.abs(H)<1e-5&&I<1;
if(A){_=X;if(k>.2&&[".",",","?",":","!"].indexOf(n)==-1){n=" "+n;Q+=.5}}else if(e&&0<H&&H<c*1.7&&g.aln==c){_=X;
this.aDw(g);g.oS=D.dE;g.ayU=D.Qr;n="\n"+n}}if(_==null){p=m.T.length;this.CR[p]={q9:[],s8:0,aFD:D.Qr,oS:D.dE,ayU:D.Qr,GS:"",aln:c};
_=m.JL();m.T.push(_);_.add.lnsr="rend";_.add.TySh=eR.N0(0,0);_.add.TySh.C=D}var g=this.CR[p];g.s8+=Q*c;
g.GS+=n;g.aFD=D.Qr+Q*c;var Z=_.add.TySh.Kt,J=eR.yi(Z);if(a){eR.dY(Z,1);var s=[0,0,Math.ceil(a[0]*b),Math.ceil(a[1]*b)];
eR.gG(Z,s)}var E=J.length-1,z=E+n.length;eR.Yr(Z,E,n);if(this.ua==null)this.ua=eR.JB(Z,E,E);var h=this.ua;
h.RW.FontSize=Math.round(c);h.RW.Tracking=Math.round(R.Tc*100);h.RW.Underline=R.Tun==1;h.RW.FillColor={Type:1,Values:[1,j.colr[0],j.colr[1],j.colr[2]]};
if(R.Tal!=null)h.w$.Justification=R.Tal;if(g.q9.length!=0){h.RW.AutoLeading=!1;h.RW.Leading=g.oS-g.q9[g.q9.length-1].y}var d=R.Tf;
d=d.replace(/#2B/g,"+");d=d.replace(/#2C/g,"-");d=d.split("+").pop();var Y={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(Y[d])d=Y[d];eR.em(h,d);eR.A0(Z,E,z-1,h);_.YD();_.wT=q};fs.prototype.aDw=function(j){j.q9.push({Uw:j.s8,xE:j.GS.slice(j.q9.length==0?0:1)+"\n",x:j.ayU,y:j.oS,bD:j.aln});
j.s8=0;j.GS=""};fs.prototype.vQ=function(j,n,Q){return new Uint8Array(fj.Mi("PNG").OR([[j.buffer,0]],n,Q))};
fs.prototype.PutImage=function(j,n,Q,a,B,m,R){if(this.W2!=-1&&this.W2!=this.QA)return;var q=this.Xz,U=j.font.Tmode;
if(U==7&&q.T[q.T.length-1].add.TySh){return}this.lN(j);var l=fs.fv(j.ctm);l.concat(this.l2);var b=new j8(1/Q,0,0,-1/a,0,1);
b.concat(l);l=b;n=fs.a0R(n,Q,a,m,!1);if(B)B=fs.a0R(B,Q,a,R,!0);if(B==null){if(n.length==Q*a*4)n=this.vQ(n,Q,a)}else{n=this.am2(n,Q,a,m,!1);
B=this.am2(B,Q,a,R,!0);var D=K.U(Q*a);K._W(B,D,0);K.wj(D,n,3);n=this.vQ(n,Q,a)}var c=q.$D(n,"Bitmap",0,0),_=new b4(0,0,Q,a),p=K.c.yc(_).g;
K.c.C(p,l,p);c.add.SoLd.Trnf=N.IP.ob(p);c.add.SoLd.nonAffineTransform=N.IP.ob(p);c.pS(q,!1);fs.ar2(j,c);
q.T.push(c)};fs.ar2=function(j,n){n.wT=Math.round(255*j.ca);var Q=fs.Lb[j.bmode];if(Q==null)console.log("Unknown blend mode",Q);
else n.TM=Q};fs.Lb={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
fs.a1h=function(j){if(j=="pass")j="norm";for(var n in fs.Lb)if(fs.Lb[n]==j)return n;return"/Normal"};
fs.a0R=function(j,n,Q,a,B){var m=fj.Ot(j.buffer);if(m=="jpg"){try{j=new Uint8Array(fj.Mi("JPG").axM(j.buffer))}catch(bY){j=new Uint8Array(n*Q*4)}}else if(m=="jb2"){j=new Uint8Array(fj.Mi("JPG").z5(j.buffer,a,B)[0].data)}else if(j.length!=n*Q*4){var R=new Uint8Array(n*Q*4),q=Math.ceil(n/8),U=new Uint8Array(Q*q);
UTIF.decode._decodeG4(j,0,j.length,U,0,n,1);var l=U[0]==(B?255:0);for(var b=0;b<Q;b++){var D=q*b;for(var c=0;
c<n;c++){var v=b*n+c,_=v*4,p=(U[D+(c>>3)]>>7-(c&7)&1)*255;if(l)p=255-p;R[_]=p;R[_+1]=p;R[_+2]=p;R[_+3]=255}}j=R}return j};
fs.prototype.am2=function(j,n,Q,a,B){if(j.length!=n*Q*4){var m=fj.Ot(j.buffer);if(m=="jb2")throw"e";
var R=fj.Mi(m);if(R==null||m=="tga")R=fj.Mi("jpg");j=new Uint8Array(R.z5(j,a,B)[0].data)}return j};fs.prototype.ShowPage=function(){var j=this.Xz;
this.QA++;var n=this.lW;this.XV();var Q=j.JL();j.T.push(Q);var a=new b4(Math.round(this.HV.x),Math.round(this.HV.y),Math.round(n[2]-n[0]),Math.round(n[3]-n[1]));
if(a.ke())a.q=a._=2e3;this.lH=this.lH.d_(a);Q.vn(a);Q.add.artb.artboardBackgroundType.v=1;Q.kw("Page "+this.QA);
Q.add.lsct=fM.NO;Q.TM="pass";Q.G$=24};fs.prototype.Print=function(j){console.log("Print:",j)};fs.prototype.Done=function(){var j=this.Xz;
if(this.QA==1)j.T[j.T.length-1].add.lsct=fM.ko;j.VV(this.QA);for(var v=0;v<j.T.length;v++){var n=j.T[v],Q=n.add.vmsk,a=n.add.TySh,B=this.CR[v];
n.sU();delete n.add.vsjs;if(Q){var m=!1;for(var R=0;R<Q.z.length;R++){var q=Q.z[R];if((q.w==0||q.w==3)&&q.length>32767)m=!0}if(m){j.T.splice(v,1);
v--;continue}}n.tI(j);if(a&&B&&B.q9.length!=0){this.aDw(B);var U=a.Kt,l=B.q9.length,b=B.q9[0],D=1e9,c=-1e9,A="";
for(var R=0;R<l;R++){var _=B.q9[R];D=Math.min(D,_.x);c=Math.max(c,_.x+_.Uw)}var p=[];for(var R=0;R<l;
R++){var _=B.q9[R],X=-1,g=b.bD*.1,F=Math.abs(_.x-D),k=Math.abs(_.x+_.Uw-c),I=Math.abs(F-k);if(I<g)X=2;
if(k<g){X=1;if(_.x!=D)if(R!=0&&B.q9[R-1].x==_.x||R!=l-1&&B.q9[R+1].x==_.x)X=-1}if(F<g)X=0;if(_.Uw==c-D)X=3;
p.push(X)}var e=[!1,!1,!1];for(var R=0;R<l;R++){var X=p[R];if(X==3)X=R==0?p[R+1]:p[R-1];if(X==3)X=0;
p[R]=X;e[X]=!0}var H=(c-D)*.05;if(e[0]&&!e[1])c+=H;if(!e[0]&&e[1])D-=H;if(!e[0]&&!e[1]){D-=H;c+=2*H}eR.dY(U,1);
a.C.dE-=b.bD*.7;a.C.Qr=Math.round(D);eR.gG(U,[0,0,Math.ceil(c-D),Math.ceil(B.q9[l-1].y-b.y+b.bD*2)]);
for(var R=0;R<l;R++){var _=B.q9[R],X=p[R],Z=0;if(X==-1){X=0;Z=Math.round(_.x-D)}var J=A.length,s=J+_.xE.length;
A+=_.xE;var E={hK:[],RW:{},w$:{Justification:X,StartIndent:Z}};eR.A0(a.Kt,J,s-1,E)}}if(a){var U=a.Kt;
eR.alR(U);var z=eR.yi(U).split("\n");for(var R=0;R<z.length-1;R++){var _=z[R],h=0;for(var d=0;d<_.length;
d++){var Y=_.charCodeAt(d);if(1473<=Y&&Y<=1524)h++}if(h>_.length/2){z[R]=_.split("").reverse().join("");
var C=U.EngineDict.ParagraphRun.RunArray[R].ParagraphSheet.Properties;C._Direction=1;C.Justification=eR.GP(C)}}eR.g$(U,z.join("\n"))}}j.HM=!0;
j.q=this.lH.q;j._=this.lH._;j.buffer=K.U(this.lH.$()*4)};var ca={};ca.e8=null;ca.zw=function(j,n,Q,a,B,m){var R=fL==0?new b4(0,0,j.q,j._):j.AF();
if(B==null)B=R.q;if(m==null)m=R._;ca.e8=j;var q=[[j.root,R,null]];if(fL==0&&j.add.artd){var U=j.root.children,l=[],b=!0;
for(var v=0;v<U.length;v++){var D=U[v].W,c=D.add.artb,_=null;if(c==null){b=!1;break}var p=c.artboardBackgroundType.v;
if(p!=1&&p!=3)_=D.$_();l.push([U[v],D.v_(),_])}if(b)q=l}if(fL==1){var X=j.add.arts;q=[];for(var v=0;
v<X.length;v++)q.push([j.root,K.c.so(X[v].wS),null])}var g=n[0];g=g.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
g=g.split(" ");var F=[];for(var v=0;v<g.length;v++){var k=g[v];if(k=="-"){var I=F.pop(),e=parseInt(g[v+1]);
while(I<e){F.push(I);I++}}else F.push(parseInt(k))}g=F;for(var v=0;v<g.length;v++)if(isNaN(g[v])||g[v]<1||g[v]>q.length){g.splice(v,1);
v--}var H=B/R.q,A=m/R._,Z=H*72/j.Mp,J=A*72/j.Mp,s=n[5];if(s==null)s=0;var E=72*s,z=72*s;for(var h=0;
h<q.length;h++){var v=h;if(n[2])v=q.length-1-h;if(g.length!=0&&g.indexOf(v+1)==-1)continue;var d=q[v][0],Y=q[v][1];
if(!d.W.VH())continue;var C=Math.round(Y.q*Z+2*E),i=Math.round(Y._*J+2*z);Q.StartPage(0,0,C,i);var M=UDOC.getState(),W=new j8;
W.translate(-Y.x,-Y.y-Y._);W.scale(Z,-J);W.translate(E,z);if(q[v][2]){var $=q[v][2],P=E*Z,O=z*J,G=P+Y.q*Z,t=O+Y._*J;
M.colr=[($>>>0&255)/255,($>>>8&255)/255,($>>>16&255)/255];M.pth={cmds:["M","L","L","L","Z"],crds:[P,O,G,O,G,t,P,t]};
Q.Fill(M)}if(fL==0&&n[3]){var y=K.U(Y.$()*4);K.EC(j.rd(),R,y,Y);var r=j.Tc();if(r)ICC.U.applyLUT(r[j.add.fcmy==1?5:3],r[2],y,y);
var u=fj.Mi("JPG").OR([[y.buffer]],Y.q,Y._,[n[1]]);y=new Uint8Array(u);var S=new j8;S.translate(Y.x,Y.y);
ca.MZ(M,Q,y,Y,S,W)}else{ca.H3(j,d,M,Q,W,Y,n,a);if(E!=0){var P=E,O=z,G=P+Y.q,t=O+Y._,w=G+E,dj=t+E;M.ca=1;
M.colr=[1,1,1];M.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,dj,w,dj,w,0,P,O,G,O,G,t,P,t]};
Q.Fill(M)}}if(n[6]){var o=[[0,0],[1,0],[1,1],[0,1]],T=50,i6=5,bH=T*.5,cg=i6*.5,bu=Y.q*72/j.Mp,hH=Y._*72/j.Mp;
M.colr=[.1,.1,.1];for(var dK in o){var d8=o[dK],d1=[dK==0||dK==3?-1:1,dK==0||dK==1?-1:1],gH=[E-bH+cg*d1[0]+d8[0]*bu,z-(d1[1]!=1?i6:0)+d8[1]*hH],kh=[E-(d1[0]!=1?i6:0)+d8[0]*bu,z-bH+cg*d1[1]+d8[1]*hH];
M.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[gH[0],gH[1],gH[0]+T,gH[1],gH[0]+T,gH[1]+i6,gH[0],gH[1]+i6,kh[0],kh[1],kh[0]+i6,kh[1],kh[0]+i6,kh[1]+T,kh[0],kh[1]+T]};
Q.Fill(M)}}var ay=j.XZ;for(var dO=0;dO<ay.length;dO++){var fy=ay[dO].v,Y=K.UH.uI(fy),bg=K.c.yc(Y).g;
K.c.C(bg,W,bg);var f4=K.c.Tv(bg);if(!new b4(0,0,C,i).BJ(f4))continue;if(Q.AddAnnot)Q.AddAnnot([f4.x,f4.y,f4.x+f4.q,f4.y+f4._],fy.url.v)}Q.ShowPage()}Q.Done();
ca.e8=null};ca.Pc=function(j){j=K.Gp.qF(j);return[j.n/255,j.i/255,j.b/255]};ca.H3=function(j,n,Q,a,B,m,R,q){var U=n.W,l=U.add.lsct,b=U.add.lmfx,e,H,Y,i=!1;
if(U.Le)return;var D=U.add.vmsk,c=U.add.vstk,_=U.add.TySh;if(fL==1&&!U.bx()&&!m.Ta(K.c.Tv(U.Mw())))return;
var p=n.children,X=p&&p.length!=0?p[p.length-1].W:null;if(fL==1&&X&&X.Le&&X.VH())D=X.add.vmsk;if(!U.VH())return;
var g=U.wT/255,F=U.add.iOpa!=null?U.add.iOpa/255:1;Q.bmode=fs.a1h(U.TM);var k=Q.ca;Q.ca=Q.CA=g*F;var I=b;
if(I)I=I.solidFillMulti.v[0];if(I)I=I.v;if(I&&!I.enab.v)I=null;var A=U.s;if(U.iI()&&(!U.bx()||U.xw&&U.xw.TG)){if(U.bx()){e=U.xw.TG;
A=U.xw.a4f}else{e=K.U(U.s.$());K._W(U.buffer,e,3)}H=gq.HU(b,U.add.fxrp,e,A,j,A).w;var Z=["DrSh","OrGl"];
if(F!=1||c&&!c.fillEnabled.v){var J=e.slice(0);K.m2(J);for(var v=0;v<Z.length;v++){var s=H[Z[v]];for(var E=0;
E<s.length;E++){var z=s[E],h=z.qc.O();h.x+=A.x;h.y+=A.y;K.XE(J,A,z.jB,h)}}}}if(H)ca.aig(U,e,A,H,Q,a,B,R,!0);
var d=gq.ajw(U,!1);if(d){a.StartTGroup(Q);Y=Q;Q=UDOC.getState()}var C=D&&!U.Oi(),M=U.add.GdFl;if(M&&M.Type.v.GrdT!="Lnr"&&M.Type.v.GrdT!="Rdl"){i=!0}if(C){var W=K.c.Qn(D.z,!1),$=W.TI;
K.c.C($.g,B,$.g);Q.cpth={cmds:$.rZ,crds:$.g}}if(U.bx()){for(var v=0;v<n.children.length;v++)ca.H3(j,n.children[v],Q,a,B,m,R,q)}else if(U.Oi()&&U.add.PtFl==null&&!i){var P=D?D.z:K.R.hi.Rect(0,0,j.q,j._),O=U.add.vstl,$,t;
if(O==null)O=hs.Xa(U.add,j);for(var v=0;v<2;v++){var G=v==0?O.vg:O.tY;if(G&&G.length==4)for(var E=0;
E<G[1].length;E++)G[1][E][1]=ca.Fk(G[1][E][1])}fs.Dd(O,Q);Q.lwidth*=B.P8();for(var v=0;v<Q.dash.length;
v++)Q.dash[v]*=B.P8();if(fL==0){var W=K.c.Qn(P,O.tY==null);$=W.TI;t=W.tA}if(fL==1){$=K.c.gb(P);t=D.H_}K.c.C($.g,B,$.g);
Q.pth={cmds:$.rZ,crds:$.g};for(var E=0;E<2;E++){var v=O.eK==2?1-E:E,y=v==0?O.vg:O.tY,r=null;if(y.length==0)continue;
else if(y.length==3)r=y;else{var u=g7.Kz(y,P);u.concat(B);var S=[0,0,1,0];if(y[0]==1){var w=y[2][5]*Math.PI/180,o=y[2][6];
S=[Math.cos(w)*o,-Math.sin(w)*o,0,0,0,1]}r={typ:["lin","rad"][y[0]],mat:[u.NX,u.b,u.RK,u.zP,u.Qr,u.dE],grad:K.u(y[1]),crds:S}}Q[v==0?"colr":"COLR"]=r;
a[v==0?"Fill":"Stroke"](Q,t!=0)}}else if(_&&R[4]){var T=_.Kt,i6=new bG(T,q,_.K7),$=ji.hr(i6,_,!0),bH=K.c.zU($),cg=null,c=gq.akT(b);
if(c){cg=g8.o0.N1(c);cg.tY=ca.Pc(c.strokeStyleContent.v.Clr.v);if(cg.eK==2)cg.Sn*=2}for(var bu in bH){var hH=parseInt(bu.slice(1,7),16),dK=0;
Q.colr=I?ca.Pc(I.Clr.v):ca.ajO(hH);var gH=bH[bu];K.c.C(gH.g,B,gH.g);gH=K.c.atX(gH);Q.pth={cmds:gH.rZ,crds:gH.g};
var O=cg?K.u(cg):null;if(bu.length>7)O=ji.aBT(bu.slice(7));if(O)O.Sn*=B.P8();if(O&&O.eK==2){Q.COLR=O.tY;
fs.Dd(O,Q);a.Stroke(Q)}a.Fill(Q);if(O&&O.eK!=2){Q.COLR=O.tY;fs.Dd(O,Q);a.Stroke(Q)}}}else if(_){var T=K.u(_.Kt);
eR.alR(T);var kh=_.C.O(),ay=new j8(1,0,0,-1,0,0);ay.concat(kh);ay.concat(B);var dO=eR.yi(T),i6=new bG(T,q,_.K7);
for(var v=0;v<i6.w$.length;v++){var bg=i6.w$[v];if(bg.qq.length==1&&bg.qq[0].XC)continue;for(var E=0;
E<bg.Gk.length;E++){var f4=bg.Gk[E],jb=bg.q8.y+f4.q8.y,jT=bg.qq[f4.start].start,jy=bg.qq[f4.end-1].end,cl=eR.a1R(T,jT,jy);
for(var hu=0;hu<cl.length;hu++){var aA=i6.Qd(jT),ko=cl[hu],ec=eR.JB(T,jT,jT),kK=ec.hK[ec.RW.Font].Name;
Q.font.Tf=kK;var bu=eR.qF(ec.RW.FillColor);Q.colr=I?ca.Pc(I.Clr.v):[bu.n/255,bu.i/255,bu.b/255];var cM=Q.font.Tfs=Math.round(ec.RW.FontSize),gG=dO.slice(jT,jT+ko);
if(ec.RW.FontCaps==2)gG=gG.toUpperCase();var u=new j8;u.translate(aA.SK.x,-jb);u.concat(ay);Q.ctm=[u.NX,u.b,u.RK,u.zP,u.Qr,u.dE];
a.PutText(Q,gG,0);for(var c2=0;c2<2;c2++){var a1=ec.RW[c2==0?"Strikethrough":"Underline"];if(!a1)continue;
var cs=i6.Qd(jT+ko-1),f7=c2==0?.27:-.2,j7=cM*f7,dz=cM*(f7+.07),dK=cs.SK.x+cs.SK.q-aA.SK.x,iA=[0,j7,dK,j7,dK,dz,0,dz];
K.c.C(iA,u,iA);Q.pth={cmds:["M","L","L","L","Z"],crds:iA};a.Fill(Q)}Q.ctm=[1,0,0,1,0,0];jT+=ko}}}}else if(!U.s.ke()||fL==1){var kk,fA,g5=!1,h$=new j8,hL=U.add.SoLd,ha=!0;
if(hL)ha=K.D.HF(K.D.ZM(N.IP.lw(hL.Trnf)));var jl=j.Tc();if(hL&&ha&&jl==null){var fI=hL.Idnt.v,aE=j.x3(fI,hL.Crop?hL.Crop.v:null),fV="";
if(aE==null)return;var es=aE.LQ,kN=fj.Ot(aE.raw.buffer);if(R[7].indexOf(kN)!=-1){kk=aE.raw;g5=!0}else kk=es[0];
fA=es[1];h$=K.D.Uu(hL)}else{kk=U.buffer;fA=U.s;h$.translate(fA.x,fA.y);if(jl){kk=kk.slice(0);ICC.U.applyLUT(jl[j.add.fcmy==1?5:3],jl[2],kk,kk)}if(K.gy(kk,fA.q,fA._)&&R[7]&&R[7].indexOf("jpg")!=-1){var jU=fj.Mi("JPG").OR([[kk.buffer]],fA.q,fA._,[R[1]]);
kk=new Uint8Array(jU);g5=!0}}if(I&&!g5)kk=gq.av6(kk,I,fA);ca.MZ(Q,a,kk,fA,h$,B);if(I&&g5){var iA=[0,0,fA.q,0,fA.q,fA._,0,fA._];
K.c.C(iA,h$,iA);K.c.C(iA,B,iA);var c$=K.u(Q);c$.ca=I.Opct.v.val/100;c$.pth={cmds:["M","L","L","L","Z"],crds:iA};
c$.colr=ca.Pc(I.Clr.v);a.Fill(c$)}}if(C)Q.cpth=null;if(d){a.EndTGroup();Q=Y}Q.ca=Q.CA=k;if(H)ca.aig(U,e,A,H,Q,a,B,R,!1)};
ca.Fk=function(j){var n=ca.e8;if(n==null)return j;var Q=n.Tc();if(Q&&n.add.fcmy){return K.dm(K.zd(j)).slice(0,3)}return j};
ca.Pc=function(j){j=K.Gp.qF(j);return ca.Fk([j.n/255,j.i/255,j.b/255])};ca.ajO=function(j){return ca.Fk([(j>>>16&255)/255,(j>>>8&255)/255,(j&255)/255])};
ca.aig=function(j,n,Q,a,B,m,R,q,U){var l=Q.O(),b=n;if(j.add.TySh&&!q[3]&&!q[4])return;var D=B.ca,c=B.bmode;
for(var v=g8.order.length-1;v>=0;v--){var _=g8.order[v];if(_=="GrFl"||_=="SoFi")continue;if((j.add.vmsk||j.add.TySh)&&_=="FrFX")continue;
var p=a[_],X=v>7||_=="FrFX";if(X!=U)continue;for(var g=0;g<p.length;g++){var F=p[g];if(F.qc==null)F=F.py?F.py:F.uG;
if(F==null)continue;var k=F.qc.O();k.offset(l.x,l.y);if(!X){if(!l.BJ(k)){var I=l.d_(k),e=K.U(I.$());
K.Gc(b,l,e,I);b=e;l=I}K.XE(b,l,F.jB,k)}if(X&&_=="FrFX"&&F._w)K.XE(F._w,k,F.jB,k);var H=new j8;H.translate(k.x,k.y);
B.ca=F.Tg;B.bmode=fs.a1h(F.Er);ca.MZ(B,m,F.jB,k,H,R)}}B.ca=D;B.bmode=c};ca.MZ=function(j,n,Q,a,B,m){var R=new j8;
R.scale(a.q,-a._);R.translate(0,a._);R.concat(B);R.concat(m);j.ctm=[R.NX,R.b,R.RK,R.zP,R.Qr,R.dE];n.PutImage(j,Q,a.q,a._);
j.ctm=[1,0,0,1,0,0]};var c8={};c8.by=function(j){var n=new Uint8Array(j);return c8.wY(n,0)};c8.wY=function(j,n){var Q=L.St,a=L.AP,B={A8:a(j,n,4),k:n+8,size:Q(j,n+4)},m=B.A8=="FORM"||B.A8=="FOR4"||B.A8=="LIST"||B.A8=="CAT ";
if(m)B.TF=a(j,n+8,4);if(B.size<0||B.k+B.size>j.length)throw"e";if(m){B.sub=[];n+=12;var R=B.k+B.size;
while(n<R){var q=c8.wY(j,n);B.sub.push(q);var U=q.size&1,l=q.size&3;if(B.A8=="FOR4")U=l==0?0:4-l;n+=8+q.size+U}}return B};
var d4={};d4.by=function(j,n){var Q=new Uint8Array(j);return d4.wY(Q,0,n)};d4.wY=function(j,n,Q){var a=L.vS,B=L.AP,m={A8:B(j,n,4),k:n+8,size:a(j,n+4)};
if(Q&&Q[m.size]!=null)m.size=Q[m.size];if(m.A8=="RIFF"||m.A8=="LIST"){m.TF=B(j,n+8,4)}if(m.size<0||m.k+m.size>j.length)throw"e";
if(m.A8=="RIFF"||m.A8=="LIST"&&(m.TF!="cmpr"&&m.TF!="stlt")){m.sub=[];n+=12;var R=m.k+m.size;while(n<R){var q=d4.wY(j,n,Q);
m.sub.push(q);n+=8+q.size+(q.size&1)}}return m};var f3=function(){function j(S,w){var dj=null;if(S.sub==null)return dj;
for(var v=0;v<S.sub.length;v++){var o=S.sub[v];if(o.A8==w||o.TF==w)dj=o}return dj}function n(S){if(S==32)return 300;
else if(S<49)return 0;else if(S<58)return 100*(S-48);else if(S<65)return 0;return 100*(S-55)}var Q;function a(S,w){var dj=new Uint8Array(S);
w.HM=!0;Q={};var o=L.AP(dj,0,2);if(o=="WL"){alert("Unsupported CDR version")}else{var T,i6,bH,hH,bg=300,jT=0;
if(o=="PK"){i6=UZIP.parse(dj);if(i6["content/root.dat"]){dj=i6["content/root.dat"];bH=L.Cl(i6["content/dataFileList.dat"]).split("\n")}else{dj=i6["content/riffData.cdr"];
i6=null}}T=d4.by(dj.buffer);console.log(T);var cg=n(dj[11]),bu={data:dj,k:0,Xe:cg};bu.mX=bu.Xe<600?16:32;
J(dj,bu,bH,i6,T.sub,0);var dK=[];if(i6){hH=j(T,"doc ");B(hH);var d8=T.sub;for(var v=0;v<d8.length;v++)if(d8[v].TF=="page")dK.push(d8[v]);
dK=dK.slice(1)}else if(T.sub[3]&&T.sub[3].A8=="pack"){alert("We dont support this version of CDR files");
return}else if(j(T,"cmpr")==null){hH=j(T,"page");dK.push(hH);if(j(hH,"mcfg")==null){hH=j(T,"doc ");B(hH);
dK=[];var d8=T.sub;for(var v=0;v<d8.length;v++)if(d8[v].TF=="page")dK.push(d8[v]);dK=dK.slice(1)}}else{var d1=j(T,"cmpr").sub;
hH=d1[0];dK=[d1.slice(1)[1]];if(j(hH,"filt"))B(hH)}var gH=j(hH,"mcfg").J,kh=gH.ar9,ay=kh.x*.1,dO=kh.x*dK.length+ay*(dK.length-1),fy=kh.y;
bg/=dp.Gb(new b4(0,0,Math.round(dO*bg),Math.round(fy*bg)),8192*8192);var f4=Math.round(dO*bg),jb=Math.round(fy*bg);
w.q=f4;w._=jb;w.buffer=K.U(w.q*w._*4);for(var v=0;v<dK.length;v++){var jy=new j8(bg,0,0,-bg,kh.x*bg/2+jT,kh.y*bg/2);
m(dK[v],hH,w,jy);var cl=w.T[w.T.length-1];cl.vn(new b4(Math.round(jT),0,Math.round(kh.x*bg),Math.round(kh.y*bg)));
cl.kw("Page "+(v+1));jT+=kh.x*bg+ay*bg}w.VV(dK.length)}}function B(S){var w=j(S,"filt").sub,dj=j(S,"otlt").sub,o=j(S,"fntt");
if(o)o=o.sub;S.Rq={};for(var v=0;v<w.length;v++)S.Rq[w[v].sub[0].J.id]=w[v].sub[0].J;S.rT={};for(var v=0;
v<dj.length;v++)S.rT[dj[v].J.id]=dj[v].J;if(o){S.fonts={};for(var v=0;v<o.length;v++)S.fonts[o[v].J.id]=o[v].J}}function m(S,w,dj,o){var T=S.TF?S.TF:S.A8,i6=j(S,"lgob"),bH=j(S,"txsm"),cg=null,bu=null;
if(i6){cg=j(i6,"trfl");bu=j(i6,"loda")}else if(j(S,"lobj"))bu=j(S,"lobj");var hH=cg&&cg.sub[0].uS?cg.sub[0].uS.O():new j8;
hH.concat(o);var dK=dj.JL();if(T=="page"||T=="layr"||T=="grp "){dK.kw((T=="page"?"Page":"Group")+" "+dj.T.length);
dK.add.lsct=fM.ko;dK.TM="pass";dK.G$=24;var d8=[];if(T=="page")d8=j(S,"gobj").sub;if(T=="layr")d8=S.sub.slice(2);
if(T=="grp ")d8=S.sub.slice(4);if(d8.length==0)return;dj.T.push(dj.v4());for(var v=d8.length-1;v>=0;
v--)m(d8[v],w,dj,o)}else if(T=="obj "&&bu.J&&bu.J.path){var d1,gH;if(w.Rq){d1=w.Rq[bu.J.aDB];gH=w.rT[bu.J.abi]}if(d1==null)d1=bu.J.a8u;
if(gH==null)gH=bu.J.amU;dK=R(dj,bu.J.path,o,hH,d1,gH)}else if(T=="obj "&&bH){var kh=bu.J.anW,ay=bu.J.ay5,bg="";
dK.add.TySh=eR.N0(0,0);var dO=hH.P8();dK.add.TySh.C.translate(hH.Qr,hH.dE);var fy=dK.add.TySh.Kt,f4=bH.J._S;
if(f4==null)return;for(var v=0;v<f4.length;v++){var jb=f4[v],jT=bg.length;bg+=jb.text+"\n";eR.Yr(fy,jT,jb.text+"\n");
if(jb.text=="")continue;var jy=q(jb.at_,w),cl=jy.afr,hu=w.fonts[cl.at7],aA=eR.JB(fy,jT,bg.length);if(jy.align==3)aA.w$.Justification=1;
else if(jy.align==2)aA.w$.Justification=2;else aA.w$.Justification=0;var ko=jy.fill.J;if(ko==null)ko=[0,0,0];
if(hu.gL)eR.em(aA,hu.gL);aA.RW.FillColor={Type:1,Values:[1,ko[0],ko[1],ko[2]]};aA.RW.FontSize=Math.round(cl.fontSize*o.P8());
eR.A0(fy,jT,bg.length-1,aA)}if(ay){eR.dY(fy,0)}else{eR.dY(fy,1);eR.gG(fy,[0,0,Math.round(kh.x*hH.NX),Math.round(-kh.y*hH.zP)])}dK.kw(bg.slice(0,10))}else{dK=null}if(dK)dj.T.push(dK)}function R(S,w,dj,o,T,i6){var bH=S.JL();
bH.kw("Object "+S.T.length);bH.G$|=16;var cg=bH.add.vstk=g8.o0.cL();bH.add.vmsk=new f.hx;bH.add.vmsk.z=K.c.TW(w,!1);
K.R.fK(bH.add.vmsk.z,o);var bu=T&&T.w!=0,hH=bu&&T.J!=null?T.J:[0,0,0];fs.N8(hH,bH,o,bH.add.vmsk.z);cg.fillEnabled.v=bu;
if(i6&&i6.a0U!=1){cg.strokeEnabled.v=!0;cg.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var dK=cg.strokeStyleLineWidth.v.val=i6.lineWidth*dj.P8(),d8=i6.color;cg.strokeStyleContent.v.Clr.v=K.Gp.Db({n:d8[0]*255,i:d8[1]*255,b:d8[2]*255});
if(i6.SH.length!=0)cg.strokeStyleLineDashSet.v=gq.l7(i6.SH,4/dK);var d1=i6.azw,gH=i6.ay6;if(gH!=0){var kh=w.g,v=kh.length-4,ay=kh[v],dO=kh[v+1],fy=kh[v+2],bg=kh[v+3],f4=new j8;
f4.scale(.15,.15);f4.rotate(-Math.PI/2+Math.atan2(bg-dO,-(fy-ay)));f4.translate(fy,bg);f4.concat(o);
if(Q[gH]){var jb=R(S,Q[gH],dj,f4,d8,null);S.T.push(jb)}}}bH.sU();bH.tI(S);return bH}function q(S,w){var dj=j(w,"stlt").J,o=K.u(dj.eE[S]);
if(o.U_!=0){var T=dj.eE[o.U_];for(var i6 in T)if(o[i6]==null||o[i6]==0)o[i6]=T[i6];delete o.U_}o.align=dj.avq[o.atH];
o.fill=w.Rq[dj.aoq[o.a7u]];o.aop=w.rT[dj.a46[o.auf]];o.afr=dj.aGM[o.a9g];return o}function U(v){var dv=v.data[v.k];
v.k+=1;return dv}function l(v){var dv=L.rv(v.data,v.k);v.k+=2;return dv}function b(v){var dv=L.vS(v.data,v.k);
v.k+=4;return dv}function D(v){var dv=L.vS(v.data,v.k);v.k+=8;return dv}function c(v){var dv=L.FT(v.data,v.k);
v.k+=2;return dv}function _(v){var dv=L.J9(v.data,v.k);v.k+=4;return dv}function p(v){var dv=L._t(v.data,v.k);
v.k+=8;return dv}function X(v){if(v.k>=v.data.length)throw"e";var S=0;while(v.data[v.k+S]!=0)S++;var w=L.AP(v.data,v.k,S);
v.k+=S+1;return w}function g(v){var S="";while(!0){var w=l(v);if(w==0)break;S+=String.fromCharCode(w)}return S}function F(S){var w=b(S),dj=(w&4294901760)>>>16,o=(w&65535)/65535;
return dj+o}function k(S){if(S.Xe<600)return Math.PI*c(S)/1800;return Math.PI*_(S)/18e7}function I(S){if(S.Xe<1500)return e(S);
else return p(S)/254e3}function e(S){if(S.Xe<600)return c(S)/1e3;else return _(S)/254e3}function H(S){if(S.Xe<600)return l(S);
else return b(S)}function A(S){if(S.Xe<600)return c(S);else return _(S)}function Z(S,w,dj){var o="";
for(var v=0;v<dj;v++){for(var T=0;T<w;T+=4){var dv=L.vS(S.data,S.k+v*w+T);o+=(dv<500?dv:dv)+","}o+="\n"}return o}function J(S,w,dj,o,T,i6){var bH,cg,bu;
for(var hH=0;hH<T.length;hH++){var dK=w.Xe,d8=T[hH];w.data=S;w.k=d8.k+(d8.A8=="LIST"?4:0);if(o&&d8.sub==null){bH=b(w);
cg=b(w);bu=b(w);var d1=l(w);if(d1!=0&&d1!=768)throw"e";var gH=l(w);if(gH>32)throw"e";w.k-=16;if(bH!=4294967295){w.data=o["content/data/"+dj[bH]];
w.k=bu}}if(d8.A8=="vrsn"){if(d8.size==16)w.k+=8;var kh=l(w);w.Xe=kh;console.log("Version",kh);w.mX=kh<600?16:32}else if(d8.A8=="DISP"){}else if(d8.A8=="pack"){var ay=b(w),dO=L.AP(w.data,w.k,4),f4=0;
if(dO!="CPng")throw dO;var fy=new Uint8Array(w.data.buffer,w.k+8+2,d8.size-10-4),bg=pako.inflateRaw(fy);
d8.sub=[];while(f4<bg.length){var jb=d4.wY(bg,f4);f4=jb.k+jb.size;d8.sub.push(jb)}var jT={data:bg,k:0,Xe:dK,mX:w.mX};
J(bg,jT,dj,o,d8.sub,i6+1)}else if(d8.A8=="LIST"&&d8.TF=="cmpr"){var jy=b(w),cl=b(w),hu=b(w),ay=b(w),dO=L.AP(w.data,w.k,4),f4=0;
if(dO!="CPng")throw dO;var fy=new Uint8Array(w.data.buffer,w.k+8+2,jy-6-8),bg=pako.inflateRaw(fy);w.k+=jy;
fy=new Uint8Array(w.data.buffer,w.k+8+2);var aA=pako.inflateRaw(fy),ko=[];for(var ec=0;ec<aA.length;
ec+=4)ko.push(L.vS(aA,ec));d8.sub=[];while(f4<bg.length){var jb=d4.wY(bg,f4,ko);f4=jb.k+jb.size;d8.sub.push(jb)}var jT={data:bg,k:0,Xe:dK,mX:w.mX};
J(bg,jT,dj,o,d8.sub,i6+1)}else if(d8.A8=="LIST"&&d8.TF=="stlt"||d8.A8=="stlt"){if(bH==4294967295)return;
var kK=w.k,j7="",fV=32;d8.J={};var cM=b(w);if(cM==0)return;d8.J.aoq=M(w,dK>=1300);d8.J.a46=M(w);d8.J.aGM={};
var gG=b(w);for(var v=0;v<gG;v++){var c2=b(w);w.k+=dK<1e3?12:20;var a1=l(w),cs=l(w);w.k+=8;var f7=e(w);
w.k+=dK<1e3?12:20;d8.J.aGM[c2]={at7:a1,acG:cs,fontSize:f7}}d8.J.avq=M(w);var dz=b(w);j7+="Intervals\n"+Z(w,52,dz)+"\n";
w.k+=52*dz;var iA=b(w);j7+="Set5s\n"+Z(w,152,iA)+"\n";w.k+=152*iA;var kk=b(w);j7+="Tabs\n"+Z(w,784,kk)+"\n";
w.k+=784*kk;var fA=b(w);j7+="Bullets\n";for(var v=0;v<fA;v++){var g5=w.k,h$=b(w);w.k+=4*3;if(dK>1300)w.k+=4;
var hL=b(w);w.k+=4*5;if(dK>=1300){var ha=b(w);if(ha){if(b(w))w.k+=64;else w.k+=60}else w.k+=12}else{w.k+=20;
if(dK>=1e3)w.k+=8;if(b(w))w.k+=8;w.k+=8}var jl=w.k;w.k=g5;j7+=Z(w,jl-g5,1);w.k=jl}j7+="\n";var fI=b(w);
j7+="Indents\n";d8.J.aH$={};for(var v=0;v<fI;v++){var g5=w.k,aE=b(w),es={};w.k+=12;es.right=e(w);es.a89=e(w);
es.left=e(w);d8.J.aH$[aE]=es;var jl=w.k;w.k=g5;j7+=Z(w,jl-g5,1);w.k=jl}j7+="\n";var kN=b(w);if(dK>=1300)fV+=4;
j7+="Hypens\n"+Z(w,fV,kN)+"\n";w.k+=fV*kN;var jU=b(w);j7+="Dropcaps\n"+Z(w,28,jU)+"\n";w.k+=28*jU;if(dK>800){var c$=b(w);
j7+="Set11s\n"+Z(w,28,c$)+"\n";w.k+=12*c$}d8.J.eE={};for(var v=0;v<cM;v++){var iq=b(w);if(iq>3)throw iq;
var cz=b(w),h0={};h0.U_=b(w);w.k+=8;var fl=b(w);if(dK>=1200)fl*=2;w.k+=fl;h0.a7u=b(w);h0.auf=b(w);if(iq>1){h0.a9g=b(w);
h0.atH=b(w);h0.agX=b(w);h0.auZ=b(w);if(dK>800)h0.a58=b(w)}if(iq>2){h0.axA=b(w);h0.ajq=b(w);h0.aG0=b(w);
h0.aca=b(w);h0.acY=b(w)}d8.J.eE[cz]=h0}}else if(d8.A8=="LIST")J(S,w,dj,o,d8.sub,i6+1);else if(d8.A8=="txsm"){d8.J={};
if(dK<600)throw"e";if(dK<700)throw"e";if(dK>=1600){d8.J=i(w);return}if(dK>=1500)w.k+=37;else w.k+=36;
if(b(w)){if(dK<800)w.k+=32}if(dK<800)w.k+=4;d8.J.aeU=b(w);d8.J._S=[];w.k+=48;if(dK>=800){if(b(w)){w.k+=32;
if(dK>=1300)w.k+=8}}if(dK>=1500)w.k+=12;var iq=b(w),co=1,cC=!1;if(!iq){if(dK>=800)w.k+=4;if(dK>800)w.k+=2;
if(dK>=1400)w.k+=2;w.k+=24;if(dK<800)w.k+=8;co=b(w)}for(var ec=0;ec<co;ec++){var gr=b(w),v=0;if(dK>=1300&&iq)w.k++;
w.k++;var cM=b(w),eK=[];for(v=0;v<cM;v++){var kM=U(w),bn=0;U(w);var bM=U(w);if(dK>=800)bn=U(w);var h0={};
if(bM&1){h0.at7=l(w);var fT=l(w);if(fT)h0.a4L=fT}if(bM&2)w.k+=4;if(bM&4)h0.aqU=e(w);if(bM&8)w.k+=4;if(bM&16)w.k+=4;
if(bM&32)w.k+=4;if(bM&64){h0.a7u=b(w);if(dK>=1500)w.k+=48}if(bM&128){h0.auf=b(w)}if(bn&8){if(dK>=1300){var ck=b(w);
if(w.k+ck*2>=w.data.length){cC=!0;break}w.k+=ck*2}else w.k+=4}if(bn&32){var ce=U(w);if(ce)w.k+=52}if(kM==2)if(dK>=1300)w.k+=48;
eK.push(h0)}if(cC){break}var kn=b(w);if(w.k+kn*4>w.data.length)break;var fc=[];for(v=0;v<kn;v++){var cv=0;
if(dK>=1200)cv=D(w)&4294967295;else cv=b(w);fc[v]=cv>>16|cv&1}var gM=kn;if(dK>=1200)gM=b(w);var hF=X(w);
d8.J._S.push({at_:gr,text:hF,eE:eK})}}else if(d8.A8=="arrw")d8.J=s(w);else if(d8.A8=="font"){var g5=w.k,fg=l(w),fP=l(w),cu="";
w.k+=14;if(w.Xe>=1200)cu=g(w);else cu=X(w);d8.J={id:fg,aBE:fP,name:cu};if(o){var h8=g5+cg;while(w.data[w.k]==0)w.k++;
w.k+=2;var ia=g(w);while(w.data[w.k]==0)w.k++;while(w.data[w.k]<=2)w.k+=4;d8.J.gL=g(w)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(d8.A8)!=-1){}else if(d8.A8=="flgs")d8.J=b(w);
else if(d8.A8=="bbox"){var jd=e(w),bL=e(w),jq=e(w),dJ=e(w);d8.J=new b4(jd,bL,jq-jd,dJ-bL)}else if(d8.A8=="fild"){var ju=b(w),k7;
if(dK>=1300)w.k+=8;var cL=l(w);if(cL==0){}else if(cL==1){w.k+=dK>=1300?13:2;k7=r(w)}else if(cL==2){w.k+=dK>=1300?8:2;
var ai=U(w),g_=0;if(dK>=1300){w.k+=17;g_=c(w)}else if(dK>=600){w.k+=19;g_=_(w)}else{w.k+=11;g_=c(w)}var eL=k(w),e5=.5+A(w),dP=.5+A(w)-.5;
if(dK>=600)w.k+=2;var ei=H(w)&255,aQ=U(w)/100;w.k++;var ky=H(w)&65535;if(dK>=1300)w.k+=3;var i9=[];for(var v=0;
v<ky;v++){var a8=r(w);if(dK>=1400)w.k+=26;else if(dK>=1300)w.k+=5;var ej=(H(w)&65535)/100;if(dK>=1300)w.k+=3;
i9.push([ej,a8])}k7={typ:ai==1?"lin":"rad",crds:[e5-Math.cos(eL)/2,dP-Math.sin(eL)/2,e5,dP],grad:i9,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",cL);
d8.J={id:ju,w:cL,J:k7}}else if(d8.A8=="outl"){var it=b(w);if(dK>=1300){var fJ=0,hk=0;while(fJ!=1){w.k+=hk;
fJ=b(w);hk=b(w)}}var eI=l(w),kI=l(w),dY=l(w);if(dK<1300&&dK>=600)w.k+=2;var ds=e(w),bC=l(w)/100;if(dK>=600)w.k+=2;
var a_=k(w);if(dK>=1300)w.k+=46;else if(dK>=600)w.k+=52;var k7=r(w);if(dK<600)w.k+=10;else w.k+=16;var dM=l(w),fb=w.k,jI=[];
for(var v=0;v<dM;++v)jI.push(l(w));if(dK<600)w.k=fb+20;else w.k=fb+22;var hj=b(w),gR=b(w);d8.J={id:it,a0U:eI,awh:kI,azO:dY,lineWidth:ds,color:k7,SH:jI,azw:hj,ay6:gR}}else if(d8.A8=="mcfg"){if(1300<=dK)w.k+=12;
else if(900<=dK)w.k+=4;else if(600<=dK&&dK<700)w.k+=28;var im=0,jQ=0;if(dK<400){w.k+=2;var jd=e(w),bL=e(w),jq=e(w),dJ=e(w);
im=Math.abs(jq-jd);jQ=Math.abs(dJ-bL)}else{im=e(w);jQ=e(w)}d8.J={ar9:new eE(im,jQ)}}else if(d8.A8=="loda"||d8.A8=="lobj"){var kK=w.k,cS=H(w),gu=H(w),bA=H(w),ad=H(w),cp=H(w),aK=[],f0=[],v=0,j_=null;
w.k=kK+bA;while(v<gu)aK[v++]=H(w);w.k=kK+ad;while(v>0)f0[--v]=H(w);d8.J={};for(v=0;v<gu;v++){w.k=kK+aK[v];
var e8=f0[v];if(e8==30){if(dK>=400&&cp==1||dK<400&&cp==0){d8.J.path=Y(w)}else if(dK>=400&&cp==2||dK<400&&cp==1){d8.J.path=d(w)}else if(dK>=400&&cp==3||dK<400&&cp==2){d8.J.path=O(w)}else if(cp==37){d8.J.path=P(w)}else if(dK>=400&&cp==4||dK<400&&cp==3){d8.J.ay5=W(w)}else if(dK>=400&&cp==6||dK<400&&cp==5){d8.J.anW=$(w)}else console.log(cp)}else if(e8==20){if(dK<400)d8.J.a8u=z(w);
else d8.J.aDB=b(w)}else if(e8==10){if(dK<400)d8.J.amU=h(w);else d8.J.abi=b(w)}else if(e8==200)d8.J.a93=H(w);
else if(e8==100){if(dK<400)j_=E(w)}}if(j_&&d8.J.path)K.c.C(d8.J.path.g,j_,d8.J.path.g)}else if(d8.A8=="trfd"){var kK=w.k,cS=H(w),gu=H(w),bA=H(w);
w.k=kK+bA;var aK=[];for(var v=0;v<gu;v++)aK[v]=H(w);for(var v=0;v<gu;v++){w.k=kK+aK[v];if(dK>=1300)w.k+=8;
var jO=l(w);if(jO==8){var jH,h1,jd,bP,jS,bL;if(dK>=600)w.k+=6;if(dK>=500){jH=p(w);h1=p(w);jd=p(w)/(dK<600?1e3:254e3);
bP=p(w);jS=p(w);bL=p(w)/(dK<600?1e3:254e3)}else throw"e";d8.uS=new j8(jH,bP,h1,jS,jd,bL)}else console.log(jO)}}else if(!1){console.log(d8);
var gI=Math.min(d8.size,32);console.log(L.H0(S,d8.k,gI));console.log(L.az6(S,d8.k,gI))}}}function s(S){var w=b(S);
S.k+=4;var dj=l(S);S.k+=4;var o=[];for(var T=0;T<dj;T++)o.push(U(S));S.k+=1;var i6=[];for(var bH=0;bH<dj;
bH++){var cg=[];cg[1]=e(S);cg[0]=e(S);i6.push(cg)}var bu=t(i6,o);Q[w]=bu}function E(S){var w=0,dj=0,o=0,T=0,i6=0,bH=0;
if(S.Xe>=300){var cg=S.k;S.k+=10;var bu=H(S);S.k=cg+bu;w=F(S);dj=F(S);o=_(S)/1e3;T=F(S);i6=F(S);bH=_(S)/1e3}else{o=e(S);
bH=e(S);w=F(S);dj=F(S);o+=F(S)/1e3;T=F(S);i6=F(S);bH+=F(S)/1e3}return new j8(w,dj,T,i6,o,bH)}function z(S){var w=U(S);
if(w==0)return null;else if(w==1)return r(S);else console.log(w)}function h(S){var w=U(S);w<<=1;var dj=e(S),o=l(S)/100,T=k(S),i6=r(S);
return{a0U:w,lineWidth:dj,color:i6,SH:[],azw:0,ay6:0}}function d(S){var w=e(S),dj=e(S),o=k(S),T=k(S),i6=K.c.gb(K.R.hi.$v(0,0,w,dj));
return i6}function Y(S){var w=S.Xe,dj=I(S),o=I(S),T=0,i6=0,bH=0,cg=0,bu=0,hH=1,dK=1;if(w<1500){cg=I(S);
bH=w<900?cg:I(S);i6=w<900?cg:I(S);T=w<900?cg:I(S)}else{var d8=p(S);if(d8!=0)hH=d8;d8=p(S);if(d8!=0)dK=d8;
var d1=U(S);S.k+=7;if(d1==0){cg=p(S);bu=U(S);S.k+=15;bH=p(S);S.k+=16;i6=p(S);S.k+=16;T=p(S);var gH=Math.abs(dj*hH/2),kh=Math.abs(o*dK/2);
cg*=gH<kh?gH:kh;bH*=gH<kh?gH:kh;i6*=gH<kh?gH:kh;T*=gH<kh?gH:kh}else{cg=I(S);bu=U(S);S.k+=15;bH=I(S);
S.k+=16;i6=I(S);S.k+=16;T=I(S)}}return K.c.gb(K.R.hi.Rect(0,0,dj,o,[T,i6,bH,cg]))}function C(S){var w=b(S);
if(S.Xe<1700)w*=2;S.k+=w;return""}function i(S){var w=b(S),o=0;S.k+=37;var dj=b(S);for(var v=0;v<dj;
v++){var T=b(S);o=T;S.k+=48;var i6=b(S);if(i6==1)S.k+=12*4;else S.k+=8;if(!w){S.k+=16;C(S)}}var bH={aeU:o,_S:[]},cg=b(S);
for(var bu=0;bu<cg;bu++){if(S.k>S.data.length)throw"e";var hH=b(S),dK=U(S),d8=-1,jy="";if(w){d8=U(S);
if(d8==1)S.k+=64}var d1=C(S),gH=b(S);for(var v=0;v<gH;v++){S.k+=2;var kh=l(S),ay=l(S);if(ay&4){var dO=b(S);
dO*=2;S.k+=dO}if(kh||ay&4){var fy=C(S)}}var bg=b(S),f4=[];for(var v=0;v<bg;v++){var jb=D(S)&4294967295;
f4[v]=jb>>16|jb&1}var jT=b(S);for(var v=0;v<bg;v++){var cl=f4[v]&7,hu=0;if(cl==0||cl==2||cl==4||cl==6)hu=S.data[S.k++];
else if(cl==1||cl==3||cl==5||cl==7)hu=S.data[S.k++]+S.data[S.k++]*256;else throw cl;jy+=String.fromCharCode(hu)}if(bu+1<cg)S.k++;
var aA=jy.split("\r");for(var v=0;v<aA.length;v++)bH._S.push({text:aA[v],at_:hH,eE:[]})}return bH}function M(S,w){var dj={},o=b(S);
for(var v=0;v<o;v++){var T=b(S);S.k+=4;var i6=b(S);dj[T]=i6;if(w)S.k+=48}return dj}function W(S){var w=e(S),dj=e(S);
return new eE(w,dj)}function $(S){S.k+=4;var w=e(S),dj=e(S);return new eE(w,dj)}function P(S){S.k+=4;
var w=l(S)+l(S);S.k+=16;var dj=G(S,w);return dj}function O(S){var w=l(S);S.k+=2;return G(S,w)}function G(S,w){var dj=[],o=[];
for(var v=0;v<w;v++)dj.push([e(S),e(S)]);for(var v=0;v<w;v++)o.push(U(S));return t(dj,o)}function t(S,w){var dj={g:[],rZ:[]},o=0,T=0,i6=0;
for(var v=0;v<S.length;v++){var o=S[v][0],T=S[v][1],bH=w[v];if(!(bH&64)&&!(bH&128)||v==0){dj.g.push(o,T);
dj.rZ.push("M");i6+=2}else if(bH&64&&!(bH&128)){dj.g.push(o,T);dj.rZ.push("L");i6+=2}else if(!(bH&64)&&bH&128){dj.g.push(o,T);
dj.rZ.push("C");i6+=6}else if(bH&64&&bH&128){dj.g.push(o,T)}}if(i6!=dj.g.length)throw"e";return dj}function y(S,w){var dj=L.vS;
w+=8;var o=dj(S,w);w+=4;var T=dj(S,w);w+=4;w+=4*7;var i6=w,bH=K.U(o*T*4);w+=1024;for(var cg=0;cg<T;cg++)for(var bu=0;
bu<o;bu++){var v=cg*o+bu,hH=(T-cg-1)*o+bu,dK=S[w+v]<<2,d8=hH<<2;bH[d8+0]=S[i6+dK+2];bH[d8+1]=S[i6+dK+1];
bH[d8+2]=S[i6+dK+0];bH[d8+3]=255}return{jB:bH,s:new b4(0,0,o,T)}}function r(S){var w=S.Xe,dj=0,o=0,T=0;
if(w>=500){dj=l(S);if(dj==1&&w>=1300)dj=25;if(dj==30){dj=25;o=30}else{o=l(S);S.k+=4}T=b(S)}else if(w>=400)throw"e";
else{dj=U(S);T=b(S)}return u(dj,o,T)}function u(S,w,dj){var o=[0,0,0];if(S==2||S==3||S==9||S==17){var T=[dj>>>0&255,dj>>>8&255,dj>>>16&255,dj>>>24&255];
if(S==2)for(var v=0;v<4;v++)T[v]=Math.round(255*T[v]/100);for(var v=0;v<4;v++)T[v]/=255;o=UDOC.C.cmykToRgb(T)}else if(S==1||S==5){o=[dj>>>0&255,dj>>>8&255,dj>>>16&255];
for(var v=0;v<3;v++)o[v]=o[v]/255;if(S==5)o.reverse()}else console.log("Unknown color model "+S,dj,dj.toString(16));
return o}return{by:a}}(),hY=function(){var j,n,Q=new ArrayBuffer(4),a=new Uint8Array(Q),B=new Uint32Array(Q),m=new Float32Array(Q);
function R(c,_){for(var p=0;p<c.length;p++)if(c[p][0]==_)return c[p]}function q(){var c=0,_=0,p=0;do{p=j[n++];
c|=(p&127)<<_;_+=7}while(p&128&&_<35);return c>>>0}function U(c,_,p,X,g){j=c;n=_;var F=X[0]=="mesg",k=X[2],I={},e=1,H=F?1e9:k.length;
while(e<=H){var A=e;if(F){A=q();if(A==0)break}var Z=R(k,A),J=Z[2],s=Z[1]==1,E=s?q():1,z=new Array(E);
if(J==3){if(!s)throw"e";z=j.slice(n,n+E);n+=E}else for(var v=0;v<E;v++){var h;if((J&1)==1){if(J==1)h=j[n++]==1;
else if(J==3)h=j[n++];else if(J==5){var d=q();h=d&1?~(d>>>1):d>>>1}else if(J==7)h=q();else if(J==9){if(j[n]==0){h=0;
n++}else{a[0]=j[n];a[1]=j[n+1];a[2]=j[n+2];a[3]=j[n+3];var Y=B[0];B[0]=Y<<23|Y>>>9;h=m[0];n+=4}}else if(J==11){var C=l(j,n);
h=C[0];n+=C[1]+1}else throw J}else{var i=p[J>>>1];if(i[0]=="enum"){var M=q();h=i[2][M]}else{var W=U(j,n,p,i,g+1);
h=W[0];n=W[1]}}z[v]=h}I[Z[3]]=s?z:z[0];e++}return[I,n]}function l(c,_){var p=_;while(c[p]!=0)p++;return[L.Cl(new Uint8Array(c.buffer,_,p-_)),p-_]}function b(c,_){var p=_;
while(c[p]!=0)p++;for(var v=_;v<p;v++)if(c[v]>127)throw"e";return L.AP(c,_,p-_)}function D(c){j=c;n=1;
var _=[];while(n<c.length){var p=n,X=_.length,g=b(c,n);n+=g.length+1;var F=q();if(F>2)throw"e";var k=q(),I=[];
for(var v=0;v<k;v++){var e=b(c,n);n+=e.length+1;var H=q(),A=q(),Z=q();I.push(F==0?e:[Z,A,H,e])}_.push([["enum","strc","mesg"][F],g,I])}return _}return{axw:D,ail:U}}();
function g6(){}g6.by=function(j,n){var Q=Date.now(),a=new Uint8Array(j),B=8,m,D=0,W=0;if(a[0]==80&&a[1]==75){m=UZIP.parse(j);
a=m["canvas.fig"]}var R=L.vS(a,B);B+=4;var q=[];while(B<a.length){var U=L.vS(a,B);B+=4;var l=a.slice(B,B+U);
if(a[B]==137&&a[B+1]==80){}else l=UZIP.inflateRaw(l);q.push(l);B+=U}var b=hY.axw(q[0]);for(var v=0;v<b.length;
v++)if(b[v][1]=="Message")D=v;var c=hY.ail(q[1],0,b,b[D],0)[0],_={dR:{},Z2:{},a4h:{},N2:m},p=c.nodeChanges;
for(var X=0;X<p.length;X++){var g=p[X],F=g.guid;_.Z2[F.sessionID+","+F.localID]=g}for(var X=0;X<p.length;
X++){var g=p[X],F=g.parentIndex;if(F){var k=g6.lq(_.Z2,F.guid);if(k.children==null)k.children=[];k.children.push(g)}}var I=p[0],e=I.children,H=new b4,A=[],Z=[];
for(var F=0;F<e.length;F++){var J=e[F],s=J.children;if(J.name=="Internal Only Canvas"||s==null)continue;
var E=new b4;for(var v=0;v<s.length;v++){var z=s[v],h=z.transform,d=z.size;if(h.m00==1&&h.m10==0&&h.m01==0&&h.m11==1){var Y=new b4(h.m02,h.m12,d.x,d.y);
E=E.d_(Y)}}var C=H._==0?0:H._+100,i=E.O();i.x=0;i.y=C;H=H.d_(i);A[F]=E;Z[F]=C}var M=dp.Gb(new b4(0,0,H.q,H._),8192*8192);
n.q=Math.round(H.q/M);n._=Math.round(H._/M);n.buffer=K.U(n.q*n._*4);for(var F=0;F<e.length;F++){var J=e[F],s=J.children;
if(J.name=="Internal Only Canvas"||s==null)continue;s.sort(g6.a9B);var $=new j8(1,0,0,1,-A[F].x,Z[F]-A[F].y);
$.scale(1/M,1/M);for(var v=0;v<s.length;v++){var z=s[v];g6.zG(z,[],$,c.blobs,n,0,_);W++}}n.VV(W);n.HM=!0;
if(M!=1)alert("File scaled down "+M+"x")};g6.zG=function(j,n,Q,a,B,m,R){var q=g6,E=!1,z,Y=!1,C,i;n=K.u(n);
var U=j.overrideKey?j.overrideKey:j.guid;for(var v=0;v<n.length;v++){var l=n[v],b=l.guidPath.guids;if(q.and(b[0],U)){if(b.length==1){var D={};
for(var c in j)D[c]=l[c]!=null?l[c]:j[c];j=D}else l.guidPath.guids=b.slice(1)}}var _=j.type,p=j.children,X=j.size,g=j.effects,F=B.JL();
F.kw(j.name);F._a(j.visible);F.wT=Math.round(j.opacity*255);var k=q.rk(j.transform),I=k.O();I.concat(Q);
if(X==null)X={x:0,y:0};var e=new b4(Math.round(I.Qr),Math.round(I.dE),Math.round(X.x*I.P8()),Math.round(X.y*I.P8()));
if(e.q==0||isNaN(e.q))e.q=100;if(e._==0||isNaN(e._))e._=100;var H=j.fillPaints,A=j.inheritFillStyleID;
if(A){var D=q.lq(R.Z2,A);if(D)H=D.fillPaints}if(H==null)H=[];var H=q.ae5(H),Z=H[0];if(Z&&Z.type=="IMAGE"&&q.rd(a,g6.Q1(Z),R,!0)==null)Z=null;
var J=j.strokePaints,A=j.inheritFillStyleIDForStroke;if(A){var D=q.lq(R.Z2,A);if(D)J=D.fillPaints}if(J==null)J=[];
var J=q.ae5(J),s="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(_)!=-1;
if(s||_=="FRAME"){z=new f.hx;q.aat(j,a,z);E=K.R.Yp(z.z);K.R.fK(z.z,I);var h=K.c.Fa(K.R.sR(z.z));if(!h.ke())e=h;
if(R.dR.bW&&Z){var d=f.hx.wX(R.dR.bW.z);for(var v=2;v<d.length;v++)if(d[v].H_!=null)d[v].H_=3;z.z=z.z.concat(d.slice(2))}}if(Z&&Z.type=="IMAGE"){i=Z.imageScaleMode;
Y=!0;var M=Z.originalImageWidth,W=Z.originalImageHeight;if(M*W==0){var $=q.rd(a,g6.Q1(Z),R);M=$.nJ.q;
W=$.nJ._}var P=M/W,O=X.x/X.y;C=Math.abs(P-O)}if(_=="FRAME"){}else if(s&&E&&Y&&(i=="FIT"||i=="FILL"&&C<=.05||i=="STRETCH"&&C<=.05)){var G=q.rd(a,g6.Q1(Z),R,!0),t=B.$D(G,F.getName(),0,0);
t.G$=F.G$;t.wT=F.wT;F=t;var y=new b4(0,0,X.x,X.y);if(i=="FIT"){var r=Z.originalImageWidth,u=Z.originalImageHeight,S=Math.min(X.x/r,X.y/u),w=r*S,dj=u*S;
y=new b4(y.x+(y.q-w)/2,y.y+(y._-dj)/2,w,dj)}var o=K.c.yc(y).g;K.c.C(o,I,o);F.add.SoLd.Trnf=N.IP.ob(o);
F.add.SoLd.nonAffineTransform=N.IP.ob(o);var T=[],g=j.effects,i6=Z.paintFilter;if(g)for(var v=0;v<g.length;
v++)if(g[v].type=="FOREGROUND_BLUR"){var bH=g[v],cg=fo.m4("GsnB",{});T.push(cg);cg.v.enab.v=bH.visible;
cg.v.Fltr.v.Rds.v.val=bH.radius/2.4}if(i6&&i6.exposure!=0){var cg=fo.m4("brit",{});T.push(cg);cg.v.Fltr.v.Brgh.v=Math.round(i6.exposure*160);
cg.v.Fltr.v.useLegacy.v=!0}if(i6&&i6.vibrance!=0){var cg=fo.m4("vibA",{});T.push(cg);cg.v.Fltr.v.Strt.v=Math.round(Math.round(i6.vibrance*100))}if(T.length!=0){F.add.SoLd.filterFX=fo.Wu();
B.Qp({id:F.add.SoLd.placed.v,s:new b4,buffer:K.U(1),N:new f.km});F.add.SoLd.filterFX.v.filterFXList.v=T}F.pS(B,!1);
q.aBe(R,F,B)}else if(s){q.ad0(F,z,j,Z,J,I,e,a,B,R);if(g)for(var v=0;v<g.length;v++){var bH=g[v];if(bH.type!="FOREGROUND_BLUR")continue;
z.g_=bH.radius/2.4}F.sU();F.tI(B)}else if(_=="TEXT"){var bu=j.textData,hH=bu.layoutSize;if(hH==null)hH=j.size;
var dK=["LEFT","RIGHT","CENTER"].indexOf(j.textAlignHorizontal);F.add.lnsr="rend";F.add.TySh=eR.N0(0,0);
F.add.TySh.v$=new b4(0,0,100,100);var d8=I.O();F.add.TySh.C=d8;var d1=F.add.TySh.Kt,gH=bu.characters;
if(j.textCase=="TITLE"){for(var v=0;v<gH.length;v++)if(v==0||gH[v-1]==" "){var kh=gH.slice(0,v),ay=gH.slice(v+1);
gH=kh+gH[v].toUpperCase()+ay}}gH=gH.replace(/\u2028/g,"\n");gH=gH.replace(/\u2029/g,"\n");gH=gH.replace(/\r\n/g," \n");
eR.Yr(d1,0,gH);var dO=j.textAutoResize,fy=bu.baselines;if(dO=="WIDTH_AND_HEIGHT"){var bg=dK==0?0:dK==1?hH.x:hH.x/2,f4=fy?fy[0].position.y:j.fontSize;
d8.translate(bg*I.P8(),f4*I.P8());eR.dY(d1,0)}else if(dO=="HEIGHT"||dO=="NONE"||dO==null){var f4=fy?fy[0].position.y-j.fontSize*.7:0;
d8.translate(0,f4*I.P8());eR.dY(d1,1);eR.gG(d1,[0,0,Math.round(hH.x),Math.round((dO=="NONE"?1.8:1)*hH.y)])}else throw dO;
if(gH!=""){var jb=eR.JB(d1,0,1);q.a1Z(j,I,X,jb,F,a,B,R);eR.A0(d1,0,gH.length,jb);var jT=bu.characterStyleIDs,jy=bu.styleOverrideTable;
if(jT){jT=jT.slice(0);for(var v=0;v<jT.length;v++)if(gH[v]=="\n")jT[v]=-v-1;var cl=[0],hu=0,aA=0;for(var v=0;
v<jT.length;v++){aA++;var ko=jT[v];if(v==0||ko==jT[v-1]){}else{cl.push(aA-1,v);aA=1}}cl.push(aA);for(var v=0;
v<cl.length;v+=2){var ec=cl[v],kK=cl[v+1];if(gH[ec]=="\n")continue;var ko=jT[ec];if(ko!=0){var cM;for(var gG=0;
gG<jy.length;gG++)if(jy[gG].styleID==ko)cM=jy[gG];var jb=eR.JB(d1,ec,ec+1);q.a1Z(cM,I,X,jb,F,a,B,R);
eR.A0(d1,ec,ec+kK-1,jb)}}}}}else if(_=="SYMBOL"){}else if(_=="INSTANCE"&&j.symbolData){var c2=j.symbolData,a1=c2.symbolOverrides,D=q.lq(R.Z2,c2.symbolID);
if(D)p=D.children;else console.log(j.name,"symbol not found",c2.symbolID);n=n.slice(0);for(var v=0;v<a1.length;
v++)n.push(a1[v])}else console.log(_);if(!1){}else if(p&&!s){B.T.push(B.v4());var cs=!1,f7=m==0&&_!="SYMBOL"&&_!="INSTANCE";
if(f7){if(e.ke())console.log(e);F.vn(e)}Z=H[H.length-1];if(Z&&Z.type=="IMAGE"&&q.rd(a,g6.Q1(Z),R,!0)==null)Z=null;
if(f7&&Z&&Z.type=="SOLID"){var j7=Z.color;F.add.artb.artboardBackgroundType.v=4;F.add.artb.Clr=q.qH(j7)}else if((Z||J[0])&&z){var dz=B.JL();
dz.kw("Background");q.ad0(dz,z,j,Z,J,I,e,a,B,R);dz.sU();dz.tI(B);B.T.push(dz);cs=!0}p.sort(q.a9B);var iA=R.dR;
R.dR={};for(var kk=0;kk<p.length;kk++)q.zG(p[kk],n,I,a,B,m+1,R);R.dR=iA;F.add.lsct=!1?fM.ko:fM.NO;F.TM="pass";
var fA=F.VH();F.G$=24;F._a(fA);var g5=m!=0&&H.length!=0&&!j.frameMaskDisabled&&j.containerSupportsFillStrokeAndCorners;
if(!cs&&g5&&z){F.add.vmsk=z;F.sU();F.tI(B)}else q.aBe(R,F,B);B.T.push(F)}else if(j.mask){if(z){R.dR.bW=z}}else{var h$=[],kN=1;
if(g)for(var hL=0;hL<g.length;hL++){var bH=g[hL],ha=bH.color,jl=bH.type,fI=["DROP_SHADOW","INNER_SHADOW"].indexOf(jl);
if(fI!=-1){var aE=["DrSh","IrSh"][fI],es=JSON.parse(g8.sp[g8.order.indexOf(aE)]);h$.push([aE,es]);es.enab.v=bH.visible;
es.Md.v.BlnM=af.sr(q.arY(bH.blendMode));es.Opct.v.val=Math.round(100*ha.a);es.blur.v.val=Math.round(bH.radius*I.P8());
es.Clr=q.qH(ha);var bg=bH.offset.x,f4=bH.offset.y;es.uglg.v=!1;es.lagl.v.val=Math.round(180/Math.PI*Math.atan2(f4,-bg));
es.Dstn.v.val=Math.round(Math.sqrt(bg*bg+f4*f4)*I.P8())}}if(_=="TEXT"&&H[0]&&H[0].type!="SOLID")kN=0;
for(var v=kN;v<H.length;v++){var fV=H[v],jU=q.$t(j,fV,I,e,a,B,R);if(jU[0]=="GdFl")h$.push(["GrFl",jU[1]]);
else if(jU[0]=="SoCo")h$.push(["SoFi",jU[1]]);else if(jU[0]=="PtFl")h$.push(["patternFill",jU[1]]);else if(jU[0]=="None"){}else throw jU}if(!s)for(var v=0;
v<J.length;v++){var fV=J[v],jU=q.$t(j,fV,I,e,a,B,R);if(jU[0]=="SoCo"){var es=JSON.parse(g8.sp[g8.order.indexOf("FrFX")]);
h$.push(["FrFX",es]);es.enab=jU[1].enab;es.Opct=jU[1].Opct;es.Md=jU[1].Md;es.Clr=jU[1].Clr;es.Sz.v.val=Math.round(j.strokeWeight);
var c$=j.strokeAlign;if(c$)es.Styl.v.FStl=g8.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(c$)]}}if(h$.length!=0){var iq=JSON.parse(g8.default);
for(var v=0;v<g8.order.length;v++)iq[g8.Ub[v]]={t:"VlLs",v:[]};for(var v=0;v<h$.length;v++){var cz=h$[v],aE=g8.Ub[g8.order.indexOf(cz[0])];
iq[aE].v.unshift({t:"Objc",v:cz[1]})}if(p==null)F.add.lmfx=iq}B.T.push(F)}};g6.ad0=function(j,n,Q,a,B,m,R,q,U,l){var b=g6;
j.G$|=16;j.add.vmsk=n;var D=j.add.vstk=g8.o0.cL(),c=b.$t(Q,a,m,R,q,U,l);D.fillEnabled.v=c[0]!="None";
if(c[0]=="None"){j.add.SoCo=c[1]}else{b.S9(c,j);j.add[c[0]]=c[1]}var c=b.$t(Q,B[0],m,R,q,U,l);if(c[0]!="None"){var D=j.add.vstk;
D.strokeEnabled.v=!0;D.strokeStyleLineWidth.v.val=Q.strokeWeight*m.P8();D.strokeStyleLineAlignment.v.strokeStyleLineAlignment=g8.o0.cw[["INSIDE","CENTER","OUTSIDE"].indexOf(Q.strokeAlign)];
var _={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[c[0]],p=["SoFi","GrFl","patternFill"].indexOf(_),X=[g8.WE,g8.Kp,g8._$][p];
D.strokeStyleContent.v={classID:g8.o0.TF[0]};var g=Q.dashPattern;if(g)D.strokeStyleLineDashSet.v=gq.l7(g,1/Q.strokeWeight);
var F=D.strokeStyleContent.v={classID:g8.o0.TF[p]};for(var v=0;v<X.length;v++)F[X[v]]=c[1][X[v]];if(!D.fillEnabled.v)b.S9(c,j)}};
g6.S9=function(j,n){var Q=j[1].Opct.v.val;if(Q!=100)n.wT=Math.round(n.wT/255*(Q/100)*255)};g6.a9B=function(j,n){var Q=j.parentIndex.position,a=n.parentIndex.position;
return Q>a?1:-1};g6.ae5=function(j){for(var v=1;v<j.length;v++){var n=j[v];if(n.type=="IMAGE"&&n.opacity==1){j=j.slice(v);
break}}for(var v=0;v<j.length;v++){var n=j[v],Q=n.imageThumbnail,a=n.type=="IMAGE";if(a&&(n.image==null||n.image.dataBlob==null)&&Q&&Q.dataBlob)n.image=Q;
if(!n.visible||a&&n.image==null){j.splice(v,1);v--}}return j};g6.aBe=function(j,n,Q){if(j.dR.bW){n.add.vmsk=j.dR.bW.O();
n.sU();n.tI(Q)}};g6.a1Z=function(j,n,Q,a,B,m,R,q){var U=j.fontSize,l=j.lineHeight,b=j.fontName,D=j.textAlignHorizontal,c=j.textTracking,_=j.textCase,p=j.textDecoration;
if(U==null)U=a.RW.FontSize;if(b){var X=b.postscript;if(X==""){var g=b.family,F=b.style;X=g.split(" ").join("")+"-"+F}eR.em(a,X)}if(U!=null)a.RW.FontSize=Math.round(U);
if(p=="UNDERLINE")a.RW.Underline=!0;if(c)a.RW.Tracking=Math.round(c*1e3);if(_)a.RW.FontCaps=_=="UPPER"?2:0;
if(l&&(l.units!="PERCENT"||l.value!=100)){if(U==null)U=15;var k=l.value;if(l.units=="PERCENT")k=1*U*k/100;
if(l.units=="RAW")k=1*U*k;a.RW.AutoLeading=!1;a.RW.Leading=Math.round(k)}if(D)a.w$.Justification=["LEFT","RIGHT","CENTER"].indexOf(D);
var I=j.fillPaints,e=j.inheritFillStyleID;if(e){var H=g6.lq(q.Z2,e);if(H)I=H.fillPaints}if(I&&I[0]){var A=g6.$t(j,I[0],n,Q,m,R,q);
if(A[0]=="SoCo"){var Z=K.Gp.qF(A[1].Clr.v);a.RW.FillColor={Type:1,Values:[1,Z.n/255,Z.i/255,Z.b/255]};
g6.S9(A,B)}}};g6.$t=function(j,n,Q,a,B,m,R){var q=g6,U,l,b=j.size;if(b==null)b={x:0,y:0};if(n){var D=n.type,c=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(D);
if(D=="SOLID"){U="SoCo";var _=n.color;l=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);l.Clr=q.qH(_)}else if(c!=-1){var p=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]),X=p.Grad.v;
X.Intr.v=0;p.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][c];var g=[],F=n.stops;for(var v=0;v<F.length;v++){var k=F[v],I=k.color;
g.push([k.position,[I.r,I.g,I.b],I.a])}K.Gp.wM(g,X);var e=q.rk(n.transform);e.m2();var H=e.O();if(b)H.scale(b.x,b.y);
H.concat(Q);var A=new eE(0,.5),Z=new eE(1,.5);A=H.JZ(A);Z=H.JZ(Z);if(!0){A.x=Z.x+.5*(A.x-Z.x);A.y=Z.y+.5*(A.y-Z.y)}K.Gp.$z(A,Z,a,p);
if(c==3){if(H.NX*H.zP-H.b*H.RK<0)p.Rvrs.v=!p.Rvrs.v}U="GdFl";l=p}else if(D=="IMAGE"){var p=JSON.parse(g8.sp[g8.order.indexOf("patternFill")]),e=q.rk(n.transform);
e.m2();var J=g6.Q1(n),s=R.a4h[J];if(s==null){var E=q.rd(B,J,R);s=R.a4h[J]={};s.id=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f";
s.Fd=[new Uint8Array(E.data),E.nJ];if(e.NX<0){var z=s.Fd[0].slice(0);K.D.ms(z,s.Fd[0],E.nJ.q,E.nJ._)}s.name="someImage";
m.sS(s)}if(e.NX<0)e.NX=-e.NX;var h=["FILL","FIT","STRETCH","TILE"].indexOf(n.imageScaleMode),d=h==3?n.scale:1;
gq.avS(s,p,b.x,b.y,h,Q,e,d);U="PtFl";l=p}else if(D=="VIDEO"){U="SoCo";l=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);
l.Clr=q.qH({r:255,g:0,b:255})}else throw D;if(l)l.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(n.opacity*100)}}}if(U==null||n.opacity<.001){U="None";
l={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}}}return[U,l]};g6.Q1=function(j){var n=j.image,Q=n.dataBlob;
if(Q==null){Q="";for(var v=0;v<20;v++)Q+=n.hash[v].toString(16).padStart(2,"0")}return Q};g6.rd=function(j,n,Q,a){if(j[n]){var B=j[n];
if(a)return B.bytes;if(B.rslt)return B.rslt;var m=B.bytes.buffer;B.rslt=g6.apv(m);return B.rslt}else{if(Q.N2==null)return null;
if(a)return Q.N2["images/"+n];var m=Q.N2["images/"+n].buffer;if(Q.N2["images/-"+n])return Q.N2["images/-"+n];
Q.N2["images/-"+n]=g6.apv(m);return Q.N2["images/-"+n]}};g6.apv=function(j){var n=fj.Ot(j);if(n=="fpng")n="png";
var Q=fj.Mi(n);try{return Q.z5(j)[0]}catch(bY){return{data:K.U(4),nJ:new b4(0,0,1,1)}}};g6.aat=function(j,n,Q){var a=j.type,B=j.size,m=j.cornerRadius,l;
if(m==null)m=0;var R=B.x,q=B.y,U=[m,m,m,m],b=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var v=0;v<4;v++)if(j[b[v]]!=null)U[v]=j[b[v]];if(a=="RECTANGLE"||a=="ROUNDED_RECTANGLE"||a=="FRAME"){l=K.R.hi.Rect(0,0,R,q,U)}else if(a=="ELLIPSE"){var D=j.arcData,c=D?D.startingAngle:0,_=D?D.endingAngle:2*Math.PI,p=D?D.innerRadius:0;
if(c==0&&_>1.999*Math.PI)l=K.R.hi.$v(0,0,R,q,0);else l=K.R.hi.agA(R/2,q/2,q/2,c,_);if(p!=0&&p!=1){var X=f.hx.wX(l).slice(3);
X.reverse();for(var v=0;v<X.length;v++){var g=X[v],F=g.vK;g.vK=g.XH;g.XH=F}var k=new j8;k.translate(-R/2,-q/2);
k.scale(p,p);k.translate(R/2,q/2);K.R.fK(X,k);l=l.concat(X);l[2].length*=2}}else if(a=="LINE"){l=K.R.hi.Rect(0,0,R,q,0);
l.pop();l.pop();l[2].length=2}else if(a=="STAR"){l=K.R.hi.aeS(R/2,q/2,R/2,2*Math.PI*(1/4),5,0,j.starInnerScale)}else if(a=="REGULAR_POLYGON"){l=K.R.hi.Ek(.5,.5,.5,Math.PI/2,j.count,0);
var I=new j8;I.scale(R,q);K.R.fK(l,I)}else if(a=="BOOLEAN_OPERATION"){l=[{w:6},{w:8,all:0}];var e=j.children,H=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(j.booleanOperation);
if(H==-1)throw j;if(e==null)e=[];for(var v=0;v<e.length;v++){var A=e[v],Z=new f.hx,J=g6.aat(A,n,Z);if(Z.z==null)continue;
K.R.fK(Z.z,g6.rk(A.transform));l=l.concat(Z.z.slice(2))}for(var v=3;v<l.length;v++)if(l[v].H_!=null)l[v].H_=H}else if(a=="VECTOR"){var s,E,G=3;
if(!0){var z=j.vectorData;if(z==null)return;s=z.normalizedSize;E=z.vectorNetworkBlob}var h=n[E].bytes,d=new Uint32Array(h.buffer),Y=new Float32Array(h.buffer),C=d[0],i=d[1],M=d[2],W=[],$=[],P=[],t=G+C*3,y=t+i*7;
for(var v=0;v<C;v++){var r=G+v*3,u=new eE(Y[r+1],Y[r+2]);W.push(u)}for(var v=0;v<i;v++){var S=t+v*7;
$.push([d[S+0],d[S+1],Y[S+2],Y[S+3],d[S+4],Y[S+5],Y[S+6]])}for(var v=0;v<M;v++){var w=d[y+1],dj=P[v]=[];
y+=2;for(var o=0;o<w;o++){var T=d[y++],i6=dj[o]=[];for(var bH=0;bH<T;bH++)i6[bH]=d[y+bH];y+=T}}if(y!=d.length&&y!=d.length-1)throw"e";
if(M==0){var cg=-1;for(var v=0;v<i;v++){if(cg==-1){}else{var bu=-1;for(var o=v;o<i;o++)if($[o][4]==cg)bu=o;
for(var o=v;o<i;o++)if($[o][1]==cg)bu=o;if(bu!=-1){var hH=0,F=$[bu];$[bu]=$[v];$[v]=F;if(F[1]!=cg){hH=F[1];
F[1]=F[4];F[4]=hH;hH=F[2];F[2]=F[5];F[5]=hH;hH=F[3];F[3]=F[6];F[6]=hH}}}cg=$[v][4]}P.push([[]]);for(var v=0;
v<i;v++)P[0][0].push(v)}var dK=[],d8=[];for(var d1=0;d1<P.length;d1++){for(var gH=0;gH<P[d1].length;
gH++){var kh=P[d1][gH],ay=0;if(kh.length>1){var dO=$[kh[0]],fy=$[kh[1]];ay=dO[4]==fy[1]?1:0}for(var v=0;
v<kh.length;v++){var bg=$[kh[v]],f4=1,jb=4;if(ay==0){f4=4;jb=1}var jT=W[bg[f4]],jy=W[bg[jb]];if(v==0){d8.push("M");
dK.push(jT.x,jT.y)}d8.push("C");dK.push(jT.x+bg[f4+1],jT.y+bg[f4+2],jy.x+bg[jb+1],jy.y+bg[jb+2],jy.x,jy.y)}}}l=K.c.TW({g:dK,rZ:d8},!1);
if(m!=0){var U=[],cl=l[2].length;for(var v=0;v<cl;v++)U.push(m);if(K.R.cQ(l))K.R.Lk(l,2,U)}var hu=new j8;
hu.scale(s.x==0?1:B.x/s.x,s.y==0?1:B.y/s.y);K.R.fK(l,hu)}Q.z=l};g6.lq=function(j,n){return j[n.sessionID+","+n.localID]};
g6.and=function(j,n){return j.sessionID==n.sessionID&&j.localID==n.localID};g6.arY=function(j){var n={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[j];
if(n==null)throw j;return n};g6.qH=function(j){return{t:"Objc",v:K.Gp.Db({n:j.r*255,i:j.g*255,b:j.b*255})}};
g6.rk=function(j){if(j==null)return new j8;var n=[j.m00,j.m10,j.m01,j.m11,j.m02,j.m12];for(var v=0;v<6;
v++)if(Math.abs(n[v])<1e-20)n[v]=0;return new j8(n[0],n[1],n[2],n[3],n[4],n[5])};function d_(){}d_.by=function(){var j=L.AP;
function n(_,p,X,g){var F=g?[]:{};while(p<_.length-1&&_[p]!=125){var k=j(_,p,3),I=j(_,p+3,1),e;p+=4;
p++;if(I=="v"){var H=n(_,p,X+1,k=="ELM"||k=="TIL"||k=="TFS");e=H.J;p=H.k}else if(I=="i"||I=="f"){var A=p;
while(_[A]!=125)A++;var Z=j(_,p,A-p);e=I=="i"?parseInt(Z,16):parseFloat(Z);p=A+1}else if(I=="s"){var J=L.oN(_,p),Z="";
p+=2;for(var v=0;v<J;v++)Z+=String.fromCharCode(_[p+2*v+1]);e=Z;p=p+2*J+1}else if(I=="b"){e=_[p]==49;
p=p+2}else throw"e";if(g)F.push([k,e]);else if(F[k]==null)F[k]=e;else{if(!(F[k]instanceof Array))F[k]=[F[k]];
F[k].push(e)}}p++;return{J:F,k:p}}function Q(_,p){var X=a(_).slice(1),_=p.Clr.v;_.Rd.v=X[0]*255;_.Grn.v=X[1]*255;
_.Bl.v=X[2]*255}function a(_){return[(_>>>24&255)/255,(_>>>16&255)/255,(_>>>8&255)/255,(_>>>0&255)/255]}function B(_,p){var X=p&4278190080|(p&255)<<16|(p>>>8&255)<<8|p>>>16&255;
K.G5(_,X)}function m(_,p){var X=_.TSZ,g=_.WPX,F=_.HPX,k=_.TIL,I=new b4(0,0,g,F),e=K.U(g*F*4),H=0;for(var A=0;
A<F;A+=X)for(var Z=0;Z<g;Z+=X){var J=new b4(Z,A,X,X),s,E=k[H];if(E[0]=="TMC"){s=K.U(J.$()*4);B(s,E[1])}else if(E[0]=="TID"){s=p[E[1]]}K.EC(s,J,e,I);
H++}return[e,I]}function R(_,p){_=new Uint8Array(_);var X=8,g,F={},i=0;while(X<_.length){var k=L.St(_,X);
X+=4;var I=j(_,X,4);X+=4;if(I=="mkTS"){var e=pako.inflate(_.slice(X,X+k)),H=n(e,0,0);g=H.J}else if(I=="mkBT"){var A=L.St(_,X+4),Z=L.St(_,X+8),e=pako.inflate(_.slice(X+76,X+k));
if(Z==0)for(var v=0;v<e.length;v+=4){var J=e[v],s=e[v+1],E=e[v+2],z=e[v+3];e[v+3]=J;e[v+2]=z;e[v+1]=E;
e[v]=s}else{var h=K.U(e.length*4);h.fill(255);K.YM(e,h);e=h}F[A]=e}X+=k+4}var d=g.PDC,Y=d?d instanceof Array?d:[d]:[g.MKB],C=new b4;
for(var v=0;v<Y.length;v++){var M=Y[v];C=C.d_(new b4(0,i,M.WID,M.HIT));i+=M.HIT+100}p.q=C.q;p._=C._;
p.buffer=K.U(C.$()*4);p.VV(Y.length);i=0;for(var W=0;W<Y.length;W++){p.T.push(p.v4());var M=Y[W],$=M.WID,P=M.HIT,O=M.BGC,G=(M.LYL?M:g).LYL.LAY,r=3;
for(var v=0;v<G.length;v++)U(G[v],p,null,F,new j8(1,0,0,1,-M.XLC,-M.YLC+i));var t=p.JL();p.T.push(t);
var y=new b4(0,i,$,P);i+=P+100;t.vn(y);if(O>>>24!=0){var u=K.Gp.Db({n:O>>>16&255,i:O>>>8&255,b:O>>>0&255});
t.add.artb.Clr={t:"Objc",v:u};r=4}t.add.artb.artboardBackgroundType.v=r;t.kw(M.PGN?M.PGN:"Page "+(W+1));
t.add.lsct=fM.NO;t.TM="pass";t.G$=24}}function q(_,p,X){var g=_[p];return g instanceof Array?g[X]:g}function U(_,p,X,g,F){var k=p.JL();
if(_.VIS!=null)k._a(_.VIS);if(_.VIF!=null)k._a(_.VIF.VIS);if(_.OPA!=null)k.wT=Math.round(255*_.OPA/1e3);
k.TM=_.CLL||X=="GRP"?"pass":"norm";if(_.BLD!=null){var I=_.BLD,e={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[I+""];
if(e==null)console.log(_.OBN,I);else k.TM=e;if(I==30)k.wT>>>=1}if(_.CLL){k.kw(_.LNM);p.T.push(p.v4());
var H=_.CLL.CEL;if(H.length==null)H=[H];for(var A=H.length-1;A>=0;A--){var Z=H[A].ELM;for(var v=Z.length-1;
v>=0;v--)U(Z[v][1],p,Z[v][0],g,F)}k.add.lsct=_.DIS?fM.ko:fM.NO;k.G$|=24}else if(X=="GRP"){var J=k.add.lmfx=b(_.EFL),s;
p.T.push(p.v4());var Z=_.ELM,E=_.MRM;if(_.MNA){s=Z[0][1];Z=Z.slice(1)}k.kw("Group: "+Z.length+" objects");
for(var v=Z.length-1;v>=0;v--)U(Z[v][1],p,Z[v][0],g,F);if(s){if(_.MRX){var z=m(s,g),h=k.N=new f.km;h.s=z[1].O();
h.s.x=s.XLC;h.s.y=s.YLC+F.dE;h.G=K.U(h.s.$());K._W(z[0],h.G,0);K.m2(h.G)}else{l(k,s,F);k.sU();k.tI(p)}}if(E){l(k,E.PTH,F);
k.sU();k.tI(p)}k.add.lsct=fM.NO;k.G$|=24}else if(X=="IMG"){k.kw(_.OBN?_.OBN:"Bitmap");var z=m(_,g);k.s=z[1].O();
k.s.x=_.XLC;k.s.y=_.YLC+F.dE;k.buffer=z[0]}else if(X=="TXT"){var d=_.TFS,W="";k.add.lnsr="rend";k.add.TySh=eR.N0(0,0);
k.add.TySh.v$=new b4(0,0,100,100);var Y=new j8(1,0,0,1,_.LFT,_.TOP);if(_.MTX){var C=_.MTX,h=new j8(C.M00,C.M01,C.M10,C.M11,C.M20,C.M21);
Y.concat(h)}Y.concat(F);k.add.TySh.C=Y;var i=k.add.TySh.Kt,M=eR.JB(i,0,0),$=q(_,"FON");if($)eR.em(M,$);
var P=q(_,"PTS");if(P)M.RW.FontSize=Math.round(P);var O=q(_,"ITL");if(O)M.RW.FauxItalic=O;if(_.PAT)M.RW.FillColor={Type:1,Values:a(q(_.PAT,"FCL"))};
for(var v=0;v<d.length;v++){var G=d[v][0],t=d[v][1];if(G=="TRN"){t=t.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
t=t.replaceAll("\x03","\n").replaceAll("\r","\n");eR.Yr(i,W.length,t);eR.A0(i,W.length,W.length+t.length,M);
W+=t}else if(G=="FON")eR.em(M,t);else if(G=="PTS")M.RW.FontSize=Math.round(t);else if(G=="ITL")M.RW.FauxItalic=t;
else if(G=="UND")M.RW.Underline=t;else if(G=="FCL")M.RW.FillColor={Type:1,Values:a(t)};else if(G=="LED"){M.RW.Leading=t*M.RW.FontSize;
M.RW.AutoLeading=!1}else if(G=="JST")M.w$.Justification=[0,2,1,3,5,4,6,7,8][t]}k.kw(W.slice(0,255));
var y=_.RIT-_.LFT,r=_.BOT-_.TOP;if(_.IMG){U(_.IMG,p,"IMG",g,F);var u=p.T.pop();k.buffer=u.buffer;k.s=u.s.O()}eR.dY(i,1);
eR.gG(i,[0,0,y,r])}else if(X=="PTH"){k.kw(_.OBN?_.OBN:"Path");k.G$|=16;var S=!1;l(k,_,F);var w=k.add.vmsk,dj=k.add.vstk,o=K.R.sR(w.z),T=_.PAT,i6=T.BPL,bH=T.FPL,cg=T.TXF;
if(bH&&bH.FEF)w.g_+=bH.FEF/2.4;if(i6){var bu=i6.CAT;dj.strokeEnabled.v=!0;dj.strokeStyleLineWidth.v.val=i6.BDI;
dj.strokeStyleLineAlignment.v.strokeStyleLineAlignment=g8.o0.cw[_.BRP];Q(T.BCL,dj.strokeStyleContent.v);
if(bu!="bc_Basic"&&bu!="bc_Pencil")S=!0}dj.fillEnabled.v=bH!=null;if(bH==null){k.add.SoCo=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);
Q(0,k.add.SoCo)}else if(bH.CAT=="fc_Solid"){k.add.SoCo=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);Q(_.PAT.FCL,k.add.SoCo)}else if(bH.CAT=="fc_Linear"||bH.CAT=="fc_Circular"||bH.CAT=="fc_Elliptical"){var hH=bH.CAT=="fc_Linear",dK=k.add.GdFl=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]),d8=dK.Grad.v,d1=[],gH=bH.FGL,kh,ay=[];
if(gH.FGY){var dO=gH.FGY,kh=dO.FG0.FGI,ay=dO.FG1.FGI}else kh=gH.FGV.FGI;for(var v=0;v<kh.length;v++){var bg=kh[v],f4=a(bg.FGC),jb=1;
if(ay.length==kh.length)jb=a(ay[v].FGC)[0];d1.push([bg.FGP,f4.slice(1),jb])}dK.Type.v.GrdT=hH?"Lnr":"Rdl";
K.Gp.wM(d1,d8);d8.Intr.v=0;var jT=_.PRI?_.PRI:_,jy=new eE(jT.PSX,jT.PSY),cl=new eE(jT.PEX,jT.PEY);if(bH.CAT=="fc_Elliptical"&&jT.PFX!=null){var hu=new eE(jT.PFX,jT.PFY),aA=eE.X_(jy,cl),ko=eE.X_(jy,hu);
if(ko<aA){var ec=aA;aA=ko;ko=ec}cl=new eE(jy.x+(aA+ko)/2,jy.y);if(aA/ko<.5)S=!0}if(hH){jy.x=(jy.x+cl.x)/2;
jy.y=(jy.y+cl.y)/2}K.Gp.$z(jy,cl,o,dK)}else console.log(bH.CAT);var J=k.add.lmfx=b(_.EFL,w);if(bH&&bH.FTB!=0&&cg){var z=m(cg.MSK,g),kK={};
kK.id=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f";kK.name="someImage";kK.Fd=z;p.sS(kK);var cM=z[0];for(var v=0;
v<cM.length;v+=4){cM[v+3]=255-cM[v];cM[v]=cM[v+1]=cM[v+2]=255}var dK=JSON.parse(g8.sp[g8.order.indexOf("patternFill")]);
dK.Opct.v.val=Math.round(bH.FTB/10);dK.Algn.v=!0;dK.Ptrn.v.Idnt.v=kK.id;J.patternFillMulti.v.unshift({t:"Objc",v:dK})}if(S&&_.IMG){U(_.IMG,p,"IMG",g,F);
var gG=p.T[p.T.length-1];gG.wT=k.wT;return}k.sU();k.tI(p)}else if(X=="URL")return;else{console.log("unknown layer type",X,_);
k.kw("Layer")}p.T.push(k)}function l(_,p,X){if(p.PBL==null)return;var g=_.add.vmsk=new f.hx,F=_.add.vstk=g8.o0.cL(!0),k=p.PBL.PBP;
if(!(k instanceof Array))k=[k];for(var I=0;I<k.length;I++){var e=k[I].PBT;if(e==null)continue;if(!(e instanceof Array))e=[e];
var H=k[I].ISC?0:3;g.z.push({w:H,length:e.length,H_:0,qg:2,wo:0,x1:0});for(var v=0;v<e.length;v++){var A=e[v],Z=A.XLC,J=A.YLC,s=[Z,J,Z,J,Z,J],E="XPC YPC XLC YLC XSC YSC".split(" ");
for(var z=0;z<6;z++){var h=E[z],d=A[h];if(d!=null)s[z]=d}g.z.push({w:H+2,V:new eE(Z,J),vK:new eE(s[0],s[1]),XH:new eE(s[4],s[5])})}}K.R.fK(g.z,X)}function b(_,p){var X=JSON.parse(g8.default);
for(var v=0;v<g8.order.length;v++)X[g8.Ub[v]]={t:"VlLs",v:[]};if(_==null||_.EPS==null)return X;var g=_.EPS;
if(!(g instanceof Array))g=[g];for(var v=0;v<g.length;v++){var F=g[v].DCE,k={};for(var I=0;I<F.length;
I++)k[F[I].DCK]=F[I].DCV;if(k.EffectIsVisible=="false")continue;var e=k.mkbFile_WriteOnly_TemporaryEffectUiName;
if(e=="Gaussian Blur..."&&p){p.g_+=parseFloat(k.gaussian_blur_radius);continue}var H=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(e);
if(H==-1){continue}var A=["DrSh","ebbl","IrGl","OrGl"][H],Z=g8.Ub[g8.order.indexOf(A)],J=JSON.parse(g8.sp[g8.order.indexOf(A)]);
X[Z].v.unshift({t:"Objc",v:J});if(A=="DrSh"){J.uglg.v=!1;D(k,"ShadowDistance",J,"Dstn");D(k,"ShadowBlur",J,"blur");
D(k,"ShadowAngle",J,"lagl",180);J.Opct.v.val=100;c(k,"ShadowColor",J,"Clr")}if(A=="IrGl"){J.Md.v.BlnM="Nrml";
var s=k.MaskSoftness,E=k.GlowWidth;if(s&&E){s=parseInt(s);E=parseInt(E);J.blur.v.val=E+s;J.Ckmt.v.val=Math.round(100*E/(E+s))}D(k,"BevelContrast",J,"Opct");
c(k,"OuterBevelColor",J,"Clr")}if(A=="OrGl"){J.Md.v.BlnM="Nrml";var s=k.MaskSoftness,E=k.GlowWidth;if(s&&E){s=parseInt(s);
E=parseInt(E);J.blur.v.val=E+s}D(k,"BevelContrast",J,"Opct");c(k,"OuterBevelColor",J,"Clr")}if(A=="ebbl"){J.uglg.v=!1;
D(k,"BevelWidth",J,"blur");D(k,"AngleSoftness",J,"Sftn");D(k,"BevelContrast",J,"srgR");D(k,"LightAngle",J,"lagl")}}return X}function D(_,p,X,g,F){var k=_[p];
if(F==null)F=0;if(k)X[g].v.val=parseInt(k)+F}function c(_,p,X,g){var F=_[p];if(F){F=F.slice(1);if(F.length==6)F=F+"ff";
if(F.length!=8)throw"e";var k=a(parseInt(F,16)),I=X[g].v;I.Rd.v=k[0]*255;I.Grn.v=k[1]*255;I.Bl.v=k[2]*255;
X.Opct.v.val=Math.round(X.Opct.v.val/100*k[3]*100)}}return R}();var gS=function(){function j(R){var q=new Uint8Array(R.length);
L.ey(q,0,R);return q}function n(R){var q=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",j("")],U=q.length,b=0;
q.push("<< /AIMetaData  "+(U+2)+" 0 R /AIPrivateData1 "+(U+3)+" 0 R  /AIPrivateData2 "+(U+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
q.push(j(""));q.push(j(""));q.push(R);var l=new e3,D=[];function c(g){L.GJ(l,b,g);b+=g.length}c("%PDF-1.5\n");
for(var v=0;v<q.length;v++){D.push(b);c(v+1+" 0 obj\n");var _=q[v];if(typeof _=="string")c(q[v]+"\n");
else{var p=pako.deflate(_);c("<< /Length "+p.length+" /Filter [ /FlateDecode ] >>\nstream\n");l.G2(b,p.length);
l.data.set(p,b);b+=p.length;c("\nendstream\n")}c("endobj\n")}var X=b;c("xref\n0 "+(D.length+1)+"\n0000000000 65535 f\r\n");
for(var v=0;v<D.length;v++)c((D[v]+"").padStart(10,"0")+" 00000 n\r\n");c("trailer\n<< /Root 1 0 R /Size "+(D.length+1)+" >>\nstartxref\n"+X+"\n%%EOF\n");
return l.data.slice(0,b)}function Q(R,q){var U=Date.now(),l=new Uint8Array(R),b,D=l[2]==68;if(q)console.log(!D?"EPS":"PDF");
if(D){var c=L._8(l,"/AIMetaData "),A,Z,J;while(l[c]!=60)c--;c--;var _=L._8(l,">>",c),p=L.AP(l,c+2,_-c-2).split("/"),X=[];
for(var v=0;v<p.length;v++){var g=p[v],F=g.startsWith("AIPrivateData"),k=g.startsWith("AIPDFPrivateData");
if(!F&&!k)continue;var I=g.trim().split(/\s+/),e=parseInt(I[1]),H=parseInt(I[0].slice(F?13:16));X.push([H,e])}if(q)console.log("--- map made",Date.now()-U);
U=Date.now();while(!0){var s=FromPDF.indexOfXref(l),E=[],z=FromPDF.readXrefTrail(l,s,E),h={buff:l,off:0},d=!1;
A=new Array(X.length);Z=!1;J=!1;for(var v=0;v<X.length;v++){var H=X[v][0],e=X[v][1],M=0;if(E[e]==null){d=!0;
break}var Y=FromPDF.getIndirect(e,0,h,E),C=Y.buff,i=Y["/Filter"];if(i!=null&&typeof i=="string")i=[i];
var W=L.AP(C,M,M+20);if(W=="%AI12_CompressedData"){M+=20;Z=!0}else if(W=="%AI24_ZStandard_Data"){M+=20;
J=!0}C=new Uint8Array(C.buffer,C.byteOffset+M,C.length-M);if(i)for(var $=0;$<i.length;$++){var P=i[$];
if(P=="/FlateDecode")C=pako.inflate(C);else if(P=="/ASCIIHexDecode")C=FromPS.F.HexDecode({buff:C,off:0});
else if(P=="/ASCII85Decode")C=FromPS.F.ASCII85Decode({buff:C,off:0});else throw P}A[H-1]=C}if(d){console.log("extra xref after AI");
l=l.slice(0,s);continue}break}if(q)console.log("--- arrays found",Date.now()-U);U=Date.now();var O=L.AP(A[0],0,13);
if(O=="%%BoundingBox"||O=="%AI7_Thumbnai")A=A.slice(1);if(O=="%AI24_ZStanda"){A[0]=A[0].slice(20);J=!0}if(L.AP(A[0],0,13)=="%AI12_Compres"){A[0]=A[0].slice(20);
Z=!0}b=a(A);if(q)console.log("--- concatenated",Date.now()-U);U=Date.now();if(Z)b=UZIP.inflate(b);if(J)b=fj.cq.Yu(b);
if(q)console.log("--- inflated",Date.now()-U);U=Date.now()}else{var G=L.Cl(l);if(G.indexOf("%AI5_BeginLayer")!=-1){b=l}else{var t=G.split(/[\n\r]+/),y=[],r=!1;
for(var u=0;u<t.length;u++){var S=t[u].trim();if(S=="%AI9_PrivateDataEnd"){r=!1;break}else if(S=="%AI9_DataStream"||S=="%AI24_DataStream"){r=!0}else if(r)y.push(S.slice(1))}var w=L.XS(y.join("")),o=FromPS.F.ASCII85Decode({buff:w,off:0});
if(o[0]==120&&o[1]==156)b=UZIP.inflate(o);else b=fj.cq.Yu(o)}}return b}function a(R){var q=0,l=0;for(var v=0;
v<R.length;v++)q+=R[v].length;var U=new Uint8Array(q);for(var v=0;v<R.length;v++){var b=R[v];U.set(b,l);
l+=b.length}return U}function B(R){var q=0,U=[];while(q<R.length){var l=R[q],b=l.charCodeAt(0);if(l==" ")q++;
else if(l==","||l==";"||l==":"){U.push(l);q++;var D=U[U.length-2];if(D=="/ASCII85Decode"){var c=q+1;
while(R[c]!="~"||R[c+1]!=">")c++;c+=2;var _=R.slice(q,c),p=FromPS.F.ASCII85Decode({off:0,buff:L.XS(_)});
U.push(p);q=c}if(D=="/StrokeStyle"||D=="/FillStyle"||D=="/BlendStyle"||D=="/SimpleStyle"||D=="/SmoothShadingStyle"){var c=q+1;
while(R[c]!=";")c++;U.pop();U.pop();U.push(R.slice(q,c));U.push("/String");q=c+1}}else if(l=="("){var c=q+1;
while(!(R[c]==")"&&(R[c-1]!="\\"||R[c-2]=="\\")))c++;var X=R.slice(q+1,c);U.push(X);q=c+1}else if(l=="/"||l=="-"||48<=b&&b<=57){var c=q;
while(R[c]!=" ")c++;U.push(R.slice(q,c));q=c}else if(l=="X"&&R[q+1]=="="){var c=q,g=0;while(!0){if(R[c]=="X"&&R[c+1]=="="){g++}if(R[c]=="X"&&R[c+1]=="+"&&R[c+2]==" "){g--;
if(g==0)break}c++}U.push(R.slice(q+3,c));U.push("/String");q=c+2}else{console.log(U);console.log(R.slice(q-600,q+10));
throw l}}return U}function m(R){var q={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},U={},l=B(R.join(" ")),b=[],D=parseFloat;
while(l.length!=0){var c=l.shift();if(c=="/Recorded"||c=="/NotRecorded"){continue}else if(c=="/Dict"){b.pop();
var _=b.pop();b[b.length-1][c]=_}else if(c=="/Execution"){b.pop();var _=b.pop();b[b.length-1][c]=_}else if(c=="/Part"){b.pop();
var _=b.pop(),p=b[b.length-1];if(p[c]==null)p[c]=[];p[c].push(_);l.shift()}else if(c=="/Def"){b.pop();
var X=b.pop(),g=b[0];if(U[g]==null)U[g]=[];if(g=="/KnownStyle"){X={val:X};X[b.pop()]=b.pop()}b.pop();
U[g].push(X);l.shift()}else if(c==":"){var g=b.pop();if(g=="/Dictionary"||g=="/ArtDictionary"||g=="/XMLNode"||g=="/Mask"||g=="/ActiveStyle")b.push({});
else if(g=="/CompoundFilter"||g=="/BasicFilter"){b.push({typ:"Filter"})}else if(g=="/SVGFilter"||g=="/KnownStyle"){b.push(g)}else if(g=="/Array"||g=="/Document")b.push([]);
else if(g=="/Binary"){var F=l.shift();if(F!="/ASCII85Decode")throw"e";l.shift();b.push(l.shift())}else if(g=="/XMLUID"||g=="/XMLUIDREF"){l[1]=g}else if(g=="/GObjRef"){b.push(l.shift());
b.push("/String");l.shift();l.shift()}else{console.log(b);console.log(l);throw g}if(l[0]=="/NotRecorded"){l.shift();
l.shift()}}else if(c==","){var k=b.pop(),g,I;if(k[0]=="/"&&k[1]==k[1].toUpperCase()||k==";"){g=k;k=null}else g=b.pop();
if(g=="/Name"){b.push(g);continue}if(q[g]){I=b.slice(b.length-q[g]);for(var v=0;v<q[g];v++)b.pop();var e=b.pop();
e[g]=I;b.push(e);continue}if(g=="/RealPoint"||g=="/RealPointRelToROrigin"){var H=b.pop();I=[D(b.pop()),D(H)]}else if(g=="/RealMatrix"){I=[];
for(var v=0;v<6;v++)I.push(D(b.pop()));I.reverse()}else if(g=="/String"&&typeof b[b.length-1]!="string")I="";
else{var top=b.pop();if(g==";")I=top;else if(g=="/String"||g=="/UnicodeString"||g=="/XMLUID"||g=="/XMLUIDREF"){I=top;
while(typeof b[b.length-1]=="string")I=b.pop()+I}else if(g=="/Int"||g=="/Real")I=D(top);else if(g=="/Bool")I=top=="1";
else throw JSON.stringify(g)}if(b.length==0)throw"e";var e=b.pop();if(k==null&&!(e instanceof Array)){alert("key is null in a Dict");
continue}if(k)e[k]=I;else e.push(I);b.push(e)}else b.push(c)}return b.length==0?U:b[0]}return{apR:Q,a34:n,art:m}}();
function g7(){}g7.by=function(){function j(z,h,d){var Y=!1,C=Date.now(),i=gS.apR(z,Y);if(Y)console.log("part found",Date.now()-C);
C=Date.now();var M=J(i),W=M.Layer,$=M.Header;if(Y)console.log(M);var P=M.Setup.TextDocument,O=W[0];O=M.Layer[0];
if(Y)console.log("document parsed",Date.now()-C);C=Date.now();M.Setup.Gradient=Z(M.Setup.Gradient,i);
if(Y)console.log("grads loaded",Date.now()-C);C=Date.now();M.Setup.Pattern=H(M.Setup.Pattern,i);if(Y)console.log("patts loaded",Date.now()-C);
C=Date.now();M.Setup.Palette=A(M.Setup.Palette,i);if(Y)console.log("palet loaded",Date.now()-C);C=Date.now();
M.Setup.DocumentData=e(M.Setup.DocumentData,i);if(Y)console.log("docdata loaded",Date.now()-C);C=Date.now();
M.Setup.SVGFilter=e(M.Setup.SVGFilter,i);if(Y)console.log("svgfilter loaded",Date.now()-C);C=Date.now();
var G=M.Setup.ArtStyles;if(G){M.Setup.ArtStyles=e(G,i)}var t=M.Setup.Palette;for(var v=0;v<t.length;
v++){var y=t[v],r=y[0],u=y[1][0];if(r==null)r=y[1][1];var S=M.Setup.Gradient[r];if(u==0)h.Oc.push([r,y[1][1]]);
if(u==1)h.Oc.push([r,[S.m_,S.aiJ,0,0]]);if(u==2)h.Oc.push([r,[r,0]])}var w=$.Cropmarks,dj=$.BoundingBox.split(" ").map(parseFloat),o=$.ArtSize?$.ArtSize.split(" ").map(parseFloat):[dj[2]-dj[0],dj[3]-dj[1]];
h.q=Math.round(Math.abs(o[0]));h._=Math.round(Math.abs(o[1]));var T=[1,0,0,1,-dj[0]+(h.q-(dj[2]-dj[0]))/2,-dj[1]+(h._-(dj[3]-dj[1]))/2];
T[3]=-1;T[5]=h._-T[5];if(w){w=w.split(" ").map(parseFloat);h.q=Math.round(w[2]-w[0]);h._=Math.round(w[3]-w[1]);
T=[1,0,0,-1,-w[0],h._+w[1]]}console.log(M);var i6=M.Setup.DocumentData,bH=[],cg=[];if(i6&&i6[0]&&i6[0].ArtboardArray){var bH=i6[0].ArtboardArray;
if(bH.length!=1)console.log(bH.length,"artboards");var bu=new b4;for(var v=0;v<bH.length;v++){var hH=bH[v],dK=hH.PositionPoint1,d8=hH.PositionPoint2,d1=dK[0],gH=Math.min(dK[1],d8[1]),kh=d8[0],ay=Math.max(dK[1],d8[1]),dO=new b4(d1,gH,kh-d1,ay-gH);
cg.push(dO);bu=bu.d_(dO)}h.q=Math.round(bu.q);h._=Math.round(bu._);T[4]=-bu.x;T[5]=bu.y+h._}if(i6&&i6[0]&&i6[0]["#document"]){var fy=i6[0]["#document"],bg=fy["xmlnode-children"][0];
if(bg&&bg["xmlnode-children"])bg=bg["xmlnode-children"][0];if(bg&&bg["xmlnode-nodename"]=="variableSets"){var f4=bg["xmlnode-children"][0]["xmlnode-children"],jb=f4[0],jT=f4[1],jy=E(jb);
h.Wr=hz.a0p("<variableSets><variableSet>"+jy+"</variableSet></variableSets>");if(jT){var cl=E(jT),hu=h.$h=hz.ade(cl);
for(var v=0;v<hu.length;v++)for(var aA=0;aA<hu[v].length;aA++)hu[v][aA]=hu[v][aA].trim()}}}var ko=1/dp.Gb(new b4(0,0,h.q,h._),8192*8192);
while(Math.max(h.q*ko,h._*ko)<800)ko*=2;while(d&&Math.max(h.q*ko,h._*ko)<Math.max(d[0],d[1]))ko++;if(fL==1)ko=1;
h.q=Math.round(h.q*ko);h._=Math.round(h._*ko);h.Mp=Math.round(72*ko);for(var v=0;v<6;v++)T[v]*=ko;var ec=[];
if(bH.length!=[1,0][fL]){var kK=fL==0?h.T:[];kK.push(h.v4());for(var v=0;v<cg.length;v++){var hH=bH[v],dO=cg[v],cM=h.JL();
cM.kw(hH.Name);kK.push(cM);cM.add.SoCo=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);var gG=cM.add.SoCo.Clr.v;
D(gG,[1,1,1]);var d1=dO.x,gH=dO.y,kh=d1+dO.q,ay=gH+dO._,c2=[d1,gH,kh,gH,kh,ay,d1,ay];K.c.C(c2,_(T),c2);
g(cM,{cmds:["M","L","L","L","Z"],crds:c2},h,0);cM.add.vstk=g8.o0.cL(!0);var a1=K.c.Tv(c2);ec.push({DA:hH.Name,wS:[a1.x,a1.y,a1.x+a1.q,a1.y+a1._],X:hH.IsArtboardSelected})}var cM=h.JL();
cM.kw("_Artboards_");cM.add.lsct=fM.NO;cM.TM="pass";cM.G$=24;kK.push(cM)}else ec=[{DA:"Artboard",wS:[0,0,h.q,h._],X:!0}];
if(fL==1)h.add.arts=ec;Q=[0,0,0];a=[0,0,0];B="SoCo";m="SoCo";for(var cs=0;cs<W.length;cs++){var f7=W[cs];
f7.Raster=n(f7,"Raster");f7.Place=n(f7,"Place");var j7=k(i,f7);R(h,j7,T,M,f7,i)}if(fL==0)for(var v=0;
v<h.T.length;v++){var cM=h.T[v];if(cM.Le){h.T.splice(v,1);var dz,iA=0;for(var aA=v;aA<h.T.length;aA++){dz=h.T[aA];
if(dz.add.lsct==fM.KB)iA++;else if(dz.bx())iA--;if(iA==-1)break}dz.add.vmsk=cM.add.vmsk;dz.add.vogk=cM.add.vogk;
dz.tI(h)}}else{}if(d){h.iN();var kk=h.root.uI();N.MT._i(h,kk)}if(Y)console.log("layers created",Date.now()-C);
C=Date.now()}function n(z,h){var d=z.Layer,Y=z[h];if(Y==null)Y=[];if(d){for(var v=0;v<d.length;v++){var C=d[v],i=C[h]=n(C,h);
Y=Y.concat(i)}Y.sort(function(M,W){return M._begin-W._begin})}return Y}var Q,a,B,m;function R(z,h,d,Y,C,i){var M=[],W=0,$="",P=!1,O={},G=UDOC.G,t=UDOC.getState(),r="norm",u=1,S=0,w=!1,dj=0,o=!1,T=!0,i6=null,bH=null,cg=!1,bu=0,hH=null,dK,d8,d1=0,gH=0,kh=0,bg=0,f4=!1;
t.ctm=d;var y=g8.no.cL(),ay=[0,0],dO=[],fy=[];for(var jb=0;jb<h.length;jb++){var jT=h[jb],ec=1e9;if(jT[0]=="%"){if(jT=="%_/ArtDictionary :"&&bu==0){i6=[jT.slice(2)]}else if(i6!=null){if(jT=="%_"&&bu==0){var jy=gS.art(i6),cl=z.T[z.T.length-1],hu=jy.AI10_ArtUID,aA=jy.BBAccumRotation;
if(hu&&!hu.startsWith("XMLID"))cl.kw(s(hu));if(aA&&cl.add.vmsk==null&&z.T[z.T.length-2])cl=z.T[z.T.length-2];
if(aA&&cl.add.vmsk)cl.add.vmsk.gV=parseFloat(aA);i6=null}else{i6.push(jT.slice(cg?1:2));if(jT=="%_X=")bu++;
if(jT=="%_X+")bu--;if(jT=="%_/Binary : /ASCII85Decode ,")cg=!0;if(cg&&jT.endsWith("~>"))cg=!1}}else if(hH){dK+=(dK==""?"":" ")+jT.slice(2);
if(dK.endsWith("X#")){hH.push(dK.slice(0,dK.length-3));dK=""}}continue}else if(jT=="/Mesh X!"){hH=[];
dK="";continue}else if(jT=="/End X!"){l(hH,t,z);hH=null;continue}var ko="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),kK=-1,cM=jT.indexOf("(")!=-1;
for(var v=0;v<ko.length;v++){var gG=jT.indexOf(" "+ko[v]+" ");if(gG!=-1&&gG<ec&&!cM){ec=gG;kK=v}}if(kK!=-1){P=!0;
var c2=ec+1+ko[kK].length;h[jb]=jT.slice(0,c2);var a1=h[jb+1];if(a1==null||a1[0]=="%"||kK>9)h.splice(jb+1,0,jT.slice(c2));
else h[jb+1]=(jT.slice(c2)+" "+a1).replace(/\s\s+/g," ");jb--;continue}jT=jT.trim();var cs=jT.split(" "),f7=cs[cs.length-1],j7=f7.toLowerCase(),dz=cs.map(parseFloat);
if(f7=="m")G.moveTo(t,dz[0],dz[1]);else if(f7=="L"||f7=="l")G.lineTo(t,dz[0],dz[1]);else if(f7=="V"||f7=="v"){var iA=t.pth.crds,kk=t.cpos[0],fA=t.cpos[1];
G.curveTo(t,kk,fA,dz[0],dz[1],dz[2],dz[3]);var g5=iA.length;iA[g5-6]=kk;iA[g5-5]=fA}else if(f7=="Y"||f7=="y")G.curveTo(t,dz[0],dz[1],dz[2],dz[3],dz[2],dz[3]);
else if(f7=="C"||f7=="c")G.curveTo(t,dz[0],dz[1],dz[2],dz[3],dz[4],dz[5]);else if(f7=="H"||f7=="h"){if(f7==j7)G.closePath(t);
if(!w){var h$=z.JL();z.T.push(h$);h$.kw("<Clipping Path>");h$.Le=!0;h$.add.vstk=g8.o0.cL();h$.add.SoCo=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);
g(h$,t.pth,z,S)}else o=!0}else if(f7=="XR"){S=dz[0]}else if(f7=="Xy"){r=g7.ajM[dz[0]];u=dz[1];if(r==null){r="norm";
console.log("unknown blend mode",dz[0])}}else if(f7=="Xd"){var cl=z.T[z.T.length-1];cl.wT=Math.round(255*u);
cl.TM=cl.bx()&&r=="norm"?"pass":r}else if(f7=="AE")d1=dz[0];else if(f7=="Ae")gH=dz[0];else if(f7=="Xw")kh=dz[0];
else if(f7=="*"){var hL=t.pth.crds,ha=t.ctm,gG=hL[0]==hL[2]?0:1;z.qO.push([gG,hL[gG]]);G.newPath(t)}else if(f7=="XN")d8=jT.split(" ")[0];
else if(f7=="XI"){var jl=C.Raster,fI,aE;if(jl==null||jl.length==0){console.log("no Raster");continue}if(jT!="XI"){continue}else{var es=jl[W++];
if(es.Data)es=es.Data;var kN=es._begin,fV=es._end;while(i[kN]!=88)kN++;kN+=3;fI=i.slice(kN,fV);aE=h[jb-2].split(" ").map(parseFloat)}var jU=aE.slice(8),c$=jU[2],iq=jU[3],cz=c$*iq,h0=K.U(cz*4);
h0.fill(255);var fl=jU[7],co=jU[8],cC=jU[6],gr=Math.ceil(c$*fl*cC/8);if(fl==1){if(cC==8)for(var v=0;
v<cz;v++)for(var eK=0;eK<3;eK++)h0[4*v+eK]=fI[v];else if(cC==1)for(var kM=0;kM<iq;kM++)for(var bM=0;
bM<c$;bM++)for(var eK=0;eK<3;eK++)h0[4*(kM*c$+bM)+eK]=255*(fI[kM*gr+(bM>>>3)]>>>7-(bM&7)&1);else throw cC}else if(fl==3)for(var v=0;
v<cz;v++)for(var eK=0;eK<3;eK++)h0[4*v+eK]=fI[3*v+eK];else if(fl==4||fl==5)for(var v=0;v<cz;v++){var bn=p([fI[fl*v+0]/255,fI[fl*v+1]/255,fI[fl*v+2]/255,fI[fl*v+3]/255]);
h0[4*v+0]=bn[0]*255;h0[4*v+1]=bn[1]*255;h0[4*v+2]=bn[2]*255}else if(fl==7)for(var v=0;v<cz;v++){h0[4*v+0]=fI[fl*v+0];
h0[4*v+1]=fI[fl*v+1];h0[4*v+2]=fI[fl*v+2]}else console.log("unknown number of channels",fl);if(co==1){var fT=iq*gr;
for(var v=0;v<cz;v++)h0[4*v+3]=fI[fT+v]}var ck=K.gy(h0,c$,iq)?"JPG":"PNG";if(c$*iq<700*700)ck="PNG";
var ce=fj.Mi(ck).OR([[h0.buffer]],c$,iq),kn=z.$D(new Uint8Array(ce),"<Image>",0,0);z.T.push(kn);kn.TM=r;
kn.wT=Math.round(255*u);kn._a(kh==0);var fc=new j8;fc.scale(1,-1);fc.concat(_(aE.slice(1)));fc.concat(_(t.ctm));
var cv=kn.add.SoLd,gM=cv.Sz.v,hF=new b4(0,0,gM.Wdth.v,gM.Hght.v),cs=K.c.yc(hF).g;K.c.C(cs,fc,cs);kn.add.SoLd.Trnf=N.IP.ob(cs);
kn.add.SoLd.nonAffineTransform=N.IP.ob(cs);kn.pS(z,!1)}else if(f7=="Ln"){M.push(b(jT))}else if(f7=="u"||f7=="q"||f7=="Lb"){if(f7=="Lb")z.add.prvw=dz[1];
dO.push(gH==1);fy.push((f7=="Lb"?1-dz[0]:kh)==0);if(w)continue;z.T.push(z.v4())}else if(f7=="U"||f7=="Q"||f7=="LB"){if(dO.length==0||fy.length==0)throw jb;
var fg=dO.pop(),fP=fy.pop();if(f7=="LB")fg=d1==1;if(w)continue;var kn=z.JL();kn.kw((f7=="U"?"<Group>":"<Clip Group>")+$);
if(f7=="LB")kn.kw(M.pop());kn.add.lsct=fg?fM.ko:fM.NO;kn.TM="pass";kn.G$=24;kn._a(fP);z.T.push(kn);if(f4){if(z.T[z.T.length-3].getName()=="</Layer group>"){z.T.pop();
z.T.splice(z.T.length-2,1)}f4=!1}}else if(f7=="Bb")T=dz[0]!=1;else if(f7=="BB"){}else if(f7=="Bm"||f7=="Bc"||f7=="Xm"){}else if(f7=="Bh")ay=dz.slice(2,4);
else if(f7=="Bg"){var cu=Y.Setup.Gradient,h8=cu[b(jT)],cs=jT.slice(jT.indexOf(")")+2).split(" ").map(parseFloat);
if(h8==null){console.log("gradient not found");for(var ia in cu){h8=cu[ia];break}}var bL=cs[10];if(isNaN(bL))bL=1;
var jq=cs.slice(0,4);jq.push(bL,ay[0],ay[1]);if(Math.max(Math.abs(jq[0]),Math.abs(jq[1]))>20){jq[0]=0;
jq[1]=0;jq[3]=1;console.log("strange gradient")}var dJ=[h8.m_,h8.aiJ,jq,cs.slice(4,10)];U(dJ,"GdFl",T)}else if(j7=="p"){var ju=b(jT);
if(z.H2[ju]==null){var cL=Y.Setup.Pattern[ju],k7=cL.wS,c$=Math.round(k7[2]-k7[0]),iq=Math.round(k7[3]-k7[1]),jy=new hs,ai=d[0],fc=new j8(1,0,0,-1,-cL.wS[0],iq+cL.wS[1]);
fc.concat(new j8(ai,0,0,ai,0,0));var g_=[Q,a,B,m];Q=[0,0,0];a=[0,0,0];B="SoCo";m="SoCo";R(jy,cL.q9,[fc.NX,fc.b,fc.RK,fc.zP,fc.Qr,fc.dE],Y,C,i);
jy.q=Math.round(c$*ai);jy._=Math.round(iq*ai);jy.iN();jy.ge();if(fL==0){jy.buffer=K.U(jy.q*jy._*4);jy.D$()}Q=g_[0];
a=g_[1];B=g_[2];m=g_[3];window.amt=cL.q9;z.H2[ju]=jy}var eL=jT.slice(jT.indexOf(")")+2),e5=eL.slice(0,eL.indexOf("[")-1).split(" ").map(parseFloat),dP=eL.slice(eL.indexOf("[")+1,eL.indexOf("]")).split(" ").map(parseFloat);
U([ju,[e5,dP]],"patt",f7=="p")}else if(f7=="J"||f7=="j"||f7=="w"||f7=="M"||f7=="d"){var fc=t.ctm,ai=Math.sqrt(Math.abs(fc[0]*fc[3]-fc[1]*fc[2]));
for(var v=1;v<cs.length;v++){var ei=cs[v],aQ=dz[v-1];if(ei=="w")y.Sn=aQ*ai;if(ei=="j")y.aO=aQ;if(ei=="J")y.th=aQ;
if(ei=="M")y.sX=aQ;if(ei=="d"){var ky=jT.slice(jT.indexOf("[")+1,jT.indexOf("]")).trim();if(ky.length!=0){var i9=ky.split(" ").map(parseFloat);
y.SH=i9;for(var eK=0;eK<i9.length;eK++)i9[eK]*=ai}else if(ky=="")y.SH=[]}}}else if(j7=="xa"||j7=="xx"){var a8=X(jT);
U(a8,"SoCo",f7=="Xa"||f7=="Xx")}else if(j7=="xk"){a8=X(jT);U(a8,"SoCo",f7=="Xk")}else if(j7=="k"||j7=="x"){a8=X(jT);
U(a8,"SoCo",f7==j7)}else if(j7=="g"){var a8=[dz[0],dz[0],dz[0]];U(a8,"SoCo",f7==j7)}else if(j7=="n"){if(!w)G.newPath(t)}else if(f7=="*u"){w=!0;
dj=0;fy.push(kh==0)}else if(f7=="*U"||j7=="s"||j7=="f"||j7=="b"){if(f7!="*U"&&w){if(j7=="f"||j7=="b")dj|=1;
if(j7=="s"||j7=="b")dj|=2;continue}if(f7==j7)G.closePath(t);if(f7=="*U"){w=!1}var kn;{kn=z.JL();kn.G$|=16;
g(kn,t.pth,z,S);var ej=j7=="f"||j7=="b"||f7=="*U"&&dj&1,it=j7=="s"||j7=="b"||f7=="*U"&&dj&2,fJ=kn.add.vstk=g8.o0.cL(ej,it),hk=K.u(y);
hk.vg=[];hk.tY=[];if(ej)hk.vg=Q;if(it)hk.tY=a;if(fL==0){g8.o0.write(fJ,hk);if(B=="SoCo"){kn.add.SoCo=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);
var eI=kn.add.SoCo.Clr.v;D(eI,Q)}if(B=="GdFl"){kn.add.GdFl=g7.jF(Q,kn.add.vmsk.z)}if(B=="patt"){kn.add.PtFl=q(Q,z)}if(it){var kI=["SoCo","GdFl","patt"].indexOf(m),dY=kI==0?{Clr:{t:"Objc",v:fs.bh(a)}}:kI==1?g7.jF(a,kn.add.vmsk.z):q(a,z),ds=[g8.WE,g8.Kp,g8._$][kI],bC=fJ.strokeStyleContent.v={classID:g8.o0.TF[kI]};
for(var v=0;v<ds.length;v++)bC[ds[v]]=dY[ds[v]]}}else kn.add.vstl=hk}if(f7=="*U"&&o){kn.Le=!0;o=!1}kn.kw("<"+(f7=="*U"?"Compound ":"")+"Path>"+$);
kn.TM=r;kn.wT=Math.round(255*u);kn._a(f7=="*U"?fy.pop():kh==0);kn.tI(z);z.T.push(kn);G.newPath(t)}else if(f7==","&&cs[0]=="/XMLUID"){var cl=z.T[z.T.length-1];
for(var v=0;v<z.Wr.length;v++)if("("+z.Wr[v].docRef+")"==cs[2])z.Wr[v].docRef="id('"+cl.add.lyid+"')"}else if(f7==","&&cs[1]=="/FreeUndo"){bg=dz[0]}else if(f7==","&&cs[1]=="/StoryIndex"){var a_=Y.Setup.TextDocument,gu=null;
if(!(a_ instanceof Array))window.avK=a_=Y.Setup.TextDocument=I(a_,i);var dM=a_[0],fb=a_[2];if(dM._DocumentResources)dM=a_[0]=bO.axI(dM);
else bO.a5w(dM);var kn=z.JL();kn.add.lnsr="rend";kn.add.TySh=eR.N0(0,0);var jI=dz[0];if(bg==1){for(var v=1;
v<60;v++){var a1=h[jb+v];if(a1&&a1.endsWith("/StoryIndex ,")){jI=parseFloat(a1.slice(2,a1.indexOf(" ")));
f4=!0;break}}bg=0}var hj=d2.axZ(dM),gR=kn.add.TySh.Kt=hj[jI];if(gR==null){console.log("text not found");
f4=!1;continue}kn.kw(eR.yi(gR).slice(0,50));kn.TM=r;kn.wT=Math.round(255*u);kn._a(kh==0);var im=dM._1._1[jI]._1._0[0]._0;
im=parseInt(im.slice(1));var jQ=dM._0._8._0,cS=jQ[im]._0;if(cS._0)gu=c(cS._0);else if(cS._1)gu=c(cS._1._0);
else gu=c(cS._2._2).slice(3);if(gu.length!=2){var k7=K.c.Tv(gu);gu=[k7.x,k7.y];if(k7.$()!=0){eR.dY(gR,1);
eR.gG(gR,[0,0,Math.round(k7.q),Math.round(k7._)])}}var bA=new j8,ad=new j8(1,0,0,1,gu[0],gu[1]),cp=new j8(1,0,0,1,-fb[0],-fb[1]),aK=_(t.ctm),f0=new j8;
if(cS._2&&cS._2._2){var d=c(cS._2._2);f0=new j8(d[0],d[1],d[2],d[3],d[4],d[5])}bA.concat(ad);bA.concat(f0);
bA.concat(cp);bA.scale(1,-1);bA.concat(aK);kn.add.TySh.C=bA;z.T.push(kn);z.HM=!0}else if(f7=="Tp"){O.uS=_(dz)}else if(f7=="Tf"){O.font=cs[0].slice(2)}else if(f7=="Tk"){var kn=z.JL();
kn.add.lnsr="rend";var j_=kn.add.TySh=eR.N0(0,0),gR=j_.Kt,fc=O.uS.O(),gM=fc.P8();fc.concat(_(t.ctm));
var e8=new j8(1/gM,0,0,-1/gM,0,0);e8.concat(fc);j_.C=e8;var jO=b(jT);kn.kw(jO);eR.Yr(gR,0,jO);var jH=eR.JB(gR,0,jO.length);
jH.RW.FontSize=gM;jH.RW.FillColor={Type:1,Values:[1,Q[0],Q[1],Q[2]]};eR.em(jH,O.font);eR.A0(gR,0,jO.length,jH);
z.T.push(kn);z.HM=!0}else if(P&&dz.length>3){var h1=!1;for(var v=0;v<dz.length;v++)if(isNaN(dz[v]))h1=!0;
if(!h1)h[jb+1]=(jT+" "+h[jb+1]).replace(/\s\s+/g," ")}}}function q(Q,z){if(z.Sg==null)z.Sg={};var h=z.Sg[Q[0]];
if(h==null){var d=z.H2[Q[0]],h=z.Sg[Q[0]]={};h.id=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f";h.name="someImage";
h.Fd=[d.rd(),new b4(0,0,d.q,d._)];z.sS(h)}var Y=JSON.parse(g8.sp[g8.order.indexOf("patternFill")]);Y.Ptrn.v.Idnt.v=h.id;
var C=_(Q[1][1]),i=-Math.atan2(-C.b,C.NX);Y.Angl.v.val=Math.round(i*180/Math.PI);Y.Scl.v.val=Math.round(100*C.P8());
return Y}g7.jF=function(z,h){var d=g7.Kz(z,h),Y=[0,0,1,0];if(z[0]==0)Y[0]=.5;K.c.C(Y,d,Y);var C=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]),i=C.Grad.v;
i.Intr.v=0;C.Type.v.GrdT=["Lnr","Rdl"][z[0]];K.Gp.wM(z[1],i);K.Gp.$z(new eE(Y[0],Y[1]),new eE(Y[2],Y[3]),K.R.sR(h),C);
return C};g7.xG=function(z,h,d){var Y={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[z.Type.v.GrdT],C=K.R.sR(h);
if(d&&!z.Algn.v)C=new b4(0,0,d.q,d._);var i=K.Gp.aD_(z,C),M=i[0],W=i[1];if(Y==0){M.x-=W.x-M.x;M.y-=W.y-M.y}var $=W.x-M.x,P=W.y-M.y,O=Math.sqrt($*$+P*P),G=new j8;
G.rotate(Math.atan2(-P,$));G.scale(O,O);G.translate(M.x,M.y);var t=g7.J7(Y,G,h),y=z.Grad.v;t[1]=K.Gp.amW(y,null,null);
return t};g7.dV=function(z,h,d){var Y=eE.X_(z,h),C=new j8;C.scale(Y,Y);C.rotate(-Math.atan2(h.y-z.y,h.x-z.x));
C.translate(z.x,z.y);if(d)C.concat(d);return C};g7.HJ=function(z,h,d,Y,C){if(h&&!Y.N_(h)){var i=Math.atan2(-(d.y-h.y),d.x-h.x);
if(C!=null||i!=0){var M=new j8;M.translate(-h.x,-h.y);M.scale(1,C);M.rotate(i);M.translate(h.x,h.y);
M.m2();Y=M.JZ(Y)}var W=Math.atan2(-(Y.y-h.y),Y.x-h.x);z[2][5]=W*180/Math.PI;z[2][6]=eE.X_(Y,h)/eE.X_(d,h)}};
g7.J7=function(z,h,d){var Y=h.O(),$,P,O=1;Y.m2();var C=f.hx.wX(d);K.R.fK(C,Y);var i=K.R.sR(C),M=i.q,W=i._;
if(z==0){var G=new j8;G.translate(-i.x,-i.y);G.translate(-M/2,-W/2);var t=g7.a83(M,W,0);G.scale(1/t,1/t);
G.scale(1/M,1/W);$=G.Qr+.5;P=G.dE+.5;O=G.NX}else{$=-i.x/M-.5;P=-i.y/W-.5;var y=($-.5)*M/2,r=(P-.5)*W/2;
O=1/Math.sqrt(2*(y*y+r*r))}var u=[z,null,[$,P,0,O,1,0,0],[h.NX,h.b,h.RK,h.zP,h.Qr,h.dE]];return u};g7.Kz=function(z,h){var d=z[0],Y=z[2],C=z[3],i=new j8(C[0],C[1],C[2],C[3],C[4],C[5]);
i.m2();var M=f.hx.wX(h);K.R.fK(M,i);var W=K.R.sR(M),$=W.q,P=W._,O=Y[0],G=Y[1],t=Y[2]*Math.PI/180,y=Y[3],r=new j8;
if(d==0){r.scale(y,y);r.translate(O-.5,G-.5);r.scale($,P);r.rotate(t);var u=g7.a83($,P,t);r.scale(u,u);
r.translate($/2,P/2)}else{var S=(O-.5)*$/2,w=(G-.5)*P/2,u=y*Math.sqrt(2*(S*S+w*w));r.scale(u,u*Y[4]);
r.rotate(t);r.translate((O+.5)*$,(G+.5)*P)}r.translate(W.x,W.y);r.concat(new j8(C[0],C[1],C[2],C[3],C[4],C[5]));
return r};function U(z,h,d){if(d){B=h;Q=z}else{m=h;a=z}}function l(z,h,d){var Y=UDOC.G,C=[],i=[],M="/DeviceGray",W=1,$=[],P=1;
for(var O=0;O<z.length;O++){var G=z[O];if(G.endsWith(" /CS")){var t=G.indexOf("/NChannel"),y=G.indexOf("/Process");
if(G.startsWith("/DeviceRGB")){M="/DeviceRGB";W=3}else if(G.startsWith("/DeviceGray")){M="/DeviceGray";
W=1}else if(G.startsWith("/DeviceCMYK")){M="/DeviceCMYK";W=4;$=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(t!=-1){M="/DeviceCMYK";
W=parseInt(G.slice(t-2,t-1));var r=1;for(var v=0;v<W;v++){r=G.indexOf("[",r);$[W-1-v]=G.slice(r+1,r+8).split(" ").map(parseFloat);
r++}}else if(y){M="/DeviceGray";W=1}else throw G}else if(G[0]=="["){var u=G.indexOf("]"),S=G.slice(1,u).split(" ").map(parseFloat),w=G.slice(u+2),dj,o,T,i6,bH,cg;
if(w=="/Size"||w=="/P"||w=="/R")continue;if(w=="/S"||w=="/A"){dj=S[0];o=S[1];T=S[2];i6=S[3];bH=S[4];
cg=S[5]}else if(w=="/N"){var bu=W+(P==1?0:1),hH;dj=S[bu+0];o=S[bu+1];T=S[bu+2];i6=S[bu+3];bH=S[bu+5];
cg=S[bu+6];if(M=="/DeviceRGB")hH=S.slice(0,3);else if(M=="/DeviceGray")hH=[S[0],S[0],S[0]];else if(M=="/DeviceCMYK"){var dK=[0,0,0,0];
for(var v=0;v<W;v++){var d8=S[v],d1=$[v];dK[0]+=d8*d1[0];dK[1]+=d8*d1[1];dK[2]+=d8*d1[2];dK[3]+=d8*d1[3]}hH=p(dK)}else throw hH;
hH.push(S[W]);i.push([hH,dj,o])}else throw w;C.push([w,bH,cg,dj,o,T,i6])}else if(G=="/E"){var gH=C.slice(0),kh=0;
for(var v=0;v<C.length;v++){var ay=C[v][0];if(ay=="/N"){kh++;continue}var dO=v,fy=v+1;while(C[fy][0]!="/N"&&fy<C.length)fy++;
if(kh==0||kh==3){for(var bg=0;bg<fy-dO;bg++)gH[dO+bg]=C[fy-1-bg]}else for(var bg=dO;bg<fy;bg++){var f4=gH[bg],jb=f4[1];
f4[1]=f4[5];f4[5]=jb;jb=f4[2];f4[2]=f4[6];f4[6]=jb}v=fy-1}C=[];for(var v=0;v<gH.length;v++){var f4=gH[v];
C.push(f4[1],f4[2],f4[3],f4[4],f4[5],f4[6])}var jT=C.length;Y.moveTo(h,C[2],C[3]);for(var v=0;v<jT;v+=6){var T=C[(v+4)%jT],i6=C[(v+5)%jT],bH=C[(v+6)%jT],cg=C[(v+7)%jT],dj=C[(v+8)%jT],o=C[(v+9)%jT];
Y.curveTo(h,T,i6,bH,cg,dj,o)}Y.closePath(h);C=[]}else if(G.endsWith("/Version"))P=parseFloat(G[0])}var jy=d.JL();
jy.G$|=16;jy.kw("<Mesh>");var cl=jy.add.vstk=g8.o0.cL(!0);g(jy,h.pth,d,0);if(i.length>=2){var hu=0,aA=0,ko=0;
for(var v=0;v<i.length;v++)for(var bg=v+1;bg<i.length;bg++){var ec=i[v][0],kK=i[bg][0],cM=ec[0]-kK[0],gG=ec[1]-kK[1],c2=ec[2]-kK[2],a1=Math.sqrt(cM*cM+gG*gG+c2*c2);
if(a1>ko){ko=a1;hu=v;aA=bg}}var cs=i[hu],f7=i[aA],j7=[[0,cs[0],1,.5],[1,f7[0],1,.5]],dz=_(h.ctm),iA=dz.JZ(new eE(cs[1],cs[2])),kk=dz.JZ(new eE(f7[1],f7[2]));
if(iA.N_(kk))kk.x+=1;if(fL==0){var fA=jy.add.GdFl=JSON.parse(g8.sp[g8.order.indexOf("GrFl")]),g5=fA.Grad.v;
g5.Intr.v=0;fA.Type.v.GrdT="Lnr";K.Gp.wM(j7,g5);var h$=K.c.Tv(h.pth.crds);iA.x=(iA.x+kk.x)/2;iA.y=(iA.y+kk.y)/2;
K.Gp.$z(iA,kk,h$,fA)}else{var hL=jy.add.vstl=g8.no.cL();hL.tY=[];var ha=g7.dV(iA,kk,new j8);hL.vg=g7.J7(0,ha,jy.add.vmsk.z);
hL.vg[1]=j7}}d.T.push(jy);Y.newPath(h)}function b(z){var h=z.indexOf(")");while(z[h-1]=="\\")h=z.indexOf(")",h+1);
return z.slice(z.indexOf("(")+1,h).replaceAll("\\","")}function D(z,Q){z.Rd.v=Q[0]*255;z.Grn.v=Q[1]*255;
z.Bl.v=Q[2]*255}function c(z){var h=[];for(var v=0;v<z.length;v++)h[v]=parseFloat(z[v].slice(1));return h}function _(z){return new j8(z[0],z[1],z[2],z[3],z[4],z[5])}function p(z){return K.dm(z.slice(0,4)).slice(0,3)}function X(z){var h=z.split(" "),d=h[h.length-1],Y=d.toLowerCase(),C=h.map(parseFloat),i=null;
if(Y=="xa"||Y=="xx"||Y=="xz"){var i=C[4]==null?C.slice(0,3):[C[4],C[5],C[6]];if(Y=="xx"&&C[C.length-2]==2)i=p(C)}else if(Y=="g")i=p([0,0,0,1-C[0]]);
else if(Y=="x"||Y=="k"){if(Y=="x"){C.pop();var M=1-C.pop();for(var v=0;v<4;v++)C[v]*=M}i=p(C)}else if(Y=="xk"){var W=C[C.length-2],$=C[C.length-3];
if(W==0)i=p(C);else if(W==1){i=[C[4],C[5],C[6]];for(var v=0;v<3;v++)i[v]=$*1+(1-$)*i[v]}else throw z}else throw Y;
return i}function g(z,h,d,Y){z.add.vmsk=new f.hx;if(h.crds.length!=0)z.add.vmsk.z=F(h);z.add.vmsk.H_=Y;
z.sU();z.tI(d)}function F(z){var h={g:z.crds,rZ:z.cmds},d=K.c.TW(h,!1);return d}function k(z,h){var d=[],O=0,r=0;
for(var Y=0;Y<2;Y++){var C=h[["Raster","Place"][Y]];if(C==null)continue;for(var v=0;v<C.length;v++){for(var i=0;
i<3;i++){var M=C[v][["Data","Document","PlacedObjectPreview"][i]];if(M==null)continue;var W=M._begin,$=M._end;
if(W>$)W=$;d.push([W,$])}}}d.sort(function(S,w){return S[0]-w[0]});var P=[h._begin];for(var v=0;v<d.length;
v++){var G=d[v],W=G[0]+32;P.push(W,G[1]);O+=G[1]-W}P.push(h._end);var t=h._end-h._begin,y=new Uint8Array(t-O);
for(var v=0;v<P.length;v+=2){var W=P[v],u=P[v+1]-W;y.set(new Uint8Array(z.buffer,W,u),r);r+=u}return L.Cl(y).split(/\r\n|\r|\n/)}function I(z,h){if(z==null)return[];
var d=k(h,z),Y="",C="",i=0,M;for(var v=2;v<d.length;v++){var W=d[v];if(W[0]=="%"){if(i==0)Y+=W.slice(1);
else C+=W.slice(1)}else if(W==";")i++;else if(W.endsWith("/RulerOrigin ,"))M=W.split(" ").slice(0,2).map(parseFloat)}var $=[Y,C],P=[];
for(var v=0;v<2;v++){var O=$[v],G=new Uint8Array(O.length);L.ey(G,0,O);var t=FromPS.F.ASCII85Decode({buff:G,off:0}),y=aN.by(t);
P.push(y)}P.push(M);return P}function e(z,h){if(z==null)return[];var d=k(h,z);d=d.slice(1);for(var v=0;
v<d.length;v++){var Y=d[v];if(Y.startsWith("%AI17_Begin_Content_if_version_gt")||Y=="%AI17_Alternate_Content"||Y=="%AI17_End_Versioned_Content")d[v]="";
else if(Y[0]=="%")d[v]=Y.slice(Y[1]=="_"?2:1)}var C=gS.art(d);return C}function H(z,h){var d={};if(z==null)return d;
for(var v=0;v<z.length;v++){var Y=k(h,z[v]),C=Y[1],i=b(C),M=C.slice(C.lastIndexOf(")")+2).split(" ").map(parseFloat),W=[];
for(var $=2;$<Y.length;$++)W.push(Y[$].slice(2));d[i]={wS:M,q9:W}}return d}function A(z,h){var d=[],C,i;
if(z==null)return d;var Y=k(h,z);for(var v=1;v<Y.length;v++){var M=Y[v];if(M=="0 0 Pb"||M=="PB"||M==""){}else if(M.endsWith("Xa")||M.endsWith("Xz")||M.endsWith("Xx")||M.endsWith("Xk")||M.endsWith(" g")||M.endsWith(" x")||M.endsWith(" k"))C=[0,X(M)];
else if(M.endsWith("Xs"))C=[0,[0,0,0]];else if(M.endsWith("Bg"))C=[1,b(M)];else if(M.endsWith("Pg")||M.endsWith("p"))C=[2,b(M)];
else if(M[0]=="(")i=b(M);else if(M=="Pc")d.push([i,C]);else if(M=="0 BB"||M=="Bb"||M.endsWith("Bh")){}else throw M}return d}function Z(z,h){var d={},Y,C;
if(z==null)return d;var i=[];for(var v=0;v<z.length;v++){var M=k(h,z[v]);for(var W=0;W<M.length;W++){var $=M[W];
if($.endsWith("%_Bs")){var P=$.slice(0,$.length-4);if(!P.endsWith(" "))P+=" ";$=P+"%_BS"}if($[0]=="("){Y=b($);
var O=$.slice($.lastIndexOf(")")+2).split(" ");C=parseInt(O[0])}else if($.endsWith("%_BS")){var G=$.split(" "),u,S=1;
G.pop();G=G.map(parseFloat);var t=G.pop(),y=G.pop(),r=G.pop();if(r==0)u=[G[0],G[0],G[0]];else if(r==2||r==4)u=[G[4],G[5],G[6]];
else if(r==1||r==3)u=p(G);else if(r==6){if(G.length==3)u=[G[0],G[0],G[0]];else if(G.length>=8)u=G.slice(4,7);
else u=p(G);S=G.pop()}else{throw r}i.push([t/100,u,S,y/100])}else if($=="BD"){i.sort(function(w,dj){return w[0]-dj[0]});
d[Y]={m_:C,aiJ:i};i=[]}}}return d}function J(z){var h="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),d=Date.now(),Y=0,C=[],i={Header:{}},M=[i],W=z.length;
while(Y<W){var $=Y;while($!=W&&z[$]!=13&&z[$]!=10){$++}if(z[Y]==37&&z[Y+1]==95&&z[Y+2]==37)Y+=2;if(z[Y]==37&&(z[Y+1]==37||z[Y+1]==65)){var P=L.AP(z,Y,$-Y);
if(P=="%%EOF")break;if(P=="%%EndComments"||P=="%EndComments"||P=="%AI5_Begin_NonPrinting"||P=="%AI5_End_NonPrinting--"||P.startsWith("%AI17_Begin_Content_if_version_gt")||P=="%AI17_End_Versioned_Content"){}else{var O=P.indexOf("Begin"),G=Math.max(P.indexOf("_End"),P.indexOf("%End"));
if(O!=-1&&P[O-1]!="%"&&P[O-1]!="_")O=-1;if(O!=-1){var t=P.slice(O+5).split(":")[0],y={_begin:Y,_end:Y},r=M[M.length-1];
if(h.indexOf(t)!=-1){if(r[t]==null)r[t]=[];r[t].push(y)}else{if(r[t]!=null){console.log(M);throw P}r[t]=y}M.push(y);
if(P.startsWith("%%BeginData")){$=L._8(z,"%%EndData",Y)}else if(P.slice(0,15)=="%%BeginDocument")$=L._8(z,"%%EndDocument",$);
else if(P=="%AI9_BeginDocumentData")$=L._8(z,"%AI9_EndDocumentData",$);else if(P=="%AI11_BeginTextDocument")$=L._8(z,"%AI11_EndTextDocument",$)}else if(G!=-1){if(M.length>1)M.pop()._end=Y}else if(M.length==1&&(P.startsWith("%AI")||P.startsWith("%%")&&P.indexOf(" ")!=-1)){var u=1;
if(P.startsWith("%AI"))while(P[u]!="_"&&u<P.length)u++;var S=P.indexOf(":");if(S==-1)S=P.indexOf(" ");
var w=P.slice(u+1,S),dj=P.slice(S+1).trim();i.Header[w]=dj}}}Y=$;if(z[Y]==13)Y++;if(z[Y]==10)Y++}return i}function s(z){var h="";
for(var v=0;v<z.length;v++){if(z[v]=="_"&&z[v+1]=="x"){var dv=parseInt(z.slice(v+2,v+4),16);h+=String.fromCharCode(dv);
v+=4}else if(z[v]=="_")h+=" ";else h+=z[v]}return h}function E(z){var h="xmlnode-nodename",d="xmlnode-nodevalue",Y="xmlnode-attributes",C="xmlnode-children",i=z[h].split(":").pop().replace("#",""),M=z[Y],W=z[C],$="<"+i;
for(var P in M)if(P!="xmlns"&&P!="xmlns:v")$+=" "+P.split(":").pop()+"=\""+M[P][d]+"\"";$+=">"+(W.length==0?"":"\n");
for(var v=0;v<W.length;v++)$+=E(W[v]);if(z[d])$+=z[d];return $+"</"+i+">\n"}return j}();g7.a83=function(j,n,Q){var a=K.c.yc(new b4(0,0,j,n)).g,B=new j8;
B.rotate(Q);K.c.C(a,B,a);var m=K.c.Tv(a);return m.q/j};g7.ajM=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
g7.zw=function(){function j(p){var X=72/p.Mp,g=new j8(X,0,0,-X,0,0),F=p.root.children,k=[],I={qW:[],SN:{},aHr:0},H=16383,i6=0,cg=0;
for(var v=0;v<p.Oc.length;v++){var e=p.Oc[v];if(e[1].length==4)c(e[1],I,e[0])}for(var v=0;v<F.length;
v++)U(F[v],p,g,I,k,0);var A=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+H+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
A.push("%%BeginSetup\r");A=A.concat(I.qW);for(pn in p.H2){var Z=p.H2[pn],J=p.Mp/72;A.push("%AI3_BeginPattern: ("+pn+")");
A.push("("+pn+") 0 0 "+Math.round(Z.q/J)+" "+Math.round(Z._/J));var F=Z.root.children,s=[];for(var v=0;
v<F.length;v++)U(F[v],Z,g,I,s,1);s=window.amt;for(var v=0;v<s.length;v++){var E=s[v];A.push(E.startsWith("%_")?E:"%_"+E)}A.push("E","%AI3_EndPattern")}if(p.Oc.length!=0){A.push("%AI5_BeginPalette","0 0 Pb");
for(var v=0;v<p.Oc.length;v++){var e=p.Oc[v],z="("+e[0]+")",h=e[1].length;if(e[0]=="[Registration]")A.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(h==3)A.push(q(K.zd(e[1]).concat(e[1]))+" "+z+" 0 1 Xk");else if(h==4)A.push("Bb","0 0 0 0 Bh",e[1][0]+1+" "+z+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(h==2)A.push(z+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");A.push(z,"Pc")}A.push("PB","%AI5_EndPalette")}A=A.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var d=p.add.arts;for(var v=0;v<d.length;v++){var Y=d[v];console.log(Y);var C=Y.wS[0]*X,i=-Y.wS[1]*X,M=Y.wS[2]*X,W=-Y.wS[3]*X;
A.push("/Dictionary :","("+Y.DA+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",H/2+" "+H/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",Q(C)+" "+Q(i)+" /RealPointRelToROrigin"," (PositionPoint1) ,",Q(M)+" "+Q(W)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}A=A.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var $=[],P=[];for(var v=0;v<p.T.length;v++){var O=p.T[v],G=O.add.TySh;if(G){$.push(G.Kt);P.push(G)}}if($.length!=0){var t=d2.auY($,null,null);
function y(Y){return Y.map(function(bu){return"f"+bu})}for(var r=0;r<$.length;r++){var G=P[r],u=t._1._1[r],S=u._1._0[0]._0;
S=parseInt(S.slice(1));var w=t._0._8._0[S]._0,dj=G.C.O();dj.concat(g);dj.scale(1,-1);w._2._2=y([dj.NX,dj.b,dj.RK,dj.zP,dj.Qr,dj.dE])}var o=n(t),T=n(t);
A.push("%AI11_BeginTextDocument");A.push("/AI11TextDocument : /ASCII85Decode ,");A=A.concat(o);A.push("0.0001 0.0001 /RulerOrigin ,");
A.push(";");A.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");A=A.concat(T);A.push(";");A.push("%AI11_EndTextDocument")}A.push("%%EndSetup\r");
A=A.concat(k);console.log(A.join("\n"));A.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var v=0;v<A.length;v++){var Y=A[v];if(typeof Y=="string")Y=A[v]=L.XS(Y);i6+=Y.length+1}var bH=new Uint8Array(i6);
for(var v=0;v<A.length;v++){var Y=A[v];bH.set(Y,cg);cg+=Y.length;bH[cg]=13;cg++}return gS.a34(bH).buffer}function n(p){var X=new e3,g=aN.mH(p,X)-2,F=_(X.data.slice(0,g)),k=[];
for(var I=0;I<F.length;I+=100){if(F.length-I<103){k.push("%"+F.slice(I));break}k.push("%"+F.slice(I,I+100))}return k}function Q(dv){return dv.toFixed(3)}function a(p,X){var g=p.getName(),F=null;
X.push("%_/ArtDictionary :");if(p.add.vmsk)F=p.add.vmsk.gV;if(p.add.SoLd){var k=K.D.Uu(p.add.SoLd);F=Math.atan2(-k.b,k.NX)}if(p.add.TySh){var k=p.add.TySh.C;
F=Math.atan2(-k.b,k.NX)}if(F!=null&&F!=0)X.push("%_("+F+") /String (BBAccumRotation) ,");if(p.add.TySh)X.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!g.startsWith("<")&&!g.endsWith(">")){X.push("%_/XMLUID : "+B(g)+" ; (AI10_ArtUID) ,")}X.push("%_;","%_")}function B(p){var X="";
for(var v=0;v<p.length;v++){var g=p[v],F=p.charCodeAt(v);if(g==" ")X+="_";else if(g=="."||g==":"||g=="-"||48<=F&&F<=57||65<=F&&F<=90||97<=F&&F<=122||127<F)X+=g;
else X+="_x"+F.toString(16).toUpperCase()+"_"}return"("+X+")"}function m(p,X,g){g.push(q(p)+" "+X)}function R(p){return"[ "+q(p)+" ]"}function q(p){return p.map(Q).join(" ")}function U(p,X,g,F,k,I){var e=p.W;
if(I!=0)k.push("0 A",(e.VH()?0:1)+" Xw");if(e.bx()){var H=!1;for(var v=0;v<p.children.length;v++)if(p.children[v].W.Le)H=!0;
var A=e.add.lsct==fM.ko?1:0;if(I==0){k.push("%AI5_BeginLayer");k.push((e.VH()?1:0)+" "+X.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
k.push("("+e.getName()+") Ln");k.push(A+" AE");a(e,k)}else{k.push(A+" Ae");k.push(H?"q":"u")}for(var v=0;
v<p.children.length;v++)U(p.children[v],X,g,F,k,I+1);if(I==0)k.push("LB","%AI5_EndLayer--");else{k.push(H?"Q":"U");
a(e,k);l(e,k);k.push("0 0 Xd","6 () XW")}}else if(!0){l(e,k);var Z=e.add.TySh,J=e.add.vmsk;if(Z){k.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",F.aHr+" /StoryIndex ,");
if(eR.Pv(Z.Kt)==1){var s=eR.UC(Z.Kt),E=K.c.yc(new b4(s[0],s[1],s[2],s[3])).g;K.c.C(E,Z.C,E);K.c.C(E,g,E);
k.push("/Art :","X=","1 Ap",E[0]+" "+E[1]+" m",E[2]+" "+E[3]+" L",E[4]+" "+E[5]+" L",E[6]+" "+E[7]+" L",E[0]+" "+E[1]+" L","n","X+","; /ConfiningPath ,")}k.push("2 /TextAntialiasing ,",";");
F.aHr++}else if(e.add.SoLd){var z,h,d,Y=e.add.SoLd,C=Y.Idnt.v,i=X.x3(C,Y.Crop?Y.Crop.v:null),M=i.LQ,z=M[0],h=M[1];
d=K.D.Uu(Y);var W=new j8(1,0,0,-1,0,0);W.concat(d);W.concat(g);var $=h.$(),P=h.q,O=h._,G=K.U($*4+8);
for(var v=0;v<$;v++){var t=v*4,y=v*3;G[y]=z[t];G[y+1]=z[t+1];G[y+2]=z[t+2];G[3*$+v]=z[t+3]}L.ey(G,$*4,"%EndData");
k.push("%AI5_File:","%AI5_BeginRaster",R([W.NX,W.b,W.RK,W.zP,W.Qr,W.dE])+" 0 0 "+[P,O,P,O].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+($*4+4),"XI",G,"XH","%AI5_EndRaster","N")}else if(J){var r=e.add.vstl,u,S;
if(r){u=r.vg;S=r.tY;if(u.length==0)u=null;if(S.length==0)S=null}var w=K.R.$L(J.z)>1;if(w)k.push("*u","0 Xw");
if(u){if(u.length==3)m(u,"Xa",k);else if(u.length==4){var dj=D(u,F);k.push("Bb",dj,"2 BB")}else{k.push("("+u[0]+") "+u[1][0].join(" ")+" ["+u[1][1].join(" ")+"] p")}}if(S){var o=g.P8(),T=r.SH.slice(0);
for(var v=0;v<T.length;v++)T[v]*=o;k.push(r.th+" J "+r.aO+" j "+r.Sn*o+" w "+Q(r.sX)+" M ["+T.join(" ")+"]0 d");
if(S.length==3)m(S,"XA",k);else if(S.length==4){var dj=D(S,F);k.push("1 Bb",dj,"2 BB")}else{k.push("("+S[0]+") "+S[1][0].join(" ")+" ["+S[1][1].join(" ")+"] P")}}var i6=K.c.gb(J.z,1);
K.c.C(i6.g,g,i6.g);var bH=e.Le?"h\nW\nn":u&&S?"b":u?"f":"s";b(i6,bH,J.H_,k);if(w)k.push("*U")}a(e,k)}else{var cg=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
k=k.push(cg.join("\n"))}}function l(p,X){var g=g7.ajM.indexOf(p.TM);if(g==-1)g=0;X.push(g+" "+Q(p.wT/255)+" 0 0 0 Xy")}function b(p,X,g,F){F.push(g+" XR");
var k=0;for(var I=0;I<p.rZ.length;I++){var e=p.rZ[I],H,A=0,Z="";if(e=="M"){A=2;H="m"}if(e=="L"){A=2;
H="l"}if(e=="C"){A=6;H="c"}for(var v=0;v<A;v++)Z+=Q(p.g[k+v])+" ";k+=A;if(A!=0)F.push(Z+H);if(I==p.rZ.length-1||p.rZ[I+1]=="M"){F.push(e=="Z"?X:X.toUpperCase())}}}function D(p,X){var g=c(p,X),F="";
if(p[0]==1)F="0 0 "+p[2].slice(5).map(Q).join(" ")+" Bh\n";return F+"1 ("+g+") "+p[2].slice(0,4).map(Q).join(" ")+" "+p[3].map(Q).join(" ")+" "+Q(p[2][4])+" Bg"}function c(p,X,g){var F=p[0],k=p[1].slice(0),I=F+"-"+JSON.stringify(k);
if(X.SN[I])return X.SN[I];console.log(g);var e=X.SN[I]=g?g:"grd"+X.qW.length;X.qW.push("%AI5_BeginGradient: ("+e+")","("+e+") "+F+" "+k.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(F==0)k=k.reverse();for(var v=0;v<k.length;v++){var H=k[v];if(H[3]==null)throw"e";var A=K.zd(H[1]),Z=100*H[3],J=A.concat(H[1]).map(Q).join(" ")+" 2 "+Q(H[2])+" 6 "+Z+" "+Q(H[0]*100);
X.qW.push(J+" %_BS");X.qW.push("%_"+J+" Bs")}X.qW.push("BD","%AI5_EndGradient");return e}function _(p){var X=[85*85*85*85,85*85*85,85*85,85,1],g="",F=p.length,k=new Uint8Array(4),I=new Uint32Array(k.buffer);
for(var v=0;v<F;v+=4){var e=F-v;k[3]=p[v];k[2]=e>1?p[v+1]:0;k[1]=e>2?p[v+2]:0;k[0]=e>3?p[v+3]:0;var H=I[0],A=1+Math.min(4,e);
for(var Z=0;Z<A;Z++){var J=Math.floor(H/X[Z]);g+=String.fromCharCode(33+J);H-=J*X[Z]}}return g+"~>"}return j}();
function h7(){}h7.by=function(){var j,n,Q,a,B,m=!0,e,H,A;function R($){return m?L.vS(j,$):L.St(j,$)}function q($){return m?L.rv(j,$):L.oN(j,$)}function U($){return m?L._t(j,$):L.NZ(j,$)}function l($){return L.rv(j,$)}function b($){return L.vS(j,$)}function D($){return L.J9(j,$)}function c($,P){if($+P*4>j.length)throw P;
var O=[];for(var v=0;v<P;v++)O.push(R($+v*4));return O}function _($,P){var O=[];for(var v=0;v<P;v++)O.push(U($+v*8));
return O}function p($){return b(($+1)*4096-12)}function X($){return b(($+1)*4096-8)}function g($,n,P,O){if(a[$]==null)a[$]=[];
a[$].push([O,new Uint8Array(j.buffer,n,P)])}function F($,P,O,G){var t=Q[$],n=t*4096;n=n+b(n+4096-24-12-P*4);
var y=l(n),r=j[n+2],u=j[n+3];if(P!=r)throw r;if(u==0)g(G,n+4,O,9);else{var S=l(n+6),w=b(n+8);g(G,n+12,y-12,9);
F(w,S,O-(y-12),G)}}function k(){var $=b(352),P=b($*4096+128),O=b(936);Q=[];a={};B={};for(var v=0;v<1e9;
v++){var G=b(O*4096+128+v*4);if(G==0)break;var t=c(G*4096+128,4096-128-12>>>2);Q=Q.concat(t)}for(var y=0;
y<Q.length;y++){var r=Q[y],u=p(r);if(u!=6)continue;var n=r*4096,S=b(n);n+=4;for(var v=0;v<S;v++){var w=b(n);
n+=4;var dj=b(n);n+=4;var o=b(n);n+=4;var T=b(n);n+=4;if(w==0)B[dj]=o;else{var i6=o&65535,bH=o>>>16;
if(bH==0)g(dj,T*4096,i6,8);else F(T,bH,i6,dj)}}}var e={};for(var cg in a){var bu=a[cg],hH=bu.length;
if(hH==1)e[cg]=bu[0][1];else{var dK=0,n=0;for(var v=0;v<hH;v++)dK+=bu[v][1].length;var d8=e[cg]=new Uint8Array(dK);
for(var v=0;v<hH;v++){d8.set(bu[v][1],n);n+=bu[v][1].length}}}return e}function I(n,$){var P=0,O="";
if($){P=R(n);n+=4}else{n+=3;P=q(n);n+=2}while(O.length<P){var G=q(n),t=G&255,y=G>>>8,r=0,u="";t+=(y&15)*256;
y=y&240;n+=2;if(t==0)throw"e";for(var v=0;v<t;v++){if(y==64)r=j[n++];else if(y==128){r=q(n);n+=2}else throw y;
u+=String.fromCharCode(r)}O+=u}return[O,n]}function Z(n,$,P){var O=c(n,$);for(var v=0;v<$;v++){P.push(v);
if(O[v]>H)throw"e";O[v]=s(O[v],P);P.pop()}return O}var J={};function s($,P){if(A.indexOf($)!=-1)return e[$];
if($==0)return null;if(e[$]==null)return null;if(!(e[$]instanceof Uint8Array))return e[$];var O=j,n=0;
j=e[$];A.push($);var G=B[$].toString(16),t=e[$]={_type:W[G]?W[G]+":"+G:"typ-"+G,_eid:$};while(n+8<j.length){if(m&&b(n+4)>268435455&&b(n+4)!=1179258880)m=!1;
var y=R(n);n+=4;var r=R(n);n+=4;var u=y.toString(16),S=n+r;if(n+r>j.length){t._bin=j;break}E(u,Y,t,n,r,P);
n=S}j=O;A.pop();return t}function E($,P,O,n,G,t){var y=P[$+":"+O._type];if(y==null)y=P[$];t.push(y?y[0]==""?$:y[0]:$);
if(y){var r=y[0],u=null,S=y[1];if(r=="")r=S+"-"+$;if(i[S]&&G!=i[S]){console.log(S);console.log($,y);
console.log(j.slice(n,n+G));throw"e"}if(S=="mat")u=_(n,6);else if(S=="mmat")u=[s(R(n),t),G==6?[1,0,0,1,0,0]:_(n+6,6)];
else if(S=="rect")u=_(n,4);else if(S=="mrct"){u=_(n,4);u.push(l(n+32))}else if(S=="doub")u=U(n);else if(S=="pointArr"){var w=l(n);
u=c(n+2,w*2)}else if(S=="usrt")u=l(n);else if(S=="uint")u=R(n);else if(S=="pntr"||S=="ptr6"){u=s(R(n),t)}else if(S=="bool2"){if(q(n)!=0&&q(n)!=1)throw q(n);
u=q(n)==1}else if(S=="bool4"){if(b(n)!=0&&b(n)!=1)throw $+","+b(n);u=b(n)==1}else if(S=="color"){if(G!=38&&G!=30)throw G;
var dj=R(n),o=q(n+4);u=[dj];for(var v=0;v<o;v++)u.push(U(n+6+v*8))}else if(S=="path"){var T=n+G;u=[];
var i6=R(n);n+=4;for(var v=0;v<i6;v++){var bH=[[]];u.push(bH);var cg=R(n);n+=4;for(var bu=0;bu<cg;bu++){var dj=R(n);
n+=4;if(dj<2){bH[0].push([dj,U(n),U(n+8),U(n+16),U(n+24),U(n+32),U(n+40)]);n+=48}else if(dj==2){bH[0].push([dj,U(n),U(n+8)]);
n+=16}else throw dj}bH.push(l(n));n+=2}}else if(S=="ptrAndList"){var hH=R(n),dK=R(n+4);u=Z(n+8,dK,t);
u.unshift(s(hH,t))}else if(S=="ptrArray"||S=="ptrArrayX"){var d8=G>>2;if(S=="ptrArray"){d8=R(n);n+=4;
if(G!=4+d8*4)throw G}u=Z(n,d8,t)}else if(S=="ptrArray2"){var d8=R(n);n+=4;u=Z(n,d8,t);n+=d8*4;d8=R(n);
n+=4;u.push(Z(n,d8,t))}else if(S=="cldrn"){var d1=R(n),gH=R(n+4),d8=R(n+8);u={l:s(d1,t),s3:s(gH,t),rW:Z(n+12,d8,t)};
if(G!=12+d8*4){console.log($,sa);throw"e"}if(d1==0)throw d1}else if(S=="aprnc"){var d8=R(n);n+=4;u={};
for(var v=0;v<d8;v++){var kh=R(n),ay=q(n+4),dO=q(n+6);n+=8;var fy=M[kh.toString(16)];if(fy==null)fy="prm-"+kh.toString(16);
else fy=d(fy);u[fy]=[];for(var bu=0;bu<dO;bu++){var bg=R(n),f4=q(n+4),jb=null;n+=6;if(bg==28264)jb=U(n);
else if(bg==28263)jb=R(n);else if(bg==279||bg==6917)jb=s(R(n),t);else if(bg==28261)jb=l(n)==1;else if(bg==28265)jb=[U(n),U(n+4)];
else if(bg==6914||bg==83231)jb=I(n)[0];else if(bg==28259||bg==28260||bg==23094||bg==67679){jb=j.slice(n,n+f4)}else throw bg.toString(16);
u[fy].push(jb);n+=f4}}}else if(S=="lopts"){var jT=6;while(j[n+jT]<2)jT++;u={aif:q(n+0)==1,show:q(n+2)==1,auU:q(n+4)==1,wF:R(n+jT),name:I(n+jT+8)[0]}}else if(S=="origin"){var T=n+G;
if(j[n++]!=1)throw"e";var w=b(n);n+=4;var jy=L.AP(j,n,w);n+=w;if(j[n++]!=1)throw"e";var cl=j[n++];if(cl!=1&&cl!=53)throw cl;
var hu=l(n);n+=2;if(hu!=0&&hu!=1)throw hu;var aA=b(n);n+=4;if(aA!=0&&aA!=1)throw aA;var ko=b(n);n+=4;
if(ko!=0&&ko!=2&&ko!=3)throw ko;var ec=b(n);n+=4;var kK=I(n,!0);n=kK[1];kK=kK[0];var cM=b(n),gG=b(n+4);
n+=8;var c2=b(n);n+=4;if(c2!=0)throw c2;var a1=b(n);n+=4;var cs=I(n)[0];n+=2+2+cs.length+3;u={file:jy,id:kK,L5:cs}}else if(S=="string")u=I(n)[0];
else if(S=="relEnt"){var f7=q(n);n+=2;u=[];for(var v=0;v<f7;v++)u.push([R(n+v*8),s(R(n+v*8+4),t)])}else if(S=="textData"){var T=n+G,j7=R(n);
n+=4;var kh=R(n);n+=4;var o=q(n);n+=2;var dz=[];for(var v=0;v<o;v++){var iA=R(n);n+=4;if(j7==514)dz.push(I(n,!0)[0]);
else if(j7==515){var kk=R(n),$=R(n+4),fA=z(n+8,t);dz.push([kk,s($,t),fA])}else if(j7==516){var kk=R(n),$=R(n+4),g5=q(n+8),fA=z(n+8,t);
dz.push([kk,s($,t),fA])}else dz.push(j.slice(n,n+iA));n+=iA}if(T-n!=12)throw T-n;u=dz}else if(S=="storyProps"){var h$=R(n);
if(q(n+4)>1)throw"e";var hL=s(R(n+6),t),o=R(n+10),ha=s(R(n+14+o*4),t);u={aCZ:h$,apB:hL,rW:Z(n+14,o,t),aC5:ha,a7m:c(n+14+o*4+4,4)}}else if(S=="styleProps")u=z(n,t);
else if(S=="bounds"){var jl=n,f7=R(n);n+=4;u=[];for(var v=0;v<f7;v++){var fI=[];u.push(fI);for(var bu=0;
bu<4;bu++)fI.push(U(n+bu*8));n+=32;fI.push(j[n]);n++}if(n!=jl+G)throw"e"}else if(S=="columnPos"){var f7=R(n);
n+=4;u=[_(n,f7),U(n+f7*8)];n+=f7*8+8}else if(S=="StyleName"){u=[R(n+4)]}else if(S=="fontName"){var T=n+G;
u=[q(n)];n+=2;if(u[0]==2){if(G!=8)throw"e"}else{for(var v=0;v<2;v++){var jy=I(n);n=jy[1];u.push(jy[0])}u.push(R(n));
n+=4;var aE=q(n);n+=2;u.push(aE);var es=q(n);n+=2;var kN=[];u.push(kN);for(var fV=0;fV<es;fV++){var jU=[];
kN.push(jU);var jy=I(n);n=jy[1];jU.push(jy[0]);var c$=q(n);if(c$<100){n+=2;var jy=L.AP(j,n,c$);n+=c$;
jU.push(jy)}else{var jy=I(n);n=jy[1];jU.push(jy[0])}for(var v=0;v<3;v++){var jy=I(n);n=jy[1];jU.push(jy[0])}jU.push(R(n));
n+=4;var jy=I(n,!0);n=jy[1];jU.push(jy[0])}if(n+4!=T)throw"e";u.push(R(n))}}else throw S;if(O[r]!=null){console.log(r,O[r],u);
console.log(t.slice(0));console.log(eid,$,n,O[r],y,u);throw"e"}O[r]=u}else{var iq=j.slice(n,n+G);O["prop-"+$]=iq}t.pop()}function z(n,$){var P=q(n);
n+=2;var O={};for(var v=0;v<P;v++){var G=R(n);n+=4;var t=G.toString(16),y=q(n);n+=2;var r=q(n);n+=2;
for(var u=0;u<r;u++){var S=R(n);n+=4;var w=q(n);n+=2;E(t,C,O,n,w,$);n+=w}}return O}function h($){m=!0;
j=new Uint8Array($);e=k();var P=e[2147483649];P=L.Cl(P,4,P.length-4);delete e[2147483649];H=0;for(var O in e)H=Math.max(H,parseInt(O));
A=[];var G={};for(var O in e)G[O]=e[O];for(var O in e)s(parseInt(O),[]);return e}function d($){$=$.split(" ").join("");
return $[0].toLowerCase()+$.slice(1)}var Y={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},C={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},i={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},M={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},W={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return h}();function di(){}di.by=function(){var j=0;function n(D,c){var _=h7.by(D),h=1;j=0;var p=_[1],X=p.spreads,g=[],F=new b4;
for(var k=0;k<X.length;k++){var I=X[k],e=I.children.rW,H=a(I),A=e[0].children.rW,Z=new b4;for(var J=0;
J<A.length;J++){var s=A[J],E=a(s);E.concat(H);var z=Q(s);z.offset(E.Qr,E.dE);z=K.c.Fa(z);Z=Z.d_(z)}g.push(Z);
F=F.d_(Z)}while(Math.sqrt(F.$())*h<1e3)h++;c.q=F.q*h;c._=F._*h;c.buffer=new Uint8Array(4*c.q*c._);c.HM=!0;
c.Mp=Math.round(72*h);c.VV(X.length);for(var k=0;k<X.length;k++){var I=X[k],e=I.children.rW,d=c.JL();
d.G$=24;d.add.lsct=fM.ko;d.kw("Artboard "+(k+1));var Y=g[k].O();Y.offset(-F.x,-F.y);Y.x*=h;Y.y*=h;Y.q*=h;
Y._*=h;Y=K.c.Fa(Y);d.vn(Y);d.TM="pass";c.T.push(c.v4());var H=a(I);H.translate(-F.x,-F.y);H.scale(h,h);
var C={};for(var i=0;i<e.length-1;i++){var M=e[i],W=M.children.rW,$=c.JL(),P=M.layer.lopts;if(P.name=="Internal_pages_layer_name"||C[P.name])continue;
C[P.name]=!0;$.G$=24;$.add.lsct=fM.ko;$.kw(P.name);$._a(P.show);if(P.aif)$.add.lspf=1<<31;$.TM="pass";
c.T.push(c.v4());for(var v=0;v<W.length;v++)U(W[v],c,H,_);c.T.push($)}c.T.push(d)}}function Q(D){var c=D.rect;
return new b4(c[0],c[1],c[2]-c[0],c[3]-c[1])}function a(D){var c=D.transform;return new j8(c[0],c[1],c[2],c[3],c[4],c[5])}function B(D){var c=D.color,_=D.parentFill,X;
if(c==null&&_)c=_.color;if(c==null){console.log("strange color",D);return[0,0,0]}var p=c[0];if(p==5)X=c.slice(1);
else if(p==6)X=UDOC.C.cmykToRgb(c.slice(1));else if(p==7){var g=K.aY(c[1],c[2],c[3]);X=[g.n/255,g.i/255,g.b/255]}else if(p==14){X=c.slice(1);
console.log("unsure about the color")}else{console.log(c);throw p}return X}function m(D){var c=B(D);
return K.Gp.Db({n:c[0]*255,i:c[1]*255,b:c[2]*255})}function R(D){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[D]}function q(D,c){var v=0,_=0;
while(D[v+1]&&_+D[v][0]<=c){_+=D[v][0];v++}D=D[v][1].textData;v=0;while(D[v+1]&&_+D[v][0]<=c){_+=D[v][0];
v++}return D[v]}function U(D,c,_,p){var X=D.transform?a(D):new j8;X.concat(_);var g=D.path,F=D.appearance,k=D.visible,I=D.children?D.children.rW:null,e=c.JL();
if(k!=null)e._a(k);var H=I&&I.length==1&&I[0].bitmapFill,A=D["bool2-1623"]&&I&&I.length==1&&I[0].rect&&I[0]._type.startsWith("TextFrame");
if(H){e.kw("bitmap");var Z=I[0],J=Q(Z),s=a(Z),Y=null;s.concat(X);var E=Z.bitmapFill.bitmap;E=p[E]._bin;
if(E.length!=E.buffer.byteLength)E=E.slice(0);if(E[0]==123){console.log("unknown bitmap format");return}var z=c.$D(E,"img.jpg",0,0);
z.G$=e.G$;e=z;var h=[0,0,J.q,0,J.q,J._,0,J._];K.c.C(h,s,h);e.add.SoLd.Trnf=N.IP.ob(h);e.add.SoLd.nonAffineTransform=N.IP.ob(h);
e.pS(c,!1);var d=Z.path;if(d&&d.length!=0)Y=b(d,s,F);else if(g&&g.length!=0)Y=b(g,X,F);if(Y){var C=K.R.sR(Y.z),i=K.c.Tv(h);
if(C.$()/i.uf(C).$()>1.1){if(C.contains(i))Y=null;var M=D.children;D.children=null;U(D,c,_,p);D.children=M}}if(Y)e.add.vmsk=Y;
e.sU();e.tI(c)}else if(A){if(F&&F.strokeSwatch){var W=c.JL();l(W,c,F,g,X);c.T.push(W)}var $=I[0],J=Q($),s=a($),hH=0;
s.concat(X);var P=$.children.rW[0],O=P.obj228,G=O[0].story[1],t=G.stoProps.apB.relEnt,y=G.stoProps.rW[0].relEnt,r=G.stoProps.rW[1]["ptrArrayX-210"][0].textData,u=p[t[0][1].textData[0][1].name[0]],S=u?u.styProps:{};
r=r.join("").replace(/\r/g,"\n");var w=-1;while((w=r.indexOf("\uFFFC"))!=-1){r=r.slice(0,w)+(r[w-1]=="\n"?" ":" ")+r.slice(w+1)}e.kw(r.slice(0,255));
e.add.lnsr="rend";e.add.TySh=eR.N0(0,0);e.add.TySh.v$=J;e.add.TySh.C=s;var dj=e.add.TySh.Kt;eR.Yr(dj,0,r);
var o=eR.JB(dj,0,r.length);o.RW.FontSize=10;eR.A0(dj,0,r.length,o);var T=[];if(r.length!=0){var i6=q(t,0),bH=q(y,0),cg=1;
for(var v=1;v<r.length;v++){var g=q(t,v),bu=q(y,v);if(g!=i6||bu!=bH){T.push(cg);cg=0}i6=g;bH=bu;cg++}if(cg!=0)T.push(cg)}for(var v=0;
v<T.length;v++){var dK=q(y,hH),d8=T[v],d1=Math.min(hH+d8,r.length-1),gH=dK[2],kh=dK[1].styProps;if(kh==null)kh={};
var ay=q(t,hH),dO=ay[1].styProps,fy=ay[2],bg={};for(var f4 in S)bg[f4]=S[f4];for(var f4 in dO)bg[f4]=dO[f4];
for(var f4 in fy)bg[f4]=fy[f4];for(var f4 in kh)bg[f4]=kh[f4];for(var f4 in gH)bg[f4]=gH[f4];var o=eR.JB(dj,hH,d1),jb=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],jT=jb.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var jy=0;jy<jT.length;jy++){var f4=jT[jy],cl=jy<jb.length?o.RW:o.w$;if(bg[f4]!=null)cl[f4]=bg[f4]}if(bg.fillColor){var hu=B(bg.fillColor);
o.RW.FillColor={Type:1,Values:[1].concat(hu)}}if(bg.font){var aA=bg.font.name[5],ko=bg.fontStyle;if(ko==null)ko="Regular";
for(var ec=0;ec<aA.length;ec++)if(aA[ec][0]==ko)eR.em(o,aA[ec][1])}if(bg.leading!=null&&bg.leading>1){o.RW.Leading=bg.leading;
o.RW.AutoLeading=!1}if(bg.align!=null)o.w$.Justification=[0,2,1,6,3,5,4,0,0,0][bg.align];eR.A0(dj,hH,d1,o);
hH+=d8}eR.dY(dj,1);eR.gG(dj,[0,0,Math.round(J.q),Math.round(J._)])}else if(D._type.startsWith("Path")&&(I==null||I.length==0)&&g){l(e,c,F,g,X)}else{var kK=D["prop-14526"];
if(I==null&&kK){var cM=p[L.vS(kK,20)];I=[cM]}if(I){if(g&&g.length!=0){e.add.vmsk=b(g,X,F);e.sU();e.tI(c)}e.kw("group");
e.G$=24;e.add.lsct=fM.ko;c.T.push(c.v4());for(var v=0;v<I.length;v++)U(I[v],c,X,p)}}if(F){var gG=F.objectBlendingMode,c2=F.objectOpacity,a1=F.fillTint,f7=!1;
if(gG)e.TM=R(gG[0]);if(c2)e.wT=Math.round(e.wT*c2[0]/100);if(!H&&a1)e.wT=Math.round(e.wT*a1[0]/100);
var cs=JSON.parse(g8.default);for(var v=0;v<g8.order.length;v++)cs[g8.Ub[v]]={t:"VlLs",v:[]};var j7="dropShadow innerShadow satin bevel iglow oglow".split(" "),dz="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var v=0;v<j7.length;v++){var iA=j7[v];if(F[iA]&&F[iA][0]){var kk=F[iA],g5=135,h$=10;f7=!0;var fA=JSON.parse(g8.sp[g8.order.indexOf(dz[v])]);
cs[g8.Ub[g8.order.indexOf(dz[v])]].v.push({t:"Objc",v:fA});if(F[iA+"Color"])fA.Clr.v=m(F[iA+"Color"][0]);
else if(j7[v]=="iglow"||j7[v]=="oglow")fA.Clr.v=K.Gp.Db({n:255,i:255,b:255});if(F[iA+"ColorH"])fA.hglC.v=m(F[iA+"ColorH"][0]);
if(F[iA+"ColorS"])fA.sdwC.v=m(F[iA+"ColorS"][0]);if(F[iA+"BMode"])fA.Md.v.BlnM=af.sr(R(F[iA+"BMode"][0]));
if(F[iA+"BModeH"])fA.hglM.v.BlnM=af.sr(R(F[iA+"BModeH"][0]));if(F[iA+"BModeS"])fA.sdwM.v.BlnM=af.sr(R(F[iA+"BModeS"][0]));
if(F[iA+"Opacity"])fA.Opct.v.val=F[iA+"Opacity"][0];if(F[iA+"OpacityH"])fA.hglO.v.val=F[iA+"OpacityH"][0];
if(F[iA+"OpacityS"])fA.sdwO.v.val=F[iA+"OpacityS"][0];if(F[iA+"Size"])fA.blur.v.val=F[iA+"Size"][0];
if(F[iA+"Angle"])g5=F[iA+"Angle"][0];if(F[iA+"Dist"])h$=F[iA+"Dist"][0];if(F[iA+"DX"]){var hL=F[iA+"DX"][0],ha=F[iA+"DY"][0];
h$=Math.round(Math.sqrt(hL*hL+ha*ha));g5=Math.round(Math.atan2(ha,-hL)*180/Math.PI)}if(fA.lagl)fA.lagl.v.val=g5;
if(fA.Dstn)fA.Dstn.v.val=h$;if(fA.uglg)fA.uglg.v=!1;if(F[iA+"Invert"])fA.Invr.v=F[iA+"Invert"][0];else if(j7[v]=="satin")fA.Invr.v=!1;
if(F[iA+"Alt"])fA.Lald.v.val=F[iA+"Alt"][0];if(F[iA+"Depth"])fA.srgR.v.val=F[iA+"Depth"][0];if(F[iA+"Choke"])fA.Ckmt.v.val=F[iA+"Choke"][0]}}if(f7)e.add.lmfx=cs}if(D.name)e.kw(D.name);
else if(F&&F.name)e.kw(F.name[0]);c.T.push(e)}function l(D,c,_,p,X){D.kw("path");D.G$|=16;D.add.vmsk=b(p,X,_);
var g=D.add.vstk=g8.o0.cL(),F=K.Gp.Db({n:0,i:0,b:0});if(_){var k=_.strokeSwatch,I=_.fillSwatch,e=_.basicFeather,H=_.basicFeatherWidth,A=_.strokeWeight;
g.strokeEnabled.v=k!=null;g.fillEnabled.v=I!=null;if(e)D.add.vmsk.g_=H?H[0]:9;if(k){g.strokeStyleLineWidth.v.val=A?A[0]:1;
F=m(k[0]);g.strokeStyleContent.v.Clr.v=F}if(I){F=m(I[0])}}if(F)D.add.SoCo={classID:"null",Clr:{t:"Objc",v:F}};
D.sU();D.tI(c)}function b(D,c,_){var p=new f.hx,X=p.z;for(var g=0;g<D.length;g++){var F=D[g],k=F[0].length,I=F[1]==0;
if(k==0)continue;var e=I?0:3;X.push({w:e,length:k,H_:0,qg:2,wo:0,x1:0});for(var v=0;v<k;v++){var H=F[0][v],A=H[0],Z=new eE(H[1],H[2]),J=new eE(H[3],H[4]),s=new eE(H[5],H[6]);
if(A==0||A==1)X.push({w:e+2,vK:Z,V:J,XH:s});else if(A==2)X.push({w:e+2,vK:Z,V:Z,XH:Z});else throw A}}K.R.fK(X,c);
return p}return n}();var ga=function(j){function n(q,U){var l=[];for(var v=0;v<9;v++){var b=L.St(q,U+v*4);
if(v%3==2)l.push((b>>>30)+(b&1073741823)/1073741823);else l.push((b>>>16)+(b&65535)/65535)}return l}async function Q(q,U,l,b,D,c){var _={},p=L.St,X=L.oN;
if(U==null){U=await a(q,l)}var g=b-l;while(b<D){var F=g,k=L.St(U,g);g+=4;if(k==0){k=L.St(U,g);g+=4}var I=L.AP(U,g,4);
g+=4;if(k==0)throw"e";if(k==1){k=L.Kq(U,g);g+=8}var e=F+k,H="".padStart(c,"\t");if(I!="mdat"&&e>U.byteLength){U=await a(q,l,e)}var A={};
if(I=="mvhd"){var Z=U[g];if(Z!=0)throw"e";g+=4;A.au5=p(U,g);g+=4;A.aEI=p(U,g);g+=4;A.eR=p(U,g);g+=4;
A.duration=p(U,g);g+=4;A.ZN=p(U,g);g+=4;A.volume=X(U,g);g+=2;g+=10;A.a3N=n(U,g);g+=4*9;A.a5F=[];for(var v=0;
v<6;v++)A.a5F.push(p(U,g+v*4));g+=4*6;A.aDC=p(U,g);g+=4}else if(I=="tkhd"){var Z=U[g];if(Z!=0)throw"e";
g+=4;A.au5=p(U,g);g+=4;A.aEI=p(U,g);g+=4;A.aHX=p(U,g);g+=4;g+=4;A.duration=p(U,g);g+=4;g+=8;A.W=X(U,g);
g+=2;A.ak3=X(U,g);g+=2;A.volume=X(U,g);g+=2;g+=2;A.a3N=n(U,g);g+=4*9;A.Uw=p(U,g)>>>16;g+=4;A.WC=p(U,g)>>>16;
g+=4}else if(I=="mdhd"){A.G$=p(U,g);g+=4;A.au5=p(U,g);g+=4;A.aEI=p(U,g);g+=4;A.eR=p(U,g);g+=4;A.duration=p(U,g);
g+=4;A.lang=X(U,g);g+=2;A.Xw=X(U,g);g+=2}else if(I=="hdlr"){var J=p(U,g);g+=4;if(J!=0)throw J;A.m_=L.AP(U,g,4);
g+=4;A.a8e=L.AP(U,g,4);g+=4;A.arV=p(U,g);g+=4;A.G$=p(U,g);g+=4;A.alo=p(U,g);g+=4;var s=g;while(U[s]!=0)s++;
A.name=L.AP(U,g,s-g);g+=s-g+1}else if(I=="stsd"){var J=p(U,g);g+=4;if(J!=0)throw J;var E=p(U,g);g+=4;
if(E!=1)throw E;var z=p(U,g);g+=4;A.Sz=L.AP(U,g,4);g+=4;if(A.Sz=="mett"){A.a5W=L.AP(U,g,e-g)}else{for(var v=0;
v<6;v++)if(U[g+v]!=0)throw"e";g+=6;A.adx=X(U,g);g+=2;A.ai9=X(U,g);g+=2;A.an$=X(U,g);g+=2;A.akk=p(U,g);
g+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(A.Sz)!=-1){A.al8=p(U,g);
g+=4;A.a3z=p(U,g);g+=4;A.a8N=[X(U,g),X(U,g+2)];g+=4;A.ahT=[p(U,g)/(1<<16),p(U,g+4)/(1<<16)];g+=8;var h=p(U,g);
g+=4;if(h!=0)throw"e";var d=X(U,g);g+=2;if(d!=1)throw"e";var Y=U[g];g++;A.apP=L.AP(U,g,Y);g+=31;A.a5y=X(U,g);
g+=2;var C=X(U,g);g+=2;if(C!=65535)throw"e";if(g!=e)A.pT=await Q(q,U,l,l+g,l+e,c+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(A.Sz)!=-1){A.Kj=X(U,g);
g+=2;A.awO=X(U,g);g+=2;var i=X(U,g);g+=2;if(i!=0&&i!=65534)throw i;var M=X(U,g);g+=2;if(M!=0)throw M;
A.aow=p(U,g)/(1<<16);g+=4;if(g!=e)A.pT=await Q(q,U,l,l+g,l+e,c+1)}else if(A.Sz=="CTMD"){A.J=U.slice(g,e)}else if(A.Sz=="tx3g"||A.Sz=="text"||A.Sz=="mebx"){}else if(A.Sz=="tmcd"){}else if(A.Sz=="CRAW"){}else if(A.Sz=="sowt"){}else throw JSON.stringify(A.Sz)}}else if(I=="stts"||I=="stsz"||I=="stco"||I=="stsc"||I=="ctts"||I=="elst"){var J=p(U,g),W=0,O=0;
g+=4;if(I=="stsz"){W=p(U,g);g+=4}var $=p(U,g)*(I=="stsc"||I=="elst"?3:I=="stts"||I=="ctts"?2:1);g+=4;
A=[];for(var v=0;v<$;v++){if(W!=0)A.push(W);else{if(I=="elst"){if(v%3==2){var P=p(U,g);P*=1/(1<<16);
A.push(P)}else A.push(L.q_(U,g))}else A.push(p(U,g));g+=4}}for(var v=0;v<$;v++)O+=A[v]}else if(I=="co64"){var J=p(U,g);
g+=4;if(J!=0)throw J;var $=p(U,g);g+=4;A=[];for(var v=0;v<$;v++){A.push(L.Kq(U,g));g+=8}}else if(I=="moov"||I=="trak"||I=="mdia"||I=="minf"||I=="dinf"||I=="stbl"||I=="uuid"||I=="edts"){if(I=="uuid")g+=16;
A=await Q(q,U,l,l+g,l+e,c+1)}else if(I=="CMT1"||I=="CMT2"||I=="CMT3"||I=="CMT4"){A=UTIF.decode(U.slice(g,e))}else if(I=="stss"){A.k=g+l;
A.aq=k;A.avo=p(U,g+4)}else{A.k=g+l;A.aq=k}g=e;if(I=="trak"||I=="free"||I=="uuid"){if(_[I]==null)_[I]=[];
_[I].push(A)}else{if(_[I]!=null)throw I;_[I]=A}b=g+l;if(g>=U.byteLength){l+=g;g=0;U=await a(q,l)}}return _}async function a(q,U,l){if(l==null){l=8*1024*1024}var b=await q.slice(U,U+l),D=await b.arrayBuffer();
return new Uint8Array(D)}async function B(q){return await Q(q,null,0,0,q.size,0)}function m(q,U){var l=q.mdia.minf.stbl,b=l.stsc,D=0,c=0;
for(var v=0;v<b.length;v+=3){var _=(v+3<b.length?b[v+3]:1e4)-b[v],p=c+_*b[v+1];if(c<=U&&U<p){while(c+b[v+1]<=U){D++;
c+=b[v+1]}break}D+=_;c=p}var X=l.stco;if(X==null)X=l.co64;var g=X[D];while(c<U){g+=l.stsz[c];c++}return[g,l.stsz[U]]}function R(q,U){var l=q.moov.trak,b=[];
for(var v=0;v<l.length;v++){if(l[v].mdia.hdlr.a8e==U){b.push(l[v])}}return b}return{by:B,kb:m,getTracks:R}}();
function hC(j,n){this.zE=!1;this.z8=j;this.jB;this.a2M=0;this.U0=0;this.sE=0;this.position=0;this.qj=[];
this.Eu=[];this.uk=[];this.Zl=[];this.OM=!0;this.apg=0;this.jR=10;this.q5=6;this.Hg=[];this.zq=-2;this.$F=[];
this.ajn;this.yb;this.xy=n;this.Z$;this.t9;this.avD=-1;this.wx=null;this.frames;this.ah=null;this.bl=null;
this.o4=null}hC.prototype.rh=function(j){this.$F.push(j)};hC.prototype.ap_=function(j,v){var n=0,Q=j.getUint8(v,!1);
v+=1;n=Q&127;var a=Q>>7;while(a==1){Q=j.getUint8(v,!1);v+=1;a=Q>>7;var B=Q&127;n=n<<7|B}return[n,v]};
hC.prototype.ag0=function(j){this.$w={};var n=new DataView(j.buffer),v=4;v+=4;while(v<n.byteLength){var Q=n.getUint8(v,!1);
v+=1;var a=this.ap_(n,v),B=a[0];v=a[1];if(Q==3){v+=2;v+=1}else if(Q==4){this.$w.objectType=n.getUint8(v,!1);
v+=1;this.$w.streamType=n.getUint8(v,!1)>>2;v+=1;v+=3;this.$w.maxBitrate=n.getUint32(v,!1);v+=4;this.$w.avgBitrate=n.getUint32(v,!1);
v+=4}else if(Q==5){this.$w.decoderSpecificInfo=j.slice(v,v+B);v+=B}else{v+=B}}};hC.prototype.axY=function(j){var n=null,m=0;
if(j.apD){if(j.edts.aHY)n=j.edts.aHY}if(n==null){this.ah=this.frames;return}var Q=this.$c.moov.mvhd.eR,a=j.mdia.mdhd.eR,B=j.mdia.mdhd.duration*1e3/a/this.rF.stsz.length;
this.wx=[];for(var v=0;v<n.length;v+=3){var R;if(n[v+1]==-1)R=-1;else R=n[v+1]*1e3/B/a;var jw=n[v]*1e3/B/Q;
this.wx.push(m);this.wx.push(Math.floor(R));this.wx.push(n[v+2]);m+=Math.floor(jw)}this.ah=m;if(this.acv(this.ah-1)>this.frames-1)this.ah--;
if((m+1)*B<j.tkhd.duration*1e3/Q){this.wx.push(m);this.wx.push(0);this.wx.push(1);this.ah=Math.floor(j.tkhd.duration*1e3/Q/B)}};
hC.prototype.acv=function(j){if(this.wx){for(var v=this.wx.length-3;v>=0;v-=3){if(j>=this.wx[v]){if(this.wx[v+1]==-1)j=this.zq;
else if(this.wx[v+2]==0)j=this.wx[v+1];else j=j-this.wx[v]+this.wx[v+1];break}}}return j};hC.prototype.a9W=async function(){this.bl=new VideoDecoder({output:i4=>this.ad6(i4),error:function(Q){console.log(Q.message)}});
var j=this.rF.stsd.Sz;if(j=="avc1"){this.en=this.rF.stsd.pT.avcC;var n={codec:"avc1.640034"};n.description=new Uint8Array(await this.z8.slice(this.en.k,this.en.k+this.en.aq).arrayBuffer());
this.bl.configure(n)}else{var n={codec:"vp09.00.10.08"};this.bl.configure(n)}};hC.prototype.akD=async function(){this.o4=new AudioDecoder({output:i4=>this.rh(i4),error:function(j){console.log(j)}});
console.assert(await AudioDecoder.isConfigSupported(this.$Y));this.o4.configure(this.$Y)};hC.prototype.UC=async function(){this.$c=await ga.by(this.z8);
this.ab6={};this.KM={};this.Z$=ga.getTracks(this.$c,"vide");var j=!0,U=!0;if(this.Z$.length>0){var n=this.Z$[0],Q=n.tkhd;
this.rF=n.mdia.minf.stbl;var a=this.rF.stsd.Sz;if(a=="avc1"||a=="vp09"){if(a=="avc1"&&!this.rF.stsd.pT.avcC){console.log(a+" video codec not supported (avcC missing).");
j=!1}else{await this.aC4(this.rF.stss.k+8,this.rF.stss.aq-8);for(var v=0;v<this.aaT.byteLength;v+=4){var B=this.aaT.getUint32(v,!1)-1;
this.Hg.push(B)}var m=n.mdia.mdhd.eR,R=n.mdia.mdhd.duration/m;this.frames=this.rF.stsz.length;var q=this.frames/R;
this.axY(n)}}else{console.log(a+" video codec not supported.");j=!1}}this.t9=ga.getTracks(this.$c,"soun");
if(this.t9.length>0){var l=this.t9[0],b=l.mdia.minf.stbl,D,c=b.stsd.Kj;if(b.stsd.Sz=="mp4a"){if(b.stsd.pT.esds){this.aGD=b.stsz.length;
var _=b.stsd.pT.esds.k,p=b.stsd.pT.esds.aq,X=await this.z8.slice(_-4,_+p+4),g=await X.arrayBuffer(),F=new Uint8Array(g),k=null;
this.ag0(F);D="mp4a.";if(this.$w.objectType==64){D+=this.$w.objectType.toString(16);D+=".";D+=(this.$w.decoderSpecificInfo[0]>>3).toString();
k=this.$w.decoderSpecificInfo}else{D+=this.$w.objectType.toString(16).toUpperCase()}if(k){var I=k[0]>>3;
if(I==31){var e=(k[0]&7)<<3|k[1]>>5;I=32+e;var H=k[1]&31>>1;if(H==15){c=(k[4]&1)<<3|k[5]>>5}else{c=(k[1]&1)<<3|k[2]>>5}}else{var H=(k[0]&7)<<1|k[1]>>7;
if(H==15){c=(k[4]&127)>>3}else{c=(k[1]&127)>>3}}}this.$Y={codec:D,numberOfChannels:c,sampleRate:b.stsd.aow};
if(k){this.$Y.description=k}}else{console.log("Audio codec not supported.");U=!1}}else{console.log("Audio codec not supported.");
U=!1}}this.lk={};if(j&&this.Z$.length>0){this.lk.n8={Z$:1,ae:this.ah,ZN:q,width:Q.Uw,height:Q.WC}}if(U&&this.t9.length>0){this.lk.NX={Z$:c,ZN:b.stsd.aow,ae:l.mdia.mdhd.duration}}if(!this.xy){this.ajn=new OffscreenCanvas(this.lk.n8.width,this.lk.n8.height);
this.yb=this.ajn.getContext("2d",{aa0:!0});this.jR=10;this.q5=6}this.zE=!0};hC.prototype.vR=function(j){var n=this.Eu[this.position];
if(this.OM&&n==this.apg)this.OM=!1;if(!this.xy){if(this.uk[n]){this.yb.drawImage(j,0,0);var Q=this.yb.getImageData(0,0,this.lk.n8.width,this.lk.n8.height).data}if(this.Zl[this.position]==0)j.close()}try{if(this.qj[n]){if(this.xy){this.qj[n](j)}else if(this.uk[n]){this.qj[n](Q)}}var a=this.position-this.jR;
if(a>=0){var B=this.Eu[a];delete this.KM[B];delete this.qj[B];this.uk[B]=!1}this.position++}catch(bY){console.log(n);
console.log(this.qj[n]);console.log(bY)}};hC.prototype.ad6=async function(j){if(this.Zl[this.position]==0){if(this.xy){createImageBitmap(j).then(img=>{this.vR(img)});
j.close()}else{this.vR(j)}}else{var n=this.Zl[this.position];createImageBitmap(j,{resizeWidth:j.ae8>>n,resizeHeight:j.a4x>>n}).then(img=>{this.vR(img)});
j.close()}};hC.prototype.aC4=async function(j,n){this.aj6=await this.z8.slice(j,j+n).arrayBuffer();this.aaT=new DataView(this.aj6)};
hC.prototype.PV=async function(){if(!this.zE){await this.UC()}return this.lk};hC.prototype.P$=async function(j,n){var Q=Math.min(n+250,this.frames-1),a=ga.kb(j,n),B=ga.kb(j,Q),m=await this.z8.slice(a[0],B[0]+B[1]),R=await m.arrayBuffer();
this.jB=new Uint8Array(R);this.a2M=n;this.U0=Q;this.sE=a[0];return};hC.prototype.axT=async function(j,n,Q){for(var v=n;
v<Q;++v){if(v>=this.U0){await this.P$(j,v)}var a=this.Hg.indexOf(v),B=ga.kb(j,v),m=this.jB.slice(B[0]-this.sE,B[0]+B[1]-this.sE),R=new EncodedVideoChunk({timestamp:v,duration:1e3,type:a!=-1?"key":"delta",data:m});
if(this.bl.state=="configured"){try{this.bl.decode(R)}catch(Q){console.log("CAUGHT unconfigured");console.log(Q);
console.log(R)}}else{console.log("unconfigured");delete m}delete m}if(Q==this.frames){await this.bl.flush()}};
hC.prototype.aHN=async function(j,n,hy=0){if(!this.zE){await this.UC()}if(!this.bl){await this.a9W()}if(this.Z$.length<=j){console.log("Requested track does not exist");
return}var Q=this.Z$[j],m,R,q;if(n>=this.lk.n8.ae||n<0){console.log("Requested frame out of range");
return}var a=n;n=this.acv(n);this.uk[n]=!0;var B=n-this.zq;if(this.OM){B=1;this.apg=n}if(n!=this.zq+1){R=this.Hg[this.Hg.length-1];
for(var v=0;v<this.Hg.length;++v){if(n<this.Hg[v]){R=this.Hg[v-1];break}}if(R==this.avD){if(n>this.Eu[this.Eu.length-1]){R=this.Eu[this.Eu.length-1]+1}else if(this.KM[n.toString()]){R=this.Eu[this.Eu.length-1]+1}else{for(var v=this.Eu.length-this.q5;
v<this.Eu.length;++v){if(this.Eu[v]==n){R=this.Eu[this.Eu.length-1]+1;break}}}}else{this.avD=R;for(var v=this.Eu.length-this.q5;
v<this.Eu.length;++v){if(this.Eu[v]==n){R=this.Eu[this.Eu.length-1]+1;break}}}}else{R=0;if(this.Eu.length>0){R=this.Eu[this.Eu.length-1]+1}}if(R<this.frames){q=Math.min(n+this.q5,this.frames);
for(var v=R;v<q;++v){this.KM[v]=new Promise(function(U,l){m=U});this.qj[v]=m;this.Eu.push(v);this.Zl.push(hy);
if((v-n)%B==0)this.uk[v]=!0}if(R>=this.U0||q<this.a2M){await this.P$(Q,R)}this.axT(Q,R,q)}this.zq=n;
if(this.OM)await new Promise(resolve=>setTimeout(resolve,200));if(this.OM){this.jR+=10;this.q5+=6;this.aHN(j,a+1,hy)}return this.KM[n.toString()]};
hC.prototype.aEC=async function(j,n,Q){if(!this.o4){await this.akD()}if(this.t9.length<=j){console.log("Requested audio track does not exist");
return}var a=this.t9[j],B=a.mdia.minf.stbl.stts,m=null,R=null,q=0,U=0;for(var v=0;v<B.length;v+=2){if(m==null&&q+B[v]*B[v+1]>=n){m=Math.ceil(U+(n-q)/B[v+1])}if(R==null&&q+B[v]*B[v+1]>=Q){R=Math.ceil(U+(Q-q)/B[v+1])}if(m&&R){break}q+=B[v]*B[v+1];
U+=B[v]}var l=ga.kb(a,m),b=ga.kb(a,R),D=await this.z8.slice(l[0],b[0]+b[1]),c=await D.arrayBuffer(),_=new Uint8Array(c);
for(var v=m;v<R;++v){var p=ga.kb(a,v),X=_.slice(p[0]-l[0],p[0]+p[1]-l[0]),g=new EncodedAudioChunk({timestamp:v,duration:1e3,type:"key",data:X});
try{this.o4.decode(g)}catch(bY){console.log("Error decoding audioframe "+v.toString()+". "+bY.message)}}try{await this.o4.flush()}catch(bY){console.log("CAUGHT flush, but returning");
return this.$F}return this.$F};function gm(j,n,Q){this.lk=n;this.nf=j;this.az5=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.afo=40;this.Uw,this.WC;this.YH;this.wq;this.Oz;this.a28;this.description;this.Eo;this.pj;this.Vj;
this.wH;this.un;this.x5;this.m9=Q;this.vN;this.CK;this.eV;this.acP;this.qn;if(this.lk.n8){this.aEE()}if(this.lk.NX){this.aAQ()}}gm.prototype.apz=function(j){return new Uint8Array([j.charCodeAt(0),j.charCodeAt(1),j.charCodeAt(2),j.charCodeAt(3)]).buffer};
gm.prototype.ajV=function(j){var n=new Uint32Array([j]),Q=new Uint8Array(n.buffer);return new Uint8Array([Q[3],Q[2],Q[1],Q[0]])};
gm.prototype.LC=function(j){this.eV[this.CK]=j;++this.CK};gm.prototype.UL=function(j){this.eV[this.CK]=j>>8&255;
this.eV[this.CK+1]=j&255;this.CK+=2};gm.prototype.aF0=function(j){this.eV[this.CK]=j>>16&255;this.eV[this.CK+1]=j>>8&255;
this.eV[this.CK+2]=j&255;this.CK+=3};gm.prototype.f6=function(j){this.eV[this.CK]=j>>24&255;this.eV[this.CK+1]=j>>16&255;
this.eV[this.CK+2]=j>>8&255;this.eV[this.CK+3]=j&255;this.CK+=4};gm.prototype.EF=function(j){this.vN.push(this.CK);
this.CK+=4;this.u5(j)};gm.prototype.u5=function(j){for(var v=0;v<j.length;++v){this.eV[this.CK]=j.charCodeAt(v);
++this.CK}};gm.prototype.aAK=function(j){this.eV.set(new Uint8Array(j),this.CK);this.CK+=j.byteLength};
gm.prototype.Mg=function(){var j=this.CK;this.CK=this.vN.pop();this.f6(j-this.CK);this.CK=j};gm.prototype.ax6=function(j,n){if(!this.description&&n){if(n.description){this.description=n.description}if(n.decoderConfig&&n.decoderConfig.description){this.description=n.decoderConfig.description}}var Q=new ArrayBuffer(j.byteLength);
j.copyTo(Q);this.DV(Q);this.YH.push({duration:j.duration,timestamp:j.timestamp,type:j.type,byteLength:j.byteLength});
if(j.type=="key"){this.Oz.push(this.YH.length)}};gm.prototype.rh=function(j,n){if(!this.Eo&&n){if(n.decoderConfig){this.Eo=n.decoderConfig}}var Q=new ArrayBuffer(j.byteLength);
j.copyTo(Q);this.aDv(Q);this.wq.push({duration:j.duration,timestamp:j.timestamp,type:j.type,byteLength:j.byteLength});
if(j.type=="key"){this.a28.push(this.wq.length)}};gm.prototype.DV=function(j){var n=new Uint8Array(this.pj.byteLength+j.byteLength);
n.set(new Uint8Array(this.pj));n.set(new Uint8Array(j),this.pj.byteLength);this.pj=n.buffer;if(this.pj.byteLength>20*1024*1024){this.nf.write(this.pj);
this.pj=new Uint8Array}};gm.prototype.aDv=function(j){var n=new Uint8Array(this.Vj.byteLength+j.byteLength);
n.set(new Uint8Array(this.Vj));n.set(new Uint8Array(j),this.Vj.byteLength);this.Vj=n.buffer};gm.prototype.am4=function(){this.vN=[];
var j=this.afo,n=[],Q={},a=9e4,B=this.YH.length,m=this.Oz.length,R=-1,U=!1,p=1;for(var v=0;v<this.YH.length;
++v){this.wH+=this.YH[v].duration/1e3;this.x5+=this.YH[v].byteLength;if(this.YH[v].duration!=R){if(v!=0){n.push(Q)}R=this.YH[v].duration;
Q={duration:9e4*this.YH[v].duration/1e6,sampleCount:1}}else{Q.sampleCount=Q.sampleCount+1}}this.x5+=8;
n.push(Q);var q=n.length;if(this.lk.NX){U=!0}if(U){var l=[],b=this.wq.length;this.un=0;var D=this.Eo.sampleRate,R=-1;
for(var v=0;v<this.wq.length;++v){this.un+=this.wq[v].duration/1e3;this.x5+=this.wq[v].byteLength;var c=Math.round(D*this.wq[v].duration/1e6);
if(c!=R){if(v!=0){l.push(Q)}R=c;Q={duration:c,sampleCount:1}}else{Q.sampleCount=Q.sampleCount+1}}l.push(Q);
var _=l.length}var X=579+this.description.byteLength+4*B+4*B+4*m+8*q;if(U){X+=426+this.Eo.description.byteLength+4*b+4*b+8*q;
p=2}this.eV=new Uint8Array(X);this.CK=0;this.EF("moov");this.EF("mvhd");this.f6(0);this.f6(0);this.f6(0);
this.f6(1e3);this.f6(this.wH);this.f6(65536);this.UL(256);this.UL(0);this.f6(0);this.f6(0);this.f6(65536);
this.f6(0);this.f6(0);this.f6(0);this.f6(65536);this.f6(0);this.f6(0);this.f6(0);this.f6(1073741824);
this.f6(0);this.f6(0);this.f6(0);this.f6(0);this.f6(0);this.f6(0);this.f6(2);this.Mg();for(var g=0;g<p;
++g){this.EF("trak");this.EF("tkhd");this.f6(7);this.f6(0);this.f6(0);this.f6(1);this.f6(0);if(g==1)this.f6(this.un);
else this.f6(this.wH);this.f6(0);this.f6(0);this.UL(0);this.UL(0);this.UL(256);this.UL(0);if(g==1){this.f6(1);
this.f6(0);this.f6(0);this.f6(0);this.f6(1);this.f6(0);this.f6(0);this.f6(0);this.f6(1);this.f6(this.Uw*0);
this.f6(this.WC*0)}else{this.f6(65536);this.f6(0);this.f6(0);this.f6(0);this.f6(65536);this.f6(0);this.f6(0);
this.f6(0);this.f6(1073741824);this.f6(this.Uw*65536);this.f6(this.WC*65536)}this.Mg();this.EF("mdia");
this.EF("mdhd");this.f6(0);this.f6(0);this.f6(0);if(g==1){this.f6(this.Eo.sampleRate);this.f6(this.un/1e3*this.Eo.sampleRate)}else{this.f6(a);
this.f6(this.wH/1e3*a)}this.LC(85);this.LC(196);this.UL(0);this.Mg();this.EF("hdlr");this.f6(0);this.f6(0);
if(g==1){this.u5("soun");this.f6(0);this.f6(0);this.f6(0);this.u5("SoundHandler");this.LC(0)}else{this.u5("vide");
this.f6(0);this.f6(0);this.f6(0);this.u5("VideoHandler");this.LC(0)}this.Mg();this.EF("minf");if(g==1){this.EF("smhd");
this.f6(0);this.UL(0);this.UL(0);this.Mg()}else{this.EF("vmhd");this.f6(1);this.UL(0);this.UL(0);this.UL(0);
this.UL(0);this.Mg()}this.EF("dinf");this.EF("dref");this.f6(0);this.f6(1);this.EF("url ");this.f6(1);
this.Mg();this.Mg();this.Mg();if(g==1){this.EF("stbl");this.EF("stsd");this.f6(0);this.f6(1);this.EF("mp4a");
this.UL(0);this.UL(0);this.UL(0);this.UL(1);this.f6(0);this.f6(0);this.UL(this.Eo.numberOfChannels);
this.UL(16);this.UL(0);this.UL(0);this.UL(this.Eo.sampleRate);this.UL(0);this.EF("esds");this.f6(0);
this.LC(3);this.LC(25);this.UL(0);this.LC(0);this.LC(4);this.LC(17);this.LC(64);this.LC(21);this.aF0(0);
this.f6(16e4);this.f6(16e4);this.LC(5);this.LC(2);this.aAK(this.Eo.description);this.LC(6);this.LC(1);
this.LC(2);this.Mg();this.Mg();this.Mg();this.EF("stts");this.f6(0);this.f6(_);for(var v=0;v<_;++v){this.f6(l[v].sampleCount);
this.f6(l[v].duration)}this.Mg();this.EF("stsc");this.f6(0);this.f6(1);this.f6(1);this.f6(1);this.f6(1);
this.Mg();this.EF("stsz");this.f6(0);this.f6(0);this.f6(b);for(var v=0;v<b;++v){this.f6(this.wq[v].byteLength)}this.Mg();
this.EF("stco");this.f6(0);this.f6(b);for(var v=0;v<b;++v){this.f6(j);j+=this.wq[v].byteLength}this.Mg();
this.Mg()}else{this.EF("stbl");this.EF("stsd");this.f6(0);this.f6(1);this.EF("avc1");this.UL(0);this.UL(0);
this.UL(0);this.UL(1);this.UL(0);this.UL(0);this.f6(0);this.f6(0);this.f6(0);this.UL(this.Uw);this.UL(this.WC);
this.f6(4718592);this.f6(4718592);this.f6(0);this.UL(1);for(var v=0;v<8;++v){this.f6(0)}this.UL(24);
this.UL(-1);this.EF("avcC");this.aAK(this.description);this.Mg();this.Mg();this.Mg();this.EF("stts");
this.f6(0);this.f6(q);for(var v=0;v<q;++v){this.f6(n[v].sampleCount);this.f6(n[v].duration)}this.Mg();
this.EF("stsc");this.f6(0);this.f6(1);this.f6(1);this.f6(1);this.f6(1);this.Mg();this.EF("stsz");this.f6(0);
this.f6(0);this.f6(B);for(var v=0;v<B;++v){this.f6(this.YH[v].byteLength)}this.Mg();this.EF("stco");
this.f6(0);this.f6(B);for(var v=0;v<B;++v){this.f6(j);j+=this.YH[v].byteLength}this.Mg();this.EF("stss");
this.f6(0);this.f6(m);for(var v=0;v<m;++v){this.f6(this.Oz[v])}this.Mg();this.Mg()}this.Mg();this.Mg();
this.Mg()}this.Mg();return};gm.prototype.aFi=async function(j){console.assert(await VideoEncoder.isConfigSupported(j))};
gm.prototype.aEE=function(){var j=Date.now(),n=this.lk.n8.width,Q=this.lk.n8.height;this.Uw=n;this.WC=Q;
this.description=null;this.Oz=[];this.YH=[];this.wH=0;this.x5=0;this.pj=new Uint8Array;this.DV(new Uint8Array(this.az5));
this.DV(this.ajV(0).buffer);this.DV(this.apz("mdat"));this.s7=new VideoEncoder({output:(chunk,opts)=>this.ax6(chunk,opts),error:bY=>{console.log(bY)}});
var a=this.m9*this.Uw*this.WC,B=a*this.lk.n8.ae,m=Math.round(a*24),R={width:this.Uw,height:this.WC,codec:"avc1.420034",bitrate:m,acceleration:"prefer-hardware"};
this.aFi(R);this.s7.configure(R);this.qn=0};gm.prototype.apU=async function(j){console.assert(await AudioDecoder.a7p(j))};
gm.prototype.aAQ=function(){this.Vj=new Uint8Array;this.Eo=null;this.a28=[];this.wq=[];var j={codec:"mp4a.40.2",numberOfChannels:this.lk.NX.Z$,sampleRate:this.lk.NX.ZN,bitrate:16e4};
this.C$=new AudioEncoder({output:(i4,bw)=>this.rh(i4,bw),error:function(n){console.log(n)}});this.apU(j);
this.C$.configure(j)};gm.prototype.PV=function(){return this.lk};gm.prototype.acW=async function(j,n,Q){var a=j,B=1e6/this.lk.n8.ZN;
if(Q%50==0){console.log(Math.round(Q/this.lk.n8.ae*100).toString()+"%")}var m=new VideoFrame(a.buffer,{timestamp:this.qn,duration:B,format:"RGBA",codedWidth:this.Uw,codedHeight:this.WC});
this.s7.encode(m);m.close();this.qn+=B;delete a;delete j;delete m};gm.prototype.asR=async function(j,n,Q,a){for(var v=0;
v<j.length;++v){this.C$.encode(j[v])}};gm.prototype.finish=async function(){if(this.lk.n8){await this.s7.flush()}if(this.lk.NX){await this.C$.flush()}this.am4();
this.nf.write(this.pj);if(this.lk.NX){this.nf.write(this.Vj)}this.nf.write(this.eV);this.nf.write({w:"write",data:this.ajV(this.x5),position:this.afo-8});
return this.nf.close()};var cy=function(){var j,n,Q,a,B,m;function R(){a+=1;return Q[a-1]}function q(){a+=2;
return L.FT(Q,a-2)}function U(){a+=4;return L.J9(Q,a-4)}function l(X){return 512+512*X}function b(X){return 64*X}function D(X,g){var F=[];
while(X!=-2){F.push(X);X=g[X]}return F}function c(X,g,F){var k=D(X,F==64?m:B);if(g==null)g=k.length*F;
var I=new Uint8Array(g),e=F==64?n:j;for(var v=0;v<k.length;v++){var H=k[v],A=F==64?b(H):l(H);I.set(new Uint8Array(e.buffer,A,Math.min(F,g-v*F)),v*F)}return I}function _(X,g,F,k){var I=Q,e=a,Y;
Q=X;a=g*128;var H=L._2(Q,a,32);a+=64;var A=q();H=H.slice(0,A-2>>>1);var Z=R(),J=R(),s=U(),E=U(),z=U();
for(var v=0;v<20;v++)if(R()!=0)throw v;a+=8;a+=8;var h=U(),d=U();if(U()!=0)throw"e";if(Z==1||Z==5){if(Z==5){n=c(h,null,512)}Y={};
_(X,z,Y,k+1)}else if(Z==2){if(d<=4096)Y=c(h,d,64);else Y=c(h,d,512)}else throw Z;if(s!=-1)_(X,s,F,k+1);
if(E!=-1)_(X,E,F,k+1);F[H]=Y;Q=I;a=e}function p(X){Q=j=new Uint8Array(X);a=0;var g=[208,207,17,224,161,177,26,225];
for(var v=0;v<8;v++)if(R()!=g[v])throw"e";for(var v=0;v<16;v++)if(R()!=0)throw"e";var F=q(),k=q(),I=q();
if(I!=-2)throw"big endian";var e=q();if(e!=9)throw"not 512";var H=q();if(H!=6)throw"not  64";for(var v=0;
v<10;v++)if(R()!=0)throw"e";var A=U(),Z=U();if(U()!=0)throw"e";var J=U();if(J!=4096)throw"e";var s=U(),E=U(),z=U(),h=U(),d=[];
for(var v=0;v<109;v++){var Y=U();if(Y==-1)break;d.push(Y)}while(z>=0){a=l(z);for(var v=0;v<127;v++){var Y=U();
if(Y==-1)break;d.push(Y)}z=U()}if(d.length!=A)throw"e";B=[];for(var v=0;v<A;v++){a=l(d[v]);for(var C=0;
C<128;C++){var Y=U();B.push(Y)}}m=[];while(s!=-2){a=l(s);for(var C=0;C<128;C++){var Y=U();m.push(Y)}s=B[s]}var i=c(Z,null,512),M={};
_(i,0,M,0);return M["Root Entry"]}return{parse:p}}(),N={};N.lS=function(j){return window.devicePixelRatio||1};
N.bE=function(j,n){return(n.aFQ=="touch"?12:8)*N.lS()/j.e.yr};N.wU=function(j,n,Q){this.name=j;this.id=n;
this.xo=null;if(Q!=null)this.$e=Q};N.wU.prototype.JQ=function(j,n,Q,a,B){};N.wU.prototype.enable=function(j,n,Q,a,B,m){var R=new ar(x.E.B,!0);
R.data={Q:x.l.w4,sz:"default"};n.a(R)};N.wU.prototype.disable=function(j,n,Q,a,B){};N.wU.prototype.aCH=function(j,n,Q,a,B){return!1};
N.wU.prototype.v1=function(j,n,Q,a,B){};N.wU.prototype.yM=function(j,n,Q,a,B){};N.wU.prototype.Z3=function(j,n,Q,a,B){};
N.wU.prototype.pU=function(j,n,Q,a,B,m){};N.wU.prototype.mZ=function(j,n,Q,a,B){};N.wU.prototype.hs=function(j,n,Q,a){};
N.wU.prototype.lc=function(j,n,Q,a){};N.wU.prototype.pk=function(j,n){};N.wU.prototype.X7=function(j,n){};
N.wU.prototype.S1=function(j){return 0};N.wU.prototype.UY=function(j,n,Q,a,B){};N.wU.prototype.sW=function(j,n){};
N.wU.prototype.qi=function(j,n){return!1};N.wU.prototype.Oj=function(j,n){return!1};N.wU.prototype.Ys=function(){return!1};
N.wU.prototype.yJ=function(j,n){return!0};N.wU.prototype.Dj=function(){return null};N.wU.prototype.B4=function(j,n,Q){};
N.wU.prototype.ahG=function(){return!1};N.wU.prototype.h5=function(j,n,Q,a){};N.wU.prototype.track=function(j){var n=new ar(x.E.X2,!0);
n.data=j;j.Q5=!0;this.xo.a(n)};N.wU.ck=function(j,n,Q,a){var B=10*N.lS()*(j.aFQ=="touch"?2:1),m=j.x+B,R=j.y-B,q=K.Ai.HZ(n.q,Q.Mp,a,Q.q,!0),U=K.Ai.HZ(n._,Q.Mp,a,Q._,!0);
while(q.length<U.length)q=" "+q;while(q.length>U.length)U=" "+U;N.wU.Kc(m,R,[i4.get([12,41]).charAt(0)+": "+q,i4.get([12,42]).charAt(0)+": "+U],Q)};
N.wU.Kc=function(j,n,Q,a){function B(l,X,g,F,k,I){l.beginPath();l.moveTo(X,g+I);l.arcTo(X,g+k,X+I,g+k,I);
l.arcTo(X+F,g+k,X+F,g+k-I,I);l.arcTo(X+F,g,X+F-I,g,I);l.arcTo(X,g,X,g+I,I)}var m=N.lS(),R=Math.round,q=R(11*m),U=N.wU.a1S,b=0;
if(U==null)U=N.wU.a1S=document.createElement("canvas");var l=U.getContext("2d");l.font=q+"px monospace";
for(var v=0;v<Q.length;v++)b=Math.max(b,l.measureText(Q[v]).width);var D=R(b+12*m),c=R((Q.length*14+5)*m),_=new b4(j,n-c,D,c);
if(U.width!=D||U.height!=c){U.width=D;U.height=c;l.font=q+"px monospace"}l.clearRect(0,0,D,c);l.fillStyle="rgba(0,0,3,0.8)";
B(l,0,0,D,c,R(4*m));l.fill();l.fillStyle="rgba(255,255,255,1)";for(var v=0;v<Q.length;v++)l.fillText(Q[v],R(6*m),R((v+1)*13*m));
var p=[l.getImageData(0,0,D,c).data,_.O()];if(a)a.M.lf=[p];return p};N.wU.a1S=null;N.wU.ax$=function(j,n,Q,a){if(n)this.xo=n;
var B=this.a7$;if(j)B=[j.q,j._,j.Mp];if(Q&&B)B[3]=Q.c8.bp;this.a7$=B;var m=new ar(x.E.B,!0);m.data={Q:x.l.nz,I:this.id,hN:B};
if(this.xo)this.xo.a(m)};N.wU.kG=function(j){j.prototype.lc=N.wU.ax$;j.prototype.sW=function(n,Q){if(Q==b3.hl||Q==b3.Od)this.lc(null,null,n,null)}};
N.nQ="0";N.D4="1";N.a45="2";N.azg="3";N.f0="5";N.aAd="6";N.ah3="7";N.tQ="8";N.qC="9";N.MA="10";N.EU="11";
N.uE="12";N.pi="13";N.nV="14";N.aer="15";N.Pq="16";N.Ir="18";N.$u="19";N.aCe="90";N.A$="20";N.xW="21";
N.wg="22";N.o9="23";N.B2="24";N.Tk="25";N.Ff="27";N.pP="31";N.yX="32";N.aH3="33";N.$p="34";N.a6E="35";
N.YL="36";N.nx="37";N.jf="38";N.S6="39";N.Y5="40";N.Pm="41";N.qB="42";N.h8="43";N.auR="44";N.a5P="45";
N.atd="46";N.aef="72";N.BT="47";N.od="48";N.rB="51";N.fI="52";N.hp="54";N.a8="55";N.xD="56";N.MS="57";
N.Zp="58";N.Kd="59";N.AR="60";N.yx="61";N.Ui="70";N.$q="71";N.a2X="73";N.CL="100";N.ea="101";N.fS="102";
N.kP="103";N.XF="120";N.ab0="121";N.r_="230";N.aH1="231";N.jM="232";N.ir="233";N.uX="234";N.KV="235";
N.NC="236";N.vs={};N.vs[N.o9]="tools/brush";N.vs[N.B2]="tools/pencil";N.vs[N.pP]="tools/eraser";N.JJ={PcTl:N.B2,PbTl:N.o9,moveTool:N.nQ,cloneStampTool:N.Ff,typeCreateOrEditTool:N.BT,artboardTool:N.Ui,marqueeRectTool:N.D4,typeVerticalCreateOrEditTool:N.od,perspectiveCropTool:N.EU,marqueeEllipTool:N.a45,eyedropperTool:N.nV,eraserTool:N.pP,pathComponentSelectTool:N.rB,lassoTool:N.f0,backgroundEraserTool:N.yX,directSelectTool:N.fI,polySelTool:N.aAd,rectangleTool:N.hp,magneticLassoTool:N.ah3,gradientTool:N.$p,quickSelectTool:N.tQ,bucketTool:N.a6E,ellipseTool:N.a8,magicWandTool:N.qC,blurTool:N.YL,polygonTool:N.xD,cropTool:N.MA,sharpenTool:N.nx,lineTool:N.MS,sliceTool:N.uE,smudgeTool:N.jf,customShapeTool:N.Zp,sliceSelectTool:N.pi,dodgeTool:N.S6,spotHealingBrushTool:N.Ir,burnInTool:N.Y5,saturationTool:N.Pm,penTool:N.qB,redEyeTool:N.wg,freeformPenTool:N.h8,rulerTool:N.Pq,paintbrushTool:N.o9,handTool:N.Kd,pencilTool:N.B2,zoomTool:N.yx,objectSelectTool:N.azg,healingBrushTool:N.$u,patchTool:N.A$,contentAwareMoveTool:N.xW,colorReplacementBrushTool:N.Tk,curvaturePenTool:N.auR,rotareViewTool:N.AR};
N.K6=function(j,n,Q){N.wU.call(this,j,n,Q);this.ZO={brush:j?ic.GK():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.H=null;this.Zq=null;this.Q_=null;this.Mh=null;this.Gz=null;this.dw=null;this.Xi=null;this.e_=null;
this._h=null;this.sK=null;this.do=null;this.OG=null;this.bX=null;this.or=1;this.l0=!1;this.wm=null;this.caller=null};
N.K6.prototype=new N.wU;N.K6.prototype.Oj=function(j,n){return j.vm&&n.r(i8.f8)};N.K6.prototype.yM=function(j,n,Q,a,B){if(a.r(i8.Y2)){this.dw=new eE(B.x,B.y);
var m=this.ZO.brush.Brsh.v,R=m.Dmtr.v.val,q=m.Hrdn!=null?m.Hrdn.v.val:-1;this.Xi=[R,q,!0,K.u(this.ZO.brush),B];
this.FV(Q)}};N.K6.prototype.I0=function(j,n,Q){var a=this.Xi,B=j.e.yr,m=Q.x-a[4].x,R=Q.y-a[4].y,q=a[0],U=a[1],l=Math.abs(m)>Math.abs(R);
if(l&&a[2]){var b=Math.round(2*m/B);q+=b;Q.x-=m-.5*b*B}if(!l&&!a[2]&&U!=-1){var b=Math.round(.25*R);
U+=b;Q.y-=R-4*b}q=Math.max(1,q);U=a[1]==-1?-1:Math.max(0,Math.min(100,U));var D=a[3];D.Brsh.v.Dmtr.v.val=q;
if(U!=-1)D.Brsh.v.Hrdn.v.val=U;this.Xi=[q,U,l,D,Q];var c=jm.Aq(D,n.nE.wP,B),_=c[1];_.x=Math.round(this.dw.x-_.q/2);
_.y=Math.round(this.dw.y-_._/2);j.M.uR=[c];var p=j.e.oR(this.dw.x,this.dw.y);j.M.lP={KS:[],WW:[p.x-q/2,p.y,p.x+q/2,p.y]};
if(U!=-1)j.M.lP.WW.push(p.x+50/B,p.y-U/2,p.x+50/B,p.y+U/2);j.UF=!0};N.K6.prototype.mZ=function(j,n,Q,a,B){if(this.id==N.A$||this.id==N.xW)return;
if(this.dw){this.dw=null;this.TR(K.u(this.Xi[3]));j.M.uR=[];j.M.lP=null;j.UF=!0;return}var m=new ar(x.E.B,!0);
m.data={Q:x.l.nz,I:this.id,a7R:"showBrushOpts",CK:new eE(B.vr+4,B.Bk)};n.a(m)};N.K6.prototype.TR=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.m6,_X:b3.Zi,QV:j};this.caller.a(n)};N.K6.UZ=function(j,n,Q,a,B,m){if(j==null)j="FrgC";
if(n==null)n="norm";if(Q==null)Q=1;if(B==null)B=!1;var R={classID:"Fl",Usng:{t:"enum",v:{FlCn:j}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(Q*100)}},PrsT:{t:"bool",v:B},Md:{t:"enum",v:{BlnM:af.sr(n)}}};
if(j=="Clr")R.Clr={t:"Objc",v:a};if(j=="contentAware")R.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(j=="Ptrn")R.Ptrn={t:"Objc",v:m};return{ep:"fill",Tu:R}};N.K6.prototype.JQ=function(j,n,Q,a,B){this.xo=n;
var m=Q.Yb.length;if(m==0&&!Q.rV())return;var R=m!=0?-1-Q.Yb[0]:Q.X[0],q=Q.T[R];if(j.Q=="fromAction"){var U=j.bm,l=U.Tu;
if(l&&l.null&&l.null.v[0]&&l.null.v[0].v.classID=="Path"){var b=Q.H9(),D=b[0],c=b[1],_=D[c.length==0?0:c[0]].add.vmsk;
if(U.ep=="fill"){var p=_.sJ(),X=B.Z4,g=this.ZO,F=X>>16&255,k=X>>8&255,I=X>>0&255;this.H4(Q,q,p,F,k,I,Math.round(g.opacity*255),g.bmode,"Fill Path")}else{var e=l&&l.Prs&&l.Prs.v,H=JSON.stringify(this.ZO.brush);
if(e)ic.acg(this.ZO.brush,[!1,!0]);for(var A=0;A<1e3;A++){var Z=K.R.p$(_.z,A,!0);if(Z==-1){this.pU(Q,n,B,a,null);
break}var J=_.z[Z],s=_.z.slice(Z,Z+1+J.length),E=K.c.gb(s,2).g,z=E.slice(0,8);for(var h=8;h<E.length;
h+=6)z.push(E[h-2],E[h-1],E[h],E[h+1],E[h+2],E[h+3],E[h+4],E[h+5]);var d={};d.Points=z;d.TextOnPathTRange=_.aX.slice(0);
var d=bG.bj(d,2,J.w==3),Y=d[0],C=Q.e.Vh(Y[0],Y[1]);if(e)C.fw=0;if(A==0)this.v1(Q,n,B,a,C);else this.Zq.moveTo(Y[0],Y[1],e?0:null);
var i=Y.length,M=J.w==0?i+2:i;for(var v=2;v<M;v+=2){C=Q.e.Vh(Y[v%i],Y[(v+1)%i]);C.vm=!0;if(e){var W=v/M;
C.fw=2*Math.min(W,1-W)}this.Z3(Q,n,B,a,C,this.ZO.flow)}this.Zq.finish();this.Xb(Q)}if(e)this.ZO.brush=JSON.parse(H)}}else if(U.ep=="fill"){var $=l.PrsT?l.PrsT.v:!1,P=q?q.add.lspf:0;
if($&&q){q.add.lspf=P==null?1:P|1}var O=(l.Opct?l.Opct.v.val:100)/100,G=l.Md?af.Ci(l.Md.v.BlnM):"norm";
O=Math.round(255*O);var t=l.Usng.v.FlCn;if(t=="contentAware"||t=="aiHeal"){if(Q.K==null){alert("Select an area to heal first.");
return}if(!Q.rV())return;var y=Q.K;if(t=="aiHeal"&&!ks.y4(Q))return;this.nK(Q);this.$Q(Q,0);if(t=="contentAware"){var r=K.U(y.s.$()*4);
K.wj(y.G,r,3);this.oY(Q,"sheal",r,y.s,y.s);this.ge(Q,y.s);this.finish(Q,y.s)}else{this.e8=Q;this.H=B;
var u=ks.Mm(B,3),S=function(){ks.awl(l.prmt?l.prmt.v:"empty background",u,Q,this.acI.bind(this),l._X);
var jb=new ar(x.E.B,!0);jb.data={Q:x.l.L_,Sw:"Processing ..."};n.a(jb);this.caller=n}.bind(this);if(u||ks.pQ(3))S();
else ks.tU(S)}}else if(t=="Ptrn"){var w=B._f,dj=Q.K?Q.K.s.O():new b4(0,0,Q.q,Q._),o=K.U(dj.$()*4);gq.MG(l,o,dj,w,new eE(0,0));
for(var v=0;v<o.length;v+=4)o[v+3]=O;this.C2(Q,q,Q.K,o,G,[6,48,0,2])}else{var X;if(t=="FrgC")X=B.Z4;
else if(t=="BckC")X=B.g7;else if(t=="Blck")X=0;else if(t=="Wht")X=16777215;else if(t=="Gry")X=8421504;
else if(t=="Clr"){var T=K.Gp.qF(l.Clr.v);X=T.n<<16|T.i<<8|T.b}var F=X>>16&255,k=X>>8&255,I=X>>0&255;
this.H4(Q,q,Q.K,F,k,I,O,G,[2,3])}if($&&q){q.add.lspf=P==null?0:P}}else if(U.ep=="delete"){var i6=R<0?1:q.s0,y=Q.K,hH;
if(y==null)return;var bH=R<0?Q.Kj[-R-1]:i6<=0?null:i6==1?q.sJ():q.vG(Q).N,dj=i6<=0?q.s:bH.s,cg=i6<=0?y.s.uf(dj):y.s.O();
if(cg.ke())return;var bu=cg.$();if(i6<=0){hH=K.U(bu*4);K.EC(q.buffer,q.s,hH,cg)}else{hH=K.U(bu);bH.extend(cg);
K.Gc(bH.G,bH.s,hH,cg)}if(0<=R&&q.zB(Q,y)){if(i6<=0){hH.fill(0);K.EC(q.YT.wS,q.YT.Ze,hH,cg)}else{hH.fill(255);
K.Gc(q.YT.wS,q.YT.Ze,hH,cg)}}else{if(i6<=0){var dK=K.U(hH.length>>2);K._W(hH,dK,3);K.L.Ro(K.DB(y.s.$()),y.s,dK,cg,y.G,cg,1);
K.wj(dK,hH,3)}else{var d8=K.U(y.s.$()),F=B.g7>>>16&255,k=B.g7>>8&255,I=B.g7>>0&255;d8.fill(Math.round(K.bC(F,k,I)));
K.L.Ro(d8,y.s,hH,cg,y.G,cg,1)}}this.fP(Q,!0,[2,2],R,i6,cg,hH)}}if(j.Q=="stroke"){var d1=j.ahD,y=Q.K;
if(y==null){y={s:q.s.O(),G:K.U(q.s.$())};K._W(q.buffer,y.G,3)}var gH=gq.f3(d1),kh=N.NJ.ajI(y,Math.ceil(gH[0]),Math.ceil(gH[1])),X=K.Gp.qF(d1.Clr.v),F=Math.round(X.n),k=Math.round(X.i),I=Math.round(X.b);
this.H4(Q,q,kh,F,k,I,Math.round(255*d1.Opct.v.val/100),af.Ci(d1.Md.v.BlnM),[14,9])}if(j.Q=="fillBMP"){this.C2(Q,q,Q.K,j.ph,j.Er,j.ID)}if(j.Q=="draw"){var ay=j.vT,dO=ay.s;
this.nK(Q);var fy=Q.T[Q.X[0]];if(j.avi&&fy&&fy.s0<=0&&Q.Yb.length==0){dO=N.vo.akL(ay,Q);fy.buffer=ay.buffer.slice(0);
fy.s=dO.O()}else{var bg=this.ZO.bmode,f4=this.ZO.opacity;this.ZO.bmode="norm";this.ZO.opacity=1;this.oY(Q,"draw",ay.buffer,dO,dO.uf(new b4(0,0,Q.q,Q._)));
this.ZO.bmode=bg;this.ZO.opacity=f4}this.ge(Q,dO);Q.LD=!0;this.finish(Q,dO,j.ID,j.avi)}};N.K6.prototype.acI=function(j){var n=j.target.response,Q=new Uint8Array(n);
if(this.ajK){this.ajK=!1;n=fj.iz(L.Cl(Q))}else if(Q[0]==123){var a=JSON.parse(L.Cl(Q)),v=0;console.log(a);
if(a.status=="error"){alert(a.message.prompt[0]);return}var B=a.image_links;if(B==null)B=a.output;var m=B[0],R=new XMLHttpRequest;
R.responseType="arraybuffer";while(!0){var q=new XMLHttpRequest;q.open("HEAD",m,!1);q.send();if(q.status!=404)break;
console.log("not ready");v++}R.open("GET",m,!0);R.onload=this.acI.bind(this);this.ajK=!0;R.send();return}var U=new Uint8Array(fj.hQ.z5(n)[0].data),l=ks.JD(this.e8),b=this.e8;
this.e8=null;var D=b.T[b.X[0]],c=b.K,_=K.U(l.$()*4);K.EC(D.buffer,D.s,_,l);var p=K.U(l.$());K.Gc(c.G,c.s,p,l);
K.round(p);var X=new Uint32Array(_.buffer),g=new Uint32Array(U.buffer);for(var v=0;v<X.length;v++)if(p[v]==0)g[v]=X[v];
K.kF.Lr(U,p,l,null,500);var F=new ar(x.E.B,!0);F.data={Q:x.l.MX,Sw:"Processing ..."};this.caller.a(F);
var k=this.ZO,I=k.opacity,e=k.bmode;k.opacity=1;k.bmode="norm";this.oY(b,"draw",U,l,l);k.opacity=I;k.bmode=e;
this.ge(b,l);this.finish(b,l);if(ks.Mm(this.H,3)==null)ks.uT("Inpaint",3)};N.K6.prototype.H4=function(j,n,Q,a,B,m,R,q,U){var l=Q==null?new b4(0,0,j.q,j._):Q.s,b=R<<24|m<<16|B<<8|a<<0,D=K.U(l.$()*4);
K.G5(D,b);this.C2(j,n,Q,D,q,U)};N.K6.prototype.C2=function(j,n,Q,a,B,m){var R=j.Yb.length!=0?-1-j.Yb[0]:j.X[0],q=R<0?1:n.s0,U=R<0?j.Kj[-1-R]:q<=0?null:q==1?n.sJ():n.vG(j).N,l=q<=0?n.s:U.s,b=Q==null?new b4(0,0,j.q,j._):Q.s,D=Q==null?K.Zo(j.q*j._):Q.G;
if(Q!=null)K.A2(D,a);var c=b.$(),_=K.U(c*4);if(q<=0)K.EC(n.buffer,n.s,_,b);else{U.extend(b);_.fill(255);
K.YM(U.wG(b),_)}if(0<=R&&Q&&n.zB(j,Q)&&q<=0){var p=n.YT.Mj,X=n.YT.Mj.slice(0);if(q<=0)K.D1(a,X);else K.D1(fullc,X);
var g=new ae([2,3],this);g.data={Q:"drawtemp",W:j.X[0],RR:q,arH:p,avF:X};j.xr(g);this.pk(g.data,j)}else{if(q<=0){var F;
if(n.Na(0)){F=K.U(b.$());K._W(_,F,3)}K.L.sg(B,a,b,_,b,b,1);if(n.Na(0))K.wj(F,_,3)}else{K.L.sg(B,a,b,_,b,b,1);
var k=K.U(c);K.AS(_,k);_=k}this.fP(j,!0,m,R,q,b,_)}};N.K6.prototype.qi=function(j){if(i8.Zw.indexOf(j)!=-1)return!0;
return!1};N.K6.prototype.hs=function(j,n,Q,a){var B=this.ZO.brush,m=a.r(i8.Y2),R=m!=this.l0,q=N.K6.jd(B,a);
if(q!=null)this.TR(q);if(!a.r(i8.Gm)&&a.me()!=-1&&this.id!=N.Tk){var U=i8.amu(Math.round(this.ZO.opacity*100),a.me())/100;
this.Ol({opacity:U},n)}if(this.id==N.tQ&&R&&j!=null){var l=this.ZO.qsmode;if(l==2)l=j.K==null?0:1;else l=2;
this.Ol({qsmode:l},n)}this.l0=m;if(R){if(j)this.or=j.e.yr;this.FV(Q,a)}};N.K6.jd=function(j,n){var Q=j.Brsh.v.Dmtr.v.val,a=j.Brsh.v.Hrdn!=null?j.Brsh.v.Hrdn.v.val:-1,B=j.Brsh.v.Angl.v.val,m=Q,R=a,q=B,U=n.r(i8.f8);
if(n.r(i8.N3)){if(U)a=25*Math.floor((a-1)/25);else{if(Q<=10)Q--;else if(Q<=50)Q=5*Math.floor((Q-1)/5);
else if(Q<=100)Q=10*Math.floor((Q-1)/10);else if(Q<=200)Q=25*Math.floor((Q-1)/25);else if(Q<=400)Q=50*Math.floor((Q-1)/50);
else Q=100*Math.floor((Q-1)/100)}}if(n.r(i8.MH)){if(U)a=25*Math.ceil((a+1)/25);else{if(Q<10)Q++;else if(Q<50)Q=5*Math.ceil((Q+1)/5);
else if(Q<100)Q=10*Math.ceil((Q+1)/10);else if(Q<200)Q=25*Math.ceil((Q+1)/25);else if(Q<400)Q=50*Math.ceil((Q+1)/50);
else Q=100*Math.ceil((Q+1)/100)}}var l=n.r(i8.ar),b=n.r(i8.y2);if(U&&(l||b)){B=(B+360+15*(l?1:-1))%360}Q=Math.max(1,Q);
a=Math.max(0,Math.min(100,a));if(R==-1)a=-1;if(Q!=m||a!=R||B!=q){var D=K.u(j);D.Brsh.v.Dmtr.v.val=Q;
D.Brsh.v.Angl.v.val=B;if(R!=-1)D.Brsh.v.Hrdn.v.val=a;return D}return null};N.K6.prototype.FV=function(j,n,Q,a){if(j.nE.list.length==0)return;
var B=this.id,m;if((B==N.Ff||B==N.$u||B==N.o9||B==N.B2)&&(n!=null&&n.r(i8.Y2)||this.ZO.alt[0]))m="crosshair";
else{var R=this.or,q=this.ZO.brush;if((B==N.Ff||B==N.$u)&&Q&&this.OG&&this.OG.length==this.do.$()*4){var U=Q.e.oR(a.x,a.y),l=this.aGa(U),b=this.OG,D=this.do,c=new b4(D.x+l.x,D.y+l.y,D.q,D._),_=jm.Aq(q,j.nE.wP,R),p=_[0],X=_[1],g=Math.ceil(X.q/R),F=new b4(Math.round(U.x-g/2),Math.round(U.y-g/2),g,g),k=K.U(F.$()*4),I,e;
K.EC(b,c,k,F);if(R==1){I=k;e=F}else{var H=new j8(R,0,0,R,0,0),A=N.IP.sO([k,F],H,!0);e=X.O();e.x=A.s.x;
e.y=A.s.y;if(e.N_(A.s))I=A.buffer;else{I=K.U(e.$()*4);K.EC(A.buffer,A.s,I,e)}}var Z=this.ZO.opacity/255;
for(var v=0;v<I.length;v+=4)I[v+3]=Z*(p[v+3]*I[v+3]);jm.atg(new Uint32Array(I.buffer),e,4278190080,4294967295);
m={_x:I,SK:e,HC:new eE(e.q/2,e._/2)}}else m=jm.FB(q,j.nE.wP,R,B==N.Tk||B==N.yX)}var J=new ar(x.E.B,!0);
J.data={Q:x.l.w4,sz:m};if(this.caller)this.caller.a(J)};N.K6.prototype.enable=function(j,n,Q,a){this.H=Q;
this.caller=n;this.TR(K.u(this.ZO.brush));if(j&&j.e.yr!=0)this.or=j.e.yr;this.FV(Q,a)};N.K6.prototype.sW=function(j,n){if(n==b3.Zi){this.ZO.brush=j.nE.Q0;
this.FV(j)}};N.K6.prototype.UY=function(j,n,Q,a,B){for(var m in j)this.ZO[m]=j[m];if(this.ZO.alt[0])this.FV(B,a,Q)};
N.K6.prototype.apT=function(j){var n=j.Yb.length!=0?-1-j.Yb[0]:j.X[0],Q=j.T[n],a=n<0?1:Q.s0,B=n<0?j.Kj[-n-1]:a<=0?null:a==1?Q.sJ():Q.vG(j).N,m=B?B.G:Q.buffer,R=(B?B.s:Q.s).O();
return[Q,a,B,m,R]};N.K6.prototype.nK=function(j,n){this.bX=j.K==null?null:{s:j.K.s.O(),G:j.K.G.slice(0)};
var Q=this.sK,a=this.apT(j),B=a[0],m=a[1],R=a[2];this.sK=a[3];this._h=a[4];var q=new b4(0,0,j.q,j._),U=q.d_(this._h);
if((this.Fs()&&m<=0||U.N_(this._h))&&n!=!0){if(Q&&Q.length==this.sK.length){Q.set(this.sK);this.sK=Q}else this.sK=this.sK.slice(0)}else{if(R)R.extend(U);
else B.extend(U)}};N.K6.prototype.$Q=function(j,n){var Q=this.apT(j),a=Q[1],B=Q[3],m=Q[4],R=[B,m],q=n!=null?n:this.ZO.sfrom;
if(a<=0&&q!=0){R[1]=new b4(0,0,j.q,j._);R[0]=j.rd(q==1&&j.X[0]!=j.T.length-1?j.X[0]:null).slice(0)}this.do=R[1].O();
this.OG=R[0].slice(0)};N.K6.prototype.Gx=function(j,n,Q,a,B,m){if(B.vm&&a.r(i8.Y2)&&this.dw==null){if(m)this.Z5=Q.Z4;
var R=new ar(x.E.A,!0);R.I=N.nV;R.data={Q:"pickhere",auA:B};n.a(R);var q=N.Yc.aeu(j,!1,!0,B,null,Q.Z4,this.Z5,1),R=new ar(x.E.B,!0);
R.data={Q:x.l.w4,sz:q};n.a(R);return!0}return!1};N.K6.prototype.pz=function(j,n,Q,a,B,m){if(this.id!=N.tQ&&!j.rV(this.caller)){this.Zq=null;
return}if(this.id!=N.tQ&&this.Zq)return;this.nK(j);var R=new b4(0,0,j.q,j._),q=null;if(m!=null){var U=j.Yb.length!=0?-1-j.Yb[0]:j.X[0],l=j.T[U],b=U<0?j.Kj[-U-1]:l.s0<=0?null:l.s0==1?l.sJ():l.vG(j).N;
q=K.U(R.$()*4);if(b)N.K6.Ee(this.sK,this._h,b.color,q,R);else K.EC(this.sK,this._h,q,R)}var D=this.ZO;
if(this.Zq&&this.id==N.tQ&&D.qsmode!=0&&j.K!=null){}else{var c=n.Z4,_=n.g7;if(this.wm=="erase"){var p=c;
c=_;_=p}var X=this.id==N.tQ?this._h:R;this.Zq=new jm(D.brush,n.nE.wP,n.nE.jy,{u3:B,YZ:m,a39:D.smth*50/j.e.yr,Hf:this.id==N.B2||D.emode==1,zO:j.zO},c,_,X,q)}if(this.id==N.tQ){this.Zq.aI9(D.brush,D.qsmode==2?0:16777215)}var g=j.e.oR(a.x,a.y);
if(Q.r(i8.f8)&&this.Q_){var F=this.Q_;this.Zq.moveTo(F.x,F.y,a.fw);this.Zq.lineTo(.001*F.x+.999*g.x,.001*F.y+.999*g.y,a.fw);
this.Zq.lineTo(g.x,g.y,a.fw)}else this.Zq.moveTo(g.x,g.y,a.fw);this.Q_=g;this.Mh=g.O();this.Gz=new jR(g,j.e.c6)};
N.K6.prototype.kd=function(j,n,Q){if(j&&j.e.yr!=0&&j.e.yr!=this.or){this.or=j.e.yr;this.FV(Q)}};N.K6.prototype.ru=function(j,n,Q,a){if(this.Zq==null)return;
var B=j.T[j.X[0]],m=j.e.oR(a.x,a.y),R=this.Gz.Cw(m,Q);if(R.N_(this.Q_))return 1;this.Zq.lineTo(R.x,R.y,a.fw);
this.Q_=R;if(this.id==N.Ff||this.id==N.$u){var q=this.A9(),U=11;q=j.e.Vh(m.x-q.x,m.y-q.y);var l=U>>>1,b=new b4(Math.round(q.x)-l,Math.round(q.y)-l,U,U),D=K.U(b.$()*4);
for(var v=0;v<U;v++)D[(v*U+l)*4+3]=D[(U*l+v)*4+3]=255;j.M.lf=[[D,b]];j.UF=!0}};N.K6.prototype.lc=function(j,n,Q,a){if(Q.Ce!=this.id)return;
if(this.id!=N.tQ||j==null)return;if(j.K==null||j.X[0]!=this.ae1){this.ae1=j.X[0];this.Ol({qsmode:0},n)}};
N.K6.prototype.ge=function(j,n){if(j.Yb.length!=0){j.UF=!0;return}var Q=j.T[j.X[0]];if(n==null){n=this.Zq.Iz();
if(this.Fs()&&Q.s0<=0)n=n.uf(this._h)}var a=Q.s0;if(a==1||a==3){var B=Math.round((a==1?Q.sJ():Q.vG(j).N).g_*2.4);
n=n.O();n.VT(B,B)}if(n.ke())return;if(a<=0){Q.ge(n)}if(a==1){Q.sJ()._r=!0;Q.tI(j,n)}if(a==3){Q.ge(n)}j.ge(j.root.Jc(n,j,j.X[0],!0))};
N.K6.prototype.pU=function(j,n,Q,a,B){if(this.Zq==null)return;this.Zq.finish();if(this.id!=N.Ir&&this.id!=N.$u&&this.id!=N.tQ)this.Xb(j);
if(this.id==N.Ff||this.id==N.$u){j.M.lf=[];j.UF=!0}if(this.id==N.tQ){var m=j.K;j.K=this.bX;var R=new ar(x.E.A,!0);
R.data={Q:"setsel",ID:this.name,K:m};R.I=N.D4;n.a(R);if(this.ZO.qsmode==0)this.Ol({qsmode:1},n)}else{this.finish(j,this.Zq.Eg());
this.Zq=null;this.e_=null}this.dir=0};N.K6.prototype.Ol=function(j,n){for(var Q in j)this.ZO[Q]=j[Q];
var a=new ar(x.E.B,!0);a.data={Q:x.l.nz,I:this.id,BL:j};n.a(a)};N.K6.prototype.Fs=function(){var j=this.id;
return j==N.tQ||j==N.pP||j==N.S6||j==N.Y5||j==N.Pm||j==N.wg};N.K6.prototype.finish=function(j,n,Q,a,B){var m=j.Yb.length!=0?-1-j.Yb[0]:j.X[0],R=j.T[m],q=m<0?1:R.s0,U=m<0?j.Kj[-m-1]:q<=0?null:q==1?R.sJ():R.vG(j).N,l=U?U.s:R.s,c;
if(this.Fs()||!l.N_(this._h)){if(U==null){if(this.Fs())R.Dy();else{var b=n.d_(this._h),D=K.U(b.$()*4);
K.EC(R.buffer,R.s,D,b);R.buffer=D;R.s=b}}else U.Dy();this.ge(j,l)}if(q<=0){c=K.U(n.$()*4);K.EC(this.sK,this._h,c,n)}else{c=K.U(n.$());
c.fill(U.color);K.Gc(this.sK,this._h,c,n)}this.fP(j,!1,Q?Q:this.name,m,q,n,c,a,B)};N.K6.prototype.fP=function(j,n,Q,a,B,m,R,q,U){var l=R;
if(B>0){l=K.U(m.$()*4);N.K6.Ee(R,m,0,l,m)}var b=new ae(Q,this);b.data=[{W:a,RR:B,SK:m,FJ:l}];if(q)b.data.lu=[j.K,null];
if(U)b.data.lu=[this.bX,j.K];j.xr(b);if(n)this.pk(b.data,j);else if(q)j.K=null;N.mC.akV(j,b.data)};N.K6.prototype.X7=function(j,n){this.axc(j,n,!1)};
N.K6.prototype.pk=function(j,n){this.axc(j,n,!0)};N.K6.prototype.S1=function(j){return N.mC.S1(j)};N.K6.prototype.axc=function(j,n,Q){if(j.Q=="drawtemp"){var a=Q?j.avF:j.arH,B=n.T[j.W];
B.YT.Mj=a;B.DY(n,0,0,n.K);B.ge();n.LD=!0}else{N.mC.fc(n,j);if(j.lu){n.K=j.lu[Q?1:0];n.Lg=!0}}n.ge()};
N.K6.prototype.Xb=function(j){this.oY(j,this.wm,this.Zq.P$(),this.Zq.uI(),this.Zq.Iz());this.ge(j)};
N.K6.prototype.oY=function(j,n,Q,a,B){var m=this.ZO,R=j.T[j.X[0]],q=j.Yb.length!=0?j.Kj[j.Yb[0]]:R.s0<=0?null:R.s0==1?R.sJ():R.vG(j).N,U=K.U(B.$()*4),l,b=R.Na(0);
if(q==null){if(this.id==N.xW&&n=="heal")K.EC(R.buffer,R.s,U,B);else K.EC(this.sK,this._h,U,B);if(b){l=K.U(B.$());
K._W(U,l,3)}}else{N.K6.Ee(this.sK,this._h,q.color,U,B)}if(j.K&&n!="qselect"){var D=B.uf(j.K.s),c=K.U(D.$()*4);
if(n=="copy"){var _=K.U(D.$());K.Gc(j.K.G,j.K.s,_,D);K.EC(U,B,c,D);K.L.uZ(Q,a,c,D,_,D,0,D,1,!1)}else{K.EC(Q,a,c,D);
K.XE(j.K.G,j.K.s,c,D)}Q=c;a=D}function p(F,d1){var kh=Math.max(d1.x,Math.min(d1.x+d1.q-1,F.x)),ay=Math.max(d1.y,Math.min(d1.y+d1._-1,F.y));
return new eE(kh,ay)}if(n=="idraw"||n=="ierase"){if(this.e_==null)this.e_=K.U(this._h.$());var X=m.samp,g=this.H.g7,F=p(this.Q_,B),k=X==0?F:this.Mh,I=k.x,e=k.y,H=N.wA.Ak(this.sK,this._h,[k,new eE(I-2,e),new eE(I+2,e),new eE(I,e-2),new eE(I,e+2)]);
if(X==2)H=[[g>>>16&255,g>>>8&255,g>>>0&255,255]];var A=N.wA.fl(U,B,F,H,m.wconf),Z=K.U(B.$());K.Gc(this.e_,this._h,Z,B);
K.I8.d_(A,Z,Z);K.Gc(Z,B,this.e_,this._h);K.XE(Z,B,Q,a);n=n.slice(1)}if(n=="erase"&&(N.mC.aHv(j)!=16777215||q))n="draw";
if(n=="draw")K.L.sg(m.bmode,Q,a,U,B,B,m.opacity);else if(n=="erase"){var J=m.opacity;if(this.id==N.yX)J=1;
var s=K.U(B.$()*4);K.EC(Q,a,s,B);if(q==null){var E=K.U(B.$());K._W(s,E,3);K.J_(E,J);K.m2(E);K.XE(E,B,U,B)}else{K.b7(s,0);
K.L.sg("norm",s,B,U,B,B,J)}}else if(n=="clone"||n=="heal"){var z=this.A9(),h=this.do.O();h.offset(z.x,z.y);
var d=B.O();d.VT(1,1);var Y=K.U(d.$()*4),C=K.U(d.$());K.EC(Q,a,Y,d);K._W(Y,C,3);Y.fill(0);if(q==null){K.EC(this.OG,h,Y,d);
var i=K.U(d.$());K._W(Y,i,3);K.Pi(i,C)}else N.K6.Ee(this.OG,h,q.color,Y,d);if(n=="clone"){K.wj(C,Y,3);
K.L.sg(m.bmode,Y,d,U,B,B,m.opacity)}if(n=="heal"){var M=C.slice(0);K.round(M,20);var W=K.U(d.$()*4);
if(q==null)K.EC(this.sK,this._h,W,d);else N.K6.Ee(this.sK,this._h,q.color,W,d);K.L.uZ(Y,d,W,d,M,d,0,d,1,!1);
K.kF.Lr(W,M,d);K.L.uZ(W,d,U,B,C,d,0,B,1,!1)}}else if(n=="dodge"||n=="burn"){var Y=K.U(B.$()*4),O=1,G=0,t=0,y=0;
K.EC(Q,a,Y,B);var $=B.$()*4,P=N.K6.zA;if(this.l0){if(n=="dodge")n="burn";else n="dodge"}var r=m.rng;
if(n=="dodge"){G=[1-O/2,1,1+O][r];t=[1,1/(1+O),1][r];y=[O/2,0,0][r]}if(n=="burn"){G=[1/(1-O/2),1,1-O/2][r];
t=[1,1+O,1][r];y=[-(O/2)/(1-O/2),0,0][r]}for(var v=0;v<$;v+=4){var u=Y[v+3];U[v+0]=P(U[v+0],G,t,y,u);
U[v+1]=P(U[v+1],G,t,y,u);U[v+2]=P(U[v+2],G,t,y,u)}}else if(n=="sponge"||n=="redeye"){var Y=K.U(B.$()*4),C=K.U(B.$());
K.EC(Q,a,Y,B);K._W(Y,C,3);K.D1(U,Y);var S=m.smode;if(this.l0)S=1-S;var w=fo.cL("hue2");if(n=="sponge")az.RQ(w,0,[0,[-50,46][S],[6,5][S]]);
else az.RQ(w,1,{ei:[265,305,25,55],gY:[0,-90,-70]});var dj=k8.Ya("hue2",w);k8.cN(dj,Y,Y,B);K.L.uZ(Y,B,U,B,C,B,0,B,1,!1)}else if(n=="copy")K.EC(Q,a,U,B);
else if(n=="sheal"){var Y=K.U(B.$()*4),C=K.U(B.$());K.EC(Q,a,Y,B);K._W(Y,C,3);Y.fill(0);var o=this.OG,T=this.do;
if(q){o=K.U(T.$()*4);N.K6.Ee(this.OG,T,0,o,T)}var i6=K.nC.Lr(o,T,C,Y,B);if(i6!=0)K.EC(o,T,Y,B);if(m.sfrom==0)K.EC(Y,B,U,B);
else{K.EC(this.sK,this._h,U,B);K.wj(C,Y,3);K.L.sg("norm",Y,B,U,B,B,1)}}else if(n=="qselect"){var bH=this._h,cg=bH.q,bu=bH._,hH=cg*bu,dK=this.Zq.P$(),H=this.sK,d8=N.NJ.sv,C=d8.vL;
C.fill(128);for(var v=0;v<hH;v++){var d1=dK[v<<2],gH=dK[(v<<2)+3];if(gH==255&&(d1==0||d1==255))C[v]=d1}C[0]=C[cg-1]=0;
C[(bu>>>1)*cg]=C[(bu>>>1)*cg+cg-1]=0;N.Zk.Em(d8,!0,j);j.K={s:bH,G:d8.K.slice(0)};j.Lg=!0}if(q==null){if(b)K.wj(l,U,3);
K.EC(U,B,R.buffer,R.s)}else N.K6.aj(U,B,q)};N.K6.A9=function(){return null};N.K6.zA=function(j,n,Q,a,B){var m=j*(1/255),R=a+n*Math.pow(m,Q),q=Math.round(R*B+m*(255-B));
return Math.max(0,Math.min(255,q))};N.K6.Ee=function(j,n,Q,a,B){var m=K.U(B.$());m.fill(Q);K.Gc(j,n,m,B);
a.fill(255);K.YM(m,a)};N.K6.aj=function(j,n,Q){var a=K.U(n.$());K.AS(j,a);K.Gc(a,n,Q.G,Q.s)};N.NJ=function(j,n,Q){N.wU.call(this,j,n,Q);
this.ZO={binop:0,feat:0,cstr:{xE:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};this.aA=new eE(-1,-1);
this.yS=new eE(-1,-1);this.hU="default";this.xo=null;this.Bw=!1;this.OX=new eO;this.mj=!1;this.hw=null;
this.JI=null;this.TZ=!1;this.Cd=!1};N.NJ.prototype=new N.wU;N.NJ.prototype.Dj=function(){var j=this.ZO,n=[j.binop,j.feat],Q=j.wconf.slice(0);
Q[1]=Q[1]?1:0;Q[2]=Q[2]?1:0;var a=Q.join(",")=="16,1,1";if(n[0]==0&&n[1]==0&&a)return null;if(!a)n.push(Q);
return n};N.NJ.prototype.B4=function(j,n,Q){var a=this.ZO;if(j[0])a.binop=j[0];if(j[1])a.feat=j[1];if(j[2]){var B=a.wconf=j[2].slice(0);
if(typeof B[1]=="number"){B[1]=B[1]==1;B[2]=B[2]==1}}this.Zz(Q)};N.NJ.prototype.Zz=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.nz,I:this.id,ZO:this.ZO};j.a(n)};N.NJ.sv={key:""};N.NJ.u1=function(j,n,Q){var a={ep:j,Tu:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(n)a.Tu.T=n;if(Q!=null)a.Tu.AntA={t:"bool",v:Q};return a};N.NJ.Nq=function(j,n,Q){return N.NJ.u1("set",{t:"Objc",v:{classID:j,Top:{t:"UntF",v:{type:"#Pxl",val:n.y}},Left:{t:"UntF",v:{type:"#Pxl",val:n.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:n.y+n._}},Rght:{t:"UntF",v:{type:"#Pxl",val:n.x+n.q}}}},Q)};
N.NJ.Kb=function(j,n,Q){var a=[],B=[],R="set";for(var v=0;v<j.length;v+=2){a.push(j[v]);B.push(j[v+1])}var m={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:a},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:B}]}}}};
if(n)R=["set","addTo","subtractFrom","interfaceWhite"][n];return N.NJ.u1(R,m,Q)};N.NJ.aBa=function(j,n,Q){var a={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:j.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:j.y}}}},B=N.NJ.u1("set",a);
B.Tu.Tlrn={t:"long",v:n[0]};B.Tu.AntA={t:"bool",v:n[1]};B.Tu.Cntg={t:"bool",v:n[2]};if(Q==!0)B.Tu.Mrgd={t:"bool",v:Q};
return B};N.NJ.qy=function(j){return N.NJ.u1("set",{t:"enum",v:{Ordn:j?"Al":"None"}})};N.NJ.uy=function(j,n,Q){var a={classID:"null"};
if(j!="border")a.selectionModifyEffectAtCanvasBounds={t:"bool",v:Q};var B={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[j[0]];
a[B]={t:"UntF",v:{type:"#Pxl",val:n}};return{ep:j,Tu:a}};N.NJ.SG=function(j,n,Q){var a={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},B={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n}}]};
if(Q)B.v.push({t:"name",v:{classID:"Lyr",val:Q}});var m=[{classID:"null",null:a,T:B},{classID:"null",null:B,T:a},{classID:"null",null:B,From:a},{classID:"null",null:B,With:a}],R=["set","add","subtract","interfaceIconFrameDimmed"];
return{ep:R[j],Tu:m[j]}};N.NJ.as_=function(j,n){var Q=new ar(x.E.B,!0);Q.data={Q:x.l.m6,_X:b3.fM};if(!n.rl)j.a(Q);
Q.data={Q:x.l.m6,_X:b3.eh};if(!n.c8.hm)j.a(Q)};N.NJ.prototype.JQ=function(j,n,Q,a,B){N.NJ.as_(n,B);this.xo=n;
var m=j.Q,R,q,U=new b4(0,0,Q.q,Q._),cs=!1,f7,j7,dz,iA;if(m=="fromAction"){var l=j.bm,b=l.ep,D=l.Tu,c=D?D.selectionModifyEffectAtCanvasBounds:null,_=c&&c.v;
if(b=="colorRange"){if(D.Clrs){var p=D.Clrs.v.Clrs,X=0,g=255,F=["Shdw","Mdtn","Hghl"].indexOf(p),H=.4;
if(F==0)g=60;else if(F==1){X=100;g=150}else X=190;var k=["shadows","midtones","highlights"][F],I=D[k+"LowerLimit"],e=D[k+"UpperLimit"];
if(I)X=I.v;if(e)g=e.v;var A=D[k+"Fuzziness"];if(A)H=A.v/100;R=N.NJ.xT(Q,X,g,H,!0)}else{var X=D.Mnm.v,g=D.Mxm.v,H;
X={Cm:X.Lmnc.v,NX:X.A.v,b:X.B.v};g={Cm:g.Lmnc.v,NX:g.A.v,b:g.B.v};H=D.Fzns.v/200;R=N.NJ.xT(Q,X,g,H)}q=[7,8]}else if(b=="inverse"){if(Q.K==null){alert("No selection!");
return}R={G:K.U(U.$()),s:U};K.Gc(Q.K.G,Q.K.s,R.G,R.s);K.m2(R.G);q=[7,2]}else if(b=="expand"){var Z=D.By.v.val,J=Q.K.s.O();
J.VT(Z,Z);var s=K.U(J.$()),E=K.U(J.$());K.Gc(Q.K.G,Q.K.s,E,J);K.style.stroke(E,s,J,Z);R={G:s,s:J};q=[7,4]}else if(b=="contract"){var Z=D.By.v.val,z=Q.K.s.O();
z.VT(1,1);if(!_)z=z.uf(U);var E=K.U(z.$()),h=K.U(E.length);K.Gc(Q.K.G,Q.K.s,E,z);K.m2(E);K.style.stroke(E,h,z,Z);
K.m2(h);R={G:h,s:z};K.Dy(R);q=[7,5]}else if(b=="border"){var Z=D.Wdth.v.val;R=N.NJ.ajI(Q.K,Z/2,Z/2);
q=[7,9]}else if(b=="feather"||b=="smoothness"){var Z=D.Rds.v.val;R=N.NJ.ao8(Q.K,Z,b=="smoothness",U,_);
q=b=="feather"?[7,6]:[19,3,0]}else if(b=="move"){var d=D.T.v,J=Q.K.s.O();J.x+=d.Hrzn.v.val;J.y+=d.Vrtc.v.val;
R={G:Q.K.G,s:J};q=[7,7]}else if(b=="grow"||b=="similar"){var Y=this.ZO.wconf.slice(0);if(D.Tlrn)Y[0]=D.Tlrn.v;
Y[2]=b=="grow";var C=Q.rd(),i=new b4(0,0,Q.q,Q._),M=Q.K.s,W=Math.round(Math.sqrt(M.$())/10),$=K.U(i.$());
K.Gc(Q.K.G,M,$,i);var P=[];for(var O=0;O<M._;O+=W)for(var G=(M.$()+O)%W;G<M.q;G+=W)if(Q.K.G[O*M.q+G]==255){var t=new eE(M.x+G,M.y+O);
P.push(t);if(Y[2])K.I8.d_(N.wA.fl(C,i,t,null,Y),$,$)}if(!Y[2])K.I8.d_(N.wA.fl(C,i,t,N.wA.Ak(C,i,P),Y),$,$);
R={G:$,s:i};q=b=="grow"?"Grow Selection":"Similar Selection";console.log(D)}else{var y=D.null.v,r=D.AntA!=null&&D.AntA.v;
function u(bM){return K.c.Fa(K._y.uI(bM,Q.q,Q._),!0)}function S(bM){var bn=bM[0].arr,fT=bM[1].arr,ck={g:[],rZ:[]};
for(var v=0;v<bn.length;v++){ck.rZ.push(v==0?"M":"L");ck.g.push(bn[v],fT[v])}ck.rZ.push("Z");if(bM[0].uID=="#Prc")K.c.C(ck.g,new j8(Q.q/100,0,0,Q._/100,0,0),ck.g);
return ck}var w=["set","addTo","subtractFrom","interfaceWhite"].indexOf(b),dj=D.T?D.T.v:null;if(dj&&dj.classID=="Elps"){R=this.alA(N.Wg.aDy(u(dj)));
q=[10,4]}else if(dj&&dj.classID=="Rctn"){var o=u(dj);R={G:K.U(o.$()),s:o.O()};R.G.fill(255);q=[10,15]}else if(dj&&dj.classID=="ObSl"){var o=u(dj),T=N.NJ.sv,i6=T.s,bH=T.vL,cg=i6.q,bu=i6._,hH=o.x-i6.x,dK=hH+o.q-1,d8=Math.max(hH,Math.min(dK,hH+dK>>>1)),d1=o.y-i6.y,gH=d1+o._-1,kh=Math.max(d1,Math.min(gH,d1+gH>>>1)),ay=Math.max(hH,0),dO=Math.min(dK,cg),fy=Math.max(d1,0),bg=Math.min(gH,bu);
bH.fill(128);if(0<=d1)for(var G=ay;G<dO;G++)bH[d1*cg+G]=0;if(gH<bu)for(var G=ay;G<dO;G++)bH[gH*cg+G]=0;
if(0<=hH)for(var O=fy;O<bg;O++)bH[O*cg+hH]=0;if(dK<cg)for(var O=fy;O<bg;O++)bH[O*cg+dK]=0;var f4=N.NM.aFR,jb=Math.round(o.q*f4),jT=Math.round(o._*f4);
for(var G=Math.max(0,d8-jb);G<Math.min(cg,d8+jb);G++)bH[kh*cg+G]=255;for(var O=Math.max(0,kh-jT);O<Math.min(bu,kh+jT);
O++)bH[O*cg+d8]=255;N.Zk.Em(T,!0);R={G:T.K.slice(0),s:i6.O()};q=[10,44]}else if(dj&&dj.classID=="Plgn"){R=this.alA(S(dj.Pts.v.arr));
q=[10,9]}else if(dj&&dj.classID=="Pnt"){R=N.wA.ajY(Q,new eE(dj.Hrzn.v.val,dj.Vrtc.v.val),[D.Tlrn.v,r,D.Cntg==null||D.Cntg.v],D.Mrgd?D.Mrgd.v:!1);
q=[10,12]}else if(dj&&dj.Ordn=="None"){R=null;q=[7,1]}else if(dj&&dj.Ordn=="Al"){var jy=U;if(Q.X.length!=0){var cl=Q.root._N(Q.X[0]);
while(cl.parent&&cl.parent.parent)cl=cl.parent;if(cl.W.add.artb)jy=cl.W.v_()}R={G:K.U(jy.$()),s:jy};
R.G.fill(255);q=[7,0]}else if(dj&&dj[0]&&dj[0].v.keyID=="WrPt"){var hu={Q:"frompath",eT:[-1,0,0]};this.JQ(hu,n,Q,a,B);
return}else{var aA=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(b),ko=b=="set"?dj:y,ec=ko[0].v.enum,hu;
if(ec=="Trsp"||ec=="Gray"||ec=="Msk"||ec=="vectorMask"||ec=="Trgt"){var kK=Q.X[0];if(ko.length==2)kK=f2.h2(Q,ko[1]);
var cM=["Trsp","Msk","vectorMask"].indexOf(ec);if(ec=="Trgt"&&Q.T[kK].s0==1)cM=1;if(ec=="Gray")cM=-1;
hu={Q:"fromlayer",eT:[kK,cM,aA]}}else{if(ko[0].t=="name"){var kK=0;for(var v=0;v<Q.Kj.length;v++)if(Q.Kj[v].name==ko[0].v.val)kK=v;
hu={Q:"fromchannel",eT:[-5-kK,0,aA]}}else{var gG=["RGB","Rd","Grn","Bl"].indexOf(ec);hu={Q:"fromchannel",eT:[-1-gG,0,aA]}}}this.JQ(hu,n,Q,a,B);
return}if(R){if(!r)K.round(R.G);if(D.Fthr)R=N.NJ.ao8(R,D.Fthr.v.val,!1);if(b!="set"&&Q.K!=null)R=K.I8.oP(R,Q.K,w)}}if(b=="expand"||b=="contract")if(!_&&!U.contains(R.s)){var c2=R.s.uf(U),a1=K.U(c2.$());
K.Gc(R.G,R.s,a1,c2);R.G=a1;R.s=c2}}if(m=="qmask"){cs=!0;var kk=Q.Se(),i=new b4(0,0,Q.q,Q._);if(kk){R=kk.s.N_(i)&&K.Re(kk.G,255)?null:{s:kk.s.O(),G:kk.G.slice(0)};
f7=kk}else{R=null;j7=new f.km;j7.color=0;j7.name="Quick Mask";j7.fa=!0;if(Q.K){j7.s=Q.K.s.O();j7.G=Q.K.G.slice(0)}else{j7.s=i;
j7.G=K.U(j7.s.$());j7.G.fill(255)}}q=[6,6,1];Q.LD=!0}if(m=="setsel"){R=j.K;q=j.ID}if(m=="crange"){var X=j.nv,g=j.fD;
R=N.NJ.xT(Q,X,g,j.sH);q=[7,8]}if(m=="fromlayer"||m=="fromchannel"||m=="frompath"){var fA=j.eT[0],cM=j.eT[1],w=j.eT[2];
if(m=="fromlayer"){if(fA==null)fA=Q.X[0];var g5=Q.T[fA];if(cM<=0){if(g5.bx()){var cl=Q.root._N(fA);R={G:K.U(0),s:new b4};
for(var v=0;v<cl.children.length;v++){var h$=cl.children[v].W;if(h$.s.ke())continue;var hL=K.U(h$.s.$());
K._W(h$.buffer,hL,3);var ha={G:hL,s:h$.s.O()};if(v==0)R=ha;else R=K.I8.oP(R,ha,1)}if(R.s.ke())return}else{var jl=g5.s,fI=g5.buffer;
if(jl.ke())return;var aE=K.U(fI.length>>>2);if(cM==0)K._W(fI,aE,3);if(cM==-1)K.AS(fI,aE);R={G:aE,s:jl.O()}}}else{if(g5.N==null)g5.tI(Q);
var es=cM==1?g5.sJ():g5.N;R=N.NJ.azq(es,U)}this.track(N.NJ.SG(w,["Trsp","Msk"][cM],g5.getName()))}else if(m=="frompath"){var kN=Q.H9(),fV=kN[1],kN=kN[0],iq=!0;
if(fA==null)if(kN.length==0||fV.length==0)return;var jU=kN[fV[0]];if(fA!=null)for(var v=0;v<kN.length;
v++)if(kN[v].cb==fA)jU=kN[v];var es=jU.add.vmsk.sJ(),c$=es.uI();if(c$.$()==0)return;var aE=es.Ax();if(j.eT[3]!=null)iq=j.eT[3];
if(!iq){aE=aE.slice(0);K.round(aE)}dz=[JSON.stringify(Q.VF),JSON.stringify(Q.fO)];iA=["[]","[]"];Q.VF=[];
Q.fO=[];R={G:aE,s:c$}}else{if(fA==null)fA=N.NJ.aBd(Q);R=N.NJ.aGL(Q,fA)}if(w!=0&&Q.K)R=K.I8.oP(R,Q.K,w);
q=[14,11]}if(m=="bgrm"){if(N.NJ.aFz(Q,n,j,B))return;var cz=window.locStor.getItem("bgrmt");if(cz==null)cz=0;
var h0=2*60*60,fl=N.NJ.aAF.bind([Q,n,j,B]),co=Math.floor((Date.now()-cz)/1e3);if(!ks.pQ(1)&&co<h0&&ks.Mm(B,1)==null){var cC=bv.uz(),gr=cC?"Out of AI credits :( Now, you":"Non-Premium users",eK=gr+" can use it once in two hours ("+((h0-co)/60).toFixed(1)+" min remain). "+(cC?"":"Go Premium for $5 a month (press Account at the top).")+" \nWatch a short ad and skip waiting?";
ex.tU(fl,eK,"rmbg")}else fl();return}if(R!=null&&K.Re(R.G,0)){R=null;q=[7,1]}if(R)K.Dy(R);var kM=new ae(q,this);
kM.data={Q:"changesel",K:R,Se:cs,ahB:f7,aHU:j7,Ly:dz,aCK:iA};Q.xr(kM);this.pk(kM.data,Q)};N.NJ.aFz=function(j,n,Q,a){var B=j.T[j.X[0]],m=B.s,R=B.buffer,q=m.q,U=m._,l=[0,0,q-1,0,0,U-1,q-1,U-1],b=!0;
for(var v=0;v<4;v+=2){var D=(l[v+1]*q+l[v])*4,c=0;for(var _=0;_<3;_++){c+=(R[_]-R[D+_])*(R[_]-R[D+_])}if(c>25)b=!1}if(b&&B.sJ()==null&&j.K==null){var p=K.U(q*U);
for(var v=0;v<4;v++){var X=l[v*2],g=l[v*2+1],F=20,k=1,I=null;if(p[g*q+X]>200)continue;while(F<120){var e=N.wA.fl(R,m,new eE(X,g),null,[F,!0,!0]),H=0;
for(var _=0;_<e.length;_++)H+=e[_];var A=F<50?1.015:1.004;if(I&&H>k*A)break;I=e;k=H;F+=10}for(var _=0;
_<I.length;_++)p[_]=Math.max(p[_],I[_])}K.m2(p);N.NJ.aCb(B,n,p,m,Q.J,null);alert(bw.OD("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};N.NJ.aAF=function(){var j=this[0],n=this[1],Q=this[2],a=this[3],B=2,m=j.T[j.X[0]],R=m.s,q=m.buffer,U=1,l=[4096,4096,2048][B];
while(Math.max(R.q,R._)>l){var b=K.jk(q,R);R=b.s;q=b.jB;U*=2}var D=fj.Mi("png"),c=fj.Mi("jpg"),_=c.OR([[q.buffer]],R.q,R._),p=new FormData;
p.append("image",new Blob([_],{type:"ima"+"ge/j"+"pg"}));p.append("mode","mask");var X=new ar(x.E.B,!0);
X.data={Q:x.l.L_,Sw:"Processing ..."};n.a(X);window.awi=Date.now();var g=function(F){console.log(Date.now()-window.awi);
var k=F.target.response,I=new Uint8Array(k),e=D.z5(k)[0],H=e.nJ,A=K.U(H.$());K.AS(new Uint8Array(e.data),A);
for(var v=0;v<A.length;v++){if(A[v]>250)A[v]=255}if(U!=1){var b=N.IP.XR([A,H],new j8(U,0,0,U,0,0));H=b.s;
A=b.G}H.x=m.s.x;H.y=m.s.y;N.NJ.aCb(m,n,A,H,Q.J,bw.OD("AQVUYE\\{}"));var X=new ar(x.E.B,!0);X.data={Q:x.l.MX,Sw:"Processing ..."};
n.a(X);if(ks.Mm(a,1)==null){ks.uT("Rem"+"ove B"+"G",1);window.locStor.setItem("bgrmt",Date.now())}};
ks.a0k(bw.OD("aQVUYEi<87<5=7:0#"),p,ks.Mm(a,1),g)};N.NJ.aCb=function(j,n,Q,a,B,m){var R=new ar(x.E.A,!0);
if(B==1){R.I=N.ir;R.data={Q:f.Fn,tw:m,a0V:!0};n.a(R);var q=j.sJ();q.color=0;q.s=a;q.G=Q;q.Dy();j.tI()}else if(B==2){R.I=N.D4;
R.data={Q:"setsel",K:{G:Q,s:a},ID:"Select Subject"};n.a(R)}else throw"e"};N.NJ.aBd=function(j){var n=0;
if(j.Yb.length!=0)n=-5-j.Yb[0];else if(JSON.stringify(j.e.Y)=="[1,1,1]")n=-1;else n=-2-j.e.Y.indexOf(1);
return n};N.NJ.aGL=function(j,n){var Q,a=new b4(0,0,j.q,j._);if(-5<n&n<0){var B=-n-1,m=j.rd(),R=K.U(a.$());
if(B==0)K.AS(m,R);else K._W(m,R,B-1);Q={G:R,s:a.O()}}if(n<-4){Q=N.NJ.azq(j.Kj[-n-5],a)}return Q};N.NJ.azq=function(j,n){var Q,a;
if(j.qF()==0){a=j.uI().O();if(a.$()==0)return;Q=j.Ax()}else{a=n;Q=K.U(a.$());j.OC(a,Q)}return{G:Q,s:a}};
N.NJ.prototype.Oj=function(j){return this.mj||j.vm&&this.id!=N.f0};N.NJ.prototype.tL=function(j,n,Q){var a=new ar(n,!0);
a.data=Q;j.a(a)};N.NJ.prototype.aoD=function(j,n){var Q=new ar(x.E.B,!0);Q.data={Q:x.l.w4,sz:n};j.a(Q)};
N.NJ.prototype.uI=function(j,n,Q){n=j.K==null||this.OX.YY(1)||this.OX._U(1)?n:null;var a=this.aA,B=this.yS;
if(Q){a.x=Math.max(0,Math.min(j.q,a.x));a.y=Math.max(0,Math.min(j._,a.y));B.x=Math.max(0,Math.min(j.q,B.x));
B.y=Math.max(0,Math.min(j._,B.y))}var m=N.Ma.Cy(a,B,n,!0,this.ZO.cstr),R=m[0].x,q=m[0].y,U=new b4(R,q,m[1].x-R,m[1].y-q);
if(Q){U.x=Math.max(U.x,0);U.y=Math.max(U.y,0)}return U};N.NJ.prototype.v1=function(j,n,Q,a,B){this.Cd=!0;
if(this.qI())return;this.xo=n;this.Bw=!1;this.OX.v1(a);this.aA=j.e.oR(B.x,B.y);this.aA=N.mL.VJ(j,this.aA,Q);
if(this.ajP(j,this.aA,a)){this.mj=!0;this.hw=j.K.s.O();return}this.Vk(j,Q,a,B);j.e.Dg=new b4};N.NJ.prototype.ajP=function(j,n,Q){var a=Q.r(i8.f8),B=Q.r(i8.Y2);
if(j.K&&!a&&!B&&this.ZO.binop==0)return K.Zf(n,j.K.G,j.K.s);return!1};N.NJ.prototype.Z3=function(j,n,Q,a,B){this.xo=n;
if(this.TZ)return;var m=j.e.oR(B.x,B.y);if(eE.X_(this.aA,m)*j.e.yr>5){this.Bw=!0;this.OX.Z3()}if(a.r(i8.Wc)){if(this.JI==null)this.JI=new eE(m.x-this.aA.x,m.y-this.aA.y);
this.aA.x=m.x-this.JI.x;this.aA.y=m.y-this.JI.y}else this.JI=null;this.yS=m;if(!this.mj&&this.id!=N.f0)this.yS=N.mL.VJ(j,this.yS,Q);
if(this.ajP(j,this.yS,a))this.aoD(n,"move");else this.aoD(n,this.hU);if(this.mj){var R=this.hw.O();R.x+=this.yS.x-this.aA.x;
R.y+=this.yS.y-this.aA.y;var q=N.mL.Fm(j,R,Q);j.K.s.x=Math.round(this.yS.x-this.aA.x+this.hw.x+q[0]);
j.K.s.y=Math.round(this.yS.y-this.aA.y+this.hw.y+q[1]);j.Lg=!0;N.mL.xP(j,R,q);return}this.a5(j,Q,a,B,n);
if(j.e.Dg)j.e.Dg=this.uI(j,a)};N.NJ.prototype.qI=function(){return!1};N.NJ.prototype.pU=function(j,n,Q,a,B,m){var R=this.Cd;
this.Cd=!1;if(m||!R)return;j.e.Dg=null;this.yS=j.e.oR(B.x,B.y);this.yS=N.mL.VJ(j,this.yS,Q);if(this.mj){this.mj=!1;
if(j!=null&&j.M.cs){j.M.cs=null;j.UF=!0}if(this.yS.N_(this.aA)&&this.Un()==0){this.tL(n,x.E.X2,N.NJ.qy());
return}this.ai5(j,this.hw,j.K.s.O());return}this.mz(j,Q,a,B,n);N.NJ.as_(n,Q);this.OX.pU();this.mY(n)};
N.NJ.prototype.ai5=function(j,n,Q){var a=j.Pz();if(a!=null&&a.I==this&&a.data.Q=="movesel"){}else{a=new ae([7,7],this);
a.data={Q:"movesel",$P:n};j.xr(a)}a.data.pe=Q;this.pk(a.data,j)};N.NJ.prototype.yM=function(j,n,Q,a,B){this.TZ=!0};
N.NJ.prototype.mZ=function(j,n,Q,a,B){var m=new ar(x.E.B,!0);m.data={Q:x.l.nz,I:this.id,xZ:B,Xz:j,H:Q};
n.a(m);this.TZ=!1};N.NJ.prototype.hs=function(j,n,Q,a){this.OX.hs(a);if(j!=null&&j.K!=null){var B=a.su();
if(B.x!=0||B.y!=0){var m=j.K.s.O();m.x+=B.x;m.y+=B.y;this.ai5(j,j.K.s.O(),m)}}this.mY(n)};N.NJ.prototype.mY=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.nz,I:this.id,Tg:this.Un()};j.a(n)};N.NJ.prototype.Un=function(){var j=this.OX.YY(0),n=this.OX._U(0);
return N.NJ.PE(this.ZO.binop,j,n)};N.NJ.PE=function(j,n,Q){if(n)j=1;if(Q)j=2;if(n&&Q)j=3;return j};N.NJ.prototype.finish=function(j,n,Q,a){var B=j.K,m=this.getSelection(j,n,Q,a);
if(m==null)m=N.NJ.qy();else{var R=this.ZO.feat,q=this.Un();if(R!=0)m.Tu.Fthr={t:"UntF",v:{type:"#Pxl",val:R}};
if(q!=0&&q!=4)m.ep=["","addTo","subtractFrom","interfaceWhite",""][q]}this.tL(this.xo,x.E.X2,m);this.aA.OI(-1,-1);
this.yS.OI(-1,-1)};N.NJ.prototype.getSelection=function(j,n,Q,a){return null};N.NJ.prototype.Vk=function(j,n,Q,a){};
N.NJ.prototype.a5=function(j,n,Q,a){};N.NJ.prototype.mz=function(j,n,Q,a){};N.NJ.prototype.X7=function(j,n){var Q=j.Q;
if(Q=="changesel"){var a=n.K;n.K=j.K;j.K=a}if(Q=="movesel")n.K.s=j.$P;if(j.Se){if(j.ahB){n.Yb=[n.Kj.length];
n.Kj.push(j.ahB)}else{n.Kj.pop();n.Yb=[]}}if(j.Ly){n.VF=JSON.parse(j.Ly[0]);n.fO=JSON.parse(j.Ly[1])}n.Lg=!0};
N.NJ.prototype.pk=function(j,n){var Q=j.Q;if(Q=="changesel"){var a=n.K;n.K=j.K;j.K=a}if(Q=="movesel")n.K.s=j.pe;
if(j.Se){if(j.aHU){n.Yb=[n.Kj.length];n.Kj.push(j.aHU)}else{n.Kj.pop();n.Yb=[]}}if(j.Ly){n.VF=JSON.parse(j.aCK[0]);
n.fO=JSON.parse(j.aCK[1])}n.Lg=!0};N.NJ.prototype.S1=function(j){return j.Q=="changesel"&&j.K?j.K.G.length:0};
N.NJ.prototype.UY=function(j){for(var n in j.ZO)this.ZO[n]=j.ZO[n]};N.NJ.prototype.alA=function(j){var n=K.c.so(j.g);
if(n.ke())return null;var Q=K.uq(n.q,n._);Q.save();Q.beginPath();Q.translate(-n.x,-n.y);Typr.U.pathToContext({cmds:j.rZ,crds:j.g},Q);
Q.closePath();Q.fill();Q.restore();var a=K.U(n.$()),B=Q.getImageData(0,0,n.q,n._);K._W(new Uint8Array(B.data.buffer),a,3);
return{s:n,G:a}};N.NJ.ao8=function(j,n,Q,a,B){if(Q)n=Math.round(n*.7);var m=Math.ceil(2.6*n),R=j.s.O();
R.VT(m,m);if(a&&!B)R=R.uf(a);var q=K.U(R.$()),U=K.U(q.length);K.Gc(j.G,j.s,U,R);K.KX.mg(U,q,R,n);if(Q){var l=q.length;
for(var v=0;v<l;v++){var b=(q[v]-128)*n*2.5;q[v]=Math.max(0,Math.min(255,Math.round(128+b)))}}return{G:q,s:R}};
N.NJ.ajI=function(j,n,Q){var a=Math.max(1,Math.ceil(Q)),B=j.s.O();B.VT(a,a);var m=B.$(),R={G:K.U(m),s:B},q=K.U(m);
K.Gc(j.G,j.s,q,R.s);if(Q!=0)K.style.stroke(q,R.G,R.s,Q);else K.D1(q,R.G);var U=K.U(m);K.m2(q);if(n!=0)K.style.stroke(q,U,R.s,n);
else K.D1(q,U);K.I8.uf(R.G,U,R.G);return R};N.NJ.xT=function(j,n,Q,a,B){var m=new b4(0,0,j.q,j._),R=j.rd();
if(j.K){var q=j.K.s.uf(m),U=K.U(q.$()*4);K.EC(R,m,U,q);m=q;R=U}var l=m.$(),b=K.U(l),D=1/a;if(B){if(n>=Q)n=Q-1;
var c=n*(1-a),_=n,p=Q,X=Q+(255-Q)*a,g=c==_?0:1/(_-c),F=p==X?0:1/(X-p);for(var v=0;v<l;v++){var k=v<<2,I=K.bC(R[k],R[k+1],R[k+2]),e=0;
if(I<c)e=0;else if(I<_)e=(I-c)*g;else if(I<=p)e=1;else if(I<=X)e=1-(I-p)*F;else e=0;b[v]=R[k+3]*e*e}}else for(var v=0;
v<l;v++){var k=v<<2,H=K.Bd(R[k],R[k+1],R[k+2]),e=K.a7E(H,n,Q,a,D);b[v]=R[k+3]*e}return{s:m,G:b}};N.rK=function(){N.K6.call(this,[10,18],N.YL,"tools/blur");
this.wm="copy"};N.rK.prototype=new N.K6;N.rK.prototype.v1=function(j,n,Q,a,B){var m=a.r(i8.Y2)?jm.Be:jm.YL;
this.pz(j,Q,a,B,this.ZO.strn,m);if(this.Zq==null)return;this.Xb(j)};N.rK.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);
if(this.dw)this.I0(j,Q,B);if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};N.c3=function(){N.K6.call(this,[10,0],N.o9,"tools/brush");
this.wm="draw"};N.c3.prototype=new N.K6;N.c3.prototype.v1=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B,!0))return;
this.pz(j,Q,a,B,this.ZO.flow);if(this.Zq==null)return;this.Xb(j)};N.c3.prototype.Z3=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B))return;
this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};
N.i0=function(){N.K6.call(this,[10,42],N.Tk,"tools/crepl");this.wm="idraw";this.ZO.bmode="hue "};N.i0.prototype=new N.K6;
N.i0.prototype.v1=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B,!0))return;this.pz(j,Q,a,B,this.ZO.flow);
if(this.Zq==null)return;this.Xb(j)};N.i0.prototype.Z3=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B))return;
this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};
N.Fw=function(){N.K6.call(this,[10,43],N.wg,"tools/redeye");this.ZO.smode=0;this.wm="redeye"};N.Fw.prototype=new N.K6;
N.Fw.prototype.v1=function(j,n,Q,a,B){this.pz(j,Q,a,B,this.ZO.flow);if(this.Zq==null)return;this.Xb(j)};
N.Fw.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);if(this.Zq==null)return;
if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};N.zv=function(){N.K6.call(this,[10,38],N.B2,"tools/pencil");
this.wm="draw"};N.zv.prototype=new N.K6;N.zv.prototype.v1=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B,!0))return;
this.pz(j,Q,a,B,this.ZO.flow);if(this.Zq==null)return;this.Xb(j)};N.zv.prototype.Z3=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B))return;
this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};
N.V8=function(){N.K6.call(this,[10,22],N.Y5,"tools/burn");this.wm="burn"};N.V8.prototype=new N.K6;N.V8.prototype.v1=function(j,n,Q,a,B){this.pz(j,Q,a,B,this.ZO.expo/Math.E);
if(this.Zq==null)return;this.Xb(j)};N.V8.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);
if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};N.FY=function(j,n,Q){N.K6.call(this,j==""?null:j?j:[10,1],n?n:N.Ff,Q?Q:"tools/clone");
this.wm="clone";this.vi=null;this.k=null};N.FY.prototype=new N.K6;N.FY.prototype.v1=function(j,n,Q,a,B){var m=this.ZO,R=m.alt[0];
if(a.r(i8.Y2)||a.r(i8.JO)||R){this.vi=j.e.oR(B.x,B.y);this.k=null;if(R)this.Ol({alt:[!1]},n);this.$Q(j);
this.FV(Q,a,j,B);return}if(this.vi==null){alert(i4.get([15,7,0]));return}this.FV(Q,a);this.pz(j,Q,a,B,this.ZO.flow);
if(this.Zq==null)return;this.k=this.aGa(j.e.oR(B.x,B.y));this.Xb(j)};N.FY.prototype.aGa=function(j){var n=this.k;
if(n==null||!this.ZO.algnd)n=new eE(Math.round(j.x-this.vi.x),Math.round(j.y-this.vi.y));return n};N.FY.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);
if(this.dw)this.I0(j,Q,B);if(this.Zq==null){if(this.vi!=null)this.FV(Q,a,j,B);return}if(!B.vm||this.vi==null)return;
this.ru(j,Q,a,B);this.Xb(j)};N.FY.prototype.A9=function(){return this.k};N.Gt=function(){N.wU.call(this,[10,53],N.aer,"tools/csamp");
this.dg=-1;this.eH=null};N.Gt.prototype=new N.wU;N.Gt.prototype.v1=function(j,n,Q,a,B){this.eH=JSON.stringify(j.xS);
var m=j.e.oR(B.x,B.y),R=j.xS,q=1e9,U=-1;for(var v=0;v<R.length;v++){var l=R[v],b=m.x-l.x,D=m.y-l.y,c=b*b+D*D;
if(c<q){q=c;U=v}}var _=15/j.e.yr;U=q<_*_?U:-1;if(U==-1){U=R.length;R.push({x:m.x,y:m.y})}else if(a.r(i8.Y2)){R.splice(U,1);
U=-1}this.dg=U;j.UF=!0};N.Gt.prototype.Z3=function(j,n,Q,a,B){var m=this.dg;if(m!=-1){var R=j.e.oR(B.x,B.y);
j.xS[m].x=R.x;j.xS[m].y=R.y;j.UF=!0}};N.Gt.prototype.pU=function(j,n,Q,a,B,m){var R=new ae(this.name,this);
R.data={Xo:this.eH,L3:JSON.stringify(j.xS)};j.xr(R);this.dg=-1};N.Gt.prototype.X7=function(j,n){n.xS=JSON.parse(j.Xo)};
N.Gt.prototype.pk=function(j,n){n.xS=JSON.parse(j.L3)};N.MT=function(j,n,Q){N.wU.call(this,j,n,Q);this.ZO={s2:{xE:0,x:0,y:0},_i:!1,zY:!1};
this.$$=!1;this.o6=null;this.cursor=null;this.ayT=0;this.m0=null;this.aA=null;this.rp=null;this.dp=!1};
N.MT.prototype=new N.wU;N.MT.prototype.Ys=function(){return this.o6!=null};N.MT.prototype.Oj=function(j){return this.aA!=null||this.o6&&this.o6.a2m()};
N.MT.prototype.v1=function(j,n,Q,a,B){this.m0=B;var m=j.e.oR(B.x,B.y),R=this.ZO.s2,q=R.xE!=0?R.x/R.y:null,U=this.dp;
this.dp=!1;if(this.o6){var l=this.o6.J5(m,j.e.yr);if(U&&l==null){this.o6.clear(j);this.o6=null}else{this.o6.v1(j,Q,a,m,q,!1,B);
return}}this.aA=N.mL.VJ(j,m,Q)};N.MT.prototype.e7=function(j,n,Q){if(Q==null)Q=[j.x,j.y,j.x+j.q,j.y,j.x+j.q,j.y+j._,j.x,j.y+j._];
return new ew(Q,!0,!1,this.id==N.EU,!0,n,this.id==N.EU?2:0,this.id==N.EU?4:3)};N.MT.prototype.FV=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.w4,sz:this.cursor};j.a(n)};N.MT.prototype.enable=function(j,n,Q,a){this.xo=n;this.cursor="crosshair";
this.FV(n);if(j!=null&&this.o6==null){var B=j.K?{dI:"cropby",aB5:3}:{dI:"config",ZO:this.ZO,ays:!0};
this.UY(B,n,j,a,Q);if(j.K==null&&this.ZO.s2.xE==0)this.dp=!0}};N.MT.prototype.Z3=function(j,n,Q,a,B){this.m0=B;
var m=j.e.oR(B.x,B.y);if(!B.vm){var R="crosshair";if(this.o6){var q=this.o6.J5(m,j.e.yr,null,B);if(q)R=q;
else R="default"}if(R!=this.cursor){this.cursor=R;this.FV(n)}}if(this.o6)this.o6.Z3(j,Q,a,m);else if(this.aA){if(this.$$){j.M.RJ={rZ:["M","L"],g:[this.aA.x,this.aA.y,m.x,m.y]}}else{var U=N.Ma.Cy(this.aA,N.mL.VJ(j,m,Q),a,!0,this.ZO.s2),l=U[0].x,b=U[0].y,D=this.rp=new b4(l,b,U[1].x-l,U[1].y-b);
j.M.RJ=K.c.yc(D);N.wU.ck(B,D,j,Q)}j.UF=!0}};N.MT.aDU=function(j,n,Q){var a,B,q,U;if(n<=Q){a=n;B=Q}else{a=Q;
B=n}var m=j-Math.floor((j+Math.PI)/(2*Math.PI))*2*Math.PI;m=Math.abs(m);if(m>Math.PI/2)m=Math.PI-m;var R=a/(B*Math.sin(m)+a*Math.cos(m));
if(n<=Q){q=a*R;U=B*R}else{q=B*R;U=a*R}return{Uw:q,WC:U}};N.MT.prototype.pU=function(j,n,Q,a,B){this.m0=B;
var m=j.e.oR(B.x,B.y);if(this.o6==null){var R=this.rp;if(this.aA&&(R||this.$$)){if(this.$$){var q=this.aA,U=m,l=U.x-q.x,b=U.y-q.y;
if(Math.abs(l)<Math.abs(b))U=new eE(q.x-b,q.y+l);if(q.x>U.x){var D=q;q=U;U=D}var q=Math.atan2(-(U.y-q.y),U.x-q.x),c=N.MT.aDU(q,j.q,j._);
if(this.ZO.zY){var _=K.c.yc(new b4(0,0,j.q,j._)),p=new j8;p.rotate(q);K.c.C(_.g,p,_.g);c=K.c.so(_.g);
c={Uw:c.q,WC:c._}}var X=[0,0,c.Uw,0,c.Uw,c.WC,0,c.WC],g=new j8;g.translate(-c.Uw/2,-c.WC/2);g.rotate(q);
g.translate(j.q/2,j._/2);K.c.C(X,g,X);this.o6=this.e7(R,!1,X);this.$$=!1}else{var F=this.ZO.s2;this.o6=this.e7(R,F.xE!=0)}this.o6.IS(j,Q);
this.rp=null;this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,ym:!0});this.aA=null;j.M.lf=[];j.M.RJ=null;j.UF=!0}return}this.o6.pU(j,Q,a,m);
this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,ym:!0});var X=this.o6.cX();if(Math.abs(X[0]-X[4])<2&&Math.abs(X[1]-X[5])<2){this.jg(j,n,null,a);
return}if(Date.now()-this.ayT<200&&this.o6._k(m)){this.f5(j,Q);this.jg(j,n,Q,a);return}this.ayT=Date.now()};
N.MT.prototype.hs=function(j,n,Q,a){var B=this.o6;if(B==null||this.m0&&this.m0.vm)return;if(a.r(i8.mI)){this.f5(j,Q);
this.jg(j,n,Q,a)}else if(a.r(i8.tf)){this.jg(j,n,Q,a)}else B.hs(j,Q,a)};N.MT.arS=function(j,n,Q){var a={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:j[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:j[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:j[1]+j[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:j[0]+j[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:n!=null?n:0}},Dlt:{t:"bool",v:Q!=null?Q:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{ep:"crop",Tu:a}};N.MT.I3=function(j,n){if(n==null)n=[!0,!0,!0,!0];var Q={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][j]}}},a=["Top","Left","Btom","Rght"];
for(var v=0;v<4;v++)Q[a[v]]={t:"bool",v:n[v]};return{ep:"trim",Tu:Q}};N.MT.ZK=function(j,n,Q,a,B){var m={classID:"null"};
if(a!=null){m.Wdth={t:"UntF",v:B?{type:"#Prc",val:j*100}:{type:"#Pxl",val:j}};m.Hght={t:"UntF",v:B?{type:"#Prc",val:n*100}:{type:"#Pxl",val:n}};
m.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][a]}}}if(Q!=null)m.Rslt={t:"UntF",v:{type:"#Rsl",val:Q}};
return{ep:"imageSize",Tu:m}};N.MT.alL=function(j,n,Q,a){if(Q==null)Q=4;if(a==null)a=!1;var B=Math.floor(Q/3),m=Q%3;
return{ep:"canvasSize",Tu:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:j}},Hght:{t:"UntF",v:{type:"#Pxl",val:n}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][m]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][B]}},Rltv:{t:"bool",v:a}}}};
N.MT.prototype.JQ=function(j,n,Q,a,B){var m=new b4(0,0,Q.q,Q._),R=[11,3],q=Q.Mp,U=Q.q/2,l=Q._/2,T=1,kK,cM,gG;
function b(iA,v){return iA[v]+2*iA[v+1]+iA[v+2]>>>2}if(j.Q=="cropAndStr"){var D=Q.T[Q.X[0]],c=D.buffer,_=D.s,p=_.q,X=_._,g=p+2,F=[0,0,p-1,0,p-1,X-1,0,X-1],k,I=1e9,$=0;
for(var v=0;v<4;v++)for(var e=v+1;e<4;e++){var H=F[2*v],A=F[2*v+1],Z=(A*p+H)*4,J=(F[2*e+1]*p+F[2*e])*4,s=c[Z]-c[J],E=c[Z+1]-c[J+1],z=c[Z+2]-c[J+2],h=s*s+E*E+z*z;
if(h<I){I=h;k=new eE(H+.5,A+.5)}}var d=Date.now(),Y=N.wA.fl(D.buffer,_,k,null,[16,!1,!0]);K.m2(Y);var C=_.O();
C.VT(1,1);var i=K.U(C.$());K.Gc(Y,_,i,C);var M=i.slice(0);for(var A=0;A<X;A++)for(var H=0;H<p;H++){var e=A*p+H;
if(Y[e]==255&&b(c,e*4)>200){var v=(A+1)*g+H+1;i[v]=M[v-g]&M[v-1]&M[v+1]&M[v+g]}}var W=K.c.Qs(i,C.q,C._,0),P=new ar(x.E.B,!0);
P.data={Q:x.l.kI};var d=Date.now();for(var O=0;O<W.length;O++){var G=W[O].path.g;if(W[O].wS.$()<2500)continue;
var t=K.c.aic(G,$==3);for(var v=0;v<t.length;v++)t[v]-=1;var y=new eE(t[0],t[1]),r=Math.ceil(eE.X_(y,new eE(t[2],t[3]))),u=Math.ceil(eE.X_(y,new eE(t[6],t[7]))),S=new b4(0,0,r,u),w=K.U(S.$()*4),G=K.D.ZM(t,new b4(-1,-1,r+2,u+2));
G=K.D.m2(G);G=K.D.Da(G,K.D.UN(new j8(_.q,0,0,_._,_.x,_.y)));K.D.drawImage(G,D.buffer,_.q,_._,w,S);$++;
var dj=P.data.uM=new hs("Image "+$+".psd");dj.q=r;dj._=u;var o=dj.JL();o.kw("Background");o.buffer=w;
o.s=S;dj.T.push(o);n.a(P)}return}if(j.Q=="fromAction"){var i6=j.bm,bH=i6.ep,cg=i6.Tu,bu=Q.q/Q._,g=cg.Wdth?cg.Wdth.v.val:-1,hH=cg.Hght?cg.Hght.v.val:-1,q=cg.Rslt?cg.Rslt.v.val:null,dK=cg.Wdth?cg.Wdth.v.type:cg.Hght?cg.Hght.v.type:-1,d8=1,d1;
if(dK=="#Prc"){if(g!=-1)g=Math.round(Q.q*g/100);if(hH!=-1)hH=Math.round(Q._*hH/100)}if(bH=="imageSize"){if(cg.Intr){if(cg.Intr.v.Intp=="Nrst")d8=0;
if(cg.Intr.v.Intp=="bicubicSharper")d8=2;if(g==-1&&hH==-1){var gH=q/Q.Mp;g=Math.round(Q.q*gH);hH=Math.round(Q._*gH)}if(cg.CnsP&&cg.CnsP.v){if(g==-1)g=Math.round(hH*bu);
if(hH==-1)hH=Math.round(g/bu)}}else{if(dK=="#Prc")q=Math.round(Q.Mp*(Q.q/g));else if(dK==-1)q=Math.round(q);
else throw"e";g=Q.q;hH=Q._}d1={Q:"imgsize",Rn:g,F0:hH,Lv:q,FD:d8}}else if(bH=="canvasSize"){if(g==-1)g=Q.q;
if(hH==-1)hH=Q._;if(cg.Rltv&&cg.Rltv.v==!0){if(cg.Wdth)g+=Q.q;if(cg.Hght)hH+=Q._}var kh=cg.Vrtc?cg.Vrtc.v.VrtL:"Cntr",ay=cg.Hrzn?cg.Hrzn.v.HrzL:"Cntr";
d1={Q:"canvsize",Rn:g,F0:hH,h1:3*["Top","Cntr","Btom"].indexOf(kh)+["Left","Cntr","Rght"].indexOf(ay)}}else if(bH=="revealAll"){d1={Q:"revealAll"}}else if(bH=="trim"){var dO={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[cg.trimBasedOn.v.trimBasedOn];
if(dO==null)throw"e";var fy=["Top","Left","Btom","Rght"],bg=[!0,!0,!0,!0];for(var v=0;v<4;v++)if(cg[fy[v]])bg[v]=cg[fy[v]].v;
d1={Q:"trim",adY:dO,tz:bg}}else if(bH=="crop"){var H,A,p,X;if(cg.T){var f4=cg.T.v,H=Math.round(f4.Left.v.val),A=Math.round(f4.Top.v.val),p=Math.round(f4.Rght.v.val)-H,X=Math.round(f4.Btom.v.val)-A}else{var _=Q.K.s;
H=_.x;A=_.y;p=_.q;X=_._}d1={Q:"canvsize",Rn:p,F0:X,k:new eE(H,A),aeW:cg.Dlt!=null&&cg.Dlt.v}}else console.log(i6);
if(d1)this.JQ(d1,n,Q,a,B);return}else if(j.Q=="imgsize"){m=new b4(0,0,j.Rn,j.F0);if(j.Lv)q=j.Lv;T=j.FD}else if(j.Q=="canvsize"){var jb=j.h1!=null?j.h1:0;
m=new b4(0,0,j.Rn,j.F0);var jT=Q.q-j.Rn,jy=Q._-j.F0,cl=Math.round(jT/2),hu=Math.round(jy/2);if(jb==1||jb==4||jb==7)m.x=cl;
if(jb==2||jb==5||jb==8)m.x=jT;if(jb==3||jb==4||jb==5)m.y=hu;if(jb==6||jb==7||jb==8)m.y=jy;if(j.k){m.x=j.k.x;
m.y=j.k.y}}else if(j.Q=="rot"&&(j.J+2*Math.PI)%(Math.PI/2)!=0){var aA=K.c.yc(m).g,ko=new j8;ko.translate(-U,-l);
ko.rotate(j.J);ko.translate(U,l);K.c.C(aA,ko,aA);m=K.c.so(aA)}else if(j.Q=="rot"&&j.J!=Math.PI&&j.J!=-Math.PI){m=new b4(U-Q._/2,l-Q.q/2,Q._,Q.q);
if((Q.q+Q._&1)==1){U=Math.floor(U);l=Math.floor(l);m=new b4(U-Math.floor(Q._/2),l-Math.floor(Q.q/2),Q._,Q.q);
if((Q.q&1)==1&&j.J!=-Math.PI/2)m.y--;if((Q._&1)==1&&j.J==-Math.PI/2)m.x--}}else if(j.Q=="trim"){R=[11,12,0];
var ec=Q.rd(),_=new b4(0,0,Q.q,Q._);m=K.ap(ec,_,j.adY,j.tz);if(m.ke())m=_}else if(j.Q=="revealAll"){R=[11,12,2];
m=Q.root.uI(Q,!0)}var c2=j.Q=="canvsize"&&j.aeW;if(j.Q=="imgsize"||j.Q=="rot"||j.Q=="scl"||c2){var a1=new j8;
if(j.Q=="imgsize"){R=[11,10];a1.scale(j.Rn/Q.q,j.F0/Q._);gG=Q.qE();for(var v=0;v<gG[0].length;v++)gG[0][v][1]*=gG[0][v][0]==0?a1.NX:a1.zP}else if(c2){}else{a1.translate(-U,-l);
if(j.Q=="rot")a1.rotate(j.J);if(j.Q=="scl")a1.scale(j.J.x,j.J.y);a1.translate(U,l);R=j.ID}cM=K.D.UN(a1);
kK=this.NB(Q,B,!0,cM,T,c2?m:null)}else if(j.Q=="auto-align"){if(Q.X.length<2){alert("Select two or more layers.");
return}var cs=[];for(var v=0;v<Q.X.length;v++){var D=Q.T[Q.X[v]];if(!D.OZ()&&D.add.SoLd==null){alert("Unsupported layer selected.");
return}if(D.s.ke()){alert("Empty layer selected.");return}cs.push([D.buffer,D.s])}var f7=K.Wv.qP(cs);
if(f7==null){alert("No similarity found.");return}cM=f7[1];kK=this.NB(Q,B,!1,f7,T);m=Q.root.uI(Q,!0);
R=[2,10,1]}var j7=new b4(0,0,Q.q,Q._);if(!m.ke()&&(!m.N_(j7)||kK!=null)){var dz=new ae(R,this);dz.data={eZ:Q.Mp,Lv:q,Wj:kK,yp:cM,Fg:N.MT.ayz(Q,m,j7,kK!=null)};
if(gG){dz.data.lA=Q.qE();dz.data.CX=gG}N.MT.alB(Q,dz.data,m);Q.xr(dz);this.pk(dz.data,Q,!0)}};N.MT.ayz=function(j,n,Q,a){if(j.XZ.length==0)return null;
var B=JSON.stringify(j.XZ),m=JSON.parse(B);N.Ie.aqj(m,n,Q,a);m=JSON.stringify(m);return[B,m]};N.MT.prototype.NB=function(j,n,Q,a,B,m,R){var q={T:[],tJ:null,aoM:!0};
if(Q)q.T=N.IP.a3b(j);else q.T=j.X.slice(0);q.tJ=N.IP.Po(j,q.T,!0);var U=Math.abs(a[3]*a[1])>1e-9;N.IP.QB(j,n,q.T,q.tJ,B,a,null,!0,U&&K.D.HF(a)?null:m);
if(Q&&R&&j.rV()){var l=j.T[j.X[0]],b=l.buffer,D=l.s,c=U?D.O():m.O(),_=K.U(c.$()*4),p=K.U(D.$());K._W(b,p,3);
var X=K.U(c.$());K.Gc(p,D,X,c);K.round(X,255);K.m2(X);var g=K.nC.Lr(b,D,X,_,c);if(g==0){l.s=c;l.buffer=_}}return q};
N.MT.prototype.pk=function(j,n,Q){if(j.Lv)n.Mp=j.Lv;if(j.Fg)n.XZ=JSON.parse(j.Fg[1]);if(j.Wj){N.MT.y1(n,K.D.lm(j.yp));
if(Q==null)N.IP.eD(n,j.Wj);if(j.CX)n.J$(j.CX)}N.MT.fL(n,j)};N.MT.prototype.X7=function(j,n){if(j.eZ)n.Mp=j.eZ;
if(j.Fg)n.XZ=JSON.parse(j.Fg[0]);N.MT.Dc(n,j);if(j.Xp)n.e.k.KA(j.Xp);n.a6o();if(j.Wj){var Q=K.D.lm(j.yp).O();
Q.m2();N.MT.y1(n,Q);N.IP.eD(n,j.Wj);if(j.lA)n.J$(j.lA)}};N.MT.y1=function(j,n){for(var v=0;v<j.T.length;
v++){var Q=j.T[v];if(Q.add.artb==null)continue;var a=K.c.yc(Q.v_()).g;K.c.C(a,n,a);var B=K.c.so(a);Q.vn(B)}};
N.MT.Nb=function(j){var n=new b4,Q=0,a=j.root.children.length;for(var v=0;v<a;v++){var B=j.root.children[v].W;
if(B.add.artb==null)continue;n=n.d_(B.v_());Q++}var m=new b4(0,0,j.q,j._);if(!n.ke()&&!m.N_(n))return n;
return null};N.MT.XK=function(j){var n=N.MT.Nb(j);if(n)N.MT._i(j,n,!0);return n};N.MT._i=function(j,n,Q){var a=j.q,B=j._,m=n.q,R=n._,q=n.x==0&&n.y==0;
if(q&&a==m&&B==R)return;j.q=m;j._=R;var U=[];for(var v=0;v<j.T.length;v++)U.push(v);if(!q)N.mL.$G(j,U,null,-n.x,-n.y);
for(var v=0;v<j.T.length;v++){j.T[v].tI(j)}j.a6o();if(Q){var l=j.e.k,b=j.e.yr;l.x+=Math.round((n.x+(m-a)/2)*b);
l.y+=Math.round((n.y+(R-B)/2)*b)}else j.e.k.OI(0,0);if(j.K)j.K.s.offset(-n.x,-n.y);var D=j.qE();for(var c=0;
c<D[0].length;c++)if(D[1][c]==-1){var _=j.qO[c];_[1]-=_[0]==0?n.x:n.y}for(var v=0;v<j.Kj.length;v++)j.Kj[v].s.offset(-n.x,-n.y);
for(var v=0;v<j.AZ.length;v++)K.R.fK(j.AZ[v].add.vmsk.z,new j8(1,0,0,1,-n.x,-n.y))};N.MT.prototype.UY=function(j,n,Q,a,B){if(j.dI=="commit"){this.f5(Q,B);
this.jg(Q,n,null,a)}else if(j.dI=="cancel"){this.jg(Q,n,null,a)}var m=null,R=new b4(0,0,Q.q,Q._),q=this.ZO.s2;
if(j.dI=="config"){this.ZO=j.ZO;q=this.ZO.s2;if(Q==null||!j.ays)return;m=R;if(q.xE==1){var U=q.x/q.y;
if(m.q/U<m._)m._=Math.round(m.q/U);else m.q=Math.round(m._*U)}if(q.xE==2){m.q=q.x;m._=q.y}m.x=Math.round((Q.q-m.q)/2);
m.y=Math.round((Q._-m._)/2)}if(j.dI=="straighten"){alert("Draw a line in the image.");this.$$=!0}if(j.dI=="cropby"){if(Q==null)return;
var l=j.aB5,m;if(l==0)m=Q.root.uI(Q,!0);if(l==1){if(Q.X.length==0)alert("No layer is selected.");else{var b=Q.root._N(Q.X[0]);
m=b.uI(Q,!0)}}if(l==2){if(Q.X.length==0)alert("No layer is selected.");else{m=K.ap(Q.rd(),R,0);if(m.ke())m=R.O()}}if(l==3){if(Q.K!=null)m=Q.K.s;
else alert("There is no selection.")}if(l==4){m=new b4(0,0,Q.q,Q._)}}if(m&&m.ke())m=null;if(m!=null){this.o6=this.e7(m,q.xE!=0);
this.o6.IS(Q,B);this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,ym:!0})}};N.wU.kG(N.MT);N.MT.prototype.f5=function(j,n){var Q=this.o6.cX(),a=K.c.so(Q),B=this.azf(j,Q),m=!1,R=this.ZO,q=R.s2,U=R._i,l=q.x,b=q.y,_;
if(this.id==N.MA&&q.xE==2&&B.$()!=l*b){B=new b4(B.x,B.y,l,b);m=!0}var D=K.D.ZM(Q,B);D=K.D.m2(D);var c=!K.D.HF(D),p=Math.abs(Math.atan2(D[3],D[0]))>1e-9,X=new b4(0,0,j.q,j._);
if(p||c||m||U||R.zY)_=this.NB(j,n,!0,D,1,a,R.zY);if(!p&&!c&&!m&&B.N_(X))return;var g=new ae(this.name,this);
g.data={Wj:_,yp:D,Xp:j.e.k.O(),Fg:N.MT.ayz(j,B,X,!1)};if(q.Mp!=null){g.data.eZ=j.Mp;g.data.Lv=q.Mp}N.MT.alB(j,g.data,B);
j.xr(g);this.pk(g.data,j,!0);this.track(N.MT.arS([a.x,a.y,a.q,a._],null,U))};N.MT.alB=function(j,n,Q){if(Q==null)return;
n.$P=new b4(0,0,j.q,j._);n.pe=Q};N.MT.fL=function(j,n){if(n.pe==null)return;N.MT._i(j,n.pe)};N.MT.Dc=function(j,n){if(n.pe==null)return;
var Q=n.$P.O();Q.offset(-n.pe.x,-n.pe.y);N.MT._i(j,Q)};N.MT.prototype.azf=function(j,n){var Q=K.D.ZM(n),a=K.D.HF(Q),B=K.D.lm(Q),m=B.Qr,R=B.dE,q=Math.atan2(B.b,B.NX);
B.rotate(q);var U=new b4(m,R,B.NX,B.zP);if(!a){function l(I,v,e){var H=I[v]-I[e],A=I[v+1]-I[e+1];return Math.sqrt(H*H+A*A)}var b=l(n,0,2),D=l(n,4,6),c=Math.max(b,D),_=l(n,2,4),p=l(n,6,0),X=Math.max(_,p),g=N.MT.DN(n,j.q/2,j._/2),F,k;
if(isNaN(g)||g==Infinity||g==-Infinity||Math.min(g,1/g)<.1)g=(b+D)/(_+p);if(c/X>g){F=c*1;k=F/g}else{k=X*1;
F=k*g}U.q=F;U._=k}U.x=Math.round(U.x);U.y=Math.round(U.y);U.q=Math.round(U.q);U._=Math.round(U._);return U};
N.MT.DN=function(j,n,Q){var a=j[0]-n,B=j[1]-Q,m=j[2]-n,R=j[3]-Q,q=j[6]-n,U=j[7]-Q,l=j[4]-n,b=j[5]-Q,D=((B-b)*q-(a-l)*U+a*b-B*l)/((R-b)*q-(m-l)*U+m*b-R*l),c=((B-b)*m-(a-l)*R+a*b-B*l)/((U-b)*m-(q-l)*R+q*b-U*l),_=-((c*U-B)*(D*R-B)+(c*q-a)*(D*m-a))/((c-1)*(D-1));
function p(g){return g*g}var X=Math.sqrt((p(D-1)+p(D*R-B)/_+p(D*m-a)/_)/(p(c-1)+p(c*U-B)/_+p(c*q-a)/_));
if(D==1&&c==1)X=Math.sqrt((p(R-B)+p(m-a))/(p(U-B)+p(q-a)));return X};N.MT.prototype.jg=function(j,n,Q,a){if(j==null)return;
if(this.o6)this.o6.clear(j);this.o6=null;this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,ym:!1})};N.MT.prototype.disable=function(j,n,Q,a){if(this.o6)this.f5(j,Q);
this.jg(j,n,Q,a)};N.MT.prototype.tL=function(j,n,Q,a){var B=new ar(n,!0);B.data=Q;if(a)B.I=a;j.a(B)};
N.ayo=function(){N.MT.call(this,[10,2],N.MA,"tools/rcrop")};N.ayo.prototype=new N.MT;N.aDl=function(){N.MT.call(this,[10,39],N.EU,"tools/pcrop")};
N.aDl.prototype=new N.MT;N.yj=function(){N.K6.call(this,[10,21],N.S6,"tools/dodge");this.wm="dodge"};
N.yj.prototype=new N.K6;N.yj.prototype.v1=function(j,n,Q,a,B){this.pz(j,Q,a,B,this.ZO.expo/Math.PI);
if(this.Zq==null)return;this.Xb(j)};N.yj.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);
if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};N.YA=function(){N.K6.call(this,[10,3],N.pP,"tools/eraser");
this.wm="erase"};N.YA.prototype=new N.K6;N.YA.prototype.v1=function(j,n,Q,a,B){this.pz(j,Q,a,B,this.ZO.flow);
if(this.Zq==null)return;this.Xb(j)};N.YA.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);
if(this.Zq==null)return;if(!B.vm)return;var m=this.ru(j,Q,a,B);this.Xb(j)};N.Ic=function(){N.K6.call(this,[10,45],N.yX,"tools/beraser");
this.wm="ierase"};N.Ic.prototype=new N.K6;N.Ic.prototype.v1=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B,!0))return;
this.pz(j,Q,a,B,this.ZO.flow);if(this.Zq==null)return;this.Xb(j)};N.Ic.prototype.Z3=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B))return;
this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};
N._1=function(){N.NJ.call(this,[10,15],N.D4,"tools/rselect");this.hU="crosshair"};N._1.prototype=new N.NJ;
N._1.prototype.a5=function(j,n,Q,a){if(!a.vm||!this.Bw)return;var B=this.uI(j,Q,!0);j.M.RJ=K.c.yc(B);
j.UF=!0;N.wU.ck(a,B,j,n)};N._1.prototype.mz=function(j,n,Q,a){j.M.RJ=null;j.M.lf=[];j.UF=!0;this.finish(j,n,Q,a)};
N._1.prototype.getSelection=function(j,n,Q,a){if(this.aA.N_(this.yS)||!this.Bw)return null;var B=this.uI(j,Q,!0);
if(B.ke())return null;return N.NJ.Nq("Rctn",B,this.ZO.anta)};N.wU.kG(N._1);N.Wg=function(){N.NJ.call(this,[10,4],N.a45,"tools/eselect");
this.hU="crosshair"};N.Wg.prototype=new N.NJ;N.Wg.prototype.a5=function(j,n,Q,a){if(!a.vm||!this.Bw)return;
var B=this.uI(j,Q);j.M.RJ=N.Wg.aDy(B);j.UF=!0;N.wU.ck(a,B,j,n)};N.Wg.prototype.mz=function(j,n,Q,a){j.M.RJ=null;
j.M.lf=[];j.UF=!0;this.finish(j,n,Q,a)};N.Wg.prototype.getSelection=function(j,n,Q,a){if(this.aA.N_(this.yS)||!this.Bw)return null;
var B=this.uI(j,Q);if(!B.Ta(new b4(0,0,j.q,j._)))return null;return N.NJ.Nq("Elps",B,this.ZO.anta)};
N.Wg.aDy=function(j){var n=j.x,Q=j.y,a=j.x+j.q,B=j.y+j._,m=(n+a)/2,R=(Q+B)/2,q=(n-a)/2,U=(Q-B)/2,l=.5522848,b={g:[m,R-U],rZ:["M","C","C","C","C"]};
b.g.push(m+l*q,R-U,m+q,R-l*U,m+q,R);b.g.push(m+q,R+l*U,m+l*q,R+U,m,R+U);b.g.push(m-l*q,R+U,m-q,R+l*U,m-q,R);
b.g.push(m-q,R-l*U,m-l*q,R-U,m,R-U);return b};N.wU.kG(N.Wg);N.Yc=function(j){N.wU.call(this,[10,5],j?N.kP:N.nV,"tools/eyedropper");
this.hh=null;this.aiT=!1;this.Z5=0;this.fF=null;this.an=1;this.nl=2;this.aeK=!0;this.rJ=!1};N.Yc.prototype=new N.wU;
N.Yc.prototype.Oj=function(j){return j.vm};N.Yc.prototype.enable=function(j,n,Q,a,B){N.wU.prototype.enable.call(this,j,n,Q,a,B);
this.aiT=B};N.Yc.prototype.JQ=function(j,n,Q,a,B){if(j.Q=="pickhere")this.yn(Q,n,B,null,j.auA);if(j.Q=="supertool")this.hh=j.I};
N.Yc.prototype.v1=function(j,n,Q,a,B){var m=this.hh;if(m){m.v1(j,n,Q,a,B);return}if(fL==0){this.fF=B;
this.Z5=Q.Z4;var R=this.yn(j,null,Q,a,B);this.FV(j,n,R,B)}};N.Yc.prototype.Z3=function(j,n,Q,a,B){if(fL!=0)return;
var m=this.hh;if(m){m.Z3(j,n,Q,a,B);return}var R=this.fF;if(R){var q=B.x-R.x,U=B.y-R.y,l=1,b=new eE(R.x+q*l,R.y+U*l),D=this.yn(j,null,Q,a,b);
this.FV(j,n,D,b,new eE(q*(1-l),U*(1-l)))}};N.Yc.prototype.FV=function(j,n,Q,a,B){var m=this.aeK,R=this.rJ;
if(j.e.yr>4)R=!1;if(!R&&!m)return;var q=N.Yc.aeu(j,R,m,a,B,Q,this.Z5,this.an),U=new ar(x.E.B,!0);U.data={Q:x.l.w4,sz:q};
n.a(U)};N.Yc.prototype.pU=function(j,n,Q,a,B,m){var R=this.hh;if(R){R.pU(j,n,Q,a,B);return}if(fL==0){this.yn(j,n,Q,a,B);
if(this.fF){this.fF=null;if(m)this.yn(j,n,Q,a,B,this.Z5);var q=new ar(x.E.B,!0);q.data={Q:x.l.w4,sz:"default"};
n.a(q)}}else{var U=j.e.oR(B.x,B.y),l=j.root.Zf(new eE(Math.floor(U.x),Math.floor(U.y)));if(l==null)return;
var b=l.W.add,D=b.vstl,c=b.TySh;console.log(b);if(D==null&&c){var _=c.Kt,p=eR.JB(_,0,1);D={vg:p.RW.FillColor.Values.slice(1),tY:[]}}if(D==null)return;
var q=new ar(x.E.B);q.data={Q:x.l.m6,_X:b3.gl,J:K.u(D)};n.a(q)}};N.Yc.prototype.yn=function(j,n,Q,a,B,m){if(m==null)m=N.Yc.Za(j,B,this.an,this.nl);
var R=new ar(x.E.B);R.data={Q:x.l.m6,_X:b3.Wz,BO:!this.aiT&&a&&a.r(i8.Y2)?1:0,J:m};if(n)n.a(R);return m};
N.Yc.aeu=function(j,n,Q,a,B,m,R,q){if(B==null)B=new eE(0,0);var U=new b4(0,0,j.q,j._),l=j.rd(),b=12,D=11,c=(b*2+1)*D,_=new eE(c/2,c/2),p=new b4(0,0,c,c),X=K.U(p.$()*4),g=j.e.oR(a.x,a.y),F=Math.floor(g.x),k=Math.floor(g.y),I=new j8;
I.scale(1/D,1/D);I.translate(F-b,k-b);if(n)K.scale.az7(l,U,I,X,p);var e=(b-3.4)*D,H=(b-1.7)*D,A=b*D;
for(var Z=0;Z<c;Z++)for(var J=0;J<c;J++){var s=eE.X_(new eE(J,Z),_);if(s>e){if(Q){var E=Math.max(0,e-s+1),z=(Z*c+J)*4,h=X[z+3]<<24|X[z]<<16|X[z+1]<<8|X[z+2],d=255<<24|(Z<A+D*.5?m:R);
if(s>H){E=Math.max(0,H-s+1);h=d;d=4286611584}else if(!n){h=d&16777215}X[z+0]=(1-E)*(d>>>16&255)+E*(h>>>16&255);
X[z+1]=(1-E)*(d>>>8&255)+E*(h>>>8&255);X[z+2]=(1-E)*(d>>>0&255)+E*(h>>>0&255);X[z+3]=(1-E)*(d>>>24&255)+E*(h>>>24&255)}if(s>A){X[(Z*c+J)*4+3]=Math.max(0,255*(A-s+1))}}}function Y(v){var o=v<<2;
X[o]=0;X[o+1]=0;X[o+2]=0;X[o+3]=255}function C(v){var o=v<<2;X[o]=255;X[o+1]=255;X[o+2]=255;X[o+3]=255}var i=q*D+2,M=c-i>>>1,W=M+i-1;
if(n&&i<c)for(var v=0;v<i;v++){var $=M*c+M+v,P=W*c+M+v,O=(M+v)*c+M,G=(M+v)*c+W;Y($);Y(P);Y(O);Y(G);if(v!=0&&v!=i-1){C($+c);
C(P-c);C(O+1);C(G-1)}}if(!n)for(var v=-9;v<=9;v++){if(-3<v&&v<3)continue;var t=c>>>1,J=t*c+t+v,Z=(t+v)*c+t;
C(J-c);Y(J);C(J+c);C(Z-1);Y(Z);C(Z+1)}var y=m>>>16&255,r=m>>>8&255,u=m>>>0&255,S="RGB "+y+","+r+","+u,w=K.zd([y/255,r/255,u/255]);
if(j.add.fcmy)S="CMYK "+w.map(function(o){return Math.round(o*100)}).join(",");var dj=N.wU.Kc(0,0,["#"+K.EA(m),S]),U=dj[1];
U.y=0;U.x=c-U.q>>>1;K.EC(dj[0],U,X,p);return{_x:X,SK:p,HC:new eE(_.x+B.x,_.y+B.y)}};N.Yc.Za=function(j,n,Q,a,B){if(a==null)a=2;
var m=j.e.oR(n.x,n.y),R,q,U=j.X.length==1&&j.T[j.X[0]].s0>0&&B!=!0,l=j.Yb.length!=0,H=0,A=0,Z=0;if(U||l){var b;
if(l)b=j.Kj[j.Yb[0]];else{var D=j.T[j.X[0]];b=D.s0==1?D.sJ():D.asH()}q=b.uI();if(!q.PU(m))return b.color==0?0:16777215;
R=K.U(q.$()*4);R.fill(255);var c=b.Ax();K.YM(c,R)}else if(a==0&&j.X.length!=0){var D=j.T[j.X[0]];R=D.buffer;
q=D.s}else{R=a==2?j.rd():j.rd(j.X[0]);q=new b4(0,0,j.q,j._)}var _=Math.floor(m.x)-q.x,p=Math.floor(m.y)-q.y,X=(Q-1)/2,g=Math.max(0,_-X),F=Math.max(0,p-X),k=Math.min(q.q,_+X+1),I=Math.min(q._,p+X+1),e=(k-g)*(I-F);
for(var _=g;_<k;_++)for(var p=F;p<I;p++){var v=4*(p*q.q+_);H+=R[v];A+=R[v+1];Z+=R[v+2]}H=Math.round(H/e);
A=Math.round(A/e);Z=Math.round(Z/e);return H<<16|A<<8|Z};N.Yc.prototype.UY=function(j){var n=j.ZO;this.an=[1,3,5,11,31][n[0]];
this.nl=n[1];this.aeK=n[2];this.rJ=n[3]};N.$A=function(){N.wU.call(this,[10,6],N.$p,"tools/gradient");
this.ZO=JSON.parse(g8.sp[6]);this.ZO.Grad=JSON.parse(g8.Qu.aq8);this.Bg=!1;this.e8=null;this.Yx=null};
N.$A.prototype=new N.wU;N.$A.prototype.enable=function(j,n,Q,a){N.wU.prototype.enable.call(this,j,n,Q,a);
this.e8=j;if(this.Bg)N.O9.UE(j)};N.$A.prototype.lc=function(j,n,Q,a){if(Q.Ce!=this.id)return;this.e8=j;
this.ahb(j,n)};N.$A.prototype.disable=function(j,n,Q,a){this.e8=null;if(this.Bg)N.O9.i$(j)};N.$A.prototype.ahb=function(j,n){var Q=N.O9.yg(j);
this.Bg=Q!=null;var a=new ar(x.E.B,!0);a.data={Q:x.l.nz,I:this.id,_X:Q?j.T[j.X[0]].add.GdFl:this.ZO,R:this.Bg};
n.a(a);if(this.Bg)N.O9.UE(j);else N.O9.i$(j)};N.$A.prototype.UY=function(j){var n=this.e8;if(this.Bg){var Q=n.T[n.X[0]],a=Q.add.GdFl;
if(a==null)return;this.fR=JSON.stringify(a);Q.add.GdFl=j._X;Q.tI(n);n.ge();N.O9.atC(this,n);N.O9.UE(n)}else this.ZO=j._X};
N.$A.prototype.v1=function(j,n,Q,a,B){if(this.Bg){N.O9.prototype.v1.call(this,j,n,Q,a,B);return}if(!j.rV())return;
this.Yx=N.mL.VJ(j,j.e.oR(B.x,B.y),Q)};N.$A.prototype.Z3=function(j,n,Q,a,B){if(this.Bg){N.O9.prototype.Z3.call(this,j,n,Q,a,B);
return}if(!this.Yx)return;var m=j.e.oR(B.x,B.y);m=N.mL.VJ(j,m,Q);if(a.r(i8.f8))m=N.$A.rY(this.Yx,m);
j.M.RJ={g:[this.Yx.x,this.Yx.y,m.x,m.y],rZ:["M","L"]};j.M.Ne=[this.Yx.x,this.Yx.y,m.x,m.y];j.UF=!0};
N.$A.prototype.pU=function(j,n,Q,a,B){if(this.Bg){N.O9.prototype.pU.call(this,j,n,Q,a,B);return}if(!this.Yx)return;
var m=j.T[j.X[0]],R=j.e.oR(B.x,B.y);R=N.mL.VJ(j,R,Q);if(a.r(i8.f8))R=N.$A.rY(this.Yx,R);if(eE.X_(this.Yx,R)>2){var q;
if(j.K)q=j.K.s;else q=new b4(0,0,j.q,j._);var U=K.U(q.$()*4),l=this.ZO,b=l.Type.v.GrdT,D=l.Opct.v.val,c=this.Yx;
if(b=="Lnr")c=new eE((c.x+R.x)/2,(c.y+R.y)/2);K.Gp.$z(c,R,q,l);gq.S4(l,U,q,j,null,null,Q.Z4,Q.g7);var _=U.length,p=D/100;
if(D!=100)for(var v=0;v<_;v+=4)U[v+3]=Math.round(U[v+3]*p);var X=new ar(x.E.A);X.I=N.pP;X.data={Q:"fillBMP",ph:U,Er:af.Ci(l.Md.v.BlnM),ID:this.name};
n.a(X)}j.M.RJ=null;j.M.Ne=[];j.UF=!0;this.Yx=null};N.$A.prototype.JQ=function(j,n,Q,a,B){function m(D){D=D.v;
var c=D.Hrzn.v.val,_=D.Vrtc.v.val;return Q.e.Vh(c,_)}if(j.Q=="fromAction"){var R=this.ZO;this.ZO=K.u(R);
var q=j.bm.Tu,U=["Grad","Type","Opct","Dthr"];for(var v=0;v<U.length;v++)if(q[U[v]])this.ZO[U[v]]=q[U[v]];
var l=m(q.From),b=m(q.T);this.v1(Q,n,B,a,l);this.pU(Q,n,B,a,b);this.ZO=R}};N.$A.rY=function(j,n){if(j.N_(n))return j;
var Q=n.x-j.x,a=n.y-j.y,B=Math.abs(Q),m=Math.abs(a);if(B>m)m=B/2>m?0:B;if(m>B)B=m/2>B?0:m;B=Q>0?B:-B;
m=a>0?m:-m;var R=Math.sqrt(Q*Q+a*a)/Math.sqrt(B*B+m*m);return new eE(j.x+B*R,j.y+m*R)};N.$A.r9=function(j,n,Q,a,B,m,R){var q=new b4(0,0,n,Q),U=K.U(n*Q*4);
K.WU(U,n,Q,4);var l=Math.sin(a),b=Math.cos(a),D=K.U(n*Q*4);K.Gp.C_(j,D,q,[b*1/n,l*1/n,-l*1/Q,b*1/Q],n/2,Q/2,!1,0,B,m);
K.L.sg("norm",D,q,U,q,q,1);if(R)return new ImageData(new Uint8ClampedArray(U.buffer),n,Q);else return fj.PH(U.buffer,n,Q,null,null,!0)};
N.$A.aFF=function(j,n,Q){var a=K.u(j);if(a.Clrs)for(var v=0;v<a.Clrs.v.length;v++){var B=a.Clrs.v[v].v,m=B.Type.v.Clry;
if(m=="UsrS")continue;var R=m=="FrgC"?n:Q;B.Type.v.Clry="UsrS";B.Clr={t:"Objc",v:K.Gp.Db({n:R>>16&255,i:R>>8&255,b:R&255})}}return a};
N.$A.prototype.pk=function(j,n){N.O9.prototype.pk.call(this,j,n)};N.$A.prototype.X7=function(j,n){N.O9.prototype.X7.call(this,j,n)};
N.O9=function(){N.wU.call(this,"Vector Gradient",N.a2X,"tools/gradient");this.UX=null;this.dH=null;this.dg=null;
this.fR};N.O9.prototype=new N.wU;N.O9.prototype.enable=function(j,n,Q,a){N.O9.UE(j)};N.O9.prototype.lc=function(j,n,Q,a){if(Q.Ce!=this.id)return;
N.O9.UE(j)};N.O9.prototype.disable=function(j,n,Q,a){N.O9.i$(j)};N.O9.i$=function(j){if(j==null)return;
j.M.kp=null;j.M.Ne=[];j.UF=!0};N.O9.prototype.v1=function(j,n,Q,a,B){var m=N.O9.yg(j);if(m==null&&fL==0){var R=new ar(x.E.X2,!0);
R.data=N.Ma.UZ(1);n.a(R);m=N.O9.yg(j)}if(m==null)return;var q=N.mL.VJ(j,j.e.oR(B.x,B.y),Q),U=N.O9.KE(m,q,j),l=j.T[j.X[0]],b=l.add.GdFl,D=l.add.vstl;
this.fR=JSON.stringify(fL==0?b:D);this.UX=q;if(U==-1){var c=m[1];this.dH=[q.x,q.y,q.x+2,q.y];if(c[0]==1){this.dH.push(q.x,q.y-2);
c[2][4]=1}this.dg=1;N.O9.asZ(j,this.dH)}else{this.dH=m[0];this.dg=U}};N.O9.prototype.Z3=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=N.O9.yg(j),q=this.dg;
if(q!=null){var U=this.dH.slice(0);m=N.mL.VJ(j,m,Q);if(a.r(i8.f8))m=N.$A.rY(new eE(U[0],U[1]),m);var l=m.x-U[q*2],b=m.y-U[q*2+1];
if(q==0){for(var v=0;v<U.length;v+=2){U[v]+=l;U[v+1]+=b}}else{U[q*2]+=l;U[q*2+1]+=b}N.O9.asZ(j,U,q)}else if(R){var D=N.O9.KE(R,m,j),c=new ar(x.E.B,!0);
c.data={Q:x.l.w4,sz:D==-1?"default":D==0?"move":"pointer"};n.a(c)}N.O9.UE(j)};N.O9.KE=function(j,n,Q){var a=6*N.lS()/Q.e.yr,B=j[0],m=K.c.g4(B,n.x,n.y,a);
if(m==0&&B.length==8&&B[0]==B[6]&&B[1]==B[7])m=3;if(m==-1&&j[1][0]==1)m=K.c.g4(B.slice(0,2),n.x,n.y,2*a);
return m};N.O9.prototype.pU=function(j,n,Q,a,B){if(this.dH==null)return;this.dH=null;this.dg=null;N.O9.atC(this,j)};
N.O9.atC=function(j,n){var Q=n.X[0],a=n.T[Q],B=a.add.GdFl,m=a.add.vstl,R=JSON.stringify(B?B:m),q=n.history[n.cD];
if(q&&q.I==j&&q.data.K1==Q)q.data.CX=R;else{var U=new ae("Change Gradient",j);U.data={K1:Q,lA:j.fR,CX:R};
n.xr(U)}};N.O9.asZ=function(j,n,Q){var a=j.T[j.X[0]],B=a.add.GdFl,m=a.add.vstl,R=a.add.vmsk,q=new eE(n[0],n[1]),U=new eE(n[2],n[3]),l=new eE(n[4],n[5]),b=new eE(n[6],n[7]);
if(m){var D=m.vg[0],c=m.vg[2],_=g7.dV(q,U,new j8),p=g7.J7(D,_,R.z);if(D==1){var X=eE.X_(l,q)/eE.X_(U,q);
if(Math.abs(X-1)<.03)X=1;p[2][4]=Q==2?X:c[4];if(Q==3){if(eE.X_(b,q)/eE.X_(U,q)<.05)b=q.O();g7.HJ(p,q,U,b,p[2][4]);
if(p[2][6]>.999)p[2][6]=.999}else{p[2][5]=c[5];p[2][6]=c[6]}}p[1]=m.vg[1];m.vg=p}else{var D=B.Type.v.GrdT,g=a.s;
if(D=="Lnr"||D=="Rflc"){q.x=(q.x+U.x)/2;q.y=(q.y+U.y)/2}K.Gp.$z(q,U,g,B);a.tI(j)}j.ge()};N.O9.yg=function(j){if(j==null||j.X.length==0)return;
var n=j.T[j.X[0]],Q=n.add.GdFl,a=n.add.vstl;if(Q==null&&a==null)return;if(a==null)a=hs.Xa(n.add,j);var B=a.vg;
if(B.length!=4)return;var m=n.add.vmsk?n.add.vmsk.z:K.R.hi.Rect(0,0,j.q,j._),R=g7.Kz(B,m),m=[0,0,1,0];
if(fL==1&&B[0]==1){var q=B[2][5]*Math.PI/180,U=B[2][6];m.push(0,-1,Math.cos(q)*U,-Math.sin(q)*U)}K.c.C(m,R,m);
return[m,B,R]};N.O9.UE=function(j){if(j)N.O9.i$(j);var n=N.O9.yg(j);if(n==null)return;var Q=n[0],a=n[1],B=n[2],m={g:Q.slice(0,4),rZ:["M","L"]};
if(a[0]==1){var R=K.R.hi.$v(-1,-1,2,2),q=K.c.gb(R);K.c.C(q.g,B,q.g);K.c.concat(m,q)}j.M.kp=m;j.M.Ne=Q;
j.UF=!0};N.O9.prototype.pk=function(j,n){var Q=n.T[j.K1],a=fL==0?"GdFl":"vstl";if(j.CX){Q.add[a]=JSON.parse(j.CX);
Q.tI(n);n.ge();N.O9.i$(n)}};N.O9.prototype.X7=function(j,n){var Q=n.T[j.K1],a=fL==0?"GdFl":"vstl";if(j.CX){Q.add[a]=JSON.parse(j.lA);
Q.tI(n);n.ge();N.O9.i$(n)}};N.TC=function(){N.wU.call(this,[10,7],N.Kd,"tools/hand");this.jU=!1;this.fF=new eE(0,0);
this.Gn=null;this.g6=0};N.TC.prototype=new N.wU;N.TC.prototype.UY=function(j,n,Q,a){this.jU=j.jU};N.TC.prototype.JQ=function(j,n,Q,a,B){var m=j.Q;
if(m=="setcls"){Q.e.Y=j.Y;Q.UF=!0;Q.Xx=!0}if(m=="scroll"&&!a.r(i8.Y2)){if(a.r(i8.Gm))N.TC.a0(Q,Q.e.k.x-j.Sf.y,Q.e.k.y-j.Sf.x);
else N.TC.a0(Q,Q.e.k.x-j.Sf.x,Q.e.k.y-j.Sf.y)}};N.TC.prototype.enable=function(j,n,Q,a){this.Gn=null;
var B=new ar(x.E.B,!0);B.data={Q:x.l.w4,sz:"grab"};n.a(B);if(j&&Date.now()-this.g6<300){B.w=x.E.A;B.I=N.yx;
B.data={Q:"adapt",J:"fitscr"};n.a(B)}this.g6=Date.now()};N.TC.prototype.v1=function(j,n,Q,a,B){this.Gn=j.e.k.O();
this.fF.OI(B.x,B.y)};N.TC.prototype.Z3=function(j,n,Q,a,B){if(!B.vm)return;if(this.Gn==null)this.v1(j,n,Q,a,B);
var m=this.jU?n.pB:[j];for(var v=0;v<m.length;v++)N.TC.a0(m[v],this.Gn.x+(B.x-this.fF.x),this.Gn.y+(B.y-this.fF.y))};
N.TC.prototype.pU=function(j,n,Q,a,B){this.Gn=null};N.TC.a0=function(j,n,Q){var a=j.e.yr,B=j.e.C5,m=B.q,R=B._,q=K.c.yc(new b4(0,0,j.q,j._)).g,U=new j8;
U.rotate(j.e.c6);K.c.C(q,U,q);var l=K.c.Tv(q),b=l.q*a,D=l._*a,c=b<m&&D<R,_=m/2+b/2-64,p=R/2+D/2-64;j.e.k.OI(Math.max(-_,Math.min(_,n)),Math.max(-p,Math.min(p,Q)));
j.Xx=!0};N.Zh=function(){N.wU.call(this,[10,47],N.AR,"tools/rview");this.fF=new eE(0,0);this.Q_=null;
this.Ck=null;this.g6=0};N.Zh.prototype=new N.wU;N.Zh.prototype.enable=function(j,n,Q,a){this.Gn=null;
var B=new ar(x.E.B,!0);B.data={Q:x.l.w4,sz:"grab"};n.a(B);if(j&&Date.now()-this.g6<300&&j.e.c6!=0){j.e.c6=0;
j.UF=!0}this.g6=Date.now();if(j)this.Xs(j,n)};N.Zh.prototype.disable=function(j,n,Q,a,B){if(j)this.Xs(j,n)};
N.Zh.prototype.h5=function(j,n,Q,a){if(j)this.Xs(j,n)};N.Zh.prototype.v1=function(j,n,Q,a,B){this.fF.OI(B.x,B.y);
var m=j.e;this.Q_=m.oR(m.C5.q/2,m.C5._/2);this.Ck=m.Q2();var R=m.oR(m.C5.q/2,m.C5._/2),q=Math.min(m.C5.q,m.C5._)*.35/m.yr,U=q*.2,l=R.x,b=R.y;
j.M.RJ={rZ:"M L L L L L".split(" "),g:[l,b,l,b-q,l+U,b,l,b+q,l-U,b,l,b-q]};j.UF=!0};N.Zh.prototype.avf=function(j){var n=j.e,Q=n.oR(n.C5.q/2,n.C5._/2);
j.M.RJ={rZ:["M","L"],g:[Q.x,Q.y,Q.x,Q.y-200]}};N.Zh.prototype.Z3=function(j,n,Q,a,B){if(!B.vm)return;
var m=j.e,R=this.Q_,q=this.fF,U=new eE(m.C5.q/2,m.C5._/2),l=Math.atan2(B.y-U.y,B.x-U.x),b=Math.atan2(q.y-U.y,q.x-U.x),D=Math.atan2(this.Ck.b,this.Ck.NX),c=l-b,_=Math.PI/4;
if(a.r(i8.f8)){c=D+_*Math.round((c-D)/_)}this.a4j(j,n,this.Ck.O(),R,c)};N.Zh.prototype.pU=function(j,n,Q,a,B){j.M.RJ=null;
j.UF=!0};N.Zh.prototype.UY=function(j,n,Q,a){this.a4j(Q,n,null,null,j.Fr-Q.e.c6);Q.e.c6=j.Fr};N.Zh.prototype.a4j=function(j,n,Q,a,B){var m=j.e;
if(Q==null)Q=m.Q2();if(a==null)a=m.oR(m.C5.q/2,m.C5._/2);Q.translate(-a.x,-a.y);Q.rotate(B);Q.translate(a.x,a.y);
m.ahn(Q);if(j.q*m.yr<m.C5.q&&j._*m.yr<m.C5._)m.k.OI(0,0);j.UF=!0;this.Xs(j,n)};N.Zh.prototype.Xs=function(j,n){var Q=new ar(x.E.B,!0);
Q.data={Q:x.l.nz,I:this.id,Fr:j.e.c6};n.a(Q)};N.cf=function(){N.FY.call(this,[10,25],N.$u,"tools/hbrush")};
N.cf.prototype=new N.FY("");N.cf.prototype.pU=function(j,n,Q,a,B){if(this.Zq==null)return;this.oY(j,"heal",this.Zq.P$(),this.Zq.uI(),this.Zq.Eg());
this.ge(j,this.Zq.Eg());N.K6.prototype.pU.call(this,j,n,Q,a,B);if(!this.ZO.algnd)this.k=null};N.d3=function(j){N.wU.call(this,j?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],j?N.od:N.BT,j?"tools/vtype":"tools/htype");
this.y9=[];this.H=null;this.caller=null;this.qR=1;this.qK=0;this.Qk=null;this.aaJ=0;this.iD=0;this.akt=null;
this.u9=null;this.cT=null;this.gz=null;this.R_=null;this.ZA=null;this.apr=null;this.k_=null;this.o6=null;
this.oL=null;this.ab4=null;this.bs=!1;this.sc=!1;this.M9=!1;this.WZ=null;this.cS=null;this.a9P=null;
this.V_=!1;this.V7=!1;this.J8=-1;this.WD=-1;this.Si=document.createElement("textarea");this.Si.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Si.addEventListener("input",this.e9.bind(this),!1);this.Si.addEventListener("keydown",this.asU.bind(this),!1);
this.Si.addEventListener("keyup",this.axf.bind(this),!1)};N.d3.prototype=new N.wU;N.d3.prototype.Oj=function(j){return j.vm};
N.d3.prototype.lc=function(j,n,Q,a){if(this.cT!=null||this.id==N.od)return;this.caller=n;var B=this.a0i(j);
if(B.length!=0){var m=null,R=[],q=[];for(var v=0;v<B.length;v++){var U=j.T[B[v]],l=U.add.TySh,b=0,D=eR.yi(l.Kt).length-2,c=eR.JB(l.Kt,b,D);
eR.KZ(c,l.C.P8());if(c.RW.Font!=null)c.RW.Font=c.hK[c.RW.Font].Name;m=c.hK;R.push(c.RW);q.push(c.w$)}var c={hK:m,RW:eR.Da(R),w$:eR.Da(q)};
if(c.RW.Font!=null)eR.em(c,c.RW.Font);this.a1X(n,c,l)}};N.d3.prototype.a0i=function(j){var n=[];for(var v=0;
v<j.X.length;v++)if(j.T[j.X[v]]&&j.T[j.X[v]].add.TySh)n.push(j.X[v]);return n};N.d3.prototype.JQ=function(j,n,Q,a,B){var m=j.Q=="insertGlyph",R=j.Q=="copyText",q=j.Q=="selectAll";
if((m||R||j.Q=="insertText"||q)&&this.cT){var U=m?String.fromCharCode(65533):j.J,l=this.Si,b=l.value,D=l.selectionStart,c=l.selectionEnd;
if(R){aL.MC(new Blob([b.slice(D,c)],{type:"text/plain"}))}else if(q){this.J8=l.selectionStart=0;this.WD=l.selectionEnd=b.length;
this.oI(Q);l.focus()}else{l.value=b.slice(0,D)+U+b.slice(c);l.selectionStart=l.selectionEnd=D+U.length;
this.e9(null,m?j.J:null);l.focus()}}if(j.Q=="updateStyles"){if(this.cT==null){var _=this.a0i(Q),p=!1;
if(_.length!=0){this.E3(Q,n,B,_);for(var v=0;v<_.length;v++){var X=Q.T[_[v]],g=X.add.TySh;eR.cz(g,this.qR);
g.K7.VAlign.v=this.qK;this.cT=X;var F=eR.yi(g.Kt);this.J8=0;this.WD=F.length-1;eR.A0(g.Kt,this.J8,this.WD,this.zn(B,g));
var k=this.xe(Q,B);if(k==!1)p=!0}if(p){this.V_=!0;return}this.Y_(Q,n,!0)}return}this.X$(B)}if(j.Q.startsWith("warp")){var I=this.V7;
if(j.Q=="warp"||j.Q=="warpCancel"){if(this.cT==null)return;if(j.Q=="warp")this.cT.add.TySh.ED=j.UH;else this.cT.add.TySh.ED=this.apr;
this.xe(Q,B);if(!I)this.oI(Q)}if(j.Q!="warp")this.Si.focus();if((j.Q=="warpConfirm"||j.Q=="warpCancel")&&I){this.V7=!1;
if(j.Q=="warpConfirm")this.Y_(Q,n);else this.Ju(Q,n)}}if(j.Q=="editCurr"){if(B.Ce!=N.BT){this.Qk=B.Ce;
var e=new ar(x.E.B,!0);e.data={Q:x.l.pY,I:N.BT};n.a(e)}if(this.cT!=null)this.disable(Q,n,B,a);this.H=B;
this.caller=n;this.E3(Q,n,B,[j.OK]);var F=eR.yi(this.cT.add.TySh.Kt);this.J8=0;this.WD=F.length-1;this.oI(Q);
this.v6();this.Si.focus()}if(j.Q=="switchPntPrgr"){if(this.cT)return;var X=Q.T[Q.X[0]],g=X.add.TySh,H=g.C.P8(),A=X.jL(),Z=K.u(g.Kt),J=eR.Pv(Z),s=J==1?eR.UC(Z):[0,0,Math.round(A.q*1.05/H),Math.round(A._*1.25/H)],E=eR.JB(Z,0,0),z=E.hK[E.RW.Font].Name,h=B.wR.s1(z),d=[0,s[2],s[2]/2][E.w$.Justification%3],Y=(h?bG.b6(h):.8)*E.RW.FontSize;
eR.dY(Z,1-J);if(J==0){console.log(bG.b6(h,z,E.RW));d=-d;Y=-Y;eR.gG(Z,[0,0,s[2],s[3]])}var C=new j8(1,0,0,1,d,Y);
C.concat(g.C);this.JQ({hv:Q.X[0],Q:"newED",sn:Z,C:C,acC:[16,3,J==1?0:1]},n,Q,a,B)}if(j.Q=="newED"){var X=Q.T[j.hv],g=X.add.TySh,i=this.Mc(Q,[j.hv]);
g.Kt=j.sn;if(j.C)g.C=j.C;if(ji.nk(g,B.wR,n)){ji.xe(X,B.wR,Q);Q.ge()}else Q.HM=!0;var M=new ae(j.acC?j.acC:this.name,this);
M.data={Bm:i,mJ:this.Mc(Q,[j.hv])};Q.xr(M)}if(j.Q=="fromAction"){var W;if(j.bm.ep=="set"){W=j.bm.Tu.T.v}else{W=j.bm.Tu.Usng.v;
var $=W.TxtC.v,P=[];for(var v=0;v<2;v++){var O=$[v==0?"Hrzn":"Vrtc"].v,U=O.val;if(O.type=="#Prc")U=(v==0?Q.q:Q._)*(U/100);
P[v]=U}this.QO(Q,n,B,a,Q.e.Vh(P[0],P[1]),!0)}var X=Q.T[Q.X[0]],g=X.add.TySh,G=g.Kt,b=eR.yi(G);eR.Zd(G,0,b.length-1);
eR.Yr(G,0,W.Txt.v.replace(/\r/g,"\n"));b=eR.yi(G);for(var J=0;J<2;J++){var t=W[J==0?"Txtt":"paragraphStyleRange"];
if(t==null)continue;t=t.v;for(var v=0;v<t.length;v++){var y=t[v].v,D=y.From.v,c=Math.min(y.T.v-1,b.length-1);
y=y[J==0?"TxtS":"paragraphStyle"].v;var r=eR.JB(G,D,c),u=J==0?r.RW:r.w$;for(var S in y){var w=y[S].v;
if(S=="Sz")u.FontSize=Math.round(w.val*(w.type=="#Pnt"?Q.Mp/72:1));else if(S=="fontPostScriptName")eR.em(r,w);
else if(S=="Algn")u.Justification={Left:1,Cntr:2}[w.Alg];else if(S=="leading")u.Leading=y[S].v.val;else if(S=="baselineShift")u.BaselineShift=y[S].v.val;
else if(S=="autoLeading")u.AutoLeading=y[S].v;else if(S=="syntheticBold")u.FauxBold=y[S].v;else if(S=="syntheticItalic")u.FauxItalic=y[S].v;
else if(S=="Trck")u.Tracking=y[S].v;else if(S=="verticalScale")u.VerticalScale=y[S].v/100;else if(S=="horizontalScale")u.HorizontalScale=y[S].v/100;
else if(S=="Clr")u.FillColor={Type:1,Values:[1,w.Rd.v/255,w.Grn.v/255,w.Bl.v/255]}}eR.A0(G,D,c,r)}}if(ji.Uz(Q,B.wR,n))ji.xe(X,B.wR,Q);
else Q.HM=!0;Q.ge();this.Y_(Q,n)}};N.d3.prototype.X$=function(j){var n=Math.min(this.J8,this.WD),Q=Math.max(this.J8,this.WD),a=this.cT.add.TySh;
eR.cz(a,this.qR);a.K7.VAlign.v=this.qK;var B=this.zn(j,a);eR.A0(a.Kt,n,Q-1,B);var m=this.caller.Pj(),R=this.xe(m,j);
if(R)this.oI(m);if(document.activeElement.tagName.toLowerCase()!="input")this.Si.focus()};N.d3.prototype.qi=function(j){return this.y9.indexOf(j)!=-1};
N.d3.prototype.enable=function(j,n,Q,a){var B=this.Si;n.Z.appendChild(B);this.k_="default";this.FV(n)};
N.d3.prototype.Ys=function(){return this.cT!=null};N.d3.Jy=function(j,n){var Q=new eE(n.x,n.y);for(var v=j.T.length-1;
v>=0;v--){var a=j.T[v],B=a.add.TySh;if(B&&j.ayd(v)){var m=Q,R=a.s;if(fL==1){var q=B.C.O();q.m2();m=q.JZ(Q);
R=a.xw.xf}if(!R.PU(m))continue;var U=a.Na(31);return U?-2:v}}return-1};N.d3.prototype.v1=function(j,n,Q,a,B){this.H=Q;
this.caller=n;var m=j.e.oR(B.x,B.y),R=this.cT==null;if(R){var q=N.d3.Jy(j,m);if(q==-2){alert(i4.get([6,57,0]));
return}if(q>=0&&!a.r(i8.f8)){if(!ji.nk(j.T[q].add.TySh,Q.wR,n)){alert("Fonts not loaded yet");return}this.E3(j,n,Q,[q])}else{this.M9=!0;
this.WZ=B;return}}var U=R?-1:eR.Pv(this.cT.add.TySh.Kt),l=this.oL?this.oL:this.o6,b=l&&l.v1(j,Q,a,m,null,null,B)&&K.UH.En(this.cT.add.TySh.ED),D=!R&&K.c.aDG(m,this.cT.jL())>20/j.e.yr&&(U==0||U==1);
if(b||D){this.bs=!0;this.cS=m;this.a9P=this.cT.add.TySh.C.O();if(this.J8==-1&&this.WD==-1)this.J8=this.WD=this.kL(m)}else{if(this.R_==null){alert("Fonts not loaded yet");
return}this.sc=!0;this.J8=this.WD=this.kL(m);var c=Date.now();if(c-this.aaJ>300)this.iD=0;this.iD++;
this.aaJ=c;if(this.iD==2)this.aw5();if(this.iD==3)this.ai8();if(this.iD>1){this.sc=!1}}this.v6();this.oI(j)};
N.d3.prototype.E3=function(j,n,Q,a){var B=j.T[a[0]];this.cT=B;this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,dI:"showactive"});
this.gz=a;j.X=a.slice(0);j.y3();j.v9=!0;this.ZA=this.Mc(j,a);this.AL(B.add.TySh);this.xe(j,Q)};N.d3.prototype.AL=function(j){if(eR.Pv(j.Kt)!=1)return;
var n=eR.UC(j.Kt);n=new b4(0,0,n[2]-n[0],n[3]-n[1]);var Q=[n.x,n.y,n.x+n.q,n.y,n.x+n.q,n.y+n._,n.x,n.y+n._];
K.c.C(Q,j.C,Q);this.o6=new ew(Q,!1,!1,!1,!0);this.o6.au(0)};N.d3.prototype.aw5=function(){var j=eR.yi(this.cT.add.TySh.Kt);
this.J8=this.awI(j,this.J8);this.WD=this.aAx(j,this.J8)};N.d3.prototype.awI=function(j,n){var Q=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",a=[];
for(var v=0;v<Q.length;v++)a.push(Q.charAt(v));var B=a.indexOf(j[n])==-1?!0:!1;for(var v=n-1;v>=0;v--)if(a.indexOf(j.charAt(v))!=-1==B)return v+1;
return 0};N.d3.prototype.aAx=function(j,n){var Q=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",a=[];for(var v=0;
v<Q.length;v++)a.push(Q.charAt(v));var B=a.indexOf(j[n])==-1?!0:!1;for(var v=n+1;v<j.length;v++)if(a.indexOf(j.charAt(v))!=-1==B)return v;
return j.length-1};N.d3.prototype.ai8=function(){var j=this.R_.av7(this.J8);this.J8=j[0];this.WD=j[1]};
N.d3.prototype.FV=function(j){var n=new ar(x.E.B,!0);n.data={Q:x.l.w4,sz:this.k_};j.a(n)};N.d3.prototype.Z3=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=this.cT;
if(!B.vm){var q="default",U=this.o6,l=this.oL?this.oL:U;if(l&&K.UH.En(R.add.TySh.ED)){var b=l.J5(m,j.e.yr,null,B);
if(b)q=b;else if(l==U&&U._k(m))q="text"}else if(R&&K.c.aDG(m,R.jL())>20/j.e.yr)q="move";else if(N.d3.Jy(j,m)>=0)q="text";
if(q!=this.k_){this.k_=q;this.FV(n)}}var D=this.WZ;if(this.M9&&Math.min(B.x-D.x,B.y-D.y)>4/j.e.yr){this.M9=!1;
this.QO(j,n,Q,a,B);R=this.cT;this.bs=!0;this.o6=new ew(null,!1,!1,!1,!0);this.o6.au(0);var c=j.e.oR(this.WZ.x,this.WZ.y);
c.x=Math.round(c.x);c.y=Math.round(c.y);this.o6.v1(j,Q,a,c,null,null,B,j.e.c6)}if(this.bs){var _=R.add.TySh;
if(this.oL){this.oL.Z3(j,Q,a,m);var p=K.D.lm(K.D.ZM(this.oL.cX(),this.ab4));_.C=p;this.xe(j,Q);eR.o3(_)}else if(this.o6){this.o6.Z3(j,Q,a,m);
var X=_.C.O(),g=Math.atan2(X.b,X.NX);X.rotate(g);var p=K.D.lm(K.D.ZM(this.o6.cX())),F=Math.atan2(p.b,p.NX);
p.rotate(F);if(!isNaN(p.NX)&&p.NX*p.zP-p.b*p.RK!=0){var k=new b4(0,0,p.NX/X.NX,p.zP/X.zP),I=k.q,e=k._,H=_.Kt.Curve;
if(H){var A=eR.UC(_.Kt),Z=new j8(I/A[2],0,0,e/A[3],0,0);K.c.C(H.Points,Z,H.Points);eR.o3(_)}eR.gG(_.Kt,[0,0,I,e]);
_.C=K.D.lm(K.D.ZM(this.o6.cX(),k));this.xe(j,Q);eR.o3(_)}}else{var J=m.x-this.cS.x,s=m.y-this.cS.y;_.C=this.a9P.O();
var E=new eE(_.C.Qr+J,_.C.dE+s);E=N.mL.VJ(j,E,Q);_.C.Qr=E.x;_.C.dE=E.y;this.xe(j,Q)}}if(this.sc)this.WD=this.kL(m);
if(this.bs||this.sc)this.oI(j)};N.d3.prototype.QO=function(j,n,Q,a,B,m){var R=j.H9(),q=R[0],U=R[1],l=j.JL();
l.add.lnsr="rend";var b=j.T.slice(0);l.kw("Text layer "+b.length);this.cT=l;var D=j.X.length==0?j.T.length-1:j.X[j.X.length-1],c=D+1;
if(b[D].add.lsct==fM.ko)c--;this.ZA={Go:b.slice(0),bX:j.X.slice(0)};b.splice(c,0,l);j.X=[c];this.J8=this.WD=0;
j.xt(b);this.ZA.Wi=b.slice(0);this.ZA.zI=j.X.slice(0);this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,dI:"showactive"});
var _=j.e.oR(B.x,B.y),p=Q.ix;console.log(p);if(this.id==N.od){p=K.u(p);p.RW.BaselineDirection=1}l.add.TySh=eR.N0(_.x,_.y,p,j.e.c6);
var X=l.add.TySh,g=X.Kt;if(this.id==N.od)g._LineOrientation=2;eR.cz(X,this.qR);X.K7.VAlign.v=this.qK;
if(B.vm)eR.dY(g,1);else{eR.dY(g,0);var F=q[U.pop()],k=F?F.add.vmsk:null;if(m)k=null;if(k&&!a.r(i8.f8)){k=k.O();
var I=k.z,H,A;for(var v=0;v<I.length;v++)if(I[v].H_!=null)I[v].H_=0;var e=5/j.e.yr;H=K.R.Zf(k.z,_,!0,e);
if(H.cb==-1)H=K.R.Zf(k.z,_);if(H.cb!=-1){eR.dY(g,1);var Z=K.R.p$(I,H.cb),J=K.R.KI(I,H.cb)-1;I=k.z=I.slice(0,2).concat(I.slice(Z,Z+J+1));
k.X=[];X.add={vmsk:k,vogk:f.sU(I)};g.Curve={};eR.UQ(X);if(H.dR!=null){var s=bG.bj(g.Curve);K.c.C(s[0],X.C,s[0]);
var E=K.c.g4(s[0],_.x,_.y),z=Q.ix.w$.Justification;if(z==2||z==5){var h=(s[2][E]+s[3]*.5)%s[3];E=bG.P9(h,s[2])}var d=s[1][E];
d=d%J;k.aX=[d,d];eR.UQ(X)}else this.AL(X)}}}return l};N.d3.prototype.pU=function(j,n,Q,a,B,m){if(m){this.M9=!1;
return}if(this.cT==null&&!this.M9)return;var R=j.e.oR(B.x,B.y),q=this.M9;if(this.M9){this.M9=!1;this.QO(j,n,Q,a,B);
this.sc=!0}if(this.bs||this.sc){this.oI(j);this.v6();if(q)this.X$(Q)}if(this.bs&&this.o6)this.o6.pU(j,Q,a,R);
this.bs=this.sc=!1;this.Si.focus()};N.d3.prototype.v6=function(){var j=this.cT.add.TySh,n=Math.min(this.J8,this.WD),Q=Math.max(this.J8,this.WD),a,B;
if(n==Q){var m=eR.yi(j.Kt);if(n==0||m.charAt(n-1)=="\n")a=B=n;else a=B=n-1}else{a=n;B=Q-1}var R=eR.JB(j.Kt,a,B);
eR.KZ(R,j.C.P8());this.a1X(this.caller,R,j)};N.d3.prototype.a1X=function(j,n,Q){this.tL(j,x.E.B,{Q:x.l.m6,_X:b3.U2,ix:n});
var a=this.qR=eR.l_(Q),B=this.qK=Q.K7.VAlign.v;this.tL(this.caller,x.E.B,{Q:x.l.nz,I:this.id,dI:"changeOther",V2:a,Qw:B})};
N.d3.prototype.mZ=function(j,n,Q,a,B){if(j==null)return;var m=j.e.oR(B.x,B.y),R=N.d3.Jy(j,m);if(R==-1)return;
var q=new ar(x.E.B,!0);q.data={Q:x.l.nz,I:this.id,dI:"showpan",a3m:this.cT!=null,OK:R,xZ:B,Xz:j,H:Q};
n.a(q)};N.d3.prototype.aGo=function(){var j=this.cT;if(j&&!this.bs&&this.oL!=null){var n=this.caller.Pj();
this.oL.pU(n,this.H,null,null);this.oL=null;this.AL(j.add.TySh);this.oI(n)}};N.d3.prototype.disable=function(j,n,Q,a){var B=this.cT;
this.Y_(j,n)};N.d3.prototype.UY=function(j,n,Q,a,B){if(this.V7)return;if(j.dI=="commit")this.Y_(Q,n);
if(j.dI=="cancel")this.Ju(Q,n);if(j.dI=="changeOther"){this.qR=j.V2;this.qK=j.Qw;if(Q!=null)this.JQ({Q:"updateStyles"},n,Q,a,B)}if(j.dI=="showwarp"){if(Q==null)return;
if(this.cT==null){var m=Q.T[Q.X[0]],R=m.add.TySh;if(R==null)return;this.E3(Q,n,B,[Q.X[0]]);this.Si.focus();
this.V7=!0}this.apr=this.cT.add.TySh.ED;var q=new ar(x.E.B,!0);q.data={Q:x.l.Vg,Z8:"textwarp"};n.a(q)}};
N.d3.prototype.sW=function(j,n){if(n!=b3.GM)return;if(this.V_){this.V_=!1;var Q=this.caller.Pj(),a=this.gz;
for(var v=0;v<a.length;v++){this.cT=Q.T[a[v]];this.xe(Q,j)}this.Y_(Q,this.caller);return}if(this.cT)this.X$(j)};
N.d3.prototype.zn=function(j,n){var Q=K.u(j.ix);eR.KZ(Q,1/n.C.P8());return Q};N.d3.prototype.pk=function(j,n){if(j.Bm!=null)this.z3(n,j.mJ);
else this.am$(n,j.Wi,j.zI)};N.d3.prototype.X7=function(j,n){if(j.Bm!=null)this.z3(n,j.Bm);else this.am$(n,j.Go,j.bX)};
N.d3.prototype.z3=function(j,n){for(var v=0;v<n.length;v++){var Q=n[v],a=Q.hv,B=j.T[a];B.buffer=Q.FJ;
B.s=Q.SK.O();B.ge();B.xw.Fd=null;B.xw.path=null;var m=B.add.TySh;m.ED=Q.UH;m.v$=Q.v$.O();m.C=Q.C.O();
m.Kt=K.u(Q.Kt);B.YD()}j.ge()};N.d3.prototype.Mc=function(j,n){var Q=[];for(var v=0;v<n.length;v++){var a=n[v],B=j.T[a],m=B.add.TySh;
Q.push({hv:a,C:m.C.O(),UH:K.u(m.ED),v$:m.v$.O(),Kt:K.u(m.Kt),FJ:B.buffer.slice(0),SK:B.s.O()})}return Q};
N.d3.prototype.am$=function(j,n,Q){j.X=Q;j.xt(n);j.ge();j.LD=!0};N.d3.prototype.xe=function(j,n,Q){if(Q==null)Q=!1;
var a=this.cT.add.TySh;if(!ji.nk(a,n.wR,this.caller))return!1;if(!Q){var B=eR.yi(a.Kt);this.Si.value=B.slice(0,B.length-1)}var m=this.cT.s,R=ji.xe(this.cT,n.wR,j);
this.R_=R[1];var q=this.R_.VI();if(K.UH.En(a.ED))a.v$=new b4;else{if(eR.Pv(a.Kt)==1){var U=eR.UC(a.Kt),dv=q.y;
a.v$=new b4(0,dv,U[2]-U[0],U[3]-U[1]-dv)}else a.v$=q}j.iN();if(R[2])j.ge(j.root.Jc(R[2].SK.d_(m),j,j.T.indexOf(this.cT)));
return!0};N.d3.prototype.e9=function(j,n){if(this.cT==null||this.V7)return;var Q=this.Si.selectionStart,a=this.cT.add.TySh,B=eR.yi(a.Kt),m=this.Si.value+"\n",R=Math.min(this.J8,this.WD),q=Math.max(this.J8,this.WD),c=!1;
this.J8=Math.min(Q,R);if(m.length-Q<B.length-this.WD)this.WD=B.length-m.length+Q;if(B!=m){while(this.J8>0&&B.charAt(this.J8-1)!=m.charAt(this.J8-1))this.J8--}var U=B.substring(0,this.J8),l=B.substring(this.WD,B.length),b=m.substring(this.J8,m.length-l.length);
eR.Zd(a.Kt,this.J8,this.WD);eR.Yr(a.Kt,this.J8,b);if(n!=null)eR.aq0(a.Kt,this.J8,n);var D=this.zn(this.H,a),_=-1,p=Array.from(b);
for(var v=0;v<p.length;v++)_=Math.max(_,p[v].codePointAt(0));if(_!=-1&&_>128&&_!=65533&&D.RW.Font!=null){var X=D.hK[D.RW.Font].Name,g=this.H.wR.aEV(_,X,D.hK);
if(X!=g){eR.em(D,g);c=!0}}if(this.u9!=null&&b==this.u9){var F=JSON.parse(this.akt);eR.KZ(F,1/a.C.P8());
D.RW=F.RW;D.hK=F.hK;c=!0}eR.A0(a.Kt,this.J8,this.J8+b.length-1,D);this.J8=this.WD=U.length+b.length;
var k=this.caller.Pj(),I=this.xe(k,this.H,!0);if(I)this.oI(k,!0);if(c)this.v6()};N.d3.prototype.axf=function(j){var n=i8;
if(!j.ctrlKey)this.aGo();j.stopPropagation()};N.d3.prototype.asU=function(j){j.stopPropagation();var n=j.ctrlKey||j.metaKey,Q=i8,U=0,l=0,I=0,Y=!1;
if(this.cT==null||this.V7)return;if(this.cT==null)return;if(this.caller.O0.rE())return;var a=this.caller.Pj();
if(this.oL==null&&n){var B=this.cT.add.TySh,m=eR.Pv(B.Kt),R;if(m==1){R=eR.UC(B.Kt);R=new b4(0,0,R[2]-R[0],R[3]-R[1])}else R=this.R_.VI();
var q=[R.x,R.y,R.x+R.q,R.y,R.x+R.q,R.y+R._,R.x,R.y+R._];K.c.C(q,B.C,q);this.oL=new ew(q,!0,!0,!1,!1);
this.oL.au(0);this.ab4=R;this.oI(a)}if(Q.Uq(j.code,Q.y2))U=1;if(Q.Uq(j.code,Q.ar))U=-1;if(Q.Uq(j.code,Q.er))l=-1;
if(Q.Uq(j.code,Q.R6))l=1;var b=Q.Uq(j.code,i8.ST),D=Q.Uq(j.code,i8.asJ);if(Q.Uq(j.code,i8.mI)&&n){this.Y_(a,this.caller);
return}if(Q.Uq(j.code,i8.tf)){this.Ju(a,this.caller);return}if(Q.Uq(j.code,i8.tg)){j.preventDefault();
var c=this.Si,_=c.value,p=c.selectionStart,X=c.selectionEnd;c.value=_.substring(0,p)+"\t"+_.substring(X);
c.selectionStart=c.selectionEnd=p+1;this.e9(null);return}var g=Q.Uq(j.code,Q.Vm),F=Q.Uq(j.code,Q.ZH);
if(n&&(g||F)){j.preventDefault();var k=new ar(x.E.A,!0);k.I=N.yx;k.data={Q:"zoom",cC:g};this.caller.a(k)}if(Q.Uq(j.code,Q.sD))I=1;
if(Q.Uq(j.code,Q.hZ))I=-1;var e=this.J8==this.WD,H=n&&j.shiftKey&&I!=0&&!e;if(H||j.altKey&&U!=0){var A=K.u(this.H.ix);
if(H){var Z=A.RW.FontSize;if(Z==null)Z=16;A.RW.FontSize=Math.max(1,Z+I*(j.altKey?5:1))}else{if(e){A.RW.Kerning+=20*U;
A.RW.AutoKerning=!1}else A.RW.Tracking+=20*U}j.preventDefault();var J=new ar(x.E.B,!0);J.data={Q:x.l.m6,_X:b3.U2,ix:A};
this.caller.a(J);var k=new ar(x.E.A,!0);k.I=N.BT;k.data={Q:"updateStyles"};this.caller.a(k);return}if((Q.Uq(j.code,Q.vj)||Q.Uq(j.code,Q.IQ))&&n){var s=this.J8,E=this.WD;
if(s>E){var z=s;s=E;E=z}var B=this.cT.add.TySh,h=eR.yi(B.Kt);if(s!=E){this.u9=h.slice(s,E);this.akt=JSON.stringify(this.H.ix)}}var d=eR.yi(this.cT.add.TySh.Kt);
if(U!=0||l!=0||b||D){j.preventDefault();var C=this.J8;if(U!=0){if(n&&U==-1)C=this.awI(d,this.J8-1);else if(n&&U==1)C=this.aAx(d,this.J8);
else{var c=this.Si,_=c.value;C=this.J8+U;if(C!=0&&_.codePointAt(C-1)>65535)C+=U}}else if(l!=0){var i=this.R_.Qd(this.J8);
if(l==-1&&i.CE==0)C=0;else if(l==1&&i.CE==this.R_.am3()-1)C=99999999999;else C=this.R_.a3f(new eE(i.SK.x+i.SK.q/2,0),i.CE+l)}else if(b){var M=this.J8-1;
while(M>0&&d.charCodeAt(M)!=10)M--;C=M==0?0:M+1}else if(D){var M=this.J8;while(M<d.length-1&&d.charCodeAt(M)!=10)M++;
C=M}C=Math.max(0,Math.min(d.length-1,C));if(j.shiftKey)this.J8=C;else this.J8=this.WD=C;Y=!0}if(Q.Uq(j.code,i8.l)&&n){this.J8=0;
this.WD=d.length-1;Y=!0}if(Y){this.v6();this.oI(a)}};N.d3.abl=function(j,n){var Q=j.length;if(Q!=n.length)return!1;
for(var v=0;v<Q;v++)if(j[v].hv!=n[v].hv)return!1;return!0};N.d3.prototype.Y_=function(j,n,Q){if(this.cT==null)return;
this.cT.YD();var a=this.ZA;if(a instanceof Array){var B=this.Mc(j,this.gz),m=j.Pz();if(m!=null&&m.I==this&&m.data.Bm&&N.d3.abl(m.data.Bm,a)&&Q)m.data.mJ=B;
else{var R=new ae(this.name,this);R.data={Bm:a,mJ:B};j.xr(R)}}else{var R=new ae(this.name,this);R.data={Go:a.Go,Wi:a.Wi,bX:a.bX,zI:a.zI};
j.xr(R)}this.escape(j,n)};N.d3.prototype.Ju=function(j,n){if(this.cT==null)return;if(this.ZA instanceof Array){this.z3(j,this.ZA);
if(this.cT)eR.o3(this.cT.add.TySh)}else{j.X=this.ZA.bX;j.xt(this.ZA.Go);j.LD=!0}j.ge();this.escape(j,n)};
N.d3.prototype.escape=function(j,n){this.aGo();this.cT=null;this.gz=null;this.R_=null;this.o6=null;this.Si.blur();
j.M.RJ=null;j.M.DF=null;j.M.oi=[];j.UF=!0;this.bs=!1;this.sc=!1;this.J8=this.WD=-1;this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,dI:"hideactive"});
if(this.Qk){var Q=new ar(x.E.B,!0);Q.data={Q:x.l.pY,I:this.Qk};n.a(Q);this.Qk=null}};N.d3.prototype.tL=function(j,n,Q,a){var B=new ar(n,!0);
B.data=Q;if(a)B.I=a;j.a(B)};N.d3.prototype.kL=function(j){var n=this.cT.add.TySh,Q=this.R_,a=n.C.O();
a.m2();var B=a.JZ(j),m=eR.uI(n,Q),R=K.UH.Fo(n.ED,m),q=K.rU.hB(R,B);if(q==null)q=new Float64Array(2);
B=new eE(m.x+q[0]*m.q,m.y+q[1]*m._);if(Q.SV){var U=Q.SV.O();U.m2();B=U.JZ(B)}var l=Q.a3f(B);return l};
N.d3.prototype.oI=function(j,n){if(n==null)n=!1;var Q=this.cT.add.TySh,a=eR.Pv(Q.Kt),B=this.R_,m=B?eR.uI(Q,B):null;
j.M.oi=[];j.M.RJ=null;j.M.DF=null;var R=this.oL?this.oL:this.o6;if(R){R.IS(j,this.H,!K.UH.En(Q.ED));
var q=Q.C.O();q.m2();if(B&&B.SV&&B.m_==1){var U=B.SV.O();U.m2();q.concat(U)}K.c.C(j.M.oi,q,j.M.oi);K.c.C(j.M.RJ.g,q,j.M.RJ.g);
if(B&&B.SV==null&&B.a4v()){var l=m.q-20,b=m._+8;j.M.RJ.g.push(l,b,l+10,b,l+5,b-5,l+5,b+5);j.M.RJ.rZ.push("M","L","M","L")}}else if(a==0)this.aDQ(j,Q,B);
else j.M.RJ={g:[],rZ:[]};var D=Math.min(this.J8,this.WD),c=Math.max(this.J8,this.WD);if(!n){this.Si.selectionStart=D;
this.Si.selectionEnd=c}if(B!=null){var _=function(R,e){var H=R.x,A=R.y+R._,Z=new j8;Z.translate(-H,-A);
Z.rotate(-e);Z.translate(H,A);R.y+=R._*.27;var I=K.c.yc(R);K.c.C(I.g,Z,I.g);return I};if(D==c){D=Math.max(D,0);
var p=B.Qd(D);if(p){var X=p.SK,g=this.H.ix.RW.FontSize;if(g!=null&&g!=0){g/=Q.C.P8();X.y+=X._-g;X._=g}var F=B.acS(D);
if(F!=null&&F.SR==1)X.x+=X.q;var k=_(X,p.c6).g;j.M.RJ.rZ.push("M","L");j.M.RJ.g.push(k[0],k[1]-1,k[6],k[7]-1)}}else{j.M.DF={g:[],rZ:[]};
for(var v=D;v<c;v++){var p=B.Qd(v),I=_(p.SK,p.c6);K.c.concat(j.M.DF,I)}}}j.M.RJ=ji.rn(j.M.RJ,Q,B,!0);
j.M.DF=ji.rn(j.M.DF,Q,B,!0);j.M.oi=ji.rn({g:j.M.oi},Q,B,!0).g;j.UF=!0};N.d3.prototype.aDQ=function(j,n,Q){if(Q==null)return;
j.M.oi.push(0,0);if(j.M.RJ==null)j.M.RJ={rZ:[],g:[]};for(var v=0;v<Q.w$.length;v++){var a=Q.w$[v];for(var B=0;
B<a.Gk.length;B++){var m=a.Gk[B],R=a.q8.x+m.q8.x+m.SK.x,q=a.q8.y+m.q8.y+m.SK.y+m.SK._;j.M.RJ.rZ.push("M","L");
j.M.RJ.g.push(R,q,R+m.SK.q,q)}}j.UF=!0};N.C0=function(){N.d3.call(this,!0)};N.C0.prototype=new N.d3;
N.j4=function(j){N.NJ.call(this,j?"Magic Replace":[10,9],j?N.aCe:N.f0,j?"tools/mremove":"tools/lasso");
this.hU="crosshair";this.RV=null;this.A7=null;this.cS=null};N.j4.prototype=new N.NJ;N.j4.prototype.Vk=function(j,n,Q,a){this.RV=this.aA;
this.A7={g:[this.RV.x,this.RV.y],rZ:["M"]}};N.j4.prototype.a5=function(j,n,Q,a){this.cS=a;var B=this.A7;
if(B==null)return;if(!a.vm){if(this.A7!=null&&this.OX._U(1)&&Q.r(i8.Y2)){B.g.pop();B.g.pop();B.g.push(this.yS.x,this.yS.y);
j.M.RJ=B;j.UF=!0}return}B.rZ.push("L");B.g.push(this.yS.x,this.yS.y);this.RV=this.yS;if(this.Bw){j.M.RJ=B;
j.UF=!0}};N.j4.prototype.Ys=function(){return this.A7!=null};N.j4.prototype.qI=function(){return this.A7!=null};
N.j4.prototype.hs=function(j,n,Q,a){N.NJ.prototype.hs.call(this,j,n,Q,a);if(this.A7&&this.OX._U(1)&&this.cS&&!this.cS.vm&&!a.r(i8.Y2))this.aAU(j,Q,a)};
N.j4.prototype.mz=function(j,n,Q,a){this.cS=a;var B=this.A7;if(B==null)return;if(this.OX._U(1)&&Q.r(i8.Y2)){B.rZ.push("L");
B.g.push(this.yS.x,this.yS.y);return}this.aAU(j,n,Q)};N.j4.prototype.aAU=function(j,n,Q){this.finish(j,n,Q,this.cS);
this.A7=null;j.M.RJ=null;j.UF=!0};N.j4.prototype.getSelection=function(j,n,Q,a){if(this.aA.N_(this.yS)||!this.Bw)return null;
return N.NJ.Kb(this.A7.g,null,this.ZO.anta)};N.mL=function(){N.wU.call(this,[10,11],N.nQ,"tools/move");
this.kj=new eE(0,0);this.hJ=new eE(0,0);this.kC=null;this.Gz=null;this.A1=new eE(0,0);this.uM=null;this.H=null;
this.xo=null;this.g6=0;this.hV=null;this.IH=[];this.hd=null;this._A=null;this.xa=!1;this.Q=0;this.kE=null;
this.eJ=null;this.Xc=null;this.fH=!1;this.ZO={u4:!0,ry:fL==1,lP:!1,ats:1};this.ay0=!1;this.aCJ=!1;this.o6=null;
this.y5=null;this.D6=null;var j=[];for(var v=0;v<K.Ai.BP.length;v++)j.push({name:K.Ai.BP[v],m:function(n,Q,a){return{cp:Q.c8.bp==a}}});
this.ES=new ig(j);this.ES.P("select",this.pA,this)};N.mL.prototype=new N.wU;N.wU.prototype.Oj=function(j){return this.xa&&this.Q!=2};
N.mL.prototype.ahG=function(){return this.xa&&(this.Q==0||this.Q==1)};N.mL.prototype.h5=function(j,n,Q,a){this.wy(j,-this.A1.x,-this.A1.y);
this.A1.OI(0,0);this.wk(j,null,Q);this.UE(j)};N.mL.prototype.Dj=function(){var j=this.ZO;if(j.u4&&!j.ry&&!j.lP)return null;
return[j.u4?1:0,j.ry?1:0,j.lP?1:0]};N.mL.prototype.B4=function(j,n,Q){var a=this.ZO;if(j&&j[0]!=null)a.u4=j[0]==1;
if(j&&j[1]!=null)a.ry=j[1]==1;if(j&&j[2]!=null)a.lP=j[2]==1;if(fL==1)a.ry=!0;var B=new ar(x.E.B,!0);
B.data={Q:x.l.nz,I:this.id,Ls:a,a2O:n};Q.a(B)};N.mL.atK=function(j,n,Q,a,B,m,R){if(R==null)R=[!1,!0];
var q=j.J3(null,B,!0),U,l=B==null?j.X[0]:B;if(j.add.artd&&(B!=null||j.X.length==1)&&j.T[l].add.artb){var b=j.T[l].v_();
U=j.Ds(q,b,b)[0]}else{var D=new b4(0,0,j.q,j._),U=j.Ds(q,R[0]?D:null,R[1]?null:D)[0];delete U.add.artd;
if(R[1]){var c=K.ap(U.rd(),new b4(0,0,U.q,U._),2);N.MT._i(U,c)}}if(Q!=1){var _=new b4(0,0,Math.round(U.q*Q),Math.round(U._*Q));
N.MT._i(U,_);var p=[];for(var v=0;v<U.T.length;v++)p.push(v);var X=N.IP.Po(U,p,!0);N.MT.y1(U,new j8(Q,0,0,Q,0,0));
N.IP.QB(U,a,p,X,1,K.D.UN(new j8(Q,0,0,Q,0,0)),null,!0);U.D$()}var g=[];for(var v=0;v<n.length;v++)if(U.q*U._!=0)g.push(fj.gT(U,n[v].toUpperCase(),null,null,m?m[v]:null,a));
return g};N.mL.prototype.akH=function(j,n,Q,a,B){if(j==null||j.X.length==0)return;var m=N.mL.atK(j,[n],Q,a,null);
if(m.length==0){alert("Empty layer selected.");return}var R=m[0],q=new ar(x.E.B,!0);q.data={Q:x.l.Vi,data:R,name:j.T[j.X[0]].getName()+(Q==1?"":"@"+Q+"x")+"."+n};
B.a(q)};N.mL.prototype.UY=function(j,n,Q,a,B){if(j.BO=="getPNG"){this.akH(Q,"png",j.Tw,B,n)}else if(j.BO=="getSVG"){this.akH(Q,"svg",j.Tw,B,n)}if(j.BO=="prms"){this.ZO=j;
this.UE(Q)}};N.mL.aEf=function(j){var dv=j.length,Q=0;j.sort(function(m,R){return m[0]+m[1]/2-(R[0]+R[1]/2)});
var n=j[dv-1][0]+j[dv-1][1]-j[0][0];for(var v=0;v<dv;v++)Q+=j[v][1];var a=Math.round((n-Q)/(dv-1)),B=j[0][0];
for(var v=0;v<dv;v++){j[v][0]=B;B+=j[v][1]+a}};N.mL.prototype.JQ=function(j,n,Q,a,B){var m=j.Q;if(m=="trsl"){var R=Math.round(j.t4),q=Math.round(j.AJ);
this.A1.OI(R,q);this.Ux(Q,n,a,B,!1,j.W);this.wy(Q,R,q);this.wk(Q,null,B)}else if(m=="fcmy"||m=="fvec"){var U=["RGB","CMYK"][j.J]+" Color";
if(m=="fvec")U=["Raster","Vector"][j.J]+" Mode";var l=new ae(U,this);l.data={Q:j.Q,Xo:Q.add[m]==null?0:Q.add[m],L3:j.J};
Q.xr(l);this.pk(l.data,Q)}else if(m=="pview"){var m=new ae([8,14],this);m.data={Q:j.Q};Q.xr(m);this.pk(m.data,Q)}else if(m=="lockguides"){if(Q)Q.A6=!Q.A6}else if(m=="gids"||m=="gidsFromLayer"){var b=j.eJ,D,c;
if(b==null)b=Q.qE();if(m=="gids"){D=j.gR;var _=b[0].length,p=D[0].length;c=_==p?[23,2]:_>p?[23,3]:[23,4];
if(p==0)c=[11,15,0]}else if(m=="gidsFromLayer"){var X=[],g=[],F=Q.M5();for(var v=0;v<Q.X.length;v++){var k=Q.T[Q.X[v]].s;
if(k.ke())continue;X.push([0,k.x],[1,k.y],[0,k.x+k.q],[1,k.y+k._]);g.push(F,F,F,F)}c=[11,15,1];D=Q.qE();
N.mL.jp(D,[X,g])}if(JSON.stringify(b)==JSON.stringify(D))return;var m=new ae(c,this);m.data={Q:2,eJ:b,gR:D};
Q.xr(m);this.pk(m.data,Q)}else if(m=="algn"){var I=j.J;if(Q==null)return;if(Q.X.length<2&&!(Q.K!=null&&I!=3&&I!=7)){alert(i4.get([15,7,5]));
return}var e=Q.K;Q.K=null;var k=e?e.s:N.IP.uI(Q);this.Ux(Q,n,a,B,!1);if(!this.xa)return;var H=this.hV,A={},Z=[],J=[],s=[];
for(var v=0;v<H.length;v++){var E=H[v];while(Q.T[E].getName()=="</Layer group>")E++;var z=Q.root._N(E),h=z;
while(z.parent!=null){z=z.parent;if(H.indexOf(z.index)!=-1)h=z}var d=J.indexOf(h.index);if(d==-1){d=J.length;
J.push(h.index)}Z[v]=d}var Y=[],C=[],i=[];for(var v=0;v<J.length;v++){var M=N.IP.uI(Q,Q.J3(!0,J[v]));
i.push(M);var W=I==3?[M.y,M._]:[M.x,M.q];Y[v]=W;C.push(W)}N.mL.aEf(C);for(var v=0;v<J.length;v++){var M=i[v],$=M.x,P=M.y;
if(I==0)$=k.x;if(I==1)$=k.x+(k.q-M.q)/2;if(I==2)$=k.x+(k.q-M.q);if(I==3)P=Y[v][0];if(I==4)P=k.y;if(I==5)P=k.y+(k._-M._)/2;
if(I==6)P=k.y+(k._-M._);if(I==7)$=Y[v][0];s.push(Math.round($-M.x),Math.round(P-M.y))}var O=[];for(var v=0;
v<H.length;v++){var G=Z[v];O[2*v]=s[2*G];O[2*v+1]=s[2*G+1]}this.wy(Q,0,0,null,O);var t=I==3||I==7?[20,4,6]:[20,4,I<3?I:I-1];
this.wk(Q,null,B,O,t);Q.K=e}else if(m=="disabAuto"){this.B4([!1],null,n)}};N.mL.jp=function(j,n){for(var v=0;
v<n[0].length;v++){var Q=n[0][v],a=n[1][v],B=!1;for(var m=0;m<j[0].length;m++){var R=j[0][m],q=j[1][m];
if(Q[0]==R[0]&&Q[1]==R[1]&&a==q)B=!0}if(!B){j[0].push(Q.slice(0));j[1].push(a)}}};N.mL.prototype.enable=function(j,n,Q,a,B){this.H=Q;
this.xo=n;this.fH=B?!0:!1;this.UE(j);this.FV("default",n);this.hs(j,n,Q,a)};N.mL.prototype.disable=function(j,n,Q,a){this.i$(j)};
N.mL.prototype.i$=function(j){if(j==null)return;if(this.o6){this.o6.clear(j);this.o6=null}if(j.M.lP){j.M.lP=null;
j.UF=!0}if(j.M.cs){j.M.cs=null;j.UF=!0}if(j.M.t$[this.id]){delete j.M.t$[this.id];j.UF=!0}if(j.M.lf.length!=0){j.M.lf=[];
j.UF=!0}};N.mL.prototype.lc=function(j,n,Q,a){if(Q.Ce!=this.id)return;this.UE(j)};N.mL.prototype.UE=function(j,n){if(j==null)return;
var Q=this.ZO;this.i$(j);if(!this.fH){var a;if(Q.ry||Q.lP)a=K.c.Fa(N.IP.uI(j));if(Q.ry&&!a.ke()){var B=j.T[j.X[0]],m=K.c.yc(a).g;
if(fL==1&&j.X.length==1){if(B.add.vmsk)m=B.add.vmsk.aZ();if(B.add.SoLd)m=N.IP.lw(B.add.SoLd.nonAffineTransform);
if(B.add.TySh){m=K.c.yc(B.xw.xf).g;K.c.C(m,B.add.TySh.C,m)}}this.o6=new ew(m,!0);this.o6.IS(j,this.H)}if(Q.lP){var R=null,c=null,_=!1;
if(j.M5()!=-1)R=j.T[j.M5()].v_();else R=new b4(0,0,j.q,j._);j.M.lP={KS:[a],WW:[]};var q=j.M.lP.WW,U=a.x+a.q,l=a.y+a._,b=a.x+Math.floor(a.q/2),D=a.y+Math.floor(a._/2);
if(n){var p=j.root.Zf(new eE(Math.floor(n.x),Math.floor(n.y)));if(p){c=K.c.Fa(p.W.jL(j));if(c.Ta(a)){_=(c.BJ(a)||a.BJ(c))&&!a.N_(c);
if(!_)c=null}}}this.a8O(a,q);if(c!=null){j.M.lP.KS.push(c);var X=c.x+c.q,g=c.y+c._,F=c.x+Math.floor(c.q/2),k=c.y+Math.floor(c._/2);
if(_){var I=b,e=D;if(a.BJ(c)){I=F;e=k}q.push(a.x,e,c.x,e);q.push(U,e,X,e);q.push(I,a.y,I,c.y);q.push(I,l,I,g)}else{this.a8O(c,q);
var H=l<c.y||g<a.y,A=U<c.x||X<a.x;if(U<c.x)q.push(U,D,c.x,D);if(X<a.x)q.push(X,D,a.x,D);if(l<c.y)q.push(b,l,b,c.y);
if(g<a.y)q.push(b,g,b,a.y);if(H&&!A){if(a.x<c.x)q.push(a.x,k,c.x,k);if(c.x<a.x)q.push(c.x,D,a.x,D)}}}else{if(a.y>R.y)q.push(b,R.y,b,a.y);
if(l<R.y+R._)q.push(b,l,b,R.y+R._);if(a.x>R.x)q.push(R.x,D,a.x,D);if(U<R.x+R.q)q.push(U,D,R.x+R.q,D)}j.UF=!0}}if(this.Q==2&&this.xa){var Z=new b4(0,0,j.q,j._),J=j.M5();
if(J!=-1){var s=j.qE(),E=s[1][this.hV];if(E==-1)E=J;Z=j.T[E].v_()}var z=j.qO[this.hV],h=z[0],d=(h==0?"X":"Y")+": "+K.Ai.HZ(z[1]-(h==0?Z.x:Z.y),j.Mp,this.H,h==0?Z.q:Z._,!0);
N.wU.Kc(Math.round(this.kC.x)+10,Math.round(this.kC.y)-10,[d],j);j.UF=!0}if(this.Q==3&&this.xa){var Y=K.c.yc(this.kE);
j.M.t$[this.id]={RJ:Y};j.UF=!0}};N.mL.prototype.a8O=function(j,n){var Q=j.q,a=j._,B=j.x+Math.floor(Q*.2),m=j.y+Math.floor(a*.2);
n.push(B,j.y,B,j.y+a);n.push(j.x,m,j.x+Q,m)};N.mL.prototype.FV=function(j,n){var Q={Q:x.l.w4,sz:j},a=new ar(x.E.B,!0);
a.data=Q;n.a(a)};N.mL.prototype.ab=function(j){var n=this.y5.IF()[0];if(n==this.D6.length){var Q=new ar(x.E.B,!0);
Q.data={Q:x.l.UO,L5:"psd"};this.xo.a(Q);return}var a=this.uM,B=this.D6[n];this.eS(a,B)};N.mL.prototype.pA=function(j){var n=K.u(this.H.c8);
n.bp=this.ES.IF()[0];var Q=new ar(x.E.B,!0);Q.data={Q:x.l.m6,_X:b3.hl,L3:n};this.xo.a(Q)};N.mL.prototype.mZ=function(j,n,Q,a,B){if(this.xa)this.pU(j,n,Q,a,B);
this.uM=j;this.H=Q;this.xo=n;var m=j.e.oR(B.x,B.y),R;if(N.mL.x6(Q,B,j.e)){R=this.ES}else{if(this.y5)this.y5.removeEventListener("select",this.ab);
var q=[];j.root.Zf(m,q);if(q.length==0)return;if(a.r(i8.Y2)){this.eS(j,q[0]);return}var U=[];this.D6=q;
for(var v=0;v<q.length;v++)U.push({name:j.T[q[v]].getName(),Kl:v==q.length-1});U.push({name:[1,18],lM:!0});
R=this.y5=new ig(U);R.P("select",this.ab,this)}R.parent=n;R.S();R.update(j,Q);var l=new ar(x.E.B,!0);
l.data={Q:x.l.Ix,cB:R,x:B.vr+2,y:B.Bk+1};n.a(l)};N.mL.prototype.aCH=function(j,n,Q,a,B){var m=N.mL.iS(j,B);
return m!=-1||N.mL.x6(Q,B,j.e)};N.mL.iS=function(j,n){if(j==null||j.add.artd==null)return-1;var Q=j.e.oR(n.x,n.y),a=12*N.lS()/j.e.yr;
for(var v=0;v<j.T.length;v++){var B=j.T[v];if(!B.VH()||B.add.artb==null)continue;var m=B.v_(),R=new b4(m.x,m.y-1.7*a,a*B.getName().length*.5,a);
if(R.PU(Q))return v}return-1};N.mL.prototype.v1=function(j,n,Q,a,B){var m=N.mL.iS(j,B),R=N.mL.ab9(j,j.e.oR(B.x,B.y));
if(m!=-1){j.X=[m];if(Q.Ce==N.nQ){var q=new ar(x.E.B);q.data={Q:x.l.pY,I:N.Ui};n.a(q)}return}if(R!=-1){j.e.C7=R;
j.Xx=!0;var q=new ar(x.E.B,!0);q.data={Q:x.l.uv,Z8:eX.D9.aen};n.a(q);return}this.kC=B;this.kj.OI(B.x,B.y);
this.hJ=j.e.oR(B.x,B.y);this.Gz=new jR(this.hJ);this.Ux(j,n,a,Q,!0)};N.mL.x6=function(j,n,Q,a){var B=K.Ai.ni,m=Q.C5._;
return j.LB&&(0<n.x&&n.x<B||0<n.y&&n.y<B||a&&0<n.x&&n.x<4*B&&m-B<n.y&&n.y<m)};N.mL.prototype.Ux=function(j,n,Q,a,B,m){var R,q=this.hJ,U=!1;
if(B){var l=a.rl&&a.c8.qO;if(N.mL.x6(a,this.kj,j.e)){R=j.qE();var b=j.qE(),D=null;if(this.kj.x<K.Ai.ni){D=[0,q.x]}if(this.kj.y<K.Ai.ni){D=[1,q.y]}b[0].push(D);
b[1].push(j.M5(!0));j.J$(b);if(!l){var c=new ar(x.E.B);if(!a.c8.qO){c.data={Q:x.l.m6,_X:b3.Lj};n.a(c)}if(!a.rl){c.data={Q:x.l.m6,_X:b3.fM};
n.a(c)}l=!0}}var _=this.adA(j,q);if(l&&_!=null&&!j.A6){this.Q=2;this.eJ=R?R:j.qE();this.hV=_;this.xa=!0;
this._A=N.IP.uI(j);return}if(j.Yb.length!=0){this.Q=4;this._A=j.Kj[j.Yb[0]].s.O();this.xa=!0;return}if(this.o6&&this.o6.J5(q,j.e.yr,!0,this.kC)!=null){var c=new ar(x.E.B);
c.data={Q:x.l.pY,I:N.CL,asE:!0};n.a(c);return}if(j.K&&j.K.s.PU(q)){var p=Math.round(q.x),X=Math.round(q.y),g=j.K.s;
U=j.K.G[(X-g.y)*g.q+p-g.x]>128}var F=this.ZO.u4||fL==1;if(!U&&(!this.fH&&F||this.fH&&F&&(Q.r(i8.f8)||j.X.length<2))){var k=this.asA(j,q,Q);
if(!k){j.X=[];j.fO=null;j.LD=j.pp=!0;this.Q=3;this.kE=new b4;this.xa=!0;return}}if(Q.r(i8.Y2)&&!U){var I=new ar(x.E.A);
I.I=N.ir;I.data={Q:f.l5,aAG:!0};n.a(I)}}if(j.Yb.length!=0){this.Q=4;this._A=j.Kj[j.Yb[0]].s.O();this.xa=!0;
return}this.hV=j.J3(m==null,m,null,!0);for(var v=0;v<this.hV.length;v++){var e=this.hV[v],H=j.T[e];if(H.Na(2)||H.Na(31)||j.E8(e)){alert(i4.get([6,57,0]));
return}}if(j.add.artd&&B){var A=this.hV,Z=!1;for(var v=0;v<A.length;v++)if(j.T[A[v]].add.artb)Z=!0;if(!Z){this.hd=[j,j.T.slice(0),j.X.slice(0),-1];
this.hV.sort(function(C,i){return C-i})}}this.IH=N.mL.aum(j,this.hV);this.Q=0;if(j.K&&(!B||U)&&j.X.length==1&&j.rV(!1)){if(!j.amp()){this.xa=!1;
return}var J=j.T[j.X[0]],s=Q.r(i8.Y2);this.Q=1;var E=j.history[j.cD];if(E.I==this&&E.data.Q==1&&E.data.W==j.X[0]&&J.s0==J.YT.s0&&!s){this.Xc=E}else{var z=J.YT,h=!1,d;
if(!J.zB(j,j.K)||s){h=!0;J.gQ(j,j.K,s)}if(J.YT.s0<=0){d=K.U(J.YT.Mj.length>>2);K._W(J.YT.Mj,d,3)}else d=j.K.G.slice(0);
var Y={s:J.YT.tA.O(),G:d};this.Xc=new ae(s?[12,53]:[12,54],this);this.Xc.data={Q:1,W:j.X[0],YT:J.YT,Bx:z,K4:h,bX:j.K,zI:Y,zP:new eE(0,0)};
j.xr(this.Xc);j.K=Y;j.Lg=!0}}this.xa=!0;this._A=N.IP.uI(j)};N.mL.prototype.asA=function(j,n,Q){var a=j.root.Zf(new eE(Math.floor(n.x),Math.floor(n.y)));
if(a){if(a.W.add.vmsk)j.UF=!0;var B=j.T.indexOf(a.W);if(this.ZO.ats==0){var m=j.root._N(B);while(m.parent&&m.parent.depth!=0&&m.parent.W.add.artb==null)m=m.parent;
B=m.index}if(Q.r(i8.f8)){var R=j.X.indexOf(B);if(R==-1)j.X.push(B);else if(j.X.length>1)j.X.splice(R,1)}else if(j.X.indexOf(B)==-1){this.eS(j,B)}}return a!=null};
N.mL.prototype.eS=function(j,n){j.T[n].s0=0;j.X=[n];j.fO=null;j.y3();j.v9=!0;j.LD=!0};N.mL.ab9=function(j,n){var Q=j.add.Anno;
if(Q==null||Q.length==0)return-1;var a=30/j.e.yr;for(var v=0;v<Q.length;v++)if(new b4(Q[v][0],Q[v][1],a,a).PU(n))return v;
return-1};N.mL.prototype.Z3=function(j,n,Q,a,B){this.kC=B;var m=j.e.oR(B.x,B.y),_,p;if(this.Gz&&this.Q<2)m=this.Gz.Cw(m,a);
if(!this.xa){if(Q.rl&&Q.c8.qO&&j&&!j.A6){var R=this.adA(j,m),q="default",U=N.mL.iS(j,B);if(R!=null)q=["col-resize","row-resize"][j.qO[R][0]];
else if(this.o6){var l=this.o6.J5(m,j.e.yr,null,B);if(l)q=l}else if(U!=-1||N.mL.ab9(j,m)!=-1){q="pointer"}this.FV(q,n)}this.UE(j,m);
return}var b=this.hJ,D=Math.round(m.x-b.x)-this.A1.x,c=Math.round(m.y-b.y)-this.A1.y;if(this._A){if(this.Q==2){var X=[];
if(j.K)X.push(j.K.s);if(this._A)X.push(this._A);if(j.e.Dg)X.push(j.e.Dg);m=N.mL.VJ(j,m,Q,[!1,X,!0,!0])}else{p=this._A.O();
p.offset(this.A1.x+D,this.A1.y+c);_=N.mL.Fm(j,p,Q);var g=this.Gz.aAf(a);if(g==1){_[0]=0;_[2]=1e9}if(g==2){_[1]=0;
_[3]=1e9}D+=Math.round(_[0]);c+=Math.round(_[1])}}this.A1.x+=D;this.A1.y+=c;var F=this.hd;if(F&&j==F[0]){j.xt(F[1]);
j.X=F[2].slice(0);F[3]=-1}this.wy(j,D,c,m,null,a.r(i8.f8));if(F&&j==F[0]){var k=this._A.O();k.offset(this.A1.x,this.A1.y);
var I=m,U=j.M5(),e=-1;for(var v=0;v<j.T.length;v++){var H=j.T[v];if(!H.VH()||H.add.artb==null)continue;
var A=H.v_();if(A.PU(I))e=v}if(e!=-1&&e!=U){var Z=N.vo.Hv(j,this.hV,e,!0,null,!1);j.xt(Z[0]);j.X=Z[1];
F[3]=e}}this.UE(j,m);if(_)N.mL.xP(j,p,_)};N.mL.prototype.adA=function(j,n){var Q=N.bE(j,this.kC);n=[n.x,n.y];
var a=j.qE(),B=j.M5();for(var v=0;v<a[0].length;v++){var m=a[0][v],R=a[1][v];if(R!=-1&&R!=B)continue;
if(Math.abs(m[1]-n[m[0]])<Q)return v}return null};N.mL.prototype.wy=function(j,n,Q,a,B,m){if(this.Q==0){if(B)N.mL.vE(j,this.hV,this.IH,B);
else N.mL.$G(j,this.hV,this.IH,n,Q)}else if(this.Q==1){var R=this.Xc.data;R.zP.offset(n,Q);N.mL.X1(j,R.W,n,Q)}else if(this.Q==2){var q=1e-4;
if(m)q=j.e.yr<=1?10:1;var U=q*Math.round(a.x/q),l=q*Math.round(a.y/q),b=[U,l],D=j.qO[this.hV];D[1]=b[D[0]]}else if(this.Q==3){var c=this.hJ,_=K.c.so([c.x,c.y,a.x,a.y]);
this.kE=_;var p=[];j.root.Yo(_,p);if(JSON.stringify(j.X)!=JSON.stringify(p)){j.X=p;j.LD=j.pp=!0}}else if(this.Q==4){for(var v=0;
v<j.Yb.length;v++)j.Kj[j.Yb[v]].s.offset(n,Q);j.UF=!0}};N.mL.X1=function(j,n,Q,a){var B=j.T[n];j.K.s.offset(Q,a);
B.DY(j,Q,a,j.K);j.Lg=!0;j.ge()};N.mL.prototype.pU=function(j,n,Q,a,B,m){this.wk(j,B,Q);this.UE(j);if(Date.now()-this.g6<300&&!m){var R=N.d3.Jy(j,j.e.oR(B.x,B.y));
if(N.mL.x6(Q,B,j.e,!0)){var q=new ar(x.E.B);if(B.y>j.e.C5._-20){q.data={Q:x.l.Vg,Z8:"doczoom",Xo:j.e.yr*100,Az:{o:x.E.A,I:N.yx,h:{Q:"pzoom"}}}}else{q.data={Q:x.l.Vg,Z8:"preferences"}}n.a(q)}else if(R>=0){var U=new ar(x.E.A,!0);
U.I=N.BT;U.data={Q:"editCurr",OK:R};n.a(U)}}this.g6=Date.now();N.MT.XK(j)};N.mL.prototype.wk=function(j,n,Q,a,B){if(!this.xa)return;
this.xa=!1;if(this.Q==0){if(a){this.a1x(j,null,a,B)}else{if(this.A1.x==0&&this.A1.y==0)return;this.a1x(j,this.A1.O())}j.Xx=!0}else if(this.Q==2){var m=0;
n=[n.x,n.y];var R=this.hV,q=j.qO[R],aC=this.eJ[0].length,U=j.qO.length;if(Q.LB&&n[q[0]]<K.Ai.ni){var l=j.qE();
l[0].splice(R,1);l[1].splice(R,1);j.J$(l);m=1;if(aC==U-1)return}if(aC<U)m=2;var b=new ae([[23,2],[23,3],[23,4]][m],this);
b.data={Q:2,eJ:this.eJ,gR:j.qE()};j.xr(b)}else if(this.Q==4){var b=new ae([12,54],this);b.data={Q:4,X:j.Yb.slice(0),k:this.A1.O()};
j.xr(b)}this.A1.OI(0,0)};N.mL.prototype.hs=function(j,n,Q,a){var B=a.su(j?j.e.c6:0);if(j!=null&&(B.x!=0||B.y!=0)){if(a.r(i8.Y2)&&j.K==null){var m=new ar(x.E.A);
m.I=N.ir;m.data={Q:f.l5,aAG:!0};n.a(m)}this.A1.OI(B.x,B.y);this.Ux(j,n,a,Q,!1);if(!this.xa)return;this.wy(j,B.x,B.y);
this.wk(j,null,Q);this.UE(j)}var R=a.r(i8.Gm);if(!this.fH&&this.aCJ!=R){if(R){this.ay0=this.ZO.u4;this.ZO.u4=!0}else{this.ZO.u4=this.ay0}this.aCJ=R;
var q=new ar(x.E.B,!0);q.data={Q:x.l.nz,I:this.id,Ls:this.ZO};n.a(q)}};N.mL.prototype.X7=function(j,n){if(j.Q==0){var Q=j.X5;
if(Q){n.xt(Q.Go);n.X=Q.up.slice(0);n.ge();n.LD=!0}N.mL.vE(n,j.X,j.I4,j.TJ,!0);N.MT.XK(n)}else if(j.Q=="fcmy"||j.Q=="fvec"){if(j.Xo==0)delete n.add[j.Q];
else n.add[j.Q]=j.Xo;n.UF=!0}else if(j.Q=="pview"){n.zO=!n.zO;n.ge()}else if(j.Q==2){n.J$(j.eJ);n.UF=!0}else if(j.Q==4){for(var v=0;
v<j.X.length;v++)n.Kj[j.X[v]].s.offset(-j.k.x,-j.k.y);n.UF=!0}else{var a=n.T[j.W];if(j.K4){a._V(n,j.Bx);
n.K=j.bX;n.Lg=!0;n.ge();a.ge()}else{N.mL.X1(n,j.W,-j.zP.x,-j.zP.y)}}};N.mL.prototype.pk=function(j,n){if(j.Q==0){N.mL.vE(n,j.X,j.I4,j.TJ);
var Q=j.X5;if(Q){n.xt(Q.Wi);n.X=Q.ax.slice(0);n.ge();n.LD=!0}N.MT.XK(n)}else if(j.Q=="fcmy"||j.Q=="fvec"){if(j.L3==0)delete n.add[j.Q];
else n.add[j.Q]=j.L3;n.UF=!0}else if(j.Q=="pview"){n.zO=!n.zO;n.ge()}else if(j.Q==2){n.J$(j.gR);n.UF=!0}else if(j.Q==4){for(var v=0;
v<j.X.length;v++)n.Kj[j.X[v]].s.offset(j.k.x,j.k.y);n.UF=!0}else{var a=n.T[j.W];if(j.K4){a.YT=j.YT;n.K=j.zI;
N.mL.X1(n,j.W,0,0);a.ge()}else{N.mL.X1(n,j.W,j.zP.x,j.zP.y)}}};N.mL.prototype.a1x=function(j,n,Q,a){if(Q){var B=!0;
for(var v=0;v<Q.length;v++)if(Q[v]!=0)B=!1;if(B)return}var m=j.history[j.cD],R=this.hd,q=R!=null&&R[3]!=-1&&R[0]==j;
if(!q&&Q==null&&m.data&&m.I==this&&m.data.Q==0&&JSON.stringify(m.data.X)==JSON.stringify(this.hV)&&JSON.stringify(m.data.I4)==JSON.stringify(this.IH)){var U=m.data.TJ,l=m.data.ak9.Tu.T.v;
l.Hrzn.v.val+=n.x;l.Vrtc.v.val+=n.y;for(var v=0;v<U.length;v+=2){U[v]+=n.x;U[v+1]+=n.y}}else{if(n==null)n=new eE(Q[0],Q[1]);
var b={ep:"move",Tu:{classID:"null",null:f2.oA("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:n.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:n.y}}}}}},D=null;
if(q)D={Go:R[1],up:R[2],Wi:j.T.slice(0),ax:j.X.slice(0)};this.hd=null;var c=new ae(a?a:[12,54],this);
if(Q)c.data={Q:0,X:this.hV,I4:this.IH,X5:D,TJ:Q};else c.data={Q:0,X:this.hV,I4:this.IH,X5:D,TJ:N.mL.a8Y(this.hV,n.x,n.y)};
c.data.ak9=b;j.xr(c);this.track(b)}};N.mL.a8Y=function(j,n,Q){var a=[];for(var v=0;v<j.length;v++)a.push(n,Q);
return a};N.mL.$G=function(j,n,Q,a,B){N.mL.vE(j,n,Q,N.mL.a8Y(n,a,B))};N.mL.vE=function(j,n,Q,a,B){if(n.length==0)return;
if(Q==null){Q=[];for(var v=0;v<n.length;v++){Q.push(j.T[n[v]].$R(j,!0))}}var m=new b4,R=new b4(0,0,j.q,j._);
for(var v=0;v<n.length;v++){var q=a[2*v],U=a[2*v+1];if(B){q=-q;U=-U}var l=j.T[n[v]],b=Q[v];if(l.add.fxrp&&(b.indexOf(0)!=-1||l.Oi()))l.add.fxrp.offset(q,U);
for(var D=0;D<b.length;D++){var c=b[D];if(c==0){l.s.offset(q,U);if(l.FI()&&l.vG(j))l.vG(j).s.offset(q,U);
if(l.add.artb){var _=l.v_();_.offset(q,U);l.vn(_);var p=l.add.artb.guideIndeces;p=p?p.v:[];for(var X=0;
X<p.length;X++){var g=j.qO[p[X].v];g[1]+=g[0]==0?q:U}}if(l.add.TySh){l.add.TySh.C.translate(q,U);if(l.add.TySh.add){l.add.TySh.add.vmsk.offset(q,U)}}if(l.add.SoLd){var F=new j8(1,0,0,1,q,U),k=l.add.SoLd,I=N.IP.lw(k.Trnf),e=N.IP.lw(k.nonAffineTransform);
K.c.C(I,F,I);K.c.C(e,F,e);k.Trnf=N.IP.ob(I);k.nonAffineTransform=N.IP.ob(e);N.IP.a3o(k,F)}}if(c==1)l.sJ().s.offset(q,U);
if(c==2){l.add.vmsk.offset(q,U);if(l.add.vogk)K._y.C(l.add.vogk,[1,0,q,0,1,U,0,0],[]);if(l.xw.A7){var H=l.xw.A7.TI.g;
K.c.C(H,new j8(1,0,0,1,q,U),H)}}if(c==3){l.vG(j).N.s.offset(q,U);if(b.length==1)l.ge()}}if(b.length>0){var A=l.add.GdFl;
if(A==null)A=l.add.PtFl;if(l.Oi()&&!l.Rb()&&l.add.vmsk!=null&&K.R.Os(l.add.vmsk.z)&&l.add.vmsk.lF==255&&(A==null||A.Algn&&A.Algn.v)){l.s.offset(q,U)}else l.tI(j);
var Z=j.root.Jc(l.jL(j),j,n[v]);if(l.add.artb)Z=Z.d_(l.v_());m=m.d_(Z);Z.offset(-q,-U);m=m.d_(Z);if(l.iI()&&l.N&&l.N.color==255)m=m.d_(R);
l.aDF()}}j.ge(K.c.Fa(m))};N.mL.aum=function(j,n){var Q=[];for(var v=0;v<n.length;v++){var a=j.T[n[v]];
Q.push(a.$R(j))}return Q};N.mL.xP=function(j,n,Q){var a={g:[],rZ:[]},B=n.x+Q[0],m=n.y+Q[1];if(Q[2]!=1e9){a.rZ.push("M","L");
var R=m+n._;if(Q[4])a.g.push(Q[2],Math.min(m,R,Q[4][1]),Q[2],Math.max(m,R,Q[4][1]));else a.g.push(Q[2],m,Q[2],m+n._)}if(Q[3]!=1e9){a.rZ.push("M","L");
var q=B+n.q;if(Q[5])a.g.push(Math.min(B,q,Q[5][0]),Q[3],Math.max(B,q,Q[5][0]),Q[3]);else a.g.push(B,Q[3],q,Q[3])}if(a.g.length!=0){j.M.cs=a;
j.UF=!0}};N.mL.VJ=function(j,n,Q,a){var B=N.mL.a7I(j,[[n.x],[n.y]],Q,a);return new eE(n.x+B[0],n.y+B[1])};
N.mL.Fm=function(j,n,Q,a,B){var m=B==!0?1:.5,R=N.mL.a7I(j,[[n.x,n.x+Math.round(n.q*m),n.x+n.q],[n.y,n.y+Math.round(n._*m),n.y+n._]],Q,a);
return R};N.mL.a7I=function(j,n,Q,a){if(a==null)a=[!0,null,!0];var B=[0,0,1e9,1e9,null,null];if(!Q.xh)return B;
var m=K.u(n);for(var R=0;R<2;R++){var q=1e9,U=n[R],l=0,b=null;for(var D=0;D<U.length;D++){var c=N.mL.a8D(j,U[D],m[1-R][D],R,Q,a),_=c[0];
if(_!=1e9)m[R][D]=_;if(_!=1e9&&Math.abs(_-U[D])<Math.abs(q)){q=_-U[D];l=_;b=c[1]}}if(q!=1e9){B[R]=q;
B[R+2]=l;B[R+4]=b}}return B};N.mL.a8D=function(j,n,Q,a,B,m){var R=1e9,q=null,U=B.tW,l=B.c8,b=[j.root];
while(b.length!=0&&U[2]){var D=b.pop(),c=D.W,_=c.s;if(!c.VH())continue;if(D.children)for(var v=0;v<D.children.length;
v++)b.push(D.children[v]);if(j.X.indexOf(D.index)!=-1||_.ke())continue;var p=_.q,X=p>>>1,g=_._,F=g>>>1,k=R;
if(a==0){if(Math.abs(_.x-n)<Math.abs(R-n))R=_.x;if(Math.abs(_.x+X-n)<Math.abs(R-n))R=_.x+X;if(Math.abs(_.x+p-n)<Math.abs(R-n))R=_.x+p}else{if(Math.abs(_.y-n)<Math.abs(R-n))R=_.y;
if(Math.abs(_.y+F-n)<Math.abs(R-n))R=_.y+F;if(Math.abs(_.y+g-n)<Math.abs(R-n))R=_.y+g}if(k!=R){q=[_.x+X,_.y+F]}}var I=R;
R=1e9;if(m[0]&&U[0]&&l.qO&&B.rl){var e=j.qE(),H=e[0],A=e[1],Z=j.M5();for(var v=0;v<H.length;v++)if((A[v]==-1||A[v]==Z)&&H[v][0]==a&&Math.abs(H[v][1]-n)<Math.abs(R-n))R=H[v][1]}if(U[1]&&l.ip&&B.rl){var J=Math.round(K.Ai.hb(l.pq,j.Mp,j.q,l.EV));
if(a==1&&l.T0==1){var s=Q*.5*Math.sqrt(4/3),E;J*=Math.sqrt(4/3);E=Math.round((n-s)/J)*J+s;if(Math.abs(E-n)<Math.abs(R-n))R=E;
E=Math.round((n+s)/J)*J-s;if(Math.abs(E-n)<Math.abs(R-n))R=E}else{var E=Math.round(n/J)*J;if(Math.abs(E-n)<Math.abs(R-n))R=E}}var z=j.XZ;
if(U[3]&&l.XZ&&B.rl&&z.length!=0){for(var v=0;v<z.length;v++){if(!m[2]&&j.RL.indexOf(v)!=-1)continue;
var h=N.Ie.$O(z,v);for(var d=0;d<3;d+=2)if(h[d+a]!=n&&Math.abs(h[d+a]-n)<Math.abs(R-n))R=h[d+a]}}if(m[1])for(var Y=0;
Y<m[1].length;Y++){var _=m[1][Y],p=_.q,g=_._,X=p>>>1,F=g>>>1;if(m[3]){X=p/2;F=g/2}var C=[_.x,_.y,_.x+X,_.y+F,_.x+p,_.y+g];
for(var v=0;v<6;v+=2)if(Math.abs(C[v+a]-n)<Math.abs(R-n))R=C[v+a]}if(U[4]){var _=new b4(0,0,j.q,j._),Z=j.M5();
if(Z!=-1)_=j.T[Z].v_();var p=_.q,g=_._,X=p>>>1,F=g>>>1;if(m[3]){X=p/2;F=g/2}var C=[_.x,_.y,_.x+X,_.y+F,_.x+p,_.y+g];
for(var v=0;v<6;v+=2)if(Math.abs(C[v+a]-n)<Math.abs(R-n))R=C[v+a]}if(Math.abs(R-n)<=Math.abs(I-n))q=null;
else R=I;var i=Math.abs(R-n)<=4*N.lS()/j.e.yr?R:1e9;return[i,q]};N.wA=function(){N.NJ.call(this,[10,12],N.qC,"tools/mwand");
this.UX=null};N.wA.prototype=new N.NJ;N.wA.prototype.Vk=function(j,n,Q,a){this.UX=a;this.abG=this.ZO.wconf[0];
this.finish(j,n,Q,a)};N.wA.prototype.a5=function(j,n,Q,a,B){if(!a.vm)return;var m=new ar(x.E.A);m.I=N.jM;
m.data={Q:"h_stepbck"};B.a(m);var R=a.x-this.UX.x,q=Math.max(0,Math.min(255,Math.round(this.abG+R/4)));
this.ZO.wconf[0]=q;this.Zz(B);this.finish(j,n,Q,this.UX)};N.wA.prototype.mz=function(j,n,Q,a,B){this.ZO.wconf[0]=this.abG;
this.Zz(B)};N.wA.prototype.getSelection=function(j,n,Q,a){var B=this.yS;B=j.e.oR(a.x,a.y);var m=N.NJ.aBa(new eE(Math.floor(B.x),Math.floor(B.y)),this.ZO.wconf,this.ZO.sall);
return m};N.wA.ajY=function(j,n,Q,a,B){if(n.x<0||n.x>j.q||n.y<0||n.y>j._)return null;var m,R=new b4(0,0,j.q,j._);
if(a)m=j.rd();else{var q=j.X.length,l=null;if(q!=1){alert(q==0?"No layer selected.":"More than one layer selected.");
return null}var U=j.T[j.X[0]],b=U.s0<=0?null:U.s0==1?U.sJ():U.vG(j).N;if(B||b&&b.fa)l=b;if(l==null&&U.add.lsct!=null&&U.add.lsct!=fM.vP){alert("No layer selected.");
return null}if(l==null&&R.N_(U.s))m=U.buffer;else{m=K.U(R.$()*4);if(l==null)K.EC(U.buffer,U.s,m,R);else N.K6.Ee(l.G,l.s,l.color,m,R)}}var D=N.wA.fl(m,R,n,null,Q),c=K.eW(D,R),_=K.U(c.$());
K.Gc(D,R,_,c);return{s:c,G:_}};N.wA.Ak=function(j,n,Q){var a=n.q,B=n._,R=0,q=0,U=0,l=0;j=new Uint32Array(j.buffer);
var m=[],b=Q.length;for(var v=0;v<b;v++){var D=Q[v],c=Math.round(D.x-.5-n.x),_=Math.round(D.y-.5-n.y);
c=Math.max(0,Math.min(a-1,c));_=Math.max(0,Math.min(B-1,_));var p=_*a+c,X=j[p];m.push([X&255,X>>8&255,X>>16&255,X>>>24])}return m};
N.wA.fl=function(j,n,Q,a,B){j=new Uint32Array(j.buffer);var m=n.q,R=n._,q=m*R;if(a==null)a=N.wA.Ak(j,n,[Q]);
var U=Math.round(Q.x-.5-n.x),l=Math.round(Q.y-.5-n.y),b=l*m+U,D=Date.now(),c=K.U(m*R),_=B[0],p=1/_,X=B[1]&&_>0?255:0;
if(B[2]){var g=K.U(c.length),F=new Uint32Array(q),k=1;F[0]=U<<16|l;g[b]=1;while(k>0){var I=F[k-1];k--;
var e=I>>>16,H=I&65535,v=H*m+e,A=N.wA.kv(j[v],a);if(A>_){var Z=X*(1-Math.max(0,Math.min(1,(A-_)*p)));
c[v]=~~Z}else{c[v]=255;if(H!=R-1&&g[v+m]==0){F[k++]=e<<16|H+1;g[v+m]=1}if(H!=0&&g[v-m]==0){F[k++]=e<<16|H-1;
g[v-m]=1}if(e!=m-1&&g[v+1]==0){F[k++]=e+1<<16|H;g[v+1]=1}if(e!=0&&g[v-1]==0){F[k++]=e-1<<16|H;g[v-1]=1}}}}else{for(var v=0;
v<q;v++){var A=N.wA.kv(j[v],a);if(A<=_)c[v]=255}for(var H=0;H<R;H++)for(var e=0;e<m;e++){var v=H*m+e;
if(c[v]==0&&(e>0&&(c[v-1]==255||H>0&&c[v-m-1]==255||H<R-1&&c[v+m-1]==255)||e<m-1&&(c[v+1]==255||H>0&&c[v-m+1]==255||H<R-1&&c[v+m+1]==255)||H>0&&c[v-m]==255||H<R-1&&c[v+m]==255)){var A=N.wA.kv(j[v],a),Z=X*(1-Math.max(0,Math.min(1,(A-_)*p)));
c[v]=~~Z}}}return c};N.wA.kv=function(j,n){var Q=n.length,a=N.wA.aki(j,n[0]),v=1;while(v!=Q){a=Math.min(a,N.wA.aki(j,n[v]));
v++}return a};N.wA.aki=function(j,n){var Q=j&255,a=j>>>8&255,B=j>>>16&255,m=j>>>24&255;if(n[3]==0)return m<5?0:255;
var R=Math.max(Math.abs(Q-n[0]),Math.max(Math.abs(a-n[1]),Math.abs(B-n[2])));return m==0?255:R};N.yQ=function(j,n){if(n)N.K6.call(this);
else if(j)N.K6.call(this,[10,49],N.xW,"tools/camove");else N.K6.call(this,[10,26],N.A$,"tools/patch");
this.RV=null;this.A7=null;this.k=null;this.q8=null;this.AY=new eE;this.p5=null;this.l1=null};N.yQ.prototype=new N.K6;
N.yQ.prototype.v1=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y);if(j.K&&K.Zf(m,j.K.G,j.K.s)){var R=new b4(0,0,j.q,j._),q=R.uf(j.K.s);
if(!j.rV()||q.ke())return;if(!0){var U=K.U(q.$());K.Gc(j.K.G,j.K.s,U,q);j.K={G:U,s:q}}this.nK(j);this.$Q(j);
this.q8=m;this.AY=new eE(m.x-j.K.s.x,m.y-j.K.s.y);this.l1=K.U(j.K.s.$()*4);this.l1.fill(255);if(this.ZO.patch==1){var l=j.T[j.X[0]];
l.gQ(j,j.K,!0);if(l.YT==null)this.q8=null}this.p5=j.K.s.O()}else{this.A7={g:[m.x,m.y],rZ:["M"]};this.RV=m}};
N.yQ.prototype.Z3=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y);if(this.q8){if(this.ZO.patch==1){if(j.Yb.length==0){var R=j.T[j.X[0]].YT,q=m.x-this.AY.x,U=m.y-this.AY.y;
N.mL.X1(j,j.X[0],Math.round(q-R.tA.x),Math.round(U-R.tA.y))}}else this.aqo(j,m,"clone")}if(this.RV){this.A7.rZ.push("L");
this.A7.g.push(m.x,m.y);this.RV=m;j.M.RJ=this.A7;j.UF=!0}};N.yQ.prototype.pU=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y);
if(this.q8){var R=j.K.s.O();if(this.id==N.xW){var q=j.T[j.X[0]];q._V(j,q.YT);j.K.s=this.p5.O();var U=K.U(j.K.s.$()*4);
K.wj(j.K.G,U,3);this.oY(j,"sheal",U,j.K.s,j.K.s);j.K.s=R;R=R.d_(this.p5)}this.aqo(j,m,"heal");this.finish(j,R,null,null,!0);
j.ge(R);this.q8=null}if(this.RV){var l=N.NJ.PE(this.ZO.setop,a.r(i8.f8),a.r(i8.Y2)),b=new ar(x.E.X2,!0);
if(this.A7.g.length<=4)b.data=N.NJ.qy();else b.data=N.NJ.Kb(this.A7.g,l);n.a(b);this.RV=null;j.M.RJ=null;
j.UF=!0}};N.yQ.prototype.A9=function(){return this.k};N.yQ.prototype.UY=function(j,n,Q,a,B){N.K6.prototype.UY.call(this,j,n,Q,a,B);
this.FV(B,a)};N.yQ.prototype.FV=function(j,n){var Q="auto;";if(n!=null&&n.r(i8.f8)&&!n.r(i8.Y2)||this.ZO.setop=="union")Q="copy";
var a=new ar(x.E.B,!0);a.data={Q:x.l.w4,sz:Q};if(this.caller)this.caller.a(a)};N.yQ.prototype.aqo=function(j,n,Q){var a=new eE(Math.round(this.q8.x-n.x),Math.round(this.q8.y-n.y));
if(this.ZO.patch==1)a.OI(-a.x,-a.y);this.k=a;this.oY(j,Q,this.l1,j.K.s,j.K.s);this.ge(j,j.K.s)};N.ac_=function(){N.yQ.call(this,!0);
this.ZO.patch=1};N.ac_.prototype=new N.yQ(!0,!0);N.Ch=function(j){if(j)N.K6.call(this,[10,52],N.aH3,"tools/meraser");
else N.K6.call(this,[10,13],N.a6E,"tools/pbucket");this.Cr=!1;this.aq3=j};N.Ch.prototype=new N.K6;N.Ch.prototype.enable=function(j,n,Q,a){var B=new ar(x.E.B,!0);
B.data={Q:x.l.w4,sz:"default"};n.a(B)};N.Ch.prototype.sW=function(j,n){};N.Ch.prototype.v1=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B,!0))return;
this.Cr=!0};N.Ch.prototype.Z3=function(j,n,Q,a,B){if(this.Gx(j,n,Q,a,B))return};N.Ch.prototype.pU=function(j,n,Q,a,B,m){this.enable(j,n,Q,a);
var R=this.Cr;this.Cr=!1;if(!R||m)return;if(!j.rV())return;var q=j.e.oR(B.x,B.y),U=N.wA.ajY(j,q,this.ZO.wconf,this.ZO.sall,!0);
if(U==null)return;var l=K.U(U.s.$()*4);K.G5(l,(Q.Z4&255)<<16|(Q.Z4>>8&255)<<8|(Q.Z4>>16&255)<<0);K.wj(U.G,l,3);
this.nK(j);this.oY(j,this.aq3?"erase":"draw",l,U.s,U.s);this.ge(j,U.s);this.finish(j,U.s)};N.JV=function(){N.NJ.call(this,[10,14],N.aAd,"tools/plasso");
this.hU="crosshair";this.y9=[];this.Ox=null;this.A7=null;this.aI8=0};N.JV.prototype=new N.NJ;N.JV.prototype.disable=function(j,n,Q,a){this.ga(j)};
N.JV.prototype.Vk=function(j,n,Q,a){this.y9=[i8.Va,i8.Bo]};N.JV.prototype.qi=function(j){return this.y9.indexOf(j)!=-1};
N.JV.prototype.Oj=function(j){return this.A7!=null};N.JV.prototype.qI=function(){return this.A7!=null};
N.JV.prototype.Ys=function(){return this.A7!=null};N.JV.prototype.a5=function(j,n,Q,a){if(this.A7==null)return;
var B=this.A7,m=B.g,R=m.length-2,q=this.yS;if(this.OX._U(1)&&Q.r(i8.Y2)&&a.vm){m.push(0,0);B.rZ.push("L");
R+=2}else if(Q.r(i8.f8))q=N.$A.rY(new eE(m[R-2],m[R-1]),q);m[R]=q.x;m[R+1]=q.y;j.M.RJ=B;j.UF=!0};N.JV.prototype.mz=function(j,n,Q,a){var B=Date.now();
if(this.A7==null)this.A7={g:[this.yS.x,this.yS.y,this.yS.x,this.yS.y],rZ:["M","L"]};else{this.a5(j,n,Q,a);
if(B-this.aI8<250||eE.X_(this.yS,new eE(this.A7.g[0],this.A7.g[1]))<N.bE(j,a)){this.Ox=this.A7;this.finish(j,n,Q,a);
this.ga(j);return}this.A7.rZ.push("L");this.A7.g.push(this.yS.x,this.yS.y)}this.aI8=B;j.M.RJ=this.A7};
N.JV.prototype.ga=function(j){this.A7=null;this.y9=[];if(j!=null){j.M.RJ=null;j.UF=!0}};N.JV.prototype.hs=function(j,n,Q,a){N.NJ.prototype.hs.call(this,j,n,Q,a);
if(a.r(i8.tf)&&this.A7==null&&this.Ox&&j.K!=null){var B=new ar(x.E.A);B.I=N.jM;B.data={Q:"h_stepbck"};
n.a(B);this.Vk(j,Q,a,null);this.A7=this.Ox;return}if(this.A7==null)return;if(a.r(i8.Va)||a.r(i8.Bo)){this.A7.g.pop();
this.A7.g.pop();this.A7.rZ.pop();this.a5(j,Q,a)}if(a.r(i8.mI)){if(this.A7.g.length>4){this.Ox=this.A7;
this.finish(j,Q,a)}this.A7=null}if(a.r(i8.tf)){this.A7=null}j.M.RJ=this.A7;j.UF=!0};N.JV.prototype.getSelection=function(j,n,Q,a){return N.NJ.Kb(this.A7.g,null,this.ZO.anta)};
N.oJ=function(){N.NJ.call(this,[10,10],N.ah3,"tools/mlasso");this.hU="crosshair";this.y9=[];this.z=[];
this.e6=[];this.Gk=[];this.arU=null;this.agJ=0;this.tT=null;this.Mk=null;this.g6=0;this.DM=0};N.oJ.prototype=new N.NJ;
N.oJ.prototype.disable=function(j,n,Q,a){this.clear(j)};N.oJ.prototype.Oj=function(j){return this.z.length!=0};
N.oJ.prototype.Ys=function(){return this.z.length!=0};N.oJ.prototype.qi=function(j){return this.y9.indexOf(j)!=-1};
N.oJ.prototype.Vk=function(j,n,Q,a){this.y9=[i8.Va,i8.Bo];var B=this.oU(this.aA,j);if(this.z.length!=0&&(eE.X_(B,this.z[0])<N.bE(j,a)||Date.now()-this.g6<300)){this.n6(j,this.z[0]);
this.finish(j,n,Q);this.clear(j);return}this.g6=Date.now();if(this.z.length!=0)B=this.A4(B,j);else{var m=j.q,R=j._,q=j.rd(),U=UZIP.adler(q,0,q.length);
if(U==this.agJ){}else{var l=K.U(m*R),b=m*R*4;for(var v=0;v<b;v+=4)l[v>>>2]=~~(.5+K.bC(q[v],q[v+1],q[v+2])*(q[v+3]*(1/255)));
this.arU=K.pJ.anc(l,m,R);this.agJ=U}this.Mk=new Uint16Array(m*R)}this.n6(j,B);this.DM=Q.r(i8.Y2)?1:0;
this._J(j)};N.oJ.prototype.n6=function(j,n){var Q=this.z;this.e6[Q.length]=this.Gk.length;if(Q.length!=0){K.pJ.mK(this.tT,n.y*j.q+n.x);
var a=this.oa(j,n);a.reverse();var B=N.oJ.aD3(j,a);this.Gk=this.Gk.concat(B)}Q.push(n);this.aeo(j)};
N.oJ.prototype.aeo=function(j){var n=this.z[this.z.length-1],Q=n.y*j.q+n.x;this.tT=K.pJ.aGH(this.arU,Q,j.q,j._);
this.Mk.fill(0)};N.oJ.prototype.oU=function(j,n){return new eE(Math.floor(Math.max(0,Math.min(n.q-1,j.x))),Math.floor(Math.max(0,Math.min(n._-1,j.y))))};
N.oJ.prototype.clear=function(j){this.Gk=[];this.z=[];this.e6=[];this.tT=null;this.Mk=null;if(j!=null){j.M.RJ=null;
j.M.oi=[];j.UF=!0}this.y9=[]};N.oJ.prototype.a5=function(j,n,Q,a){var B=this.z,m=B.length;if(m==0)return;
var R=this.A4(this.oU(this.yS,j),j),q=this.oa(j,R);for(var v=0;v<q.length;v++){var U=q[v],l=new eE(U%j.q,Math.floor(U/j.q));
if(this.Mk[U]>30&&eE.X_(l,B[m-1])>20){this.n6(j,l);return}this.Mk[U]++}if(this.DM==1&&a.vm)this.n6(j,R);
this._J(j)};N.oJ.prototype._J=function(j){var n=this.z;if(n.length!=0){var Q=this.A4(this.oU(this.yS,j),j),a=this.oa(j,Q);
a.reverse();var B=N.oJ.aD3(j,a),m=this.Gk.concat(B),R=j.M.RJ={g:m,rZ:["M"]};for(var v=2;v<m.length;v+=2)R.rZ.push("L")}j.M.oi=[];
for(var v=0;v<n.length;v++)j.M.oi.push(n[v].x+.5,n[v].y+.5);j.UF=!0};N.oJ.prototype.mz=function(j,n,Q,a){};
N.oJ.prototype.hs=function(j,n,Q,a){if(this.z.length==0)return;if(a.r(i8.Va)||a.r(i8.Bo)){this.z.pop();
this.Gk=this.Gk.slice(0,this.e6[this.z.length]);this.e6.pop();if(this.z.length==0)this.clear(j);else this.aeo(j);
this._J(j)}if(a.r(i8.mI)){var B=this.oU(this.yS,j);this.n6(j,B);this.finish(j,Q,a);this.clear(j)}if(a.r(i8.tf)){this.clear(j)}};
N.oJ.prototype.getSelection=function(j,n,Q,a){return N.NJ.Kb(this.Gk,null,this.ZO.anta)};N.oJ.prototype.oa=function(j,n){var Q=this.z[this.z.length-1],a=Q.y*j.q+Q.x,B=n.y*j.q+n.x;
if(this.DM==1)return[B,a];var m=[B];while(B!=a){B=B+this.tT.mS[B];m.push(B);if(m.length>5e3){console.log(m);
throw"e"}}return m};N.oJ.aD3=function(j,n){var Q=[],a=j.q;for(var v=0;v<n.length;v++){var B=n[v];Q.push(B%a+.5,Math.floor(B/a)+.5)}return Q};
N.oJ.prototype.A4=function(j,n){var Q=n.q,a=n._,B=j.O(),R=3;K.pJ.mK(this.tT,j.y*Q+j.x);var m=this.tT.gf[j.y*Q+j.x];
for(var q=-R+1;q<R;q++)for(var U=-R+1;U<R;U++){var l=j.x+U,b=j.y+q;if(l<0||l>=Q||b<0||b>=a)continue;
K.pJ.mK(this.tT,b*Q+l);if(this.tT.gf[b*Q+l]<m)B.OI(l,b)}return B};N.gx=function(){N.wU.call(this,[10,36],N.Pq,"tools/ruler");
this.aX=null;this.eA=null;this.cc=null;this.VA=null;this.yz=null};N.gx.prototype=new N.wU;N.gx.prototype.Oj=function(j){return j.vm};
N.gx.prototype.enable=function(j,n,Q,a){N.wU.prototype.enable.call(this,j,n,a,Q);if(j){this.UE(j)}};
N.gx.prototype.disable=function(j,n,Q,a){if(j)this.ga(j)};N.gx.prototype.JQ=function(j,n,Q,a,B){if(j.Q=="unit"){var m=this.aX,R=j.J;
Q.tp={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:R[0]},logicalLength:{t:"doub",v:R[1]},logicalUnits:{t:"TEXT",v:R[2]}}}};
this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,Fe:m[0],$M:m[1],iC:m[2],Mp:Q.Mp,a47:Q.q,tp:Q.tp})}if(j.Q=="reset"){this.aX=this.cc=null;
this.UE(Q)}};N.gx.prototype.v1=function(j,n,Q,a,B){var m=N.bE(j,B),R=j.e.oR(B.x,B.y);R.x=Math.round(R.x);
R.y=Math.round(R.y);var q=this.aX;this.eA=q?q.slice(0):null;var U=q&&eE.X_(R,q[0])<m,l=q&&eE.X_(R,q[1])<m,b=q&&q[2]&&eE.X_(R,q[2])<m;
if(U||l||b){if(a.r(i8.Y2)&&q.length==2){if(l){var D=q[0];q[0]=q[1];q[1]=D}q[2]=q[0].O();this.cc=[2]}else this.cc=[U?0:l?1:2]}else if(q&&N.gx.atf(q[0],q[1],R)<m&&Math.min(q[0].x,q[1].x)-5<=R.x&&R.x<=Math.max(q[0].x,q[1].x)+5&&Math.min(q[0].y,q[1].y)-5<=R.y&&R.y<=Math.max(q[0].y,q[1].y)+5){this.cc=[];
this.yz=[];for(var v=0;v<q.length;v++){this.cc.push(v);this.yz.push(q[v].O())}this.VA=R}else{this.aX=[R.O(),R.O()];
this.cc=[1]}};N.gx.prototype.Z3=function(j,n,Q,a,B){if(this.cc==null)return;var m=this.aX,R=this.cc,q=j.e.oR(B.x,B.y);
q.x=Math.round(q.x);q.y=Math.round(q.y);if(R.length>1){var U=q.x-this.VA.x,l=q.y-this.VA.y;for(var v=0;
v<m.length;v++){m[v]=this.yz[v].O();m[v].offset(U,l)}}else{m[R[0]].OI(q.x,q.y);if(a.r(i8.f8)){m[R[0]]=N.$A.rY(m[1-R[0]],m[R[0]])}}this.UE(j);
this.tL(n,x.E.B,{Q:x.l.nz,I:this.id,Fe:m[0],$M:m[1],iC:m[2],Mp:j.Mp,a47:j.q,tp:j.tp});j.e.Dg=K.c.so([m[0].x,m[0].y,m[1].x,m[1].y])};
N.gx.prototype.pU=function(j,n,Q,a,B,m){this.cc=null;if(m){this.aX=this.eA.slice(0);this.UE(j)}};N.gx.prototype.tL=function(j,n,Q){var a=new ar(n,!0);
a.data=Q;j.a(a)};N.gx.prototype.UE=function(j){var n=this.aX;if(n==null)this.ga(j);else{var Q=[n[1].x,n[1].y,n[0].x,n[0].y],a=["M","L"];
if(n.length>2){Q.push(n[2].x,n[2].y);a.push("L")}j.M.RJ={rZ:a,g:Q};j.M.oi=Q}j.UF=!0};N.gx.prototype.ga=function(j){j.M.RJ=null;
j.M.oi=[]};N.gx.atf=function(j,n,Q){var a=n.x-j.x,B=n.y-j.y,m=Math.abs(B*Q.x-a*Q.y+n.x*j.y-n.y*j.x),R=Math.sqrt(a*a+B*B);
return R==0?0:m/R};N.SP=function(){N.K6.call(this,[10,19],N.nx,"tools/sharpen");this.wm="copy"};N.SP.prototype=new N.K6;
N.SP.prototype.v1=function(j,n,Q,a,B){var m=this.ZO.pdetail?jm.Be:jm.nx;if(a.r(i8.Y2))m=jm.YL;this.pz(j,Q,a,B,this.ZO.strn,m);
if(this.Zq==null)return;this.Xb(j)};N.SP.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);
if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};N.ac=function(){N.K6.call(this,[10,24],N.Ir,"tools/shbrush");
this.wm="draw";this.ZO.opacity=.5};N.ac.prototype=new N.K6;N.ac.prototype.v1=function(j,n,Q,a,B){this.pz(j,Q,a,B,1);
if(this.Zq==null)return;this.$Q(j);this.Xb(j)};N.ac.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);
if(this.dw)this.I0(j,Q,B);if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};N.ac.prototype.pU=function(j,n,Q,a,B){if(this.Zq==null)return;
this.oY(j,"sheal",this.Zq.P$(),this.Zq.uI(),this.Zq.Eg(),null);this.ge(j,this.Zq.Eg());N.K6.prototype.pU.call(this,j,n,Q,a,B)};
N.sx=function(){N.K6.call(this,[10,20],N.jf,"tools/smudge");this.wm="copy"};N.sx.prototype=new N.K6;
N.sx.prototype.v1=function(j,n,Q,a,B){var m=this.ZO.brush.toolOptions;this.pz(j,Q,a,B,this.ZO.strn,jm.jf);
if(this.Zq==null)return;this.Xb(j)};N.sx.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);
if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};N.ui=function(){N.K6.call(this,[10,23],N.Pm,"tools/sponge");
this.wm="sponge"};N.ui.prototype=new N.K6;N.ui.prototype.v1=function(j,n,Q,a,B){this.pz(j,Q,a,B,this.ZO.flow);
if(this.Zq==null)return;this.Xb(j)};N.ui.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);if(this.dw)this.I0(j,Q,B);
if(this.Zq==null)return;if(!B.vm)return;this.ru(j,Q,a,B);this.Xb(j)};N.EZ=function(){N.wU.call(this,[10,17],N.yx,"tools/zoom");
this.m2=!1;this.cC=!0;this.jU=!1;this.G7=0;this.SO=null;this.Yx=null;this.fo=0;this.Xp=null;this.aAV=0;
this.ES=new ig([{name:[8,0],Ha:"Ctrl + +"},{name:[8,1],Ha:"Ctrl + -",Kl:!0},{name:[20,3],Ha:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Ha:"Ctrl + 1"}],[{o:x.E.A,I:N.yx,h:{Q:"zoom",cC:!0}},{o:x.E.A,I:N.yx,h:{Q:"zoom",cC:!1}},{o:x.E.A,I:N.yx,h:{Q:"adapt",J:"fitscr"}},{o:x.E.A,I:N.yx,h:{Q:"adapt",J:"pixel"}}])};
N.EZ.prototype=new N.wU;N.EZ.prototype.mZ=function(j,n,Q,a,B){var m=this.ES;m.S();m.parent=n;m.update(j,Q);
var R=new ar(x.E.B,!0);R.data={Q:x.l.Ix,cB:m,x:B.vr+2,y:B.Bk+1};n.a(R)};N.EZ.prototype.enable=function(j,n,Q,a){this.ZI(n,a);
if(j&&Date.now()-this.G7<300)this.JQ({Q:"adapt",J:"pixel"},n,j,a,Q);this.G7=Date.now()};N.EZ.prototype.v1=function(j,n,Q,a,B){this.Yx=new eE(B.x,B.y);
this.fo=j.e.yr;this.Xp=j.e.k.O()};N.EZ.prototype.Z3=function(j,n,Q,a,B){if(this.Yx==null)return;var m=Math.exp(Math.log(this.fo)+(B.x-this.Yx.x)/64);
m=Math.max(.02,Math.min(N.EZ.HH[0],m));j.e.yr=this.fo;j.e.k=this.Xp.O();this.JQ({Q:"zoom",yr:m,kC:this.Yx,jU:this.jU},n,j,a,Q)};
N.EZ.prototype.pU=function(j,n,Q,a,B){if(eE.X_(this.Yx,B)<4){var m=this.aF2(a);this.JQ({Q:"zoom",cC:m,kC:B,jU:this.jU},n,j,a,Q)}this.Yx=null};
N.EZ.HH=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
N.EZ.jJ=function(j,n,Q,a){var B=1;while(j*B*1/2>Q||n*B*1/2>a)B*=1/2;if(j*B*2/3>Q||n*B*2/3>a)B*=1/2;else if(j*B>Q||n*B>a)B*=2/3;
return B};N.EZ.a4Y=function(j,n){var Q=N.EZ.agU(j);if(n&&Q==0)return j;if(!n&&Q==N.EZ.HH.length-1)return j;
return N.EZ.HH[n?Q-1:Q+1]};N.EZ.agU=function(j){var n=0;while(N.EZ.HH[n]>j)n++;return n};N.EZ.oV=function(j,n,Q,a){var B=j.uM;
if(a==0||a==null){a=N.EZ.a4Y(j.yr,Q);if(a==j.yr)return}var m=j.oR(n.x,n.y);m.x=Math.max(0,Math.min(B.q,m.x));
m.y=Math.max(0,Math.min(B._,m.y));if(!1){}else{var R=j.Q2(),q=j.yr/a;R.translate(-m.x,-m.y);R.scale(q,q);
R.translate(m.x,m.y);j.ahn(R)}};N.EZ.prototype.JQ=function(j,n,Q,a,B){if(j.Q=="pzoom"){if(typeof j.J=="string")return;
j={Q:"zoom",yr:j.J/100}}if(j.Q=="prvw"){Q.add.prvw=1-Q.add.prvw;Q.UF=!0}var m=0,R=!1,q=null;if(j.Q=="adapt"){var U=0;
if(j.J=="pixel")U=1;if(j.J=="fitscr"){var U=0,l=Q.e.C5.q,b=Q.e.C5._,D=new b4(0,0,Q.q,Q._),c=K.c.yc(D).g,_=new j8;
_.rotate(Q.e.c6);K.c.C(c,_,c);var p=K.c.Tv(c),X=B.LB?K.Ai.ni+4:8;U=Math.min((l-X*2)/p.q,(b-X*2)/p._);
Q.e.k.OI(0,0)}q=new eE(Math.round(Q.e.C5.q/2),Math.round(Q.e.C5._/2));m=U;N.EZ.oV(Q.e,q,R,m);Q.Xx=!0}if(j.Q.startsWith("multi")){function g(Y){var $=Y[0].x-Y[1].x,P=Y[0].y-Y[1].y;
return Math.sqrt($*$+P*P)}function F(Y){return new eE((Y[0].x+Y[1].x)/2,(Y[0].y+Y[1].y)/2)}function k(Y){var $=Y[0].x-Y[1].x,P=Y[0].y-Y[1].y;
return Math.atan2(P,$)}var I=j.LN,e=F(I);if(j.Q=="multidown"){this.SO=[I,Q.e.yr,Q.e.oR(e.x,e.y),Q.e.c6]}else{var H=N.EZ.HH;
m=this.SO[1]*g(I)/g(this.SO[0]);m=Math.max(H[H.length-1],Math.min(H[0],m));if(m!=Q.e.yr)N.EZ.oV(Q.e,e,R,m);
var A=this.SO[2],Z=Q.e.Vh(A.x,A.y),J=Q.e.k;J.x=Math.round(J.x+e.x-Z.x);J.y=Math.round(J.y+e.y-Z.y);var s=this.SO[3]+(k(I)-k(this.SO[0])),E=2*Math.PI,z=[0,E/4,E/2,E*3/4,E];
while(s<0)s+=E;s=s%E;for(var v=0;v<z.length;v++)if(Math.abs(s-z[v])<.05){s=z[v];break}Q.e.c6=s;Q.Xx=!0}}if(j.Q=="scroll"){q=j.kC;
var H=N.EZ.HH,h=j.Sf.y,d=1+Math.abs(h)*8e-4*(j.atn?10:1);if(h>0)d=1/d;m=Q.e.yr*d;N.EZ.oV(Q.e,q,R,Math.min(H[0],Math.max(H[H.length-1],m)));
Q.Xx=!0}if(j.Q=="zoom"){var Y=j.jU?n.pB:[Q];for(var v=0;v<Y.length;v++){var C=Y[v],i=C.e;q=j.kC?j.kC:new eE(Math.round(i.C5.q/2),Math.round(i.C5._/2));
if(j.yr!=null)m=j.yr;else R=j.cC;N.EZ.oV(i,q,R,m);C.Xx=!0}}if(j.Q=="mskView"){var M=Q.T[Q.X[0]];if(M.s0<=0){M.s0=1;
Q.LD=!0}var W=M.s0==3?M.vG(Q).N:M.sJ();if(j.J==0){Q.e.Y=[1,1,1];W.fa=!1}if(j.J==1){Q.e.Y=[1,1,1];W.fa=!0}if(j.J==2){Q.e.Y=[0,0,0];
W.fa=!0}for(var v=0;v<Q.Kj.length;v++)Q.Kj[v].fa=!1;Q.Yb=[];Q.UF=!0}};N.EZ.prototype.hs=function(j,n,Q,a){if(this.m2!=a.r(i8.Y2)){this.m2=a.r(i8.Y2);
var B={Q:x.l.nz,I:this.id,m2:this.m2},m=new ar(x.E.B,!0);m.data=B;n.a(m);this.ZI(n,a)}};N.EZ.prototype.ZI=function(j,n){var Q=new ar(x.E.B,!0),a=this.aF2(n);
Q.data={Q:x.l.w4,sz:a?"zoom-in":"zoom-out"};j.a(Q)};N.EZ.prototype.UY=function(j,n,Q,a){this.cC=j.cC;
this.jU=j.jU;this.ZI(n,a)};N.EZ.prototype.aF2=function(j){var n=this.cC;if(j.r(i8.Wc)&&j.r(i8.Gm))n=!0;
if(this.m2)n=!n;return n};N.EZ.aA3=function(j,n){if(j.r(i8.Vm)||j.r(i8.a4J)){n.I=N.yx;n.data={Q:"zoom",cC:!0}}if(j.r(i8.ZH)){n.I=N.yx;
n.data={Q:"zoom",cC:!1}}if(j.r(i8.Pa)){n.I=N.yx;n.data={Q:"adapt",J:"fitscr"}}if(j.r(i8.aG)){n.I=N.yx;
n.data={Q:"adapt",J:"pixel"}}};N._I=function(j,n,Q){N.wU.call(this,j,n,Q);this.uM=null;this.H=null;this.xo=null;
this.awm=0};N._I.prototype=new N.wU;N._I.RF=function(j,n){var Q={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},a=j==null?{classID:"null",null:Q,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:Q,Usng:{t:"type",v:{classID:j}},__name:"Stroke"};
if(n)a.Prs={t:"bool",v:!0};return{ep:j==null?"fill":"stroke",Tu:a}};N._I.iF=function(v){var j={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},a;
if(v==3){var n=f2.oA("Lyr",!0);n.v.unshift(j);return{ep:"delete",Tu:{classID:"Dlt",null:n}}}var n=f2.oA("Path"),Q={t:"obj ",v:[j]};
if(v<2)a={t:"enum",v:{vectorMaskEnabled:v==0?"RvlA":"HdAl"}};else a=f2.oA("Path",!0);return{ep:"make",Tu:{classID:"Mk",null:n,At:Q,Usng:a}}};
N._I.prototype.enable=function(j,n,Q,a,B){this.H=Q;var m=new ar(x.E.B,!0);m.data={Q:x.l.w4,sz:"default"};
n.a(m)};N._I.prototype.mZ=function(j,n,Q,a,B){var m=j.H9(),R=m[0],q=m[1];if(q.length==0)return;var U=R[q[0]],l=U.add.vmsk,b=j.e.oR(B.x,B.y),D=4*N.lS()/j.e.yr,c=new b4(b.x-D,b.y-D,D*2,D*2),_=K.R.IY(l.z,c)[0];
if(_.length!=0){l.eF=_;j.UF=!0}var p=K.R.Zf(l.z,b).cb;if(p!=-1){l.X=[p];j.UF=!0}var X=new ar(x.E.B,!0);
X.data={Q:x.l.nz,I:this.id,xZ:B,Xz:j,H:Q};n.a(X)};N._I.prototype.agI=function(j,n){var Q=new ar(x.E.B,!0);
Q.data={Q:x.l.m6,_X:b3.fM};if(!n.rl)j.a(Q);Q.data={Q:x.l.m6,_X:b3.GW};if(!n.c8.AZ)j.a(Q)};N._I.prototype.lc=function(j,n,Q,a,B){if([N.hp,N.a8,N.xD,N.MS,N.Zp].indexOf(this.id)!=-1)N.wU.ax$.call(this,j,n,Q,a);
if(j==null)return;if(Q.Ce!=this.id&&B==null)return;if(j.X.length==0)return;var m=j.T[j.X[0]],R=m.add.vmsk,q=m.add.vstk;
if(fL==0){var U=g8.GT(m.add);this.uM=j;this.xo=n;if(m.Oi()&&R!=null&&(JSON.stringify(q)!=JSON.stringify(Q.mE)||JSON.stringify(U)!=JSON.stringify(Q.hX))){this.awm=Date.now();
var l=new ar(x.E.B,!0);l.data={Q:x.l.m6,_X:b3.Cj,J:U};n.a(l);l.data={Q:x.l.m6,_X:b3.YB,J:q};n.a(l)}}else{var b=null;
for(var v=0;v<j.X.length;v++){var m=j.T[j.X[v]],D=m.add.vstl;if(D==null)continue;if(b==null)b=K.u(D);
else{for(var c in D){if(b[c]==null)continue;if(D[c]==D.tY){if(JSON.stringify(D[c])!=JSON.stringify(b[c]))delete b[c]}else if(D[c]==D.vg){if(JSON.stringify(D[c])!=JSON.stringify(b[c]))delete b[c]}else if(D[c]!=b[c])delete b[c]}}}if(b==null)return;
var _=JSON.stringify(b);if(_!=JSON.stringify(Q.no)){var l=new ar(x.E.B,!0);l.data={Q:x.l.m6,_X:b3.gl,J:b};
n.a(l)}}};N._I.prototype.sW=function(j,n){if(n==b3.hl||n==b3.Od)this.lc(null,null,j,null);if(this.uM==null)return;
if(n==b3.Od||n==b3.Cj||n==b3.YB){if(Date.now()-this.awm<50)return;var Q=n==b3.Cj,a=this.uM,B=Q?j.hX:j.mE,m=[],R=a.X;
for(var v=0;v<R.length;v++){var q=R[v],U=a.T[q];if(!U.Oi()||U.add.vmsk==null)continue;m.push(q)}var l=new ar(x.E.A,!0);
l.I=N.ir;l.data={Q:f.te,ia:m,xl:Q,J:B};if(m.length!=0)this.xo.a(l)}};N._I.prototype.aek=function(j){if(typeof j=="number"){var n=new ar(x.E.X2,!0);
n.data=N.Ma.UZ(0);n.data.Tu.Usng.v.Type.v.Clr.v=K.Gp.Db({n:j>>>16&255,i:j>>>8&255,b:j>>>0&255});this.xo.a(n)}};
N._I.prototype.JQ=function(j,n,Q,a,B){this.xo=n;if(j.Q=="newfill"){if(j.m_==0){var m=new ar(x.E.B,!0);
m.data={Q:x.l.Vg,Z8:"colorpicker",Cx:B.Z4,CP:this.aek.bind(this)};n.a(m)}}else if(j.Q=="smplp"){if(Q==null)return;
var R=Q.H9(),q=R[0],U=R[1];if(U.length==0){alert("No paths selected");return}var l=q[U[0]];if(l.add.vmsk.X.length<=0){alert("No paths selected");
return}if(this.x9==null){this.x9=l.add.vmsk.O();this.It=JSON.stringify(l.add.vogk);this.A7=l;this.uM=Q}var m=new ar(x.E.B,!0);
m.data={Q:x.l.Vg,Z8:"simplifypath",Xo:100,yI:this.aaW.bind(this)};n.a(m)}else if(j.Q=="pathedit"){var b=j.BO,D="",c=Q.AZ.slice(0),_=Q.VF.slice(0),p=Q.AZ.slice(0),X=Q.VF.slice(0);
if(b=="rnm"){var g=-1-j.cb,F=c[g],k=hs.Nt(j.name,F.add);if(g!=0)p[g]=k;else{X=[p.length];p.push(k);p[0]=hs.Nt("Work Path")}D="Rename"}else if(b=="new"){var k=hs.Nt("Path "+c.length);
if(j.TI)k=j.TI;if(j.asG){var R=Q.H9(),q=R[0],U=R[1],I=q[U[0]];k.add.vmsk=I.add.vmsk.O();k.add.vogk=K.u(I.add.vogk);
if(I.cb==-1){var e=p[X[0]]=hs.Nt("Path "+c.length);e.name=I.name;e.cb=I.cb}}p.push(k);X=[p.length-1];
D="New"}else if(b=="del"){if(Q.fO&&Q.fO.length!=0){var m=new ar(x.E.X2,!0);m.data=N._I.iF(3);n.a(m)}if(X.length==0)return;
X.sort(function(d,r){return d-r});if(X[0]==0){p[0]=hs.Nt(c[0].name);X=X.slice(1)}var H=0;while(X.length!=0){p.splice(X[0]-H,1);
X=X.slice(1);H++}D="Delete"}else if(b=="fromsel"){var l=p[0]=hs.Nt("Work Path");X=[0];if(Q.K==null)return;
var A=Q.K.G.slice(0);for(var v=0;v<A.length;v++)A[v]=A[v]>128?2:1;var Z=Q.K.s.O();Z.VT(1,1);var J=K.U(Z.$());
K.Gc(A,Q.K.s,J,Z);var s=cc.p2(J,Z.q,Z._,Math.round(Z.$()*2e-5)),q=cc.H9(s),E=new j8(1,0,0,1,-1+Q.K.s.x,-1+Q.K.s.y);
for(var v=0;v<q.length;v++)K.c.C(q[v].path.g,E,q[v].path.g);for(var v=0;v<q.length;v++){var z=q[v];if(z.color==1&&z.parent==-1)continue;
var h=K.c.TW(q[v].path,!1);h[2].H_=0;l.add.vmsk.z=l.add.vmsk.z.concat(h.slice(2))}l.add.vogk=f.sU(l.add.vmsk.z);
D="Selection to"}var d=new ae(D+" Path",this);d.data={eA:c,Ln:_,aiL:p,RH:X};if(b=="fromsel"){d.data.bX=Q.K;
d.data.zI=null}Q.xr(d);this.pk(d.data,Q)}else{var Y=j.ID,R=Q.H9(j.Q=="append"||j.Q=="fromAction"),q=R[0],U=R[1],l=q[U[0]],C=l.add.vmsk,i=l.add.vogk,M=C.O(),W=C.O(),$=JSON.stringify(i);
if(j.Q=="fromAction"){var P=j.bm,O=P.ep,G=P.Tu,t=G.T;if(O=="set"){if(t){i=[K._y.QC(t,Q.q,Q._)];W.z.push({w:0,H_:1,length:0});
K._y.IA(i,W);Y=[12,76,0]}else throw G}else if(O=="draw"){i=[K._y.QC(G.Shp,Q.q,Q._)];W.z.push({w:0,H_:1,length:0});
K._y.IA(i,W);N._I.aws(W.z,G.AntA.v,B.Z4,n);return}else throw O}else if(j.Q=="remove"){if(j.wI&&W.eF.length!=0){W.z=K.R.afS(W.z,W.eF,i,j.a70);
var y=K.R.$L(W.z);for(var v=0;v<W.X.length;v++)if(W.X[v]>=y){W.X.splice(v,1);v--}W.eF=[];Y="Delete Anchors"}else{if(W.X.length==0)return;
var H=0;for(var v=0;v<W.X.length;v++){i.splice(W.X[v]+H,1);H--}W.z=K.R.a7j(W.z,W.X);W.X=[];W.eF=[];if(Y==null)Y="Delete Paths"}}if(j.Q=="append"){N._I.W1(j.an4,W,i)}this.OF(Q,l.cb,W,i);
this.Hu(Q,Y,l.cb,M,W.O(),null,$,JSON.stringify(i))}};N._I.aws=function(j,n,Q,a){var B=new f.hx;B.z=B.z.concat(j.slice(2));
var m=B.sJ();if(!n)K.round(m.G);var R=K.U(m.s.$()*4);K.G5(R,(Q&255)<<16|(Q>>8&255)<<8|(Q>>16&255)<<0);
K.wj(m.G,R,3);var q=new ar(x.E.A,!0);q.I=N.o9;q.data={Q:"draw",vT:{buffer:R,s:m.s.O()},ID:this.name};
a.a(q)};N._I.ev=function(j,n){var Q=K.R.asu(j.z,j.X),a=[];for(var v=0;v<j.X.length;v++)a.push(K.u(n[j.X[v]]));
return[Q,a]};N._I.W1=function(j,n,Q){var a=K.R.$L(n.z),B=K.R.$L(j[0]);n.z=n.z.concat(j[0].slice(2));
n.X=[];for(var v=0;v<B;v++)n.X.push(a+v);for(var v=0;v<B;v++)Q.push(K.u(j[1][v]))};N._I.prototype.qi=function(j,n){if(n==null)return!1;
var Q=n.H9(),a=Q[0],B=Q[1];if(B.length==0)return!1;var m=a[B[0]],R=m.add.vmsk;if(R&&R.X.length+R.eF.length!=0)return[i8.Va,i8.Bo].indexOf(j)!=-1};
N._I.prototype.hs=function(j,n,Q,a){if(j==null)return;var B=j.H9(),m=B[0],R=B[1];if(R.length==0)return;
var q=m[R[0]],U=q.add.vmsk;if(a.r(i8.tf)||a.r(i8.mI)||this.id==N.qB&&a.r(i8.O$)&&U.eF.length==1){U.eF=[];
j.UF=!0}if(U.X.length!=0){var l=a.su(j?j.e.c6:0);if(l.x!=0||l.y!=0){var b=U.O(),D=U.O(),c=new j8(1,0,0,1,l.x,l.y),_=q.add.vogk,p=JSON.stringify(_);
if(a.r(i8.Y2)){var X=N._I.ev(D,_);N._I.W1(X,D,_)}K.R.fK(D.z,c,D.X);K._y.C(_,K.D.UN(c),D.X);this.OF(j,q.cb,D,_);
this.Hu(j,"Move Paths",q.cb,b,D.O(),!0,p,JSON.stringify(_))}if(a.r(i8.Va)||a.r(i8.Bo))this.JQ({Q:"remove",wI:this.id==N.qB},n,j,a,Q)}};
N._I.prototype.Hu=function(j,n,Q,a,B,m,R,q){var U=new ae(n,this);U.data={d0:Q,mA:a,wp:B,aC$:m,ak4:R,Yw:q};
j.xr(U)};N._I.prototype.pk=function(j,n){if(j.d0!=null)this.OF(n,j.d0,j.wp.O(),JSON.parse(j.Yw));else{n.AZ=j.aiL.slice(0);
n.VF=j.RH.slice(0);n.UF=n.LD=!0}if(j.bX||j.zI){n.K=j.zI;n.Lg=!0}};N._I.prototype.X7=function(j,n){if(j.d0!=null)this.OF(n,j.d0,j.mA.O(),JSON.parse(j.ak4));
else{n.AZ=j.eA.slice(0);n.VF=j.Ln.slice(0);n.UF=n.LD=!0}if(j.bX||j.zI){n.K=j.bX;n.Lg=!0}};N._I.prototype.OF=function(j,n,Q,a){var B=n<0?j.AZ[-1-n]:n<1e6?j.T[n]:j.T[n-1e6].add.TySh,m=B.add.vmsk;
m.G=null;m._r=!0;if(m.Bc){m.Bc.G=null;m.Bc._r=!0}B.add.vmsk=Q;B.add.vogk=a;if(1e6<=n){eR.UQ(B);var R=j.T[n-1e6],q=B,U=this.H;
ji.xe(R,U.wR);j.ge()}else if(0<=n){Q._r=!0;B.tI(j);j.ge()}j.UF=j.LD=!0};N.Ma=function(j,n,Q,a){N._I.call(this,j,n,Q);
this.ZO={shape:bJ.cL(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{xE:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ani=a;this.wV=null;this.Fl=null;this.Sa=null;this.OX=new eO};N.Ma.prototype=new N._I;N.Ma.prototype.Oj=function(j){return j.vm&&this.id!=N.h8};
N.Ma.prototype.enable=function(j,n,Q,a,B){this.H=Q;var m=new ar(x.E.B,!0);m.data={Q:x.l.w4,sz:"crosshair"};
n.a(m)};N.Ma.prototype.hs=function(j,n,Q,a){N._I.prototype.hs.call(this,j,n,Q,a);this.OX.hs(a);this.mY(n,Q)};
N.Ma.prototype.mY=function(j,n){var Q=new ar(x.E.B,!0);Q.data={Q:x.l.nz,I:this.id,Tg:this.Un(n)};j.a(Q)};
N.Ma.prototype.Un=function(j){var n=this.OX.YY(0),Q=this.OX._U(0),a=N.NJ.PE(this.ZO.binop,n,Q),B=this.id==N.h8?j.U6:j.tR;
if(B==1&&a==0)a=1;return a};N.Ma.prototype.bJ=function(j,n,Q,a){};N.Ma.prototype.v1=function(j,n,Q,a,B){var m=this.id==N.h8?Q.U6:Q.tR;
if(m!=2)this.agI(n,Q);if(m==2&&!j.rV())return;var R=j.e.oR(B.x,B.y);R=N.mL.VJ(j,R,Q);this.Sa=[R.x,R.y];
this.wV=R;this.Fl=new eE(0,0);this.OX.v1(a)};N.Ma.prototype.aEn=function(j,n,Q,a){var B=[this.wV.O(),n.O()];
Q=this.OX.YY(1)||Q.r(i8.f8)||this.OX._U(1)?Q:null;if(this.ani)B=N.Ma.Cy(B[0],B[1],Q,!0,this.ZO.cstr);
if(j)j.e.Dg=new b4(B[0].x,B[0].y,B[1].x-B[0].x,B[1].y-B[0].y);return this.bJ(B[0],B[1],this.OX.YY(1)&&Q.r(i8.f8),this.Sa,j.e,a)};
N.Ma.prototype.ar5=function(j,n,Q){var a=j.e.oR(n.x,n.y);if(this.id==N.h8)return a;var B=this.ZO.cstr;
if(B.xE==2){var m=new b4(a.x-B.x,a.y-B.y,B.x,B.y),R=N.mL.Fm(j,m,Q);a.x+=R[0];a.y+=R[1];N.mL.xP(j,m,R)}else a=N.mL.VJ(j,a,Q);
return a};N.Ma.prototype.Z3=function(j,n,Q,a,B){if(this.wV==null)return;var m=this.Sa,R=m.length,q=B?this.ar5(j,B,Q):new eE(m[R-2],m[R-1]);
if(a.r(i8.Wc))this.wV=q.tV(this.Fl);else this.Fl=q.tV(this.wV);m.push(q.x,q.y);if(this.ZO.shape==null)this.ZO.shape=Q.lE[0];
var U=this.aEn(j,q,a,!0)[0],l=K.c.gb(U);j.M.RJ=l;if(this.id!=N.h8&&this.id!=N.xD&&this.id!=N.MS)N.wU.ck(B,j.e.Dg,j,Q);
j.UF=!0;this.OX.Z3()};N.Ma.prototype.a4W=function(j,n,Q,a){var B=j[4].O();if(a){B.x-=n/2;B.y-=Q/2}if(this.id==N.xD){n/=2;
Q/=2;B.x+=n;B.y+=Q;Q=-Q;n=0}var m=this.bJ(B,new eE(B.x+n,B.y+Q),!1,this.Sa);this.ayt(j[0],j[1],j[2],m)};
N.Ma.prototype.ayt=function(j,n,Q,a){var B=this.id==N.h8?Q.U6:Q.tR,m=new ar(x.E.X2,!0);if(B==0)m.data=N.Ma.anL(a[1],Q);
else if(B==1){var R={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:a[1]};
m.data={ep:"set",Tu:R}}else{var R={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:a[1]};m.data={ep:"draw",Tu:R}}n.a(m);
if(a[1].v.classID=="customShape"&&a[1].v.Nm.v.startsWith("--")){var q=j.H9(),U=q[0],l=q[1],b=U[l.pop()],D=b.add.vmsk,c=b.add.vogk;
K._y.as7(c);var _=D.O();_.z=a[0];this.OF(j,b.cb,_,c)}};N.Ma.prototype.pU=function(j,n,Q,a,B,m){if(this.wV==null)return;
var R=this.ar5(j,B,Q),q=this.Un(Q),U=this.id==N.h8?Q.U6:Q.tR,l=this.Sa,b=l.length;if(this.id==N.h8&&b<=4){}else if(b<=4){R.x=Math.round(R.x);
R.y=Math.round(R.y);var D=new ar(x.E.B);D.data={Q:x.l.Vg,Z8:"createshape",azJ:this.a4W.bind(this),aBw:this.name,aAa:[j,n,Q,a,R]};
if(!m)n.a(D)}else if(b!=2){var c=this.aEn(j,R,a),_=c[0],p=j.H9(!0),X=p[0],g=p[1],F=g.length-1;if(U==1&&_.length>2||U==0&&q!=0&&F!=-1&&X[g[F]].cb>=0){_[2].H_=[1,2,3,0][q-1];
var k=X[g.pop()],I=k.add.vmsk,e=k.add.vogk,H=I.O(),A=I.O(),Z=JSON.stringify(e);A.z=A.z.concat(_.slice(2));
A.X=[K.R.$L(A.z)-1];var J=K._y.QC(c[1]);e.push(J?J:K._y.DB());this.OF(j,k.cb,A,e);this.Hu(j,this.name,k.cb,H,A,null,Z,JSON.stringify(e))}else if(U==0){this.ayt(j,n,Q,c)}else if(U==2){N._I.aws(_,this.ZO.anta,Q.Z4,n)}}this.wV=null;
j.M.RJ=null;j.M.cs=null;j.M.lf=[];j.e.Dg=null;j.UF=!0;this.OX.pU();this.mY(n,Q)};N.Ma.prototype.UY=function(j,n,Q,a,B){for(var Q in j)this.ZO[Q]=j[Q]};
N.Ma.Cy=function(j,n,Q,a,B){var m=j.x,R=j.y,q=n.x,U=n.y;if(B&&B.xE==2){if(a){q=Math.round(q);U=Math.round(U)}m=q-B.x;
R=U-B.y}else{var l=0;if(B&&B.xE==1)l=B.y/B.x;else if(Q&&Q.r(i8.f8))l=1;if(l!=0){if(a){if(m<q)m=Math.floor(m);
else m=Math.ceil(m);if(R<U)R=Math.floor(R);else R=Math.ceil(R)}var b=Math.abs(q-m),D=Math.abs(U-R),c=b;
if(D/b<l)c*=D/b/l;q=q>m?m+c:m-c;U=U>R?R+c*l:R-c*l}if(Q&&Q.r(i8.Y2)){m-=q-m;R-=U-R}}var j=new eE(m,R),n=new eE(q,U);
if(a)N.Ma.aor(j,n);return[j,n]};N.Ma.aor=function(j,n){if(j.x>n.x){var Q=j.x;j.x=n.x;n.x=Q}if(j.y>n.y){var Q=j.y;
j.y=n.y;n.y=Q}j.x=Math.floor(j.x);j.y=Math.floor(j.y);n.x=Math.ceil(n.x);n.y=Math.ceil(n.y)};N.Ma.a8l=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
N.Ma.UZ=function(j,n){var Q=N.Ma.a8l(),a=Q.Usng.v.Type;if(n==null){a.v=K.u(g8.hF[j]);a.v.classID=["solidColorLayer","gradientLayer","patternLayer"][j]}else N.vo.O6(n,a.v,j);
return{ep:"make",Tu:Q}};N.Ma.anL=function(j,n){var Q=n.hX,a=K.u(n.mE);a.fillEnabled.v=Q.px!=0;var B=N.Ma.UZ(Math.max(0,Q.px-1),Q.zT);
B.Tu.Usng.v.Shp=j;B.Tu.Usng.v.strokeStyle={t:"Objc",v:a};return B};N.W3=function(j){N._I.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][j],[N.qB,N.auR,N.a5P,N.atd,N.aef][j],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][j]);
this.DM=j;this.Bu=null;this.cS=null;this.x9=null;this.It=null;this.Yl=0;this.NI=null;this.wf=!1;this.kf=!1;
this.f7=!1;this.JN=!1;this.m5=!1;this.Y3=!1;this.G7=0};N.W3.prototype=new N._I;N.W3.prototype.Oj=function(j){return this.x9!=null};
N.W3.prototype.hs=function(j,n,Q,a){if(!a.r(i8.Y2))this.m5=!1;if(this.DM==1&&(a.r(i8.Va)||a.r(i8.Bo))&&this.qi(i8.Va,j)){this.JQ({Q:"remove",wI:!0},n,j,a,Q);
return}if(this.cS)this.FV(j,n,Q,a,this.cS);N._I.prototype.hs.call(this,j,n,Q,a)};N.W3.prototype.JC=function(j,n,Q,a,B){var m=j.e.oR(a.x,a.y,!0),R=N.mL.VJ(j,m,n),q=this.DM,U=n.U6,l=this.Yl;
if(U==2)U=0;var b=j.H9(B&&U==1),D=b[0],c=b[1],_=c.length==0?null:D[c.pop()],p=_?_.add.vmsk:null;if(U==0&&l!=0&&_&&_.cb>=0)U=1;
var X=N.bE(j,a);if(q<2&&U==0&&(p==null||p.eF.length==0&&K.R.Zf(p.z,m,!0,X).cb==-1))return["new",!0];
if(p==null)return[null];var g=p.z,F=K.R.IY(g,new b4(m.x-X,m.y-X,X*2,X*2),p.eF,!0),k=K.R.Zf(g,m,!0,X);
if(q<3&&k.cb!=-1&&F[0].length==0)return["add"];if((F[3]!=0||k.cb!=-1)&&(Q.r(i8.Y2)||q==4))return["cnv"];
var I=F[0].length==1&&g[F[0][0]-1]&&(g[F[0][0]-1].V!=null||g[F[0][0]-1].w==0||g[F[0][0]-1].length==1);
if(I)return[q==0||q==3?"del":q==2?"mva":"mov"];if(q<2){var e=K.R.p$(g,K.R.NK(g,p.eF[0]));if(e!=-1&&eE.X_(m,g[e+1].V)<X)return["fin"];
if(p.eF.length!=1)return["new"];return["nrm"]}return[null]};N.W3.prototype.v1=function(j,n,Q,a,B){var m=j.VF.indexOf(0)!=-1,R=j.e.oR(B.x,B.y,!0),q=N.mL.VJ(j,R,Q),U=this.DM,l=Q.U6,b=this.Yl;
if(l==2)l=0;var D=j.H9(l==1),c=D[0],_=D[1],p=c[_.pop()],X=p?p.add.vmsk:null;if(l==0&&b!=0&&p&&p.cb>=0)l=1;
var g=N.bE(j,B),F=this.JC(j,Q,a,B,!0);if(F[0]==null)return;if(F[1]){var k=new ar(x.E.X2,!0),I=K._y.ti("customShape",[0,0,1,1],null,null,null,"--");
k.data=N.Ma.anL(I,Q);n.a(k);this.Y3=!0;D=j.H9(!0);c=D[0];_=D[1];p=c[_.pop()];X=p.add.vmsk;X.z=X.z.slice(0,2)}var e=p.add.vogk,H=X.z;
this.x9=X.O();this.It=JSON.stringify(e);if(p.name=="Work Path"&&!m){H=X.z=H.slice(0,2);e=[]}this.Bu=B;
this.agI(n,Q);var A=K.R.IY(H,new b4(R.x-g,R.y-g,g*2,g*2),X.eF,!0),Z=K.R.Zf(H,R,!0,g);if(F[0]=="add"){var J=K.R.p$(H,Z.cb),s=H[J].length;
while(s<=Z.dR){Z.dR-=s;J+=s+1}var E={w:4,vK:q.O(),V:q.O(),XH:q.O()},z=J+2+Z.dR,h=J+1+(1+Z.dR)%s,d=H[z-1],Y=H[h];
if(!d.V.N_(d.XH)||!Y.vK.N_(Y.V)){var C=K.c.afA(d.V,d.XH,Y.vK,Y.V,Z.CK);d.XH=C[0];E.vK=C[1];E.V=C[2];
E.XH=C[3];Y.vK=C[4]}this.JN=!0;H.splice(z,0,E);H[J].length++;X.eF=[z];if(U==1){E.vK.x+=2;this.Hz(X)}}else if(F[0]=="cnv"){var i=-1;
if(A[0].length!=0){i=A[0][0];var M=H[i],W=M.w>=3?3:0,$=i==H.length-1;M.w=W+1;if(!(U==4&&a.r(i8.Y2))&&!(U==0&&$))M.vK=M.V.O();
M.XH=M.V.O();this.JN=!0;if(U==0&&!$)this.m5=!0}else if(A[1].length+A[2].length!=0){var i=A[2][0];if(i==null){i=A[1][0];
this.kf=!0}var M=H[i],W=M.w>=3?3:0;M.w=W+2}else i=K.R.p$(H,Z.cb)+Z.dR+1;if(i!=-1)X.eF=[i]}else if(F[0]=="mva"){this.f7=!0;
X.eF=[A[0][0]]}else if(F[0]=="mov"){var i=A[0][0],P=H[i],O=P.V,G=Math.abs(K.c.pK(P.vK.x,P.vK.y,O.x,O.y,P.XH.x,P.XH.y));
if(G>.01){P.vK=O.O();P.XH=O.O()}if(Date.now()-this.G7<300){var t=P.vK.N_(O)&&P.XH.N_(O);if(t)P.XH.offset(2,2);
else{P.vK=O.O();P.XH=O.O()}this.G7=0}else this.G7=Date.now();X.eF=[i];this.Hz(X)}else if(F[0]=="del"){var i=A[0][0],J=K.R.p$(H,K.R.NK(H,i)),I=H[J],y=J+I.length;
if(i!=y||I.w==0){H[J].length--;H.splice(i,1);y--;if(I.length==0){H.splice(J,1);y=-1}}if(y!=-1)X.eF=[y];
else X.eF=[]}else if(F[0]=="fin"){var J=K.R.p$(H,K.R.NK(H,X.eF[0]));H[J].w=0;X.eF=[J+1];this.NI=q;this.wf=!0;
this.JN=!0}else{var r=0;if(F[0]=="new"){X.X=[K.R.$L(H)];H.push({w:3,length:1,H_:[1,2,3,0][Math.max(0,b-1)],qg:0,wo:0,x1:0});
r=H.length;e.push(K._y.DB())}if(F[0]=="nrm"){var J=K.R.p$(H,K.R.NK(H,X.eF[0])),P=J+H[J].length;H[J].length++;
r=P+1;if(P==J+1&&H[J].length!=2)r=J+1}if(a.r(i8.f8)&&H[r-1]&&H[r-1].V)q=N.$A.rY(H[r-1].V,q);var E={w:4,vK:q.O(),V:q.O(),XH:q.O()};
H.splice(r,0,E);X.eF=[r];this.NI=q;if(this.DM==1){E.vK.x+=2;this.Hz(X)}this.JN=!0;this.G7=Date.now()}this.OF(j,p.cb,X,e);
j.UF=!0};N.W3.prototype.Hz=function(j){var n=j.z,Q=j.eF[0],a=K.R.p$(n,K.R.NK(n,Q))+1,B=n[a-1].length;
if(B<3)return;var m=[],R=[];for(var v=0;v<5;v++){var q=a+(Q-a-2+v+5*B)%B;R.push(q);var U=n[q].V;m.push(U.x,U.y)}var l=K.c.a2V(m);
for(var v=1;v<4;v++){var b=v*4,D=n[R[v]],U=D.V,c=D.vK.N_(U)&&D.XH.N_(U);if(!c){D.vK.OI(l[b],l[b+1]);
D.XH.OI(l[b+2],l[b+3])}else{D.vK=U.O();D.XH=U.O()}}};N.W3.prototype.FV=function(j,n,Q,a,B){var m=this.JC(j,Q,a,B)[0],R=null;
if(m==null)R="default";else R=N.W3.FB(m);var q=new ar(x.E.B,!0);q.data={Q:x.l.w4,sz:R};n.a(q)};N.W3.prototype.Z3=function(j,n,Q,a,B){this.cS=B;
if(this.x9==null){this.FV(j,n,Q,a,B);return}var m=this.Bu;if(m&&eE.X_(m,B)<N.bE({e:{yr:1}},B))return;
this.Bu=null;var R=j.e.oR(B.x,B.y),q=N.mL.VJ(j,R,Q),U=j.H9(Q.U6==1),l=U[0],b=U[1],D=l[b.pop()],c=D.add.vmsk,_=c.z,p=_[c.eF[0]];
if(this.DM==1){var X=p.V.N_(p.vK)&&p.V.N_(p.XH);p.V=R.O();p.vK=R.O();p.XH=R.O();if(!X)p.vK.x+=2;this.Hz(c)}else if(a.r(i8.Wc)){if(a.r(i8.f8))q=N.$A.rY(this.NI,q);
var g=p.V.tV(p.XH),F=p.vK.tV(p.V);p.XH=q;p.V=q.add(g);p.vK=p.V.add(F)}else if(this.f7){var k=p.vK.tV(p.V),I=p.XH.tV(p.V);
p.V=q;p.vK=p.V.add(k);p.XH=p.V.add(I)}else{if(a.r(i8.f8))q=N.$A.rY(p.V,q);if(this.kf){var e=p.vK;p.vK=p.XH;
p.XH=e}if(this.wf){var H=eE.X_(p.V,q),A=H==0?0:eE.X_(p.V,p.XH)/H;p.XH.x=p.V.x+A*(q.x-p.V.x);p.XH.y=p.V.y+A*(q.y-p.V.y)}else p.XH=q;
var Z=p.w>=3?3:0;if(this.JN&&!this.m5)p.w=Z+a.r(i8.Y2)?2:1;if(p.w-Z==1){p.vK=p.V.add(p.V.tV(q))}this.NI=q;
if(this.kf){var e=p.vK;p.vK=p.XH;p.XH=e}}this.OF(j,D.cb,c,D.add.vogk);j.UF=!0};N.W3.prototype.pU=function(j,n,Q,a,B){if(this.x9==null)return;
var m=j.H9(Q.U6==1),R=m[0],q=m[1],U=R[q.pop()],l=U.add.vmsk,b=U.add.vogk;if(this.wf){l.eF=[];this.OF(j,U.cb,l,U.add.vogk)}var D=this.x9.z.length,c=l.z.length;
if(!this.Y3)this.Hu(j,this.wf?"Close Path":(D==c?"Move":D<c?"Add":"Delete")+" Anchor Point",U.cb,this.x9,l.O(),null,this.It,JSON.stringify(b));
this.Y3=!1;this.wf=!1;this.kf=!1;this.f7=!1;this.JN=!1;this.x9=null};N.W3.prototype.UY=function(j,n,Q,a,B){this.Yl=j.binop};
N.W3.ahJ={};N.W3.FB=function(j){var n=N.W3.ahJ[j],Q=64,q=2,U=10,l=25,b=5,D=35;if(n)return n;var a=new b4(0,0,Q,Q),B=-.38,m=K.uq(Q,Q);
m.clearRect(0,0,Q,Q);var R=N.lS();m.save();m.lineWidth=q;m.translate(4-q/2,4-q/2);m.rotate(B);if(R<1.5){var c=.66;
U*=c;l*=c;b*=c;D*=c}m.lineJoin="miter";m.beginPath();if(j=="cnv"){m.moveTo(-U,l);m.lineTo(0,0);m.lineTo(U,l);
m.stroke()}else{m.moveTo(0,0);m.lineTo(U,l);m.lineTo(b,D);m.lineTo(-b,D);m.lineTo(-U,l);m.lineTo(0,0);
m.moveTo(0,0);m.lineTo(0,l);m.fillStyle="white";m.fill();m.stroke();m.fillStyle="black";m.fillRect(-b-1,D,2*b+2,6);
m.beginPath();m.arc(0,l-2,2.5,0,2*Math.PI,!1);m.fill();m.rotate(-B);m.translate(24,7);m.beginPath();
if(j=="add"||j=="del"||j=="new"){m.moveTo(-5,0);m.lineTo(5,0);if(j=="add"){m.moveTo(0,-5);m.lineTo(0,5)}if(j=="new"){m.moveTo(-2.5,-4.5);
m.lineTo(2.5,4.5);m.moveTo(2.5,-4.5);m.lineTo(-2.5,4.5)}}else if(j=="fin")m.arc(0,0,5,0,2*Math.PI,!1);
else if(j=="mov"||j=="mva"){for(var v=0;v<4;v++){m.moveTo(0,0);m.lineTo(-7,0);var _=1+q;m.moveTo(-7+_,-_);
m.lineTo(-7,0);m.lineTo(-7+_,_);m.rotate(Math.PI/2)}}m.stroke()}m.restore();var p=new Uint8Array(m.getImageData(0,0,Q,Q).data.buffer),X=K.U(Q*Q);
K._W(p,X,3);var g=K.U(Q*Q),F=[3,5,3,4,8,4,3,5,3];F=K.GY.c4(F);K.GY.T2(X,g,Q,Q,F);for(var v=0;v<g.length;
v++)g[v]=Math.min(255,g[v]*2);K.GY.T2(g,X,Q,Q,F);for(var v=0;v<X.length;v++)X[v]=Math.min(255,X[v]*2);
var k=p.slice(0);p.fill(255);K.wj(X,p,3);K.L.sg("norm",k,a,p,a,a,1);N.W3.ahJ[j]=n={_x:p,SK:a,HC:new eE(4,4)};
return n};N.Xq=function(){N.Ma.call(this,[10,30],N.h8,"tools/fpen",!1)};N.Xq.prototype=new N.Ma;N.Xq.prototype.bJ=function(j,n,Q,a,B,m){var R=a.length-1,q=Math.sqrt((a[R-1]-a[0])*(a[R-1]-a[0])+(a[R]-a[1])*(a[R]-a[1]))<6/B.yr;
return[K.R.u$(a,q,m),K._y.ti("customShape",[0,0,1,1],null,null,null,"--")]};N.ZR=function(){N._I.call(this,[10,27],N.rB,"tools/pselect");
this.i2=null;this.j9=!1;this.A7=null;this.x9=null;this.Am=null;this.It=null;this.OS=null;this._A=null;
this.ic=null;this.Gz=null};N.ZR.prototype=new N._I;N.ZR.prototype.Oj=function(j){return j.vm};N.ZR.prototype.v1=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=j.H9(),q=R[0],U=R[1],l,b;
for(var v=0;v<U.length;v++){var D=q[U[v]],c=D.add.vmsk,_=K.R.Zf(c.z,m).cb;if(_!=-1){this.A7=l=D;b=_}for(var p=0;
p<c.aX.length;p++){var X=K.R.avW(c.z,c.aX[p]);if(X==null)continue;var g=eE.X_(X,m);if(g<4*N.lS()/j.e.yr){var F=j.T[D.cb-1e6].add.TySh,k=F.Kt.Curve,I=F.C,e=k.Reversed;
k.Reversed=!1;var k=bG.bj(F.Kt.Curve);k.Reversed=e;K.c.C(k[0],I,k[0]);this.ic=[k,p,I.NX*I.zP-I.b*I.RK];
this.A7=l=D;b=0}}if(this.ic)break}if(l!=null){var c=l.add.vmsk;c.eF=[];var H=c.X.indexOf(b);if(a.r(i8.f8)){if(H==-1){c.X.push(b);
this.j9=!0}else c.X.splice(H,1)}else{if(H==-1)c.X=[b];this.j9=!0}this._A=K.R.sR(c.z,c.X)}this.i2=m;this.Gz=new jR(m);
j.LD=!0;j.UF=!0};N.ZR.prototype.Z3=function(j,n,Q,a,B){if(this.i2==null)return;var m=j.e.oR(B.x,B.y);
if(this.j9){m=this.Gz.Cw(m,a);var R=this.A7;if(this.x9==null){this.x9=this.Am=R.add.vmsk.O();this.It=this.OS=JSON.stringify(R.add.vogk);
if(a.r(i8.Y2)){var q=this.x9.O(),U=JSON.parse(this.It),l=N._I.ev(q,U);N._I.W1(l,q,U);this.Am=q;this.OS=JSON.stringify(U)}}var q=this.Am.O(),U=JSON.parse(this.OS);
if(this.ic){var b=this.ic,D=b[0][0],c=K.c.g4(D,m.x,m.y);q.aX[b[1]]=b[0][1][c];var _=D[c*2],p=D[c*2+1],X=(D[c*2+2]-_)*(m.y-p)-(D[c*2+3]-p)*(m.x-_);
if(b[2]<0)X=-X;q.pG=X>0}else{var g=this._A.O(),F=g.x,k=g.y;g.offset(m.x-this.i2.x,m.y-this.i2.y);g.x=Math.round(g.x);
g.y=Math.round(g.y);var I=N.mL.Fm(j,g,Q),e=new j8(1,0,0,1,g.x-F+I[0],g.y-k+I[1]);K.R.fK(q.z,e,q.X);K._y.C(U,K.D.UN(e),q.X);
N.mL.xP(j,g,I)}this.OF(j,R.cb,q,U)}else{var H=this.i2;j.M.RJ=K.c.yc(new b4(H.x,H.y,m.x-H.x,m.y-H.y));
j.UF=!0}};N.ZR.prototype.pU=function(j,n,Q,a,B){if(this.i2==null)return;var m=j.e.oR(B.x,B.y),R=this.A7,q=R?R.add.vmsk:null;
if(this.j9){var U=JSON.stringify(R.add.vogk);if(!this.i2.N_(m))this.Hu(j,"Move Paths",R.cb,this.x9,q,null,this.It,U);
if(j!=null&&j.M.cs){j.M.cs=null;j.UF=!0}}else{var l=j.H9(),b=l[0],D=l[1];if(D.length!=0){var c=b[D[0]];
q=c.add.vmsk;var _=this.i2,p=new b4(_.x,_.y,m.x-_.x,m.y-_.y),X=K.R.axi(q.z,p);if(a.r(i8.f8)){for(var v=0;
v<X.length;v++)if(q.X.indexOf(X[v])==-1)q.X.push(X[v])}else q.X=X}j.M.RJ=null;j.UF=!0}this.i2=null;this.x9=null;
this.ic=null;this.j9=!1;this.Gz=null};N.ZR.prototype.aaW=function(j){var n=this.A7,Q=this.uM,a=n.add.vmsk,B=n.add.vogk,m=B.length;
if(j=="confirm"){if(a!=this.x9)this.Hu(Q,[12,94,2],n.cb,this.x9,a,null,this.It,JSON.stringify(B));this.ga();
return}if(j=="cancel"){this.OF(this.uM,this.A7.cb,this.x9.O(),JSON.parse(this.It));this.ga()}else{var a=this.x9.O(),B=JSON.parse(this.It);
a.z=K.R.apm(a.z,a.X,j);this.OF(this.uM,this.A7.cb,a,B)}};N.ZR.prototype.ga=function(){this.A7=null;this.x9=null;
this.i2=null;this.lb=this.sV=-1;this.Gz=null};N.ZR.prototype.lc=function(j,n,Q,a){N._I.prototype.lc.call(this,j,n,Q,a);
if(Q.Ce!=this.id)return;if(j.X.length==0)return;var B=j.H9(),m=B[0],R=B[1];if(R.length==0)return;var q=m[R[0]],U=q.add.vmsk,l=q.add.vstk,b=q.add.vogk,D=new ar(x.E.B,!0);
D.data={Q:x.l.nz,I:this.id,dI:"main",bW:U?U:null,_y:b};n.a(D)};N.ZR.prototype.UY=function(j,n,Q,a,B){var m=j.eT;
if(m.bW){var R=Q.H9(),q=R[0],U=R[1];if(U.length==0)return;var l=q[U[0]],b=l.add.vmsk.O(),D=JSON.stringify(l.add.vogk),c=m.bW;
this.OF(Q,l.cb,c,m._y);var _=[18,5];if(b.z.length==c.z.length)_=b.X[0]==c.X[0]?"Fill Rule":"Path Order";
this.Hu(Q,_,l.cb,b,c,null,D,JSON.stringify(m._y))}};N.hH=function(){N._I.call(this,[10,28],N.fI,"tools/dselect");
this.lb=-1;this.sV=-1;this.Vw=null;this.i2=null;this.Ow=null;this.A7=null;this.x9=null;this.It=null;
this.g6=0;this.Es={psnap:!1};this.Gz=null};N.hH.prototype=new N._I;N.hH.prototype.Oj=function(j){return j.vm};
N.hH.prototype.UY=function(j){this.Es=j};N.hH.prototype.JQ=function(j,n,Q,a,B){if(j.Q=="crnr"){if(Q==null)return;
var m=Q.H9(),R=m[0],q=m[1];if(q.length==0){alert("No paths selected");return}var U=R[q[0]],l=U.add.vmsk;
if(l.eF.length==0){alert("No corners selected");return}for(var v=0;v<l.eF.length;v++){var b=l.z[l.eF[v]];
if(!b.V.N_(b.XH)||!b.V.N_(b.vK)){alert("Only sharp corners can be rounded");return}}if(this.x9==null){this.x9=U.add.vmsk.O();
this.It=JSON.stringify(U.add.vogk);this.A7=U;this.uM=Q}var D=new ar(x.E.B,!0);D.data={Q:x.l.Vg,Z8:"cornerradius",Xo:5,yI:this.axO.bind(this)};
n.a(D)}else N._I.prototype.JQ.call(this,j,n,Q,a,B)};N.hH.prototype.axO=function(j){if(j=="confirm"){var n=this.uM,Q=this.A7,a=Q.add.vmsk,B=Q.add.vogk;
this.Hu(n,[12,94,0],Q.cb,this.x9,a,null,this.It,JSON.stringify(B));this.ga();return}var a=this.x9.O(),B=JSON.parse(this.It),m=a.eF;
if(j=="cancel"){}else{var R=[];for(var v=0;v<m.length;v++){var q=m[v],U=K.R.NK(a.z,q,!0),D=0;if(R.indexOf(U)!=-1)continue;
R.push(U);var l=K.R.p$(a.z,U,!0),b=a.z[l].length,c=[];for(var _=0;_<b;_++){var p=a.eF.indexOf(l+_+1)==-1?0:j;
c.push(p);if(p!=0)D++}K.R.Lk(a.z,l,c);for(var _=0;_<m.length;_++)if(m[_]>l+b)m[_]+=D}this.tv(a,B);a.eF=[]}this.OF(this.uM,this.A7.cb,a,B);
if(j=="cancel")this.ga()};N.hH.prototype.disable=function(j,n,Q,a){this.Ur(j)};N.hH.prototype.v1=function(j,n,Q,a,B){this.Ur(j);
var m=j.e.oR(B.x,B.y),D,c,_;this.Vw=m.O();var R=j.H9(),q=R[0],U=R[1];if(U.length==0)return;var l=N.bE(j,B),b=new b4(m.x-l,m.y-l,l*2,l*2);
for(var p=0;p<U.length;p++){D=this.A7=q[U[p]];c=D.add.vmsk;_=K.R.IY(c.z,b);if(_[0].length+_[1].length+_[2].length!=0)break}var X=[!1,!1,!1];
for(var v=0;v<3;v++){for(var g=0;g<_[v].length;g++){var F=_[v][g],k=c.z[F];if(c.eF.indexOf(F)!=-1||v==1&&c.eF.indexOf(F-1)!=-1&&!k.V.N_(k.vK)||v==2&&c.eF.indexOf(F+1)!=-1&&!k.V.N_(k.XH)){_[v]=[F];
X[v]=!0;break}}}if(_[0].length!=0&&(X[0]||!X[1]&&!X[2])){var I=_[0][0],e=c.eF.indexOf(I);if(a.r(i8.f8)){if(e==-1)c.eF.push(I);
else{c.eF.splice(e,1);j.UF=!0;return}}else if(e==-1)c.eF=[I];this.lb=I;this.sV=0}else if(_[1].length!=0&&X[1]){this.lb=_[1][0];
this.sV=1}else if(_[2].length!=0&&X[2]){this.lb=_[2][0];this.sV=2}else{var H=K.R.Zf(c.z,m,!0,l);if(H.cb==-1)this.i2=m;
else{this.Ow=H;var A=K.R.p$(c.z,H.cb);c.X=[H.cb];c.eF=[A+1+H.dR]}}if(this.x9==null){this.x9=D.add.vmsk.O();
this.It=JSON.stringify(D.add.vogk)}this.Gz=new jR(m);j.UF=!0};N.hH.prototype.Z3=function(j,n,Q,a,B){if(j==null)return;
var m=j.e.oR(B.x,B.y),R=this.A7;if(this.lb!=-1){var q=this.x9.O(),U=R.add.vogk,l=q.z[this.lb];l=[l.V,l.vK,l.XH][this.sV];
if(a.r(i8.f8)){if(this.sV==0){m=this.Gz.Cw(m,a);m.x+=l.x-this.Vw.x;m.y+=l.y-this.Vw.y}else m=N.$A.rY(q.z[this.lb].V,m)}else{if(this.Es.psnap){m.x=Math.round(m.x);
m.y=Math.round(m.y)}m=N.mL.VJ(j,m,Q)}if(this.sV==0){var b=new j8(1,0,0,1,m.x-l.x,m.y-l.y);K.R.fK(q.z,b,null,q.eF)}else{var D=q.z[this.lb];
if(a.r(i8.Y2)&&(D.w==1||D.w==4))D.w++;N.hH.jx(D,m,this.sV==1)}this.tv(q,U);this.OF(j,R.cb,q,U)}else if(this.i2!=null){var c=this.i2;
j.M.RJ=K.c.yc(new b4(c.x,c.y,m.x-c.x,m.y-c.y));j.UF=!0}else if(this.Ow!=null){var q=this.x9.O(),U=R.add.vogk,_=this.Ow,p=this.Vw,X=K.R.p$(q.z,_.cb),g=q.z[X].length,F,k=_.CK;
if(k<=1/6)F=0;else if(k<=.5)F=Math.pow((6*k-1)/2,3)/2;else if(k<=5/6)F=(1-Math.pow((6*(1-k)-1)/2,3))/2+.5;
else F=1;var I=m.x-p.x,e=m.y-p.y,H=(1-F)/(3*k*(1-k)*(1-k)),A=F/(3*k*k*(1-k)),Z=q.z[X+1+_.dR];Z.XH.offset(H*I,H*e);
var J=q.z[X+1+(_.dR+1)%g];J.vK.offset(A*I,A*e);N.hH.jx(Z,Z.XH,!1);N.hH.jx(J,J.vK,!0);this.tv(q,U);this.OF(j,R.cb,q,U)}else{var s=j.H9(),E=s[0],d=s[1],R,q,i;
if(d.length==0)return;var Y=N.bE(j,B),C=new b4(m.x-Y,m.y-Y,Y*2,Y*2);for(var M=0;M<d.length;M++){R=E[d[M]];
q=R.add.vmsk;i=K.R.IY(q.z,C);if(i[0].length+i[1].length+i[2].length!=0)break}this.Ur(j);for(var v=0;
v<3;v++){for(var W=0;W<i[v].length;W++){var $=i[v][W],P=q.z[$];P=v==0?P.V:v==1?P.vK:P.XH;j.M.Ne.push(P.x,P.y);
j.UF=!0}}}};N.hH.prototype.Ur=function(j){if(j&&j.M.Ne.length!=0){j.M.Ne=[];j.UF=!0}};N.hH.prototype.pU=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=this.A7,q=R?R.add.vmsk:null,U=R?R.add.vogk:null;
if(this.lb!=-1||this.Ow){if(Date.now()-this.g6<300){var l=q.z[this.lb],b=this.sV,D=null;if(b==0){var c=l.vK.N_(l.V),_=l.XH.N_(l.V);
if(!c&&!_){D="Anchor Type";if(l.w==1||l.w==4)l.w++;else{l.w--;l.XH=l.V.add(l.V.tV(l.vK))}}else{D="Add Handles";
if(c&&_){l.vK.x-=30;l.XH.x+=30}else if(c)l.vK=l.V.add(l.V.tV(l.XH));else if(_)l.XH=l.V.add(l.V.tV(l.vK))}}else{D="Remove Handle";
if(b==1)l.vK.KA(l.V);else l.XH.KA(l.V)}this.tv(q,U);this.OF(j,R.cb,q,U);this.Hu(j,D,R.cb,this.x9,q,null,this.It,JSON.stringify(U))}else if(this.Ow||!this.Vw.N_(m)){this.Hu(j,"Drag Anchors",R.cb,this.x9,q,null,this.It,JSON.stringify(U))}this.Ow=null;
this.g6=Date.now()}else if(this.i2!=null){var p=this.i2,X=new b4(p.x,p.y,m.x-p.x,m.y-p.y);if(X.q<0)X.x+=X.q;
if(X._<0)X.y+=X._;X.q=Math.abs(X.q);X._=Math.abs(X._);var g=K.R.IY(q.z,X);q.eF=g[0].concat(a.r(i8.f8)?q.eF:[]);
j.M.RJ=null}this.ga();j.UF=!0};N.hH.prototype.ga=function(){this.A7=null;this.x9=null;this.i2=null;this.lb=this.sV=-1;
this.Gz=null};N.hH.prototype.tv=function(j,n){for(var v=0;v<j.eF.length;v++){var Q=K.R.NK(j.z,j.eF[v]);
K._y.j7(n,Q)}};N.hH.prototype.hs=function(j,n,Q,a){if(j==null)return;var B=j.H9(),m=B[0],R=B[1];if(R.length==0)return;
var q=m[R[0]],U=q.add.vmsk;if(U==null||U.eF.length==0)return;var l=q.add.vogk,b=JSON.stringify(l),D=a.su(j?j.e.c6:0);
if(D.x!=0||D.y!=0){var c=U.O(),_=U.O(),p=new j8(1,0,0,1,D.x,D.y);K.R.fK(_.z,p,null,_.eF);this.tv(_,l);
this.OF(j,q.cb,_,l);this.Hu(j,"Move Anchors",j.X[0],c,_.O(),!0,b,JSON.stringify(l))}if(a.r(i8.Va)||a.r(i8.Bo))this.JQ({Q:"remove",wI:!0,a70:!0},n,j,a,Q)};
N.hH.prototype.Hu=function(j,n,Q,a,B,m,R,q){var U=j.Pz();if(m&&U!=null&&U.I==this&&U.data.aC$&&U.data.d0==Q&&JSON.stringify(U.data.mA.eF)==JSON.stringify(a.eF)){U.data.wp=B;
U.data.Yw=q}else{var U=new ae(n,this);U.data={d0:Q,mA:a,wp:B,aC$:m,ak4:R,Yw:q};j.xr(U)}};N.hH.jx=function(j,n,Q){var a=j.vK,B=j.XH;
if(!Q){a=j.XH;B=j.vK}a.OI(n.x,n.y);if(j.w==1||j.w==4){var m=eE.X_(a,j.V),R=eE.X_(B,j.V);if(R!=0){B.x=j.V.x-(a.x-j.V.x)*(R/m);
B.y=j.V.y-(a.y-j.V.y)*(R/m)}}};N.Rect=function(){N.Ma.call(this,[10,32],N.hp,"tools/rect",!0)};N.Rect.prototype=new N.Ma;
N.Rect.prototype.bJ=function(j,n,Q){var a=this.ZO.crad,B=n.x-j.x,m=n.y-j.y;return[K.R.hi.Rect(j.x,j.y,B,m,a),K._y.ti("Rctn",[j.x,j.y,n.x,n.y],[a,a,a,a])]};
N.$v=function(){N.Ma.call(this,[10,33],N.a8,"tools/ellipse",!0)};N.$v.prototype=new N.Ma;N.$v.prototype.bJ=function(j,n,Q){var a=n.x-j.x,B=n.y-j.y;
return[K.R.hi.$v(j.x,j.y,a,B),K._y.ti("Elps",[j.x,j.y,n.x,n.y])]};N.Q9=function(){N.Ma.call(this,[10,34],N.xD,"tools/pshape",!1);
this.ZO.aopts=[!1,!0,50,100,0]};N.Q9.prototype=new N.Ma;N.Q9.prototype.bJ=function(j,n,Q){var a=this.ZO.pshape,B=this.ZO.crad,m=this.ZO.irad/100,R=this.ZO.sides,q=this.ZO.width,U=this.ZO.aopts,l=this.ZO.length,g;
n=n.O();var b=j.x,D=j.y,c=n.x,_=n.y,p=Math.sqrt((c-b)*(c-b)+(_-D)*(_-D)),X=Math.atan2(-_+D,c-b);if(Q)X=Math.round(X*180/Math.PI/15)*15*Math.PI/180;
if(a==0)g=K.R.hi.Ek(b,D,p,X,R,B);if(a==1)g=K.R.hi.aeS(b,D,p,X,R,B,m);if(a==2)g=K.R.hi.i_(j.x,j.y,n.x,n.y,q,U);
if(a==3)g=K.R.hi.aFN(b,D,p,X,l);return[g,K._y.ti("customShape",[j.x,j.y,n.x,n.y],null,null,null,"--")]};
N.Q9.prototype.hs=function(j,n,Q,a){N.Ma.prototype.hs.call(this,j,n,Q,a);var B=a.su(),m=this.ZO,R,q;
if(B.y!=0){var U=-B.y,l=m.pshape;if(l<2){R="sides";q=Math.max(3,Math.min(100,m.sides+U))}else if(l==2){R="width";
q=Math.max(1,Math.min(100,m.width+U))}else if(l==3){R="length";q=Math.max(4,Math.min(40,m.length+U))}}if(B.x!=0){R="pshape";
q=Math.max(0,Math.min(3,m.pshape+B.x))}if(R){var b=new ar(x.E.B,!0),D={};D[R]=q;m[R]=q;b.data={Q:x.l.nz,I:this.id,BO:"vals",aqB:D};
n.a(b);this.Z3(j,n,Q,a)}};N.qm=function(){N.Ma.call(this,[10,35],N.MS,"tools/line",!1)};N.qm.prototype=new N.Ma;
N.qm.prototype.bJ=function(j,n,Q){var a=this.ZO.width,B=this.ZO.aopts;n=n.O();if(Q){n=N.$A.rY(j,n)}if(fL==1)a=0;
return[K.R.hi.i_(j.x,j.y,n.x,n.y,a,B),K._y.ti("Ln",null,null,[j.x,j.y,n.x,n.y],a,null,B)]};N.KL=function(){N.Ma.call(this,[10,31],N.Zp,"tools/cshape",!0)};
N.KL.prototype=new N.Ma;N.KL.prototype.bJ=function(j,n,Q){var a=this.ZO.shape,B=a.wS.q/a.wS._,m=f.hx.wX(a.z);
n=n.O();if(Q){n.y=j.y+(n.x-j.x)/B}var R=n.x-j.x,q=n.y-j.y;K.R.fK(m,new j8(R,0,0,q,j.x,j.y));return[m,K._y.ti("customShape",[j.x,j.y,n.x,n.y],null,null,null,a.iA)]};
N.IP=function(j,n,Q){N.wU.call(this,j,n,Q);this.BQ=0;this.T=null;this.tJ=null;this.H=null;this.FD=1;
this.Y6=0;this.SB=!0;this.vF=!1;this.cursor=null;this.Bx=null;this.bX=null;this.K4=!1;this.fY=null;this.aiH=0;
this.t1=null;this.DM=0;this.$P=null;this.o6=null;this.N9=null;this.gM=null;this.axk=null;this.D8=null};
N.IP.prototype=new N.wU;N.IP.xc=function(j,n,Q){var a={classID:"null",null:f2.oA(Q?"Lyr":"Dcmn",!0)};
if(j)a.Angl={t:"UntF",v:{type:"#Ang",val:n}};else a.Axis={t:"enum",v:{Ornt:n}};return{ep:j?"rotateEventEnum":"flip",Tu:a}};
N.IP.prototype.mZ=function(j,n,Q,a,B){var m=new ar(x.E.B,!0);m.data={Q:x.l.nz,I:this.id,xZ:B,Xz:j,H:Q};
n.a(m);this.TZ=!1};N.IP.prototype.Oj=function(j){return this.o6&&this.o6.a2m()};N.IP.prototype.JQ=function(j,n,Q,a,B){this.H=B;
if(j.Q=="again"&&this.t1==null)return;if(j.Q=="cmode"){if(Q.depth==j.J)return;var m=N.IP.a3b(Q),R=N.IP.Po(Q,m,!0),q=new ae("Mode: "+Q.depth+"-Bit to "+j.J+"-Bit",this);
q.data={w:0,T:m,tJ:R,aoM:!0,depth:Q.depth};Q.xr(q);N.IP.a7r(Q,m,j.J);return}if(!this.yJ(Q,B))return;
if(this.o6){this.aup(j,this.o6.DU(),n,Q,a,B);this.Vv(Q,B,0,!0);this.q7(Q);return}this.af2(Q,j.W==null,j.W);
this.aAt(Q);this.aup(j,j.arD,n,Q,a,B);this.Y_(Q,n,j.ID,!1)};N.IP.prototype.aup=function(j,n,Q,a,B,m){if(n==null){var R=j.h1!=null?j.h1:4;
n=this.o6.aAR()[R]}var q=this.$P,U=n.x,l=n.y;if(j.Q=="rot"&&j.J!=Math.PI&&(q.q+q._&1)==1){U=Math.floor(U);
l=Math.floor(l)}var b=new j8;b.translate(-U,-l);if(j.Q=="rot")b.rotate(j.J);if(j.Q=="scl")b.scale(j.J.x,j.J.y);
if(j.Q=="mat")b.concat(j.J);b.translate(U,l);if(j.Q=="again")b=this.t1;var D=K.D.UN(b);if(j.Q=="dtr"){var c=K.D;
D=c.Da(j.J,c.U(-U,-l));D=c.Da(c.U(U,l),D)}var _=this.o6.cX();K.D.C(D,_);this.o6.fn(_);if(j.Mb){var p=j.Mb.v;
this.UY({dI:"switchWarp"},Q,a,B);this.UY({dI:"wrp",Mb:p},Q,a,B)}};N.IP.prototype.Ys=function(){return!0};
N.IP.prototype.yJ=function(j,n,Q){if(j==null)return!1;if(this.id==N.ea)return j.K!=null;var a=j.J3(!0,null,null,!0);
if(this.id==N.fS&&j.T[a[0]].s.ke()){alert("Layer is empty.");return!1}for(var v=0;v<a.length;v++){var B=j.T[a[v]];
if(B.Na(2)||B.Na(31)){alert(i4.get([6,57,0]));return!1}if(B.add.artb){alert("You can not transform the whole artboard");
return!1}if(B.add.TySh)if(!ji.nk(B.add.TySh,n.wR))return!1;if(B.add.SoLd){if(a.length==1&&(Q&&Q.uO==-1)&&(B.sJ()&&B.sJ().DW||B.add.vmsk&&B.add.vmsk.DW)){alert("Unlink masks before transforming Smart Object");
return!1}if(!j.awt(B.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+j.KR(B.add.SoLd.Idnt.v).yR+")");
return!1}}}if(j.K==null)return!0;if(!j.rV())return!1;return j.amp()};N.IP.prototype.v1=function(j,n,Q,a,B){var m=this.S7(B,j),R=m[0],q=m[1],U=this.DM==0?this.o6:this.N9;
j.e.yr*=q;this.vF=U.v1(j,Q,a,R,null,null,B);if(!this.vF&&fL==1){this.Y_(j,n,null,!0);return}this.q7(j,R);
j.e.yr/=q;if(this.vF&&U._k(R)){if(Date.now()-this.aiH<250)this.Y_(j,n,null,!0);this.aiH=Date.now()}};
N.IP.prototype.FV=function(j){var n=new ar(x.E.B,!0);n.data={Q:x.l.w4,sz:this.cursor};j.a(n)};N.IP.prototype.S7=function(j,n){var Q=1;
j=n.e.oR(j.x,j.y);if(this.DM==1){var a=K.D.ZM(this.o6.cX(),this.$P);Q=K.D.lm(a).P8();var B=K.D.m2(a);
j=K.D.aco(B,j)}return[j,Q]};N.IP.prototype.Z3=function(j,n,Q,a,B){var m=this.S7(B,j),R=m[0],q=m[1],U=this.DM==0?this.o6:this.N9;
if(!B.vm){var l="default";if(U){var b=U.J5(R,j.e.yr*q,null,B);if(b)l=b}if(l!=this.cursor){this.cursor=l;
this.FV(n)}if(this.N9){this.q7(j,R)}}if(!this.vF)return;j.e.yr*=q;var D=this.nM=U.Z3(j,Q,a,R,this.SB);
j.e.yr/=q;this.Vv(j,Q,0,!0);this.q7(j,R);this.ci(n)};N.IP.prototype.pU=function(j,n,Q,a,B){var m=this.S7(B,j),R=m[0],q=m[1];
this.o6.pU(j,Q,a,R);if(this.N9){var U=this.N9.pU(j,Q,a,R);if(U){this.ci(n,!0);this.q7(j)}}if(this.nM){var l=this.wa(),b=K.c.yc(this.$P).g;
K.D.C(l,b);this.o6.fn(b);this.nM=null}this.vF=!1};N.IP.prototype.hs=function(j,n,Q,a){if(a.r(i8.mI))this.Y_(j,n,null,!0);
else if(a.r(i8.tf))this.Ju(j,n);else{var B=this.o6.hs(j,Q,a);if(B){this.Vv(j,Q,0,!0);this.ci(n)}}};N.IP.prototype.UY=function(j,n,Q,a){if(j.dI=="commit")this.Y_(Q,n,null,!0);
else if(j.dI=="cancel")this.Ju(Q,n);else if(j.dI=="switchWarp"){this.DM=1-this.DM;this.aGy();this.q7(Q);
this.ci(n)}else if(j.dI=="wrp"){this.N9.akE(j.Mb);this.q7(Q);this.Vv(Q,this.H,0,!0)}else if(j.dI=="splt")this.N9.aq6(j.J);
else if(j.dI=="ctyp"){this.o6.a7X(j.va);this.q7(Q);this.ci(n)}else if(j.dI=="cen"){this.o6.auH(j.HC);
this.q7(Q);this.Vv(Q,this.H,0,!0)}else if(j.dI=="trn"){var B=K.D.UN(j.dT),m=this.$P,R=K.D.ZM(this.o6.cX(),this.$P);
B[6]=R[6],B[7]=R[7];var q=[m.x,m.y,m.x+m.q,m.y,m.x+m.q,m.y+m._,m.x,m.y+m._];K.D.C(B,q);this.FD=j.FD;
if(j.Y6!=this.Y6){this.Y6=j.Y6;this.acD(Q)}this.SB=j.SB;this.o6.fn(q);this.q7(Q);this.Vv(Q,this.H,0,!0)}};
N.IP.prototype.q7=function(j,n){if(this.DM==0)this.o6.IS(j,this.H);else{this.N9.IS(j,n);var Q=this.wa();
K.D.C(Q,j.M.kS.g);K.D.C(Q,j.M.f$);K.D.C(Q,j.M.Ad)}};N.IP.prototype.Y_=function(j,n,Q,a){this.Vv(j,this.H,this.FD);
var B=new ae(Q?Q:this.name,this),H="";if(this.BQ==0)B.data={w:this.BQ,T:this.T,tJ:this.tJ};else if(this.BQ==1){var m=j.T[this.T[0]],R;
if(m.YT.s0<=0){R=K.U(m.YT.tA.$());K._W(m.YT.Mj,R,3)}else R=j.K.G;var q={s:m.YT.tA.O(),G:R};B.data={w:this.BQ,W:this.T[0],bX:this.bX,zI:q,Bx:this.Bx,K4:this.K4,YT:m.YT,fY:this.fY,ul:{SK:m.YT.tA,FJ:m.YT.Mj}}}else if(this.BQ==2){B.data={w:this.BQ,bX:this.bX,zI:{s:j.K.s.O(),G:j.K.G.slice(0)}}}j.xr(B);
var U=this.$P,l=K.D.ZM(this.o6.cX(),U),b=this.tJ,D=b?b[0]:null;if(b&&b.length==1&&D[4]){var c=N.IP.lw(D[4].nonAffineTransform),U=K.c.Tv(K.UH.Fo(D[4].quiltWarp.v)[3]),_=K.D.ZM(c,U);
l=K.D.Da(l,K.D.m2(_))}var p=K.D.lm(l),X=this.o6.DU(),g=new j8;g.translate(X.x,X.y);g.concat(p);g.translate(-X.x,-X.y);
p=g.O();var F=-Math.atan2(-p.b,p.NX),k=new j8;k.rotate(F);p.concat(k);function I(E,z){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][z],val:E}}}var e=f2.oA("Lyr",!0);
if(this.id==N.ea)e.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var A=N.IP.a6l;for(var Z in A)if(A[Z]==this.o6.V3)H=Z;
if(H==""){H="Qcsi";g.Qr=g.dE=0}var J={classID:"null",null:e,FTcs:{t:"enum",v:{QCSt:H}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:I(g.Qr,0),Vrtc:I(g.dE,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:I(Math.atan(p.RK/p.zP)*180/Math.PI,2),Vrtc:I(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:I(100*0,1),Vrtc:I(100*0,1)}},Wdth:I(p.NX*100,1),Hght:I(p.zP*100,1),Angl:I(F*180/Math.PI,2)};
if(H=="Qcsi")J.Pstn={t:"Objc",v:{Hrzn:I(X.x,0),Vrtc:I(X.y,0)}};var s=this.N9?this.N9.Sl():null;if(s&&!K.UH.En(s)){J.quiltWarp={t:"Objc",v:s}}this.xo=n;
this.track({ep:"transform",Tu:J});this.escape(j,n,a)};N.IP.a6l={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
N.IP.prototype.Ju=function(j,n){if(this.BQ==0)N.IP.apW(j,this.T,this.tJ);else if(this.BQ==1){var Q=j.T[this.T[0]];
j.K=this.bX;if(!this.K4){Q.YT.tA=this.fY.SK;Q.YT.Mj=this.fY.FJ;Q.DY(j,0,0,j.K)}else{Q._V(j,this.Bx)}j.ge();
j.Lg=!0}else if(this.BQ==2){j.K=this.bX;j.Lg=!0}this.escape(j,n,!0)};N.IP.prototype.escape=function(j,n,Q){this.o6.clear(j);
if(this.N9)this.N9.clear(j);this.o6=null;this.N9=null;this.D8=null;this.DM=0;if(Q)this.tL(n,x.E.B,{Q:x.l.Zt})};
N.IP.prototype.pk=function(j,n){if(j.w==0)N.IP.eD(n,j);else{if(j.w==1){var Q=n.T[j.W];if(j.K4){Q.YT=j.YT}else{Q.YT.tA=j.ul.SK;
Q.YT.Mj=j.ul.FJ}Q.DY(n,0,0,n.K);n.ge()}n.K={s:j.zI.s.O(),G:j.zI.G.slice(0)};n.Lg=!0}};N.IP.prototype.X7=function(j,n){if(j.w==0)N.IP.eD(n,j);
else{if(j.w==1){var Q=n.T[j.W];if(j.K4){Q._V(n,j.Bx)}else{Q.YT.tA=j.fY.SK;Q.YT.Mj=j.fY.FJ;Q.DY(n,0,0,n.K)}n.ge()}n.K=j.bX;
n.Lg=!0}};N.IP.prototype.af2=function(j,n,Q){j.H9();var a=[];if(Q==null)for(var v=0;v<j.VF.length;v++)if(j.AZ[j.VF[v]].add.vmsk.z.length>2)a.push(-1-j.VF[v]);
var B=[],m=j.e.Y;if(m[0]+m[1]+m[2]==3)if(Q!=null||a.length==0||j.fO!=null&&j.fO.length!=0){if(j.X.length==1){var R=j.T[j.X[0]];
if(R.bx()&&R.Ok)B=[j.X[0]]}if(B.length==0)B=j.J3(n,Q,null,!0)}B=B.concat(a);for(var v=0;v<j.Yb.length;
v++)B.push(-1e3-j.Yb[v]);this.T=B};N.IP.prototype.enable=function(j,n,Q,a,B,m){if(this.cursor==null)this.cursor="default";
this.FV(n);if(this.o6)return;this.H=Q;this.af2(j,!0);this.aAt(j,m&&m.uO!=null&&m.uO!=-1?m.uO:null);this.ci(n,null,j);
this.q7(j);if(m&&m.uO==-1)this.UY({dI:"switchWarp"},n,j,a)};N.IP.prototype.Dj=function(){return this.SB?null:[0]};
N.IP.prototype.B4=function(j,n,Q){if(j&&j[0]!=null)this.SB=j[0]==1};N.IP.prototype.ci=function(j,n,Q){var a={Q:x.l.nz,I:this.id};
if(this.DM==0){var B=K.D.ZM(this.o6.cX(),this.$P),m=K.D.lm(B);a.dT={uS:m,va:this.o6.a0S(),HC:this.o6.DU(),SK:this.$P.O(),SB:this.SB}}else{a.abe=n;
a.Mb=this.N9.Sl()}if(Q){a.Kj=["---"];for(var v=0;v<Q.Kj.length;v++)a.Kj.push(Q.Kj[v].name)}a.asr=this.N9!=null;
this.tL(j,x.E.B,a)};N.IP.prototype.aAt=function(j,n){var Q=this.id==N.ea,a=!0,B=this.T[0],m=j.T[B],q=null,U=null,l=null,c=null;
if(Q){this.BQ=2;this.bX=j.K}else if(j.K&&this.T.length==1&&B>=0&&!m.s.ke()){this.BQ=1;this.bX=j.K;this.Bx=m.YT;
this.K4=!1;if(!m.zB(j,j.K)){this.K4=!0;m.gQ(j,j.K,!1)}this.fY={FJ:m.YT.Mj,SK:m.YT.tA}}else{this.BQ=0;
this.tJ=N.IP.Po(j,this.T,null);for(var v=0;v<this.tJ.length;v++)if(this.tJ[v][3]!=null)a=!1}var R=this.BQ==1;
if(this.tJ&&this.tJ.length==1){var b=this.tJ[0];if(b[2]!=null)U=b[2].bW;if(b[3]==null)R=!0;if(b[3]!=null)l=b[3];
if(b[4]!=null){q=j.T[this.T[0]].add.SoLd;if(b[1]||b[2])R=!1}}var D=Q?j.K.s.O():N.IP.uI(j,this.T);this.$P=D;
if(!Q&&U&&fL==1){c=U.aZ();this.gM=K.D.ZM(c,this.$P)}else if(!Q&&l&&fL==1){var _=j.T[this.T[0]],l=_.add.TySh;
c=K.c.yc(_.xw.xf).g;K.c.C(c,l.C,c);this.gM=K.D.ZM(c,this.$P)}else if(!Q&&q){c=N.IP.lw(q.nonAffineTransform);
this.$P=K.c.Tv(K.UH.Fo(q.quiltWarp.v)[3]);if(R)this.N9=new cm(q.quiltWarp.v);this.gM=K.D.ZM(c,this.$P)}else{if(R||Q)this.N9=new cm(K.UH.U(this.$P));
this.gM=[1,0,0,0,1,0,0,0];if(this.id==N.fS)n=3;c=[D.x,D.y,D.x+D.q,D.y,D.x+D.q,D.y+D._,D.x,D.y+D._]}this.o6=new ew(c,!0,!0,a,!1,!1,n);
this.axk=[1,0,0,0,1,0,0,0];this.acD(j)};N.IP.prototype.acD=function(j){if(this.id==N.fS){var n,Q,m=null;
if(this.tJ&&j.K==null){var a=this.tJ[0][0],B=a.In;n=B[0];Q=B[1]}else if(this.fY){n=this.fY.FJ;Q=this.fY.SK}if(this.Y6!=0)m=j.Kj[this.Y6-1].OC(Q);
this.D8=K.TX.at1(n,Q.q,Q._,m)}};N.IP.uI=function(j,n){if(n==null)n=j.J3(!0,null,null,!0);var Q=new b4,a=new b4;
if(j.K&&n.length==1&&n[0]>=0)Q=j.K.s.O();else for(var v=0;v<n.length;v++){var B=n[v],m=0<=B?j.T[B]:-1e3<B?j.AZ[-1-B]:j.Kj[-1e3-B],R=m.add?m.add.vmsk:null,q=0<=B?m.jL(j,n.length==1,!1,!0):-1e3<B?K.R.sR(R.z,n.length==1&&R.X.length!=0?R.X:null):m.s.O();
Q=Q.d_(q);if(B>0&&m.add.artb)a=a.d_(m.v_())}return!a.ke()?a:Q};N.IP.prototype.tL=function(j,n,Q,a){var B=new ar(n,!0);
B.data=Q;if(a)B.I=a;j.a(B)};N.IP.a3b=function(j){var n=[];for(var v=0;v<j.T.length;v++)n.push(v);for(var v=0;
v<j.AZ.length;v++)n.push(-1-v);for(var v=0;v<j.Kj.length;v++)n.push(-1e3-v);return n};N.IP.Po=function(j,n,Q){var a=[];
for(var v=0;v<n.length;v++){var B=n[v],m,R;if(B>=0){m=j.T[B];R=m.$R(j,Q,!0)}else if(B>-1e3){m=j.AZ[-1-B];
R=[2]}else{a.push([null,null,null,null,null,null,null,j.Kj[-1e3-B].O()]);continue}var q=[],U=R.indexOf(0)!=-1;
if(U){var l={In:m.add.SoLd?null:[m.buffer.slice(0),m.s.O()]};q.push(l);if(m.FI()){var b=m.vG(j);l.aeZ=b.buffer.slice(0);
l.ai7=b.s.O()}}else q.push(null);if(R.indexOf(1)!=-1)q.push(m.sJ().O());else q.push(null);if(R.indexOf(2)!=-1)q.push({bW:m.add.vmsk.O(),o0:m.add.vstk?K.u(m.add.vstk):null,zT:m.add.vstk?g8.GT(j.T[B].add):null,no:m.add.vstl?JSON.stringify(m.add.vstl):null,_y:m.add.vogk?K.u(m.add.vogk):null});
else q.push(null);if(m.add.TySh&&U){eR.UQ(m.add.TySh);q.push(m.add.TySh.C.O())}else q.push(null);if(m.add.SoLd&&U)q.push(K.u(m.add.SoLd));
else q.push(null);if(R.indexOf(3)!=-1)q.push(m.vG(j).N.O());else q.push(null);if(m.add.lmfx)q.push(JSON.stringify(m.add.lmfx));
else q.push(null);a.push(q)}return a};N.IP.apW=function(j,n,Q){for(var v=0;v<n.length;v++){var a=n[v],B=0<=a?j.T[a]:-1e3<a?j.AZ[-1-a]:j.Kj[-1e3-a],m=Q[v];
if(m[0]){if(m[0].In){B.s=m[0].In[1].O();B.buffer=m[0].In[0].slice(0)}if(B.FI()){var R=B.vG(j);R.buffer=m[0].aeZ.slice(0);
R.s=m[0].ai7.O()}}if(m[1]){B.sJ().G=m[1].G.slice(0);B.sJ().s=m[1].s.O();B.sJ()._r=!0}if(m[2]){B.add.vmsk=m[2].bW.O();
if(m[2].zT)g8.zc(B.add,m[2].zT);if(m[2].o0)B.add.vstk=K.u(m[2].o0);if(m[2]._y)B.add.vogk=K.u(m[2]._y);
if(m[2].no)B.add.vstl=JSON.parse(m[2].no)}if(m[3]){B.add.TySh.C=m[3].O();eR.o3(B.add.TySh)}if(m[4]){B.add.SoLd=K.u(m[4])}if(m[5]){var q=B.vG(j).N;
q.G=m[5].G.slice(0);q.s=m[5].s.O()}if(m[6]){B.add.lmfx=JSON.parse(m[6])}if(m[7]){B.G=m[7].G.slice(0);
B.s=m[7].s.O();B._r=!0}if(0<=a){B.tI(j);B.ge();if(m[4])B.pS(j,!1)}}j.ge()};N.IP.a7r=function(j,n,Q){for(var v=0;
v<n.length;v++){var a=n[v];if(0<=a){var B=j.T[a];B.buffer=K.R8(B.buffer,Q);var m=B.sJ();if(m){m.G=K.R8(m.G,Q);
m._r=!0}B.ge()}else if(-1e3<a){}else{var m=j.Kj[-1e3-a];m.G=K.R8(m.G,Q)}}j.depth=Q;j.buffer=K.U(j.q*j._*4,Q);
j.ge()};N.IP.eD=function(j,n){console.log(n);var Q=N.IP.Po(j,n.T,n.aoM),a=n.depth;N.IP.apW(j,n.T,n.tJ);
n.tJ=Q;if(a!=null){n.depth=j.depth;j.depth=a;console.log("setting depth "+a);j.buffer=K.U(j.q*j._*4,a);
j.ge()}};N.IP.QB=function(j,n,Q,a,B,m,R,q,U,l){if(typeof m[0]=="number"){var b=[];for(var v=0;v<Q.length;
v++)b[v]=m;m=b}for(var v=0;v<Q.length;v++){var D=m[v],c=K.D.lm(D),_=c.P8(),p=Q[v],X=0<=p?j.T[p]:-1e3<p?j.AZ[-1-p]:j.Kj[-1e3-p],g=a[v];
if(X.add&&X.add.lmfx&&q)gq.HG(X.add.lmfx,_);if(g[0]&&!g[3]&&!g[4]&&!g[5]){var F=g[0].In;if(U){var k=U.uf(F[1]),I=K.U(k.$()*4);
K.EC(F[0],F[1],I,k);F=[I,k]}var e=N.IP.CN(F,B,D,R,B==0?X.buffer.buffer:null,null,null,l);if(e){X.s=e.s;
X.buffer=e.buffer}}if(g[1]){var H=X.sJ();N.IP.TE(j,g[1],H,B,D,R,H.DW&&R&&!K.UH.En(R)&&g[0]?g[0].In[1]:null);
if(U){var k=H.s.uf(U),A=K.U(k.$());K.Gc(H.G,H.s,A,k);H.G=A;H.s=k}}if(g[2]){var Z=R&&!K.UH.En(R),J=g[2].bW.O(),s=Q.length==1&&J.X.length!=0,E=Q.length==1&&J.eF.length>1;
if(E)s=!1;var z=s?J.X:null,h=E?J.eF:null;if(Z){var d=K.UH.Fo(R);K.D.C(D,d[3]);K.R.ab1(J.z,d,z,h)}else K.R.a4E(J.z,D,z,h);
if(X.add.vstk&&q){X.add.vstk.strokeStyleLineWidth.v.val=g[2].o0.strokeStyleLineWidth.v.val*_;var Y=g[2].zT;
if(Y&&Y.px==3){Y=K.u(Y);var C=Y.zT.phase.v;Y.zT.Scl.v.val=Math.round(Y.zT.Scl.v.val*_);C.Hrzn.v=Math.round(C.Hrzn.v*_);
C.Vrtc.v=Math.round(C.Vrtc.v*_);g8.zc(X.add,Y)}}if(X.add.vogk){X.add.vogk=K.u(g[2]._y);if(Z||E)K._y.as7(X.add.vogk);
else K._y.C(X.add.vogk,D,Q.length>1?[]:J.X,q)}if(X.add.vstl){var i=X.add.vstl=JSON.parse(g[2].no);for(var M=0;
M<2;M++){var W=M==0?i.vg:i.tY;if(W==null||W[3]==null)continue;var $=W[3],P=new j8($[0],$[1],$[2],$[3],$[4],$[5]);
P.concat(c);W[3]=[P.NX,P.b,P.RK,P.zP,P.Qr,P.dE]}}J.g_*=_;var O=new j8;O.rotate(J.gV);O.concat(c);J.gV=Math.atan2(-O.b,O.NX);
X.add.vmsk=J;if(X.add.vogk)K._y.IA(X.add.vogk,X.add.vmsk)}if(g[3]){var P=g[3].O();P.concat(c);X.add.TySh.C=P;
eR.o3(X.add.TySh);ji.xe(X,n.wR)}if(g[4]){var G=X.add.SoLd,t=N.IP.lw(g[4].nonAffineTransform);K.D.C(D,t);
var y=K.c.so(t);if(ew.bL(t)){if(R){var r=K.c.Tv(K.UH.Fo(g[4].quiltWarp.v)[3]),A=K.D.ZM(t,r),u=K.c.Tv(K.UH.Fo(R)[3]);
t=[u.x,u.y,u.x+u.q,u.y,u.x+u.q,u.y+u._,u.x,u.y+u._];K.D.C(A,t);G.quiltWarp.v=R}var S=K.D.ZM(t),w=t;if(!K.D.HF(S)){S[6]=S[7]=0;
w=[0,0,1,0,1,1,0,1];K.D.C(S,w)}G.Trnf=N.IP.ob(w);G.nonAffineTransform=N.IP.ob(t);if(G.filterFX)G.filterFX=K.u(g[4].filterFX);
N.IP.a3o(G,c);X.pS(j,B==0,n.wR)}}if(g[5])N.IP.TE(j,g[5],X.vG(j).N,B,D,R);if(g[7])N.IP.TE(j,g[7],X,B,D,R);
if(0<=p){if(!l)X.Dy();X.tI(j);X.ge();if(X.xw)X.xw.G4=!0}}j.ge()};N.IP.XR=function(j,n){var Q=n.P8(),a=0;
K.hY(j);var B=K.a4G(j,n,.3,4);a=B[0];n=B[1];var m=j[a],R=j[a+1],q=R.q,U=R._,l=K.c.yc(R).g;K.c.C(l,n,l);
var b=K.c.so(l),D=K.U(b.$()),c=b.x,_=b.y,p=b.q,X=b._,g=n.O();g.m2();var F=g.JZ(new eE(0,0)),k=g.JZ(new eE(1,0)),I=k.x-F.x,e=k.y-F.y;
for(var H=0;H<X;H++){var A=g.NX*(c+.5)+g.RK*(H+_+.5)+g.Qr,Z=g.b*(c+.5)+g.zP*(H+_+.5)+g.dE;for(var J=0;
J<p;J++){D[H*p+J]=Math.floor(.5+K.D.aHk(A,Z,m,q,U));A+=I;Z+=e}}return{s:b,G:D}};N.IP.sO=function(j,n,Q,a,B,m){if(Q==null)Q=!1;
return N.IP.CN(j,Q?0:1,K.D.UN(n),null,a,B,m,Q)};N.IP.CN=function(j,n,Q,a,B,m,R,q){if(q==null)q=!1;if(q&&R)throw"e";
var U={},b=0;if(a&&!K.UH.En(a)){var l=K.UH.Fo(a);K.D.C(Q,l[3]);U.s=K.c.so(l[3]);U.buffer=K.U(U.s.$()*4);
K.rU.drawImage(l,j[0],j[1].O(),K.UH.uI(a),U.buffer,U.s,n==0);return U}if(K.D.HF(Q)){K.xu(j);var D=.3,b=0,c=K.D.lm(Q),_=j[1],p=_.$()*c.P8();
if(q&&p>4e6)D=p>8e6?2.2:1.2;var X=K.a4G(j,c,D,16);b=X[0];Q=K.D.UN(X[1])}var g=j[b],_=j[b+1],F=K.D.Da(Q,K.D.UN(new j8(_.q,0,0,_._,_.x,_.y))),k=[0,0,1,0,1,1,0,1];
K.D.C(F,k);U.s=K.c.so(k);if(R)U.s=U.s.uf(R);if(q){while((U.s.q&3)!=0)U.s.q++;while((U.s._&3)!=0)U.s._++}if(!ew.bL(k)||U.s.q>1e5||U.s._>1e5||U.s.$()>3e4*3e4)return null;
var I=U.s.$()*4;if(B&&B.byteLength>=I&&I>=B.byteLength>>2){U.buffer=new Uint8Array(B)}else{U.buffer=K.U(I)}K.D.drawImage(F,g,_.q,_._,U.buffer,U.s,n==0,m,q);
if(n==2&&U.buffer){var e=U.s.q,H=U.s._,A;A=[0,-1,0,-1,16,-1,0,-1,0];A=K.GY.c4(A);var Z=U.buffer.slice(0);
K.GY.ie(Z,U.buffer,e,H,A,255,!1,!0)}if(U.buffer)return U};N.IP.TE=function(j,n,Q,a,B,m,R){var q=n.s,U=n.G;
if(R){q=R;U=n.OC(q)}if(n.color==255)K.m2(U);var l=K.U(q.$()*4);K.wj(U,l,3);var b=N.IP.CN([l,q],a,B,m);
if(b){Q.s=b.s;Q.G=K.U(b.s.$());K._W(b.buffer,Q.G,3);Q._r=!0}if(n.color==255){K.m2(U);if(b)K.m2(Q.G)}};
N.IP.a3o=function(j,n){var Q=j.filterFX;if(Q)Q=Q.v.filterFXList;if(Q)Q=Q.v;if(Q)for(var a=0;a<Q.length;
a++){var B=Q[a].v.Fltr;if(B==null)continue;var m=B.v.classID;B=B.v;if(m!="rigidTransform"&&m!="blurbTransform")continue;
var R=[];for(var q=0;q<4;q++)R.push(B["PuX"+q].v,B["PuY"+q].v);var U=R.slice(0);K.c.C(R,n,R);for(var q=0;
q<4;q++){B["PuX"+q].v=R[q*2];B["PuY"+q].v=R[q*2+1]}if(m=="rigidTransform"){var l=["PinP","posFinalPins"],b=["originalVertexArray","deformedVertexArray"],D=B.puppetShapeList.v;
for(var c=0;c<D.length;c++){var _=D[c].v;for(var p=0;p<l.length;p++){var X=N.IP.lw(_[l[p]]);K.c.C(X,n,X);
_[l[p]]=N.IP.ob(X);var g=new Uint8Array(_[b[p]].v),U=new Float32Array(g.buffer);K.c.C(U,n,U);var F=[];
for(var k=0;k<g.length;k++)F[k]=g[k];_[b[p]].v=F}}}if(m=="blurbTransform"){var I=[[0,1],[0,1,2,3,4,5,6,7,8,9],[],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,5,6,7,8],[0,1,2,3,4,5,6,7,8,9]],e=K.o7.LZ(B)[0];
for(var H=0;H<6;H++){var A=e[H],Z=I[H];for(var v=0;v<A.length;v++){var J=A[v],U=[];for(var s=0;s<Z.length;
s++)U[s]=J[Z[s]];K.c.C(U,n,U);for(var s=0;s<Z.length;s++)J[Z[s]]=U[s]}}K.o7.AH(e,B)}}};N.IP.lw=function(j){var n=[],Q=j.v.length;
for(var v=0;v<Q;v++)n.push(j.v[v].v);return n};N.IP.ob=function(j){var n={t:"VlLs",v:[]},Q=j.length;
for(var v=0;v<Q;v++)n.v.push({t:"doub",v:j[v]});return n};N.IP.prototype.aGy=function(){var j=K.c.Tv(K.UH.Fo(this.N9.Sl())[3]),n=K.D.ZM(this.o6.cX(),this.$P),Q=[j.x,j.y,j.x+j.q,j.y,j.x+j.q,j.y+j._,j.x,j.y+j._];
K.D.C(n,Q);this.o6.fn(Q);this.$P=j};N.IP.prototype.wa=function(){var j=K.D.ZM(this.o6.cX(),this.$P);
if(this.nM)j=K.D.Da(j,K.D.UN(this.nM));return j};N.IP.prototype.Vv=function(j,n,Q,a){var B=this.wa();
B=K.D.Da(B,K.D.m2(this.gM));var m=this.N9?this.N9.Sl():null;if(this.BQ==0){var R=this.t1=K.D.lm(B);if(this.id==N.fS){var q=this.tJ[0][0],U=q.In,l=U[1],b=~~(l.q*Math.max(0,R.NX)),D=~~(l._*Math.max(0,R.zP)),c=new b4(Math.round(R.NX*l.x+R.Qr),Math.round(R.zP*l.y+R.dE),b,D),_=K.TX.C(this.D8,c),p=j.T[this.T[0]];
p.buffer=_;p.s=c;p.ge();j.ge()}else N.IP.QB(j,n,this.T,this.tJ,Q,B,m,null,null,a)}else if(this.BQ==1){var X=j.T[this.T[0]],l=this.fY.SK;
if(X.s0<=0){var g=this.fY.FJ,F=this.bX,k=null;if(m&&!K.UH.En(m)&&!F.s.N_(l)){var _=K.U(F.s.$()*4);K.EC(g,l,_,F.s);
g=_;l=F.s}if(this.id==N.fS){var R=this.t1=K.D.lm(B),b=~~(l.q*Math.max(0,R.NX)),D=~~(l._*Math.max(0,R.zP)),c=new b4(Math.round(R.NX*l.x+R.Qr),Math.round(R.zP*l.y+R.dE),b,D),_=K.TX.C(this.D8,c);
k={buffer:_,s:c}}else k=N.IP.CN([g,l],Q,B,m);if(k){X.YT.Mj=k.buffer;X.YT.tA=k.s;var I=K.U(k.s.$());K._W(X.YT.Mj,I,3);
j.K={G:I,s:X.YT.tA.O()}}}else{var e=K.U(l.$()*4);K.wj(this.fY.FJ,e,3);var k=N.IP.CN([e,l],Q,B,m);if(k){X.YT.Mj=K.U(k.s.$());
K._W(k.buffer,X.YT.Mj,3);X.YT.tA=k.s}this.aoK(j,Q,B,m)}X.DY(j,0,0,j.K);if(Q!=0){X.Dy();K.Dy(j.K)}j.Lg=!0;
j.ge()}else if(this.BQ==2)this.aoK(j,Q,B,m)};N.IP.prototype.aoK=function(j,n,Q,a){var B=this.bX.s,m=K.U(B.$()*4);
K.wj(this.bX.G,m,3);var R=N.IP.CN([m,B],n,Q,a),q=K.U(R.s.$());K._W(R.buffer,q,3);j.K={G:q,s:R.s};j.Lg=!0};
N.IP.prototype.disable=function(j,n,Q,a){if(this.o6)this.Y_(j,n,null,!0)};N.arx=function(){N.IP.call(this,[10,16],N.CL,"tools/transform")};
N.arx.prototype=new N.IP;N.avy=function(){N.IP.call(this,[7,10],N.ea,"tools/transform")};N.avy.prototype=new N.IP;
N.aGB=function(){N.IP.call(this,[10,48],N.fS,"tools/transform")};N.aGB.prototype=new N.IP;N.Ie=function(j,n,Q){N.wU.call(this,j?j:[10,40],n?n:N.uE,Q?Q:"tools/slice");
this.e8=null;this.xo=null;this.s2={xE:0,x:0,y:0};this._0=null;this.aze=null;this.jV=null;this.ES=null};
N.Ie.prototype=new N.wU;N.Ie.Zf=function(j,n){var Q=-1;for(var v=0;v<j.length;v++){var a=N.Ie.$O(j,v);
if(a[0]<=n.x&&n.x<=a[2]&&a[1]<=n.y&&n.y<=a[3]){Q=v;break}}return Q};N.Ie.prototype.JQ=function(j,n,Q,a,B){if(Q==null)return;
this.gt(Q);if(j.Q=="fromAction"){var m=j.bm,R=m.ep,q=m.Tu,U=Q.qE(),l=Q.M5(),b=l==-1?new b4(0,0,Q.q,Q._):Q.T[l].v_();
if(R=="divide"){if(Q.RL.length!=0){var D=Q.RL[0],c=N.Ie.$O(Q.XZ,D);b=new b4(c[0],c[1],c[2]-c[0],c[3]-c[1]);
Q.XZ.splice(D,1);Q.RL=[]}U=[[],[]];for(var _=0;_<2;_++){var p=["Across","Down"][_],X=q["pixels"+p]?0:1,g=q[["pixels","slices"][X]+p];
if(g==null)continue;g=g.v;var F=_==0?b.x:b.y,k=_==0?b.q:b._;if(X==0)for(var v=1;v*g<k;v++){U[0].push([_,F+v*g]);
U[1].push(l)}else{var I=Math.floor(k/g);for(var v=1;v<g;v++){U[0].push([_,F+v*I]);U[1].push(l)}}}}var e=[b.x,b.x+b.q],H=[b.y,b.y+b._];
for(var v=0;v<U[0].length;v++){var A=U[0][v],Z=Math.round(A[1]),J=U[1][v];if(J!=-1&&J!=l)continue;if(A[0]==0&&e.indexOf(Z)==-1)e.push(Z);
if(A[0]==1&&H.indexOf(Z)==-1)H.push(Z)}e.sort(function(W,$){return W-$});H.sort(function(W,$){return W-$});
for(var s=1;s<H.length;s++)for(var E=1;E<e.length;E++){Q.XZ.push(N.Ie.DI());N.Ie.pu(Q.XZ,Q.XZ.length-1,[e[E-1],H[s-1],e[E],H[s]]);
Q.UF=!0}}else if(j.Q=="reorder"){if(Q.RL.length==0)return;var z=Q.XZ,h=Q.RL;h.sort(function(W,$){return W-$});
console.log(h);var d=z.slice(0),Y=[],C=[];for(var v=0;v<h.length;v++){var D=h[v],i=z[D];C.push(i);d.splice(d.indexOf(i),1)}var M=Math.max(0,Math.min(d.length,h[0]-j.dir));
for(var v=0;v<C.length;v++){d.splice(M+v,0,C[v]);Y.push(M+v)}Q.XZ=d;Q.RL=Y}else if(j.Q=="delete"){var z=Q.XZ.slice(0);
for(var v=0;v<Q.RL.length;v++)Q.XZ.splice(Q.XZ.indexOf(z[Q.RL[v]]),1);Q.RL=[]}else if(j.Q=="deleteAll"){Q.XZ=[];
Q.RL=[]}else{Q.XZ[Q.RL[0]].v=j;Q.UF=!0}this.g0(Q)};N.Ie.prototype.enable=function(j,n,Q,a,B,m){N.wU.prototype.enable.call(this,j,n,Q,a,B,m);
if(!Q.c8.XZ){var R=new ar(x.E.B,!0);R.data={Q:x.l.m6,_X:b3.WK};n.a(R)}};N.Ie.prototype.disable=function(){this.e8=null;
this.xo=null};N.Ie.prototype.mZ=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=N.Ie.Zf(j.XZ,m);if(R==-1)return;
this.e8=j;this.xo=n;j.RL=[R];j.UF=!0;if(this.ES==null){this.ES=new ig([{name:[5,4]},{name:[8,11,1],lM:!0}]);
this.ES.P("select",this.pA,this)}var q=this.ES;q.parent=n;q.S();q.update(j,Q);var U=new ar(x.E.B,!0);
U.data={Q:x.l.Ix,cB:q,x:B.vr+2,y:B.Bk+1};n.a(U)};N.Ie.prototype.pA=function(j){var n=this.ES.IF()[0],Q=this.e8;
if(n==0){this.gt(Q);Q.XZ.splice(Q.RL[0],1);Q.RL=[];Q.UF=!0;this.g0(Q)}if(n==1){var a=new ar(x.E.B,!0);
a.data={Q:x.l.Vg,Z8:"soptions",J:Q.XZ[Q.RL[0]].v};this.xo.a(a)}};N.Ie.prototype.v1=function(j,n,Q,a,B){if(j==null)return;
this.gt(j);var m=j.e.oR(B.x,B.y);m=N.mL.VJ(j,m,Q,[!0,null,!1]);m.x=Math.round(m.x);m.y=Math.round(m.y);
this.jV=m;j.XZ.unshift(N.Ie.DI());j.RL=[0];N.Ie.pu(j.XZ,0,[m.x,m.y,m.x+20,m.y+20]);j.UF=!0};N.Ie.prototype.Z3=function(j,n,Q,a,B){if(this._0==null)return;
var m=j.e.oR(B.x,B.y),R=this.jV;m=N.mL.VJ(j,m,Q,[!0,null,!1]);var q=N.Ma.Cy(R,m,a,!0,this.s2);R=q[0];
m=q[1];var U=[R.x,R.y,m.x,m.y];N.Ie.agv(U);N.Ie.pu(j.XZ,0,U);j.UF=!0};N.Ie.prototype.pU=function(j,n,Q,a,B){this.g0(j);
this.jV=null};N.Ie.prototype.gt=function(j){this._0=JSON.stringify(j.XZ);this.aze=JSON.stringify(j.RL)};
N.Ie.prototype.g0=function(j){var n=JSON.stringify(j.XZ);if(n!=this._0){var Q=new ae(this.name,this);
Q.data={fY:this._0,ul:n,a8X:this.aze,aEj:JSON.stringify(j.RL)};j.xr(Q)}this._0=null};N.Ie.prototype.X7=function(j,n){n.XZ=JSON.parse(j.fY);
n.RL=JSON.parse(j.a8X);n.UF=!0};N.Ie.prototype.pk=function(j,n){n.XZ=JSON.parse(j.ul);n.RL=JSON.parse(j.aEj);
n.UF=!0};N.Ie.prototype.qi=function(j,n){return n!=null&&n.RL.length!=0&&(j==i8.Va||j==i8.Bo)};N.Ie.prototype.hs=function(j,n,Q,a){if(j==null)return;
if(a.r(i8.Va)||a.r(i8.Bo))this.JQ({Q:"delete"},n,j,a,Q);var B=a.su();if(B.x!=0||B.y!=0){this.gt(j);N.Ie.sc(j,B);
this.g0(j)}};N.Ie.prototype.UY=function(j,n,Q,a,B){this.s2=j.tz};N.Ie.aqj=function(j,n,Q,a){var B=new eE(-n.x,-n.y),m=n.q/Q.q,R=n._/Q._,q=[0,0,n.q,n._];
for(var v=0;v<j.length;v++){var U=N.Ie.$O(j,v);if(a){U[0]=Math.round(U[0]*m);U[1]=Math.round(U[1]*R);
U[2]=Math.round(U[2]*m);U[3]=Math.round(U[3]*R)}else{N.Ie.$n(U,B);N.Ie.ad7(U,q)}if(U[0]>=U[2]||U[1]>=U[3]){j.splice(v,1);
v--;continue}N.Ie.pu(j,v,U)}};N.Ie.sc=function(j,n){var Q=j.XZ;for(var v=0;v<j.RL.length;v++){var a=N.Ie.$O(Q,j.RL[v]);
N.Ie.$n(a,n);N.Ie.pu(Q,j.RL[v],a)}};N.Ie.ad7=function(j,n){if(j[0]<n[0])j[0]=n[0];if(j[1]<n[1])j[1]=n[1];
if(n[2]<j[2])j[2]=n[2];if(n[3]<j[3])j[3]=n[3]};N.Ie.$n=function(j,n){j[0]=Math.round(j[0]+n.x);j[2]=Math.round(j[2]+n.x);
j[1]=Math.round(j[1]+n.y);j[3]=Math.round(j[3]+n.y)};N.Ie.pu=function(j,v,n){var Q=j[v].v.bounds.v;Q.Left.v=n[0];
Q.Top.v=n[1];Q.Rght.v=n[2];Q.Btom.v=n[3]};N.Ie.$O=function(j,v){var n=j[v].v.bounds.v;return[n.Left.v,n.Top.v,n.Rght.v,n.Btom.v,v]};
N.Ie.agv=function(j){if(j[2]<j[0]){var n=j[0];j[0]=j[2];j[2]=n}if(j[2]==j[0])j[2]++;if(j[3]<j[1]){var n=j[1];
j[1]=j[3];j[3]=n}if(j[3]==j[1])j[3]++};N.Ie.Tv=function(j,n){var Q=1e9,a=-1e9,B=1e9,m=-1e9;for(var v=0;
v<n.length;v++){var R=N.Ie.$O(j,n[v]);Q=Math.min(Q,R[0]);B=Math.min(B,R[1]);a=Math.max(a,R[2]);m=Math.max(m,R[3])}return[Q,B,a,m]};
N.Ie.DI=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
N.wu=function(){N.Ie.call(this,[10,41],N.pi,"tools/sselect");this.jV=null;this.f2=null;this.zt=null;
this.UM=null;this.ct=!1};N.wu.prototype=new N.Ie;N.wu.prototype.v1=function(j,n,Q,a,B){if(j==null)return;
var m=j.e.oR(B.x,B.y),R=N.wu.av$(m,4/j.e.yr,j.XZ,j.RL);R.pop();if(R.length!=0){this.jV=m;this.zt=R;this.gt(j);
return}var q=j.XZ,U=N.Ie.Zf(q,m);if(U==-1)j.RL=[];else{var l=j.RL.indexOf(U);if(a.r(i8.f8)){if(l==-1)j.RL.push(U);
else j.RL.splice(l,1)}else{j.RL.sort(function(X,g){return X-g});if(l==-1)j.RL=[U];this.jV=m;this.gt(j);
this.f2=N.Ie.Tv(q,j.RL);this.UM=[];for(var v=0;v<j.RL.length;v++)this.UM.push(N.Ie.$O(q,j.RL[v]));if(a.r(i8.Y2)){var b=q.slice(0),D=j.RL,c=[];
for(var v=0;v<D.length;v++){var U=D[v],_=b[U],p=q.indexOf(_);c.push(p);q.splice(p,0,K.u(_))}j.RL=c}}}j.UF=!0};
N.wu.prototype.Z3=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y);if(this.jV==null){var R=N.wu.av$(m,4/j.e.yr,j.XZ,j.RL),q=R.pop(),U=R.length==0?"default":["ew","nwse","ns","nesw"][q]+"-resize",l=new ar(x.E.B,!0);
l.data={Q:x.l.w4,sz:U};n.a(l);return}if(!this.ct&&m.N_(this.jV))return;this.ct=!0;var b=j.XZ,R=this.zt;
if(R){m=N.mL.VJ(j,m,Q,[!0,null,!1]);var D=Math.round(m.x),c=Math.round(m.y);for(var v=0;v<R.length;v+=2){var _=N.Ie.$O(b,R[v]),p=R[v+1];
_[p]=(p&1)==0?D:c;N.Ie.agv(_);N.Ie.pu(b,R[v],_)}}else{var X=m.tV(this.jV),g=this.f2.slice(0);N.Ie.$n(g,X);
var F=new b4(g[0],g[1],g[2]-g[0],g[3]-g[1]),k=N.mL.Fm(j,F,Q,[!0,null,!1],!0);N.mL.xP(j,F,k);X.x+=k[0];
X.y+=k[1];for(var v=0;v<j.RL.length;v++)N.Ie.pu(b,j.RL[v],this.UM[v]);N.Ie.sc(j,X)}j.UF=!0};N.wu.prototype.pU=function(j,n,Q,a,B){if(this.jV==null)return;
this.g0(j);j.M.cs=null;j.UF=!0;this.jV=null;this.zt=null;this.UM=null;this.ct=!1};N.wu.av$=function(j,n,Q,a){var B=j.x,m=j.y,R=[],q=-1,U=[];
for(var v=0;v<a.length;v++){var l=a[v],b=N.Ie.$O(Q,l),D=b[0],c=b[1],_=b[2],p=b[3];if(B<D-n||_+n<B||m<c-n||p+n<m)continue;
var X=[B<D+n,m<c+n,_-n<B,p-n<m],g=-1;for(var F=0;F<4;F++){if(X[F]&&X[F+1&3])g=1+2*(F&1);if(X[F])R.push(l,F)}if(g==-1){if(X[0]||X[2])g=0;
if(X[1]||X[3])g=2}if(g!=-1){q=g;U.push(l)}}var k=R.length;for(var v=0;v<k;v+=2){var l=R[v],I=R[v+1],e=N.Ie.$O(Q,l)[I];
for(var F=0;F<a.length;F++){var H=a[F];if(U.indexOf(H)!=-1)continue;var b=N.Ie.$O(Q,H);if(b[I&1]==e)R.push(H,I&1);
if(b[2+(I&1)]==e)R.push(H,2+(I&1))}}R.push(q);return R};N.FN=function(j,n,Q){N.wU.call(this,j,n,Q);this.y7=null;
this.ar6=null;this.i5=null;this.zW=null;this.TL=null;this.HX=null;this.cS=null;this.Pe=[]};N.FN.prototype=new N.wU;
N.FN.prototype.Ys=function(){return!0};N.FN.y4=function(j){if(j==null)return!1;if(j.X.length!=1)return!1;
var n=j.T[j.X[0]];return n.add.SoLd||j.rV(!1)};N.FN.prototype.yJ=function(j,n){return N.FN.y4(j)};N.FN.prototype.qi=function(j,n){return j==i8.Va||j==i8.Bo};
N.FN.prototype.enable=function(j,n,Q,a,B,m,R){this.ar6=m.pa;var q=m.pa,U,p=null;if(q){var l=j.T[q.W];
if(l.add.SoLd.filterFX!=null){var b=l.add.SoLd.filterFX.v.filterFXList.v;if(b[q.index])U=K.u(b[q.index].v.Fltr.v)}}var l=j.T[j.X[0]],D=l.buffer,c=l.s,_=l.add.SoLd;
if(_){var X=_.nonAffineTransform.v;p=[];for(var v=0;v<4;v++)p.push(X[v*2].v,X[v*2+1].v);if(U==null)this.B8("edit",n);
var g=l.vG(j);D=g.buffer;c=g.s}this.zW={buffer:D.slice(0),s:c.O(),a43:p};this.aIg(U,j,n,m.Aj);this.a8R(n);
var F=new ar(x.E.B,!0);F.data={Q:x.l.w4,sz:"default"};n.a(F)};N.FN.prototype.a8R=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.nz,I:this.id,_X:this.TL};j.a(n)};N.FN.prototype.disable=function(j,n,Q,a){if(this.HX)this.Y_(j,n,!0)};
N.FN.prototype.B8=function(j,n){var Q=new ar(x.E.A,!0);Q.I=N.KV;Q.data={Q:j,pa:this.ar6,y7:this.y7,n8:this.i5};
n.a(Q)};N.FN.prototype.Y_=function(j,n,Q){this.B8("confirm",n);this.escape(j,n,Q)};N.FN.prototype.Ju=function(j,n,Q){this.B8("cancel",n);
this.escape(j,n,Q)};N.Su=function(j,n,Q){N.FN.call(this,[10,46],N.XF,"tools/transform");this.y7="rigidTransform";
this.TL=[1,1,2,!0]};N.Su.prototype=new N.FN;N.Su.prototype.aIg=function(j,n,Q){this.i5=j?j:N.Su.Qi(this.zW,this.TL);
this.HX=N.Su.ns(this.i5,this.TL);this.vk();this.UE(n);if(j==null)this.HD(Q)};N.Su.prototype.vk=function(j){var n=this.HX;
this.Pe=[];for(var v=0;v<n.length;v++){var Q=n[v];for(var a=0;a<Q.X.length;a++)this.Pe.push([v,Q.X[v]]);
Q.o2=K.m3.adG(Q);if(j)K.m3.aqt(Q)}};N.Su.prototype.UY=function(j,n,Q,a){if(j.dI=="commit")this.Y_(Q,n,!0);
else if(j.dI=="cancel")this.Ju(Q,n,!0);else if(j.dI=="prm"){var B=!1;for(var v=0;v<3;v++)if(this.TL[v]!=j._X[v])B=!0;
this.TL=j._X;if(B){this.i5=N.Su.Qi(this.zW,this.TL,this.i5);this.HX=N.Su.ns(this.i5,this.TL);this.vk(!0);
this.HD(n)}this.UE(Q)}else if(j.dI=="moveDepth"){var m=this.HX;for(var R=0;R<m.length;R++){var q=m[R];
for(var v=0;v<q.X.length;v++){var U=q.X[v];q.Eh[U]+=j.aB8?1:-1}}this.HD(n)}};N.Su.prototype.hs=function(j,n,Q,a){var B=a.su();
if(a.r(i8.mI))this.Y_(j,n,!0);else if(a.r(i8.tf))this.Ju(j,n,!0);else if(a.r(i8.Va)||a.r(i8.Bo)){var m=this.HX;
for(var R=0;R<m.length;R++){var q=m[R];q.X.sort(function(b,D){return D-b});for(var v=0;v<q.X.length;
v++){var U=q.X[v],l=U*2;q.Eh.splice(U,1);q.hg.splice(U,1);q.E_.splice(U,1);q.LO.splice(U,1);q.w6.splice(l,2);
q.nG.splice(l,2)}q.X=[];if(q.LO.length==0){q.rQ=q.xd.slice(0);q.TV=q.xd.slice(0)}}this.vk(!0);this.HD(n);
this.UE(j)}else if(B.x!=0||B.y!=0){this.aqI(j,B.x,B.y,n);this.SU=null}};N.Su.prototype.escape=function(j,n,Q){j.M.RJ=null;
j.M.Ne=[];j.M.la=[];j.UF=!0;this.HX=null;var a=new ar(x.E.B,!0);a.data={Q:x.l.Zt};if(Q)n.a(a)};N.Su.prototype.v1=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=m.x,q=m.y,U=this.HX,l=null,b=[0,2,4,1.2,1.2,1.2],D=-1,c=N.bE(j,B);
for(var v=0;v<U.length;v++){var _=U[v],p=K.c.g4(_.nG,R,q,c);if(p!=-1)l=[v,p];if(D==-1&&K.m3.aD2.a78(_.TV,_.kc,R,q))D=v}if(l==null&&D!=-1){var _=U[D];
N.Su.aFH(_,R,q,R,q,0);l=[D,_.LO.length-1];_.o2=K.m3.adG(_)}this.cS=m;if(l){var X=U[l[0]].X.indexOf(l[1])!=-1;
if(a.r(i8.f8)&&!X){U[l[0]].X.push(l[1]);this.Pe.push(l)}else if(!X){U[l[0]].X=[l[1]];this.Pe=[l]}}this.UE(j)};
N.Su.aFH=function(j,n,Q,a,B,m){var R=K.c.g4(j.TV,n,Q);j.LO.push(R);j.nG.push(a,B);j.w6.push(j.TV[R*2]-n,j.TV[R*2+1]-Q);
j.E_.push(0);j.hg.push(!1);j.Eh.push(m)};N.Su.prototype.Z3=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=this.cS;
if(R)this.aqI(j,m.x-R.x,m.y-R.y,n)};N.Su.prototype.aqI=function(j,n,Q,a){var B={},m=this.Pe,R=this.HX;
if(this.SU==null){this.SU=[];for(var v=0;v<R.length;v++)this.SU.push(R[v].nG.slice(0))}for(var v=0;v<m.length;
v++){var q=this.Pe[v],U=q[0],l=R[q[0]],b=q[1]*2;l.nG[b+0]=this.SU[U][b+0]+n;l.nG[b+1]=this.SU[U][b+1]+Q;
B[U]=U}for(var U in B)K.m3.aqt(this.HX[B[U]]);this.UE(j);this.HD(a)};N.Su.prototype.pU=function(j,n,Q,a,B){this.cS=null;
this.SU=null};N.Su.prototype.HD=function(j){N.Su.aDM(this.HX,this.TL,this.i5);this.B8("edit",j)};N.Su.prototype.UE=function(j){var n=this.HX,Q=this.i5;
j.M.RJ={g:[],rZ:[]};j.M.Ne=[];j.M.la=[];for(var v=0;v<n.length;v++){var a=n[v];for(var B=0;B<a.nG.length;
B+=2){var m=j.M.la;if(a.X.indexOf(B>>>1)!=-1)m=j.M.Ne;m.push(a.nG[B],a.nG[B+1])}if(this.TL[3])K.c.concat(j.M.RJ,K.c.aAL(a.TV,a.kc))}j.UF=!0};
N.Su.Qi=function(j,n,Q){var a=j.buffer,B=j.s,m=j.a43,R=fo.cL("rigidTransform");if(m)for(var v=0;v<4;
v++){R["PuX"+v].v=m[v*2];R["PuY"+v].v=m[v*2+1]}var q=R.puppetShapeList.v,U=K.m3.aAg(a,B.q,B._,n[1],n[2]),l=[];
for(var b=0;b<U.length;b++){var D={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
D.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var c=U[b];q.push({t:"Objc",v:D});var _=c.xd.slice(0);K.c.C(_,new j8(1,0,0,1,B.x,B.y),_);var p=c.kc;
for(var v=0;v<p.length;v+=3){var X=p[v+1];p[v+1]=p[v+2];p[v+2]=X}l.push({kc:p,xd:_,rQ:_,TV:_,LO:[],w6:[],nG:[],o2:null,X:[],E_:[],hg:[],Eh:[]})}if(Q){var g=N.Su.ns(Q,[]),F=l[0];
for(var v=0;v<g.length;v++){var k=g[v];for(var I=0;I<k.X.length;I++)F.X.push((F.nG.length>>>1)+k.X[I]);
for(var I=0;I<k.LO.length;I++){var e=k.LO[I]*2,H=k.xd[e]-k.w6[I*2],A=k.xd[e+1]-k.w6[I*2+1];N.Su.aFH(F,H,A,k.nG[I*2],k.nG[I*2+1],k.Eh[I])}}}N.Su.aDM(l,n,R);
return R};N.Su.ns=function(j,n){var Q=N.IP.lw,a=j.puppetShapeList.v,B=[];for(var m=0;m<a.length;m++){var R=a[m].v;
n[0]=R.meshRigidity.v-1;n[1]=R.meshQuality.v-1;n[2]=R.meshExpansion.v;var q=R.pinVertexIndices.v.length,U=R.meshBoundaryPath.v.pathComponents.v;
if(U.length!=0){var l=U[0].v.SbpL.v[0].v.Pts;l.v=[]}var b=new Uint32Array(new Uint8Array(R.indexArray.v).buffer),D=new Float32Array(new Uint8Array(R.originalVertexArray.v).buffer),c=new Float32Array(new Uint8Array(R.deformedVertexArray.v).buffer),_=[],p=[],X=[];
for(var v=0;v<b.length;v++)_.push(b[v]);for(var v=0;v<D.length;v++){p.push(D[v]);X.push(c[v])}var g=Q(R.pinVertexIndices),F=Q(R.pinOffsets),k=Q(R.posFinalPins),I=Q(R.PnRt),e=Q(R.PnOv),H=Q(R.PnDp),A=Q(R.selectedPin);
B.push({kc:_,xd:p,rQ:X.slice(0),TV:X,LO:g,w6:F,nG:k,o2:null,E_:I,hg:e,Eh:H,X:A})}return B};N.Su.aDM=function(j,n,Q){function a(c,_){var p=[];
for(var v=0;v<c.length;v++)p.push({t:_,v:c[v]});return p}function B(c,_,p){var X=new(p?Uint32Array:Float32Array)(c),g=new Uint8Array(X.buffer);
for(var v=0;v<g.length;v++)_[v]=g[v]}var m=Q.puppetShapeList.v;for(var R=0;R<m.length;R++){var q=j[R],U=m[R].v;
U.meshRigidity.v=n[0]+1;U.meshQuality.v=n[1]+1;U.meshExpansion.v=n[2];B(q.kc,U.indexArray.v,!0);B(q.xd,U.originalVertexArray.v);
B(q.TV,U.deformedVertexArray.v);var l=[];for(var v=0;v<q.LO.length;v++){var b=q.LO[v]*2,D=v*2;l[D]=q.xd[b]-q.w6[D];
l[D+1]=q.xd[b+1]-q.w6[D+1]}U.PinP.v=a(l,"doub");U.pinVertexIndices.v=a(q.LO,"long");U.pinOffsets.v=a(q.w6,"doub");
U.posFinalPins.v=a(q.nG,"doub");U.PnRt.v=a(q.E_,"long");U.PnOv.v=a(q.hg,"bool");U.PnDp.v=a(q.Eh,"doub");
U.selectedPin.v=a(q.X,"long")}};N.KY=function(){N.FN.call(this,"Blur Gallery",N.ab0,"tools/ruler");this.y7="blurbTransform";
this.TL=[0,[],null];this.dg=-1};N.KY.prototype=new N.FN;N.KY.prototype.aIg=function(j,n,Q,a){var B=j==null;
if(j==null){j=fo.cL(this.y7);K.o7.aet(j,a,n.q/2,n._/2);var m=[!1,!1,!1,!1,!1,!1];m[a]=!0;K.o7.anV(j,m)}this.i5=j;
this.TL[0]=K.o7.ajF(j);this.TL[1]=K.o7.awJ(j);this.UE(n);if(B)this.B8("edit",Q)};N.KY.prototype.hs=function(j,n,Q,a){if(a.r(i8.mI))this.Y_(j,n,!0);
else if(a.r(i8.tf))this.Ju(j,n,!0);else if(a.r(i8.Va)||a.r(i8.Bo)){var B=this.dg;if(B==-1)return;var m=this.TL[0],R=K.o7.LZ(this.i5)[0],q=R[m];
if(m==0)q.splice(B,1);if(m==1||m==5)q.splice(Math.floor(B/6),1);if(m==3)q.splice(Math.floor(B/5),1);
if(m==4)q.splice(Math.floor(B/4),1);K.o7.AH(R,this.i5);K.o7.cI(this.i5,m);this.dg=-1;this.UE(j);this.B8("edit",n)}};
N.KY.prototype.UY=function(j,n,Q,a){if(j.dI=="commit")this.Y_(Q,n,!0);else if(j.dI=="cancel")this.Ju(Q,n,!0);
else{this.TL=j._X;var B=this.TL[0],m=this.dg;K.o7.anV(this.i5,this.TL[1]);if(this.TL[2]){var R=K.o7.LZ(this.i5)[0],q=R[B];
if(B==0)q[m][2]=this.TL[2][0];if(B==1||B==5)q[Math.floor(m/6)][14]=this.TL[2][0];if(B==3)q[Math.floor(m/5)][10]=this.TL[2][0];
if(B==4){q[0][4]=this.TL[2][0]/100;var U=(m&3)<2?0:5,l=q[Math.floor(m/4)],b=l[U],D=l[U+1],c=l[U+2]-b,_=l[U+3]-D,p=Math.sqrt(c*c+_*_),X=this.TL[2][1];
if(p==0){l[U+2]=b+X;l[U+3]=D}else{l[U+2]=b+X*c/p;l[U+3]=D+X*_/p}}K.o7.AH(R,this.i5)}K.o7.cI(this.i5,B);
this.UE(Q);this.B8("edit",n)}};N.KY.prototype.escape=function(j,n,Q){j.M.kS=null;j.M.kp=null;j.M.Nk=null;
j.M.Ne=[];j.M.la=[];j.UF=!0;this.HX=null;var a=new ar(x.E.B,!0);a.data={Q:x.l.Zt};if(Q)n.a(a)};N.KY.prototype.UE=function(j){var n=K.o7.LZ(this.i5)[0];
j.M.Ne=[];j.M.la=[];var Q=j.M.kS={g:[],rZ:[]},a=j.M.kp={g:[],rZ:[]},B=j.M.Nk={g:[],rZ:[]};this.Pe=[];
this.a0P=[];var m=this.TL[0],R=this.dg,q=n[m];for(var v=0;v<q.length;v++){var U=q[v];if(m==0){if(v==R){j.M.Ne.push(U[0],U[1]);
this.TL[2]=[U[2]]}else j.M.la.push(U[0],U[1]);this.a0P.push([]);this.Pe.push(U[0],U[1])}else if(m==1||m==5){var l=K.o7.arO(U);
l.m2();var b=[0,-1,1,0,0,1,-1,0,0,0,1-U[10],0];K.c.C(b,l,b);for(var D=0;D<b.length;D+=2){if(R==v*6+(D>>>1)){j.M.Ne.push(b[D],b[D+1]);
this.TL[2]=[U[14]]}else j.M.la.push(b[D],b[D+1]);this.Pe.push(b[D],b[D+1])}var c=K.c.gb(K.R.hi.$v(-1,-1,2,2));
K.c.concat(Q,c,l)}else if(m==3){var _=U[0],p=U[1],X=U[2]-U[0],g=U[3]-U[1],F=Math.sqrt(X*X+g*g),k=g*1e4/F,I=-X*1e4/F;
for(var D=0;D<10;D+=2){if(R==v*5+(D>>>1)){j.M.Ne.push(U[D],U[D+1]);this.TL[2]=[U[10]]}else j.M.la.push(U[D],U[D+1]);
this.Pe.push(U[D],U[D+1]);if(D==0)continue;if(Math.floor(R/5)!=v)continue;Q.g.push(U[D]-k,U[D+1]-I,U[D]+k,U[D+1]+I);
Q.rZ.push("M","L")}}else if(m==4){B.g.push(U[0],U[1],U[5],U[6]);B.rZ.push("M","L");for(var D=0;D<2;D++){var e=D*5,_=U[e],p=U[e+1],H=U[e+2],A=U[e+3],X=H-_,g=A-p,Z=Math.sqrt(X*X+g*g),J=25;
if(Z!=0){X/=Z;g/=Z}if((R&14)==v*4+D*2){j.M.Ne.push(_,p,H,A);this.TL[2]=[U[4]*100,Z]}else j.M.la.push(_,p,H,A);
a.g.push(_,p,H,A);a.rZ.push("M","L");this.Pe.push(_,p,H,A);if(Z==0)continue;var s=-X*J*2,E=-g*J*2;a.g.push(H,A,H+(-g*J+s),A+(X*J+E));
a.g.push(H,A,H+(g*J+s),A+(-X*J+E));a.rZ.push("M","L","M","L","M","L")}}}j.UF=!0};N.KY.prototype.Z3=function(j,n,Q,a,B){function m(y,v,u){var A=y[v]-y[u],Z=y[v+1]-y[u+1];
return Math.sqrt(A*A+Z*Z)}var R=j.e.oR(B.x,B.y),q=K.c.g4(this.Pe,R.x,R.y,6/j.e.yr);if(this.cS){var U=this.dg,l=this.TL,b=l[0],D=K.o7.LZ(this.i5)[0],c=D[b];
if(b==0){c[U][0]=R.x;c[U][1]=R.y}if(b==1||b==5){var _=Math.floor(U/6),p=U-_*6,X=c[_],g=m(X,0,2)/2,F=m(X,2,4)/2,k=X[8],I=X[9],e=Math.atan2(-X[3]+X[1],X[2]-X[0]),H=X[10],A=R.x-k,Z=R.y-I,J=Math.sqrt(A*A+Z*Z);
if(p<4){e=Math.atan2(-Z,A)+(-1+p)*Math.PI/2;if(p==0||p==2)F=J;else g=J}if(p==4){k=R.x;I=R.y}if(p==5)H=Math.max(0,Math.min(1,1-J/g));
var s=new j8;s.scale(g,F);s.rotate(e);s.translate(k,I);var E=c[_]=[-1,-1,1,-1,1,1,-1,1,0,0];K.c.C(E,s,E);
E.push(H,H,H,H,X[14])}if(b==3){var _=Math.floor(U/5),p=U-_*5,X=c[_],z=X[0],h=X[1],d=m(X,0,2),Y=m(X,0,4),C=m(X,0,6),i=m(X,0,8),e=Math.atan2(-X[3]+X[1],X[2]-X[0]),A=R.x-z,Z=R.y-h,J=Math.sqrt(A*A+Z*Z);
if(p==0){z=R.x;h=R.y}if(p==1)d=Math.max(C*1.1,J);if(p==2)Y=Math.max(i*1.1,J);if(p==3)C=Math.min(d,J);
if(p==4)i=Math.min(Y,J);if(p==1)e=Math.atan2(-Z,A);if(p==2)e=Math.atan2(Z,-A);var E=c[_]=[0,0,-d,0,Y,0,-C,0,i,0],s=new j8;
s.rotate(e+Math.PI);s.translate(z,h);K.c.C(E,s,E);E.push(X[10])}if(b==4){var _=Math.floor(U/4),p=U-_*4,X=c[_],M=p<2?0:5;
if((p&1)==0){var W=[X[2]-X[0],X[3]-X[1],X[7]-X[5],X[8]-X[6]],$=Math.atan2(-(X[6]-X[1]),X[5]-X[0]);X[M]=R.x;
X[M+1]=R.y;var P=Math.atan2(-(X[6]-X[1]),X[5]-X[0]),s=new j8;s.rotate(P-$);for(var v=0;v<2;v++){var O=new eE(W[v*2],W[v*2+1]);
O=s.JZ(O);X[v*5+2]=X[v*5]+O.x;X[v*5+3]=X[v*5+1]+O.y}}else{X[M+2]=R.x;X[M+3]=R.y}}K.o7.AH(D,this.i5);
K.o7.cI(this.i5,b);this.UE(j)}else{var G="default";if(q!=-1)G="pointer";var t=new ar(x.E.B,!0);t.data={Q:x.l.w4,sz:G};
n.a(t)}};N.KY.prototype.v1=function(j,n,Q,a,B){var m=this.TL[0],R=j.e.oR(B.x,B.y),q=R.x,U=R.y,l=K.c.g4(this.Pe,q,U,10/j.e.yr);
if(l==-1){l=K.o7.aet(this.i5,m,q,U)}this.cS=R;this.dg=l;this.UE(j)};N.KY.prototype.pU=function(j,n,Q,a,B){if(this.cS){this.B8("edit",n);
this.a8R(n)}this.cS=null};N.NM=function(){N.NJ.call(this,[10,44],N.azg,"tools/oselect");this.hU="crosshair";
this.ags=0};N.NM.prototype=new N.NJ;N.NM.prototype.Vk=function(j,n,Q,a){if(Math.random()<1/(1+this.ags)){alert("The cross should be fully inside the object.",3500);
this.ags++}};N.NM.prototype.a5=function(j,n,Q,a){N.Zk.qD(j,N.NJ.sv,this.xo);if(!a.vm||!this.Bw)return;
var B=this.uI(j,Q,!1),m=B.q,R=B._,q=B.x,U=B.y,l=B.x+m,b=B.y+R,D=q+m/2,c=U+R/2,_=N.NM.aFR;j.M.RJ={g:[q,U,l,U,l,b,q,b,D-m*_,c,D+m*_,c,D,c-R*_,D,c+R*_],rZ:"M L L L Z M L M L".split(" ")};
j.UF=!0};N.NM.aFR=.12;N.NM.prototype.mz=function(j,n,Q,a){j.M.RJ=null;j.UF=!0;this.finish(j,n,Q,a)};
N.NM.prototype.getSelection=function(j,n,Q,a){if(this.aA.N_(this.yS)||!this.Bw)return null;var B=this.uI(j,Q,!1),m=j.T[j.X[0]];
if(B.ke()||!B.Ta(m.s))return null;return N.NJ.Nq("ObSl",B)};N.Zk=function(){N.K6.call(this,[10,37],N.tQ,"tools/qselect");
this.wm="qselect"};N.Zk.prototype=new N.K6;N.Zk.prototype.v1=function(j,n,Q,a,B){if(j.X.length==0){alert("Select a layer first.");
return}N.Zk.qD(j,N.NJ.sv,n,!0);this.pz(j,Q,a,B,1);if(this.Zq==null)return;this.Xb(j)};N.Zk.prototype.Z3=function(j,n,Q,a,B){this.kd(j,n,Q);
N.Zk.qD(j,N.NJ.sv,n);if(this.dw)this.I0(j,Q,B);if(this.Zq==null)return;if(!B.vm)return;var m=this.ru(j,Q,a,B);
if(m!=1)this.Xb(j)};N.Zk.qD=function(j,n,Q,a){if(j.X.length==0)return;if(j&&n.key!=N.Zk.Px(j)){n.key=N.Zk.Px(j);
var B=j.T[j.X[0]].s.$(),R="Image Analysis ...";if(B==0)return;var m=B>1e6&&a!=!0,q=new ar(x.E.B,!0);
q.data={Q:x.l.L_,Sw:R};if(m)Q.a(q);var U=function(){var l=N.Zk.aE6(j);for(var b in l)n[b]=l[b];var q=new ar(x.E.B,!0);
q.data={Q:x.l.MX,Sw:R};if(m)Q.a(q)};if(a)U();else setTimeout(U,30)}};N.Zk.Px=function(j){var n=j.X[0],Q=j.T[n],a=Q.s,B=a.q,m=a._,R=B*m,q=Q.buffer;
return[n,a.x,a.y,B,m,q[0],q[1],q[2],q[3]].join(",")};N.Zk.aE6=function(j){var n=j.X[0],Q=j.T[n],a=Q.s,B=a.q,m=a._,R=B*m,q=Q.buffer,U=Date.now(),l=K.U(R);
l.fill(128);var b=K.WM.Hm(q,B,m);console.log(Date.now()-U);var D={key:N.Zk.Px(j),pF:q,s:a.O(),Uw:B,WC:m,sH:12,vL:l,d7:b,K:K.U(R),Oc:null,Zx:null,vt:null};
N.Zk.Em(D,null,j);return D};N.Zk.Em=function(j,n,Q){var a=j.Uw,B=j.WC,m=0,R=0,q=Date.now(),U=j.Oc!=null&&K.WM.W8(j.Oc.kc,j.Oc.JO,j.vL)==-1;
m=Date.now()-q;q=Date.now();if(!U){var l=K.WM.W8(j.d7.kc,j.d7.JO,j.vL),b=0;while(l!=-1){var D=[],c=[],_=j.d7.kc;
for(var p=0;p<B;p++)for(var X=0;X<a;X++){var v=p*a+X;if(_[v]==l){var g=j.vL[v];if(g==0)D.push(X,p);if(g==255)c.push(X,p)}}var F=Q.T[Q.X[0]],k=F.buffer;
K.WM.Hm.mG(k,a,B,j.d7,D,c);l=K.WM.W8(j.d7.kc,j.d7.JO,j.vL);b++;if(b>=10){console.log("too many subdivisions");
break}}j.Oc=K.WM.u$(j.d7,a,B,j.vL,j.sH);j.Zx=K.WM.ayC(j.pF,a,B,j.Oc.kc,j.Oc.JO);j.vt=[j.Zx[0].slice(0),[]];
R=Date.now()-q;q=Date.now()}var q=Date.now();if(n){j.vt[0].set(j.Zx[0]);var I=j.Zx[1],e=j.vt[1];for(var H=0;
H<I.length;H++)e[H]=I[H].slice(0);K.WM.aC7(j.Oc.kc,a,B,j.Oc.JO,j.vL,j.K,j.vt)}};N.j0=function(){N.wU.call(this,[10,50],N.Ui,"tools/artb");
this.Qc=null;this.aE=!1;this.o6=null;this.ok=!1;this.a1a=null;this.i1=100;this.ly=null;this.g6=0};N.j0.prototype=new N.wU;
N.j0.prototype.JQ=function(j,n,Q,a,B){this.eL(Q,j.asc,n,j.uO)};N.j0.azk=function(j,n){var Q=j[0],a=0,B=0;
if(Q==0)B=-1;else if(Q==1)a=1;else if(Q==2)B=1;else a=-1;return[20/n.SJ,j[1]+a*60/n.SJ,j[2]+B*60/n.SJ]};
N.j0.prototype.UY=function(j,n,Q,a,B){this.Qc=j._X;this.g6=Date.now()};N.j0.prototype.lc=function(j,n,Q,a){if(Q.Ce!=this.id)return;
if(j==null||j.X.length!=1){this.ga(j);return}var B=j.X[0],m=j.T[B],R=m.add.artb;if(R==null){this.ga(j);
return}if(this.ok)return;if(Date.now()-this.g6>50){this.Qc={};var q=["artboardBackgroundType","Clr"];
for(var v=0;v<q.length;v++)if(R[q[v]])this.Qc[q[v]]=K.u(R[q[v]]);var U=new ar(x.E.B,!0);U.data={Q:x.l.nz,I:this.id,Ls:this.Qc};
n.a(U)}var l=m.v_(),b=K.c.yc(l).g,D=this.o6=new ew(b,!0,!1,!1,!0,!1,3,!1);D.IS(j,Q,!1);var c={g:[1,0],rZ:["M"]};
for(var v=1;v<30;v++){var _=Math.PI*2*v/30;c.g.push(Math.cos(_),Math.sin(_));c.rZ.push("L")}c.rZ.push("Z","M","L","M","L");
c.g.push(-.5,0,.5,0,0,-.5,0,.5);var p=l.x+l.q/2,X=l.y+l._/2,g=this.i1*1.1,F=this.a1a=[p,l.y,l.x+l.q,X,p,l.y+l._,l.x,X],k=[0,-g,g,0,0,g,-g,0],I=j.root.children;
j.M.oQ=[];for(var v=0;v<4;v++){var e=new eE(F[v*2]+k[v*2],F[v*2+1]+k[v*2+1]),H=!1;for(var A=0;A<I.length;
A++){var m=I[A].W;if(m.add.artb==null)continue;var l=m.v_();if(l.PU(e))H=!0}if(H){F[v*2]=1e9;continue}j.M.oQ.push([v,F[v*2],F[v*2+1]])}};
N.j0.prototype.disable=function(j,n,Q,a,B){this.ga(j)};N.j0.prototype.ga=function(j){if(this.o6){this.o6.clear(j);
this.o6=null;j.M.oQ=null}};N.j0.prototype.v1=function(j,n,Q,a,B){this.g6=Date.now();var m=j.e.oR(B.x,B.y),R=this.o6;
if(R){var q=new ar(x.E.A),U=R.JC(null,m,j,B);if(U<9){this.ok=R.v1(j,Q,a,m,null,!0,B);return}else if(R._k(m)){q.I=N.nQ;
q.data={Q:"disabAuto"};n.a(q);var l=new ar(x.E.B);l.data={Q:x.l.pY,I:N.nQ,asE:!0};n.a(l);return}else{var b=-1,D=j.M.oQ;
for(var v=0;v<D.length;v++){var c=N.j0.azk(D[v],j.e);if(eE.X_(m,new eE(c[1],c[2]))<c[0])b=D[v][0]}if(b!=-1){var _=j.T[j.X[0]].v_(),p=_.O(),X=(b==0||b==2?_._:_.q)+this.i1;
if(b==0||b==3)X=-X;if(b==0||b==2)_.y+=X;else _.x+=X;if(a.r(i8.Y2)){var g=new b4(0,0,j.q,j._);q.I=N.ir;
q.data={Q:f.l5};n.a(q);N.mL.$G(j,j.J3(null,j.X[0],null,!0),null,_.x-p.x,_.y-p.y);j.X=j.X.slice(j.X.length-1);
var F=N.MT.XK(j);if(F){var k=j.Pz();k.data.$P=g;k.data.pe=F;k.data.ax=j.X}}else this.eL(j,_,n);return}}}this.ly=N.mL.VJ(j,m,Q)};
N.j0.prototype.eL=function(j,n,Q,a){if(a==null)a=0;var B=j.T.slice(0),m=[j.T.length+1],R=j.JL();R.kw(i4.get([1,16,0])+" "+(j.add.artd==null?1:j.root.children.length+1));
R.add.lsct=fM.ko;R.vn(n);if(this.Qc){var q=R.add.artb,U=this.Qc;for(var l in U)q[l]=U[l]}R.TM="pass";
R.G$=24;if(a==0){if(j.add.artd||n.uf(new b4(0,0,j.q,j._)).ke())B.push(j.v4());else B.unshift(j.v4())}else{var b=j.J3();
b.sort(function(X,g){return X-g});var D=N.vo.Hv(j,b,B.length-1,!1,null,!1),c=D.pop(),_=D.pop();B=D.pop();
B.splice(j.T.length-b.length,0,j.v4())}B.push(R);var p=new ar(x.E.A);p.I=N.ir;p.data={Q:f.Gw,Wi:B,zI:m,ID:[1,16,2]};
Q.a(p)};N.j0.prototype.Z3=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=this.o6,q=this.ly;if(R){if(this.ok){R.Z3(j,Q,a,m)}else{var U=R.J5(m,j.e.yr,null,B);
if(U==null)U="default";var l=new ar(x.E.B,!0);l.data={Q:x.l.w4,sz:U};n.a(l)}}if(q){var b=this.$O(j,m,a,Q);
j.M.RJ=K.c.yc(b);j.UF=!0;N.wU.ck(B,b,j,Q)}};N.j0.prototype.pU=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=this.ly;
if(this.ok){this.o6.pU(j,Q,a,m);this.ok=!1;var q=K.c.so(this.o6.cX()),U=f.tt(q),l=j.T[j.X[0]],b=K.u(l.add.artb);
b.artboardRect.v=U;var D=new ar(x.E.A,!0);D.I=N.ir;D.data={Q:f.Lt,WY:b};n.a(D)}if(R){var c=this.$O(j,m,a,Q);
if(c.$()>20)this.eL(j,c,n);j.M.RJ=null;j.UF=!0;this.ly=null;j.M.lf=[]}};N.j0.prototype.$O=function(j,n,Q,a){var B=this.ly,m=N.mL.VJ(j,n,a),R=N.Ma.Cy(B,m,Q,!0);
B=R[0];m=R[1];return K.c.so([B.x,B.y,m.x,m.y])};N.ZF=function(){N.wU.call(this,[10,50],N.$q,"tools/artb");
this.o6=null;this.Ab=!1;this.H=null;this.bn=null;this.gm=null;this.mx=null;this.aoZ=null;this.oc=null;
this.UX=null};N.ZF.prototype=new N.wU;N.ZF.prototype.qi=function(j,n){return j==i8.Va||j==i8.Bo};N.ZF.prototype.hs=function(j,n,Q,a){if(a.r(i8.Va)||a.r(i8.Bo))this.JQ({Q:"del"},n,j,a,Q)};
N.ZF.prototype.JQ=function(j,n,Q,a,B){var m=Q.add.arts;this.bn=JSON.stringify(m);if(j.Q=="del"){for(var v=0;
v<m.length;v++)if(m[v].X){m.splice(v,1);v--}}if(j.Q=="new"){for(var v=0;v<m.length;v++)m[v].X=!1;var R=Q.AF(),q=R.x+R.q+20;
m.push({DA:"Artboard "+(m.length+1),wS:[q,R.y,q+100,R.y+100],X:!0})}if(j.Q=="rpl"){var U=0;for(var v=0;
v<m.length;v++)if(m[v].X)U=v;m[U]=j.J}this.aaw(Q);this.pZ(Q)};N.ZF.prototype.disable=function(j,n,Q,a,B){this.Ab=!1};
N.ZF.prototype.enable=function(j,n,Q,a,B){this.Ab=!0;this.H=Q;this.pZ(j)};N.ZF.prototype.ga=function(j){};
N.ZF.prototype.v1=function(j,n,Q,a,B){var m=this.UX=j.e.oR(B.x,B.y),R=j.add.arts;this.bn=JSON.stringify(R);
var q=this.o6,U=q?q.J5(m,j.e.yr,null,B):null,l=a.r(i8.Gm)||a.r(i8.f8);if(q&&!l&&(K.c.Tv(q.cX()).PU(m)||U)){}else{var b=-1;
for(var v=0;v<R.length;v++)if(K.c.Tv(R[v].wS).PU(m))b=v;if(b==-1)this.R4(j,-1);else if(l)R[b].X=!R[b].X;
else this.R4(j,b);this.pZ(j)}if(this.o6){this.o6.v1(j,Q,a,m,null,!0,B)}j.UF=!0};N.ZF.prototype.Z3=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=j.add.arts,q=JSON.parse(this.gm);
if(this.o6){this.o6.Z3(j,Q,a,m);if(B.vm){var U=K.c.Tv(this.o6.cX()),l=this.aoZ,b=new j8;b.translate(-l.x,-l.y);
b.scale(U.q/l.q,U._/l._);b.translate(U.x,U.y);var D=this.o6.JC(a,m,j,B);for(var v=0;v<R.length;v++){var c=R[v];
if(!c.X)continue;if(K.c.Tv(q[v].wS).ke())c.wS=[U.x,U.y,U.x+U.q,U.y+U._];else{c.wS=q[v].wS.slice(0);K.c.C(c.wS,b,c.wS)}}if(D==10){N.mL.$G(j,this.mx,null,U.x-this.oc.x,U.y-this.oc.y);
this.oc=U}j.ge()}var _="default",p=this.o6.J5(m,j.e.yr,null,B);if(p)_=p;var X=new ar(x.E.B,!0);X.data={Q:x.l.w4,sz:_};
n.a(X)}else if(B.vm&&eE.X_(m,this.UX)>=6/j.e.yr){R.push({DA:"Artboard "+(R.length+1),wS:[0,0,0,0],X:!0});
this.pZ(j);this.o6.v1(j,Q,a,this.UX,null,!0,B)}};N.ZF.prototype.pU=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y),R=j.add.arts,q=JSON.parse(this.gm),U=a.r(i8.Gm)||a.r(i8.f8);
if(!U&&eE.X_(this.UX,m)<6/j.e.yr){var l=-1;for(var v=0;v<R.length;v++)if(K.c.Tv(R[v].wS).PU(m))l=v;if(l!=-1){this.R4(j,l);
this.pZ(j)}if(K.c.Tv(q[q.length-1].wS).ke()){this.o6.clear(j);R.pop()}}if(this.o6){var b=this.o6.JC(a,m,j,B);
this.o6.pU(j,Q,a,m);if(!m.N_(this.UX))this.aaw(j,b==10?m.tV(this.UX):null)}};N.ZF.prototype.aaw=function(j,n){var Q=new ae([10,50],this);
Q.data={Xo:this.bn,L3:JSON.stringify(j.add.arts)};if(n){Q.data.X=this.mx;Q.data.LE=n}j.xr(Q)};N.ZF.prototype.pZ=function(j){var n=j.add.arts,Q=new b4,a=0,B=[];
for(var v=0;v<n.length;v++)if(n[v].X){var m=K.c.Tv(n[v].wS);Q=Q.d_(m);j.root.Yo(m,B);a++}if(a==0){if(this.o6)this.o6.clear(j);
j.UF=!0;this.o6=null;return}this.gm=JSON.stringify(n);this.mx=B;this.aoZ=this.oc=Q;var R=K.c.yc(Q).g;
this.o6=new ew(Q.ke()?null:R,!0,!1,!1,!1,!1,3);if(!Q.ke())this.o6.IS(j,this.H)};N.ZF.prototype.R4=function(j,n){var Q=j.add.arts;
for(var v=0;v<Q.length;v++)Q[v].X=n==v};N.ZF.prototype.pk=function(j,n){n.add.arts=JSON.parse(j.L3);
if(j.X)N.mL.$G(n,j.X,null,j.LE.x,j.LE.y);if(this.Ab)this.pZ(n);n.UF};N.ZF.prototype.X7=function(j,n){n.add.arts=JSON.parse(j.Xo);
if(j.X)N.mL.$G(n,j.X,null,-j.LE.x,-j.LE.y);if(this.Ab)this.pZ(n);n.UF};function ew(j,n,Q,a,B,m,R,q){this.eA=null;
this.aX=j?j.slice(0):null;this.Ty=1;this.V3=4;this.yS=null;this.U3=null;this.Bu=null;this.dg=-1;this.cS=null;
this.apO=!1;this.abu=[];for(var v=0;v<8;v++)this.abu.push(fj.avk(0,PIMG.rotate,-.5,-.5,-45-v*45));this.a2$=n;
this.ark=Q;this.auX=a;this.aot=B;this.ac1=m;this.uO=R;this.atO=q==null?1:q}ew.prototype.a2m=function(){return this.dg!=-1};
ew.prototype.cX=function(){return this.aX.slice(0)};ew.prototype.fn=function(j){this.aX=j};ew.prototype.aAR=function(){return this.dv(this.aX)};
ew.prototype.a0S=function(){return this.V3};ew.prototype.a7X=function(j){this.V3=j};ew.prototype.DU=function(j){if(j==null)j=this.aX;
if(this.V3==9)return this.yS;else return this.dv(j)[this.V3]};ew.prototype.auH=function(j){if(this.V3==9)this.yS=j.O();
else{var n=this.DU(),Q=new j8(1,0,0,1,j.x-n.x,j.y-n.y);K.c.C(this.aX,Q,this.aX)}};ew.prototype.au=function(j){this.Ty=j};
ew.prototype.J5=function(j,n,Q,a,B){var m=this.KE(null,j,n,a),R;if(m==9)return"default";if(m==10){if(Q)return null;
return!this.a2$?"move":null}if(m==-1||m==4)return null;if(m==11){var q=this.DU().tV(j);if(B==null)B=Math.atan2(q.y,q.x);
R=90-B*180/Math.PI;var U=Math.round(8*(R/360));U=(U+8)%8;return this.abu[U]}else{var l=this.zJ(j,this.aX);
R=[135,90,45,180,0,0,225,270,315][m]*Math.PI/180;var b=K.D.ZM(this.aX);return ew.aDX(b[0],b[3],R)}};
ew.aDX=function(j,n,Q){var a=Math.atan2(-n,j);if(Q)a+=Q;var B="ew nesw ns nwse ew nesw ns nwse".split(" "),m=Math.round(8*(a/(2*Math.PI)));
m=(m+8)%8;return B[m]+"-resize"};ew.prototype.zJ=function(j,n){var Q=K.D.m2(K.D.ZM(n)),a=new Float64Array(2);
K.D.g5(j.x,j.y,Q,a);return new eE(a[0],a[1])};ew.prototype._k=function(j){var n=this.zJ(j,this.aX);return 0<=n.x&&n.x<=1&&0<=n.y&&n.y<=1};
ew.prototype.v1=function(j,n,Q,a,B,m,R,q){this.apO=m;this.cS=a;var U=j.e.yr,l;if(this.aX==null)a=N.mL.VJ(j,a,n);
this.Bu=a.O();if(this.aX==null){if(q==null)q=0;var b=new j8;b.rotate(q);var D=b.JZ(new eE(1,1));this.Bu.offset(D.x,D.y);
var c=B==null?1:1/B,_=this.aX=[0,0,1,0,1,c,0,c];b.translate(a.x,a.y);K.c.C(this.aX,b,this.aX);l=8}else{l=this.KE(Q,a,U,R);
if(0<=l&&l<=8)this.Bu=this.dv(this.aX)[l];if(l==9){this.V3=9;this.yS=a.O()}}this.eA=this.aX.slice(0);
this.dg=l;this.IS(j,n);this.U3=this.DU();return l!=-1};ew.prototype.JC=function(j,n,Q,a){return this.KE(j,n,Q.e.yr,a)};
ew.prototype.KE=function(j,n,Q,a){var B=-1,m=this.dv(),R=[0,2,6,8,1,3,5,7],q=a?N.bE({e:{yr:Q}},a):8*N.lS()/Q,U=eE.X_(m[0],m[2]),l=eE.X_(m[0],m[6]),b=this.zJ(n,this.aX);
b.x*=U;b.y*=l;var D=new b4(0,0,U,l);D.VT(q,q);if(B==-1)if(eE.X_(this.DU(),n)<q)B=9;if(B==-1)for(var v=0;
v<R.length;v++)if(eE.X_(m[R[v]],n)<q)B=R[v];if(B==-1&&D.PU(b)){if(Math.abs(b.y-0)<q)B=1;if(Math.abs(b.x-0)<q)B=3;
if(Math.abs(b.y-l)<q)B=7;if(Math.abs(b.x-U)<q)B=5}if(B==-1&&j&&j.r(i8.Y2))B=9;if(B==-1||this.uO==4){if(this._k(n)){if(this.a2$)B=10}else{var c=[3,.85][fL];
D.VT(c*q,c*q);B=D.PU(b)&&this.uO!=3?11:10;if(B==10&&fL==1)B=-1}}return B};ew.prototype.Z3=function(j,n,Q,a,B){if(this.dg==-1)return;
this.cS=a;var m=Q&&Q.r(i8.f8),R=Q&&Q.r(i8.Y2),q=Q&&Q.r(i8.Gm),U=j.e.yr,l=this.Bu,b=this.dg,D=this.dv(),c=N.mL.VJ(j,l,n),_=N.mL.VJ(j,a,n),p,X;
if(b==9){var D=this.dv(),g=-1;for(var v=0;v<D.length;v++)if(eE.X_(D[v],_)*U<10)g=v;this.V3=g==-1?9:g;
this.yS=m?N.$A.rY(c,_):_.O()}else if(b==10){X=K.c.Tv(this.eA);var F=X.x,k=X.y;X.offset(a.x-l.x,a.y-l.y);
if(this.aDr()){X.x=Math.round(X.x);X.y=Math.round(X.y)}p=N.mL.Fm(j,X,n);var I=new j8(1,0,0,1,X.x-F+p[0],X.y-k+p[1]);
K.c.C(this.eA,I,this.aX)}else if(b==11){var e=this.DU(this.eA),H=e.tV(a),A=e.tV(l),Z=Math.atan2(H.y,H.x),J=Math.atan2(A.y,A.x),I=new j8(1,0,0,1,-e.x,-e.y),s=Math.PI/12;
if(m)I.rotate(Math.round((J-Z)/s)*s);else I.rotate(J-Z);I.translate(e.x,e.y);K.c.C(this.eA,I,this.aX)}else{var E=m,z;
if(B&&!q)E=!E;if(this.ac1)E=!0;var h=this.eA,d=b==0||b==2||b==6||b==8;if(this.uO==1){if(d)m=R=q=!0}else if(this.uO==2&&d&&this.apO!=!0)q=!0;
if(this.uO==3)q=!1;else if(this.uO==5){m=q=!0}if(this.auX&&d&&q){var v=[0,0,2,0,0,0,6,0,4,0][b],Y=-1,C=_.x,i=_.y;
if(m){var M=v+6&7,W=v+10&7,$=ew.a9$(h[v],h[v+1],h[M],h[M+1],_.x,_.y),P=ew.a9$(h[v],h[v+1],h[W],h[W+1],_.x,_.y),O=$[2]<P[2]?$:P;
C=O[0];i=O[1];if(R)Y=$[2]<P[2]?M:W}else if(R)Y=v+4&7;z=h.slice(0);if(Y!=-1){var G=h[Y],t=h[Y+1],y=(h[v]+G)/2,r=(h[v+1]+t)/2;
z[Y]=y-(C-y);z[Y+1]=r-(i-r)}z[v]=C;z[v+1]=i}else if(d&&R){var e=this.U3,u=e.x,S=e.y,w=c.x-u,dj=c.y-S,o=1,T=1;
if(Math.abs(w)>=1)o=(_.x-u)/w;if(Math.abs(dj)>=1)T=(_.y-S)/dj;if(E)o=T=(o+T)/2;var I=new j8;I.translate(-u,-S);
I.scale(o,T);I.translate(u,S);z=h.slice(0);K.c.C(z,I,z)}else{if(this.aDr()){_.x=Math.round(_.x);_.y=Math.round(_.y)}var i6=[0,1,2,5,8,7,6,3],bH=i6[(i6.indexOf(b)+4)%8],cg=[];
for(var v=0;v<3;v++)for(var Y=0;Y<3;Y++)cg.push(new eE(Y/2,v/2));var e=this.U3,bu=R&&(this.V3==4||this.V3==9)?this.zJ(e,h):cg[bH],hH=R&&(this.V3==4||this.V3==9)?e:D[bH];
if(d&&E){function dK(bg,f4,jb){var jT=f4[0]-bg[0],jy=f4[1]-bg[1],cl=K.c.wr(jb[0],jb[1],-jy,jT,bg[0],bg[1],jT,jy);
return[jb[0]-jy*cl,jb[1]+jT*cl]}while(!0){var d8=dK([hH.x,hH.y],[l.x,l.y],[_.x,_.y]);d8=new eE(d8[0],d8[1]);
d8=N.mL.VJ(j,d8,n);if(eE.X_(d8,_)<1e-6)break;_=d8}}var d1=this.zJ(_,h),gH=this.zJ(l,h),kh=new j8,ay=new j8,o=(d1.x-bu.x)/(gH.x-bu.x);
if(o==0)o=1e-4;var T=(d1.y-bu.y)/(gH.y-bu.y);if(T==0)T=1e-4;if(this.aot){o=Math.max(o,0);T=Math.max(T,0)}if(d){if(E)kh.scale(o,o);
else kh.scale(o,T)}else if(b!=4){var dO=E,fy=q&&m;if(fy)dO=!1;if(b==1||b==7)kh.scale(dO?T:1,fy?1:T);
else kh.scale(fy?1:o,dO?o:1);if(this.ark&&q){if(b==1||b==7)ay.RK=(d1.x-bu.x)/(d1.y-bu.y);else ay.b=(d1.y-bu.y)/(d1.x-bu.x)}}var I=new j8;
I.translate(-bu.x,-bu.y);I.concat(kh);I.concat(ay);I.translate(bu.x,bu.y);z=[0,0,1,0,1,1,0,1];K.c.C(z,I,z);
var O=K.D.ZM(h);K.D.C(O,z)}if(ew.bL(z))this.aX=z}this.IS(j,n);if(p)N.mL.xP(j,X,p)};ew.a9$=function(j,n,Q,a,B,m){var R=Q-j,q=a-n,U=B-j,l=m-n,b=R*R+q*q,D=U*R+l*q,c=D/b,_=j+c*R,p=n+c*q,X=B-_,g=m-p;
return[_,p,Math.sqrt(X*X+g*g)]};ew.prototype.aDr=function(){var j=this.aX;return Math.abs(j[1]-j[3])<1e-6&&Math.abs(j[2]-j[4])<1e-6||Math.abs(j[0]-j[2])<1e-6&&Math.abs(j[3]-j[5])<1e-6};
ew.bL=function(j){return K.c.avb(j)||K.c.avb([j[6],j[7],j[4],j[5],j[2],j[3],j[0],j[1]])};ew.prototype.pU=function(j,n,Q,a){this.dg=-1;
this.cS=null;j.M.cs=null;j.M.lf=[];j.UF=!0};ew.prototype.hs=function(j,n,Q){var a=Q.su(j?j.e.c6:0);if(a.x||a.y){var B=new j8(1,0,0,1,a.x,a.y);
K.c.C(this.aX,B,this.aX);this.IS(j,n);return!0}return!1};ew.prototype.dv=function(j){if(j==null)j=this.aX;
var n=j[6]-j[0],Q=j[7]-j[1],a=j[4]-j[2],B=j[5]-j[3],m=[j[0],j[1],j[2],j[3],j[0]+n/2,j[1]+Q/2,j[2]+a/2,j[3]+B/2,j[6],j[7],j[4],j[5]],R=[];
for(var v=0;v<3;v++){var q=v*4,U=m[q+0],l=m[q+1],b=m[q+2],D=m[q+3];R.push(new eE(U,l));R.push(new eE(U+(b-U)/2,l+(D-l)/2));
R.push(new eE(b,D))}return R};ew.prototype.IS=function(j,n,Q){if(j.M==null)return;if(Q==null)Q=!1;var a=this.Ty,B=this.dv(),m=B[0],R=B[2],q=B[6],U=B[8],l={rZ:[],g:[]};
if(a==0)j.M.RJ=l;else j.M.kS=l;var b=K.D.ZM([m.x,m.y,R.x,R.y,U.x,U.y,q.x,q.y]);l.rZ.push("M","L","L","L","Z");
l.g.push(0,0,1,0,1,1,0,1);var D=this.atO;if(D>1){j.M.du=K.u(l);K.D.C(b,j.M.du.g);for(var v=1;v<D;v++){var c=v/D;
l.rZ.push("M","L","M","L");l.g.push(0,c,1,c,c,0,c,1)}}K.D.C(b,l.g);j.e.Dg=new b4(0,0,eE.X_(B[0],B[2]),eE.X_(B[0],B[6]));
if(this.dg!=-1&&this.dg<9&&this.cS){var _=j.e.Vh(this.cS.x,this.cS.y);N.wU.ck(_,j.e.Dg,j,n)}if(!Q){var p=[];
if(a==0)j.M.oi=p;else j.M.f$=p;for(var v=0;v<B.length;v++)if(v!=4)p.push(B[v].x,B[v].y);var X=this.DU();
p.push(X.x,X.y)}j.UF=!0};ew.prototype.clear=function(j){j.e.Dg=null;j.M.cs=null;j.M.RJ=null;j.M.kS=null;
j.M.du=null;j.M.oi=[];j.M.f$=[];j.UF=!0};function cm(j){this.UH=null;this.dg=-1;this.QL=null;this.azr=null;
this._7=null;this.ki=-1;this.a8d=null;this.akE(j)}cm.prototype.Sl=function(){return K.u(this.UH)};cm.prototype.akE=function(j){this.UH=K.u(j)};
cm.prototype.aq6=function(j){this.ki=j};cm.prototype._k=function(j){return!0};cm.prototype.J5=function(j,n,Q,a){var B=this.KE(j,n,a);
if(B==-1)return"default";return"pointer"};cm.prototype.v1=function(j,n,Q,a,B,m,R){if(this.ki!=-1)return!0;
this.dg=this.KE(a,j.e.yr,R);var q=K.UH.Fo(this.UH),U=K.rU.hB(q,a),l=0<U[0]&&U[0]<1&&0<U[1]&&U[1]<1;this.QL=l?U:null;
this.azr=JSON.stringify(q);this.a8d=JSON.stringify(this.UH);this._7=a;return this.dg!=-1||l};cm.prototype.KE=function(j,n,Q){var a=Q?N.bE({e:{yr:n}},Q)*2:20*N.lS()/n,B=this.UH,m=cm.a0K(B),R=-1;
if(m){R=K.c.g4(m,j.x,j.y,a);if(R!=-1)R+=1e6}else{var q=K.UH.Fo(B);R=K.c.g4(q[3],j.x,j.y,a);if(R!=-1&&this.xJ(q,R)==null)R=-1}return R};
cm.prototype.Z3=function(j,n,Q,a){if(this.ki!=-1)return;var B=this.UH,m=this.dg,R=this.QL,q=JSON.parse(this.azr),U=q[0],l=q[1],b=q[3];
if(m>=1e6){var D=B.warpStyle.v.warpStyle,c=K.UH.uI(B);if(D=="warpCylinder"){this.UH=B=JSON.parse(this.a8d);
var _=N.IP.lw(B.warpValues),p=(_[2]-_[0])/(_[1]-_[3]),X=_[4]*p*c._,g=_[5]*p*c._,F=a.x-this._7.x,k=a.y-this._7.y;
_[0]=c.x;_[1]=c.y+c._;_[2]=c.x+c.q;_[3]=c.y;m-=1e6;if(m==0){_[0]+=F;_[1]+=k}if(m==1){_[2]+=F;_[3]+=k}if(m==2){X+=2*k;
g+=2*k}if(m==3){g+=2*k}if(m==4){_[6]=Math.max(0,Math.min(1,_[6]-2*F/c.q))}var I=K.c.Tv(_.slice(0,4)),e=I.q/c.q,H=I._/c._;
_[4]=X/I.q;_[5]=g/I.q;B.warpValues=N.IP.ob(_);var A=new j8;A.translate(-c.x,-c.y);A.scale(e,H);A.translate(I.x,I.y);
if(m<4)return A}else{var Z=B.warpRotate.v.Ornt,J=Z=="Vrtc",s=K.UH.alq[D],E=J?-a.x/c.q:-a.y/c._;E+=s[1];
if(s[1]>.5)E=-E;E/=s[2];var e=c.q/c._;if(J)e=1/e;if(s[3])E/=e;B.warpValue.v=100*Math.max(-1,Math.min(1,E))}}else if(m!=-1){var z=[m],F=a.x-b[m*2],k=a.y-b[m*2+1];
if(U*l>16){var h=this.xJ(q,m);if(h[0]==0){var d=Math.floor(m/U),Y=m-d*U;if(Y>0)z.push(m-1);if(Y<U-1)z.push(m+1);
if(d>0)z.push(m-U);if(d<l-1)z.push(m+U)}}for(var v=0;v<z.length;v++){b[z[v]*2]+=F;b[z[v]*2+1]+=k}K.UH.aH(B,q)}else if(R){K.rU.a4c(q,R[0],R[1],a.x-this._7.x,a.y-this._7.y);
K.UH.aH(B,q)}};cm.prototype.pU=function(j,n,Q,a){var B=this.ki;this.QL=null;this.ki=-1;if(B!=-1){var m=K.UH.Fo(this.UH),R=K.rU.hB(m,a);
if(B==0||B==1)K.rU.split(m,0,R[0]);if(B==0||B==2)K.rU.split(m,1,R[1]);K.UH.aH(this.UH,m)}j.UF=!0;return B!=-1};
cm.prototype.hs=function(j,n,Q){var a=Q.su();if(a.x||a.y){var B=new j8(1,0,0,1,a.x,a.y);K.c.C(this.aX,B,this.aX);
this.IS(j)}};cm.prototype.xJ=function(j,v){var n=j[0],Q=j[1],a=this.dg,B=Math.floor(a/n),m=a-B*n,R=a%3,q=a%3,U=R==0&&q==0,B=Math.floor(v/n),m=v-B*n,R=m%3,q=B%3;
if(R!=0&&q!=0)return null;if(R==0&&q==0)return[0];else{var l=0;if(q==0)l=R==1?v-1:v+1;if(R==0)l=q==1?v-n:v+n;
if(n*Q>16){var b=a==v||a==v+1||a==v-1||a==v+n||a==v-n;if(U&&(b||a==v+2||a==v-2||a==v+2*n||a==v-2*n)){}else if(!U&&b){}else return null}return[1,l]}};
cm.a0K=function(j,n){var n=j.warpStyle.v.warpStyle,a;if(n=="warpCustom"||n=="warpNone")return null;var Q=K.UH.Fo(j);
if(n=="warpCylinder"){var B=j.warpValues.v;a=[0,1,1,0,.5,0,.5,1,.75-.25*B[6].v,.5]}else{var m=j.warpRotate.v.Ornt,R=K.UH.alq[n];
a=m=="Hrzn"?[R[0],R[1]]:[R[1],R[0]]}K.rU.C(Q,a,new b4(0,0,1,1));return a};cm.prototype.IS=function(j,n){var Q=this.UH,a=Q.warpStyle.v.warpStyle,B=K.UH.Fo(Q),m=B[0],R=B[1],q=B[3],U=j.M.kS={rZ:[],g:[]},l=j.M.f$=[],b=j.M.Ad=[],D=this.dg;
if(a=="warpCustom")for(var c=0;c<R;c++)for(var _=0;_<m;_++){var v=c*m+_,p=this.xJ(B,v);if(p==null)continue;
var X=q[2*v],g=q[2*v+1],F=b;if(p[0]==0)F=v==D&&m*R>16?b:l;else{var k=p[1];U.rZ.push("M","L");U.g.push(X,g,q[2*k],q[2*k+1])}F.push(X,g)}else{var I=cm.a0K(Q);
if(I)for(var v=0;v<I.length;v++)l.push(I[v])}for(var c=0;c+1<R;c+=3)for(var _=0;_+1<m;_+=3){U.rZ.push("M","C","C","C","C");
var v=c*m+_,e=v+m+m,H=[v,v+1,v+2,v+3,v+m+3,e+3,e+m+3,e+m+2,e+m+1,e+m,e,v+m,v];for(var v=0;v<H.length;
v++){var X=q[H[v]*2],g=q[H[v]*2+1];U.g.push(X,g)}}var A=[],Z=[];function J(s,_,h){for(var H=0;H<=h;H++){Z.push(H==0?"M":"L");
if(s==0)A.push(_,H/h);else A.push(H/h,_)}}if(n)n=K.rU.hB(B,n);for(var s=0;s<2;s++){var E=B[2][s],z=s==0?m:R,h=z*5;
for(var d=1;d<z;d++){var Y=Math.floor((d-1)/3),C=d-(1+Y*3);if(C==0)continue;var _=E[Y]+C/3*(E[Y+1]-E[Y]);
J(s,_,h)}var i=this.ki;if(n&&i!=-1&&(i==0||i-1==s))J(s,n[s],h)}K.rU.C(B,A,new b4(0,0,1,1));K.c.concat(U,{g:A,rZ:Z});
j.UF=!0};cm.prototype.clear=function(j){j.M.kS=null;j.M.f$=[];j.M.Ad=[];j.UF=!0};function eO(){this.sM=!1;
this.Aa=!1;this.aI3=!1;this.aDk=!1;this.xI=!1;this.l0=!1;this.Jr=0;this.dQ=0}eO.prototype.v1=function(j){this.sM=!0;
this.Aa=!1;this.xI=j.r(i8.f8);this.l0=j.r(i8.Y2);this.Jr=this.xI?0:1;this.dQ=this.l0?0:1};eO.prototype.hs=function(j){var n=this.aDk=j.r(i8.f8),Q=this.aI3=j.r(i8.Y2);
if(this.Aa){if(this.Jr==0&&!n)this.Jr++;if(this.Jr==1&&n)this.Jr++;if(this.dQ==0&&!Q)this.dQ++;if(this.dQ==1&&Q)this.dQ++}};
eO.prototype.Z3=function(){this.Aa=!0};eO.prototype.pU=function(){this.sM=!1};eO.prototype._U=function(v){if(v==0)return this.sM?this.l0:this.aI3;
if(v==1)return this.Aa?this.dQ==2:!1};eO.prototype.YY=function(v){if(v==0)return this.sM?this.xI:this.aDk;
if(v==1)return this.Aa?this.Jr==2:!1};N.History=function(){N.wU.call(this,"History",N.jM);this.gJ=!0;
this.azF=0};N.History.prototype=new N.wU;N.History.prototype.JQ=function(j,n,Q,a){Q.Xx=!0;if(j.Q=="h_itemchange"){if(j.index<Q.cD)for(var v=Q.cD;
v>j.index;v--)this.RB(Q);if(j.index>Q.cD)for(var v=Q.cD;v<j.index;v++)this.gr(Q)}if(j.Q=="h_stepfwd")this.gr(Q);
if(j.Q=="h_stepbck")this.RB(Q);if(j.Q=="h_undoredo"){var B=this.gJ||this.azF!=Q.cD;if(B){this.RB(Q);
B=!1}else{this.gr(Q);B=!0}this.gJ=B;this.azF=Q.cD}if(j.Q=="h_clear"){if(j.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
Q.history=[new ae([1,0],null)];Q.cD=0}else this.gJ=!0};N.History.prototype.RB=function(j){if(j.cD==0)return;
var n=j.history[j.cD];n.I.X7(n.data,j);j.cD--};N.History.prototype.gr=function(j){if(j.cD==j.history.length-1)return;
var n=j.history[j.cD+1];n.I.pk(n.data,j);j.cD++};N.vo=function(){N.wU.call(this,"Layers",N.ir);this.xo=null};
N.vo.prototype=new N.wU;N.vo.prototype.JQ=function(j,n,Q,a,B){this.xo=n;var m=j.Q,R=j.W!=null?j.W:Q.X.length!=0?Q.X[0]:Q.T.length-1,q=Q.T[R];
Q.LD=!0;var U=a.r(i8.Y2),l=a.r(i8.f8),b=a.r(i8.Gm);if(m==f.RS&&Q.K==null&&(Q.X.length>1||!Q.rV(!1)||Q.T[Q.X[0]].bx()))m=f.l5;
if(m==f.Iy){var D=new ae([6,33],this),c=q.bx()?["pass"].concat(af.Yh):af.Yh,_=c[j.L3],p=j.W!=null?[j.W]:Q.X,X=JSON.stringify(p),g=[];
for(var v=0;v<p.length;v++)g.push(Q.T[p[v]].TM);D.data={Q:m,ia:X,EG:g,L3:_};Q.xr(D);this.pk(D.data,Q);
this.track(f2.OQ("Md",{t:"enum",v:{BlnM:af.sr(_)}}))}if(m==f.pc){var D,F=Q.Pz(),p=j.W!=null?[j.W]:Q.X,X=JSON.stringify(p);
if(F&&F.data&&F.data.Q==m&&F.data.ia==X)D=F;else{var k=f2.OQ("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(k);var g=[];for(var v=0;v<p.length;v++)g.push(Q.T[p[v]].wT);D=new ae([6,32],this);D.data={Q:m,ia:X,EG:g,L3:j.L3,Nf:k.Tu};
Q.xr(D)}D.data.L3=j.L3;D.data.Nf.T.v.Opct.v.val=Math.round(j.L3*100/255);this.pk(D.data,Q)}if(m==f.cv){if(q.add.iOpa==null)q.add.iOpa=255;
var D,F=Q.Pz();if(F&&F.data&&F.data.Q==m&&F.data.W==R)D=F;else{D=new ae("Fill Opacity Change",this);
D.data={Q:m,W:R,EG:q.add.iOpa,L3:j.L3};Q.xr(D)}D.data.L3=j.L3;this.pk(D.data,Q)}if(m==f.MI){var I=j.L3,e=j.W!=null?[j.W]:Q.X.slice(0),H=[],A=[],D;
for(var Z=0;Z<e.length;Z++){var J=Q.T[e[Z]];if(J.add.lspf==null)J.add.lspf=0;var g=J.add.lspf,_=g;for(var v=0;
v<I[0].length;v++){var s=I[1][v],E=1<<s;if((_&E)==0&&I[0][v])_^=E;else if((_&E)!=0&&!I[0][v])_^=E}H.push(g);
A.push(_)}var F=Q.Pz(),p=JSON.stringify(e);if(F&&F.data&&F.data.Q==m&&JSON.stringify(F.data.ia)==p){D=F;
D.data.L3=A}else{var D=new ae([6,57,1],this);D.data={Q:m,ia:p,EG:H,L3:A};Q.xr(D)}this.pk(D.data,Q)}if(m==f.MQ){var z="----",h=j.xn,_=null;
for(var v=0;v<em.r4.wQ.length;v++)if(q.add[em.r4.wQ[v]])z=em.r4.wQ[v];var d=q.add[z];if(h=="TySh")_=eR.N0(50,50,B.ix);
var D=new ae("Layer Type",this);D.data={Q:m,W:R,a9v:[z,d],xn:[h,_]};Q.xr(D);this.pk(D.data,Q)}if(m==f.yy){var e=[];
if(U){var Y=Q.Pz(),C=Y?Y.data:null;if(Y!=null&&Y.I==this&&C.Q==f.yy&&C.ia.length!=1){var i=new ar(x.E.A);
i.I=N.jM;i.data={Q:"h_stepbck"};n.a(i);if(C.W==R)return}var M=Q.root._N(R),W=M,$=[j.W];while(W.parent!=Q.root){$.push(W.parent.index);
W=W.parent}for(var v=0;v<Q.T.length;v++){var P=Q.T[v],W=Q.root._N(v),O=$.indexOf(v)!=-1?!0:P.VH()&&M.depth<W.depth;
if(O!=P.VH())e.push(v)}}else if(j.ia)e=j.ia;else{e.push(R);var G=Q.T[R].VH(),k={ep:G?"hide":"show",Tu:{classID:G?"Hd":"Shw",null:{t:"VlLs",v:[f2.oA("Lyr",!0)]}}};
this.track(k)}var D=new ae("Layer visibility",this,!0);D.data={Q:m,ia:e,W:R};Q.xr(D);this.pk(D.data,Q)}if(m==f.n1){if(B.Ce==N.Ui){var t=new ar(x.E.B);
t.data={Q:x.l.pY,I:N.nQ};n.a(t)}var y=j.aiQ,r=j.k9,w,escape=!1,dj=!1;if(j.HT){if(b&&(r==0||r==1||r==2)){var u=0;
if(l)u++;if(U)u+=2;var S=new ar(x.E.A,!0);S.I=N.D4;S.data={Q:"fromlayer",eT:[j.W,r,u]};n.a(S);return}}var k={ep:"select",Tu:{classID:"null",MkVs:{t:"bool",v:!1}}};
Q.aGl();if(a.r(i8.Gm)||j.lX==0){var o=Q.X.indexOf(R);if(o==-1)Q.X.push(R);else if(Q.X.length>1){if(j.lX!=0)Q.X.splice(o,1)}Q.X.sort(function(D,gs){return D-gs});
k.Tu.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};w=R}else if(l&&!U&&r>0){m=r==1?f.hf:r==2?f.AX:f.my;
escape=!0}else if((l||j.lX==1)&&Q.X.length>0){var T=Math.min(R,Q.X[0]),i6=Math.max(R,Q.X[Q.X.length-1]);
Q.X=[];for(var v=T;v<=i6;v++)if(Q.T[v].add.lsct!=fM.KB)Q.X.push(v);k.Tu.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
w=R}else{w=R;if(R>=Q.T.length)return;var P=Q.T[R];if(P&&P.bx()&&j.ajZ)P.add.lsct=fM.ko;else if(Q.X.length==1&&Q.X[0]==R&&Math.max(0,r)==P.s0){dj=!0;
Q.LD=!1}if(!dj){Q.X=[R];Q.y3()}}if(!dj){if(w!=null&&w<Q.T.length){k.Tu.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:Q.T[w].getName()}}]},this.track(k)}if(!escape){console.log("no escape");
if(Q.X.length==1){var bH=Q.X[0];for(var v=0;v<Q.T.length;v++){if(v==bH)continue;var J=Q.T[v];J.s0=0;
J.Ok=!1}var q=Q.T[bH];if(r==2){q.Ok=!q.Ok;Q.VF=[]}else if(q){q.s0=r<=0?0:r}}else for(var v=0;v<Q.T.length;
v++){var J=Q.T[v];J.s0=0;J.Ok=!1}Q.fO=null;Q.Xx=!0}}if(j.HT&&U){if((r==1||r==3)&&y!=null){var S=new ar(x.E.A,!0);
S.I=N.yx;S.data={Q:"mskView",J:y!=0?0:l?1:2};n.a(S)}else{this.JQ({Q:f.WN,W:j.W},n,Q,a,B)}}}if(m==f.hf||m==f.my){var cg=m==f.hf,bu=cg?q.sJ():q.vG(Q).N;
if(bu==null)return;var D=new ae(bu.isEnabled?cg?[6,15]:[6,42]:cg?[6,14]:[6,41],this);D.data={Q:m,W:R};
Q.xr(D);this.pk(D.data,Q)}if(m==f.AX){var bu=q.add.vmsk;if(bu==null)return;var D=new ae(bu.isEnabled?[6,17]:[6,16],this);
D.data={Q:m,W:R};Q.xr(D);this.pk(D.data,Q)}if(m==f.a3I){var hH=q.add.lsct==fM.ko?fM.NO:fM.ko,W=Q.root._N(Q.T.indexOf(q)),d1=!1;
if(a.r(i8.Gm)){var dK=W.parent;for(var v=0;v<dK.children.length;v++){var d8=dK.children[v].W;if(d8.bx())d8.add.lsct=hH}}else q.add.lsct=hH;
for(var v=0;v<Q.X.length;v++){var gH=Q.X[v];if(W.CA<gH&&gH<W.index)d1=!0}if(d1)Q.X=[W.index];Q.Xx=!0}if(m==f.WN){if(!Q.tC(R))return;
var D=new ae(q.U7?[6,19]:[6,18],this);D.data={Q:m,W:R};Q.xr(D);if(j.L3==null||j.L3!=q.U7)this.pk(D.data,Q)}if(m==f.asd){if(q.vf())q.G$-=32;
else q.G$+=32;Q.Xx=!0}if(m==f.zj||m==f.Hh){var D;if(m==f.zj)D=new ae(q.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(m==f.Hh)D=new ae(q.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);D.data={Q:m,W:R};Q.xr(D);this.pk(D.data,Q)}if(m==f.fb||m==f.qf){var bH=j.index,D;
if(m==f.fb)D=new ae(q.add.lmfx[g8.Ub[bH[0]]].v[bH[1]].v.enab.v?[6,30,0]:[6,29],this);if(m==f.qf)D=new ae(q.add.SoLd.filterFX.v.filterFXList.v[bH].v.enab.v?[6,44]:[6,43],this);
D.data={Q:m,W:R,index:j.index};Q.xr(D);this.pk(D.data,Q)}if(m==f.kR){if(j.src==j.iB)return;var kh=Q.T[j.src],ay=Q.T[j.iB],dO=kh.add.lmfx?JSON.stringify(kh.add.lmfx):"",fy=ay.add.lmfx?JSON.stringify(ay.add.lmfx):"";
if(ay.add.lmfx==null){ay.add.lmfx=JSON.parse(g8.default);for(var v=0;v<g8.order.length;v++)ay.add.lmfx[g8.Ub[v]]={t:"VlLs",v:[]}}if(j.iX==null){ay.add.lmfx=JSON.parse(dO);
if(!U)delete kh.add.lmfx}else{var bg=j.iX[0],f4=g8.Ub[bg];if(g8.amL.indexOf(g8.order[bg])==-1)ay.add.lmfx[f4].v=[];
ay.add.lmfx[f4].v.push(kh.add.lmfx[f4].v[j.iX[1]]);if(!U)kh.add.lmfx[f4].v.splice(j.iX[1],1)}var jb=kh.add.lmfx?JSON.stringify(kh.add.lmfx):"",jT=ay.add.lmfx?JSON.stringify(ay.add.lmfx):"";
if(!ay.vf())ay.G$+=32;var D=new ae("Move Layer Styles",this);D.data={Q:m,x8:j.src,rS:j.iB,awA:dO,ahx:fy,aiB:jb,a5Q:jT};
Q.xr(D);this.pk(D.data,Q)}if(m==f.Oe){if(j.src!=null)R=j.src;var J=Q.T[R],jy=JSON.stringify(J.add.SoLd),cl=JSON.parse(jy),hu=cl.filterFX.v.filterFXList.v;
hu.splice(j.iX,1);var D=new ae([6,53],this);D.data={Q:f.Nm,I4:[{d0:R,dN:[jy,JSON.stringify(cl)]}]};Q.xr(D);
this.pk(D.data,Q)}if(m==f.afc){var aA=U,kh=Q.T[j.src],ay=Q.T[j.iB],ko=[];if(kh!=ay&&ay.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(kh==ay&&!aA&&j.iX==j.um)return;if(kh==ay&&j.iX==-1)return;var ec=kh.vG(Q),jy=JSON.stringify(kh.add.SoLd),cl=JSON.parse(jy),hu=cl.filterFX.v.filterFXList.v;
if(kh==ay){hu.splice(j.um,0,hu[j.iX]);if(!aA)hu.splice(j.iX+(j.iX<j.um?0:1),1);ko.push({d0:j.src,dN:[jy,JSON.stringify(cl)]})}else if(j.iX==-1){var kK=cl.filterFX;
if(!aA){delete cl.filterFX;ko.push({d0:j.src,dN:[jy,JSON.stringify(cl)],jb:[ec,null]})}var cM=ay.FI()?ay.vG(Q):null,gG=hs.a9N(ec),c2=JSON.stringify(ay.add.SoLd),a1=JSON.parse(c2);
a1.placed.v=gG.id;a1.filterFX=kK;ko.push({d0:j.iB,dN:[c2,JSON.stringify(a1)],jb:[cM,gG]})}else{var cs=hu[j.iX];
if(!aA){hu.splice(j.iX,1);ko.push({d0:j.src,dN:[jy,JSON.stringify(cl)]})}var c2=JSON.stringify(ay.add.SoLd),a1=JSON.parse(c2);
if(a1.filterFX==null)a1.filterFX=fo.Wu();var f7=a1.filterFX.v.filterFXList.v;f7.splice(j.um,0,cs);var j7={d0:j.iB,dN:[c2,JSON.stringify(a1)]};
if(!ay.FI()){var gG=hs.aDN(ay.add.SoLd.placed.v);j7.jb=[null,gG]}ko.push(j7)}var D=new ae([6,52],this);
D.data={Q:f.Nm,I4:ko};Q.xr(D);this.pk(D.data,Q)}if(m==f.fX){var bu=q.sJ(),D=new ae(bu.DW?[6,26]:[6,25],this);
D.data={Q:m,W:R};Q.xr(D);this.pk(D.data,Q);this.track({ep:"set",Tu:{classID:"setd",null:{t:"obj ",v:[f2.oA("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:bu.DW}}}}})}if(m==f.d4){var bu=q.add.vmsk,D=new ae(bu.DW?[6,28]:[6,27],this);
D.data={Q:m,W:R};Q.xr(D);this.pk(D.data,Q)}if(m==f.Jg){var D=new ae("Variables / Datasets",this),dz=JSON.stringify([Q.Wr,Q.$h]);
if(dz==j.J)return;D.data={Q:m,adH:dz,a7D:j.J};Q.xr(D);this.pk(D.data,Q)}if(m==f.ed){var iA=[],D;for(var v=0;
v<Q.X.length;v++){var Z=Q.X[v],P=Q.T[Z];if(P.add.vogk)iA.push(Z,JSON.stringify(P.add.vogk))}for(var v=0;
v<Q.VF.length;v++){var Z=Q.VF[v],P=Q.AZ[Z];if(P.add.vogk)iA.push(-1-Z,JSON.stringify(P.add.vogk))}K._y.arW(Q,j.J,j.aF3);
var kk=[];for(var v=0;v<Q.X.length;v++){var Z=Q.X[v],P=Q.T[Z];if(P.add.vogk)kk.push(Z,JSON.stringify(P.add.vogk))}for(var v=0;
v<Q.VF.length;v++){var Z=Q.VF[v],P=Q.AZ[Z];if(P.add.vogk)kk.push(-1-Z,JSON.stringify(P.add.vogk))}var F=Q.Pz();
if(F&&F.data&&F.data.Q==m){var fA=!0;for(var v=0;v<iA.length;v+=2)if(iA[v]!=F.data.zF[v])fA=!1;if(fA){D=F;
D.data.BL=kk}}if(D==null){var D=new ae([12,91,1],this);D.data={Q:m,zF:iA,BL:kk};Q.xr(D)}this.pk(D.data,Q)}if(m==f.Lt){var g5=JSON.stringify(q.add.artb),h$=JSON.stringify(j.WY),D;
Q.T[R].add.artb=JSON.parse(h$);var hL=new b4(0,0,Q.q,Q._),ha=N.MT.Nb(Q),F=Q.Pz();if(F&&F.data&&F.data.Q==m&&F.data.W==R){D=F;
D.data.WY=h$}if(D==null){var D=new ae("Editing Artboard",this);D.data={Q:m,W:R,ax4:g5,WY:h$,$P:hL};Q.xr(D)}D.data.pe=ha;
this.pk(D.data,Q)}if(m==f.EH){var kk=Q.Kj.slice(0),jl=Q.Yb.slice(0),fI=Q.K,aE=Q.K,O=Q.e.Y.slice(0);if(j.BO=="seltochannel"){var es=j.eT[0],kN=kk[es]=kk[es].O(),W=K.I8.oP(Q.K,kN,j.eT[1]);
kN.G=W.G;kN.s=W.s}if(j.BO=="fromAction"){var fV=j.J.ep,jU=j.J.Tu;if(fV=="make"||fV=="duplicate"){var c$=kk.length,cz=!1,h0=!1;
if(Q.Se())c$--;var iq=new f.km;iq.name="Alpha "+(c$+1);if(fV=="make"){var fl=jU.Nw.v;iq.color=0;jl=[c$];
iq.fa=!0;iq.b5=fl.Opct.v;if(fl.Nm)iq.name=fl.Nm.v;if(fl.classID=="SCch"){cz=!0;aE=null;iq.m_=1}for(var v=0;
v<Q.Kj.length;v++)Q.Kj[v].fa=!1;O=[0,0,0]}else{var P=Q.T[Q.X[0]],co=P.s0==1?P.sJ():P.s0==3?P.vG(Q).N:null,cC=jU.null.v[0].v;
if(jU.Nm)iq.name=jU.Nm.v;if(cC.keyID=="fsel")cz=!0;else if(co){iq.G=co.G.slice(0);iq.s=co.s.O();iq.color=co.color}else{var gr=N.NJ.aBd(Q);
aE=N.NJ.aGL(Q,gr);iq.color=0;iq.s=aE.s;iq.G=aE.G}}if(cz){iq.color=0;if(Q.K){iq.s=Q.K.s.O();iq.G=Q.K.G.slice(0)}if(h0){iq.color=255-iq.color;
K.m2(iq.G)}}kk.splice(c$,0,iq)}else if(fV=="delete"){if(q&&q.sJ()&&q.s0==1){this.JQ({Q:f.Qf},n,Q,a,B);
return}var eK=Q.Yb;eK.sort(function(D,gs){return gs-D});if(eK.length==0)return;for(var v=0;v<eK.length;
v++)kk.splice(eK[v],1);jl=[];O=[1,1,1]}else if(fV=="show"||fV=="hide"){var kM=jU.null.v,bM=null,bn=!1;
for(var v=0;v<kM.length;v++){var fT=kM[v].v[0].v,ck=fT.enum;if(ck=="Trgt"){if(kk[jl[0]]==null)continue;
kk[jl[0]]=kk[jl[0]].O();kk[jl[0]].fa=fV=="show";bn=!0}else{var es=["Rd","Grn","Bl"].indexOf(ck);if(bM==null)bM=Q.e.Y.slice(0);
bM[es]=fV=="show"?1:0}}if(bM){var i=new ar(x.E.A,!0);i.I=N.Kd;i.data={Q:"setcls",Y:bM};n.a(i);if(!bn)return}}}if(j.BO=="rnm"){kk[j.cb]=kk[j.cb].O();
kk[j.cb].name=j.name}var D=new ae("Channel Edit",this);D.data={Q:m,zF:Q.Kj.slice(0),Ln:Q.Yb.slice(0),BL:kk,RH:jl,bX:fI,zI:aE,a1O:Q.e.Y.slice(0),ayr:O};
this.pk(D.data,Q);Q.xr(D)}if(m==f.Gw){var ce=new b4(0,0,Q.q,Q._),D=new ae(j.ID,this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:j.Wi,up:Q.X.slice(0),ax:j.zI};
Q.xr(D);this.pk(D.data,Q);var kn=N.MT.XK(Q);if(kn){D.data.$P=ce;D.data.pe=kn}}if(m==f.mQ){var fc=Q.J3(null,j.W),gM=1e10;
if(fc.length==0)return;if(Q.T.length==fc.length){alert("Project must have at least 1 layer");return}var cv=[];
for(var v=0;v<Q.T.length;v++)if(fc.indexOf(v)==-1)cv.push(Q.T[v]);for(var v=0;v<fc.length;v++)gM=Math.min(gM,fc[v]);
while(gM>cv.length-1)gM--;gM=Math.max(gM,0);while(cv[gM].name=="</Layer group>")gM++;this.track({ep:"delete",Tu:{classID:"Dlt",null:f2.oA("Lyr",!0)}});
var hL=new b4(0,0,Q.q,Q._),D=new ae([6,31],this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:[gM]};
Q.xr(D);this.pk(D.data,Q);var ha=N.MT.Nb(Q);if(ha){D.data.pe=ha;D.data.$P=hL;N.MT.XK(Q)}}if(m==f.Gh){if(!a.r(i8.f8))return;
var D=new ae("Switch Layer Link",this);D.data={Q:m,W:j.W};Q.xr(D);this.pk(D.data,Q)}if(m==f.YV){var eK=j.amg?j.amg:Q.X,hF=0,cu=!1;
if(eK.length==0)return;if(eK.length==1&&Q.T[eK[0]].i8==0){alert(i4.get([15,7,5]));return}var fg=[];for(var v=0;
v<Q.T.length;v++){var fP=Q.T[v].i8;fg.push(fP);hF=Math.max(hF,fP)}var h8=-1,jd=-1;for(var v=0;v<eK.length;
v++){var fP=Q.T[eK[v]].i8;if(fP==0)cu=!0;else if(h8==-1||h8==fP)h8=fP;else jd=fP}if(!cu)for(var v=0;
v<eK.length;v++)Q.T[eK[v]].i8=0;else if(h8!=-1&&jd==-1)for(var v=0;v<eK.length;v++)Q.T[eK[v]].i8=h8;
else for(var v=0;v<eK.length;v++)Q.T[eK[v]].i8=hF+1;var bL=[];for(var v=0;v<Q.T.length;v++){var fP=Q.T[v].i8;
if(bL[fP]==null)bL[fP]=0;bL[fP]++}for(var v=0;v<Q.T.length;v++){var fP=Q.T[v].i8;if(bL[fP]==1)Q.T[v].i8=0}var jq=fg;
fg=[];for(var v=0;v<Q.T.length;v++){var fP=Q.T[v].i8;fg.push(fP);hF=Math.max(hF,fP)}var D=new ae(cu?[6,54,0]:[6,54,1],this);
D.data={Q:f.YV,ajh:jq,aky:fg};Q.xr(D);this.pk(D.data,Q)}if(m==f.l5&&(j.W!=null||Q.X.length!=0)||m==f.Rr){var dJ=Q.Rl(m==f.l5?j.W:R,null,j.aAG),ju;
if(m==f.Rr){var J=dJ[0],fV=J.add.SoLd.Idnt.v,cL=Q.KR(fV).O();J.add.SoLd.Idnt.v=cL.A8=hs.ce()+fV.slice(8);
Q.add.lnk2.push(cL)}if(m==f.l5){var k7={ep:"duplicate",Tu:{classID:"null",null:f2.oA("Lyr",!0)}};if(j.tw){dJ[dJ.length-1].kw(j.tw);
k7.Nm={t:"TEXT",v:j.tw}}this.track(k7);j.a6$=j.W}m=f.iO;j.T=dJ;j.Ru=Q;j.Jn=Q}if(m==f.iO){var ai,g_,eL=j.Ru,e5=j.Jn,dP=0,ei=0,aQ=eL.M5(),kI=!1,dY,fb=0,jI=0;
if(eL!=e5){console.log("ADDLAYERS different projs");var ai=new b4(0,0,eL.q,eL._),g_=new b4(0,0,e5.q,e5._),ky=[],i9=[],a8=new b4;
for(var v=0;v<j.T.length;v++){var J=j.T[v];a8=a8.d_(J.s);if(J.add.SoLd==null)continue;var fV=J.add.SoLd.Idnt.v;
if(ky.indexOf(fV)==-1){ky.push(fV);i9.push(hs.ce()+fV.slice(8))}J.add.SoLd.Idnt.v=i9[ky.indexOf(fV)];
var ec=J.vG(eL);if(ec){eL.Ye(ec);e5.Qp(ec)}}if(aQ==-1&&!j.Rx&&j.awT&&!g_.Ta(a8)){dP=-a8.x;ei=-a8.y}if(ky.length>0){if(e5.add.lnk2==null)e5.add.lnk2=[];
for(var v=0;v<ky.length;v++){var ej=eL.KR(ky[v]),cL=ej.O();cL.A8=i9[v];e5.add.lnk2.push(cL)}}}var fI=e5.X.slice(0);
fI.sort(function(D,gs){return D-gs});var cv=e5.T.slice(0),aE=[],it=-1;for(var v=0;v<fI.length;v++)it=Math.max(it,fI[v]);
if(j.a6$!=null)it=j.a6$;if(j.Rx){it=j.Rx-1;var fJ=e5.T[j.Rx].v_();dP+=fJ.x;ei+=fJ.y}if(aQ!=-1&&(eL!=e5||j.Rx)){var hk=eL.T[aQ].v_();
dP-=hk.x;ei-=hk.y}var eI=e5.qE();for(var v=0;v<eI[0].length;v++){var ds=eI[1][v];if(ds!=-1)eI[1][v]=cv[ds]}it++;
for(var v=0;v<j.T.length;v++){var P=j.T[v],bC=P.add.artb;cv.splice(it,0,P);aE.push(it);it++;if(bC){dY=!0;
var a_=bC.guideIndeces;if(a_){a_=a_.v;for(var dM=0;dM<a_.length;dM++){eI[0].push(eL.qO[a_[dM].v].slice(0));
eI[1].push(P);kI=!0}}}}for(var v=0;v<eI[0].length;v++){var ds=eI[1][v];if(ds!=-1)eI[1][v]=cv.indexOf(ds)}for(var v=0;
v<j.T.length;v++){var P=j.T[v];if(P.add.lsct==fM.KB){if(fb==0)jI++;fb++}else if(P.bx())fb--}if(jI==1)aE=[it-1];
var D=new ae([6,0],this);D.data={Q:f.Gw,Go:e5.T.slice(0),Wi:cv,up:fI,ax:aE};if(kI){D.data.s_=[e5.qE(),eI]}e5.xr(D);
this.pk(D.data,e5);if(dP!=0||ei!=0)N.mL.$G(e5,e5.J3(),null,dP,ei);if(dY){D.data.$P=new b4(0,0,e5.q,e5._);
D.data.pe=N.MT.Nb(e5);N.MT.XK(e5)}}if(m==f.GA){var hj=j.W!=null?[j.W]:Q.J3(),cv=Q.T.slice(0);for(var v=0;
v<hj.length;v++){var P=Q.T[hj[v]].O();P.JX(Q);cv.splice(hj[v],1,P)}var D=new ae([6,8],this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:Q.X.slice(0)};
Q.xr(D);this.pk(D.data,Q)}if(m==f.a4k){var cv=Q.T.slice(0),P=cv[Q.X[0]]=cv[Q.X[0]].O(),gR=P.add.lmfx,im,fJ;
delete P.add.lmfx;var jQ=Q.X[0],cS=jQ+1;if(P.bx()){var gu=Q.T[Q.X[0]].xw;fJ=gu.a4f;im=gu.TG;var W=Q.root._N(jQ);
jQ=W.CA}else{fJ=P.s;im=K.U(fJ.$());K._W(P.buffer,im,3)}var bA=gq.HU(gR,P.add.fxrp,im,fJ,Q,fJ).w;for(var v=0;
v<g8.order.length;v++){var ad=g8.order[v],cp=bA[ad];cp.reverse();for(var dM=0;dM<cp.length;dM++){var aK=cp[dM],p=Q.JL(),f0=v>7;
if(ad=="ebbl"){if(aK.uG||aK.py){var j_=aK.uG?aK.uG:aK.py;if(aK.uG)delete aK.uG;else delete aK.py;if(aK.py||aK.ux)dM--}else if(aK.ux||aK.g8){var j_=aK.g8?aK.g8:aK.ux;
if(aK.g8){delete aK.g8;if(aK.ux)dM--}f0=!0}aK=j_}p.TM=aK.Er;p.wT=Math.round(255*aK.Tg);p.buffer=aK.jB;
p.s=aK.qc.O();p.s.offset(fJ.x,fJ.y);if(ad=="FrFX"){p.buffer=p.buffer.slice(0);K.wj(aK._w?aK._w:aK.$W,p.buffer,3);
if(aK._w){f0=!0;delete aK._w;if(aK.$W)dM--}}p.U7=!f0;p.kw(P.getName()+"'s "+i4.get(g8.names[v]));cv.splice(f0?jQ:cS,0,p);
if(f0)cS++}}var D=new ae("Styles to Layers",this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:[cS-1]};
Q.xr(D);this.pk(D.data,Q)}if(m==f.asK){var hj=Q.J3(),cv=Q.T.slice(0),e8=new b4(0,0,Q.q,Q._);for(var v=0;
v<hj.length;v++){var jO=Q.T[hj[v]],jH=jO.VH();jO._a(!0);var h1=Q.root._N(hj[v]);if(jO.bx())continue;
if(h1==null)continue;var P=jO.O();P.JX(Q);var bP=h1.uI(Q,!0),jS=Q.T;Q.xt([jO]);Q.ge();Q.D$();P.buffer=K.U(bP.$()*4);
K.EC(Q.rd(),e8,P.buffer,bP);P.s=bP;P.wT=255;P.add.iOpa=255;P.TM="norm";P.ge();P.xw.G4=!0;Q.xt(jS);if(P.add.lmfx)delete P.add.lmfx;
P.N=P.Bc=null;cv.splice(hj[v],1,P);P._a(jH);jO._a(jH)}var D=new ae([6,34],this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:Q.X.slice(0)};
Q.xr(D);this.pk(D.data,Q)}if(m==f.L9){var hj=Q.J3(),cv=Q.T.slice(0);for(var v=0;v<hj.length;v++){var P=Q.T[hj[v]],gI=P.add.TySh;
if(gI==null)continue;var J=new bG(gI.Kt,B.wR,gI.K7),b9=K.c.zU(ji.hr(J,gI,!0));for(var dD in b9){var bU=b9[dD],d8=P.O();
delete d8.add.TySh;d8.G$=d8.G$|1<<4;d8.add.SoCo=K.u(g8.hF[0]);var hr=d8.add.SoCo.Clr.v;hr.Rd.v=parseInt(dD.slice(1,3),16);
hr.Grn.v=parseInt(dD.slice(3,5),16);hr.Bl.v=parseInt(dD.slice(5,7),16);var a7=new f.hx;a7.z=K.c.TW(bU,!1);
if(d8.add.vmsk!=null){d8.add.vmsk.abp();a7.concat(d8.add.vmsk)}d8.add.vmsk=a7;d8.add.vstk=g8.o0.cL(!0);
d8.sU();d8.tI(Q);cv.splice(cv.indexOf(P),0,d8)}cv.splice(cv.indexOf(P),1)}var aE=Q.X.slice(0);for(var v=aE.length-1;
v>=0;v--)if(aE[v]>=cv.length)aE.splice(v,1);var D=new ae([6,40],this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:aE};
Q.xr(D);this.pk(D.data,Q)}if(m==f.a6f){var bd=Q.X.length,iL,bb;if(bd<2){alert("Select two or more layers.");
return}for(var v=0;v<bd;v++){var hk=Q.T[Q.X[v]].s;iL=v==0?hk:iL.uf(hk);bb=v==0?hk:bb.d_(hk)}if(iL.$()*1.2>bb.$()){alert("stacking images");
var gA=[],kd=[];for(var v=0;v<bd;v++){var P=Q.T[Q.X[v]];gA.push(P.buffer);kd.push(P.s)}var av=K.a95.Yk(gA,kd),bs=av[0],bT=av[1],hP=[];
for(var v=0;v<bd;v++){var bu=new f.km;bu.color=255;bu.s=bT;bu.G=bs[v];hP.push(Q.X[v],null,bu)}var D=new ae("Focus-Stack",this);
D.data={Q:f.If,ol:hP};Q.xr(D);this.pk(D.data,Q);return}if(!Q.NY())return;var d8=Q.T[Q.X[0]].O(),cv=[];
for(var v=0;v<Q.T.length;v++)if(Q.X.indexOf(v)==-1)cv.push(Q.T[v]);cv.splice(Q.X[0],0,d8);for(var v=1;
v<bd;v++)if(Q.T[Q.X[v]].s.$()>2e6){alert("Blended areas are too large.");return}for(var v=1;v<bd;v++){var P=Q.T[Q.X[v]],bT=P.s.O();
bT.VT(1,1);var gs=K.U(bT.$()*4);K.EC(P.buffer,P.s,gs,bT);d8.extend(bT);var c0=K.U(bT.$()*4);K.EC(d8.buffer,d8.s,c0,bT);
var D=K.U(bT.$());K._W(gs,D,3);K.round(D,200);K.wj(D,gs,3);K.L.sg("norm",gs,bT,c0,bT,bT,1);K.kF.Lr(c0,D,bT);
K.EC(c0,bT,d8.buffer,d8.s)}var D=new ae([2,10,0],this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:[Q.X[0]]};
Q.xr(D);this.pk(D.data,Q)}if(m==f.MO){var cv=Q.T.slice(0),jl=Q.X.slice(0);for(var v=0;v<cv.length;v++){var P=cv[v],k6=P.add.vmsk;
if(P.Oi()&&k6&&P.add.vstk.strokeEnabled.v&&!P.add.vstk.fillEnabled.v){var dF=k6.z,cX=0,iu=-1;for(var dM=0;
dM<dF.length;dM++){if((dF[dM].w==0||dF[dM].w==3)&&dF[dM].H_!=-1){cX++;if(dF[dM].w==3&&iu==-1){dF[dM].qg=dF[dM].H_=1;
iu=dM}}}if(cX>1&&iu!=-1&&cX<10){console.log("separating an open path into a new layer");P=P.O();k6=P.add.vmsk;
dF=k6.z;var p=dF[iu].length,cH=P.O();cH.add.lyid=Q.Ed();k6.z=dF.slice(0,2).concat(dF.slice(iu,iu+p+1));
k6.X=[];P.tI(Q);P.ge();var jG=cH.add.vmsk.z;cH.add.vmsk.z=jG.slice(0,iu).concat(jG.slice(iu+p+1,jG.length));
cH.add.vmsk.X=[];cH.tI(Q);cv[v]=P;cv.splice(v+1,0,cH);for(var dM=0;dM<jl.length;dM++)if(jl[dM]>v)jl[dM]++;
var jW=jl.indexOf(v);if(jW!=-1){jl.splice(jW+1,0,v+1)}}}}if(cv.length!=Q.T.length){var D=new ae("Splitting open paths",this);
D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:jl};Q.xr(D);this.pk(D.data,Q)}}if(m==f.Fj){this.JQ({Q:f.MO},n,Q,a,B);
var fI=Q.X.slice(0),jS=Q.T.slice(0),hj=Q.J3();if(hj.length==0)return;Q.a44(hj,!1,j.L5);var D=new ae([6,36,0],this);
D.data={Q:f.Gw,Go:jS,Wi:Q.T.slice(),up:fI,ax:Q.X.slice(0)};Q.xr(D);this.pk(D.data,Q)}if(m==f.asw){var jy=q.add.SoLd;
if(jy==null)return;var fV=jy.Idnt.v,hm=Q.KR(fV);hm.rd(!1);var fk=hm.LQ[0],bT=hm.LQ[1];if(K.QX(fk)){alert("The smart object contains transparency.");
return}var jC=fj.Mi("jpg").OR([[fk.buffer]],bT.q,bT._,[90]);this.JQ({Q:f.kO,data:new Uint8Array(jC),yR:"image.jpg"},n,Q,a,B);
console.log(Q.add);return}if(m==f.kO){var e8=j.uM,fV=j.id;if(e8==null)e8=Q;if(fV==null)fV=q.add.SoLd.Idnt.v;
var ej=e8.KR(fV),cL=ej.O();cL.raw=j.data;cL.yR=j.yR;var iS=fj.Ot(j.data.buffer);if(iS=="psd"){cL.T$="8BIM";
cL.px="8BPB"}else{cL.T$="    ";cL.px="    "}cL.rd(!1);ej.rd(!1);var D=new ae([6,36,1],this);D.data={Q:f.kO,id:fV,FA:ej,VR:cL};
e8.xr(D);this.pk(D.data,e8)}if(m==f.db){var D=new ae([6,36,4],this);D.data={Q:m,W:R,Xo:q.add.SoLd.Impr.v.classID,L3:j.L3};
Q.xr(D);this.pk(D.data,Q)}if(m==f.aA1){var kT,iP;if(j.vc){kT=j.uM;iP=j.vc}else{j.uM.iN();j.uM.xg();j.uM.ge();
j.uM.D$();j.uM.rd();kT=fj.Mi("PSD").OR(j.uM,0,0,[!0,!0]);iP=j.uM.name}if(!(kT instanceof ArrayBuffer))throw"e";
kT=new Uint8Array(kT);var o=j.OK;if(o==null){if(Q.X.length==0)o=Q.X.length;else{var gH=Q.X[Q.X.length-1],p=Q.T[gH];
o=p.bx()?gH:gH+1}}var gp=new b4(0,0,Q.q,Q._),gZ=Q.M5();if(gZ!=-1)gp=Q.T[gZ].v_();var dE=Q.$D(kT,iP,null,null,gp,B.wR,n),cv=Q.T.slice(0);
cv.splice(o,0,dE);var D=new ae([6,36,2],this);D.data={Q:f.Gw,Go:Q.T.slice(),Wi:cv,up:Q.X.slice(0),ax:[cv.indexOf(dE)]};
Q.xr(D);this.pk(D.data,Q)}if(m==f.Og&&j.BO=="merge"){var kJ=[],hb=Q.root.children,aH=0;for(var v=0;v<hb.length;
v++){var W=hb[v],P=W.W,ed=W.children,eq=!0;if(!P.bx()||ed.length==0)continue;for(var dM=0;dM<ed.length;
dM++)if(!ed[dM].W.getName().startsWith("_a_")){eq=!1;break}if(eq)kJ.push(Q.T.indexOf(P))}var ir=[];for(var v=0;
v<kJ.length;v++)if(Q.X.indexOf(kJ[v])!=-1)ir.push(kJ[v]);if(ir.length>=2)kJ=ir;if(kJ.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var gW=[];for(var v=0;v<kJ.length;v++)gW.push(Q.T[kJ[v]].getName());var cp=[];for(var gw=0;gw<kJ.length;
gw++){var W=Q.root._N(kJ[gw]),j7=[[],[],0,gw];cp.push(j7);for(var v=0;v<W.children.length;v++){var Z=W.children[v].index,P=W.children[v].W,iq=P.getName(),aX=20,hO=iq.split(",");
if(hO.length>1){var c9=parseInt(hO.pop());if(!isNaN(c9)&&c9!=0)aX=c9}if(aX<17)aX=17;j7[0].push(P);j7[1].push(aX);
j7[2]+=aX}}cp.sort(function(D,gs){return gs[2]-D[2]});if(cp[0][2]>2e3){var iH=0,bt=0;for(var v=0;v<cp.length;
v++){var ac=cp[v][1].length/cp[v][2];if(ac>bt){bt=ac;iH=v}}var fp=(cp[0][2]/1e3).toFixed(1),ao=window.confirm("- \""+gW[cp[0][3]]+"\" is "+fp+" seconds long\n"+"- \""+gW[cp[iH][3]]+"\" is playing at "+Math.round(bt*1e3)+" frames per second\n"+"A merged animation must be "+fp+" sec, up to "+Math.round(cp[0][2]*bt)+" frames. Proceed?");
if(!ao)return}var iY=cp[0],kS=iY[2];for(var ds=1;ds<cp.length;ds++){var j7=cp[ds],kR=1,am=j7[1].slice(0),bK=0;
while((kR+1)*j7[2]<=iY[2]){kR++;am=am.concat(j7[1])}j7[1]=am;j7[2]*=kR;var aM=iY[2]/j7[2];for(var v=0;
v<j7[1].length;v++){var fG=Math.floor(j7[1][v]*aM);j7[1][v]=fG;bK+=fG}while(bK<kS){bK++;j7[1][j7[1].length-1]++}j7[2]=bK}var bq=[],jK=[],fG=[];
for(var v=0;v<cp.length;v++){bq.push(0);jK.push(0)}while(aH<kS){var fX=1e9,c$=-1;for(var v=0;v<cp.length;
v++){var jZ=cp[v][1],jQ=bq[v];if(jQ!=jZ.length&&jK[v]+jZ[jQ]<aH+fX){c$=v;fX=jK[v]+jZ[jQ]-aH}}jK[c$]+=cp[c$][1][bq[c$]];
bq[c$]++;if(fX!=0){fG.push(fX);aH+=fX}}for(var v=1;v<fG.length;v++){var dS=fG[v];if(dS<16&&(fG[v-1]<16||v<fG.length-1&&16<=fG[v+1])){fG[v-1]+=dS;
fG.splice(v,1);v--}}var jH=[],e8=new b4(0,0,Q.q,Q._);for(var v=0;v<Q.T.length;v++){jH[v]=Q.T[v].VH();
Q.T[v]._a(!1)}var cR=Q.X.slice(0);Q.X=kJ;var fc=Q.J3();fc.sort(function(D,gs){return D-gs});var cv=[];
for(var v=0;v<Q.T.length;v++){if(fc.indexOf(v)==-1)cv.push(Q.T[v])}cp.sort(function(D,gs){return D[3]-gs[3]});
function iC(jZ,jx){var v=0,dm=0;while(dm+jZ[v]<=jx){dm+=jZ[v];v++}return v}aH=0;cv.splice(fc[0],0,Q.v4());
for(var gE=0;gE<fG.length;gE++){var e=[];for(var v=0;v<cp.length;v++){var jQ=iC(cp[v][1],aH)%cp[v][0].length,P=cp[v][0][jQ];
e.push(P)}var P=Q.JL();for(var v=0;v<cp.length;v++){var hR=e[v],dK=Q.T[kJ[v]];hR._a(!0);dK._a(!0)}Q.ge();
Q.D$();var fk=Q.rd();P.s=K.ap(fk,e8,2);P.buffer=K.U(P.s.$()*4);K.EC(fk,e8,P.buffer,P.s);for(var v=0;
v<cp.length;v++){var hR=e[v],dK=Q.T[kJ[v]];hR._a(!1);dK._a(!1)}P._a(gE==0);P.kw("_a_frm"+gE+","+fG[gE]);
cv.splice(fc[0]+1+gE,0,P);aH+=fG[gE]}var P=Q.JL();P.kw(gW.join(" + "));P.TM="pass";P.add.lsct=fM.NO;
P.G$=24;cv.splice(fc[0]+1+fG.length,0,P);for(var v=0;v<Q.T.length;v++)Q.T[v]._a(jH[v]);var D=new ae([6,12,0],this);
D.data={Q:f.Gw,Go:Q.T,Wi:cv,up:cR,ax:[fc[0]+1+fG.length]};Q.xr(D);this.pk(D.data,Q)}if(m==f.Oq||m==f.VQ){var d5=Q.X.length==1&&!Q.T[Q.X[0]].bx(),aa=!0,dE=null,aE;
if(d5&&Q.X[0]==0)return;var kb=m==f.Oq&&j.W!=null&&Q.X.indexOf(j.W)==-1,jS=Q.T.slice(0),fI=Q.X.slice(0);
if(d5||kb)Q.X=[R,R-1];if(m==f.VQ){Q.X=[];for(var v=0;v<Q.T.length;v++)if(Q.T[v].VH())Q.X.push(v)}var hj=Q.J3();
hj.sort(function(D,gs){return D-gs});var h6=new b4,e8=new b4(0,0,Q.q,Q._);for(var v=0;v<hj.length;v++){var Z=hj[v],P=Q.T[Z];
if(P.bx()||P.getName()=="</Layer group>")continue;aa=aa&&P.Oi()&&P.add.vmsk!=null;h6=h6.d_(Q.root._N(Z).uI(Q,!0))}if(j.I8!=null&&!aa){alert("Select shape layers only.");
return}if(aa){var k6=null,iE=j.I8;for(var v=0;v<hj.length;v++){var p=Q.T[hj[v]];if(p.s.$()==0)continue;
if(dE==null){dE=p.O();k6=dE.add.vmsk}else{var p=Q.T[hj[v]],jG=f.hx.wX(p.add.vmsk.z);if(iE!=null)for(var dM=0;
dM<jG.length;dM++)if(jG[dM].H_!=null&&jG[dM].H_!=-1)jG[dM].H_=[1,2,3,0][iE];k6.z=k6.z.concat(jG.slice(2));
dE.add.vogk=dE.add.vogk.concat(K.u(p.add.vogk))}}dE.add.vmsk._r=!0;dE.tI(Q)}else if(e8.BJ(h6)){dE=Q.JL();
dE.kw(Q.T[hj[hj.length-1]].getName());dE.s=h6;dE.buffer=K.U(h6.$()*4);var hA=Q.add.artd;delete Q.add.artd;
var bf=Q.rd(hj);if(hA)Q.add.artd=hA;K.EC(bf,e8,dE.buffer,h6);dE.Dy();dE.ge()}else{Q.a44(hj,!0);dE=Q.T[Q.X[0]];
Q.T.splice(Q.X[0],1);var bi=Q.KR(dE.add.SoLd.Idnt.v);Q.add.lnk2.splice(Q.add.lnk2.indexOf(bi),1);delete dE.add.SoLd}var cF=U,iT=-1;
if(j.Tu&&j.Tu.Dplc&&j.Tu.Dplc.v)cF=!0;if(cF&&m==f.VQ&&fI.length!=0&&Q.T[fI[0]].OZ()&&Q.T[fI[0]].s.ke()){iT=fI[0]}if(iT!=-1||d5){var kL=Q.T[iT!=-1?iT:R-1];
dE.kw(kL.getName());dE.add.lclr=kL.add.lclr}var cv=[];for(var v=0;v<Q.T.length;v++)if(cF||hj.indexOf(v)==-1)if(v!=iT)cv.push(Q.T[v]);
var aR=hj[hj.length-1],cd=aR==Q.T.length-1?null:Q.T[aR+1],hT=cd?cv.indexOf(cd):cv.length;cv.splice(hT,0,dE);
aE=[hT];if(kb)aE=fI.slice(0);var D=new ae([6,12,0],this);D.data={Q:f.Gw,Go:jS,Wi:cv,up:fI,ax:aE};Q.xr(D);
this.pk(D.data,Q)}if(m==f.adI){var d8=Q.JL();d8.s=new b4(0,0,Q.q,Q._);d8.buffer=K.U(d8.s.$()*4);d8.buffer.fill(255);
K.L.sg("norm",Q.rd(),d8.s,d8.buffer,d8.s,d8.s,1);d8.kw("Background");d8.add.lspf=1<<2;var D=new ae([6,12,1],this);
D.data={Q:f.Gw,Go:Q.T.slice(),Wi:[d8],up:Q.X.slice(0),ax:[0]};Q.xr(D);this.pk(D.data,Q)}var f8=m==f.RS||m==f.a_;
if(m==f.X0||m==f.c1||m==f.L6||m==f.OW||f8){var P=f8?Q.Rl()[0]:Q.JL(),gi=i4.get([0,3]),cP=j.tw,jv=!1,gb,iN;
if(m==f.L6)gi=i4.get([12,76,1]);if(f8){if(Q.K){var jO=Q.T[Q.X[0]],bS=jO.uo(Q,Q.K);if(bS==null){alert("Copied area is empty");
return}P.s=bS.s;P.buffer=bS.FJ;P.JX(Q);P._a(!0)}else cP=P.getName();P.add.lspf=0;P.U7=!1;if((P.G$&1)!=0)P.G$--}if(m==f.OW){P.s=N.vo.akL(j.vT,Q);
P.buffer=j.vT.buffer.slice(0);if(j.aGR&&Q.K){P.N=new f.km;P.N.s=Q.K.s;P.N.color=0;P.N.G=Q.K.G.slice(0)}}if(m==f.X0){this.track({ep:"make",Tu:{classID:"Mk",null:f2.oA("Lyr")}})}if(m==f.c1){P.G$|=16;
var j5=j.Tu.Usng.v,g2=j5.Type.v,cq=k8.Bq[g2.classID];gi=i4.get(k8.names[cq]);if(j5.Nm)cP=j5.Nm.v;P.add[cq]=fo.cL(cq);
if(P.add[cq]==null)P.add[cq]={};for(var aD in g2)P.add[cq][aD]=K.u(g2[aD]);P.N=N.vo.a9G(Q);P.s0=1}if(m==f.L6){P.G$|=16;
var jU=j.Tu,j5=jU.Usng.v,ez=j5.Type.v,dV=j5.Shp;if(j5.Nm)cP=j5.Nm.v;if(dV==null){var jA=Q.H9(),b9=jA[0],eV=jA[1];
if(eV.length!=0&&b9[eV[0]].cb<0){var eA=b9[eV[0]].add;P.add.vmsk=eA.vmsk.O();P.add.vstk=g8.o0.cL(!0);
P.add.vogk=K.u(eA.vogk);Q.VF=[]}else P.N=N.vo.a9G(Q)}else{P.add.vmsk=new f.hx;P.add.vstk=K.u(j5.strokeStyle?j5.strokeStyle.v:g8.o0.cL(!0));
P.add.vogk=[];if(dV){var eS=K._y.QC(dV,Q.q,Q._);if(eS){P.add.vogk=[eS];P.add.vmsk.z.push({w:0,H_:1,length:0});
K._y.IA(P.add.vogk,P.add.vmsk)}else{dV=dV.v;var fD=dV.classID;if(fD=="Plgn"){var fT=dV.Cntr.v,hk=dV.corner.v;
fT=new eE(fT.Hrzn.v.val,fT.Vrtc.v.val);hk=new eE(hk.Hrzn.v.val,hk.Vrtc.v.val);P.add.vmsk.z=K.R.hi.Ek(fT.x,fT.y,Math.sqrt(hk.x*hk.x+hk.y*hk.y),Math.atan2(hk.y,hk.x),dV.sides.v,0)}else if(fD=="customShape"){var e$=K._y.dk(dV),gU=e$[2]-e$[0],e0=e$[3]-e$[1],hJ=B.lE,bh,ge;
for(var v=0;v<hJ.length;v++)if(hJ[v].iA==dV.Nm.v)bh=hJ[v];if(bh){ge=f.hx.wX(bh.z);K.R.fK(ge,new j8(gU,0,0,e0,e$[0],e$[1]))}else ge=K.R.hi.Rect(e$[0],e$[1],gU,e0,0);
P.add.vmsk.z=ge}P.sU()}}}if(fL==0){var j9={solidColorLayer:0,gradientLayer:1,patternLayer:2}[ez.classID],iI=["SoCo","GdFl","PtFl"][j9];
P.add[iI]=K.u(g8.hF[j9]);if(j9==0)P.add[iI].Clr.v=K.Gp.Db(K.Hy(B.Z4));N.vo.O6(ez,P.add[iI],j9);if(dV==null)gi=i4.get([6,48,0,j9]);
if(iI=="PtFl"){var eP=P.add[iI].Ptrn.v,hO=gq.Te(eP,B._f);if(hO==null)hO=gq.Te(eP,Q.add.Patt);if(hO==null)hO=B._f[0];
eP.Idnt.v=hO.id;Q.sS(hO)}P.tI(Q)}else{P.add.vstl=K.u(B.awL)}}var bd=N.vo.mh(Q,gi+" ");P.kw(gi+" "+(bd+1));
if(cP)P.kw(cP);var ct=Q.X.length==0?Q.T.length-1:Q.X[Q.X.length-1],c1=Q.T[ct];if(fL==0&&m==f.L6&&c1.OZ()&&c1.s.ke()){jv=!0;
P.kw(c1.getName());gb=ct}else{gb=ct+(m==f.X0&&b&&!l?0:1);if(c1&&c1.add.lsct==fM.ko)gb--}if(j.atB)gb=Math.max(0,gb-1);
var cv=Q.T.slice(0);if(m==f.a_){var aw=cv[Q.X[0]]=cv[Q.X[0]].O(),fu=Q.K.G.slice(0);K.m2(fu);K.XE(fu,Q.K.s,aw.buffer,aw.s)}cv.splice(gb,jv?1:0,P);
var iK=[5,2];if(m==f.X0)iK=[6,13];if(m==f.c1)iK=[6,1];if(m==f.L6){iK=[6,48,1];var dV=j.Tu.Usng.v.Shp;
if(dV){var bX={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[dV.v.classID];
if(bX)iK=bX}}if(f8){iK=[6,49,m==f.RS?0:1]}if(f8||m==f.L6||m==f.OW||m==f.c1)if(Q.K)iN=[Q.K,null];var D=new ae(iK,this);
D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:[gb],Ij:iN};Q.xr(D);this.pk(D.data,Q);if(m==f.L6&&dV==null&&j9!=0||m==f.c1){var t=new ar(x.E.B);
t.data={Q:x.l.uv,Z8:eX.D9.dZ};n.a(t)}}if(m==f.adf){var cv=Q.T.slice(0),P=Q.T[Q.X[0]],bN=P.s.$(),bc=bN*4,bH=cv.indexOf(P),kL=Q.JL();
kL.kw("Decomposition");kL.add.lsct=fM.ko;kL.TM="pass";kL.G$=24;cv.splice(bH+1,0,kL);cv.splice(bH+1,0,Q.v4());
var bo=P.O();bo.kw("Residual");cv.splice(bH+2,0,bo);function fX(D,gs,v){gs[v]+=128-D[v];gs[v+1]+=128-D[v+1];
gs[v+2]+=128-D[v+2];gs[v+4]+=128-D[v+4];gs[v+5]+=128-D[v+5];gs[v+6]+=128-D[v+6]}cv.splice(bH,0);var ib=Date.now();
for(var eJ=0;eJ<5;eJ++){var cH=bo.O();cv.splice(bH+3,0,cH);cH.wT=128;cH.TM="lLit";cH.kw("Scale "+(eJ+1));
fo.xx(1<<eJ,K.KX.x$,bo.buffer,P.s);var e$=bo.buffer,jj=new Uint8ClampedArray(cH.buffer.buffer);for(var v=0;
v<bc;v+=8)fX(e$,jj,v)}var D=new ae("Wavelet Decompose",this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:[bH+2]};
Q.xr(D);this.pk(D.data,Q)}if(m==f.cj){var P=Q.JL(),gi=i4.get([0,4]),bd=N.vo.mh(Q,gi+" ");P.kw(gi+" "+(bd+1));
P.TM="pass";P.add.lsct=fM.ko;P.G$=24;if(j.tw)P.kw(j.tw);if(j.RP!=null)P.add.lclr=j.RP;var f5=Q.v4(),ct=R,gb=ct+(b?0:1),cv=Q.T.slice(0);
cv.splice(gb,0,f5,P);var D=new ae([6,20],this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:[gb+1]};
Q.xr(D);this.pk(D.data,Q)}if(m==f.ef||m==f.yW){var jJ=m==f.ef?j.source:Q.X[0],ka,cn,fO=Q.X.indexOf(jJ)!=-1,h3=U|j.aog,hg,fX=null;
if(fO)hg=Q.J3();else hg=Q.i3(jJ);hg.sort(function(D,gs){return D-gs});if(m==f.ef){ka=j.target;cn=j.ZD>.5}else if(j.target!=null){ka=Math.min(j.target,Q.T.length-1);
cn=j.target<Q.T.length;Q.v9=!0}else{var bE=j.BO;cn=bE>1;if(bE==0){ka=Q.T.length-1}if(bE==1){ka=hg[hg.length-1]+1;
var p=Q.i3(ka);if(p.indexOf(jJ)==-1)ka+=p.length-1}if(bE==2){ka=hg[0]-1;var p=Q.i3(ka);if(p.indexOf(jJ)==-1)ka-=p.length-1}if(bE==3){ka=0;
if(Q.T[0].add.lnsr=="bgnd")ka++}if(ka<0||ka>Q.T.length-1)return;Q.v9=!0}if(hg.indexOf(ka)!=-1&&!h3)return;
var kr=N.vo.Hv(Q,hg,ka,cn,h3?Q.Rl(fO?null:jJ):null,m==f.ef&&j.ZD>.8),aZ=kr.pop(),jl=kr.pop(),cv=kr.pop(),jB=Q.X;
Q.X=[jJ];var aQ=Q.M5();Q.X=[ka];var dU=Q.M5();if(dU==ka&&!cn)dU=-1;Q.X=jB;if(jJ==aQ){}else if(aQ!=dU){var fX=new eE(0,0);
if(aQ!=-1){var bT=Q.T[aQ].v_();fX.x-=bT.x;fX.y-=bT.y}if(dU!=-1){var bT=Q.T[dU].v_();fX.x+=bT.x;fX.y+=bT.y}}var D=new ae(h3?[6,0]:[6,35],this);
D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:jl,OL:fX};Q.xr(D);this.pk(D.data,Q);var jU={classID:"move",null:f2.oA("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:aZ+(cn?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:h3}};
this.track({ep:"move",Tu:jU})}if(m==f.Cv){var c1=j.Le;if(j.mo){if(q==null||!q.bx())return;var W=Q.root._N(R),h_=Q.T.indexOf(W.oe),cv=Q.T.slice(0);
cv.splice(R,1);cv.splice(h_,1);var jl=[];for(var v=h_;v<R-1;v++)jl.push(v);if(c1){var T=R-2;cv[T]=cv[T].O();
cv[T].Le=!1}var D=new ae(c1?[6,6,0]:"Ungroup Layers",this);D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:jl};
Q.xr(D);this.pk(D.data,Q)}else{var P=Q.JL(),dg=i4.get([0,4])+" ";P.kw(dg+(N.vo.mh(Q,dg)+1));P.TM="pass";
if(c1){if(Q.X.length==1){alert("Select more than one layer for a clipping group.");return}P.kw("<Clip Group>")}if(j.tw)P.kw(j.tw);
if(j.RP!=null)P.add.lclr=j.RP;P.add.lsct=Q.X.length==1?fM.ko:fM.NO;P.G$=24;var f5=Q.v4(),hg=Q.J3();if(hg.length==0)return;
hg.sort(function(D,gs){return D-gs});var cv=[];for(var v=0;v<Q.T.length;v++)if(hg.indexOf(v)==-1)cv.push(Q.T[v]);
var ct=Q.X[Q.X.length-1]-hg.length;cv.splice(ct+1,0,f5);for(var v=0;v<hg.length;v++)cv.splice(ct+2+v,0,Q.T[hg[v]]);
cv.splice(ct+2+hg.length,0,P);if(c1){var T=ct+hg.length+1;cv[T]=cv[T].O();cv[T].Le=!0}var D=new ae(c1?[6,6,0]:[6,9],this);
D.data={Q:f.Gw,Go:Q.T.slice(0),Wi:cv,up:Q.X.slice(0),ax:[cv.indexOf(P)]};Q.xr(D);this.pk(D.data,Q);var k={ep:"make",Q5:!0};
k.Tu={classID:"Mk",null:f2.oA("layerSection"),From:f2.oA("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:P.getName()}}}};
this.track(k)}}if(m==f.awM){if(Q.X.length!=1)return;var o=Q.X[0],dR=U;if(Q.T[o].sJ()==null&&!a.r(i8.Gm)){m=f.Fn;
j.uO=Q.K?!dR?"RvlS":"HdSl":!dR?"RvlA":"HdAl"}else{m=f.nF;j.a7L=!0}}if(m==f.Fn){if(Q.X.length!=1)return;
var o=Q.X[0],P=Q.T[o];if(P.add.vmsk&&P.N==null)P.tI(Q);var bI=P.sJ();if(bI==null||j.a0V){var D=new ae(j.tw?j.tw:[6,21],this),dx=new f.km,gl=j.uO,fv=gl=="RvlS"||gl=="HdSl";
if(gl=="RvlS"||gl=="HdAl"||gl=="Trns")dx.color=0;if(fv){dx.G=Q.K.G.slice(0);dx.s=Q.K.s.O();if(gl=="HdSl")K.m2(dx.G)}if(gl=="Trns"){dx.s=P.s.O();
dx.G=K.U(P.s.$());K._W(P.buffer,dx.G,3)}D.data={Q:f.If,ol:[o,bI,dx],Ij:fv?[Q.K,null]:null,a9x:gl=="Trns"};
Q.xr(D);this.pk(D.data,Q);Q.T[o].s0=1;this.track({ep:"make",Tu:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:gl}}}})}}else if(m==f.aIk){var kh=Q.T[j.src],ay=Q.T[j.iB],D=new ae([6,21],this),ff=kh.sJ(),el=ay.sJ(),bu=[j.src,ff,null,j.iB,el,ff];
if(U||l){var iq=ff.O();if(U)bu=[j.iB,el,iq];else bu[5]=iq;if(l){K.m2(iq.G);iq.color=255-iq.color}}D.data={Q:f.If,ol:bu};
Q.xr(D);this.pk(D.data,Q)}if(m==f.Qf){if(Q.X.length!=1)return;var o=R,iO=Q.T[o].sJ();if(iO!=null){var D=new ae([6,22],this);
D.data={Q:f.If,ol:[R,iO,null]};Q.xr(D);this.pk(D.data,Q)}}if(m==f.w2){var jS=Q.T.slice(0),d8=q.O(),co=d8.sJ();
K.XE(co.OC(d8.s),d8.s,d8.buffer,d8.s);N.vo.ff(Q,d8);d8.Dy();Q.T[Q.X[0]]=d8;var D=new ae([5,8],this);
D.data={Q:f.Gw,Go:jS,Wi:Q.T.slice(),up:Q.X.slice(0),ax:Q.X.slice(0)};Q.xr(D);this.pk(D.data,Q)}if(m==f.MB){if(Q.X.length!=1)return;
var o=Q.X[0];if(Q.T[o].vG(Q).N==null){var D=new ae([6,45],this);D.data={Q:m,W:o,N:new f.km};Q.xr(D);
this.pk(D.data,Q)}}if(m==f.ou){if(Q.X.length!=1)return;var o=Q.X[0];if(Q.T[o].vG(Q).N!=null){var D=new ae([6,46],this);
D.data={Q:m,W:o,N:Q.T[o].vG(Q).N};Q.xr(D);this.pk(D.data,Q)}}if(m==f.e2){if(j.src==null&&Q.X.length!=1)return;
if(j.src!=null)R=j.src;if(Q.T[R].FI()){var D=new ae([6,47],this),jy=JSON.stringify(Q.T[R].add.SoLd),cl=JSON.parse(jy);
delete cl.filterFX;D.data={Q:f.Nm,I4:[{d0:R,dN:[jy,JSON.stringify(cl)],jb:[Q.T[R].vG(Q),null]}]};Q.xr(D);
this.pk(D.data,Q)}}if(m==f.nF){if(Q.X.length!=1)return;if(q.add.vmsk==null){var D=new ae([6,23],this),dF=Q.H9(),eK=dF[1],dF=dF[0],dx,eS;
if(j.a7L&&eK.length!=0){var eA=dF[eK[0]].add;dx=eA.vmsk.O();eS=eA.vogk}else{dx=new f.hx;eS=[];dx.z[1].all=j.aag?0:1}D.data={Q:m,W:R,Y8:!0,N:dx,_y:JSON.stringify(eS),o0:null};
if(q.Oi()){D.data.o0=Stroke.o0.cL(!0)}Q.xr(D);this.pk(D.data,Q)}}if(m==f.a9){var kh=Q.T[j.src],ay=Q.T[j.iB];
if(ay.add.vmsk)return;var D=new ae([6,23],this),k6=kh.add.vmsk;D.data={W:j.iB,Y8:kh.Ok,N:k6.O(),_y:JSON.stringify(kh.add.vogk),o0:kh.add.vstk?JSON.stringify(kh.add.vstk):null};
if(U){D.data.Q=f.nF}else{D.data.Q=m;D.data.src=j.src;D.data.iB=j.iB}Q.xr(D);this.pk(D.data,Q)}if(m==f.s6||m==f.Fy){if(Q.X.length!=1)return;
var P=Q.T[R],k6=P.add.vmsk;if(k6!=null){var kj=m==f.Fy,D=new ae(kj?[6,8]:[6,24],this);D.data={Q:f.s6,W:R,Y8:P.Ok,N:k6,_y:JSON.stringify(P.add.vogk),o0:P.add.vstk?JSON.stringify(P.add.vstk):null};
if(kj){D.data.Bc=k6.sJ(P.add.vstk);D.data.Bc.lt=!1}Q.xr(D);this.pk(D.data,Q)}}if(m==f.WS){var D=new ae("Metadata",this);
D.data={Q:m,fY:JSON.stringify(Q.bc),ul:JSON.stringify(j.ul)};Q.xr(D);this.pk(D.data,Q)}if(m==f.BG){var dw=j.iB?j.iB:Q,b1=dw.name,cP=j.J+".psd";
if(b1==cP)return;var D=new ae([6,37],this);D.data={Q:m,agE:b1,tw:cP};if(j.aD5!=!0)dw.xr(D);this.pk(D.data,dw)}if(m==f.Og&&j.BO.endsWith("makeframes")){var bF=[],dG=j.BO.startsWith("make");
for(var v=0;v<Q.X.length;v++){var Z=Q.X[v],P=Q.T[Z],dy=P.getName(),aq=dy.startsWith("_a_");if(dG==aq||P.add.lsct==fM.KB)continue;
var eg=dG?"_a_"+dy:dy.slice(3);bF.push([Z,dy,eg,P.add.lnsr,null])}var D=new ae([6,37],this);D.data={Q:f.jN,_X:bF};
Q.xr(D);this.pk(D.data,Q)}if(m==f.jN){var b1=q.getName(),cP=j.name.substring(0,255);if(b1==cP)return;
var D=new ae([6,37],this);D.data={Q:m,_X:[[R,b1,cP,q.add.lnsr,null]]};Q.xr(D);this.pk(D.data,Q);this.track(f2.OQ("Nm",{t:"TEXT",v:cP}))}if(m==f.dc){var cW=Q.J3(),kl=[],e4=[];
for(var v=0;v<cW.length;v++){kl.push(Q.T[cW[v]].add.lclr);e4.push(j.abC)}var D=new ae([6,38],this);D.data={Q:m,T:cW,auE:kl,RP:e4};
Q.xr(D);this.pk(D.data,Q)}if(m==f.E5){var D=Q.history[Q.cD];if(D!=null&&D.I==this&&D.data.Q==m&&D.data.W==j.NA&&D.data.L3.E0==j.pW.E0)D.data.L3=j.pW;
else{D=new ae("Mask Density / Feather",this);D.data={Q:m,W:j.NA,Xo:Q.T[j.NA].vI(j.pW.E0),L3:j.pW};Q.xr(D)}this.pk(D.data,Q)}if(m==f.te){var iJ=JSON.stringify(j.J),cb=JSON.parse(iJ),D=Q.history[Q.cD];
if(D!=null&&D.I==this&&D.data.Q==m&&D.data.xl==j.xl&&D.data.ia.join(",")==j.ia.join(",")){for(var v=0;
v<j.ia.length;v++)D.data.Qx[v]=cb;if(D.data.Tu&&cb.px!=0)N.vo.O6(cb.zT,D.data.Tu.T.v,cb.px-1)}else{D=new ae([11,6],this);
D.data={Q:m,ia:j.ia,xl:j.xl,aox:[],Qx:[]};var hB=!1;for(var v=0;v<j.ia.length;v++){var Z=j.ia[v],P=Q.T[Z],jn=j.xl?g8.GT(P.add):K.u(P.add.vstk);
D.data.aox.push(jn);D.data.Qx.push(cb);if(JSON.stringify(jn)!=iJ)hB=!0}if(!hB)return;Q.xr(D);if(j.xl&&cb.px>0){var jU=D.data.Tu={classID:"setd",null:f2.oA("contentLayer",!0),T:{t:"Objc",v:{}}};
N.vo.O6(cb.zT,jU.T.v,cb.px-1);this.track({ep:"set",Tu:jU})}}if(j.xl&&cb.px==3)Q.sS(gq.Te(cb.zT.Ptrn.v,B._f));
if(!j.xl){var b0=cb.strokeStyleContent.v;if(b0.classID==g8.o0.TF[2])Q.sS(gq.Te(b0.Ptrn.v,B._f))}this.pk(D.data,Q)}if(m==f.wd){var c5=B.no,cT=[];
for(var v=0;v<Q.X.length;v++){var Z=Q.X[v],P=Q.T[Z],aP=P.add.vstl;if(aP==null)continue;var jn=JSON.stringify(aP);
for(var e8 in c5)aP[e8]=c5[e8];var cb=JSON.stringify(aP);if(jn==cb)continue;cT.push([Z,jn,cb])}if(cT.length!=0){var Y=Q.Pz();
if(Y&&Y.I==this&&Y.data.Q==m&&Y.data.dO.length==cT.length){var fA=!0;for(var v=0;v<cT.length;v++)if(cT[v][0]!=Y.data.dO[v][0])fA=!1;
if(fA){for(var v=0;v<cT.length;v++)Y.data.dO[v][2]=cT[v][2];Q.ge();return}}var D=new ae("Style Change",this);
D.data={Q:m,dO:cT};Q.xr(D);Q.ge()}}};N.vo.Hv=function(j,n,Q,a,B,m){var R=j.T[Q],q=[];if(B)q=j.T.slice(0);
else for(var v=0;v<j.T.length;v++)if(n.indexOf(v)==-1)q.push(j.T[v]);var U=q.indexOf(R);if(m&&R.bx()&&R.add.lsct==fM.NO)U-=j.i3(Q).length-1;
var l=[];for(var v=0;v<n.length;v++){var b=U+(a?0:1)+v,D=B?B[v]:j.T[n[v]];q.splice(b,0,D);l.push(b)}return[q,l,U]};
N.vo.O6=function(j,n,Q){var a=[g8.WE,g8.Kp,g8._$][Q];if(n.classID==null)n.classID=["solidColorLayer","gradientLayer","patternLayer"][Q];
for(var v=0;v<a.length;v++)if(j[a[v]])n[a[v]]=K.u(j[a[v]])};N.vo.a9G=function(j){var n=new f.km;if(j.K!=null){n.color=0;
n.G=j.K.G.slice(0);n.s=j.K.s.O()}return n};N.vo.VP=function(j,n,Q,a,B){var m=a.q/Q.q,R=a._/Q._,q=a.q/2,U=a._/2,l=K.c.yc(a).g;
for(var v=0;v<j.T.length;v++){var b=j.T[v],D=b.add.SoLd;if(D==null||D.Idnt.v!=n)continue;var c=m!=1||R!=1;
if(c){var _=N.IP.lw(D.nonAffineTransform),p=K.D.ZM(_,a),X=new j8;X.translate(-q,-U);X.scale(m,R);X.translate(q,U);
var g=K.D.Da(p,K.D.UN(X)),F=l.slice(0);K.D.C(g,F);D.Trnf=N.IP.ob(F);D.nonAffineTransform=N.IP.ob(F);
if(K.UH.En(D.quiltWarp.v)){var k=D.quiltWarp.v.bounds.v;k.Rght.v.val=a.q;k.Btom.v.val=a._}}b.pS(j,null,B,!c)}j.ge()};
N.vo.aFP=function(j,n,Q){n.color=255-n.color;K.m2(n.G);n._r=!0;j.tI(Q);Q.ge()};N.vo.prototype.X7=function(j,n){var Q=j.Q,a=n.T[j.W];
n.LD=!0;if(Q==f.kO){n.add.lnk2.splice(n.add.lnk2.indexOf(j.VR),1,j.FA);N.vo.VP(n,j.id,j.VR.do,j.FA.do)}if(Q==f.db){a.add.SoLd.Impr.v.classID=j.Xo;
a.pS(n)}if(Q==f.Iy){var B=JSON.parse(j.ia);for(var v=0;v<B.length;v++)n.T[B[v]].TM=j.EG[v];n.ge()}if(Q==f.pc){var B=JSON.parse(j.ia);
for(var v=0;v<B.length;v++)n.T[B[v]].wT=j.EG[v];n.ge()}if(Q==f.MI){var B=JSON.parse(j.ia);for(var v=0;
v<B.length;v++)if(n.T[B[v]].add.lsct!=fM.KB)n.T[B[v]].add.lspf=j.EG[v]}if(Q==f.MQ){var m=j.xn,R=j.a9v;
delete a.add[m[0]];if(R[0]!="----")a.add[R[0]]=R[1]}if(Q==f.cv){a.add.iOpa=j.EG;n.ge()}if(Q==f.yy){for(var v=0;
v<j.ia.length;v++){var q=n.T[j.ia[v]];q._a(!q.VH())}n.ge()}if(Q==f.hf){var U=a.sJ();U.isEnabled=!U.isEnabled;
a.tI(n);n.ge()}if(Q==f.my){var U=a.vG(n).N;U.isEnabled=!U.isEnabled;a.ge();n.ge()}if(Q==f.AX){var U=a.add.vmsk;
U.isEnabled=!U.isEnabled;if(!U.isEnabled){if(a.Bc){a.N=a.Bc;a.Bc=null}else a.N=null}else if(a.N){a.Bc=a.N;
a.N=null}a.tI(n);n.ge()}if(Q==f.WN){a.U7=!a.U7;n.ge()}if(Q==f.zj){a.add.lmfx.masterFXSwitch.v=!a.add.lmfx.masterFXSwitch.v;
a.xw.G4=!0;n.ge()}if(Q==f.Hh){a.add.SoLd.filterFX.v.enab.v=!a.add.SoLd.filterFX.v.enab.v;a.vA(n);n.ge()}if(Q==f.fb){var l=j.index,b=a.add.lmfx[g8.Ub[l[0]]].v[l[1]].v;
b.enab.v=!b.enab.v;a.xw.G4=!0;n.ge()}if(Q==f.kR){var D=n.T[j.x8],c=n.T[j.rS],_=j.awA,p=j.ahx;if(_=="")delete D.add.lmfx;
else D.add.lmfx=JSON.parse(_);if(p=="")delete c.add.lmfx;else c.add.lmfx=JSON.parse(p);D.xw.G4=!0;c.xw.G4=!0;
n.ge()}if(Q==f.qf){var X=a.add.SoLd.filterFX.v.filterFXList.v[j.index].v;X.enab.v=!X.enab.v;a.vA(n);
n.ge()}if(Q==f.aGE){a.add.SoLd.filterFX.v=K.u(j.avd);a.vA(n);n.ge()}if(Q==f.fX){var U=a.sJ();U.DW=!U.DW}if(Q==f.d4){var U=a.add.vmsk;
U.DW=!U.DW}if(Q==f.Jg){var g=JSON.parse(j.adH);n.Wr=g[0];n.$h=g[1]}if(Q==f.ed){var g=j.zF;for(var v=0;
v<g.length;v+=2){var F=g[v],q=F>=0?n.T[F]:n.AZ[-1-F];q.add.vogk=JSON.parse(g[v+1]);K._y.IA(q.add.vogk,q.add.vmsk);
if(F>=0)q.tI(n)}n.ge()}if(Q==f.Lt){a.add.artb=JSON.parse(j.ax4);n.ge();N.MT.Dc(n,j)}if(Q==f.EH){n.K=j.bX;
if(j.a1O)n.e.Y=j.a1O.slice(0);n.Kj=j.zF.slice(0);n.Yb=j.Ln.slice(0);n.UF=n.Xx=!0}if(Q==f.Gh){a.dq=!a.dq}if(Q==f.YV){var k=j.ajh;
for(var v=0;v<k.length;v++)n.T[v].i8=k[v]}if(Q==f.Gw){if(j.OL)N.mL.$G(n,n.X,null,-j.OL.x,-j.OL.y);if(j.up)n.X=j.up;
if(j.Ij)n.K=j.Ij[0];n.fO=null;n.ge();N.MT.Dc(n,j);n.xt(j.Go);if(j.s_)n.J$(j.s_[0])}if(Q==f.If){for(var v=0;
v<j.ol.length;v+=3)N.vo.ff(n,n.T[j.ol[v]],j.ol[v+1]);if(j.Ij){var I=j.Ij[0];if(I==null)delete n.K;else n.K=I}if(j.a9x){var q=n.T[j.ol[0]];
K.wj(j.ol[2].G,q.buffer,3)}}if(Q==f.MB){a.vG(n).N=null;a.ge();n.ge()}if(Q==f.ou){a.vG(n).N=j.N;a.ge();
n.ge()}if(Q==f.Nm){N.vo.a0F(n,j.I4,0)}if(Q==f.nF){N.vo.Fx(n,a,!0)}if(Q==f.a9){N.vo.Fx(n,n.T[j.iB],j.N.isEnabled);
N.vo.Ex(n,n.T[j.src],j)}if(Q==f.s6){if(j.Bc)N.vo.ff(n,a,null);N.vo.Ex(n,a,j)}if(Q==f.WS){n.bc=JSON.parse(j.fY)}if(Q==f.BG){n.name=j.agE}if(Q==f.jN){for(var v=0;
v<j._X.length;v++){var e=j._X[v],q=n.T[e[0]];q.kw(e[1]);if(e[3])q.add.lnsr=e[3];else delete q.add.lnsr}}if(Q==f.dc){for(var v=0;
v<j.T.length;v++)n.T[j.T[v]].add.lclr=j.auE[v]}if(Q==f.te){var H=j.aox;for(var v=0;v<j.ia.length;v++){var q=n.T[j.ia[v]],A=H[v];
if(!j.xl)q.add.vstk=K.u(A);else g8.zc(q.add,K.u(A));q.Df(n)}n.ge()}if(Q==f.wd){for(var v=0;v<j.dO.length;
v++){var Z=j.dO[v];n.T[Z[0]].add.vstl=JSON.parse(Z[1])}n.ge()}if(Q==f.E5){a.a7y(j.Xo);a.tI(n);n.ge()}n.Xx=!0};
N.vo.prototype.pk=function(j,n){var Q=j.Q,a=n.T[j.W];n.LD=!0;if(Q==f.kO){n.add.lnk2.splice(n.add.lnk2.indexOf(j.FA),1,j.VR);
N.vo.VP(n,j.id,j.FA.do,j.VR.do)}if(Q==f.db){a.add.SoLd.Impr.v.classID=j.L3;a.pS(n)}if(Q==f.Iy){var B=JSON.parse(j.ia);
for(var v=0;v<B.length;v++)n.T[B[v]].TM=j.L3;n.ge()}if(Q==f.pc){var B=JSON.parse(j.ia);for(var v=0;v<B.length;
v++)n.T[B[v]].wT=j.L3;n.ge()}if(Q==f.MI){var B=JSON.parse(j.ia);for(var v=0;v<B.length;v++)if(n.T[B[v]].add.lsct!=fM.KB)n.T[B[v]].add.lspf=j.L3[v]}if(Q==f.MQ){var m=j.a9v,R=j.xn;
delete a.add[m[0]];if(R[0]!="----")a.add[R[0]]=R[1]}if(Q==f.cv){a.add.iOpa=j.L3;n.ge()}if(Q==f.yy){for(var v=0;
v<j.ia.length;v++){var q=n.T[j.ia[v]];q._a(!q.VH())}n.ge()}if(Q==f.hf){var U=a.sJ();U.isEnabled=!U.isEnabled;
a.tI(n);n.ge()}if(Q==f.my){var U=a.vG(n).N;U.isEnabled=!U.isEnabled;a.ge();n.ge()}if(Q==f.AX){var U=a.add.vmsk;
U.isEnabled=!U.isEnabled;if(!U.isEnabled){if(a.Bc){a.N=a.Bc;a.Bc=null}else a.N=null}else if(a.N){a.Bc=a.N;
a.N=null}a.tI(n);n.ge()}if(Q==f.WN){a.U7=!a.U7;n.ge()}if(Q==f.zj){a.add.lmfx.masterFXSwitch.v=!a.add.lmfx.masterFXSwitch.v;
a.xw.G4=!0;n.ge()}if(Q==f.Hh){a.add.SoLd.filterFX.v.enab.v=!a.add.SoLd.filterFX.v.enab.v;a.vA(n);n.ge()}if(Q==f.fb){var l=j.index,b=a.add.lmfx[g8.Ub[l[0]]].v[l[1]].v;
b.enab.v=!b.enab.v;a.xw.G4=!0;n.ge()}if(Q==f.kR){var D=n.T[j.x8],c=n.T[j.rS],_=j.aiB,p=j.a5Q;if(_=="")delete D.add.lmfx;
else D.add.lmfx=JSON.parse(_);if(p=="")delete c.add.lmfx;else c.add.lmfx=JSON.parse(p);D.xw.G4=!0;c.xw.G4=!0;
n.ge()}if(Q==f.qf){var X=a.add.SoLd.filterFX.v.filterFXList.v[j.index].v;X.enab.v=!X.enab.v;a.vA(n);
n.ge()}if(Q==f.aGE){a.add.SoLd.filterFX.v=K.u(j.a6A);a.vA(n);n.ge()}if(Q==f.fX){var U=a.sJ();U.DW=!U.DW}if(Q==f.d4){var U=a.add.vmsk;
U.DW=!U.DW}if(Q==f.Jg){var g=JSON.parse(j.a7D);n.Wr=g[0];n.$h=g[1]}if(Q==f.ed){var g=j.BL;for(var v=0;
v<g.length;v+=2){var F=g[v],q=F>=0?n.T[F]:n.AZ[-1-F];q.add.vogk=JSON.parse(g[v+1]);K._y.IA(q.add.vogk,q.add.vmsk);
if(F>=0)q.tI(n)}n.ge()}if(Q==f.Lt){a.add.artb=JSON.parse(j.WY);n.ge();N.MT.fL(n,j)}if(Q==f.EH){n.K=j.zI;
if(j.ayr)n.e.Y=j.ayr.slice(0);n.Kj=j.BL.slice(0);n.Yb=j.RH.slice(0);n.UF=n.Xx=!0}if(Q==f.Gh){a.dq=!a.dq}if(Q==f.YV){var k=j.aky;
for(var v=0;v<k.length;v++)n.T[v].i8=k[v]}if(Q==f.Gw){n.aGl();var I=j.Wi,e=0,H;for(var v=0;v<I.length;
v++){var q=I[v],A=q.add.lsct;if(A==fM.KB)e++;else if(A==fM.ko||A==fM.NO)e--;if(q.add.artb&&e!=0)H="Artboards can not be inside folders."}if(H){n.history.pop();
n.cD--;alert(H);return}if(j.ax)n.X=j.ax;if(j.Ij)n.K=j.Ij[1];n.fO=null;n.ge();n.xt(j.Wi);N.MT.fL(n,j);
if(j.OL)N.mL.$G(n,n.X,null,j.OL.x,j.OL.y);if(j.s_)n.J$(j.s_[1])}if(Q==f.If){for(var v=0;v<j.ol.length;
v+=3)N.vo.ff(n,n.T[j.ol[v]],j.ol[v+2]);if(j.Ij){var Z=j.Ij[1];if(Z==null)delete n.K;else n.K=Z}if(j.a9x){var q=n.T[j.ol[0]],J=q.buffer;
for(var v=0;v<J.length;v+=4)J[v+3]=255}}if(Q==f.MB){a.vG(n).N=j.N;a.s0=0;a.ge();n.ge()}if(Q==f.ou){a.vG(n).N=null;
a.s0=0;a.ge();n.ge()}if(Q==f.Nm){N.vo.a0F(n,j.I4,1)}if(Q==f.nF){N.vo.Ex(n,a,j)}if(Q==f.a9){N.vo.Fx(n,n.T[j.src],j.N.isEnabled);
N.vo.Ex(n,n.T[j.iB],j)}if(Q==f.s6){N.vo.Fx(n,a,j.N.isEnabled);if(j.Bc)N.vo.ff(n,a,j.Bc)}if(Q==f.WS){n.bc=JSON.parse(j.ul)}if(Q==f.BG){n.name=j.tw}if(Q==f.jN){for(var v=0;
v<j._X.length;v++){var s=j._X[v],q=n.T[s[0]];q.kw(s[2]);if(s[4])q.add.lnsr=s[4];else delete q.add.lnsr}}if(Q==f.dc){for(var v=0;
v<j.T.length;v++)n.T[j.T[v]].add.lclr=j.RP[v]}if(Q==f.te){var E=j.Qx;for(var v=0;v<j.ia.length;v++){var q=n.T[j.ia[v]],z=E[v];
if(!j.xl)q.add.vstk=K.u(z);else g8.zc(q.add,K.u(z));q.Df(n)}n.ge()}if(Q==f.wd){for(var v=0;v<j.dO.length;
v++){var h=j.dO[v];n.T[h[0]].add.vstl=JSON.parse(h[2])}n.ge()}if(Q==f.E5){a.a7y(j.L3);a.tI(n);n.ge()}n.Xx=!0};
N.vo.mh=function(j,n){var Q=0;for(var v=0;v<j.T.length;v++){var a=j.T[v].getName();if(a.startsWith(n)){var B=a.slice(n.length).trim(),m=parseInt(B);
if(!isNaN(m)&&m+""==B&&m>Q)Q=m}}return Q};N.vo.a0F=function(j,n,Q){for(var v=0;v<n.length;v++){var a=n[v],B=j.T[a.d0];
if(a.dN){B.add.SoLd=JSON.parse(a.dN[Q])}if(a.jb){if(a.jb[1-Q]!=null)j.Ye(a.jb[1-Q]);if(a.jb[Q]!=null)j.Qp(a.jb[Q]);
else B.s0=0}B.pS(j)}};N.vo.akL=function(j,n){var Q=j._h,a=j.s.O();if(Q!=null&&(Q.x!=n.q||Q.y!=n._)){a.x=Math.floor((n.q-a.q)/2);
a.y=Math.floor((n._-a._)/2)}else if(Q==null){var B=new b4(0,0,n.q,n._),m=n.M5();if(m!=-1)B=n.T[m].v_();
a.x+=B.x;a.y+=B.y}return a};N.vo.asO=function(j,n){if(n.Bc)n.Bc=null;else n.N=null;n.tI(j);j.ge();n.s0=0};
N.vo.ff=function(j,n,Q){var a=n.sJ();if(a==null&&Q==null)return;if(a)N.vo.asO(j,n);if(Q==null)return;
if(n.N)n.Bc=Q;else n.N=Q;n.tI(j);j.ge()};N.vo.Fx=function(j,n,Q){if(n.Bc&&Q){n.N=n.Bc;n.Bc=null}else if(n.N&&Q){n.N=null}delete n.add.vogk;
delete n.add.vstk;delete n.add.vmsk;n.tI(j);n.Ok=!1;j.fO=[];j.ge()};N.vo.Ex=function(j,n,Q){n.add.vogk=JSON.parse(Q._y);
if(Q.o0)n.add.vstk=JSON.parse(Q.o0);else delete n.add.vstk;n.add.vmsk=Q.N.O();if(n.N&&n.add.vmsk.isEnabled)n.Bc=n.N;
n.tI(j);n.Ok=Q.Y8;j.fO=[j.T.indexOf(n)];j.VF=[];j.ge()};N.cO=function(){N.wU.call(this,"Layer Styles",N.uX);
this.kt=null;this.S$=null;this.b8=null;this.sp=[];this.eU=null};N.cO.prototype=new N.wU;N.cO.prototype.JQ=function(j,n,Q,a,B){var m=j.W;
if(m==null)m=Q.X[0];var R=Q.T[m],q=j.cb;if(this.kt==null){this.b8=N.cO.dP(Q,R);this.kt=JSON.stringify(this.b8);
if(R.add.lmfx)this.S$=JSON.stringify(R.add.lmfx)}if(R.add.lmfx==null){R.add.lmfx=JSON.parse(g8.default);
for(var v=0;v<g8.order.length;v++)R.add.lmfx[g8.Ub[v]]={t:"VlLs",v:[]}}if(j.Q=="scaleeffects"){if(j.J=="confirm"||j.J=="cancel"){this.JQ({Q:j.J},n,Q,a,B);
return}R.add.lmfx=JSON.parse(this.S$);gq.HG(R.add.lmfx,j.J/100)}else if(j.Q=="changeprop"){var U=null;
if(q!=0){var l=this.sp[q[0]];if(l==null)l=g8.sp[q[0]];l=JSON.parse(l);var b=R.add.lmfx[g8.Ub[q[0]]].v;
if(b[q[1]]==null)b[q[1]]={t:"Objc",v:l};U=b[q[1]].v;for(var D in l)if(U[D]==null)U[D]=l[D]}if(j.Q=="changeprop"){if(q==0){this.b8[j._q].v=j.J;
N.cO.Ew(Q,R,this.b8)}else if(j._q=="lagl"){if(U.uglg&&U.uglg.v){Q.yG(j.J.val);this.b8.gagl.v.val=Q._Q()}else U[j._q].v=j.J}else if(j._q=="Lald"){if(U.uglg.v){Q.VM(j.J.val);
this.b8.a0L=Q.ZL()}else U[j._q].v=j.J}else if((q[0]==3||q[0]==8)&&(j._q=="Clr"||j._q=="Grad")){if(j._q=="Clr"){U.Clr={t:"Objc",v:j.J};
delete U.Grad}if(j._q=="Grad"){U.Grad={t:"Objc",v:j.J};delete U.Clr}}else{U[j._q].v=j.J}if(q!=0)this.sp[q[0]]=JSON.stringify(U)}if(q!=0)if(U.Ptrn)Q.sS(gq.Te(U.Ptrn.v,B._f))}else if(j.Q=="setstl"){var c=j.J.Lefx;
if(c)gq.aGI(c,Q,B._f);gq.aFs(j.J,R,null,Q);this.b8=N.cO.dP(Q,R)}else if(j.Q=="st_dupsingle"){var _=R.add.lmfx[g8.Ub[j.dL[0]]].v;
if(_[j.dL[1]]==null)return;var p=K.u(_[j.dL[1]]);_.splice(j.dL[1],0,p)}else if(j.Q=="st_movsingle"){var X=j.dL[1],_=R.add.lmfx[g8.Ub[j.dL[0]]].v;
if(_[j.dL[1]]==null)return;var g=Math.max(0,Math.min(_.length-1,X+j.aEM)),F=_[g];_[g]=_[X];_[X]=F}else if(j.Q=="cancel"){if(this.S$==null)delete R.add.lmfx;
else R.add.lmfx=JSON.parse(this.S$);N.cO.Ew(Q,R,JSON.parse(this.kt));this.kt=null;this.S$=null}else if(j.Q=="confirm"){var k=JSON.stringify(R.add.lmfx),I=new ae([11,6],this);
I.data={T:[m],Ki:[this.S$],IU:[k],PY:[this.kt],FP:[JSON.stringify(this.b8)]};Q.xr(I);this.kt=null;this.S$=null;
if(k!=null){var e=JSON.parse(k);cO.EY(e);e.classID="Lefx";delete e.masterFXSwitch;var H=new ar(x.E.X2);
H.in=!0;H.data={ep:"set",Q5:!0};var A=f2.oA("Lyr",!0);A.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
H.data.Tu={__name:"Set",classID:"setd",null:A,T:{t:"Objc",v:e}};n.a(H)}}else if(j.Q=="st_copy"){this.eU=[this.kt,this.S$];
this.kt=null;this.S$=null}else if(j.Q=="st_paste"||j.Q=="st_clear"){if(j.Q=="st_paste"&&this.eU==null)return;
var Z=j.W!=null?[j.W]:Q.X.slice(0),J=[],s=[],E=[],z=[];for(var v=0;v<Z.length;v++){var R=Q.T[Z[v]],h=N.cO.dP(Q,R);
J.push(R.add.lmfx?JSON.stringify(R.add.lmfx):null);E.push(JSON.stringify(h));if(j.Q=="st_paste"){s.push(this.eU[1]);
z.push(this.eU[0])}else{s.push(null);h.lrMd.v=0;h.Opct.v.val=100;h.iOpa.v.val=100;h.blIf={v:[]};for(var d=0;
d<10;d++)h.blIf.v.push(0,0,255,255);z.push(JSON.stringify(h))}}var I=new ae([11,6],this);I.data={T:Z,Ki:J,IU:s,PY:E,FP:z};
this.pk(I.data,Q);Q.xr(I);this.kt=null;this.S$=null}else{var Y=this.b8,e=null;if(j.Q=="st_delsingle"){e=JSON.parse(this.S$);
e[g8.Ub[j.dL[0]]].v.splice(j.dL[1],1);e=JSON.stringify(e)}if(e==null)delete R.add.lmfx;else R.add.lmfx=JSON.parse(e);
if(Y!=null)N.cO.Ew(Q,R,Y);var I=new ae([11,6],this);I.data={T:[j.W],Ki:[this.S$],IU:[e],PY:[this.kt],FP:[JSON.stringify(Y)]};
Q.xr(I);this.kt=null;this.S$=null}R.xw.G4=!0;Q.LD=!0;Q.ge()};N.cO.dP=function(j,n){if(n.add.iOpa==null)n.add.iOpa=255;
if(n.add.brst==null)n.add.brst=[1,1,1];var Q=n.bx()?["pass"].concat(af.Yh):af.Yh;return{lrMd:{v:Q.indexOf(n.TM)},Opct:{v:{type:"#Prc",val:Math.round(n.wT*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(n.add.iOpa*100/255)},t:"UntF"},blIf:{v:n.rH.slice(0)},brst:{v:n.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:j._Q()}},a0L:j.ZL(),bx:n.bx()}};
N.cO.Ew=function(j,n,Q){var a=n.bx()?["pass"].concat(af.Yh):af.Yh;n.TM=a[Q.lrMd.v];n.wT=Math.round(Q.Opct.v.val*255/100);
n.add.iOpa=Math.round(Q.iOpa.v.val*255/100);n.rH=Q.blIf.v.slice(0);n.add.brst=Q.brst.v.slice(0);j.yG(Q.gagl.v.val);
j.VM(Q.a0L)};N.cO.prototype.X7=function(j,n){for(var v=0;v<j.T.length;v++){var Q=n.T[j.T[v]],a=j.Ki[v];
if(a==null)delete Q.add.lmfx;else Q.add.lmfx=JSON.parse(a);N.cO.Ew(n,Q,JSON.parse(j.PY[v]));Q.xw.G4=!0}n.LD=!0;
n.ge()};N.cO.prototype.pk=function(j,n){for(var v=0;v<j.T.length;v++){var Q=n.T[j.T[v]],a=j.IU[v];if(a==null)delete Q.add.lmfx;
else Q.add.lmfx=JSON.parse(a);N.cO.Ew(n,Q,JSON.parse(j.FP[v]));Q.xw.G4=!0}n.LD=!0;n.ge()};N.pw=function(){N.wU.call(this,"Layer Comps",N.NC)};
N.pw.prototype=new N.wU;N.pw.prototype.JQ=function(j,n,Q,a){var B=K.u(Q.gh),m=K.u(Q.gh),R=null,q=null,U=null,l=-1,b=!1;
if(j.Q=="delLC"){var D=N.pw.Or(Q.gh,j.cb),c=Q.gh.lastAppliedComp?Q.gh.lastAppliedComp.v:0;m.list.v.splice(D,1);
if(c==j.cb)delete m.lastAppliedComp;R="Delete Layer Comp"}if(j.Q=="editLC"){var D=N.pw.Or(Q.gh,j.cb),_=m.list.v[D].v;
if(j.tw!=null)_.Nm.v=j.tw;if(j.aj_!=null){var p=j.aj_,X=_.capturedInfo.v,g=X&(1<<p)-1;X=X>>p;if((X&1)==1)X--;
else X++;_.capturedInfo.v=(X<<p)+g}R="Layer Comp properties"}if(j.Q=="setLC"){N.pw.he(Q);if(j.cb==0)delete m.lastAppliedComp;
else m.lastAppliedComp={t:"long",v:j.cb};R="Switch Layer Comp";b=!0}if(j.Q=="updLC"){N.pw.he(Q);q=N.pw.ajW(Q,j.cb);
U=N.pw.Iv(Q,j.cb);m.lastAppliedComp={t:"long",v:j.cb};R="Update Layer Comp";l=j.cb;b=!0}if(j.Q=="addLC"){N.pw.he(Q);
var F=1;for(var v=0;v<m.list.v.length;v++)F=Math.max(F,m.list.v[v].v.compID.v)+1;F+=Math.floor(Math.random()*1e4);
var k={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(m.list.v.length+1)},compID:{t:"long",v:F},capturedInfo:{t:"long",v:7}}};
m.list.v.push(k);m.lastAppliedComp={t:"long",v:F};R="New Layer Comp";var I=N.pw.Iv(Q,F);N.pw.OJ(Q,I,F)}var e=new ae(R,this);
e.data={a0l:B,azn:m,an6:q,aI6:U,cb:l,_J:b};this.pk(e.data,Q);Q.xr(e)};N.pw.prototype.pk=function(j,n){n.gh=j.azn;
n.LD=!0;if(j.aI6)N.pw.OJ(n,j.aI6,j.cb);if(j._J){var Q=n.gh.lastAppliedComp?n.gh.lastAppliedComp.v:0,a=N.pw.Or(n.gh,Q),B=a==-1?null:n.gh.list.v[a].v,m=B?B.capturedInfo.v:7;
N.pw.bf(n,Q,m);n.ge()}};N.pw.prototype.X7=function(j,n){n.gh=j.a0l;n.LD=!0;if(j.an6)N.pw.OJ(n,j.an6,j.cb);
if(j._J){var Q=n.gh.lastAppliedComp?n.gh.lastAppliedComp.v:0,a=N.pw.Or(n.gh,Q),B=a==-1?null:n.gh.list.v[a].v,m=B?B.capturedInfo.v:7;
N.pw.bf(n,Q,m);n.ge()}};N.pw.he=function(j){if(j.gh.lastAppliedComp!=null||!j.Iq)return;var n=N.pw.Iv(j,0);
N.pw.OJ(j,n,0);j.Iq=!1};N.pw.RT=function(j,n,Q){j.v.Hrzn.v+=n;j.v.Vrtc.v+=Q};N.pw.Or=function(j,n){var Q=j.list.v;
for(var v=0;v<Q.length;v++)if(Q[v].v.compID.v==n)return v;return-1};N.pw.aav=function(j){var n=j.layerSettings.v,B=null;
if(n.length==0)return;var Q="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),a=n[0].v;
if(a.enab==null)a.enab={t:"bool",v:!0};if(a.Ofst==null)a.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var v=0;v<n.length;v++){var m=n[v].v;if(B==null)B=K.u(m);else for(var R=0;R<Q.length;R++){var q=Q[R];
if(m[q])B[q]=K.u(m[q])}n[v].v=K.u(B)}};N.pw.aAP=function(j,n){var Q=j.add.shmd.cmls,a=Q.layerSettings.v;
for(var B=0;B<a.length;B++){var m=a[B].v,R=m.compList.v[0].v;if(R==n)return B}return-1};N.pw.aoY=function(j,n){var Q=N.pw.aAP(j,n);
return Q==-1?null:j.add.shmd.cmls.layerSettings.v[Q].v};N.pw.bf=function(j,n,Q){for(var v=0;v<j.T.length;
v++){var a=j.T[v],B=a.add.shmd.cmls;if(B==null)continue;var m=B.layerSettings.v,R=N.pw.aoY(a,n);if(R==null){a._a(!1);
continue}if((Q&1)!=0){if(R.enab)a._a(R.enab.v);else a._a(!0)}if((Q&2)!=0){if(R.Ofst){var q=R.Ofst.v,U=a.jL(j),l=Math.round(q.Hrzn.v-U.x),b=Math.round(q.Vrtc.v-U.y);
if(l!=0||b!=0)N.mL.$G(j,[v],null,l,b)}}if((Q&4)!=0){if(R.Lefx){var D=K.u(R.Lefx.v);cO.Kg(D);if(JSON.stringify(D)!=JSON.stringify(a.add.lmfx)){a.add.lmfx=D;
a.xw.G4=!0}}else delete a.add.lmfx;if(R.blendOptions){var c=R.blendOptions.v;if(c.Opct)a.wT=Math.round(255*c.Opct.v.val/100);
if(c.fillOpacity)a.add.iOpa=Math.round(255*c.fillOpacity.v.val/100);if(c.Md)a.TM=a.add.lsct==fM.KB?"norm":af.Ci(c.Md.v.BlnM)}else{a.wT=255;
a.TM=a.bx()?"pass":"norm";a.add.iOpa=255}}}};N.pw.ajW=function(j,n){var Q={};for(var v=0;v<j.T.length;
v++){var a=j.T[v];if(a.add.shmd==null||a.add.shmd.cmls==null)continue;Q["l"+a.add.lyid]=K.u(N.pw.aoY(a,n))}return Q};
N.pw.Iv=function(j,n){var Q={};for(var v=0;v<j.T.length;v++){var a=j.T[v],B=a.add.lyid;Q["l"+B]=N.pw.a9w(j,a,n)}return Q};
N.pw.a9w=function(j,n,Q){var a=n.add.shmd?n.add.shmd.cmls:null,B={classID:"null"},m=n.jL(j),R={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:m.x},Vrtc:{t:"long",v:m.y}}};
B.compList={t:"VlLs",v:[{t:"long",v:Q}]};B.enab={t:"bool",v:n.VH()};B.Ofst=K.u(R);B.FXRefPoint=K.u(a&&a.origFXRefPoint?a.origFXRefPoint:R);
B.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:af.sr(n.TM)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*n.wT/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:n.add.iOpa!=null?100*n.add.iOpa/255:100}}}};
if(n.add.vmsk){B.vectorMask={t:"Objc",v:{classID:"null"}};B.vectorMask.v.Ofst=K.u(R)}if(n.add.lmfx){B.Lefx={t:"Objc",v:K.u(n.add.lmfx)};
cO.EY(B.Lefx.v)}return B};N.pw.aoU=function(j,n){var Q=n.add.lyid;if(n.add.shmd==null)n.add.shmd={};
if(n.add.shmd.cmls==null){n.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:Q},layerSettings:{t:"VlLs",v:[{t:"Objc",v:N.pw.a9w(j,n,0)}]}}}};
N.pw.OJ=function(j,n,Q){for(var v=0;v<j.T.length;v++){var a=j.T[v],B=a.add.lyid;N.pw.aoU(j,a);var m=a.add.shmd.cmls,R=m.layerSettings.v,q=n["l"+B];
if(q!=null)q={t:"Objc",v:K.u(q)};var U=N.pw.aAP(a,Q);if(U==-1){if(q==null)continue;else R.push(q)}else{if(q==null)R.splice(U,1);
else R[U]=q}}};N.pw.KQ=function(j,n){for(var v=0;v<j.T.length;v++){var Q=j.T[v],a=Q.add.lyid;if(Q.add.shmd==null||Q.add.shmd.cmls==null)continue;
var B=Q.jL(j),m=Math.round(B.x),R=Math.round(B.y);if(!n){m=-m;R=-R}var q=Q.add.shmd.cmls,U=q.layerSettings.v;
if(q.origFXRefPoint)N.pw.RT(q.origFXRefPoint,-m,-R);for(var l=0;l<U.length;l++){var b=U[l].v;N.pw.RT(b.Ofst,m,R);
var D=b.imageMask,c=b.vectorMask;if(D&&D.v.Ofst)N.pw.RT(D.v.Ofst,m,R);if(c&&c.v.Ofst)N.pw.RT(c.v.Ofst,m,R)}}};
N.mC=function(){N.wU.call(this,"Adjust Edit",N.r_);this.ul=null;this.cl=null};N.mC.prototype=new N.wU;
N.mC.qb=function(j,n,Q,a){if(a)n/=4;var B=0,m=0,R=255,q=0,U=0,l=255;while(m+j[B]<n){m+=j[B];B++}while(q+j[R]<n){q+=j[R];
R--}if(a){B-=Math.round(j[B]/(Q/32));R+=Math.round(j[R]/(Q/32));if(B<0)U=Math.round(-B*255/(R-B));if(R>255)l=255-Math.round((R-255)*255/(R-B))}return[Math.max(B,0),Math.min(R,255),U,l,100]};
N.mC.prototype.JQ=function(j,n,Q,a,B){var m=j.Q;if(m=="auto"){var R=j.xM,q=N.mC.getData(Q);for(var v=0;
v<q.length;v++){var U=q[v],l;if(R<3){}else{var b=fo.cL("hue2");az.RQ(b,0,[0,-100,0]);l=k8.Ya("hue2",b)}k8.cN(l,U.FJ,U.Gu,U.SK)}N.mC.Yt(Q,q);
N.mC.Zn(Q,q,R<3?[4,16,R]:[19,7,0],this);Q.ge()}if(m=="edit_layer")this.ag$(j,n,Q,a);if(m=="edit"||m=="confirm"||m=="cancel")this.Id(j,n,Q,B,!0);
if(m=="start"){if(Q.X.length==0)return;var D=Q.T[Q.X[0]];if(D.add.SoLd&&D.s0<=0&&Q.Yb.length==0){var c=new ar(x.E.A,!0);
c.I=N.KV;c.data={Q:"start",y7:j.R9,n8:j.n8};n.a(c);return}if(!Q.NY(n,null,!0))return;if(i1[j.R9]&&j.n8==null){if(Q.X.length!=1)alert("Will be applied to "+Q.X.length+" layers.");
var c=new ar(x.E.B,!0);c.data={Q:x.l.Vg,Z8:"afw_"+j.R9};n.a(c)}else{this.Id({Q:"edit",n8:j.n8,y7:j.R9},n,Q,B);
this.Id({Q:"confirm",y7:j.R9},n,Q,B)}}};N.mC.prototype.ag$=function(j,n,Q,a){var B=j.Q,m=Q.X[0],R=Q.T[m],q=k8.get(R.add),c;
if(R.add[q]==null)return;var U=K.u(R.add[q]);for(var l in j.J)U[l]=j.J[l];var b=K.u(U);for(var l in k8.Bq)if(k8.Bq[l]==q)b.classID=l;
var D=Q.history[Q.cD];if(D&&D.I==this&&D.data.Xo!=null&&D.data.W==m)c=D;else{var _=new ar(x.E.X2,!0),p={classID:"setd",null:f2.oA("AdjL",!0),T:{t:"Objc",v:b}};
_.data={Q5:!0,ep:"set",Tu:p};n.a(_);var c=new ae([6,39],this);c.data={W:m,Xo:R.add[q],L3:U,Nf:p};Q.xr(c)}c.data.L3=U;
c.data.Nf.T.v=b;this.pk(c.data,Q)};N.mC.getData=function(j,n,Q){var a=[],B=new b4(0,0,j.q,j._),m=j.Yb.length!=0?[-1-j.Yb[0]]:j.X;
for(var v=0;v<m.length;v++){var R=m[v],q=R<0?null:j.T[R],U={W:R,RR:R<0?1:q.s0};a.push(U);var l=j.Kj[-1-R];
if(0<=R)l=q.s0<=0?null:q.s0==1?q.sJ():q.vG(j).N;var b=l?l.s:q.s;if(j.K){U.SK=j.K.s.uf(n||l!=null?B:b)}else U.SK=n||l!=null?b.d_(B):b.O();
if(Q)U.SK=Q[v].SK.O();var D=U.SK.$();U.FJ=K.U(D*4);if(l)N.K6.Ee(l.G,l.s,l.color,U.FJ,U.SK);else K.EC(q.buffer,b,U.FJ,U.SK);
U.Gu=U.FJ.slice(0);if(j.K){U.ol=K.U(D);K.Gc(j.K.G,j.K.s,U.ol,U.SK)}}return a};N.mC.a6p=function(j,n,Q){if(n==null)return n;
var a=k8.aU(j,n),m;if(a==-1)return n;var B=Q.length>>>2,R=K.XG(Q),q=.001*B;if(a==0||a==2)m=[[0,255,0,255,100],N.mC.qb(R[1],q,B,a==2),N.mC.qb(R[2],q,B,a==2),N.mC.qb(R[3],q,B,a==2)];
if(a==1)m=[N.mC.qb(R[0],q*.33,B,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var U=fo.cL("levl");
for(var v=0;v<4;v++)kp.RQ(U,v,m[v]);return U};N.mC.a2e=function(j,n,Q,a){var B,m;if(Q.t=="name"){var R=0;
for(var q=0;q<j.T.length;q++)if(j.T[q].getName()==Q.v.val)R=q;if(j==n&&R==a.W){B=a.FJ;m=a.SK}else{var U=j.T[R];
B=U.buffer;m=U.s}}else{m=new b4(0,0,j.q,j._);B=j==n?a._x:j.rd()}return[B,m]};N.mC.prototype.Id=function(j,n,Q,a){if(this.ul==null){if(j.y7=="aply")Q.T[Q.X[0]].extend(new b4(0,0,Q.q,Q._));
this.ul=N.mC.getData(Q,null,j.y7=="fade"?Q.Pz().data:null);if(j.y7=="aply"||j.y7=="matc")this.ul[0]._x=Q.rd()}if(j.Q=="edit"){this.cl=[j.y7,j.n8];
var B=this.ul[0],m=N.mC.a6p(j.y7,j.n8,B.FJ),R=k8.Ya(j.y7,m);if(j.y7=="fade"||j.y7=="matc"||j.y7=="aply")R=j.n8;
if(R!=null){for(var q=0;q<this.ul.length;q++){var U=this.ul[q];if(j.a6)K.D1(U.FJ,U.Gu);else if(j.y7=="fade"){var l=af.Ci(j.n8.Md.v.BlnM),b=j.n8.Opct.v.val/100,D=Q.Pz().data[q];
K.D1(D.FJ,U.Gu);if(l=="norm")K.L.uZ(U.FJ,U.SK,U.Gu,U.SK,null,null,null,U.SK,b);else{var c=gq.EK();c.Xu=!0;
for(var v=0;v<D.FJ.length;v+=4)if(D.FJ[v+3]!=U.FJ[v+3]){c=null;break}K.L.sg(l,U.FJ,U.SK,U.Gu,U.SK,U.SK,b,c)}}else if(j.y7=="matc"){var _;
if(R.noReference&&R.noReference.v)_=U.FJ;else{var p=R.Srce.v,X=p[1].v.val,g=n.pB,F=Q;for(var v=0;v<g.length;
v++)if(g[v].name==X)F=g[v];var k=N.mC.a2e(F,Q,p[0],U);_=k[0]}ep(U.FJ,U.SK.q,U.SK._,_,U.Gu,[R.Lght.v,R.ClrR.v,R.Fade.v,R.neutralizeColor?R.neutralizeColor.v:!1])}else if(j.y7=="aply"){R=R.With.v;
var I=R.T.v,k=N.mC.a2e(Q,Q,I[1],U),_=k[0],e=k[1],H=R.Clcl?R.Clcl.v.Clcn:null,l=H?af.Ci(H):"norm",b=R.Opct?R.Opct.v.val/100:1,A=["RGB","Rd","Grn","Bl","Trsp"].indexOf(I[0].v.enum),m=R.Invr&&R.Invr.v;
if(m||A!=0){_=_.slice(0);if(m)K.a1u(_);if(A!=0){var Z=K.U(e.$());K._W(_,Z,A-1);if(A==4)K.m2(Z);for(var J=0;
J<3;J++)K.wj(Z,_,J)}}if(H=="Add"||H=="Sbtr"){var s=1/R.Scl.v,E=R.Ofst.v,z=H=="Add"?1:-1,h=new Uint8ClampedArray(U.Gu.buffer);
for(var v=0;v<_.length;v+=4){h[v]=(U.FJ[v]+z*_[v])*s+E;h[v+1]=(U.FJ[v+1]+z*_[v+1])*s+E;h[v+2]=(U.FJ[v+2]+z*_[v+2])*s+E}}else{var c=gq.EK();
c.Xu=R.PrsT&&R.PrsT.v;U.Gu.fill(0);U.Gu.set(U.FJ);K.L.sg(l,_,e,U.Gu,U.SK,U.SK,b,c)}}else k8.cN(R,U.FJ,U.Gu,U.SK)}N.mC.Yt(Q,this.ul)}}if(j.Q=="cancel"){N.mC.agK(Q,this.ul);
this.ul=null}if(j.Q=="confirm"){var d={fade:[2,11],aply:[2,12],matc:[4,18]},Y=d[j.y7];if(Y==null)Y=k8.names[j.y7];
var C=k8.aU(j.y7,this.cl[1]);if(C!=-1)Y=[4,16,C];N.mC.Zn(Q,this.ul,Y,this);this.ul=null;if(C==-1)N.mC.uT(n,this.cl)}Q.ge()};
N.mC.uT=function(j,n){var Q=n[0],a=n[1],B,m;if(k8.JJ[Q]){B=k8.JJ[Q];if(i1[Q])m=a}if(fo.JJ[Q]){B=fo.JJ[Q];
if(i1[Q])m=a}if(Q=="fade"){B="fade";m=a}if(Q=="matc"){B="matchColor";m=a}if(Q=="aply"){B="applyImageEvent";
m=a}if(Q=="GEfc"){if(m.GEfs)m=m.GEfs.v[0].v}if(B==null)return;var R=new ar(x.E.X2,!0);R.data={Q5:!0,ep:B};
if(m){m=K.u(m);R.data.Tu=m}j.a(R)};N.mC.agK=function(j,n){N.mC.fc(j,n)};N.mC.Zn=function(j,n,Q,a){for(var v=0;
v<n.length;v++){var B=n[v],m=j.T[B.W],R=B.W<0?j.Kj[-1-B.W]:B.RR<=0?null:B.RR==1?m.sJ():m.vG(j).N;if(R){R.Dy();
R._r=!0;if(m)m.tI(j)}else{m.Dy();m.ge()}delete B.Gu;delete B.ol}var q=new ae(Q,a);q.data=n;j.xr(q);j.LD=!0};
N.mC.Yt=function(j,n,Q){for(var v=0;v<n.length;v++){var a=n[v],B=j.T[a.W],m=Q?a.FJ:a.Gu,R=a.SK;if(a.RR==0){B.extend(R);
if(a.ol){K.EC(a.FJ,R,B.buffer,B.s);K.L.uZ(m,R,B.buffer,B.s,a.ol,R,0,R,1)}else K.EC(m,R,B.buffer,B.s)}else{var q=a.W<0?j.Kj[-1-a.W]:a.RR==1?B.sJ():B.vG(j).N;
q.extend(R);if(a.ol){var U=K.U(R.$()*4);K.D1(a.FJ,U);K.L.uZ(m,R,U,R,a.ol,R,0,R,1);N.K6.aj(U,R,q)}else N.K6.aj(m,R,q);
q._r=!0;if(B)B.tI(j)}if(B)B.ge()}if(!Q)N.mC.akV(j,n)};N.mC.fc=function(j,n){for(var v=0;v<n.length;v++){var Q=n[v],a=j.T[Q.W],B=Q.SK,m=K.U(B.$()*4);
if(Q.RR==0){K.EC(a.buffer,a.s,m,B);a.extend(B);K.EC(Q.FJ,B,a.buffer,a.s);a.Dy()}else{var R=Q.W<0?j.Kj[-1-Q.W]:Q.RR==1?a.sJ():a.vG(j).N;
N.K6.Ee(R.G,R.s,R.color,m,B);R.extend(B);N.K6.aj(Q.FJ,B,R);R.Dy();R._r=!0;if(a)a.tI(j)}Q.FJ=m;if(a)a.ge()}j.LD=!0};
N.mC.S1=function(j){var n=0;for(var v=0;v<j.length;v++)n+=j[v].FJ.length;return n};N.mC.akV=function(j,n){var Q=N.mC.aHv(j),a=~Q;
if(Q==16777215)return;for(var v=0;v<n.length;v++){var B=n[v],m=j.T[B.W],R=B.SK;if(B.RR!=0)continue;m.extend(R);
var q=R.x-m.s.x,U=R.y-m.s.y,l=m.s.q,b=new Uint32Array(B.FJ.buffer),D=new Uint32Array(m.buffer.buffer);
for(var c=0;c<R._;c++)for(var _=0;_<R.q;_++){var p=c*R.q+_,X=(c+U)*l+(_+q);D[X]=D[X]&Q|b[p]&a}m.Dy();
m.ge()}j.ge()};N.mC.aHv=function(j){var n=j.e.Y;return n[2]*16711680|n[1]*65280|n[0]*255};N.mC.prototype.X7=function(j,n){var Q=n.T[j.W];
if(j.Xo!=null)Q.add[k8.get(Q.add)]=j.Xo;else N.mC.fc(n,j);n.ge()};N.mC.prototype.pk=function(j,n){var Q=n.T[j.W];
if(j.Xo!=null)Q.add[k8.get(Q.add)]=j.L3;else N.mC.fc(n,j);n.ge()};N.mC.prototype.S1=function(j){return j.Xo==null?N.mC.S1(j):0};
N.TO=function(){N.wU.call(this,"Filter Edit",N.KV);this.ul=null;this._P=null;this.Q=null;this.cl=null};
N.TO.prototype=new N.wU;N.TO.prototype.JQ=function(j,n,Q,a,B){if(j.Q=="start"){if(Q.X.length==0)return;
var m=Q.T[Q.X[0]];if(m.add.SoLd&&m.s0<=0&&Q.Yb.length==0){}else if(!Q.NY(n,null,!0))return;var R=j.y7;
if((i1[R]||fo.F[R])&&j.n8==null){if(Q.X.length!=1)alert("Will be applied to "+Q.X.length+" layers.");
var q=new ar(x.E.B,!0);q.data=N.TO.aoS(R,this.tn(Q,R),j.Aj);n.a(q)}else{var U={Q:"edit",y7:R,n8:j.n8,pa:this.tn(Q)};
this.JQ(U,n,Q,a,B);U.Q="confirm";delete U.n8;this.JQ(U,n,Q,a,B)}}if(j.Q=="edit"||j.Q=="cancel"||j.Q=="confirm"){if(j.Q=="edit")this.cl=[j.y7,j.n8];
if(j.pa)this.aw_(j,n,Q,B);else this.aaE(j,n,Q,B)}if(j.Q=="applylast"&&this.cl!=null){var U={Q:"edit",y7:this.cl[0],n8:this.cl[1],pa:this.tn(Q)};
this.JQ(U,n,Q,a,B);U.Q="confirm";delete U.n8;this.JQ(U,n,Q,a,B)}};N.TO.aoS=function(j,n,Q){var a=fo.F[j];
if(a)return{Q:x.l.pY,I:a,Ls:{pa:n,Aj:Q}};else return{Q:x.l.Vg,Z8:"afw_"+j,pa:n}};N.TO.prototype.tn=function(j,n){var Q=j.T[j.X[0]],a;
if(Q.add.SoLd&&Q.s0<=0&&j.Yb.length==0){a={W:j.X[0],index:0};if(Q.add.SoLd.filterFX!=null){var B=Q.add.SoLd.filterFX.v.filterFXList.v;
a.index=B.length;for(var v=0;v<B.length;v++)if(fo.$d(B[v].v)=="rigidTransform")a.index=v}}return a};
N.TO.prototype.aw_=function(j,n,Q,a){var B=Q.T[j.pa.W],m=j.y7;if(j.Q=="edit"){if(this.Q==null){var R=fo.names[m];
if(R==null)R=k8.names[m];if(m=="blendOptions")R=[14,10];this.Q=new ae(R,this);this.Q.data={pa:j.pa,aul:K.u(B.add.SoLd)}}if(!B.FI()){B.add.SoLd.filterFX=fo.Wu();
var q=this.Q.data.jb=hs.aDN(B.add.SoLd.placed.v);Q.Qp(q);if(Q.K){q.N.G=Q.K.G.slice(0);q.N.s=Q.K.s.O();
q.N.color=0;this.Q.data.bX=Q.K;Q.K=null}B.pS(Q)}var U=B.add.SoLd.filterFX.v.filterFXList.v;if(U[j.pa.index]==null){U.push(fo.m4(m,a))}if(j.n8){U[j.pa.index].v.enab.v=j.a6!=!0;
if(m=="blendOptions")U[j.pa.index].v.blendOptions.v=j.n8;else U[j.pa.index].v.Fltr.v=j.n8}this.Q.data.alT=K.u(B.add.SoLd);
this.pk(this.Q.data,Q)}if(j.Q=="cancel"){if(this.Q)this.X7(this.Q.data,Q);this.Q=null}if(j.Q=="confirm"){if(this.Q)Q.xr(this.Q);
N.mC.uT(n,this.cl);this.Q=null}};N.TO.prototype.vj=function(j){return{n:j>>>16,i:j>>>8&255,b:j&255}};
N.TO.prototype.aaE=function(j,n,Q,a){if(this.ul==null){var B=fo.Af(j.y7,j.n8);this.ul=N.mC.getData(Q,B.x!=0||B.y!=0,j.y7=="VaPo"?[{SK:j._x[1]}]:null)}if(j.Q=="edit"){var m=JSON.stringify(j.n8);
if((j.n8==null||m!=this._P)&&j.a6!=!0)for(var v=0;v<this.ul.length;v++){var R=this.ul[v],q={s:R.SK,buffer:R.FJ},U={s:R.SK,buffer:R.Gu};
if(j.y7=="Avrg"&&R.ol){q.buffer=R.FJ.slice(0);K.A2(R.ol,q.buffer)}fo.cN(j.y7,q,j.n8,this.vj(a.Z4),this.vj(a.g7),U,[Q.add.lnk2?Q.add.lnk2:[],Q.T[Q.X[0]].sJ(),Q.Kj,Q.H9()]);
if(j.y7=="VaPo"){K.EC(j._x[0],j._x[1],U.buffer,U.s)}if(j.y7=="Avrg"&&R.ol){var l=R.FJ.length;for(var v=0;
v<l;v+=4)R.Gu[v+3]=R.FJ[v+3]}this._P=m}N.mC.Yt(Q,this.ul,j.a6)}if(j.Q=="cancel"){N.mC.agK(Q,this.ul);
this.ul=null;this._P=null}if(j.Q=="confirm"){if(j.y7=="VaPo"){this.ul.amm=JSON.stringify(Q.Gj);this.ul.uw=JSON.stringify(j.J);
Q.Gj=j.J}N.mC.Zn(Q,this.ul,fo.names[j.y7],this);this.ul=null;this._P=null;N.mC.uT(n,this.cl)}Q.ge();
Q.LD=!0};N.TO.prototype.X7=function(j,n){if(j.uw)n.Gj=JSON.parse(j.amm);if(j.pa){var Q=n.T[j.pa.W];if(j.jb)n.Ye(j.jb);
if(j.bX)n.K=j.bX;Q.add.SoLd=K.u(j.aul);if(Q.FI())Q.vA(n);else{Q.pS(n);Q.s0=0}}else N.mC.fc(n,j);n.ge();
n.LD=!0};N.TO.prototype.pk=function(j,n){if(j.uw)n.Gj=JSON.parse(j.uw);if(j.pa){var Q=n.T[j.pa.W];if(j.jb)n.Qp(j.jb);
if(j.bX)n.K=null;Q.add.SoLd=K.u(j.alT);if(Q.FI())Q.vA(n);else Q.pS(n);if(!Q.vf())Q.G$+=32}else N.mC.fc(n,j);
n.ge();n.LD=!0};N.TO.prototype.S1=function(j){return j.pa==null?N.mC.S1(j):0};var b3={Od:"0",o9:"1",oy:"2",mM:"3",XA:"3.5",mt:"4",PT:"5",RX:"6",qX:"7",A:"8",jq:"8.5",Xm:"8.8",Ym:"9",GM:"10",U2:"11",Cj:"12",YB:"13",Zi:"14",bo:"15",IL:"16",VC:"17",xp:"18",gl:"19",Wz:"21",Lu:"22",fM:"23",hl:"23.0",Lj:"23.1",Mx:"23.2",GW:"23.3",im:"23.4",WK:"23.5",eh:"23.6",a7S:"30",Nl:"31",kB:"40",nu:"41",YC:"42"};
b3.XN={};b3.XN[b3.o9]=["abr","brushes",a5,[9,3],3];b3.XN[b3.oy]=["grd","gradients",at,[12,37],4,36,36];
b3.XN[b3.mM]=["shc","contours",kU,[12,21],0];b3.XN[b3.XA]=["acv","curves",dr,[4,2],0];b3.XN[b3.mt]=["asl","styles",ek,[12,22],5];
b3.XN[b3.PT]=["pat","patterns",g9,[12,62],6];b3.XN[b3.RX]=["csh","shapes",bJ,[12,77],7];b3.XN[b3.qX]=["aco","swatches",hq,[9,8],0,22,22];
b3.XN[b3.A]=["atn","actions",cr,[9,9],2];b3.XN[b3.jq]=["tpl","tpresets",hZ,[9,12],0];b3.XN[b3.Xm]=["icc","profiles",hy,"LUTs",8];
function ae(j,n,Q){if(Q==null)Q=!1;this.name=j;this.I=n;this.WQ=Q;this.data=null;this.aFg=Date.now()}ae.prototype.S1=function(){return this.I?this.I.S1(this.data):0};
var f2={};f2.oA=function(j,n){var Q={t:"Clss",v:{classID:j}};if(n)Q={t:"Enmr",v:{classID:j,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[Q]}};f2.OQ=function(j,n){var Q={classID:"Lyr"};Q[j]=n;return{ep:"set",Tu:{classID:"null",null:f2.oA("Lyr",!0),T:{t:"Objc",v:Q}}}};
f2.aiF=function(j,n,Q,a,B){var m=new ar(x.E.X2,!0),R=[],v=0,q=f2.rC(n,Q,a,R);while(R.length!=0){var U=R.pop();
v++;if(!U.m)continue;console.log(v-1);if(U.ep=="conditional"){var l=j.T[j.X[0]],b=U.Tu.null.v.Cndt,D=!1;
if(b=="Bckg")D=!1;else if(b=="Pxel"&&j.rV(!1))D=!0;else if(b=="Adjs"&&k8.get(l.add))D=!0;else if(b=="Shp"&&l.add.vogk)D=!0;
else if(b=="Grup"&&l.bx())D=!0;else if(b=="Opn"&&j!=null)D=!0;else if(b=="32Bt")D=!1;else if(b=="RGB")D=!0;
var c=U.Tu.then,_=U.Tu.else;if(D&&c)f2.rC(n,c.v[0].v.val,c.v[1].v.val,R);if(!D&&_)f2.rC(n,_.v[0].v.val,_.v[1].v.val,R)}else if(U.ep=="stop"){if(U.Tu.Cntn&&U.Tu.Cntn.v==!0)window.confirm(U.Tu.Msge.v);
else{alert(U.Tu.Msge.v);break}}else if(U.ep=="play"){var p=U.Tu.null.v,X=new ar(x.E.B,!0);X.data={Q:x.l.g2,eT:[p[0].v.val,p[1].v.val]};
B.a(X)}else{m.data={ep:U.ep,Tu:U.Tu};B.a(m)}}};f2.tl=function(j,n,Q){var a;for(var v=0;v<j.length;v++){if(j[v].ID!=Q)continue;
var B=j[v].C5;for(var m=0;m<B.length;m++){if(B[m].ID!=n)continue;a=B[m]}}return a};f2.rC=function(j,n,Q,a){var B=f2.tl(j,n,Q).C5,m=B.length;
for(var v=0;v<m;v++)a.push(B[m-1-v])};f2.aGK=function(j){var n=j.ep,Q=j.Tu,a,R,q,U,l;if(Q&&Q.null)a=Q.null.v[0];
if(Q&&a==null&&Q.At)a=Q.At.v[0];if(a&&a.t=="obj ")a=a.v[0];var B=a&&a.v?a.v.classID:null,m=["purge"];
if(m.indexOf(n)!=-1)return n[0].toUpperCase()+n.slice(1);if(n=="GEfc"||n=="paintDaubs")return c3.names[Q.GEfk.v.GEft][1];
l=k8.JJ;for(R in l)if(l[R]==n)q=R;l=fo.JJ;for(R in l)if(l[R]==n)U=R;l=fo.JJ;for(R in l)if(R==n)U=R;if(q){var b=k8.aU(q,Q);
if(b!=-1)return[4,16,b];return k8.names[q]}if(U)return fo.names[U];var D=f2.azb;if(n=="make"){if(a){if(B=="AdjL")return[6,1];
else if(B=="layerSection")return Q.From?[6,9]:[6,20];else if(B=="Lyr")return[6,13];else if(B=="Chnl"&&a.v.enum=="Msk")return[6,2];
else if(B=="contentLayer")return[6,48,1];else if(B=="BckL")return"Make Background Layer";else if(B=="Path")return"Make Path";
else if(B=="TxLr")return"Make Text Layer";else if(B=="slice")return"Make Slices";else if(B=="Dcmn")return[11,7];
else if(B=="Gd")return[23,4];else if(B=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(Q.Nw){B=Q.Nw.v.classID;
if(B=="Dcmn")return[11,7];else if(B=="Chnl"||B=="SCch")return"New Channel"}}else if(n=="deselect"){if(B=="Path")return"Deselect current path";
else throw B}else if(n=="draw"){return"Draw"}else if(n=="select"){if(B=="Chnl"){var c={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[a.v.enum];
if(c==null)c="";return"Select "+c+" Channel"}else if(B=="Mn")return"Select Panel \""+a.v.enum+"\"";else if(B=="Lyr"){if(a.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[a.v.enum]+" Layer";
return"Select Layer \""+a.v.val+"\""}else if(B=="Path")return"Select Path";else if(B=="Brsh")return"Select Brush";
else if(B=="Dcmn")return"Select Document"}else if(D[n]&&B=="Chnl"){var _=a.v.keyID=="fsel";return D[n]+" "+(_?"Selection":"Channel")}else if(n=="set"){if(B=="Lyr")return"Set Current Layer";
else if(B=="AdjL")return[6,39];else if(B=="contentLayer")return[6,48,2];else if(B=="Prpr"){var p=a.v.keyID;
if(p=="TxtS")return"Set Text Style";else if(p=="paragraphStyle")return"Set Paragraph Style";else if(p=="Lefx")return[11,6];
else console.log(p)}else if(B=="Clr")return"Set "+(a.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(B=="Brsh")return"Set Brush";else if(B=="Path")return"Set Work Path";else console.log(B)}else if(n=="move"){if(B=="Lyr")return"Move Layer";
else if(B=="Chnl"&&a.v.keyID=="fsel")return[7,7];else console.log(B)}else if(n=="show"||n=="hide"){var X="";
if(B=="Lyr")X="Layer";if(B=="Chnl")X="Channel";if(B=="filterFX")X="Filter Effect";return(n=="show"?"Show":"Hide")+" "+X}else if(n=="reset"){if(B=="Clr")return"Reset Colors"}else if(n=="exchange"){if(B=="Clr")return[22,7,0]}else if(n=="rotateEventEnum")return[2,5];
else if(n=="flip"){var g=Q.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,g?2:3]]}if(n=="duplicate"&&B=="Dcmn")return"Duplicate first document";
if(B=="Chnl"){if(n=="duplicate"){if(a.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(n=="delete")return"Delete Channel"}if(n=="transform")return a&&a.v.keyID=="fsel"?[7,10]:[10,16];
if(n=="convertMode"){var F="Convert Mode",k=Q.Dpth;if(k)F+=" To "+k.v+"-Bit";return F}var I={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:Q?B=="Lyr"?[6,31]:B=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},e=I[n];
if(e==null)e=f2.acK[n];if(e)return e;return n};f2.acK={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
f2.azb={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
f2.a4d=function(j,n,Q,a){var B=j.ep,m=j.Tu,R=!1,q=new ar(x.E.A,!0),D,c,_,p;q.I=N.ir;var U=new ar(x.E.B,!0),l=["purge","updatePlacedLayer","convertToProfile"];
if(l.indexOf(B)!=-1)return;var b=B;while(b.length<4)b+=" ";p=k8.JJ;for(D in p)if(p[D]==b)c=D;p=fo.JJ;
for(D in p)if(p[D]==b)_=D;p=fo.JJ;for(D in p)if(D==b)_=D;if(B=="fade")c=B;if(B=="matchColor")c="matc";
if(B=="applyImageEvent")c="aply";if(c){q.I=N.r_;q.data={Q:"start",R9:c,n8:m}}else if(_){q.I=N.KV;q.data={Q:"start",y7:_,n8:m}}else if(B=="GEfc"||B=="paintDaubs"){q.I=N.KV;
q.data={Q:"start",y7:"GEfc",n8:m}}else if(B=="convertMode"){var X=m.Dpth;if(X==null)return;q.I=N.CL;
q.data={Q:"cmode",J:X.v}}else if(B=="imageSize"||B=="canvasSize"||B=="revealAll"||B=="trim"||B=="crop"){q.I=N.MA;
q.data={Q:"fromAction",bm:j}}else if(B=="fill"||B=="stroke"||B=="delete"&&m==null){var g=null;if(a.X.length!=0)g=a.T[a.X[0]];
var F=K.Hy(Q.Z4);if(g!=null&&B=="fill"&&g.add.TySh){var k="var c = new SolidColor();  c.rgb.red="+F.n+";  c.rgb.green="+F.i+";  c.rgb.blue="+F.b+";  app.activeDocument.activeLayer.textItem.color = c;";
U.data={Q:x.l.X4,Lo:k}}else if(g!=null&&B=="delete"&&g.add.TySh){q.I=N.BT;q.data={Q:"insertText",J:""}}else if(g!=null&&B=="fill"&&g.Oi()){var q=new ar(x.E.X2,!0),m={classID:"setd",null:f2.oA("contentLayer",!0),T:{t:"Objc",v:{}}};
N.vo.O6({Clr:{t:"Objc",v:K.Gp.Db(K.Hy(Q.Z4))}},m.T.v,0);q.data={ep:"set",Tu:m};n.a(q);return}else if(B=="stroke"&&m&&m.null==null){q.I=N.pP;
q.data={Q:"stroke",ahD:m}}else{if(B=="stroke"&&m&&m.Usng)q.I=N.JJ[m.Usng.v.classID];else q.I=Q.Ce==N.B2?N.B2:N.o9;
q.data={Q:"fromAction",bm:j}}}else if(B=="colorRange"||B=="grow"||B=="similar"){q.I=N.qC;q.data={Q:"fromAction",bm:j}}else if(B=="set"&&m&&m.T&&m.T.v.Ordn=="Al"&&Q.Ce==N.BT&&n.MP().Ys()){q.I=N.BT;
q.data={Q:"selectAll"}}else if(f2.acK[B]||f2.azb[B]&&(!1||m.With&&m.With.v[0].v.keyID=="fsel"||m.From&&m.From.v[0].v.keyID=="fsel"||m.null&&m.null.v[0].v.keyID=="fsel"||m.T.v[0]&&m.T.v[0].v.keyID=="fsel")){q.I=N.D4;
q.data={Q:"fromAction",bm:j}}else if(B=="rasterizeLayer"){q.data={Q:m.What?m.What.v.rasterizeItem=="vectorMask"?f.Fy:f.asK:f.GA}}var I={copyToLayer:f.RS,cutToLayer:f.a_,mergeLayersNew:f.Oq,mergeVisible:f.VQ,flattenImage:f.adI,newPlacedLayer:f.Fj};
if(I[B])q.data={Q:I[B],Tu:m};if(q.data){n.a(q);return}if(B=="collapseAllGroupsEvent"){for(var v=0;v<a.T.length;
v++){var g=a.T[v];if(g.bx())g.add.lsct=fM.NO}a.Xx=!0;return}if(B=="desaturate"||B=="Dstt"){q.I=N.r_;
q.data={Q:"auto",xM:3};if(a&&a.T[a.X[0]].add.SoLd==null)n.a(q);return}if(B=="close"){if(m&&m.Svng.v.YsN=="Ys"){U.data={Q:x.l.Hq};
n.a(U)}U.data={Q:x.l.gD,Vo:a};n.a(U);return}if(B=="save"){U.data={Q:x.l.Hq};n.a(U);return}if(B=="copyMerged"){U.data={Q:x.l.ug,ts:!0,NQ:!0};
n.a(U);return}if(B=="placedLayerReplaceContents")U.data={Q:x.l.ws,Rk:!0};var I={placedLayerEditContents:x.l.ar8,placedLayerExportContents:x.l.aCC,copyEvent:x.l.ug,paste:x.l.La};
if(I[B])U.data={Q:I[B],NQ:!0};if(U.data){n.a(U);return}var e=m.null?m.null.v:null,H=e?e[0].v.classID:"";
if(B=="make"){if(m.null==null&&m.Nw)H=m.Nw.v.classID;if(H=="AdjL"){q.data={Q:f.c1,Tu:m}}else if(H=="layerSection"){q.data=m.From?{Q:f.Cv}:{Q:f.cj};
if(m.Usng){var A=m.Usng.v;if(A.Nm)q.data.tw=A.Nm.v;if(A.Clr)q.data.RP=f2.Tr(A)}}else if(H=="Lyr"){if(m.Usng&&m.Usng.v.length==2)q.data={Q:f.a4k};
else{q.data={Q:f.X0};if(m.Usng)q.data.tw=m.Usng.v.Nm.v;if(m.below&&m.below.v)q.data.atB=!0}}else if(H=="Chnl"&&m.At&&m.At.v[0].v.enum=="Msk"){q.data={Q:f.Fn,uO:m.Usng.v.UsrM}}else if(H=="Chnl"||H=="SCch"){q.data={Q:f.EH,BO:"fromAction",J:j}}else if(H=="contentLayer"){q.data={Q:f.L6,Tu:m}}else if(H=="BckL"){a.T[a.X[0]].aw6();
return}else if(H=="Dcmn"){if(m.Nw==null)return;var Z=m.Nw.v;U.data={Q:x.l.kI,uM:hs.a0t(Z,Q)}}else if(H=="Ptrn")U.data={Q:x.l.T8,_X:0};
else if(H=="Brsh")U.data={Q:x.l.T8,_X:1};else if(H=="Path"){var J=m.At;if(J&&J.v&&J.v[0]&&J.v[0].v&&J.v[0].v.enum=="vectorMask"){q.I=N.ir;
var s=!1,E=!1;if(m&&m.Usng){var A=m.Usng.v;s=A.vectorMaskEnabled=="RvlA";E=A[0]&&A[0].v.classID=="Path"}q.data={Q:f.nF,aag:!s,a7L:E}}else{q.I=N.rB;
q.data={Q:"pathedit",BO:"fromsel"}}}else if(H=="TxLr"){q.I=N.BT;q.data={Q:"fromAction",bm:j}}else if(H=="slice"){q.I=N.uE;
q.data={Q:"fromAction",bm:j}}else if(H=="Gd"){var z=[[],[]],Z=m.Nw.v;z[Z.Ornt.v.Ornt=="Vrtc"?0:1].push(Z.Pstn.v.val);
var h=hM.E2(z);N.mL.jp(h,a.qE());q.I=N.nQ;q.data={Q:"gids",gR:h}}else{console.log(B,H,m);throw"e"}}else if(B=="divide"){q.I=N.uE;
q.data={Q:"fromAction",bm:j}}else if(B=="deselect"){if(H=="Path"){a.VF=[];a.fO=[];a.Xx=a.UF=!0;return}else throw H}else if(B=="selectNoLayers"){a.X=[];
a.LD=!0}else if(B=="selectAllLayers"){a.X=[];for(var v=0;v<a.T.length;v++)a.X.push(v);a.LD=!0;return}else if(B=="select"){var d=N.JJ;
if(H=="Lyr"){var Y=m.selectionModifier,C=Y?Y.v.selectionModifierType:null,i=f2.h2(a,e[0]),M=0;if(i==-1){alert("Layer "+e[0].v.val+" does not exist.");
return}var g=a.T[i];if(g.bx()&&g.sJ()&&Y==null)M=1;q.data={Q:f.n1,W:i,lX:C?["addToSelection","addToSelectionContinuous"].indexOf(C):null,k9:M}}else if(H=="Path"){if(e[0].v.keyID=="WrPt"){a.VF=[0];
a.Xx=a.UF=!0;return}else if(e[0].t=="name"){for(var v=0;v<a.AZ.length;v++)if(a.AZ[v].name==e[0].v.val){a.VF=[v];
a.Xx=a.UF=!0;return}}else throw e[0]}else if(H=="Chnl"){var W=e?e[0].v.enum:"",$=["Rd","Grn","Bl"].indexOf(W);
if($!=-1){var P=m.Extd&&m.Extd.v?a.e.Y.slice(0):[0,0,0];P[$]=1;q.I=N.Kd;q.data={Q:"setcls",Y:P}}else q.data={Q:f.n1,W:i,k9:W=="RGB"?0:1}}else if(H=="Dcmn"){if(n.pB.length<2)return;
U.data={Q:x.l.ajz,dir:m.null.v[0].v.val}}else if(H=="Brsh"){var O=Q.nE.list,G;for(var v=0;v<O.length;
v++){if(O[v].v.Nm.v.split("/").pop()==e[0].v.val)G=O[v].v}if(Q.Ce==N.nQ){U.data={Q:x.l.pY,I:N.o9};n.a(U)}U.data={Q:x.l.m6,_X:b3.Zi,QV:G}}else if(H=="Mn"){if(e[0].v.enum=="Scl")U.data={Q:x.l.pY,I:N.CL,Ls:{uO:3}};
if(e[0].v.enum=="Plce")U.data={Q:x.l.ws,aqA:!0};if(e[0].v.enum=="ZmIn"){q.I=N.yx;q.data={Q:"zoom",cC:!0}}if(e[0].v.enum=="ZmOt"){q.I=N.yx;
q.data={Q:"zoom",cC:!1}}if(e[0].v.enum=="FtOn"){q.I=N.yx;q.data={Q:"adapt",J:"fitscr"}}}else if(d[H]){U.data={Q:x.l.pY,I:d[H]}}else throw H}else if(B=="draw"){q.I=N.rB;
q.data={Q:"fromAction",bm:j}}else if(B=="gradientClassEvent"){q.I=N.$p;q.data={Q:"fromAction",bm:j}}else if((B=="set"||B=="reset"||B=="exchange")&&H=="Clr"){U.data={Q:x.l.m6,_X:b3.Wz,BO:B=="reset"?3:2};
if(B=="set"){U.data.BO=e[0].v.keyID=="FrgC"?0:1;var t=K.Gp.qF(m.T.v);U.data.J=t.n<<16|t.i<<8|t.b}}else if(B=="set"){if(H=="AdjL"){var y=m.T.v.classID;
y=k8.Bq[y];q.I=N.r_;if(y)q.data={Q:"edit_layer",J:m.T.v}}else if(H=="Lyr"){var r=m.T.v,i=f2.h2(a,e[0]);
for(var u in r){if(u=="classID")continue;q.I=N.ir;if(u=="Nm")q.data={Q:f.jN,name:r.Nm.v};else if(u=="Opct")q.data={Q:f.pc,L3:Math.round(r.Opct.v.val*255/100)};
else if(u=="fillOpacity")q.data={Q:f.cv,L3:Math.round(r.fillOpacity.v.val*255/100)};else if(u=="Md")q.data={Q:f.Iy,L3:af.de.indexOf(r.Md.v.BlnM)+(a.T[i].bx()?1:0)};
else if(u=="Usrs")q.data={Q:f.fX,W:i};else if(u=="Blnd"){q.I=N.uX;q.data={Q:"setstl",W:i,J:{blendOptions:{t:"objc",v:r}}};
n.a(q);q.data={Q:"confirm",W:i}}else if(u=="userMaskFeather"||u=="userMaskDensity"){var S=r.userMaskFeather,X=r.userMaskDensity,i=a.X[0],w=a.T[i].vI(0);
if(S)w.tu=S.v.val;if(X)w.QY=X.v.val;q.data={Q:f.E5,NA:i,pW:w}}else if(u=="Clr"){var F=f2.Tr(r);q.data={Q:f.dc,abC:F}}else if(u=="Lefx")f2.awy(n,i,r.Lefx.v,Q);
else{console.log(m);throw u}if(q.data){n.a(q);delete q.data}}q.data={};var g=a.T[i];g.arF()}else if(H=="Prpr"){var r=K.u(m.T.v),i=f2.h2(a,m.null.v[1]),g=a.T[i],dj=e[0].v.keyID;
if(dj=="TxtS"||dj=="paragraphStyle"){var o=g.add.TySh,T=K.u(o.Kt),i6=eR.yi(T),bH=eR.JB(T,0,i6.length-2);
if(dj=="TxtS")eR.aff(r,bH);else eR.a9K(r,bH);eR.A0(T,0,i6.length-1,bH);q.I=N.BT;q.data={Q:"newED",hv:i,sn:T}}else if(dj=="Lefx"){for(var cg in r)if(r[cg].v){if(cg=="Scl")r[cg].v.val=100}f2.awy(n,i,r,Q);
q.data={}}else throw dj}else if(H=="contentLayer"){var i=f2.h2(a,e[0]),r=m.T.v,bu=!0;if(r.classID=="shapeStyle"){if(r.strokeStyle){r=r.strokeStyle.v;
bu=!1}else r=r.FlCn.v}if(bu){var dK={solidColorLayer:0,gradientLayer:1,patternLayer:2}[r.classID],d8=g8.GT(a.T[i].add),_=d8.px==dK+1?d8.zT:g8.hF[dK];
_=K.u(_);N.vo.O6(r,_,dK);q.data={Q:f.te,ia:[i],xl:!0,J:{px:dK+1,zT:_}}}else{var d1=K.u(a.T[i].add.vstk);
for(var cg in r)d1[cg]=r[cg];q.data={Q:f.te,ia:[i],xl:!1,J:d1}}}else if(H=="Brsh"){var G=K.u(Q.nE.Q0),gH=m.T.v;
if(gH.masterDiameter)G.Brsh.v.Dmtr.v.val=gH.masterDiameter.v.val;else console.log("unknown brush parameters");
U.data={Q:x.l.m6,_X:b3.Zi,QV:G}}else if(H=="Path"){q.I=N.rB;q.data={Q:"fromAction",bm:j}}else if(H=="TxLr"){q.I=N.BT;
q.data={Q:"fromAction",bm:j}}else{console.log(e[0],m);throw H}}else if(B=="move"){if(H=="Lyr"){var r=m.T.v;
if(r.classID=="Ofst"){q.data={Q:"trsl",t4:r.Hrzn.v.val,AJ:r.Vrtc.v.val};q.I=N.nQ}else{var kh,ay;if(r[0].t=="Enmr"){if(r[0].v.enum=="Frnt")ay=0;
else if(r[0].v.enum=="Nxt")ay=1;else if(r[0].v.enum=="Prvs")ay=2;else if(r[0].v.enum=="Back")ay=3;else throw"e"}else kh=r[0].v.val;
q.data={Q:f.yW,target:kh,BO:ay,aog:m.Dplc?m.Dplc.v:!1}}}else if(H=="Chnl"&&e[0].v.keyID=="fsel"){q.I=N.D4;
q.data={Q:"fromAction",bm:j}}}else if(B=="groupEvent"||B=="ungroup")q.data={Q:f.WN};else if(B=="show"||B=="hide"){var dO=m.null.t;
if(dO=="obj "){if(e[0].v.val!=null)q.data={Q:f.qf,index:e[0].v.val-1};else q.data={Q:f.Hh}}else if(dO=="VlLs"){var H=e[0].v[0].v.classID;
if(H=="Chnl")q.data={Q:f.EH,BO:"fromAction",J:j};else{var fy=H=="filterFX"?e:e[0].v;for(var v=0;v<fy.length;
v++){if(H=="filterFX")q.data={Q:f.qf,index:fy[v].v[0].v.val-1};else if(fy[v].v.enum=="Trgt"){var bg=[];
for(var f4=0;f4<a.X.length;f4++){var i=a.X[f4],jb=a.T[i].VH();if(B=="show"&&jb||B=="hide"&&!jb)continue;
bg.push(i)}q.data={Q:f.yy,ia:bg}}else{var i=f2.h2(a,fy[v]),jb=a.T[i].VH();if(B=="show"&&jb||B=="hide"&&!jb)continue;
q.data={Q:f.yy,ia:[i]}}n.a(q)}return}}else throw dO}else if(B=="rotateEventEnum"){q.I=H=="Lyr"?N.CL:N.MA;
var jT=m.Angl.v.val;q.data={Q:"rot",ID:[2,5],J:-jT*Math.PI/180}}else if(B=="flip"){q.I=H=="Lyr"?N.CL:N.MA;
var jy=m.Axis.v.Ornt=="Hrzn",cl=jy?new eE(-1,1):new eE(1,-1);q.data={Q:"scl",ID:[[2,6],[22,4,jy?2:3]],J:cl}}else if(B=="transform"){var hu=1,aA=1,ko=0,ec=0,kK=0,cM=0,gG=0,j7=null,dz=null;
if(m.Wdth)hu=m.Wdth.v.val/100;if(m.Hght)aA=m.Hght.v.val/100;if(m.Skew){var c2=m.Skew.v;ko=c2.Hrzn.v.val;
ec=c2.Vrtc.v.val}if(m.Ofst){var a1=m.Ofst.v;cM=a1.Hrzn.v.val;gG=a1.Vrtc.v.val}if(m.Angl)kK=m.Angl.v.val;
var cs=new j8;cs.concat(new j8(hu,hu*Math.tan(ec*Math.PI/180),aA*Math.tan(ko*Math.PI/180),aA,0,0));cs.rotate(-kK*Math.PI/180);
cs.translate(cM,gG);var f7=K.D.UN(cs);if(m.Usng){var a1=m.Usng.v;f7[6]=a1.Hrzn.v.val/100;f7[7]=a1.Vrtc.v.val/100}var iA=m.FTcs.v.QCSt;
if(iA=="Qcsi"){var kk=m.Pstn.v;j7=new eE(kk.Hrzn.v.val,kk.Vrtc.v.val)}else dz=N.IP.a6l[iA];var e=m.null;
if(e&&e.v instanceof Array)e=e.v[0];var i=e?f2.h2(a,e):null;if(i==-1)i=null;q.I=e&&e.v.keyID=="fsel"?N.ea:N.CL;
q.data={Q:"dtr",h1:dz,J:f7,Mb:m.warp,arD:j7}}else if(B=="duplicate"){if(H=="Chnl")q.data={Q:f.EH,BO:"fromAction",J:j};
else if(H=="Dcmn"){var fA=fj.Mi("PSD").OR(a);aL.dl({url:a.name},fA,n);return}else if(H=="Actn"){var g5=Q.nU,h$=e[1].v.val,hL=null;
for(var v=0;v<g5.length;v++)if(g5[v].ID==h$)hL=g5[v];var ha=f2.tl(g5,e[0].v.val,h$);ha=K.u(ha);ha.ID+=" copy";
hL.C5.push(ha);return}else q.data={Q:f.l5,tw:m.Nm?m.Nm.v:null}}else if(B=="delete"){if(H=="filterFX"){if(e[0].v.val!=null)q.data={Q:f.Oe,iX:e[0].v.val-1};
else q.data={Q:f.e2}}else if(H=="Path"){if(e&&e.length==2&&e[0].v.enum=="vectorMask"&&e[1].v.classID=="Lyr"){q.I=N.ir;
q.data={Q:f.s6}}else{q.I=N.rB;q.data={Q:"pathedit",BO:"del"}}}else if(H=="Lyr")q.data={Q:f.mQ};else if(H=="Chnl"&&e[0].v.enum=="Msk")q.data={Q:f.Qf};
else if(H=="Chnl")q.data={Q:f.EH,BO:"fromAction",J:j};else if(H=="Cmnd"){var g5=Q.nU,h$=e[2].v.val,ha=f2.tl(g5,e[1].v.val,h$);
ha.C5.splice(e[0].v.val-1,1);return}else if(H=="Actn"){var g5=Q.nU,h$=e[1].v.val,hL=null;for(var v=0;
v<g5.length;v++)if(g5[v].ID==h$)hL=g5[v];var ha=f2.tl(g5,e[0].v.val,h$);hL.C5.splice(hL.C5.indexOf(ha),1);
return}else if(H=="ASet"){var g5=Q.nU,h$=e[0].v.val,hL=null;for(var v=0;v<g5.length;v++)if(g5[v].ID==h$)hL=g5[v];
if(hL==null)return;g5.splice(g5.indexOf(hL),1);a.LD=!0;return}else throw H}else if(B=="align"){if(m.Aply&&m.Aply.v.projection=="Auto"){q.I=N.MA;
q.data={Q:"auto-align"}}else{q.I=N.nQ;var jl=m.Usng.v.ADSt,c={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[jl];
if(c==null)throw jl;q.data={Q:"algn",J:c}}}else if(B=="applyLocking"){var fI=m.layerLocking.v,aE;if(fI.protectTransparency)aE=[[fI.protectTransparency.v],[0]];
else if(fI.protectNone)aE=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(fI);throw"e"}q.data={Q:f.MI,L3:aE}}if(q.data)n.a(q);
else if(U.data)n.a(U);else{console.log(j);alert("Unknown action \""+B+"\"");throw"e"}};f2.awy=function(j,n,Q,a){Q=K.u(Q);
cO.Kg(Q);if(Q.masterFXSwitch==null)Q.masterFXSwitch={t:"bool",v:!0};console.log(Q);var B=g8.Ub;for(var m=0;
m<B.length;m++)if(Q[B[m]]){for(var v=0;v<Q[B[m]].v.length;v++){var R=Q[B[m]].v[v].v;for(var q=0;q<2;
q++){var U=R[q==0?"TrnS":"MpgS"];if(U&&U.v.Crv==null){var l=U.v,b=l.Nm.v.split("=").pop(),D=a.SL,c=0;
for(var _=0;_<D.length;_++){var p=D[_].Nm.v.split("=").pop();if(p==b)c=_}l.Crv=K.u(D[c].Crv)}}}}var X=new ar(x.E.A,!0);
X.I=N.uX;X.data={Q:"setstl",W:n,J:{Lefx:{t:"objc",v:Q}}};j.a(X);X.data={Q:"confirm",W:n};j.a(X)};f2.Tr=function(j){var n={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[j.Clr.v.Clr];
if(n==null)throw j.Clr.v.Clr;return n};f2.h2=function(j,n){var Q=1e6,a=0,B=j.T.length;for(var v=0;v<j.X.length;
v++){Q=Math.min(Q,j.X[v]);a=Math.max(a,j.X[v])}var m=n.t,R=-1;if(m=="name"){var q=n.v.val,R=-1;for(var v=0;
v<B;v++)if(j.T[v].getName()==q){R=v;break}}else if(m=="Enmr"){if(j.X.length!=0)R=j.X[0];if(n.v.enum=="Frwr")R=a+1;
if(n.v.enum=="Bckw")R=Q-1;if(n.v.enum=="Back")R=0;if(n.v.enum=="Frnt")R=B-1;R=(R+B)%B}else if(m=="prop"){if(n.v.keyID=="Bckg")R=0}else if(m=="indx")R=n.v.val-1;
return R};var k8={};k8.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
k8.a8L=["expA","clrL","selc"];k8.m7=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];k8.ard=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
k8.ql=[[13,1,1],[13,1,4],[13,1,5]];k8.pM={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
k8.Bq=function(){var j=K.u(k8.pM);delete j.GrMp;j.GdMp="grdm";return j}();k8.JJ={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
k8.keys={levl:[i8.Gm,i8.Cm],curv:[i8.Gm,i8.W7],hue2:[i8.Gm,i8.Cg],nvrt:[i8.Gm,i8.ky],blnc:[i8.Gm,i8.s3]};
k8.Yn=function(j){var n=fo.cL("mixr");n.Mnch={t:"bool",v:j.At};function Q(a,v){var B={classID:"ChMx"},m={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var R in m)B[R]={t:"UntF",v:{type:"#Prc",val:a[v+m[R]]}};return{t:"Objc",v:B}}if(j.At)n.Gry=Q(j.J,0);
else{n.Rd=Q(j.J,0);n.Grn=Q(j.J,5);n.Bl=Q(j.J,10)}return n};k8.Ng=function(j){function n(a,B,v){var m={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var R in m)if(a[R])B[v+m[R]]=a[R].v.val}var Q={At:!1,J:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(j.Mnch&&j.Mnch.v)Q.At=!0;if(Q.At)n(j.Gry.v,Q.J,0);else{n(j.Rd.v,Q.J,0);n(j.Grn.v,Q.J,5);n(j.Bl.v,Q.J,10)}return Q};
k8.get=function(j){for(var n in k8.names)if(j[n]!=null)return n;return null};k8.Ya=function(j,n){var Q=k8.cn,a;
if(j=="brit"){var B=n.Brgh?n.Brgh.v:0,m=n.Cntr?n.Cntr.v:0,R=n.useLegacy?n.useLegacy.v:!1;if(R){var q=B/255,U=1+m/100;
if(U>1)U=1+Math.tan(Math.PI/2*m/101);var l=(1-U)/2,b=K.wz.RA(q,q,q),D=[U,0,0,l,0,U,0,l,0,0,U,l,0,0,0,1],c=K.wz.multiply(D,b),_={n:new Float32Array(256),i:new Float32Array(256),b:new Float32Array(256)};
for(var v=0;v<256;v++)_.n[v]=v/255;K.wz.Ti(_,_,c);a={w:Q.Yq,SV:_.n,HA:_.n,Er:_.n,AG:!1,ML:!1}}else{var p=1024,X=-30+60*(m+100)/200,g=[];
for(var v=0;v<4;v++)g.push(K.c0.yH(v/3*255,v/3*255,!0));g[1].v.Hrzn.v=64;g[1].v.Vrtc.v=64-X;g[2].v.Hrzn.v=128+64;
g[2].v.Vrtc.v=128+64+X;g.sort(function(eL,e5){return eL.v.Hrzn.v-e5.v.Hrzn.v});var F=K.c0.PF(g,p);function k(eL,p){var g=[],dv=3;
for(var v=0;v<dv+1;v++)g.push(K.c0.yH(v/dv*255,v/dv*255,!0));g[1].v.Hrzn.v=130-eL*26;g[1].v.Vrtc.v=130+eL*51;
g[2].v.Hrzn.v=233-eL*48;g[2].v.Vrtc.v=233+eL*10;return K.c0.PF(g,p)}var I=k(Math.abs(B)/100,p);if(B<0){var e=[],H=1/p;
for(var v=0;v<p;v++){var A=v*H,Z=v;while(I[Z]>A&&Z>1)Z--;e[v]=Z*H}I=e}var J=new Float32Array(p);for(var v=0;
v<p;v++){var s=Math.round((p-1)*I[v]);J[v]=F[s]}a={w:Q.Yq,SV:J,HA:J,Er:J,AG:!1,ML:!1}}}if(j=="levl"){var E=[],z,h,b,d,Y,C;
for(var v=0;v<4;v++)E.push(kp.Js(n,v));z=-E[0][0]/255;h=1/(E[0][1]/255-E[0][0]/255);b=K.wz.multiply(K.wz.SZ(h,h,h),K.wz.RA(z,z,z));
d=K.wz.SZ(1/(E[1][1]/255-E[1][0]/255),1/(E[2][1]/255-E[2][0]/255),1/(E[3][1]/255-E[3][0]/255));Y=K.wz.RA(-E[1][0]/255,-E[2][0]/255,-E[3][0]/255);
C=K.wz.multiply(d,Y);var J={n:new Float32Array(256),i:new Float32Array(256),b:new Float32Array(256)};
for(var v=0;v<256;v++)J.n[v]=J.i[v]=J.b[v]=v/255;var i=1/(E[0][4]/100),M=1/(E[1][4]/100),W=1/(E[2][4]/100),$=1/(E[3][4]/100);
K.wz.Ti(J,J,C);for(var v=0;v<256;v++){J.n[v]=Math.max(0,Math.min(1,Math.pow(J.n[v],M)));J.i[v]=Math.max(0,Math.min(1,Math.pow(J.i[v],W)));
J.b[v]=Math.max(0,Math.min(1,Math.pow(J.b[v],$)))}K.wz.Ti(J,J,b);for(var v=0;v<256;v++){J.n[v]=Math.max(0,Math.min(1,Math.pow(J.n[v],i)));
J.i[v]=Math.max(0,Math.min(1,Math.pow(J.i[v],i)));J.b[v]=Math.max(0,Math.min(1,Math.pow(J.b[v],i)))}z=E[0][2]/255;
h=E[0][3]/255-E[0][2]/255;b=K.wz.multiply(K.wz.RA(z,z,z),K.wz.SZ(h,h,h));d=K.wz.SZ(E[1][3]/255-E[1][2]/255,E[2][3]/255-E[2][2]/255,E[3][3]/255-E[3][2]/255);
Y=K.wz.RA(E[1][2]/255,E[2][2]/255,E[3][2]/255);C=K.wz.multiply(Y,d);K.wz.Ti(J,J,K.wz.multiply(b,C));
a={w:Q.Yq,SV:J.n,HA:J.i,Er:J.b,AG:!1,ML:!1}}if(j=="curv"){var P=dr.Js(n,0).length==256?1:0,O=[];if(P==0){var G=K.c0.PF(dr.Js(n,0),256);
for(var v=1;v<4;v++){var t=K.c0.PF(dr.Js(n,v),256);O.push(K.c0.afQ(t,G))}}else{var y=[];for(var v=0;
v<4;v++){var r=new Float32Array(256);y.push(r);var u=dr.Js(n,v);for(var Z=0;Z<256;Z++)r[Z]=u[Z]/255}for(var v=1;
v<4;v++)O.push(K.c0.afQ(y[v],y[0]))}a={w:Q.Yq,SV:O[0],HA:O[1],Er:O[2],AG:!1,ML:!1}}if(j=="expA"){var S=n.Exps,w=n.Ofst,dj=n.gammaCorrection,o=S?S.v:0,T=w?w.v:0,i6=dj?dj.v:1,J=new Float32Array(256);
for(var v=0;v<256;v++){var n=v/255,bH=Math.pow(Math.abs(T),1/(Math.PI/2));if(T>0){n=Math.max(T/Math.E,n);
n=n*Math.exp(T/1.75+o/Math.PI);n=(1-bH)*n+bH*1}else{n=n*Math.exp(-T*1.75+o/Math.PI);n=n+-bH*1.14}n=Math.pow(n,1/i6);
J[v]=Math.max(0,Math.min(1,n))}a={w:Q.Yq,SV:J,HA:J,Er:J,AG:!1,ML:!1}}if(j=="vibA"){var cg=(n.vibrance?n.vibrance.v:0)/100,bu=(n.Strt?n.Strt.v:0)/100,bH=1+cg*(cg>0?.25:.5),hH=.8+.2/bH;
a={w:Q.go,_X:[cg,bu,hH,bH]}}if(j=="hue2"){var dK=[],d8=[],d1=[],gH=n.Clrz?n.Clrz.v:!1;for(var v=0;v<256;
v++){dK[v]=v/255;d8[v]=0;d1[v]=0}var kh=az.Js(n,0),ay=k8.qJ(kh[1]/100);if(gH){var dO=kh[0]/360;for(var v=0;
v<256;v++){dK[v]=dO;d8[v]=ay}}else{for(var v=0;v<256;v++){var fy=dK[v],bg=d8[v];dK[v]+=kh[0]/360;for(var Z=0;
Z<6;Z++){var f4=az.Js(n,Z+1),jb=f4.gY,jT=f4.ei,bH=0;for(var jy=1;jy<4;jy++)if(jT[jy]<jT[0])jT[jy]+=360;
var cl=jT[0],hu=jT[1],aA=jT[2],ko=jT[3],ec=fy*360;if(ec<jT[0])ec+=360;var kK=(ec-cl)/(hu-cl),cM=(ec-aA)/(ko-aA);
if(kK<0)bH=0;else if(kK<1)bH=kK;else if(cM<0)bH=1;else if(cM<1)bH=1-cM;else bH=0;var U=k8.qJ(jb[1]/100);
dK[v]+=bH*jb[0]/360;d8[v]+=bH*U;d1[v]+=bH*jb[2]/100}}for(var v=0;v<256;v++){d8[v]=(1+d8[v])*(1+ay)-1;
d1[v]=Math.max(-1,Math.min(1,d1[v]))}}var gG=new Float32Array(256),c2=new Float32Array(256),a1=new Float32Array(256);
for(var v=0;v<256;v++){var cs=dK[v],bu=d8[v],f7=d1[v];if(cs>1)cs--;if(cs<0)cs++;bu=k8.agQ(bu);gG[v]=cs;
c2[v]=bu;a1[v]=f7}var j7=kh[2]/100,dz=j7<0?-j7:j7,iA=j7<0?0:1;a={w:Q.WT,a56:gG,PB:c2,akI:a1,aFo:dz*iA,kK:1-dz,aiZ:kh[2]/100,aqN:gH?1:0}}if(j=="nvrt"){var J=new Float32Array(256);
for(var v=0;v<256;v++)J[v]=1-v/255;a={w:Q.Yq,SV:J,HA:J,Er:J,AG:!1,ML:!1}}if(j=="post"){var kk=n.Lvls.v,J=new Float32Array(256),bH=kk/255.001,fA=1/(kk-1);
for(var v=0;v<256;v++)J[v]=Math.floor(v*bH)*fA;a={w:Q.Yq,SV:J,HA:J,Er:J,AG:!1,ML:!1}}if(j=="grdm"){var g5=n.Grad.v,h$=n.Rvrs,p=1024,hL;
if(g5.Clrs){var ha=K.Gp.GR(g5,0,0);hL=K.Gp.a06(g5,ha,p,h$?h$.v:!1)}else{hL=K.Gp.adl(g5,p,h$?h$.v:!1)}var jl=new Float32Array(p),fI=new Float32Array(p),aE=new Float32Array(p);
for(var v=0;v<p;v++){jl[v]=hL[v*4]/255;fI[v]=hL[v*4+1]/255;aE[v]=hL[v*4+2]/255}a={w:Q.Yq,SV:jl,HA:fI,Er:aE,AG:!0,ML:!1}}if(j=="selc"){var es=new Float32Array(9*3*2),kN=n.A_,fV=n.Mthd?n.Mthd.v.CrcM=="Absl":!1;
for(var Z=0;Z<9;Z++){var jU=Z*6,c$=cG.Js(n,Z),iq=c$[0]/100,cz=c$[1]/100,h0=c$[2]/100,fl=c$[3]/100;if(fV){es[jU]=es[jU+1]=es[jU+2]=1;
es[jU+3]=iq*(1+fl)+fl;es[jU+4]=cz*(1+fl)+fl;es[jU+5]=h0*(1+fl)+fl}else{es[jU+0]=(1+iq)*(1+fl);es[jU+1]=(1+cz)*(1+fl);
es[jU+2]=(1+h0)*(1+fl)}}a={w:Q.Kx,ad5:es}}if(j=="blwh"){var co="Rd Yllw Grn Cyn Bl Mgnt".split(" "),a=[],bn=0,fT=0;
for(var v=0;v<6;v++)a.push(n[co[v]].v);a.push(n.useTint.v,n.tintColor.v);var cC=[];for(var v=0;v<6;v++)cC.push((a[v]-50)/50);
var gr=K.Gp.qF(a[7]);gr.n/=255;gr.i/=255;gr.b/=255;var eK=K.Qq(gr.n,gr.i,gr.b),f7=K.GD(K.BK(eK.WC,1,.5)),bM=eK.bD*eK.n8;
if(f7==.5)bn=fT=.5;else{bn=bM*(.5-f7)/(.5/f7-1);fT=1-bM*(.5-f7)-1/(2*(1-f7));fT/=1-1/(2*(1-f7))}a={w:Q.bu,adm:cC,vM:a[6]?1:0,a97:eK.WC,GD:f7,aCN:bM,es:bn,aiD:fT}}if(j=="blnc"){var E=[],ck=["ShdL","MdtL","HghL"];
for(var v=0;v<3;v++){if(n[ck[v]]==null){E[v]=[0,0,0];continue}var kk=n[ck[v]].v,ce=kk[0].v/100,kn=kk[1].v/100,fc=kk[2].v/100,cv=n.PrsL==null||n.PrsL.v?(Math.min(ce,kn,fc)+Math.max(ce,kn,fc))/2:0;
E[v]=[ce-cv,kn-cv,fc-cv]}var O=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var Z=0;
Z<3;Z++)for(var v=0;v<256;v++){var A=v*(1/255),gM=0,X=0,fg=0;X=E[2][Z];fg=Math.abs(X);if(X<0)gM=Math.pow(A,Math.SQRT2);
else gM=1.63*(Math.pow(A+.04,.5)-.2);A=fg*gM+(1-fg)*A;X=E[1][Z];fg=Math.abs(X);if(X<0)gM=Math.pow(A,2);
else gM=Math.min(2.35*(Math.pow(A+.09,.5)-.3),Math.pow(A,1/2));A=fg*gM+(1-fg)*A;X=E[0][Z];fg=Math.abs(X);
if(X<0)gM=A<.4?0:Math.pow((A-.4)/.6,Math.SQRT2);else gM=Math.pow(A,Math.SQRT2/2);A=fg*gM+(1-fg)*A;A=Math.max(0,Math.min(1,A));
O[Z][v]=A}a={w:Q.Yq,SV:O[0],HA:O[1],Er:O[2],AG:!1,ML:!1}}if(j=="phfl"){var fP=K.Gp.qF(n.Clr.v),cu=[fP.n/255,fP.i/255,fP.b/255],h8=n.Dnst.v/100,O=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var Z=0;Z<3;Z++)for(var v=0;v<256;v++){var A=v*(1/255),jd=A*cu[Z];jd=Math.max(0,Math.min(1,jd));
A=h8*jd+(1-h8)*A;O[Z][v]=A}a={w:Q.Yq,SV:O[0],HA:O[1],Er:O[2],AG:!1,ML:n.PrsL.v}}if(j=="thrs"){var J=new Float32Array(256);
for(var v=n.Lvl.v;v<256;v++)J[v]=1;a={w:Q.Yq,SV:J,HA:J,Er:J,AG:!0,ML:!1}}if(j=="mixr"){var bL=k8.Ng(n),c=[];
for(var v=0;v<bL.J.length;v++)if(v%5!=3)c.push(bL.J[v]/100);if(bL.At){for(var jq=1;jq<3;jq++)for(var A=0;
A<4;A++)c[jq*4+A]=c[A]}a={w:Q.TP,uS:c}}if(j=="rplc"){var dJ=n.Mnm.v,ju=n.Mxm.v;a={w:Q.n4,nv:[dJ.Lmnc.v,dJ.A.v,dJ.B.v],fD:[ju.Lmnc.v,ju.A.v,ju.B.v],shift:[n.H.v/360,n.Strt.v/100,n.Lght.v/100],sH:n.Fzns.v/150}}if(j=="clrL"&&n.profile){var cL=new Uint8Array(n.profile.v),k7=ICC.R(cL.buffer),ai=[],g_=17,ai=ICC.U.sampleLUT(k7,g_);
a={w:Q.eG,FJ:ICC.U.lutToRGBA32(ai,g_),ah6:ai,uN:g_}}return a};k8.aU=function(j,n){var Q=-1;if(j!="levl"||n==null)Q=-1;
else if(n.Auto)Q=0;else if(n.AuCo)Q=1;else if(n.autoBlackWhite)Q=2;return Q};k8.cn={Yq:0,WT:1,go:2,Kx:3,bu:4,TP:5,n4:6,eG:7};
k8.qJ=function(j){if(j<0)return j;return Math.pow(Math.tan(Math.PI/2*j),1.3)};k8.agQ=function(j){if(j<0)return j;
j=Math.pow(j,1/1.3);return Math.atan2(j,1)/(Math.PI/2)};k8.cN=function(j,n,Q,a){var B=k8.cn,m=Date.now();
if(gz.oB&&a.$()>300*300&&j.w!=B.Yq&&j.w!=B.eG){a=a.O();a.x=a.y=0;var R=gz.cy(0,a.q,a._);R.set(n);gz.Rf(R,a);
R.A3(a);k8.df(j,R.C8,a);R.get(Q);return}var q=n.length,U=K.Rz(n),l=U==8?255:U==16?65535:1,b=1/l;if(j.w==B.eG){var D=j.ah6,c=j.uN;
ICC.U.applyLUT(D,c,n,Q);var q=n.length;for(var v=0;v<q;v+=4)Q[v+3]=n[v+3]}if(j.w==B.TP)K.wz.an0(n,Q,j.uS);
if(j.w==B.bu){var _=j.aCN,p=j.GD,X=j.es,g=j.aiD,q=n.length;for(var v=0;v<q;v+=4){var a=n[v]*b,F=n[v+1]*b,k=n[v+2]*b,I=K.Wd(a,F,k),e=0;
for(var H=0;H<6;H++)e+=Math.min(1,1.7*(1-I.IT))*I.bD*j.adm[H]*k8.azT(I.WC,H*(1/6));var A=Math.max(0,Math.min(1,I.IT*(1+e)));
if(j.vM==1){var Z=0;if(A<X)Z=A*(.5/p);else if(A<g)Z=A+_*(.5-p);else Z=1-(1-A)*.5/(1-p);I.WC=j.a97;I.bD=Math.min(1,_+3*_*Math.abs(A-.5*(X+g)));
I.IT=Z}else{I.WC=0;I.bD=0;I.IT=A}var J=K.BK(I.WC,I.bD,I.IT);Q[v]=J.n*l;Q[v+1]=J.i*l;Q[v+2]=J.b*l}}if(j.w==B.Kx){var s=j.ad5,q=n.length,E=1/255;
for(var v=0;v<q;v+=4){var a=n[v]*E,F=n[v+1]*E,k=n[v+2]*E,I=K.Wd(a,F,k),z=Math.max(a,Math.max(F,k)),h=Math.min(a,Math.min(F,k)),d=1-a,Y=1-F,C=1-k,i=0,M=0,W=0;
for(var H=0;H<9;H++){var $=H*6,t=0;if(s[$]==1&&s[$+1]==1&&s[$+2]==1&&s[$+3]==0&&s[$+4]==0&&s[$+5]==0)continue;
var P=d*s[$]+s[$+3],O=Y*s[$+1]+s[$+4],G=C*s[$+2]+s[$+5];if(H<6)t=k8.azT(I.WC,H*(1/6))*I.bD*2*Math.min(I.IT,1-I.IT);
else if(H==6)t=Math.max(0,h-.5)*2;else if(H==7)t=1-(Math.abs(z-.5)+Math.abs(h-.5));else t=Math.max(0,.5-z)*2;
i+=(Math.max(0,Math.min(1,P))-d)*t;M+=(Math.max(0,Math.min(1,O))-Y)*t;W+=(Math.max(0,Math.min(1,G))-C)*t}d=Math.max(0,Math.min(1,d+i));
Y=Math.max(0,Math.min(1,Y+M));C=Math.max(0,Math.min(1,C+W));a=1-d;F=1-Y;k=1-C;Q[v]=Math.round(a*255);
Q[v+1]=Math.round(F*255);Q[v+2]=Math.round(k*255)}}if(j.w==B.Yq){K.aAk(n,Q,j.SV,j.HA,j.Er,j.AG,j.ML)}if(j.w==B.WT){if(k8.Hx==null){k8.Hx=new Float64Array(256);
for(var v=0;v<256;v++)k8.Hx[v]=k8.qJ(-1+2*v/255)}var y=k8.Hx;for(var v=0;v<q;v+=4){var a=n[v]*b,F=n[v+1]*b,k=n[v+2]*b,r=Math.min(a,F,k),u=Math.max(a,F,k),S=0,w=0,dj=0;
S=K.Wd(a,F,k).WC;var o=~~(S*255+.5),T=j.a56[o],i6=j.PB[o],bH=j.akI[o],e=-bH,cg=r;if(0<bH){e=bH;cg=u}var bu=j.aFo+j.kK*e*cg,hH=j.kK*(1-e);
a=bu+hH*a;F=bu+hH*F;k=bu+hH*k;u=Math.max(a,F,k);r=Math.min(a,F,k);dj=(u+r)*.5;if(u!=r){var dK=u-r;w=dj>.5?dK/(2-(u+r)):dK/(u+r)}var d8=i6;
if(j.aqN==0){i6=y[Math.floor((1+i6)*127.5)];d8=Math.min(w*(1+i6),1)}var J=K.BK(T,d8,dj);a=J.n;F=J.i;
k=J.b;Q[v]=a*l;Q[v+1]=F*l;Q[v+2]=k*l}}if(j.w==B.n4){K.D1(n,Q);var d1=new Uint32Array(n.buffer),gH=new Uint32Array(Q.buffer),q=d1.length,kh=j.sH,ay=1/kh,dO={Cm:j.nv[0],NX:j.nv[1],b:j.nv[2]},fy={Cm:j.fD[0],NX:j.fD[1],b:j.fD[2]};
for(var v=0;v<q;v++){var bg=d1[v],f4=bg&255,jb=bg>>>8&255,jT=bg>>>16&255,a=f4*(1/255),F=jb*(1/255),k=jT*(1/255),jy=bg>>>24,cl=K.Bd(f4,jb,jT),hu=K.a7E(cl,dO,fy,kh,ay);
if(hu==0)continue;var I=K.Wd(a,F,k),T=2+I.WC+j.shift[0];I.WC=T-~~T;I.bD=Math.max(0,Math.min(1,I.bD+j.shift[1]));
I.IT=Math.max(0,Math.min(1,I.IT+j.shift[2]));var J=K.BK(I.WC,I.bD,I.IT);a=(1-hu)*a+hu*J.n;F=(1-hu)*F+hu*J.i;
k=(1-hu)*k+hu*J.b;gH[v]=jy<<24|k*255<<16|F*255<<8|a*255}}if(j.w==B.go){var aA=j._X[0],ko=j._X[1],ec=j._X[2],e=j._X[3],kK=K.wz.Ca([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),cM=K.wz.m2(kK),gG=2.4;
function c(j7){return Math.max(0,Math.min(1,j7))}function c2(j7){return Math.pow(j7,gG)}function a1(j7){return Math.pow(j7,1/gG)}function cs(a,F,k,j7){a=c2(a);
F=c2(F);k=c2(k);var dz=K.wz.y0(kK,[a,F,k,1]);dz[0]*=ec;dz[1]*=e;dz[2]*=e;var J=K.wz.y0(cM,dz);J[0]=a1(c(J[0]));
J[1]=a1(c(J[1]));J[2]=a1(c(J[2]));return J}for(var v=0;v<q;v+=4){var a=n[v]*b,F=n[v+1]*b,k=n[v+2]*b,J=cs(a,F,k,aA);
a=J[0];F=J[1];k=J[2];var f7=K.Wd(a,F,k);f7.bD=Math.max(0,Math.min(1,f7.bD*(1+ko)));J=K.BK(f7.WC,f7.bD,f7.IT);
a=J.n;F=J.i;k=J.b;Q[v]=a*l;Q[v+1]=F*l;Q[v+2]=k*l}}};k8.df=function(j,n,Q){gz.R9.df(j,n)};k8.azT=function(j,n){var Q=K.ER(n,j)*6;
return Math.max(0,Math.min(1,Q<0?1+Q:1-Q))};var fo={};fo.$d=function(j){var n=j.filterID.v;return n>16777215?L.a32(n):j.Fltr.v.classID};
fo.v8=[{zT:"GEfc"},{zT:"LnCr"},{zT:"Adobe Camera Raw Filter"},{zT:"LqFy"},{zT:"VaPo",Kl:!0},{U8:"3D",Ut:["lightFilterGradient","Dila"]},{U8:[24,2],Ut:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{U8:[24,3,11],Ut:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{U8:[24,4],Ut:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{U8:[24,6],Ut:["AdNs","Dspc","DstS","Mdn ","denoise"]},{U8:[24,8],Ut:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{U8:[24,10],Ut:["Flam","Clds","DfrC","Fbrs","LnsF"]},{U8:[24,12],Ut:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{U8:[24,14],Ut:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{U8:[24,16],Ut:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{U8:"Fourier",Ut:["dDFT","iDFT"]}];
fo.JJ={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
fo.CH={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
fo.F={rigidTransform:N.XF,blurbTransform:N.ab0};fo.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
fo.cL=function(j){var n=null;if(j=="GEfc")n={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:c3.cL("GlwE")}]}};
if(j=="LqFy"){var Q={Uw:5,WC:5,map:new Float32Array(5*5*2)},a=new Uint8Array(kQ.mH(Q)),B=[];for(var v=0;
v<a.length;v++)B.push(a[v]);n={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:B}}}if(j=="rigidTransform"){n={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(j=="blurbTransform"){n={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(j=="LnCr")n={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(j=="adaptCorrect")n={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(j=="Dfs ")n={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(j=="Fbrs")n={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(j=="Embs")n={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(j=="oilPaint")n={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(j=="TrcC")n={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(j=="Wnd ")n={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(j=="lightFilterGradient")n={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(j=="boxblur")n={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(j=="GsnB")n={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(j=="Bokh")n={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(j=="MtnB")n={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(j=="RdlB")n={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(j=="surfaceBlur")n={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(j=="denoise")n={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(j=="Dspl")n={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(j=="Pnch")n={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(j=="Plr ")n={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(j=="Rple")n={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(j=="Shr ")n={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(j=="Sphr")n={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(j=="Twrl")n={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(j=="Wave")n={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(j=="ZgZg")n={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(j=="AdNs")n={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(j=="DstS")n={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(j=="Mdn ")n={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(j=="ClrH")n={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(j=="Crst")n={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(j=="Mztn")n={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(j=="Msc ")n={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(j=="Pntl")n={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(j=="LnsF")n={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(j=="Dthr")n={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(j=="Part")n={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(j=="Adobe Camera Raw Filter")n={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(j=="smartSharpen")n={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(j=="UnsM")n={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(j=="HghP")n={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(j=="HsbP")n={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(j=="Mxm ")n={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(j=="Mnm ")n={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(j=="Ofst")n={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(j=="Kale")n={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(j=="Rept")n={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(j=="Flam")n={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(j=="Ctoa")n={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(j=="brit")n={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(j=="levl")n={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(j=="curv")n={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(j=="expA")n={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(j=="vibA")n={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(j=="hue2")n={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(j=="blnc")n={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(j=="blwh")n={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(j=="phfl")n={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(j=="grdm")n={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(g8.sp[6]).Grad};
if(j=="selc")n={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(j=="thrs")n={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(j=="mixr")n={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(j=="clrL")n={__name:"Color Lookup",classID:"colorLookup"};if(j=="post")n={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(j=="rplc")n={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(j=="fade")n={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(j=="aply")n={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(j=="matc"){n={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(j=="Dila")n={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(j=="blendOptions")n={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return n};fo.My={sFlam:function(j,n){n[0]=j.Type.v;n[1]=j.Leng.v;n[2]=j.RndL.v;n[3]=j.Widt.v;n[4]=j.Angl.v;
n[5]=j.Intr.v;n[6]=j.Adpt.v;n[7]=j.Clr.v;n[8]=j.Qual.v;n[9]=j.Turb.v;n[10]=j.Jag.v;n[11]=j.Opct.v.val;
n[12]=j.Lins.v;n[13]=j.Botm.v;n[14]=j.Styl.v;n[15]=j.Shap.v;n[16]=j.RnSh.v;n[17]=j.Arng.v},gFlam:function(j,n){j.Type.v=n[0];
j.Leng.v=n[1];j.RndL.v=n[2];j.Widt.v=n[3];j.Angl.v=n[4];j.Intr.v=n[5];j.Adpt.v=n[6];j.Clr.v=n[7];j.Qual.v=n[8];
j.Turb.v=n[9];j.Jag.v=n[10];j.Opct.v.val=n[11];j.Lins.v=n[12];j.Botm.v=n[13];j.Styl.v=n[14];j.Shap.v=n[15];
j.RnSh.v=n[16];j.Arng.v=n[17]},sAdNs:function(j,n){n[0]=j.Nose.v.val;n[1]=["Gsn","Unfr"].indexOf(j.Dstr.v.Dstr);
n[2]=j.Mnch.v},gAdNs:function(j,n){j.Nose.v.val=n[0];j.Dstr.v.Dstr=["Gsn","Unfr"][n[1]];j.Mnch.v=n[2]},sDstS:function(j,n){n[0]=j.Rds.v;
n[1]=j.Thsh.v},gDstS:function(j,n){j.Rds.v=n[0];j.Thsh.v=n[1]},sGsnB:function(j,n){n[0]=j.Rds.v.val},gGsnB:function(j,n){j.Rds.v.val=n[0]},sDila:function(j,n){n[0]=j.Crop.v.val;
n[1]=j.Rds.v.val},gDila:function(j,n){j.Crop.v.val=n[0];j.Rds.v.val=n[1]},sHghP:function(j,n){n[0]=j.Rds.v.val},gHghP:function(j,n){j.Rds.v.val=n[0]},sHsbP:function(j,n){var Q=["RGBC","HSBl","HSLC"];
n[0]=Q.indexOf(j.Inpt.v.ClrS);n[1]=Q.indexOf(j.Otpt.v.ClrS)},gHsbP:function(j,n){var Q=["RGBC","HSBl","HSLC"];
j.Inpt.v.ClrS=Q[n[0]];j.Otpt.v.ClrS=Q[n[1]]},"sMxm ":function(j,n){var Q="preserveShape";n[0]=j.Rds.v.val;
n[1]=j[Q]?["squareness","Rndn"].indexOf(j[Q].v[Q]):0},"gMxm ":function(j,n){var Q="preserveShape";j.Rds.v.val=n[0];
j[Q]={t:"enum",v:{preserveShape:["squareness","Rndn"][n[1]]}}},"sMnm ":function(j,n){var Q="preserveShape";
n[0]=j.Rds.v.val;n[1]=j[Q]?["squareness","Rndn"].indexOf(j[Q].v[Q]):0},"gMnm ":function(j,n){var Q="preserveShape";
j.Rds.v.val=n[0];j[Q]={t:"enum",v:{preserveShape:["squareness","Rndn"][n[1]]}}},sMtnB:function(j,n){n[0]=[j.Angl.v];
n[1]=j.Dstn.v.val;console.log(n)},gMtnB:function(j,n){j.Angl.v=typeof n[0]=="number"?n[0]:n[0][0];j.Dstn.v.val=n[1]},sOfst:function(j,n){n[0]=j.Hrzn.v;
n[1]=j.Vrtc.v;n[2]=["Rpt","Bckg","Wrp"].indexOf(j.Fl.v.FlMd)},gOfst:function(j,n){j.Hrzn.v=n[0];j.Vrtc.v=n[1];
j.Fl.v.FlMd=["Rpt","Bckg","Wrp"][n[2]]},sPnch:function(j,n){n[0]=j.Amnt.v},gPnch:function(j,n){j.Amnt.v=n[0]},"sPlr ":function(j,n){n[0]=["RctP","PlrR"].indexOf(j.Cnvr.v.Cnvr)},"gPlr ":function(j,n){j.Cnvr.v.Cnvr=["RctP","PlrR"][n[0]]},sRple:function(j,n){n[0]=j.Amnt.v;
n[1]=["Sml","Mdm","Lrg"].indexOf(j.RplS.v.RplS)},gRple:function(j,n){j.Amnt.v=n[0];j.RplS.v.RplS=["Sml","Mdm","Lrg"][n[1]]},sTwrl:function(j,n){n[0]=j.Angl.v},gTwrl:function(j,n){j.Angl.v=n[0]},sZgZg:function(j,n){n[0]=j.Amnt.v;
n[1]=j.NmbR.v;n[2]=["ArnC","OtFr","PndR"].indexOf(j.ZZTy.v.ZZTy)},gZgZg:function(j,n){j.Amnt.v=n[0];
j.NmbR.v=n[1];j.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][n[2]]},sUnsM:function(j,n){n[0]=j.Amnt.v.val;n[1]=j.Rds.v.val;
n[2]=j.Thsh.v},gUnsM:function(j,n){j.Amnt.v.val=n[0];j.Rds.v.val=n[1];j.Thsh.v=n[2]},sWave:function(j,n){n[0]=j.NmbG.v;
n[1]=j.WLMn.v;n[2]=j.WLMx.v;n[3]=j.AmMn.v;n[4]=j.AmMx.v;n[5]=j.SclH.v;n[6]=j.SclV.v;n[7]=["WvSn","WvTr","WvSq"].indexOf(j.Wvtp.v.Wvtp);
n[8]=["WrpA","RptE"].indexOf(j.UndA.v.UndA);n[9]=j.RndS.v},gWave:function(j,n){j.NmbG.v=n[0];j.WLMn.v=n[1];
j.WLMx.v=n[2];j.AmMn.v=n[3];j.AmMx.v=n[4];j.SclH.v=n[5];j.SclV.v=n[6];j.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][n[7]];
j.UndA.v.UndA=["WrpA","RptE"][n[8]];if(n[9]!=null){var Q=parseInt(n[9]);if(isNaN(Q))Q=248325464;Q=Math.max(0,Math.min(268435455,Q));
j.RndS.v=Q}},sDspl:function(j,n){n[0]=j.HrzS.v;n[1]=j.VrtS.v;n[2]=0;n[3]=["WrpA","RptE"].indexOf(j.UndA.v.UndA)},gDspl:function(j,n){j.HrzS.v=n[0];
j.VrtS.v=n[1];j.UndA.v.UndA=["WrpA","RptE"][n[3]];j.DspF.v.pth=n[4]},sbrit:function(j,n){n[0]=j.Brgh?j.Brgh.v:0;
n[1]=j.Cntr?j.Cntr.v:0;n[2]=j.useLegacy?j.useLegacy.v:!1},gbrit:function(j,n){j.Brgh.v=n[0];j.Cntr.v=n[1];
if(n[2]!=null)j.useLegacy.v=n[2]}};fo.aya=function(j){var n=new eE(0,0);if(j.enab.v==!1)return n;var Q=j.filterFXList.v;
for(var v=0;v<Q.length;v++){var a=Q[v].v;if(a.enab.v==!1)continue;var B=fo.$d(a),m=fo.Af(B,a.Fltr?a.Fltr.v:null);
if(m.x>n.x)n.x=m.x;if(m.y>n.y)n.y=m.y}return n};fo.Af=function(j,n){var Q=0,a=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(j)!=-1){var B=n.Rds?n.Rds.v.val:1;
Q=a=B*2.57}if(j=="MtnB")Q=a=n.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,Frgm,Flam".split(",").indexOf(j)!=-1){Q=a=1e4}if(j=="GEfc")return c3.Af(n);
return new eE(Math.ceil(Q),Math.ceil(a))};fo.Wu=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
fo.m4=function(j,n){var Q={n:n.Z4>>16,i:n.Z4>>8&255,b:n.Z4&255},a={n:n.g7>>16,i:n.g7>>8&255,b:n.g7&255},B=fo.names[j];
if(B==null)B=k8.names[j];var m=j;for(var R in k8.pM)if(k8.pM[R]==j)m=R;var q={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:i4.get(B)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:K.Gp.Db(Q)},BckC:{t:"Objc",v:K.Gp.Db(a)},filterID:{t:"long",v:m.length==4?L.adP(m):777}}},U=fo.cL(j);
if(U)q.v.Fltr={t:"Objc",v:U};return q};fo.xx=function(j,n,Q,a){var B=Date.now(),m=gz.oB&&Math.max(a.q,a._)<=gz.Pf.getParameter(gz.Pf.MAX_TEXTURE_SIZE);
if(j<1){var R=Math.round(j*5),q=[1,2,1,2,[40,26,13,6,4,2][R],2,1,2,1];q=K.GY.c4(q);if(!m){K.hj(Q);var U=Q.slice(0);
K.GY.ie(U,Q,a.q,a._,q,255);K.wc(Q)}else{var l=a.q,b=a._,D=gz.cy(0,l,b);D.set(Q);var c=gz.cy(1,l,b),_=new Float32Array([1/l,1/b]);
gz.Rf(c);gz.filter.df({w:gz.filter.af5,CT:_,aiV:new Float32Array(q)},D.K8);c.get(Q)}}else{var p=n==K.KX.FE?0:n==K.KX.x$?1:2,X=[];
while(p!=2&&j*[1,2.4][p]>20&&X.length<4){var g=K.jk(Q,a);X.push(Q,a);Q=g.jB;a=g.s;j/=2}var l=a.q,b=a._;
if(!m||p==2&&j>15){K.hj(Q);n(Q,a,j);K.wc(Q)}else{var D=gz.cy(0,l,b);D.set(Q);var c=gz.cy(1,l,b),_=new Float32Array([1/l,1/b]);
if(p==0){var F=1;while(F<j)F<<=1;gz.Rf(c);gz.filter.df({w:gz.filter.YL,CT:_,Ah:j,Ls:[0,0,F]},D.K8);gz.Rf(D);
gz.filter.df({w:gz.filter.YL,CT:_,Ah:j,Ls:[0,1,F]},c.K8);D.get(Q)}else if(p==1){var k=3,I=K.KX.zk(j,k);
for(var v=0;v<k;v++){var e=I[v]>>>1,H=1;while(H<e)H<<=1;if(e==0)continue;gz.Rf(c);gz.filter.df({w:gz.filter.YL,CT:_,Ah:e,Ls:[0,0,H]},D.K8);
gz.Rf(D);gz.filter.df({w:gz.filter.YL,CT:_,Ah:e,Ls:[0,1,H]},c.K8)}D.get(Q)}else{var F=1;while(F<j)F<<=1;
gz.Rf(c);gz.filter.df({w:gz.filter.YL,CT:_,Ah:j,Ls:[0,0,F]},D.K8);c.get(Q)}}var A=Date.now();while(X.length!=0){var Z=X.pop(),J=X.pop();
K.scale.aks(Q,a.q,a._,J,Z.q,Z._);Q=J;a=Z}}};fo.a2U=function(j,n,Q,a){for(var v=0;v<j.length;v++){Q[v]=j[v]*(1/255);
a[v]=0}FFT.fft2d(Q,a);var B=n>>>1,m=16384,R=128,U=100;while(R<n){R<<=1;m<<=2}var q=255/Math.log(m),l=-100;
for(var b=0;b<n;b++)for(var D=0;D<B;D++){var c=n+B+b&n-1,_=Q[c*n+D],p=a[c*n+D],X=Math.sqrt(_*_+p*p),g=Math.atan2(p,_);
j[b*n+D]=Math.round(q*Math.log(X+1));j[b*n+B+D]=Math.round((Math.PI+g)*(255*.5/Math.PI))}};fo.abM=function(j,n,Q,a){Q.fill(0);
a.fill(0);var B=n>>>1,m=16384,R=128;while(R<n){R<<=1;m<<=2}var q=255/Math.log(m),U=[],l=[],b=[];for(var v=0;
v<256;v++){U[v]=Math.exp(v/q)-1;var D=v*(2*Math.PI/255)-Math.PI;l[v]=Math.sin(D);b[v]=Math.cos(D)}for(var c=0;
c<n;c++)for(var _=0;_<B;_++){var p=n+B+c&n-1,X=U[j[c*n+_]],D=j[c*n+B+_],g=X*b[D],F=X*l[D];Q[p*n+_]=g;
a[p*n+_]=F;if(_!=0){var k=p==0?p*n+n-_:(n-p)*n+(n-_);Q[k]=g;a[k]=-F}}FFT.ifft2d(Q,a);for(var v=0;v<j.length;
v++){j[v]=Math.max(0,Math.min(255,~~(.5+255*Q[v])))}};fo.a6M=new ArrayBuffer(512);fo.a5j=function(j){var n=fo.a6M,Q=j.length;
if(n.byteLength<Q)fo.a6M=n=new ArrayBuffer(Q);var a=new Uint8Array(n);for(var v=0;v<Q;v+=4){a[v]=j[v];
a[v+1]=j[v+1];a[v+2]=j[v+2];a[v+3]=j[v+3]}return n};fo.cN=function(j,n,Q,a,B,m,R){if(m==null)m={buffer:K.U(n.buffer.length),s:n.s.O()};
m.buffer.set(n.buffer);var q=Q&&Q.RndS?Q.RndS.v>>>1:0;if(j=="GEfc"){var U=[];if(Q.GEfs){var l=Q.GEfs.v;
for(var v=0;v<l.length;v++){var b=l[v].v;if(b.GELv&&b.GELv.v==!1)continue;U.push(b)}}else U=[Q];for(var v=0;
v<U.length;v++){var D;if(v==0)c3.cN(j,n,U[v],a,B,m,R);else{if(D==null)D={buffer:K.U(n.buffer.length),s:n.s.O()};
K.D1(m.buffer,D.buffer);c3.cN(j,D,U[v],a,B,m,R)}}}if(j=="Dila"){var c=Q.Crop.v.val,_=Q.Rds.v.val+c;_=_*_;
if(_==0)return;var p=n.s,X=p.q,g=p._,F=X*g,k=n.buffer,D=m.buffer,I=K.U(F);K._W(k,I,3);if(c!=0){var e=p.O();
e.VT(1,1);var H=K.U(e.$());K.Gc(I,p,H,e);K.m2(H);K.style.stroke(H,H,e,c);K.m2(H);K.Gc(H,e,I,p)}var A=K.style.Nd(I,X,g);
D.fill(0);for(var Z=0;Z<g;Z++)for(var J=0;J<X;J++){var v=Z*X+J,s=v<<1,E=v<<2,z=A[s],h=A[s+1];if(z*z+h*h<_){var d=(Z+h)*X+(J+z)<<2;
D[E]=k[d];D[E+1]=k[d+1];D[E+2]=k[d+2];D[E+3]=255}}}if(j=="Adobe Camera Raw Filter"){var p=n.s,X=p.q,g=p._,Y=K.R8(n.buffer,32),C=K.u(Q);
delete C.Upri;delete C.GuUr;dN(Y,X,g,Y,C);K.R8(Y,8,m.buffer)}if(j=="Fct "){var p=n.s,X=p.q,g=p._,F=X*g,i=F*4;
function M(e$){var cl=e$.slice(0);for(var Z=0;Z<3;Z++)for(var J=0;J<3;J++)cl[Z*3+J]=e$[(2-J)*3+Z];return cl}function W(kb,et,fu,iK){var bb=0;
for(var Z=0;Z<3;Z++)for(var J=0;J<3;J++)bb+=et[Z*3+J]*kb[(iK-1+Z)*X+fu-1+J];return bb}var $=[8,5,2,5,2,-1,2,-1,-4],P=[5,5,5,2,2,2,-1,-1,-1],O=[2,2,2,2,2,2,2,2,2],G=[];
G.push($);for(var v=0;v<3;v++)G.push(M(G[G.length-1]));G.push(P);for(var v=0;v<3;v++)G.push(M(G[G.length-1]));
G.push(O);for(var v=0;v<9;v++)G[v]=K.GY.c4(G[v]);var y=[-X-1,-X,-X+1,-1,0,1,X-1,X,X+1],r=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],u=K.U(F),S=new Float32Array(F),w=K.U(F);
for(var dj=0;dj<3;dj++){K._W(n.buffer,u,dj);for(var o=0;o<1;o++){for(var Z=1;Z<g-1;Z++)for(var J=1;J<X-1;
J++){var T=Z*X+J,i6=u[T];S[T]=1e9;for(var v=0;v<9;v++){var bH=W(u,G[v],J,Z),cg=(bH-i6)*(bH-i6);if(cg<S[T])S[T]=cg}}for(var Z=1;
Z<g-1;Z++)for(var J=1;J<X-1;J++){var bu=0,hH=1e9;for(var v=0;v<9;v++){var dK=Z*X+J+y[v],cg=S[dK];if(cg<hH){hH=cg;
bu=u[dK]}}w[Z*X+J]=bu}u.set(w)}K.wj(w,m.buffer,dj)}}if(j=="adaptCorrect"){var p=n.s,X=p.q,g=p._,F=X*g,i=F*4,d8=Q.sdwM.v,d1=d8.Amnt.v.val/100,gH=d8.Wdth.v.val/100,kh=d8.Rds.v,ay=Q.hglM.v,dO=ay.Amnt.v.val/100,fy=ay.Wdth.v.val/100,bg=ay.Rds.v;
K.af$.Yk(n.buffer,m.buffer,X,g,d1,gH,kh,dO,fy,bg,Q.ClrC.v/100,Q.Cntr.v/100)}if(j=="denoise"){var p=n.s,X=p.q,g=p._,f4=Q.channelDenoise.v[0].v;
K.ah9.azp(n.buffer,X,g,m.buffer,f4.Amnt.v/10,f4.EdgF.v/100)}if(j=="HsbP"){var jb=Q.Inpt.v.ClrS,jT=Q.Otpt.v.ClrS,p=n.s,X=p.q,g=p._,F=X*g;
for(var v=0;v<F;v++){var E=v*4,o=n.buffer[E]*(1/255),jy=n.buffer[E+1]*(1/255),cl=n.buffer[E+2]*(1/255);
if(jb=="RGBC"){}else if(jb=="HSLC"){var w=K.BK(o,jy,cl);o=w.n;jy=w.i;cl=w.b}else if(jb=="HSBl"){var w=K.ahj(o,jy,cl);
o=w.n;jy=w.i;cl=w.b}var hu=o,aA=jy,ko=cl;if(jT=="RGBC"){}else if(jT=="HSLC"){var w=K.Wd(o,jy,cl);hu=w.WC;
aA=w.bD;ko=w.IT}else if(jT=="HSBl"){var w=K.alH(o,jy,cl);hu=w.WC;aA=w.bD;ko=w.b}m.buffer[E]=~~(255*hu);
m.buffer[E+1]=~~(255*aA);m.buffer[E+2]=~~(255*ko)}}if(j=="Fbrs"){var p=n.s,X=p.q,g=p._;K.t.a6Z(n.buffer,X,g,m.buffer,[Q.Vrnc.v,Q.Strg.v,q]);
var ec=K.U(X*g);K._W(m.buffer,ec,0);K.m2(ec);c3.f_(ec,m.buffer,a,B)}if(j=="Frgm"){var p=n.s,X=p.q,g=p._,kK=n.buffer.slice(0);
K.hj(kK);K.t.aDP(kK,X,g,m.buffer);K.wc(m.buffer)}if(j=="Flam"){var p=n.s,X=p.q,g=p._,cM=Q.Clr.v,gG={w:Q.Type.v+1,length:Q.Leng.v,ahE:Q.RndL.v,H8:Q.Widt.v,aAy:Q.Angl.v,ak0:Q.Intr.v,ac8:Q.Adpt.v,color:{n:cM.Rd.v,i:cM.Grn.v,b:cM.Bl.v},bI:Q.Qual.v+1,IX:Q.Turb.v,c_:Q.Jag.v,wT:Q.Opct.v.val,XP:Q.Lins.v,aob:Q.Botm.v,style:Q.Styl.v+1,shape:Q.Shap.v+1,ajS:Q.RnSh.v,a1I:Q.Arng.v,a1W:!1};
if(R[3]==null)return;var c2=R[3],a1=c2[0],cs=c2[1],f7=a1[cs.length!=0?cs[0]:0];if(f7==null){alert("Make a path first");
return}var j7=f7.add.vmsk.z,dz=K.R.$L(j7),iA=[];for(var d=0;d<dz;d++){var kk=K.R.p$(j7,d),fA=j7[kk];
if(fA.length<2)continue;var g5=[];iA.push(g5);var h$=fA.length-(fA.w==3?1:0);for(var T=0;T<h$;T++){var hL=j7[kk+1+T],ha=T==fA.length-1?j7[kk+1]:j7[kk+1+T+1],jl=hL.V,fI=hL.XH,$=ha.vK,aE=ha.V,es=Math.round(eE.X_(jl,aE)/5);
for(var kN=0;kN<es;kN++){var fV=kN/es,jU=1-fV,J=jU*jU*jU*jl.x+3*jU*jU*fV*fI.x+3*jU*fV*fV*$.x+fV*fV*fV*aE.x,Z=jU*jU*jU*jl.y+3*jU*jU*fV*fI.y+3*jU*fV*fV*$.y+fV*fV*fV*aE.y;
g5.push(J,Z)}}}var c$=[iA,gG],iq=Date.now(),cz=hE(c$);f6(n.buffer,X,g,m.buffer,cz,c$)}if(j=="Dfs "){var p=n.s,X=p.q,g=p._,h0=["Nrml","DrkO","LghO","anisotropic"].indexOf(Q.Md.v.DfsM);
if(h0<3)K.t.aFC(n.buffer,X,g,m.buffer,[h0]);else{var c$=[1.4,1.6,1,4,!1,2,[0,0,.001]],p=n.s.O();p.x=p.y=0;
K.H5.filter(n.buffer,p,m.buffer,c$)}}if(j=="TrcC"){var p=n.s,X=p.q,fl=X<<2,g=p._,co=Q.Lvl.v,cC=Q.Edg.v.CntE=="Lwr",gr=n.buffer,eK=m.buffer;
K.b7(eK,16777215);function kM(bS,j5){bn(bS,j5);bn(bS+1,j5+1);bn(bS+2,j5+2)}function bM(bS,j5){fT(bS,j5);
fT(bS+1,j5+1);fT(bS+2,j5+2)}function bn(bS,j5){var hu=gr[bS],aA=gr[j5];if(hu>=co&&aA<co)eK[bS]=0;if(hu<co&&aA>=co)eK[j5]=0}function fT(bS,j5){var hu=gr[bS],aA=gr[j5];
if(hu>co&&aA<=co)eK[j5]=0;if(hu<=co&&aA>co)eK[bS]=0}if(cC)for(var Z=1;Z<g;Z++)for(var J=1;J<X;J++){var E=Z*X+J<<2;
kM(E,E-4);kM(E,E-fl)}else for(var Z=1;Z<g;Z++)for(var J=1;J<X;J++){var E=Z*X+J<<2;bM(E,E-4);bM(E,E-fl)}}if(j=="Embs"){var p=n.s,X=p.q,g=p._,ck=-Q.Angl.v*Math.PI/180,ce=Q.Hght.v,kn=Q.Amnt.v/100;
ce/=2;var z=Math.cos(ck)*ce,h=Math.sin(ck)*ce,gr=n.buffer,eK=m.buffer;eK.fill(0);var fc=new Uint32Array(gr.buffer),w=new Uint8Array(4),cv=new Uint32Array(w.buffer);
for(var Z=0;Z<g;Z++)for(var J=0;J<X;J++){var gM=0,hF=0,fg=0;if(0<=J+z&&J+z<X&&0<=Z+h&&Z+h<g){K.D.Fu(J+z+.5,Z+h+.5,fc,X,g,cv,0,0);
gM+=w[0]-128;hF+=w[1]-128;fg+=w[2]-128}if(0<=J-z&&J-z<X&&0<=Z-h&&Z-h<g){K.D.Fu(J-z+.5,Z-h+.5,fc,X,g,cv,0,0);
gM-=w[0]-128;hF-=w[1]-128;fg-=w[2]-128}var E=Z*X+J<<2;eK[E]=Math.max(0,Math.min(255,gM*kn+128));eK[E+1]=Math.max(0,Math.min(255,hF*kn+128));
eK[E+2]=Math.max(0,Math.min(255,fg*kn+128));eK[E+3]=gr[E+3]}}if(j=="ShrE"){var p=n.s,X=p.q,g=p._;K.t.akn(n.buffer,X,g,m.buffer)}if(j=="Dspc"){var p=n.s,X=p.q,g=p._;
K.t.agl(n.buffer,X,g,m.buffer)}if(j=="Slrz"){var fP=m.buffer,cu=128;for(var v=0;v<fP.length;v+=4){if(fP[v]>cu)fP[v]=255-fP[v];
if(fP[v+1]>cu)fP[v+1]=255-fP[v+1];if(fP[v+2]>cu)fP[v+2]=255-fP[v+2]}}if(j=="Wnd "){var p=n.s,X=p.q,g=p._,h8=["Wnd","Blst","Stgr"],ia=Q.WndM.v.WndM;
K.t.Z8(n.buffer,X,g,m.buffer,[h8.indexOf(ia),Q.Drct.v.Drct!="Left"])}if(j=="Bokh"){var p=n.s,X=p.q,g=p._,F=X*g,i=F*4,jd=n.buffer.slice(0),bL=Q.BkDi.v.BtDi,jq=Q.BkDc,dJ=Q.BkDs.v,ju=Q.BkDp.v/255;
if(bL=="BeIn")ju=0;var cL=57*(.3+.7*((X+g)/2)/1750)*(Q.BkIb.v/100)*(1+.2*Math.pow(ju,.1)),dv=parseInt(Q.BkIs.v.BtIs.slice(3)),k7=-Q.BkIr.v*Math.PI/180,ai=[];
for(var v=0;v<8;v++){var g_=k7+v*(Math.PI*2/dv),eL=k7+(v+1)*(Math.PI*2/dv),e5=Math.cos(g_),dP=Math.sin(g_),ei=Math.cos(eL),aQ=Math.sin(eL),ky=[0,0,0];
K.uS.f1([[e5,dP,1,0],[ei,aQ,1,0],[1,1,1,1]],ky);if(ky[2]>0){ky[0]*=-1;ky[1]*=-1;ky[2]*=-1}ai.push(ky[0],ky[1],ky[2],0)}if(bL=="BeIn"){K.b7(jd,0,1);
ju=1}else if(bL=="BeIt"&&jq.v.BtDc=="BeCt"){}else{var i9;if(bL=="BeIt"&&jq.v.BtDc=="BeCm")i9=R[1];else if(bL=="BeIa")i9=R[2][jq.v];
if(i9==null){K.b7(jd,0,1)}else{var u;if(i9.s.N_(p))u=i9.G;else u=i9.OC(p);K.wj(u,jd,3)}}if(dJ)for(var v=0;
v<i;v+=4)jd[v+3]=255-jd[v+3];if(gz.oB){var a8=jd,ej=X,it=g,fJ=1,hk=(Q.BkSb.v==0||Q.BkSt.v==255)&&bL=="BeIn";
if(!hk){var eI=0;for(var v=0;v<i;v+=4)eI+=Math.abs(ju-jd[v+3]*(1/255));eI=eI/F*cL;var kI=3.14*eI*eI*X*g/3e6;
if(kI>2e3){alert("too large radius");return}}while(hk&&3*(cL/fJ)*(cL/fJ)*X*g>500*2e3*2e3){var dY=K.aHO(jd,new b4(0,0,ej,it));
jd=dY.jB;ej=dY.s.q;it=dY.s._;fJ*=2}var iq=Date.now(),k=gz.cy(0,ej,it);k.set(jd);var ds=gz.cy(1,X,g);
gz.Rf(ds);gz.filter.df({w:gz.filter.alU,CT:new Float32Array([1/ej,1/it]),aCY:ju,pV:cL/fJ,aEZ:new Float32Array([Q.BkSb.v/100,Q.BkSt.v/255]),a2l:new Float32Array([Q.BkNa.v/100,Q.BkNt.v.BtNt=="BeNu"?0:1,Q.BkNm.v?1:0]),ayY:new Float32Array(ai.slice(0,16)),a1o:new Float32Array(ai.slice(16))},k.K8);
ds.get(m.buffer);var bC=m.buffer;for(var v=0;v<i;v+=4)bC[v+3]=n.buffer[v+3]}}if(j=="blurbTransform"){K.o7.apply(Q,n,m)}if(j=="rigidTransform"){var iq=Date.now(),a_=fo.a5j,k=n.buffer.slice(0),im=0,jQ=0;
K.hj(k);var X=n.s.q,g=n.s._,dM=Q.puppetShapeList.v,fb=[],jI=[],hj=[],gR=[];for(var T=0;T<dM.length;T++){var cS=dM[T].v,s=im*2,gu=jQ*3,bA=cS.originalVertexArray.v.length>>>2,ad=cS.indexArray.v.length>>>2,cp=new Float32Array(a_(cS.originalVertexArray.v));
for(var v=0;v<bA;v++)fb[s+v]=cp[v];var aK=new Float32Array(a_(cS.deformedVertexArray.v));for(var v=0;
v<bA;v++)jI[s+v]=aK[v];var f0=new Uint32Array(a_(cS.indexArray.v));for(var v=0;v<ad;v++)hj[gu+v]=im+f0[v];
var j_=[],e8=[],jO=cS.PnDp.v;for(var v=0;v<jO.length;v++){j_.push(cS.pinVertexIndices.v[v].v);e8.push(jO[v].v)}var jH=K.m3.awK(cp,f0,j_,e8);
for(var v=0;v<jH.length;v++)gR[im+v]=jH[v];im+=bA>>>1;jQ+=~~(ad/3)}var h1=new j8(1,0,0,1,-n.s.x,-n.s.y);
K.c.C(fb,h1,fb);K.c.C(jI,h1,jI);m.buffer.fill(0);K.m3.FL(k,X,g,m.buffer,X,g,fb,jI,gR,hj);K.wc(m.buffer)}if(j=="lightFilterGradient"){function bP(jl){var et=1/Math.sqrt(jl[0]*jl[0]+jl[1]*jl[1]+jl[2]*jl[2]);
jl[0]*=et;jl[1]*=et;jl[2]*=et}var X=n.s.q,g=n.s._,F=X*g,iq=Date.now(),jS=K.U(F),aA=.3,ko=.7;K.AS(m.buffer,jS);
var gI=K.U(F);K.KX.mg(jS,gI,m.s,16);var b9=K.U(F);K.KX.mg(jS,b9,m.s,8);var dD=jS,bU=new Float32Array(F),hr=Q.Dtl.v,a7=hr[2].v,bd=hr[1].v,iL=hr[0].v,bb=Q.Scl.v*40*Q.textureScale.v/(a7+bd+iL);
a7*=bb;bd*=bb;iL*=bb;for(var v=0;v<F;v++){var gA=gI[v]*(1/255),kd=b9[v]*(1/255),av=dD[v]*(1/255);av=av*av;
bU[v]=a7*gA+bd*kd+iL*av}var bs=Q.blur.v;if(bs!=0){K.KX.qA(bU,m.s,bs)}var bT=X-1,hP=g-1;for(var Z=0;Z<g;
Z++)for(var J=0;J<X;J++){var v=Z*X+J,E=v*4,gs=bU[v],z=aA*(bU[v+(J==bT?0:1)]-gs)+ko*(gs-bU[v-(J==0?0:1)]),h=aA*(bU[v+(Z==hP?0:X)]-gs)+ko*(gs-bU[v-(Z==0?0:X)]),jl=[1,0,z],fI=[0,1,h];
bP(jl);bP(fI);var eL=jl[0],c0=jl[2],k6=fI[1],dF=fI[2],cX=-c0*k6,iu=-eL*dF,cH=eL*k6;m.buffer[E]=~~(127.5+cX*127.5);
m.buffer[E+1]=~~(127.5+iu*127.5);m.buffer[E+2]=~~(127.5+cH*127.5)}}if(j=="defr"){var X=n.s.q,g=n.s._;
fa(n.buffer,X,g,m.buffer)}if(j=="dDFT"||j=="iDFT"){function jG(dv){if(dv==0)return 1;dv--;dv|=dv>>1;
dv|=dv>>2;dv|=dv>>4;dv|=dv>>8;dv|=dv>>16;return dv+1}var X=n.s.q,g=n.s._,jW=jG(Math.max(X,g)),hm=jW>>>1,fk=new b4(0,0,jW,jW),jC=new b4(0,0,X,g);
jC.y=jW-g>>>1;var iS=X>>>1,kT=new b4(0,jC.y,iS,g),iP=new K.aL(X*g);K.yD(n.buffer,iP);var gp=new Float64Array(jW*jW),gZ=new Float64Array(jW*jW),u=K.U(jW*jW);
FFT.init(jW);var dE=[iP.n,iP.i,iP.b];for(var v=0;v<3;v++){var kJ=dE[v];u.fill(0);if(j=="dDFT"){K.Gc(kJ,jC,u,fk);
fo.a2U(u,jW,gp,gZ);K.Gc(u,fk,kJ,jC,kT);kT.x+=iS;fk.x-=hm-iS;K.Gc(u,fk,kJ,jC,kT);kT.x-=iS;fk.x+=hm-iS}else{K.Gc(kJ,jC,u,fk,kT);
kT.x+=hm;jC.x+=hm-iS;K.Gc(kJ,jC,u,fk,kT);kT.x-=hm;jC.x-=hm-iS;fo.abM(u,jW,gp,gZ);K.Gc(u,fk,kJ,jC)}}K.Y1(iP,m.buffer)}if(j=="Avrg"){var hb=0,ed=0,eq=0,ir=0,gW=1;
for(var v=0;v<n.buffer.length;v+=4){var I=n.buffer[v+3];eq+=n.buffer[v]*I;ed+=n.buffer[v+1]*I;hb+=n.buffer[v+2]*I;
ir+=I}var gw=1/ir;hb=Math.round(gW*(hb*gw)+(1-gW)*255);ed=Math.round(gW*(ed*gw)+(1-gW)*255);eq=Math.round(gW*(eq*gw)+(1-gW)*255);
K.b7(m.buffer,hb<<16|ed<<8|eq)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(j)!=-1){var aX=Q.Rds?Q.Rds.v.val:1,c9=j=="boxblur"?K.KX.FE:K.KX.x$;
fo.xx(aX,c9,m.buffer,m.s);if(j=="UnsM"||j=="smartSharpen"){var kn=(Q.Amnt?Q.Amnt.v.val:200)/100,bt=0;
if(j=="UnsM")bt=Q.Thsh.v;else kn*=.75;for(var v=0;v<n.buffer.length;v++){if((v&3)==3){m.buffer[v]=n.buffer[v];
continue}var i6=n.buffer[v],bH=m.buffer[v],ac=kn*(i6-bH);if(ac>0)ac=Math.max(0,ac-bt);else ac=Math.min(0,ac+bt);
m.buffer[v]=Math.max(0,Math.min(255,i6+ac))}}if(j=="HghP")for(var v=0;v<n.buffer.length;v++){if((v&3)==3){m.buffer[v]=n.buffer[v];
continue}var i6=n.buffer[v],bH=m.buffer[v];m.buffer[v]=Math.max(0,Math.min(255,128+i6-bH))}}if(j=="AdNs"){var fp=new Uint8ClampedArray(m.buffer.buffer),ao=255*Q.Nose.v.val/100,iY;
if(Q.Dstr.v.Dstr=="Gsn")iY=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else iY=function(){return Math.random()*2-1};for(var v=0;v<fp.length;v+=4){var o=fp[v],jy=fp[v+1],cl=fp[v+2],kS,kR,am;
if(Q.Mnch.v){kS=kR=am=iY()}else{kS=iY();kR=iY();am=iY()}o+=ao*kS;jy+=ao*kR;cl+=ao*am;fp[v]=o;fp[v+1]=jy;
fp[v+2]=cl}}var iq=Date.now();if(j=="Mdn "||j=="DstS"||j=="Mxm "||j=="Mnm "||j=="surfaceBlur"){var o=0,eG=Q.Thsh,cS=0;
if(eG)eG=eG.v;else eG=0;if(j=="Mdn "||j=="Mxm "||j=="Mnm "||j=="surfaceBlur")o=Q.Rds.v.val;else o=Q.Rds.v;
var gh=10*Math.ceil(o/10),X=n.s.q,g=n.s._,aM=["Mnm ","Mxm ","surfaceBlur"].indexOf(j),bK=(cS==0?1:.75)*[.73,.73,1.2][aM]*(X*g*Math.pow(gh*gh,1.05))/6022387,fG=.6*(X*g*Math.pow(o,1/2.6))/6500;
if(j=="Mxm "||j=="Mnm ")fG=X*g/13e3;var aH=Q.preserveShape;if(aH&&aH.v.preserveShape=="Rndn")cS=1;if(gz.oB&&aM!=-1&&(bK<fG||cS==1)&&bK<500){var k=gz.cy(0,X,g);
k.set(n.buffer);var D=gz.cy(1,X,g);gz.Rf(D);gz.filter.df({w:gz.filter.atr,CT:new Float32Array([1/X,1/g]),pV:o,ae4:eG/255,Ls:[cS,aM,gh]},k.K8);
D.get(m.buffer)}else if(j=="Mxm "||j=="Mnm "){var X=n.s.q,g=n.s._;K.ro.a9X(n.buffer,m.buffer,X,g,1+Math.floor(Q.Rds.v.val)*2,j=="Mxm ")}else{o=Math.round(o);
K.fm.tN=.5;K.fm.uj=eG;var c9=j=="surfaceBlur"?1:0;K.fm.ao(n.buffer,m.buffer,X,g,o,c9);if(j=="DstS")for(var v=0;
v<X*g*4;v++){var bq=Math.abs(n.buffer[v]-m.buffer[v]);if(bq<=eG)m.buffer[v]=n.buffer[v]}}}if(j=="ClrH"){var kT=n.s.O(),hR=0;
kT.x=kT.y=0;var o=Q.Rds.v;o=o*Math.sqrt(2);var X=kT.q,g=kT._,jK=K.uq(X,g),fX=new Float32Array(256);for(var v=0;
v<256;v++){var cM=v/255,aX=Math.sqrt(cM*(1/Math.PI));if(aX>.5)aX=.5+Math.pow((aX-.5)/(.564-.5),1.35)*.2;
fX[v]=o*aX}var jZ=Math.floor(2*X/o),iC=Math.floor(2*g/o),he=10-(o-54*Math.sqrt(2))*1.5,gE=[n.buffer,kT];
K.xu(gE);while(gE[hR*2+1].q>1.5*X/o)hR++;var gM=gE[hR*2+1],fg=gE[hR*2],d5=K.U(gM.$()),fJ=1/(1<<hR),ej=gM.q,it=gM._,u=K.U(X*g);
for(var kb=0;kb<3;kb++){K._W(fg,d5,kb);K.m2(d5);var ck=Math.PI*Q["Ang"+(kb+1)].v/180,aa=new j8;aa.translate(-X/2,-g/2);
aa.rotate(-ck);aa.translate(X/2,g/2);jK.clearRect(0,0,X,g);for(var Z=-(iC>>>2);Z<iC;Z++)for(var J=-(jZ>>>2);
J<jZ;J++){var h6=aa.JZ(new eE((J+.5)*o-he,(Z+.5)*o-he)),iE=Math.max(0,Math.min(h6.x*fJ,ej-.51)),bf=Math.max(0,Math.min(h6.y*fJ,it-.51)),F=~~K.D.nj(iE,bf,d5,ej,it);
jK.beginPath();jK.arc(h6.x,h6.y,fX[F],0,2*Math.PI);jK.fill()}var bi=jK.getImageData(0,0,X,g);K._W(bi.data,u,3);
K.m2(u);K.wj(u,m.buffer,kb)}}if(j=="Crst"||j=="Pntl"){var X=n.s.q,g=n.s._,c9=j=="Crst"?K.k1.aEW:K.k1.arv;
c9(n.buffer,X,g,m.buffer,Q.ClSz.v,[Math.round(B.n),Math.round(B.i),Math.round(B.b)])}if(j=="Mztn"){var X=n.s.q,g=n.s._,F=X*g,iP=new K.aL(F),cF=[iP.n,iP.i,iP.b];
K.yD(n.buffer,iP);var ia=Q.MztT.v.MztT,jM={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ia],iq=Date.now(),iT=[];
for(var v=0;v<F;v++){iT[v]=Math.random()}var F=X*g,aR=Math.round(F*jM[0]),cd=F-X-1;for(var v=0;v<aR;
v++){var hT=Math.random(),cP=1;if(hT<.5){cP=X;hT*=2}else hT=2*(hT-.5);var bS=Math.floor(hT*cd),j5=bS+cP;
iT[bS]=iT[j5]}var g2=Math.round(X*jM[1]);for(var Z=0;Z<g;Z++)for(var v=0;v<g2;v++){var hT=K.L.E7(Z*F+v),bS=Z*X+Math.floor(hT*(X-1));
iT[bS]=iT[bS+1]}var cq=new Float64Array(256);for(var v=0;v<256;v++){var aD=v/255,ez=2*(aD<.5?aD:1-aD);
ez=jM[2]+Math.pow(ez,jM[3])*(1-jM[2]);aD=aD<.5?ez*.5:1-ez*.5;cq[v]=aD}for(var dj=0;dj<3;dj++){var u=cF[dj];
for(var Z=0;Z<g;Z++){for(var J=0;J<X;J++){var v=Z*X+J,dV=u[v],aD=cq[dV],hT=iT[v];u[v]=hT>aD?0:255}}}K.Y1(iP,m.buffer)}if(j=="Msc "){var dz=Q.ClSz.v.val,X=n.s.q,g=n.s._,jA=Math.ceil(X/dz),eV=Math.ceil(g/dz),eA=K.U(jA*eV*4);
K.scale.J4(n.buffer,X,g,eA,jA,eV,1/dz);K.scale.J4(eA,jA,eV,m.buffer,X,g,dz)}if(j=="Clds"||j=="DfrC"){var X=m.s.q,g=m.s._,F=X*g,eS=K.U(F);
if(j=="Clds")K.G5(m.buffer,4278190080);var fD=K.U(256*4);for(var v=0;v<256;v++){var E=v<<2,e$=v/255,f0=1-e$;
fD[E]=Math.round(e$*a.n+f0*B.n);fD[E+1]=Math.round(e$*a.i+f0*B.i);fD[E+2]=Math.round(e$*a.b+f0*B.b)}K.t.alr(n.buffer,X,g,eS);
var gU=m.buffer;for(var v=0;v<F;v++){var E=v<<2,dj=eS[v]<<2,o=fD[dj],jy=fD[dj+1],cl=fD[dj+2];if(j=="Clds"){gU[E]=o;
gU[E+1]=jy;gU[E+2]=cl}else{gU[E]=Math.abs(gU[4*v]-o);gU[E+1]=Math.abs(gU[4*v+1]-jy);gU[E+2]=Math.abs(gU[4*v+2]-cl)}}}if(j=="LnsF"){var X=n.s.q,g=n.s._,ia=["Zm","Nkn","Nkn1","PnVs"].indexOf(Q.Lns.v.Lns),e0=Q.FlrC.v,hJ=[Math.min(ia,2),Q.Brgh.v/100,e0.Hrzn.v,e0.Vrtc.v],iq=Date.now();
K.ara(n.buffer,X,g,m.buffer,hJ)}var bh=["Blr ","BlrM","Shrp","ShrM"].indexOf(j);if(bh!=-1){var ge=bh>1,X=n.s.q,g=n.s._,j9=K.GY.Mz[bh],iI=n.buffer.slice(0);
if(!ge)K.hj(iI);K.GY.ie(iI,m.buffer,X,g,j9,255,!1,ge);if(!ge)K.wc(m.buffer)}if(j=="MtnB"){var eP=-Q.Angl.v*Math.PI/180,ct=Q.Dstn.v.val/2,iq=Date.now(),X=n.s.q,g=n.s._,p=n.s.O();
p.x=p.y=0;if(gz.oB){var iq=Date.now(),c1=m.buffer;c1.set(n.buffer);K.hj(c1);var jv=gz.cy(0,X,g);jv.set(c1);
var gr=K.U(4);gr[0]=Math.round(128+127*Math.cos(eP));gr[1]=Math.round(128+127*Math.sin(eP));K.G5(c1,new Uint32Array(gr.buffer)[0]);
var gb=gz.cy(1,X,g);gb.set(c1);gz.Rf(jv,p);jv.A3(p);gz.filter.df({w:gz.filter.oo,SQ:gb.K8,CT:new Float32Array([1/X,1/g]),R5:ct/2,je:1},jv.C8);
jv.get(c1);K.wc(c1)}else{var h1=new j8;h1.rotate(eP);var w=N.IP.sO([n.buffer,n.s],h1,!1,null,!0);fo.xx(ct,K.KX.arZ,w.buffer,w.s);
h1.m2();w=N.IP.sO([w.buffer,w.s],h1,!1,m.buffer.buffer,!0,m.s)}console.log(Date.now()-iq)}if(j=="RdlB"){var X=n.s.q,g=n.s._,kn=Q.Amnt.v,aw=Q.BlrM.v.BlrM=="Zm",kb=Q.Cntr.v,fu=kb.Hrzn.v,iK=kb.Vrtc.v,z=Math.max(fu,1-fu)*X,h=Math.max(iK,1-iK)*g,aX=Math.sqrt(z*z+h*h),iN=2*Math.PI*aX*1.5,bX=Math.round(iN),bN=Math.round(aX),kT=new b4(0,0,bX,bN),bc=K.U(bX*bN*4),bo=aw?4:1,ib=aw?.6:8*((X+g)/2)/1400,eJ=.1,fJ=1,jZ=1;
K.D.aCU(n.buffer,X,g,bc,bX,bN,fu,iK,bo,eJ,fJ,jZ);var jj=aw?K.U(bX*bN*4):null;if(aw){K.D.UI(bc,jj,bX,bN);
var fV=jj;jj=bc;bc=fV;kT.q=bN;kT._=bX}fo.xx(ib*kn,K.KX.arZ,bc,kT);if(aw){K.D.UI(bc,jj,bN,bX);var fV=jj;
jj=bc;bc=fV;kT.q=bX;kT._=bN}K.D.aut(bc,bX,bN,m.buffer,X,g,fu,iK,bo,eJ,fJ,jZ)}if(j=="Plr "){var X=n.s.q,g=n.s._;
if(Q.Cnvr.v.Cnvr=="RctP")K.D.aut(n.buffer,X,g,m.buffer,X,g,.5,.5,1,0,2,X/g);else K.D.aCU(n.buffer,X,g,m.buffer,X,g,.5,.5,1,0,2,X/g)}if(j=="FndE"){var X=n.s.q,g=n.s._;
K.GY.a8E(n.buffer,m.buffer,X,g)}if(j=="oilPaint"){var ck=Q.LghD.v*Math.PI/180,f5=[Math.cos(ck),Math.sin(ck),.001],c$=[Q.stylization.v,Q.cleanliness.v,Q.brushScale.v,Q.microBrush.v,Q.lightingOn.v,Q.specularity.v,f5],p=n.s.O();
p.x=p.y=0;K.H5.filter(n.buffer,p,m.buffer,c$)}if(j=="Ofst"){var X=n.s.q,g=n.s._,jJ=new Uint32Array(n.buffer.buffer),ka=new Uint32Array(m.buffer.buffer);
ka.fill(0);var cn=Q.Hrzn.v,fO=Q.Vrtc.v,h3=Q.Fl.v.FlMd;if(h3=="Bckg"||h3=="Rpt"){var kT=n.s.O();kT.offset(cn,fO);
K.EC(jJ,kT,ka,m.s)}if(h3=="Rpt"){var e5,dP,ei,aQ,hg;cn=Math.max(-X,Math.min(X,cn));fO=Math.max(-g,Math.min(g,fO));
e5=cn>0?cn:0;ei=cn>0?X:X+cn;dP=fO>0?0:fO+g;aQ=fO>0?fO:g;hg=fO>0?0:X*(g-1);for(var Z=dP;Z<aQ;Z++)for(var J=e5;
J<ei;J++)ka[Z*X+J]=jJ[hg+J-cn];e5=cn>0?0:X+cn;ei=cn>0?cn:X;dP=fO>0?fO:0;aQ=fO>0?g:g+fO;hg=cn>0?0:X-1;
for(var Z=dP;Z<aQ;Z++)for(var J=e5;J<ei;J++)ka[Z*X+J]=jJ[hg+X*(Z-fO)];if(cn>=0&&fO>=0){e5=0;ei=cn;dP=0;
aQ=fO;hg=0}if(cn>=0&&fO<0){e5=0;ei=cn;dP=g+fO;aQ=g;hg=X*(g-1)}if(cn<0&&fO>=0){e5=X+cn;ei=X;dP=0;aQ=fO;
hg=X-1}if(cn<0&&fO<0){e5=X+cn;ei=X;dP=g+fO;aQ=g;hg=X*g-1}for(var Z=dP;Z<aQ;Z++)for(var J=e5;J<ei;J++)ka[Z*X+J]=jJ[hg]}if(h3=="Wrp"){cn=(cn+100*X)%X;
fO=(fO+100*g)%g;var kT=new b4(cn-X,fO-g,X,g);K.EC(jJ,kT,ka,m.s);kT.offset(X,0);K.EC(jJ,kT,ka,m.s);kT.offset(0,g);
K.EC(jJ,kT,ka,m.s);kT.offset(-X,0);K.EC(jJ,kT,ka,m.s)}}if(j=="Rept"){var bE=Q.Rsft.v.val/100,kr=Q.SpcX.v.val/100;
kr=Math.max(kr,-.99);var aZ=Q.SpcY.v.val/100;aZ=Math.max(aZ,-.99);var fJ=Q.Scl.v.val/100,h1=new j8;h1.rotate(Q.Angl.v*Math.PI/180);
h1.scale(fJ,fJ);var jB={buffer:n.buffer,s:n.s};K.DS(jB);if(jB.s.ke()){jB.buffer=n.buffer;jB.s=n.s}var gU=jB.buffer,kT=jB.s,dU=K.ap(gU,kT,0),h_=new Uint32Array(gU.buffer)[0];
if(!dU.ke()&&!dU.N_(kT)){var dg=K.U(dU.$()*4);K.EC(gU,kT,dg,dU);gU=dg;kT=dU}kT.x=kT.y=0;h_=kr==0&&aZ==0&&!K.QX(n.buffer)||Q.SpcC.v?h_:0;
function dR(J){return J<0?Math.ceil(J):Math.floor(J)}var bI=h1.JZ(new eE(kT.q,0));bI.x=dR(bI.x);bI.y=dR(bI.y);
var dx=h1.JZ(new eE(0,kT._));dx.x=dR(dx.x);dx.y=dR(dx.y);var w=N.IP.sO([gU,kT],h1,!1),jC=w.s,eK=w.buffer,gl=Math.round(jC.x),fv=Math.round(jC.y),ff=Math.max(m.s.q,m.s._)/Math.min(kT.q*fJ*(1+kr),kT._*fJ*(1+aZ));
ff=Math.ceil(ff*1.7);K.G5(m.buffer,h_);for(var Z=-ff;Z<ff;Z++){for(var J=-ff;J<ff;J++){var el=(J+Z*bE)*(1+kr),iO=Z*(1+aZ);
jC.x=gl+Math.round(el*bI.x+iO*dx.x);jC.y=fv+Math.round(el*bI.y+iO*dx.y);if(jC.Ta(m.s))K.L.sg("norm",eK,jC,m.buffer,m.s,jC,1)}}}if(j=="Ctoa"){var B=K.Gp.qF(Q.Clr.v),eG=Q.Trsp.v.val/100,kj=Q.Opct.v.val/100;
eG=kj==0?0:eG/kj;var X=n.s.q,g=n.s._,dw=~~B.n,b1=~~B.i,bF=~~B.b,hg=n.buffer,dK=m.buffer;for(var Z=0;
Z<g;Z++)for(var J=0;J<X;J++){var v=Z*X+J,E=v<<2,kT=hg[E],dG=hg[E+1],gU=hg[E+2],dy=Math.abs(dw-kT),aq=Math.abs(b1-dG),eg=Math.abs(bF-gU),cW=Math.max(dy,aq,eg)*(1/255);
cW=Math.max(0,Math.min(1,cW/kj));var kl=cW==0?0:1/cW,e4=eG==1?1:Math.max(0,Math.min(1,(cW-eG)/(1-eG)));
dK[E]=Math.max(0,Math.min(255,(kT-dw*(1-cW))*kl));dK[E+1]=Math.max(0,Math.min(255,(dG-b1*(1-cW))*kl));
dK[E+2]=Math.max(0,Math.min(255,(gU-bF*(1-cW))*kl));dK[E+3]=Math.min(dK[E+3],~~(.5+e4*255))}}if(j=="Dthr"){function iJ(J){return~~(.5+255*K.ld(J/255))}var T=Q.Plte.v,cb;
if(T==0)cb=[4278190080,4294967295];else{var hB=[[1,1,1],[2,2,2],[3,3,2]][T-1],jn=[1<<hB[0],1<<hB[1],1<<hB[2]],b0=[~~(255/(jn[0]-1)),~~(255/(jn[1]-1)),~~(255/(jn[2]-1))];
cb=[];for(var o=0;o<jn[0];o++)for(var jy=0;jy<jn[1];jy++)for(var cl=0;cl<jn[2];cl++)cb.push(255<<24|iJ(cl*b0[2])<<16|iJ(jy*b0[1])<<8|iJ(o*b0[0]))}var X=n.s.q,g=n.s._,F=X*g,c5=F*4,fg=n.buffer.slice(0),cT=m.buffer;
for(var v=0;v<c5;v++)fg[v]=~~(.5+255*K.ld(fg[v]/255));var aP=K.U(X*g);UPNG.encode.dither(fg,X,g,cb,cT,aP,Q.Mthd?Q.Mthd.v:1);
for(var v=0;v<c5;v++)cT[v]=~~(.5+255*K.Ku(cT[v]/255))}if(j=="Part"){var jx=[Q.RndS.v,Q.Cont.v/100,Q.Size.v,Q.Dpth.v/100,Q.Brgh.v/100,K.Gp.qF(Q.Clr.v),Q.Time.v,Q.Blnk.v,Q.Fall.v,Q.Turb.v/100];
K._S.ex(m.buffer,n.s.q,n.s._,jx)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(j)!=-1){var dm=R[0],X=n.s.q,g=n.s._,cq,d6=0;
if(j=="LqFy")cq=kQ.by(new Uint8Array(Q.LqMe.v).buffer);else{var kW=3;if(j=="Wave")kW=Math.min(3,Q.WLMn.v);
cq={Uw:Math.floor(X/kW),WC:Math.floor(g/kW)};cq.map=new Float32Array(cq.Uw*cq.WC*2);if(j=="LnCr"){var fu=.5*(cq.Uw-1),iK=.5*(cq.WC-1),fi=Math.max(Math.abs(0-fu),Math.abs(1-fu)),gL=Math.max(Math.abs(0-iK),Math.abs(1-iK)),aa=Math.sqrt(fi*fi+gL*gL),ch=0,iV=0,gd=-1,hW=2,fJ=Q.LnSi.v/100,aw=1/fJ,bx=Q.LnIa.v/100,kz=bx==0?1e-6:bx*4.6,dd=aw/aa;
for(var Z=0;Z<cq.WC;Z++){for(var J=0;J<cq.Uw;J++){var z=(J-fu)*dd,h=(Z-iK)*dd,o=Math.sqrt(z*z+h*h)*kz,fz=Math.atan(o),e9=bx>0?fz/o:o/fz,jZ=fu+aa*e9*z,iC=iK+aa*e9*h,v=Z*cq.Uw+J<<1;
cq.map[v]=jZ-J;cq.map[v+1]=iC-Z}}}else if(j=="Kale"){var jA=cq.Uw,eV=cq.WC,fh=(jA-1)*.5,hP=(eV-1)*.5,eH=Q.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,h4=Q.Mirr.v,gC=Math.PI*2/h4,jP=.5*gC;
for(var Z=0;Z<eV;Z++)for(var J=0;J<jA;J++){var z=J-fh,h=Z-hP,ft=Math.sqrt(z*z+h*h),ck=Math.atan2(h,z)+eH;
ck=ck%gC;if(ck>jP)ck=gC-ck;var jZ=fh+Math.cos(ck-eH)*ft,iC=hP+Math.sin(ck-eH)*ft,v=(Z*jA+J)*2;cq.map[v]=jZ-J;
cq.map[v+1]=iC-Z}}else if(j=="Dspl"&&dm.length!=0){d6=Q.UndA.v.UndA=="WrpA"?2:1;var f1=Q.DspF.v.pth,kw,go=Q.DspD,bV,cB,gv;
if(go){var hb=go.v;cB=hb[1]*256+hb[0];bV=hb[5]*256+hb[4];gv=new Uint8Array(hb.slice(10,10+bV*cB))}else{for(var v=0;
v<dm.length;v++)if(dm[v].A8==f1)kw=dm[v];if(kw==null)kw=dm[0];kw.rd();var dy=kw.LQ[1],gv=K.U(dy.$());
K.AS(kw.LQ[0],gv);bV=dy.q;cB=dy._}cq={Uw:bV,WC:cB};cq.map=new Float32Array(cq.Uw*cq.WC*2);var fe=2.54*Q.HrzS.v*bV/X,dT=2.54*Q.VrtS.v*cB/g;
for(var Z=0;Z<cq.WC;Z++){for(var J=0;J<cq.Uw;J++){var bq=-.5+gv[Z*bV+J]*(1/255),v=Z*cq.Uw+J<<1;cq.map[v]=bq*fe;
cq.map[v+1]=bq*dT}}}else if(j=="Pnch"||j=="Twrl"||j=="Sphr"||j=="ZgZg"){var kn=1,eP=Math.PI,bB=0,j$=1,aJ=0,kb=3,dz=1.53,e9=1;
if(j=="Pnch"||j=="Sphr"||j=="ZgZg")kn=Q.Amnt.v/100;if(j=="ZgZg"){j$=Q.NmbR.v;aJ=["ArnC","OtFr","PndR"].indexOf(Q.ZZTy.v.ZZTy)}if(j=="Twrl")eP=Q.Angl.v*Math.PI/180;
if(j=="Sphr")bB=["Nrml","HrzO","VrtO"].indexOf(Q.SphM.v.SphM);function c9(J){J=Math.pow(J,1-J*.3-J*J*(J*J)*.5);
return-.225*Math.sin(J*Math.PI)}function d$(g,et,o,e5,dP,ei,aQ,e9){var z=ei-e5,h=aQ-dP,al=e5-g,be=dP-et,e$=z*z+h*h,cl=2*(z*al+h*be),kb=al*al+be*be-o*o,jE=Math.sqrt(cl*cl-4*e$*kb),f$=e9/(2*e$),j4=(-cl+jE)*f$,ev=(-cl-jE)*f$;
return e9*Math.min(j4,ev)}var jA=cq.Uw,eV=cq.WC,fh=cq.Uw/2,hP=cq.WC/2,fU=1/fh,o=Math.sqrt(kb*kb+1)/kb,kJ=kb+Math.sqrt(1/(kb*kb));
if(kn<0){kb=1.72;o=1;kJ=kb;dz=-1;e9=-1}for(var Z=0;Z<eV;Z++){var h=(Z-hP)/hP;for(var J=0;J<jA;J++){var z=(J-fh)*fU;
if(bB==1)h=0;else if(bB==2)z=0;var kg=Math.sqrt(z*z+h*h);if(kg<1&&kg!=0){var v=Z*cq.Uw+J<<1;if(j=="Pnch"){var aG=-kn*c9(kg)/kg;
cq.map[v]=z*aG*fh;cq.map[v+1]=h*aG*hP}else if(j=="Sphr"){var fV=d$(0,kJ,o,0,0,kg,kb,e9),he=dz*kn*(fV-1);
cq.map[v]=z*he*fh;cq.map[v+1]=h*he*hP}else if(j=="Twrl"){var ck=Math.atan2(h,z)-eP*(1-kg)*(1-kg),er=Math.cos(ck),jF=Math.sin(ck);
cq.map[v]=(kg*er-z)*fh;cq.map[v+1]=(kg*jF-h)*hP}else if(j=="ZgZg"){var er=0,jF=0,eT=kn*(.5-.5*Math.cos(kg*j$*2*Math.PI))*(1-kg);
if(aJ==0){var ck=Math.atan2(h,z)-3.5*eT;er=kg*Math.cos(ck);jF=kg*Math.sin(ck)}if(aJ==1){eT=100/X*eT/kg;
er=(1-eT)*z;jF=(1-eT)*h}if(aJ==2){var O=512/X*eT*Math.PI/4;er=O+z;jF=O+h}cq.map[v]=(er-z)*fh;cq.map[v+1]=(jF-h)*hP}}}}}else if(j=="Shr "){var j7=K.u(Q.ShrP.v);
K.c0.C(j7,new j8(0,255/127,255/127,0,-2,0));var gf=K.c0.PF(j7,cq.WC,!0);d6=Q.UndA.v.UndA=="WrpA"?2:1;
for(var Z=0;Z<cq.WC;Z++){var z=-gf[Z]*cq.Uw;for(var J=0;J<cq.Uw;J++){var v=Z*cq.Uw+J<<1;cq.map[v]=z}}}else if(j=="Wave"){var eF=Q.NmbG.v,ih=Q.WLMn.v,j1=Q.WLMx.v,jr=Q.AmMn.v*(Math.PI/4),iX=Q.AmMx.v*(Math.PI/4),hX=Q.SclH.v/100,gP=Q.SclV.v/100,ia=Q.Wvtp.v.Wvtp,eT=Math.sin;
if(ia=="WvTr")eT=function(J){J*=2/Math.PI;return-.5+Math.abs(J%2-1)};if(ia=="WvSq")eT=function(J){J*=2/Math.PI;
return 1+2*Math.floor(J%2-1)};var i0=[],fB=new K.L._z(Q.RndS.v);for(var v=0;v<eF;v++){i0.push(fB.get()*10);
i0.push(Math.PI*kW/(ih+fB.get()*(j1-ih)));i0.push(hX*(jr+fB.get()*(iX-jr))/kW);i0.push(fB.get()*10);
i0.push(Math.PI*kW/(ih+fB.get()*(j1-ih)));i0.push(gP*(jr+fB.get()*(iX-jr))/kW)}var gk=[],dq=[],hd=Math.max(cq.Uw,cq.WC);
for(var v=0;v<hd;v++){var z=0,h=0;for(var kN=0;kN<eF;kN++){var db=kN*6;z+=i0[db+2]*eT(i0[db]+v*i0[db+1]);
h+=i0[db+5]*eT(i0[db+3]+v*i0[db+4])}gk[v]=h;dq[v]=z}for(var Z=0;Z<cq.WC;Z++){for(var J=0;J<cq.Uw;J++){var v=Z*cq.Uw+J<<1;
cq.map[v]=dq[Z];cq.map[v+1]=gk[J]}}d6=Q.UndA.v.UndA=="WrpA"?2:1}else if(j=="Rple"){d6=1;var kn=Q.Amnt.v/100,gB=4,gX=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],cI=1,b$=1,al=0,ix=["Sml","Mdm","Lrg"].indexOf(Q.RplS.v.RplS);
if(ix==0){cI=1;b$=.2;al=3}if(ix==2){cI=1;b$=2;al=-1;gX=gX.reverse()}var an=function(J,Z){var kb=Math.cos,bb=0;
for(var v=0;v<gB;v++)for(var kN=0;kN<gB;kN++)bb+=gX[v*gB+kN]*kb(J*(v+al)-Z*(kN+al));return bb},a3=Math.floor(50/kW),iW=new Float32Array(a3*a3*2),cK=b$*kn*.5/kW;
for(var Z=0;Z<a3;Z++)for(var J=0;J<a3;J++){var fu=cI*J*2*Math.PI/a3,iK=cI*Z*2*Math.PI/a3,eY=an(fu,iK),z=(an(fu+.01,iK)-eY)*100,h=(an(fu,iK+.01)-eY)*100,v=(Z*a3+J)*2;
iW[v]=z*cK;iW[v+1]=h*cK}for(var Z=0;Z<cq.WC;Z++)for(var J=0;J<cq.Uw;J++){var jF=Z%a3,er=J%a3,v=Z*cq.Uw+J<<1,gQ=jF*a3+er<<1;
cq.map[v]=iW[gQ];cq.map[v+1]=iW[gQ+1]}}}K.x7.oz(n.buffer,m.buffer,X,g,null,cq.map,cq.Uw,cq.WC,d6)}return m};
var c3={};c3.alK="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");c3.iu="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
c3.GC=["ScrC","ScrD","ScrL"];c3.Ws=["SDRD","SDHz","SDLD","SDVt"];c3.gp="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
c3.He="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");c3.OA="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
c3.v8=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];c3.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
c3.cL=function(j){var n;if(j=="ClrP")n={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(j=="Ct")n={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(j=="DryB")n={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(j=="FlmG")n={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(j=="Frsc")n={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(j=="NGlw")n={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(j=="PntD")n={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(j=="PltK")n={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(j=="PlsW")n={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(j=="PstE")n={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(j=="RghP")n={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(j=="SmdS")n={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(j=="Spng")n={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(j=="Undr")n={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(j=="Wtrc")n={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(j=="AccE")n={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(j=="AngS")n={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(j=="Crsh")n={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(j=="DrkS")n={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(j=="InkO")n={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(j=="Smie")n={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(j=="Spt")n={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(j=="SprS")n={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(j=="DfsG")n={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(j=="Gls")n={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(j=="OcnR")n={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(j=="BsRl")n={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(j=="ChlC")n={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(j=="Chrc")n={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(j=="Chrm")n={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(j=="CntC")n={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(j=="GraP")n={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(j=="HlfS")n={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(j=="NtPr")n={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(j=="Phtc")n={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(j=="Plst")n={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(j=="Rtcl")n={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(j=="Stmp")n={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(j=="TrnE")n={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(j=="WtrP")n={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(j=="GlwE")n={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(j=="Crql")n={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(j=="Grn")n={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(j=="MscT")n={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(j=="Ptch")n={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(j=="StnG")n={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(j=="Txtz")n={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
n.__name="Filter Gallery";n.classID="GEfc";n.GEfk={t:"enum",v:{GEft:j}};n.GELv={t:"bool",v:!0};return n};
c3.AG=function(j,n){for(var v=0;v<n.length;v++)~~(n[v]=(j[4*v]+j[4*v+1]+j[4*v+2])*(1/3))};c3.atN=function(j,n,Q,a,B,m){var R=UPNG.quantize(j,n);
R={kc:R.inds,Oc:R.plte};if(m){var q=new Uint32Array(R.Oc.length);for(var v=0;v<q.length;v++)q[v]=R.Oc[v].est.rgba;
R.kc=K.asC(new Uint8Array(j),Q,a,new Uint8Array(q.buffer))}var U=Math.floor((Q+a)*.015);if(U!=0&&B)K.WM.a0O(R.kc,Q,a,U);
return R};c3.cN=function(j,n,Q,a,B,m,R){j=Q.GEfk.v.GEft;var q=n.s,U=q.q,l=q._,b=U*l,D=Q.FlRs?Q.FlRs.v>>>1:0;
function c(H){return H.n<<24|H.i<<16|H.b<<8|255}if(j=="ClrP")K.t.aAz(n.buffer,U,l,m.buffer,[Q.Pncl.v,Q.StrP.v,Q.PprB.v]);
if(j=="Ct"){var _=Q.NmbL.v,p=Q.EdgS.v,X=c3.atN(n.buffer.buffer,_*2,U,l,!0);for(var v=0;v<X.kc.length;
v++)X.kc[v]++;var g=new Uint8Array((U+2)*(l+2));K.Gc(X.kc,new b4(1,1,U,l),g,new b4(0,0,U+2,l+2));var F=K.c.Qs(g,U+2,l+2,p,!1),k=new j8(1,0,0,1,-1,-1);
for(var v=0;v<F.length;v++)K.c.C(F[v].path.g,k,F[v].path.g);var I=[],e=X.Oc;for(var v=0;v<e.length;v++){var H=e[v].est.q;
I.push({n:Math.round(255*H[0]),i:Math.round(255*H[1]),b:Math.round(255*H[2]),NX:Math.round(255*H[3])})}var A=K.uq(U,l);
for(var v=0;v<F.length;v++){var Z=F[v],H=I[Z.color-1];if(H.NX==0)continue;A.fillStyle="rgba("+H.n+","+H.i+","+H.b+","+H.NX/255+")";
A.beginPath();Typr.U.pathToContext({crds:Z.path.g,cmds:Z.path.rZ},A);A.fill()}if(!q.ke()){var J=A.getImageData(0,0,U,l);
K.D1(J.data,m.buffer)}}if(j=="DryB")K.t.alw(n.buffer,U,l,m.buffer,[Q.BrsS.v,Q.BrsD.v,Q.Txtr.v]);if(j=="FlmG")K.t.asb(n.buffer,U,l,m.buffer,[Q.Grn.v,Q.HghA.v,Q.Intn.v,D]);
if(j=="Frsc")K.t.amw(n.buffer,U,l,m.buffer,[Q.BrsS.v,Q.BrsD.v,Q.Txtr.v]);if(j=="NGlw")K.t.axv(n.buffer,U,l,m.buffer,[Q.Sz.v,Q.Brgh.v,c(K.Gp.qF(Q.Clr.v)),c(a),c(B)]);
if(j=="PltK")K.t.azu(n.buffer,U,l,m.buffer,[Q.StrS.v,Q.StDt.v,Q.Sftn.v]);if(j=="PstE")K.t.akR(n.buffer,U,l,m.buffer,[Q.EdgT.v,Q.EdgI.v,Q.Pstr.v]);
if(j=="RghP")K.t.a6g(n.buffer,U,l,m.buffer,[Q.StrL.v,Q.StDt.v,c3.gp.indexOf(Q.TxtT.v.TxtT),Q.Scln.v,Q.Rlf.v,c3.iu.indexOf(Q.LghD.v.LghD),Q.InvT.v]);
if(j=="SmdS")K.t.am5(n.buffer,U,l,m.buffer,[Q.StrL.v,Q.HghA.v,Q.Intn.v,Q.FlRs?Q.FlRs.v:0,D]);if(j=="Spng")K.t.ajp(n.buffer,U,l,m.buffer,[Q.BrsS.v,Q.Dfnt.v,Q.Smth.v,Q.FlRs?Q.FlRs.v:0,D]);
if(j=="Undr")K.t.a6w(n.buffer,U,l,m.buffer,[Q.BrsS.v,Q.TxtC.v,c3.gp.indexOf(Q.TxtT.v.TxtT),Q.Scln.v,Q.Rlf.v,c3.iu.indexOf(Q.LghD.v.LghD),Q.InvT.v]);
if(j=="Wtrc")K.t.aEb(n.buffer,U,l,m.buffer,[Q.BrsD.v,Q.ShdI.v,Q.Txtr.v]);if(j=="AccE")K.t.adL(n.buffer,U,l,m.buffer,[Q.EdgW.v,Q.EdgB.v,Q.Smth.v]);
if(j=="AngS")K.t.aGs(n.buffer,U,l,m.buffer,[Q.DrcB.v,Q.StrL.v,Q.Shrp.v]);if(j=="Crsh")K.t.awq(n.buffer,U,l,m.buffer,[Q.StrL.v,Q.Shrp.v,Q.Strg.v]);
if(j=="DrkS")K.t.abc(n.buffer,U,l,m.buffer,[Q.Blnc.v,Q.BlcI.v,Q.WhtI.v]);if(j=="InkO")K.t.awx(n.buffer,U,l,m.buffer,[Q.StrL.v,Q.DrkI.v,Q.LghI.v]);
if(j=="Smie")K.t.a1v(n.buffer,U,l,m.buffer,[Q.StrW.v,Q.StrP.v,Q.Cntr.v]);if(j=="DfsG")K.t.a3t(n.buffer,U,l,m.buffer,[Q.Grns.v,Q.GlwA.v,Q.ClrA.v,c(B),D]);
if(j=="CntC")K.t.a6y(n.buffer,U,l,m.buffer,[Q.FrgL.v,Q.BckL.v,c3.gp.indexOf(Q.TxtT.v.TxtT),Q.Scln.v,Q.Rlf.v,c3.iu.indexOf(Q.LghD.v.LghD),Q.InvT.v,c(B),c(a)]);
if(j=="ChlC")K.t.a3W(n.buffer,U,l,m.buffer,[Q.ChrA.v,Q.ChlA.v,Q.StrP.v,D,c(B),c(a)]);var s=j=="GraP"||j=="Chrc"||j=="Plst"||j=="Rtcl"||j=="Stmp"||j=="TrnE";
if(s){var E=K.U(U*l);if(j=="GraP")K.t.aCM(n.buffer,U,l,m.buffer,[Q.StrL.v,Q.LgDr.v,c3.Ws.indexOf(Q.SDir.v.StrD),D]);
if(j=="Chrc")K.t.apb(n.buffer,U,l,m.buffer,[Q.ChAm.v,Q.Dtl.v,Q.LgDr.v]);if(j=="Plst")K.t.aE7(n.buffer,U,l,m.buffer,[Q.ImgB.v,c3.He.indexOf(Q.LghP.v.LghP),Q.Smth.v]);
if(j=="Rtcl")K.t.aAT(n.buffer,U,l,m.buffer,[Q.Dnst.v,Q.BlcL.v,Q.WhtL.v,D]);if(j=="Stmp")K.t.azH(n.buffer,U,l,m.buffer,[Q.LgDr.v,Q.Smth.v]);
if(j=="TrnE")K.t.aru(n.buffer,U,l,m.buffer,[Q.ImgB.v,Q.Smth.v,Q.Cntr.v,D]);K._W(m.buffer,E,0);c3.f_(E,m.buffer,a,B)}if(j=="NtPr")K.t.aue(n.buffer,U,l,m.buffer,[Q.ImgB.v,Q.Grns.v,Q.Rlf.v,c(a),c(B),D]);
if(j=="WtrP")K.t.ap1(n.buffer,U,l,m.buffer,[Q.FbrL.v,Q.Brgh.v,Q.Cntr.v,D>>>1]);if(j=="Crql")K.t.a3R(n.buffer,U,l,m.buffer,[Q.CrcS.v,Q.CrcD.v,Q.CrcB.v,D]);
if(j=="Grn")K.t.ajQ(n.buffer,U,l,m.buffer,[Q.Intn.v,c3.OA.indexOf(Q.Grnt.v.Grnt),Q.Cntr.v,c(a),c(B),D]);
if(j=="MscT")K.t.ahI(n.buffer,U,l,m.buffer,[Q.TlSz.v,Q.GrtW.v,Q.LghG.v,D]);if(j=="Ptch")K.t.a8M(n.buffer,U,l,m.buffer,[Q.SqrS.v,Q.Rlf.v,D]);
if(j=="Phtc"){function z(kk,fA,q,fc){K.KX.pI(kk,fA,q,fc);for(var v=0;v<b;v++)fA[v]=Math.max(0,Math.min(255,128+kk[v]-fA[v]))}var h=Q.Dtl.v,d=Q.Drkn.v,Y=K.U(b);
K.AS(n.buffer,Y);var C=K.U(b);z(Y,C,q,1);if(h==1){h=2;d=Math.round(d/4)}var i=K.U(b);z(Y,i,q,h);for(var v=0;
v<b;v++)Y[v]=Math.max(0,Math.min(255,255-(C[v]-i[v])*d));c3.f_(Y,m.buffer,a,B)}if(j=="Spt"||j=="SprS"){var M,W=1,$=1;
M={Uw:Math.floor(U/$),WC:Math.floor(l/$)};M.map=new Float32Array(M.Uw*M.WC*2);var P=new K.L._z(D),O=new Float32Array(8192),G=Q.SprR.v,y=G<20?.018*G:.36+(G-20)*.128;
if(j=="SprS"){y=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][G]}for(var v=0;
v<8192;v++)O[v]=(-1+2*P.get())*y*70;for(var r=0;r<l;r++)for(var u=0;u<U;u++){var S=r*U+u<<1;M.map[S]=O[S%7919];
M.map[S+1]=O[(S+1)%7919]}var w=M.map.slice(0),dj=j=="Spt"?Q.Smth.v-1:1;if(j=="Spt"&&dj!=0){c3.a4H(M.map,w,U,l,dj);
c3.acc(w,M.map,U,l,dj)}if(j=="SprS"){var o=Q.StrL.v>>>1,T=o==0?2:1;c3.a4H(M.map,w,U,l,T);c3.acc(w,M.map,U,l,T);
if(o!=0){var i6=c3.Ws.indexOf(Q.SDir.v.StrD),bH=[1,1,1,0][i6],cg=[-1,0,1,1][i6],bu=2*o+1,hH=1/bu;for(var r=0;
r<l;r++)for(var u=0;u<U;u++){var S=r*U+u<<1,dK=0,d8=0;for(var v=0;v<bu;v++){var d1=Math.max(0,Math.min(U-1,u-(o+v)*bH)),gH=Math.max(0,Math.min(l-1,r-(o+v)*cg)),kh=gH*U+d1<<1;
dK+=M.map[kh];d8+=M.map[kh+1]}w[S]=dK*hH;w[S+1]=d8*hH}M.map=w}}K.x7.oz(n.buffer,m.buffer,U,l,null,M.map,M.Uw,M.WC,W)}if(j=="BsRl"||j=="PlsW"||j=="Chrm"){var ay=Date.now(),dO=K.U(b),fy=dO.slice(0);
K.AS(n.buffer,dO);var h=Q.Dtl.v,bg=Q.Smth.v;if(h!=15){K.KX.mg(dO,fy,q,Math.round((15-h)*.5));K.D1(fy,dO)}var f4=1.4/U,jb=1.4/l,jT=new Float32Array(b),jy=new Float32Array(b),cl=new Float32Array(m.buffer.buffer);
for(var r=0;r<l;r++)for(var u=0;u<U;u++){var v=r*U+u,bH=u==U-1?dO[v]-dO[v-1]:dO[v+1]-dO[v],cg=r==l-1?dO[v]-dO[v-U]:dO[v+U]-dO[v],hu=u*f4-.7,aA=r*jb-.7;
jT[v]=bH==0?hu:bH*.4;jy[v]=cg==0?aA:cg*.4}if(j=="BsRl"){var ko=(2+c3.iu.indexOf(Q.LghD.v.LghD))*Math.PI*.25,dK=Math.cos(ko);
if(Math.abs(dK)<.1)dK=0;dK=Math.sign(dK);var d8=Math.sin(ko);if(Math.abs(d8)<.1)d8=0;d8=Math.sign(d8);
var ec=1/(dK*dK+d8*d8);for(var r=0;r<l;r++)for(var u=0;u<U;u++){var v=r*U+u,kK=Math.max(-1,Math.min(1,dK*jT[v])),cM=Math.max(-1,Math.min(1,d8*jy[v]));
fy[v]=128+127*(kK+cM)*ec}if(bg!=1){K.KX.mg(fy,dO,q,Math.round((bg-1)*.5));K.D1(dO,fy)}c3.f_(fy,m.buffer,a,B)}else{if(j=="Chrm")bg=5+bg;
if(bg>1)c3.xx(jT,jy,cl,q,bg-1);if(j=="PlsW"){var gG=new Uint8Array(jT.buffer);for(var v=0;v<b;v++){var c2=v<<2,bH=jT[v],cg=jy[v],a1=1/(Math.sqrt(1+bH*bH)*Math.sqrt(1+cg*cg)),cs=a1*a1,f7=cs*cs,H=~~(255*(f7*f7*cs));
gG[c2+0]=H;gG[c2+1]=H;gG[c2+2]=H;gG[c2+3]=H}m.buffer.set(n.buffer);K.L.sg("norm",gG,q,m.buffer,q,q,Q.HghS.v/20)}else if(j=="Chrm"){var j7=m.buffer,dz=U>>>1,iA=l>>>1;
for(var v=0;v<b;v++){var c2=v<<2,bH=jT[v],cg=jy[v],kk={x:1,y:0,Fp:bH};gq.b0(kk);var fA={x:0,y:1,Fp:cg};
gq.b0(fA);var g5=gq.afR(kk,fA),h$=1/g5.Fp,hL=~~Math.max(0,Math.min(U-1,dz-g5.x*h$*dz)),ha=~~Math.max(0,Math.min(l-1,iA-g5.y*h$*iA)),H=dO[ha*U+hL];
j7[c2+0]=H;j7[c2+1]=H;j7[c2+2]=H}}}}if(j=="Gls"||j=="OcnR"||j=="Txtz"){var jl=j=="OcnR"?2:c3.gp.indexOf(Q.TxtT.v.TxtT),fI=c3.LA(jl),aE=fI[0],dO=fI[1],es=aE.q,kN=aE._,bu=24,cC=0,gr,eK;
function fV(ej,it,fJ){return~~(jU*(ej+it)+8192)&127}var jT=new Float32Array(b),jy=new Float32Array(b),cl=new Float32Array(m.buffer.buffer),jU=j=="OcnR"?1/(1+(Q.RplS.v-1)*.1):100/Q.Scln.v;
if(jl==3)jU*=32/22.2;var ay=Date.now(),c$=jU,f4=1.4/U,jb=1.4/l;if(j=="Txtz"){c$*=1/255;bu=256}for(var r=0;
r<l;r++){var iq=fV(r,q.y,kN),gH=iq+1&127;for(var u=0;u<U;u++){var v=r*U+u,cz=fV(u,q.x,es),d1=cz+1&127,h0=0,fl=0,co=0;
if(j=="Txtz"){h0=K.D.nj(jU*u,jU*r,dO,128,128);fl=K.D.nj(jU*u,jU*r+1,dO,128,128);co=K.D.nj(jU*u+1,jU*r,dO,128,128)}else{h0=dO[iq*es+cz];
fl=dO[gH*es+cz];co=dO[iq*es+d1]}jT[v]=Math.max(-bu,Math.min((co-h0)*c$,bu));jy[v]=Math.max(-bu,Math.min((fl-h0)*c$,bu))}}if(j=="Txtz")c3.aAe(jT,jy,cl,q,6);
else c3.xx(jT,jy,cl,q,j=="Txtz"?1:j=="OcnR"?3.5/jU:Q.Smth.v);if(j=="Txtz")cC=Q.InvT.v?-1:1;else if(j=="Gls"){cC=[1,.4,.5,.5,.5,.5,.5][jl]*(Math.exp(Q.Dstr.v*.155)-1);
if(Q.InvT.v)cC=-cC}else{cC=.5*(Math.exp(Q.RplM.v*.155)-1)}var j7=m.buffer;if(j=="Txtz"){var ko=(2+c3.iu.indexOf(Q.LghD.v.LghD))*Math.PI*.25,dK=Math.cos(ko),d8=Math.sin(ko);
gr={x:dK,y:d8,Fp:0};gq.b0(gr);eK=Q.Rlf.v;eK=eK/4+Math.max(0,(eK-35)*2)}function kM(kk,fA,bn){var cu=K.L.overF(fA,kk,1),ej=(1-bn)*kk+bn*(bn*fA+(1-bn)*cu);
return ej*255}for(var r=0;r<l;r++)for(var u=0;u<U;u++){var v=r*U+u,c2=v<<2,bH=jT[v],cg=jy[v],kk={x:1,y:0,Fp:bH};
gq.b0(kk);var fA={x:0,y:1,Fp:cg};gq.b0(fA);var g5=gq.afR(kk,fA);if(j=="Txtz"){var bM=gq.akm(g5,gr)*cC,bn=1,H=1;
if(bM<0){H=0;bM=-bM}bn=Math.min(1,bM*eK);j7[c2+0]=~~kM(n.buffer[c2]*(1/255),H,bn);j7[c2+1]=~~kM(n.buffer[c2+1]*(1/255),H,bn);
j7[c2+2]=~~kM(n.buffer[c2+2]*(1/255),H,bn)}else{var h$=cC/g5.Fp,hL=~~Math.max(0,Math.min(U-1,u-g5.x*h$)),ha=~~Math.max(0,Math.min(l-1,r-g5.y*h$)),fT=ha*U+hL<<2;
j7[c2+0]=n.buffer[fT];j7[c2+1]=n.buffer[fT+1];j7[c2+2]=n.buffer[fT+2]}}}if(j=="PntD"){var ck=Q.Shrp.v*.4,ce=Q.BrsT.v.BrsT,kn={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[ce],fc=Math.round(Q.Sz.v*.5);
K.fm.tN=kn[0];K.fm.ao(n.buffer,m.buffer,U,l,fc,0,[]);var cv=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];cv=K.GY.c4(cv);
var gM=m.buffer.slice(0);K.GY.ie(gM,m.buffer,U,l,cv,0);for(var v=0;v<n.buffer.length;v++){var hF=m.buffer[v]-gM[v];
m.buffer[v]=Math.max(0,Math.min(255,gM[v]+ck*hF))}}if(j=="GlwE"){var fg=m.buffer.slice(0);K.fm.tN=.5;
K.fm.ao(n.buffer,fg,U,l,Q.Smth.v>>>1,0,[]);K.GY.a8E(fg,m.buffer,U,l);K.D1(m.buffer,fg);K.m2(fg);K.b7(fg,255,1);
K.ro.a9X(fg,m.buffer,U,l,(Q.EdgW.v>>>1)*2+1,!0);var fP=Q.EdgB.v/10;for(var v=0;v<fg.length;v++){if((v&3)==3)continue;
var cu=m.buffer[v];m.buffer[v]=Math.max(0,Math.min(255,cu*fP))}}if(j=="StnG"){K.k1.a07(n.buffer,U,l,m.buffer,Q.ClSz.v,[Math.round(a.n),Math.round(a.i),Math.round(a.b)],Q.BrdT.v)}if(j=="HlfS"){var h8=Q.HlSz.v,ia=h8*2+1,jd=Q.Cntr.v,bL=c3.GC.indexOf(Q.ScrT.v.ScrT),b=U*l,jq=b*4,dJ=K.U(b),ju=n.buffer,eL=0,e5=0;
c3.AG(ju,dJ);var cL=dJ.slice(0);K.KX.a8B(cL,dJ,q,h8);var k7=Math.PI/ia,ai=new Float64Array(U),dK=new Float64Array(U),g_=new Float64Array(2*U);
for(var u=0;u<U;u++){var cz=(u-(U>>>1))*k7;ai[u]=cz*cz;dK[u]=Math.cos(cz);var bH=u<<1;g_[bH]=Math.sin(bH*(1/4.5));
g_[bH+1]=Math.sin((bH+1)*(1/4.5))}for(var r=0;r<l;r++){var iq=(r-(l>>>1))*k7,d8=Math.cos(iq),dP=iq*iq;
for(var u=0;u<U;u++){var H=d8;if(bL==0){var ei=.5+Math.sqrt(ai[u]+dP)*4.5;H=g_[~~ei]}else if(bL==1){H=dK[u]*d8}var v=r*U+u,aQ=dJ[v]*(.75+.25*H),bn=ju[(v<<2)+3]*(1/255),ky=Math.max(0,Math.min(255,~~aQ));
eL+=ky*bn,e5+=bn;dJ[v]=ky}}eL/=e5;var i9=128+1.26*(eL-128),fP=.08+.25*Math.abs((128-eL)/128),a8=1+fP*jd;
for(var v=0;v<b;v++){var aQ=i9+(dJ[v]-i9)*a8;dJ[v]=Math.max(0,Math.min(255,~~aQ))}if(jd>46)K.round(dJ);
c3.f_(dJ,m.buffer,a,B)}for(var v=0;v<n.buffer.length;v+=4)m.buffer[v+3]=n.buffer[v+3]};c3.f_=function(j,n,Q,a){var B=j.length,m=Q.n,R=Q.i,q=Q.b,U=a.n,l=a.i,b=a.b;
for(var v=0;v<B;v++){var D=j[v]*(1/255),c=1-D,_=v<<2;n[_]=~~(m*c+U*D);n[_+1]=~~(R*c+l*D);n[_+2]=~~(q*c+b*D)}};
c3.LA=function(j){if(j==6)j=2;var n="blocks canvas frosted tinylens brick burlap".split(" ")[j];if(c3.n9==null)c3.n9=[];
if(c3.n9[j]==null){var Q,a;if(j==2){a=new b4(0,0,128,128);var B=fo.cL("AdNs");B.Mnch.v=!0;B.Dstr.v.Dstr="Gsn";
B.Nose.v.val=50;var Q=K.U(a.$()*4),m=Q.slice(0);K.G5(m.buffer,4286611584);fo.cN("AdNs",{buffer:m,s:a},B,0,0,{buffer:Q,s:a})}else{var R=fj.xK.get("tex/"+n,!0)[0];
a=R.nJ;Q=new Uint8Array(R.data)}var q=K.U(a.$());K._W(Q,q,0);c3.n9[j]=[a,q]}return c3.n9[j]};c3.xx=function(j,n,Q,a,B){if(B<=1){B=Math.round(B);
c3.aAe(j,n,Q,a,[1,16,4][B]);return}var m=B*.42;if(j){K.KX.qA(j,a,m,3)}if(n){K.KX.qA(n,a,m,3)}};c3.aAe=function(j,n,Q,a,B){var m=K.GY.c4([1,2,1,2,B,2,1,2,1]);
if(j){Q.set(j);K.GY.atJ(j,Q,a.q,a._,m);j.set(Q)}if(n){Q.set(n);K.GY.atJ(n,Q,a.q,a._,m);n.set(Q)}};c3.Af=function(j){if(j==null)return new eE(0,0);
var n=0,Q=j.GEfs?j.GEfs.v:[{v:j}];for(var v=0;v<Q.length;v++){var a=Q[v].v,m=1e4;if(a.GELv&&!a.GELv.v)continue;
var B=a.GEfk.v.GEft;if(B=="GlwE"||B=="Phtc"||B=="BsRl"||B=="PlsW"||B=="Chrm"||B=="Gls"||B=="OcnR"||B=="InkO")m=0;
n=Math.max(n,m)}return new eE(n,n)};c3.amd=function(j){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0],Q=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][j];
for(var v=0;v<13;v++){var a=v-6;n[v]=1/(Q*Math.sqrt(2*Math.PI))*Math.exp(-.5*(a/Q)*(a/Q))}return n};
c3.a4H=function(j,n,Q,a,B){var m=c3.amd(B),R=6,q=13;for(var U=0;U<a;U++)for(var l=0;l<Q;l++){var b=U*Q+l<<1,D=0,c=0;
for(var v=0;v<q;v++){var _=l+v-R,p=_<0?0:_>=Q?Q-1:_,X=(U*Q+p)*2,g=m[v];D+=g*j[X];c+=g*j[X+1]}n[b]=D;
n[b+1]=c}};c3.acc=function(j,n,Q,a,B){var m=c3.amd(B),R=6,q=13;for(var U=0;U<a;U++)for(var l=0;l<Q;l++){var b=U*Q+l<<1,D=0,c=0;
for(var v=0;v<q;v++){var _=U+v-R,p=_<0?0:_>=a?a-1:_,X=(p*Q+l)*2,g=m[v];D+=g*j[X];c+=g*j[X+1]}n[b]=D;
n[b+1]=c}};function af(){}af.vb=[2,5,5,7,4,4];af.Yh="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
af.de="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
af.Z1=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
af.iL=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
af.Ci=function(j){if(j=="passThrough")return"pass";return af.Yh[af.de.indexOf(j)]};af.sr=function(j){if(j=="pass")return"passThrough";
return af.de[af.Yh.indexOf(j)]};af.getName=function(j){return af.Z1[af.Yh.indexOf(j)]};function f(){this.s=null;
this.buffer=null;this.TM="norm";this.wT=255;this.U7=!1;this.Le=!1;this.G$=0;this.i8=0;this.dq=!0;this.rH=[];
for(var v=0;v<10;v++)this.rH.push(0,0,255,255);this.name=null;this.add={};this.Qt=null;this.YK=null;
this.N=null;this.Bc=null;this.ahC=30;this.gi=null;this.d2=null;this.w1=null;this.WA=null;this.s0=0;this.Ok=!1;
this.YT=null;this.xw=new f.C4}f.C4=function(){this.rx=!0;this.G4=!0;this.TG=K.U(0);this.a7K=K.U(0);this.jK=null;
this.eE={};this.ar$=null;this.Om=null;this.jt=null;this.PN=null;this.RN=null;this.ZQ=null;this.lU=null;
this.qN=null;this.OY=null;this.yN=null;this.El=null;this.Wk=null;this.Sy=!1};f.C4.prototype.agp=function(){this.rx=null;
this.G4=!1;this.jK=null;this.Sy=gz.oB};f.C4.prototype.aqw=function(){gq.amT(this.eE);this.TG=K.U(0);
this.a7K=K.U(0);if(this.PN)this.PN.delete();if(this.RN)this.RN.delete();this.PN=null;this.RN=null;var j=[this.ZQ,this.lU,this.qN,this.OY,this.yN,this.El];
for(var v=0;v<6;v++)if(j[v]!=null&&j[v]instanceof gz.aL)j[v].delete();this.ZQ=null;this.lU=null;this.qN=null;
this.OY=null;this.yN=null;this.El=null};f.prototype.ge=function(j){if(j==null)j=this.s.O();if(this.xw.jK==null)this.xw.jK=j;
else this.xw.jK=this.xw.jK.d_(j)};f.prototype.bx=function(){return this.add.lsct==fM.ko||this.add.lsct==fM.NO};
f.prototype.Oi=function(){var j=this.add;return j.SoCo!=null||j.GdFl!=null||j.PtFl!=null||j.vstl!=null};
f.prototype.aDF=function(){var j=this.add.lmfx;if(j==null)return;var n=["GrFl","patternFill"];for(var v=0;
v<n.length;v++){var Q=g8.Ub[g8.order.indexOf(n[v])],a=j[Q].v;if(a.length==0)continue;for(var B=0;B<a.length;
B++){var m=a[B].v;if(m.enab.v&&(m.Algn==null||!m.Algn.v))this.xw.G4=!0}}};f.prototype.ae$=function(){var j=this.N,n=this.xw.rx;
if(this.Oi())j=this.sJ();if(!gz.oB)return j.Ax();if(this.xw.RN==null||n||gz.oB!=this.xw.Sy){var Q=j.uI(),a=j.Ax(),B=this.xw.RN,m=K.Rz(a),R=null;
if(n!=!0&&n!=null){R=n.O();R.offset(-Q.x,-Q.y)}if(B==null||B.q!=Q.q||B._!=Q._||B.depth!=m){B=this.xw.RN=new gz.xF(Q.q,Q._,m);
R=null}B.set(a,R)}return this.xw.RN};f.prototype.aHc=function(j){var n=this.s,Q=this.buffer;if(!gz.oB){var a=this.Jx(j,Q,n);
if(a){Q=a.jB;n=a.s}return Q}if(this.xw.jK!=null||gz.oB!=this.xw.Sy){var a=this.Jx(j,Q,n);if(a){Q=a.jB;
n=a.s}var B=n;if(gz.oB!=this.xw.Sy||this.xw.PN==null||this.xw.PN.q!=B.q||this.xw.PN._!=B._||this.xw.PN.depth!=j.depth){if(this.xw.PN)this.xw.PN.delete();
this.xw.PN=new gz.aL(B.q,B._,j.depth);this.xw.PN.set(Q)}else{var m=this.xw.jK.O();m.offset(-n.x,-n.y);
this.xw.PN.set(Q,m)}}return this.xw.PN};f.prototype.Rb=function(){var j=this.N;if(this.Oi())j=this.sJ();
return j!=null&&j.isEnabled&&(!j.s.ke()||j.qF()!=255)};f.prototype.Jx=function(j,n,Q){if(this.FI()){var a=this.vG(j);
if(a.N&&a.N.isEnabled&&(!a.N.s.ke()||a.N.color==0)){var B=this.add.SoLd.filterFX.v;a.N.lF=B.filterMaskDensity?B.filterMaskDensity.v:255;
a.N.g_=B.filterMaskFeather?B.filterMaskFeather.v:0;var m=a.buffer,R=a.s;if(R.$()<Q.$()){R=Q;m=K.U(R.$()*4);
K.EC(a.buffer,a.s,m,R)}var q=a.N.OC(Q);K.m2(q);n=n.slice(0);K.L.uZ(m,R,n,Q,q,Q,0,Q,1);return{jB:n,s:Q}}}};
f.prototype.a5k=function(){var j={YF:!1,ba:!1,nR:0,EJ:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)j.ba=!0;
if(this.sJ()&&this.sJ().isEnabled)j.YF=!0;if(j.YF&&j.ba){j.nR=this.sJ().s.x-this.add.vmsk.sJ().s.x;j.EJ=this.sJ().s.y-this.add.vmsk.sJ().s.y}return j};
f.prototype.tI=function(j,n){if(fL!=0)return;if(n&&this.sJ().g_!=0){n=n.O();var Q=Math.round(this.sJ().g_*2.4);
n.VT(Q,Q)}var a=!1;if(this.add.lsct==fM.KB)return;var B=this,m=this.sJ()!=null&&this.sJ()._r,R=this.add.vmsk!=null&&this.add.vmsk._r,q=this.a5k(),U=JSON.stringify(q)!=this.xw.ar$||q.YF&&m||q.ba&&R;
if(U){if(q.ba){var l=this.add.vmsk.sJ();if(q.YF){this.N=this.sJ().Da(l);this.xw.Om=new eE(this.N.s.x-this.sJ().s.x,this.N.s.y-this.sJ().s.y)}else this.N=l}if(this.N)a=!0;
if(this.N)this.xw.jt=new eE(this.s.x-this.N.s.x,this.s.y-this.N.s.y);if(q.YF)this.sJ()._r=!1;if(q.ba)this.add.vmsk._r=!1;
this.ge(n)}else{if(q.YF&&q.ba){this.N.s.x=this.sJ().s.x+this.xw.Om.x;this.N.s.y=this.sJ().s.y+this.xw.Om.y}}if(B.Oi()){this.Df(j)}if(B.OZ()){var b;
if(this.N)b=new eE(this.s.x-this.N.s.x,this.s.y-this.N.s.y);if(this.N&&this.N.isEnabled&&(this.xw.jt==null||!b.N_(this.xw.jt))){this.xw.jt=b;
this.ge(n);a=!0}}if(k8.get(B.add)!=null)a=!0;if(a){var D=this.xw.rx;if(n&&D&&D!=!0)D=D.d_(n);else D=n?n:!0;
this.xw.rx=D}this.xw.ar$=JSON.stringify(q)};f.prototype.Df=function(j){if(fL!=0)return;var n=this,Q=n.add.vstk,a=new b4(0,0,j.q,j._),B,m=n.add.vmsk?this.add.vmsk.sJ():null,U=!0,D;
if(m&&m.isEnabled&&m.qF()==0)B=m.uI().O();else B=a;var R=n.sJ();if(R&&R.isEnabled&&R.qF()==0)B=B.uf(n.N.uI());
var q=m&&Q;if(Q&&(!Q.strokeEnabled.v||Q.strokeStyleLineWidth.v.val==0))q=!1;if(Q&&!Q.fillEnabled.v&&q)U=!1;
var l=K.U(B.$()*4);if(U){if(n.add.SoCo)gq.Co(l,n.add.SoCo.Clr.v);if(n.add.GdFl){var b=m&&m.color==0?K.R.sR(n.add.vmsk.z,null,!0):null;
gq.S4(n.add.GdFl,l,B,j,null,b)}if(n.add.PtFl)gq.MG(n.add.PtFl,l,B,j.add.Patt,n.add.fxrp)}if(q)D=g8.o0.cw.indexOf(Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(m){var c=m.lF;if(q)m.lF=255;var _=K.U(B.$());if(m.qF()!=0)_.fill(Math.round(m.qF()));if(m&&m.isEnabled){var p=m.uI(),X=m.Ax();
if(p.N_(B))K.D1(X,_);else K.Gc(X,p,_,B)}if(q&&D==2){}else{if(n.add.SoCo&&U){K.wj(_,l,3)}else K.XE(_,B,l,B)}if(q)m.lF=c}n.buffer=l;
n.s=B;if(q){var g=Q.strokeStyleContent.v,F=g8.o0.TF.indexOf(g.classID),k=this.add.vmsk.sJ(Q);if(D!=0&&!n.s.N_(a))n.extend(n.s.d_(k.uI()));
var c=k.lF;k.lF=255;var I=k.OC(n.s);k.lF=c;if(k.color==255)K.m2(I);var e=K.U(n.s.$()*4);if(F==0)gq.Co(e,g.Clr.v);
if(F==1)gq.S4(g,e,n.s,j,null,m.color==0?m.s:null);if(F==2)gq.MG(g,e,n.s,j.add.Patt,n.add.fxrp);var H=Q.strokeStyleOpacity.v.val/100;
if(H!=1)K.J_(I,H);if(k.color==255)D=2-D;if(D<2){K.L.uZ(e,n.s,n.buffer,n.s,I,n.s,255,n.s,1,!1);if(D==0)K.A2(_,n.buffer)}if(D==2){K.A2(I,e);
K.m2(_);K.L.uZ(e,n.s,n.buffer,n.s,_,B,255,n.s,1,!1);K.m2(_)}if(k.lF!=255){var A=e.slice(0);K.b7(A,255,1);
K.L.sg("norm",A,n.s,n.buffer,n.s,n.s,1-k.lF/255)}c=m.lF;m.lF=255;this.a7K=m.OC(n.s);m.lF=c}this.ge()};
f.prototype.pS=function(j,n,Q,a,B){var m=this,R=m.add.SoLd.Idnt.v,q=m.add.SoLd,U=N.IP.lw(q.nonAffineTransform),l=K.c.Tv(U),b=j.x3(R,q.Crop?q.Crop.v:null,[l.q,l._],q.Impr.v.classID,Q),I=null;
if(b==null)return;var D=b.LQ;if(B&&K.Re(D[0],0))return;q.Sz.v.Wdth.v=b.do.q;q.Sz.v.Hght.v=b.do._;if(fL!=0)return;
var c=b.Mp==null?q.Rslt.v.val:b.Mp,_=q.quiltWarp.v;if(K.UH.En(_))_=null;var p=K.D.ZM(U,b.do);if(_){var l=K.c.Tv(K.UH.Fo(_)[3]),X=l.x,g=l.y,F=1/l.q,k=1/l._;
p=K.D.ZM(U);p=K.D.Da(p,[F,0,-X*F,0,k,-g*k,0,0])}if(!n&&!m.FI()&&_==null){var e=j.T.indexOf(m),H=f.Et(m);
for(var v=0;v<e;v++){var A=j.T[v];if(A.add.SoLd&&!A.FI()&&f.Et(A)[0]==H[0]){var Z=f.Et(A);I={buffer:A.buffer.slice(0),s:A.s.O()};
I.s.offset(Math.round(H[1]-Z[1]),Math.round(H[2]-Z[2]));break}}}if(I==null)I=N.IP.CN(D,n?0:1,p,_,null,null,null,n);
if(I==null){m.buffer=K.U();m.s=new b4}else if(m.FI()){var J=m.vG(j);if(a){J.buffer.fill(0);K.EC(I.buffer,I.s,J.buffer,J.s)}else{J.buffer=I.buffer;
J.s=I.s.O()}this.vA(j,n)}else{m.buffer=I.buffer;m.s=I.s}m.tI(j);m.ge();j.ge()};f.Et=function(j){var n=j.add.SoLd,Q=n.Idnt.v,a=N.IP.lw(n.nonAffineTransform),B=K.D.ZM(a,new b4(0,0,1e3,1e3)),m=n.quiltWarp.v;
if(K.UH.En(m))m=null;return[[Q,B[0],B[1],B[3],B[4],B[6],B[7],m==null].join(":"),B[2],B[5]]};f.prototype.vA=function(j,n){if(n==null)n=!1;
var Q=this.vG(j),a=this.add.SoLd.filterFX.v,B=fo.aya(a),m=new b4(0,0,j.q,j._),R=Q.s.d_(m),q=Q.s.O();
q.VT(B.x,B.y);var U={buffer:null,s:R.uf(q)};U.buffer=K.U(U.s.$()*4);K.EC(Q.buffer,Q.s,U.buffer,U.s);
if(a.enab.v&&n==!1){var l=a.filterFXList.v;for(var v=0;v<l.length;v++){var b=l[v].v;if(b.enab.v==!1)continue;
var D=b.blendOptions.v,c=af.Ci(D.Md.v.BlnM),_=D.Opct.v.val/100,p=K.Gp.qF(b.FrgC.v),X=K.Gp.qF(b.BckC.v),g=fo.$d(b),F={buffer:K.U(U.buffer.length),s:U.s.O()},k=b.Fltr?b.Fltr.v:null;
if(k8.pM[g]!=null){var I=k8.pM[g],e=k8.Ya(I,k);if(e)k8.cN(e,U.buffer,F.buffer,U.s)}else fo.cN(g,U,k,p,X,F,[j.add.lnk2?j.add.lnk2:[],this.sJ(),j.Kj]);
if(c=="norm"&&_==1)U=F;else if(c=="norm"){K.L.uZ(F.buffer,F.s,U.buffer,U.s,null,null,null,U.s,_)}else{K.L.sg(c,F.buffer,F.s,U.buffer,U.s,U.s,_)}}}this.s=U.s;
this.buffer=U.buffer;this.Dy();this.ge();j.ge()};f.prototype.gQ=function(j,n,Q){this.YT=this.abh(j,n,Q)};
f.prototype.uo=function(j,n){var Q=this.abh(j,n,!0);if(Q==null)return null;var a={k9:Q.s0,FJ:Q.Mj,s:Q.tA};
if(a.k9==1||a.k9==3){var B=a.s,m=K.U(B.q*B._*4);K.wj(a.FJ,m,0);K.wj(a.FJ,m,1);K.wj(a.FJ,m,2);K.aDj(j.K.G,j.K.s,m,B);
a.FJ=m}return a};f.prototype.abh=function(j,n,Q){var a,B,m,R,q,U,l;if(this.s0<=0){var b=K.U(this.s.$());
K._W(this.buffer,b,3);a=K.I8.oP(n,{G:b,s:this.s},3);if(a==null)return null;var D=K.eW(a.G,a.s);R=a.s.O();
q=this.s.O();B=K.U(R.$()*4);K.EC(this.buffer,q,B,R);K.wj(a.G,B,3);m=this.buffer.slice(0);if(!Q){var c=n.G.slice(0);
K.m2(c);K.XE(c,n.s,m,q)}U=this.buffer.slice(0);l=this.s.O()}if(this.s0==1||this.s0==3){var _=this.s0==1?this.sJ():this.vG(j).N;
R=n.s.O();q=_.s.O();B=_.wG(R);var m=_.G.slice(0);if(!Q)K.L.Ro(_.color==255?K.Zo(R.$()):K.DB(R.$()),R,m,q,n.G,R,1);
U=_.G.slice(0);l=_.s.O()}return{s0:this.s0,Mj:B,tA:R,wS:m,Ze:q,pj:U,Jz:l}};f.prototype._V=function(j,n){var Q=this.YT;
if(Q.s0==0){this.s=Q.Jz;this.buffer=Q.pj;this.ge()}if(Q.s0==1||Q.s0==3){var a=Q.s0==1?this.sJ():this.vG(j).N;
a.G=Q.pj;a.s=Q.Jz;if(this.s0==1){a._r=!0;this.tI(j)}if(this.s0==3)this.ge()}this.YT=n};f.prototype.zB=function(j,n){if(this.s0<=0&&n.s.N_(this.s)){var Q=K.U(this.s.$());
K._W(this.buffer,Q,3);if(K.N_(j.K.G,Q)){var a=this.s,B=this.buffer;this.YT={s0:this.s0,Mj:B.slice(0),tA:a.O(),wS:K.U(0),Ze:new b4,pj:K.U(0),Jz:new b4};
return!0}}var m=this.YT;if(m==null)return!1;if(m.s0!=this.s0)return!1;if(!n.s.N_(m.tA))return!1;var R=m.Ze.d_(m.tA);
if(m.s0<=0){if(!R.N_(this.s))return!1;var q=K.U(m.Mj.length>>2);K._W(m.Mj,q,3);if(!K.N_(n.G,q))return!1;
var U=K.U(R.q*R._*4);K.EC(m.wS,m.Ze,U,R);K.L.sg("norm",m.Mj,m.tA,U,R,R,1);return K.N_(U,this.buffer)}if(m.s0==1||m.s0==3){var l=m.s0==1?this.sJ():this.vG(j).N;
if(!R.N_(l.s))return!1;var b=K.U(R.$());b.fill(l.color);K.Gc(m.wS,m.Ze,b,R);K.L.Ro(m.Mj,m.tA,b,R,n.G,R,1);
return K.N_(b,l.G)}};f.prototype.DY=function(j,n,Q,a){var B=this.YT;B.tA.offset(n,Q);var m=B.Ze.d_(B.tA);
if(B.s0<=0){var R=K.U(m.$()*4);K.EC(B.wS,B.Ze,R,m);K.L.sg("norm",B.Mj,B.tA,R,m,m,1);this.buffer=R;this.s=m;
this.ge()}else{var q=this.s0==1?this.sJ():this.vG(j).N,U=K.U(m.$());U.fill(q.color);K.Gc(B.wS,B.Ze,U,m);
K.L.Ro(B.Mj,B.tA,U,m,a.G,m,1);q.G=U;q.s=m.O();if(this.s0==1){q._r=!0;this.tI(j)}if(this.s0==3)this.ge()}};
f.prototype.aH4=function(j){var n=[-1,0,1,2];if(j)n.push(3);if(this.N)n.push(-2);if(this.Bc)n.push(-3);
return n};f.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};f.prototype.kw=function(dv){this.add.luni=this.name=dv};
f.prototype.YD=function(j){var n=this.add.lnsr,Q=this.add.TySh;if(n=="rend"&&Q){var a=eR.yi(Q.Kt);this.kw(a.slice(0,a.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
f.prototype.VH=function(){return(this.G$&1<<1)==0};f.prototype.OZ=function(){return(this.G$&1<<4)==0};
f.prototype.vf=function(){return(this.G$&1<<5)!=0};f.prototype.aw6=function(){var j=this;if(j.add.lnsr!="bgnd"){j.add.lnsr="bgnd";
j.kw("Background");j.add.lspf=1<<2}};f.prototype.arF=function(){var j=this;if(j.add.lnsr=="bgnd"){delete j.add.lnsr;
j.kw("Layer 0");j.add.lspf=0}};f.prototype.Na=function(j){var n=this.add.lspf;return n==null?!1:(n>>j&1)!=0};
f.prototype._a=function(j){if(j&&!this.VH())this.G$-=2;if(!j&&this.VH())this.G$+=2};f.prototype.vv=function(){var j=this.add.lmfx;
if(j==null)return!1;for(var n in j){if(n=="masterFXSwitch")continue;if(n=="Scl")continue;if(n=="classID")continue;
if(j[n].v.length>0)return!0}return!1};f.prototype.FI=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
f.prototype.iI=function(){var j=this.add.lmfx;if(j==null)return!1;if(!j.masterFXSwitch.v)return!1;for(var n in j){if(n=="masterFXSwitch")continue;
if(n=="Scl")continue;if(n=="classID")continue;var Q=j[n].v;for(var v=0;v<Q.length;v++)if(Q[v].v.enab.v)return!0}return!1};
f.prototype.Mw=function(){var j=this,n=j.add.SoLd,Q=j.add.TySh,a=j.add.vmsk,B=[];if(n)B=N.IP.lw(n.nonAffineTransform);
if(Q&&this.xw.xf){B=K.c.yc(j.xw.xf).g;K.c.C(B,Q.C,B)}if(a)B=K.c.yc(a.aHT()).g;return B};f.prototype.jL=function(j,n,Q,a){if(fL==1)return K.c.Tv(this.Mw());
var B=new b4,m=this.$R(j,Q,a);if(m.indexOf(0)!=-1)B=B.d_(this.s);if(m.indexOf(1)!=-1){var R=this.sJ(),q=R.uI();
B=Q&&R.qF()==0?B.ke()?q:B.uf(q):B.d_(q)}if(m.indexOf(2)!=-1){var U=this.add.vmsk,l=this.add.vstk,b;if(n){if(U.eF.length>1){var D=K.R.FZ(U.z,null,U.eF);
b=K.c.Tv(D);if(b.ke())b=null}if(b==null)b=K.R.sR(U.z,U.X.length!=0?U.X:null)}else b=K.R.sR(U.z);if(!a&&l&&l.strokeEnabled.v){var c=l.strokeStyleLineAlignment.v.strokeStyleLineAlignment,_=l.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(c!="strokeStyleAlignInside"){var p=l.strokeStyleLineWidth.v.val;if(_=="strokeStyleMiterJoin")b=new b4(0,0,j.q,j._);
else b.VT(p,p)}}B=B.d_(b)}if(m.indexOf(3)!=-1)B=B.d_(this.vG(j).N.uI());if(m.length==0&&this.Oi())B=a?new b4(0,0,0,0):new b4(0,0,j.q,j._);
return B};f.prototype.$_=function(){var j=this.add.artb,n=j.artboardBackgroundType.v,Q=0;if(n==1)Q=4294967295;
else if(n==2)Q=4278190080;else if(n==3)Q=0;else if(n==4){Q=j.Clr.v;Q=255<<24|Q.Bl.v<<16|Q.Grn.v<<8|Q.Rd.v}else throw n;
return Q};f.prototype.v_=function(){var j=this.add.artb.artboardRect.v,n=j.Btom.v,Q=j.Left.v,a=j.Rght.v,top=j.Top.v;
return new b4(Q,top,a-Q,n-top)};f.prototype.vn=function(j){var n=f.tt(j);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=n};f.tt=function(j){var n={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
n.Btom.v=j.y+j._;n.Left.v=j.x;n.Rght.v=j.x+j.q;n.Top.v=j.y;return n};f.prototype.$R=function(j,n,Q){var a=[],B=this;
if(!n&&B.Ok&&Q){a.push(2)}else if(B.s0<=0||n){if(B.OZ()){if(fL==1&&B.add.TySh)a.push(0);else if(fL==1&&B.add.SoLd)a.push(0);
else if(!this.s.ke()||B.add.SoLd||B.add.TySh)a.push(0)}if(B.sJ()&&!B.sJ().s.ke())if(B.sJ().DW||n)a.push(1);
if(B.add.vmsk)if(B.add.vmsk.DW||n)a.push(2);if(B.FI()&&B.vG(j).N&&!B.vG(j).N.s.ke())a.push(3)}else if(B.s0==1){a.push(1);
if(B.sJ().DW&&!B.sJ().s.ke()){if(B.OZ())if(!this.s.ke())a.push(0);if(B.add.vmsk)if(B.add.vmsk.DW)a.push(2)}}else if(B.s0==3&&!B.vG(j).N.s.ke())a.push(3);
if(B.add.artb&&a.indexOf(0)==-1)a.push(0);a.sort();return a};f.prototype.sJ=function(){var j=this;return j.Bc?j.Bc:j.add.vmsk&&j.add.vmsk.isEnabled?null:j.N};
f.prototype.vG=function(j){var n=this.add.SoLd.placed.v,Q=j.add.FEid;if(Q==null)return null;for(var v=0;
v<Q.length;v++)if(Q[v].id==n)return Q[v];return null};f.prototype.extend=function(j){K.a4V(this,j)};
f.prototype.apu=function(j,n,Q){var a=j.O();if(this.iI()){var B=this.add.lmfx,m=n.root._N(n.T.indexOf(this)),R=B.gradientFillMulti.v,q=!1;
for(var v=0;v<R.length;v++)if(R[v].v.enab.v&&R[v].v.Algn.v)q=!0;if(q)a=a.d_(m.uI(n,!1));var U=gq.ajg(this.add.lmfx,n,Q);
a.offset(U.x,U.y);a.q+=U.q;a._+=U._}return a};f.prototype.Dy=function(){if(this.OZ())K.DS(this);var j=this.sJ();
if(j)j.Dy()};f.prototype.O=function(){var j=new f;j.s=this.s.O();j.buffer=this.buffer.slice(0);j.TM=this.TM;
j.wT=this.wT;j.U7=this.U7;j.G$=this.G$;j.name=this.name;j.rH=this.rH.slice(0);if(this.N)j.N=this.N.O();
if(this.Bc)j.Bc=this.Bc.O();for(var n in this.add)j.add[n]=cO.O(n,this.add[n]);return j};f.prototype.JX=function(j){var n=this;
if(n.add.TySh)delete n.add.TySh;if(n.add.SoLd){var Q=this.Jx(j,this.buffer,this.s);if(Q){this.buffer=Q.jB;
this.s=Q.s;this.ge()}delete n.add.SoLd}if(n.add.SoCo||n.add.GdFl||n.add.PtFl){if(n.add.vogk)delete n.add.vogk;
if(n.add.SoCo)delete n.add.SoCo;if(n.add.GdFl)delete n.add.GdFl;if(n.add.PtFl)delete n.add.PtFl;if(n.add.vmsk){console.log(n.Bc,n.N);
delete n.add.vmsk;if(n.Bc==null&&n.N)delete n.N;else if(n.Bc!=null&&n.N!=null){n.N=n.Bc;delete n.Bc}}}if(!n.bx()&&k8.get(n.add)==null&&!this.OZ())this.G$-=16};
f.prototype.vI=function(j){var n=255,Q=0;if(j==2){var a=this.add.SoLd.filterFX.v;if(a.filterMaskDensity)n=a.filterMaskDensity.v;
if(a.filterMaskFeather)Q=a.filterMaskFeather.v}else{var B=j==0?this.sJ():this.add.vmsk;n=B.lF;Q=B.g_}return{E0:j,QY:n,tu:Q}};
f.prototype.a7y=function(j){if(j.E0==2){var n=this.add.SoLd.filterFX.v;if(j.QY==255)delete n.filterMaskDensity;
else n.filterMaskDensity={t:"long",v:j.QY};if(j.tu==0)delete n.filterMaskFeather;else n.filterMaskFeather={t:"doub",v:j.tu};
this.ge()}else{var Q=j.E0==0?this.sJ():this.add.vmsk;Q.lF=j.QY;Q.g_=j.tu;Q._r=!0}};f.prototype.sU=function(){var j=this,n=j.add.vmsk;
if(n==null)return;j.add.vogk=K._y.afK(n.z)};f.sU=function(j){var n=[],Q=K.R.$L(j);for(var a=0;a<Q;a++)n.push(K._y.DB());
return n};var fM={vP:0,ko:1,NO:2,KB:3};f.km=function(){this.name="Mask";this.fa=!1;this.Cx={n:255,i:0,b:0};
this.b5=50;this.m_=0;this.color=255;this.DW=!0;this.isEnabled=!0;this.lt=!1;this.lF=255;this.g_=0;this.s=new b4;
this.G=K.U(0);this.oL=null;this.ayy=null;this._r=!0};f.km.prototype.Da=function(j){if(!this.isEnabled)return j;
var n=new f.km;n.color=Math.round(this.qF()*j.qF()/255);if(this.qF()==0&&j.qF()==0)n.s=this.uI().uf(j.uI());
else if(j.qF()==0)n.s=j.uI().O();else if(this.qF()==0)n.s=this.uI().O();else n.s=this.uI().d_(j.uI());
n.G=this.OC(n.s);n.lF=255;n.g_=0;var Q=j.OC(n.s);K.aAq(Q,n.s,n.G,n.s);return n};f.km.prototype.uI=function(){if(this.g_==0)return this.s;
var j=Math.ceil(this.g_*2.2),n=this.s.O();if(n.y==0){if(n.x==0)n.q+=j;else n.VT(j,0);n._+=j}else n.VT(j,j);
return n};f.km.prototype.Ax=function(){if(this.g_==0&&this.lF==255)return this.G;if(this.g_==0){var j=this.G.slice(0);
K.m2(j);K.J_(j,this.lF/255);K.m2(j);return j}var n=this.uI(),Q=this.wG(n),j=K.U(n.$());K.KX.mg(Q,j,n,this.g_);
if(this.lF!=255){K.m2(j);K.J_(j,this.lF/255);K.m2(j)}return j};f.km.prototype.qF=function(){return Math.round(255-(255-this.color)*(this.lF/255))};
f.km.prototype.extend=function(j){K.extend(this,j,this.color)};f.km.prototype.Dy=function(){if(this.color==255)K.m2(this.G);
K.Dy(this);if(this.color==255)K.m2(this.G)};f.km.prototype.O=function(){var j=new f.km;j.name=this.name;
j.fa=this.fa;j.Cx=this.Cx;j.b5=this.b5;j.m_=this.m_;j.color=this.color;j.DW=this.DW;j.isEnabled=this.isEnabled;
j.lt=this.lt;j.lF=this.lF;j.g_=this.g_;j.s=this.s.O();j.G=this.G.slice(0);return j};f.km.prototype.wG=function(j,n){if(n==null)n=K.U(j.$());
n.fill(this.color);K.Gc(this.G,this.s,n,j);return n};f.km.prototype.OC=function(j,n){var Q=this.uI(),a=this.Ax();
if(n==null)n=K.U(j.$(),K.Rz(a));n.fill(this.qF());K.Gc(a,Q,n,j);return n};f.hx=function(){this.DW=!0;
this.isEnabled=!0;this.lF=255;this.g_=0;this.gV=0;this.H_=1;this.z=[{w:6},{w:8,all:0}];this.aX=[-3,-3];
this.pG=!1;this.Bc=null;this._r=!0;this.X=[];this.eF=[]};f.hx.prototype.aHT=function(j){var n=f.hx.wX(this.z),Q=new j8;
if(j)Q.rotate(-this.gV);K.R.fK(n,Q);return K.R.sR(n)};f.hx.prototype.aZ=function(){var j=this.aHT(!0),n=K.c.yc(j).g,Q=new j8;
Q.rotate(this.gV);K.c.C(n,Q,n);return n};f.hx.prototype.offset=function(j,n){this.Bc=this.sJ();K.R.fK(this.z,new j8(1,0,0,1,j,n));
this.Bc.s.offset(j,n)};f.hx.prototype.sJ=function(j){if(!this._r&&this.Bc&&j==null){this.Bc.isEnabled=this.isEnabled;
return this.Bc}var n=K.R.sR(this.z),Q="strokeStyleLineAlignment",a="strokeStyleLineJoinType";if(n.$()>2e4*2e4)n=new b4(0,0,100,100);
if(j&&j[Q].v[Q]!="strokeStyleAlignInside"){var B=1;if(j[a].v[a]=="strokeStyleMiterJoin"){var m=K.R.a5m(this.z),R=m/2,q=Math.sin(R),U=Math.cos(R);
U/=q;q=1;var B=Math.sqrt(U*U+q*q);if(isNaN(B)||B<1)B=1}B*=j[Q].v[Q]=="strokeStyleAlignOutside"?1:.5;
var l=Math.ceil(j.strokeStyleLineWidth.v.val*B);l=Math.min(l,600);n.VT(l,l)}n=K.c.Fa(n);var b=new f.km;
b.color=K.R.Os(this.z)?0:255;b.DW=this.DW;b.isEnabled=this.isEnabled;b.lt=!0;b.s=n;b.lF=this.lF;b.g_=this.g_;
b.G=K.U(b.s.$());if(!n.ke())K.R.a6x(this.z,b.G,b.s,j);if(j==null){this.Bc=b;this._r=!1}return b};f.hx.prototype.O=function(){var j=new f.hx;
j.DW=this.DW;j.isEnabled=this.isEnabled;j.lF=this.lF;j.g_=this.g_;j.gV=this.gV;j.z=f.hx.wX(this.z);j.aX=this.aX.slice(0);
j.pG=this.pG;j.X=this.X.slice(0);j.eF=this.eF.slice(0);return j};f.hx.prototype.concat=function(j){var n=j.z.slice(2);
if(n.length==0)return;n[0].H_=3;this.z=this.z.concat(n)};f.hx.wX=function(j){var n=[];for(var v=0;v<j.length;
v++){var Q=j[v];if(Q.w>5||Q.w==0||Q.w==3)n.push(K.u(Q));else n.push({w:Q.w,vK:Q.vK.O(),V:Q.V.O(),XH:Q.XH.O()})}return n};
f.hx.anJ=function(j,n,Q){if(j.length!=n.length)return!1;for(var v=2;v<j.length;v++){var a=j[v],B=n[v];
if(a.w!=B.w)return!1;if(a.w==0||a.w==3){if(a.length!=B.length||!Q&&a.H_!=B.H_)return!1}else if(!a.vK.N_(B.vK)||!a.V.N_(B.V)||!a.XH.N_(B.XH))return!1}return!0};
f.hx.prototype.abp=function(){var j=this.z;for(var v=3;v<j.length;v++)if(j[v].w==0||j[v].w==3)j[v].H_=-1};
f.mD=function(){this.w=null;this.o8=2;this.A8=null;this.yR="";this.px="";this.T$="";this.open=0;this.raw=null;
this.LQ=null;this.a66="none";this.HM=!1;this.Mp=null;this.do=null};f.mD.prototype.O=function(){var j=new f.mD;
j.w=this.w;j.o8=this.o8;j.A8=this.A8;j.yR=this.yR;j.px=this.px;j.T$=this.T$;j.open=this.open;j.raw=new Uint8Array(this.raw.buffer.slice(0));
return j};f.mD.prototype.rd=function(j,n,Q,a,B){if(Q==null)Q="none";var m=this,R=fj.Ot(m.raw.buffer),q=R=="svg"||R=="pdf"||R=="ai";
if(m.LQ){var U=n&&q&&Math.max(m.LQ[1].q,m.LQ[1]._)<Math.max(n[0],n[1]);if(!U&&Q==this.a66&&!m.HM)return}this.a66=Q;
if(!q)j=0;if(R==null){alert("Unsupported format: "+L.AP(m.raw,0,4));return null}var l=fj.Mi(R);if(R=="psd"&&fL==1){var b=hz.a4Z(m.raw)[0],D=new Uint8Array(b.data);
m.LQ=[D,b.nJ]}else if(l.ps){var c=new hs(name+(R=="psd"?"":"-"+R)+".psd"),D;l.z5(m.raw.buffer,c,n);var _=new b4(0,0,c.q,c._);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(Q)!=-1){var p=[];for(var v=0;v<c.T.length;
v++){var X=c.T[v],g=X.buffer;if(!X.s.N_(_)){g=K.U(_.$()*4);K.EC(X.buffer,X.s,g,_);console.log("resizing")}p.push(g)}D=K.U(_.$()*4);
K.stack.stack(p,D,Q)}else{for(var v=0;v<c.T.length;v++)if(c.T[v].Oi())c.T[v].tI(c);if(a&&c.HM){var F=ji.Uz(c,a,B);
m.HM=!F;if(F)ji.G1(c,a,B)}c.iN();c.ge();c.D$();D=c.rd()}m.LQ=[D,_];m.Mp=c.Mp!=null&&c.Mp!=0?c.Mp:72}else if(l){var k=l.z5(m.raw.buffer)[0];
m.LQ=[new Uint8Array(k.data),k.nJ];m.Mp=k.Mp!=null&&k.Mp!=0?k.Mp:72}if(m.LQ){m.do=m.LQ[1].O();if(j==1){var g=m.LQ[0],I=m.LQ[1],e=K.U(I.$());
K._W(g,e,3);var H=K.eW(e,I),A=K.U(H.$()*4);K.EC(g,I,A,H);H.x=H.y=0;m.LQ=[A,H]}else{var g=m.LQ[0],I=m.LQ[1],H=K.ap(g,I,2,null,4278190080);
if(H.ke())H=new b4(0,0,1,1);while((H.x&15)!=0){H.x--;H.q++}while((H.y&15)!=0){H.y--;H._++}if(!H.N_(I)&&H.$()/I.$()<.7){var A=K.U(H.$()*4);
K.EC(g,I,A,H);m.LQ=[A,H]}}K.xu(m.LQ)}};f.l5="0";f.mQ="2";f.YV="2.5";f.Gh="2.6";f.Fj="3";f.kO="4";f.db="4.5";
f.asw="4.6";f.aA1="5";f.Rr="5.5";f.GA="6";f.asK="7";f.a4k="8";f.Oq="9";f.VQ="9.3";f.adI="9.5";f.Og="9.6";
f.hf="10";f.AX="11";f.my="12";f.Fn="13";f.Qf="13.1";f.aIk="13.2";f.w2="13.3";f.If="13.4";f.nF="14";f.s6="14.1";
f.a9="14.2";f.Fy="14.3";f.fX="17";f.d4="18";f.awM="19";f.ed="19.5";f.EH="19.6";f.Lt="19.7";f.Jg="19.8";
f.Iy="20";f.pc="21";f.MI="21.5";f.cv="22";f.MQ="22.5";f.yy="23";f.aCc="24";f.n1="25";f.a3I="26";f.asd="27";
f.zj="28";f.fb="29";f.iO="30";f.WN="31";f.X0="32";f.adf="32.5";f.cj="33";f.c1="34";f.OW="35";f.ef="36";
f.kR="36.5";f.Cv="37";f.yW="37.5";f.ay$="37.6";f.jN="38";f.BG="38.5";f.WS="38.6";f.Gw="39";f.dc="40";
f.L9="41";f.a6f="42";f.Hh="50";f.qf="51";f.MB="52";f.ou="53";f.e2="54";f.afc="54.5";f.Oe="54.6";f.aGE="54.7";
f.Nm="54.8";f.te="55";f.wd="55.5";f.L6="56";f.RS="57";f.a_="58";f.E5="59";f.MO="60";function id(){this.depth=0;
this.index=-1;this.W=null;this.oe=null;this.CA=-1;this.children=null;this.parent=null;this.XQ=null}id.prototype.abg=function(j,n){if(this.depth!=0)j.push(this.W.getName());
if(this.children)for(var v=0;v<this.children.length;v++)this.children[v].abg(j,n);if(j.length>n.n8.length)n.n8=j.slice(0);
if(this.depth!=0)j.pop()};id.prototype.a2I=function(){var j=0;if(this.W.bx()){for(var v=0;v<this.children.length;
v++)j+=this.children[v].a2I()}else if(this.W.buffer)j+=this.W.buffer.length;return j};id.prototype._N=function(j){var n=this.XQ[j];
return this.XQ[j]};id.prototype.Yo=function(j,n){var Q=this.W;if(!Q.VH()||Q.Na(2)||Q.Na(31))return null;
if(Q.Rb()){var a=Q.N.s.Ta(j);if(!a&&Q.N.color==0)return}if(Q.bx()){for(var v=0;v<this.children.length;
v++){var dv=this.children[v];dv.Yo(j,n)}}else if(fL==1){var B=Q.Mw();if(j.Ta(K.c.Tv(B))&&n.indexOf(this.index)==-1)n.push(this.index)}else if(Q.s.Ta(j))n.push(this.index)};
id.prototype.Zf=function(j,n){var Q=this.W;if(!Q.VH()||Q.Na(2)||Q.Na(31))return null;if(Q.Rb()){if(Q.N.s.PU(j)){if(!K.Zf(j,Q.N.G,Q.N.s))return null}else if(Q.N.color==0)return null}if(Q.bx()){if(Q.add.artb&&!Q.v_().PU(j))return null;
for(var v=this.children.length-1;v>=0;v--){var dv=this.children[v],a=dv.Zf(j,n);if(a&&n==null)return a}return null}else if(fL==1){if(Q.add.vmsk){var B=Q.add.vstk,m=!B.fillEnabled.v&&!Q.Le,R=B.strokeStyleLineWidth.v.val*.5,q=K.R.Zf(Q.add.vmsk.z,j,m,R);
return q.cb==-1?null:this}var U=Q.Mw();if(cc.fZ(U,j.x,j.y))return this}else if(Q.add.TySh&&Q.s.PU(j)||K.ady(j,Q.buffer,Q.s)){if(n==null)return this;
else n.push(this.index)}return null};id.prototype.a2a=function(j){var n=this.W;if(!n.VH()||n.Na(2)||n.Na(31))return null;
var Q=n.add.vmsk;if(Q&&Q.isEnabled){var a=K.R.Zf(Q.z,j).cb;if(a!=-1)return{at8:this,aGA:a}}if(n.bx()){if(n.add.artb&&!n.v_().PU(j))return null;
for(var v=this.children.length-1;v>=0;v--){var dv=this.children[v],B=dv.a2a(j);if(B)return B}return null}return null};
id.prototype.y$=function(j,n){j.push(this.index);if(this.W.bx()){j.push(this.CA);if(n)if(this.W.s0==1&&this.W.sJ().DW==!1)return;
for(var v=0;v<this.children.length;v++)this.children[v].y$(j)}};id.Tz=function(){var j=document.createElement("canvas");
return j.getContext("2d")};id.an8=function(j,n){var Q,a;if(j.q>j._){Q=Math.floor(n);a=Math.floor(n*(j._/j.q))}else{Q=Math.floor(n*(j.q/j._));
a=Math.floor(n)}return new eE(Q,a)};id.np=32;id.st=1;id.prototype.r9=function(j,n,Q){var a=id.st,B=this.W;
if(B.bx()&&B.add.artb!=null)n=B.v_();var m=a==0?B.s:n;if(m.ke()||B.add.TySh)m=n;var R=id.np*N.lS(),q=id.an8(m,R),U=q.x,l=q.y,b=id.an8(n,R),D=k8.get(B.add)!=null;
if(B.Oi()&&B.add.vmsk==null||B.add.TySh||D)U=l=Math.max(l,16);else if(B.bx()){U=l=Math.round(18*N.lS())}else{U=Math.max(U,6);
l=Math.max(l,6)}if(Q&&B.gi==null){B.gi=id.Tz();if(fL==0){B.d2=id.Tz();B.w1=id.Tz();B.WA=id.Tz()}}var c=B.Oi()&&B.add.vmsk;
if(fL==1&&!B.bx()){if(Q)K.l8.ach(B.gi,U,l,j,this)}else if(c){if(Q&&B.add.vstk)K.l8.Wt(B.gi,U,l,m,B.buffer,B.s,!1,null,!B.add.vstk.fillEnabled.v&&!B.add.vstk.strokeEnabled.v);
if(Q)K.l8.ayD(B.gi,U,l)}else if(B.add.TySh){if(Q)K.l8.aa7(B.gi,l,l,B.add.TySh)}else if(B.add.SoCo){if(Q)K.l8.ae_(B.gi,l,l,B.add.SoCo)}else if(B.add.GdFl){if(Q)K.l8.ahl(B.gi,l,l,B.add.GdFl)}else if(B.add.PtFl){if(Q)K.l8.agu(B.gi,l,l,B.add.PtFl,j)}else if(D){if(Q)K.l8.aqH(B.gi,l,l,B.add)}else if(B.add.SoLd){if(Q)K.l8.Wt(B.gi,U,l,m,B.buffer,B.s,!1);
if(Q)K.l8.alj(B.gi,U,l,B.add.SoLd)}else if(B.bx()){}else{if(Q){if(B.OZ())K.l8.Wt(B.gi,U,l,m,B.buffer,B.s,!1);
else{K.l8.acN(B.gi,l,l)}}}var _=B.sJ();if(Q){if(_)K.l8.Uo(B.d2,b.x,b.y,n,_);if(B.FI()&&B.vG(j)&&B.vG(j).N){var p=B.vG(j).N;
K.l8.Uo(B.WA,b.x,b.y,n,p)}if(!c&&B.add.vmsk){K.l8.Uo(B.w1,b.x,b.y,n,B.add.vmsk.sJ(),!0)}}if(_||B.add.vmsk)l=Math.max(l,b.y);
B.ahC=Math.max(l,16);if(Q!=!0&&B.bx()&&(B.add.lsct==fM.ko||j.T.length<4e3))for(var v=0;v<this.children.length;
v++)this.children[v].r9(j,n)};id.prototype.adj=function(j,n,Q,a){this.depth=Q;var B=j[n];if(a==null)a=[];
this.XQ=a;if(B.add.lsct==fM.KB){this.oe=B;this.CA=n-1;this.children=[];var v=n+1;while(!0){var m=j[v];
if(m==null)console.log(v,j.length);if(m.add.lsct==fM.ko||m.add.lsct==fM.NO){if(B.add.lyid==m.add.lyid)B.add.lyid+=16777215;
this.W=m;this.index=v-1;a[this.index]=this;a[n-1]=this;break}var R=new id;R.parent=this;v=R.adj(j,v,Q+1,a);
this.children.push(R)}return v+1}else{this.W=B;this.index=n-1;a[this.index]=this;return n+1}};id.prototype.Jc=function(j,n,Q,a){var B=this._N(Q),m=j;
while(B.parent!=null){m=B.W.apu(m,n,a);B=B.parent}return m};id.prototype.uI=function(j,n){var Q=this.W,a=new b4;
if(!Q.VH())return a;var B=Q.sJ();if(Q.bx())for(var v=0;v<this.children.length;v++){var m=this.children[v].uI(j,!0);
a=a.d_(m)}else if(k8.get(Q.add)!=null)a=Q.Rb()&&Q.N.color==0?Q.N.uI().O():new b4(0,0,j.q,j._);else if(Q.Oi()&&Q.add.vmsk&&Q.add.vmsk.isEnabled&&Q.add.vstk){a=Q.s.O()}else if(Q.Oi()&&B&&B.isEnabled&&B.qF()!=0)a=new b4(0,0,j.q,j._);
else{a=Q.jL(j,!1,!0);if(Q.add.vmsk)a=K.c.Fa(a)}return n?Q.apu(a,j):a};id.Cg={delete:function(j){if(j&&j.q)j.delete()},U:function(j,n){return gz.oB?new gz.aL(j,n):K.U(j*n*4)},Qa:function(j,n,Q){var a=n.q,B=n._;
if(j==null||gz.oB&&(j.q!=a||j._!=B||j.depth!=Q)||!gz.oB&&(j.length!=a*B*4||K.Rz(j)!=Q)){id.Cg.delete(j);
return gz.oB?new gz.aL(a,B,Q):K.U(a*B*4,Q)}else return j},Gc:function(j,n,Q,a,B){(gz.oB?gz.Ej:K.EC)(j,n,Q,a,B)},uZ:function(j,n,Q,a,B,m,R,q,v,U,l){(gz.oB?gz.L.g9:K.L.uZ)(j,n,Q,a,B,m,R,q,v,U,l)},a9p:function(j,n,Q,a,B,m,R,q){var U=Q.O(),l=B.q,b=B._,D=U.x,c=U.y,_=U.x+U.q>l?-1:0,p=U.x<0?2:1,X=U.y+U._>b?-1:0,g=U.y<0?2:1;
for(var F=X;F<g;F++)for(var k=_;k<p;k++){U.x=D+k*l;U.y=c+F*b;id.Cg.sg(j,n,U,a,B,m,R,q)}},sg:function(j,n,Q,a,B,m,R,q){if(gz.oB)gz.L.anU(j,n,Q,a,B,m,R,q);
else K.L.sg(j,n,Q,a,B,m,R,q)},Uc:function(j,n){if(gz.oB){gz.Rf(j);gz.jl(n)}else K.G5(j,n)},sq:function(j){if(gz.oB){gz.Rf(j);
gz.sq()}else{var n=K.Rz(j),Q=n==8?255:n==16?65535:1;if(n==8)K.b7(j,255,1);else for(var v=0;v<j.length;
v+=4)j[v+3]=Q}},aG6:function(j,n,Q,a,B){if(gz.oB){gz.L.g9(null,null,a,B,j,n,Q,B,1,!1)}else{if(Q==255)K.XE(j,n,a,B);
else{var m=K.U(n.$());K.Oh(a,B,m,n);K.Pi(j,m);K.b7(a,0,1);K.aDj(m,n,a,B)}}},Sq:function(j,n,Q,a){if(gz.oB)gz.L.g9(null,null,Q,a,j,n,0,a,1,!1);
else K.Sq(j,n,Q,a)}};id.prototype.pE=function(j,n,Q,a,B,m){var R=typeof m=="number";if(!this.W.bx()&&(R&&this.index>m||!R&&m.indexOf(this.index)==-1)){return}var q=this.W,U=gq.dP(q),l=id.Cg,b=j.depth;
if(b==null)b=K.Rz(j);var D=q.Oi()?q.sJ():q.N;if(!q.VH())return;if(q.Rb()&&D.s.ke()&&D.qF()==0){return}if(q.add.vstk==null&&this.uI(a,!1).ke()){return}if(q.Oi()&&q.s.ke())return;
var c=this.uI(a,!0).uf(Q);if(!n.N_(Q)&&!Q.Ta(c))return;if(q.bx()&&q.add.artb){var _=q.v_();Q=Q.uf(_)}var p=id.aa_(q,B,U);
if(!p){this.a1t(j,n,Q,a,B,m);return}q.xw.ZQ=l.Qa(q.xw.ZQ,c,b);l.Gc(j,n,q.xw.ZQ,c,Q);this.a1t(q.xw.ZQ,c,Q,a,B,m);
l.uZ(q.xw.ZQ,c,j,n,null,null,0,Q,q.wT/255,q.TM=="diss",U.tH)};id.aa_=function(j,n,Q){if(Q.tH[0]*Q.tH[1]*Q.tH[2]==0)return!0;
return j.wT!=255&&(n.length!=0||j.bx()||j.iI())};id.aCW={xw:{}};id.prototype.a1t=function(j,n,Q,a,B,m){var R=this.W,q=gq.dP(R),U=k8.get(R.add)!=null,l=id.Cg,b=j.depth,A=null,Z=null,J=null,d;
if(b==null)b=K.Rz(j);var D=id.aa_(R,B,q),c=D?1:R.wT/255,_=R.Oi()?R.sJ():R.N,p=R.bx()&&q.am==null&&(R.TM=="pass"||R.add.artb)&&!(B.length>0||q.fill!=1||R.iI()),X=!R.bx()&&!U&&!R.iI()&&B.length==0,g=U&&!R.iI()&&B.length==0;
if(p||X||g){var F=j,k=n;if(R.Rb()){k=this.uI(a,!1);F=R.xw.OY=l.Qa(R.xw.OY,k,b);l.Gc(j,n,R.xw.OY,k)}if(p)this.tP(F,k,Q,a,m);
if(X)l.sg(R.TM,R.aHc(a),R.s,F,k,Q,c,q);if(g){var I=R.Rb()&&_.qF()==0?_.uI().O():k.O(),e=R.xw;if(I.N_(new b4(0,0,a.q,a._)))e=id.aCW;
e.qN=this.aiO(F,k,e.qN,I,R.add);q.Xu=!0;l.sg(R.TM,e.qN,I,F,k,Q,c,q)}if(R.Rb())l.uZ(F,k,j,n,R.ae$(),_.uI(),_.qF(),Q,1,R.TM=="diss");
R.xw.agp();return}var H=R.bx()&&R.TM=="pass"&&(B.length>0||q.fill!=1||R.iI()),I=R.s;if(R.bx()){I=this.uI(a,!1);
J=R.xw.qN=l.Qa(R.xw.qN,I,b);l.Uc(J,0);this.tP(J,I,I,a,m);Z=l.Qa(R.xw.lU,I,b);l.Gc(J,I,Z,I)}else if(U){I=R.Rb()&&_.qF()==0?_.uI().O():n.O();
Z=l.Qa(R.xw.lU,I,b);l.Uc(Z,4294967295)}else{I=R.s;A=R.aHc(a);Z=l.Qa(R.xw.lU,I,b);l.Gc(A,I,Z,I)}R.xw.lU=Z;
if(R.Rb())l.aG6(R.ae$(),_.uI(),_.qF(),Z,I);if(R.iI())if(R.xw.jK||R.xw.G4||R.xw.Sy!=gz.oB||R.xw.rx||R.bx()){var s=R.add.vmsk,E=K.U(I.$(),b);
if(gq.aeN(R.add.lmfx)){if(gz.oB){if(!R.bx()&&R.sJ()==null&&R.s.N_(I)&&s==null)K._W(R.buffer,E,3);else{var z=K.U(I.$()*4,b);
Z.get(z);K._W(z,E,3)}}else K._W(Z,E,3)}if(R.xw.G4||R.xw.Sy!=gz.oB||!K.N_(E,R.xw.TG)){var h=null;if(R.Oi()&&s&&s.isEnabled&&s.sJ().color==0)h=s.sJ().s;
gq.amT(R.xw.eE);R.xw.eE=gq.amK(E,I,R.add.lmfx,R.add.fxrp,a,h);R.xw.TG=E;R.xw.a4f=I}}if(R.iI())gq.a5E(R.add.lmfx,R.xw.eE,I,j,n,Q);
if(R.bx()){A=l.Qa(R.xw.OY,I,b);l.Uc(A,0);if(R.TM=="pass")l.Gc(j,n,A,I);if(H)l.Sq(J,I,A,I);this.tP(A,I,Q,a,m);
R.xw.OY=A}if(U){A=R.xw.OY=this.aiO(j,n,R.xw.OY,I,R.add)}if(R.bx()||U)d=A;else{d=l.Qa(R.xw.OY,I,b);l.Gc(A,I,d,I,Q);
R.xw.OY=d}l.sq(d);for(var v=0;v<B.length;v++)B[v].pE(d,I,Q,a,[],m);var Y=R.xw.yN=l.Qa(R.xw.yN,I,b);l.Gc(j,n,Y,I,Q);
if(U)q.Xu=!0;l.sg(R.TM=="pass"?"norm":R.TM,d,I,Y,I,Q,1,q);if(R.iI()){var C=R.xw.eE.w.FrFX,i=null;if(C.length!=0){i=C[0];
for(var v=0;v<C.length;v++)if(C[v].bT.q>i.bT.q)i=C[v];R.xw.El=l.Qa(R.xw.El,i.bT,b);l.Gc(j,n,R.xw.El,i.bT,Q);
R.xw.Wk=l.Qa(R.xw.Wk,i.bT,b)}gq.aBP(R.add.lmfx,R.xw.eE,I,j,n,Q,Y,R.xw.El,R.xw.Wk,i?i.bT:null)}l.uZ(Y,I,j,n,Z,I,0,Q,1,R.TM=="diss");
R.xw.agp()};id.prototype.aiO=function(j,n,Q,a,B){var m=k8.get(B),R;if(m)R=k8.Ya(m,B[m]);var q=K.Rz(j),U=id.Cg;
Q=U.Qa(Q,a,q);if(!(gz.oB&&n.N_(a)))U.Gc(j,n,Q,a);if(R){if(gz.oB){var l=a.O();l.x=l.y=0;if(n.N_(a)){gz.Rf(Q,l);
k8.df(R,j.K8,l)}else{gz.Rf(Q,a);Q.A3(a);k8.df(R,Q.C8,l)}}else k8.cN(R,Q,Q,a)}return Q};id.prototype.tP=function(j,n,Q,a,B){var m=n.q,R=n._,q=n.x,U=n.y,dv=Q,l=dv.x,b=dv.y,D=-1,c=-1,_=2,p=2;
if(!a.zO){D=c=0;_=p=1}var X=this.children;for(var v=0;v<X.length;v++){var g=k8.get(X[v].W.add)!=null,F=[];
for(var k=v+1;k<X.length;k++)if(X[k].W.U7)F.push(X[k]);else break;for(var I=c;I<p;I++)for(var e=D;e<_;
e++){n.x=q+e*m;n.y=U+I*R;dv.x=l+e*m;dv.y=b+I*R;if((e!=0||I!=0)&&g)continue;X[v].pE(j,n,dv,a,F,B)}v+=F.length}n.x=q;
n.y=U;dv.x=l;dv.y=b};(function(){id.prototype.XO=function(B,m,R,q){var U=this.W,l=U.add.lmfx,b=U.add.TySh,D=U.add.SoLd,_=null;
if(!U.VH())return;m.save();var c=U.wT/255*(U.add.iOpa?U.add.iOpa/255:1);m.globalAlpha*=c;m.globalCompositeOperation=af.iL[af.Yh.indexOf(U.TM)];
var p=B.add.prvw==0;if(p){m.lineWidth=1/B.e.yr;m.fillStyle="black"}var X=gq.ajw(U,!1);if(X){_=m;var g=document.createElement("canvas");
g.width=m.canvas.width;g.height=m.canvas.height;var F=m.getTransform();m=g.getContext("2d");m.setTransform(F.a,F.b,F.c,F.d,F.e,F.f)}if(U.bx()){var k=this.children,I=null;
for(var v=0;v<k.length;v++)if(k[v].W.Le&&k[v].W.VH())I=k[v].W;if(I&&!p){m.beginPath();n(I,m);m.clip()}for(var v=0;
v<k.length;v++)k[v].XO(B,m,R,q)}else if(b){var e=!0;if(U.xw.path==null){e=ji.nk(b,R.wR);if(e)ji.xe(U,R.wR,!1)}if(e){{var H=b.C;
m.save();j(m,H);var A=U.xw.path;if(p){var Z=A.rZ.slice(0);for(var v=0;v<Z.length;v++)if(Z[v][0]=="#")Z[v]="#000000";
A={rZ:Z,g:A.g}}ji.amJ(A,m);m.restore()}}}else if(U.Oi()&&U.add.vmsk&&(!U.Le||p)){var J=U.add.vmsk;m.beginPath();
n(U,m);if(p){m.stroke()}else{var s=U.add.vstl;if(s.vg.length!=0){var E=Q(s.vg,J.z,B,m);if(E[1]){m.save();
j(m,E[1])}m.fillStyle=E[0];m.fill(["nonzero","evenodd"][J.H_]);if(E[1]){m.restore()}}if(s.tY.length!=0){K.R.DX(s,m);
m.strokeStyle=Q(s.tY,J.z,B,m,!0)[0];m.stroke()}}}else if(D){var z=D.filterFX;if(z){var E=z.v.filterFXList.v;
for(var v=0;v<E.length;v++){var h=E[v].v;if(!h.enab.v)continue;var d=fo.$d(h);if(d=="GsnB"){m.filter="blur("+h.Fltr.v.Rds.v.val*B.e.yr+"px)"}}}var Y=D.Idnt.v,C=B.x3(Y,D.Crop?D.Crop.v:null),H=K.D.Uu(D),i=C.LQ;
if(p){var M=N.IP.lw(D.Trnf);m.moveTo(M[0],M[1]);for(var v=2;v<8;v+=2)m.lineTo(M[v],M[v+1]);m.closePath();
m.stroke()}else a(B,U,m,H,i)}if(X){_.save();_.setTransform(1,0,0,1,0,0);_.drawImage(m.canvas,0,0);_.restore();
m=_}m.globalAlpha/=c;m.globalCompositeOperation="source-over";m.restore()};function j(B,m){B.transform(m.NX,m.b,m.RK,m.zP,m.Qr,m.dE)}function n(B,m){var R=B.add.vmsk.z;
for(var v=0;v<R.length;v++){if(R[v].w>5)continue;var q=R[v].length;if(q==0)continue;var U=R[v].w==3;
K.R.a4U(m,R,v+1,q,0,0,U);if(!U)m.closePath();v+=q}}function Q(B,m,R,q,U){if(B.length==3)return[CSS.aaM(B),null];
else if(B.length==2){var l=R.H2[B[0]],b=1,D=l.k3;if(D==null){var c=document.createElement("canvas"),_=c.getContext("2d");
c.width=Math.round(l.q*b);c.height=Math.round(l._*b);_.scale(b,b);l.root.XO(l,_,{},null);D=l.k3=q.createPattern(c,"repeat")}var p=new j8(1/b,0,0,1/b,0,0),X=R.Mp/72,g=new j8;
g.concat(p);var F=B[1][1];g.concat(new j8(F[0],F[1],F[2],F[3],X*F[4],X*F[5]));g.scale(1,-1);return[D,g]}else{var k=B[0],I=B[1],e=B[2],H=-e[5]*Math.PI/180,A=g7.Kz(B,m),Z,p;
if(k==0){var J=[0,0,1,0];K.c.C(J,A,J);Z=q.createLinearGradient(J[0],J[1],J[2],J[3])}else{var J=[Math.cos(H)*e[6],Math.sin(H)*e[6],0,0,1,0],s=Math.abs(A.NX*A.b+A.RK*A.zP)<1e-9,E=Math.abs(A.NX*A.NX+A.b*A.b-A.RK*A.RK-A.zP*A.zP)<1e-9,z=s&&E;
if(z||U){K.c.C(J,A,J);var h=J[4]-J[2],d=J[5]-J[3];Z=q.createRadialGradient(J[0],J[1],0,J[2],J[3],Math.sqrt(h*h+d*d))}else{Z=q.createRadialGradient(J[0],J[1],0,0,0,1);
p=A}}K.Gp.AQ(Z,I);return[Z,p]}}function a(B,m,R,q,U){if(q==null)q=new j8;var l=m.buffer,b=m.s;if(U){var D=q.P8()*B.e.yr,c=0;
while(1<<c/2<.5/D&&c+2<U.length)c+=2;l=U[c];b=U[c+1];b=b.O();b.x=b.y=0;var D=1<<c/2,_=new j8;_.scale(D,D);
_.concat(q);q=_}if(b.ke())return;var p=document.createElement("canvas");p.width=b.q;p.height=b._;var X=p.getContext("2d");
X.putImageData(new ImageData(new Uint8ClampedArray(l.buffer),b.q,b._),0,0);R.transform(q.NX,q.b,q.RK,q.zP,q.Qr,q.dE);
R.drawImage(p,b.x,b.y);q.m2();R.transform(q.NX,q.b,q.RK,q.zP,q.Qr,q.dE)}}());function hs(j){this.sQ="psd";
this.Pd=!1;this.name=j;this.v3=8;this.depth=8;this.ee=-1;this.zO=!1;this.rf=null;this.Sh=null;this.rN=null;
this.FQ=null;this.q=0;this._=0;this.buffer=null;this.T=[];this.pC={};this.add={};this.xS=[];this.H2={};
this.Oc=[];this.k3=null;this.zy=4;this._H=null;this.Mp=72;this.bc={};this.X=[];this.qO=[];this.A6=!1;
this.XZ=[];this.RL=[];this.AZ=[hs.Nt("Work Path")];this.VF=[];this.fO=null;this.gh={classID:"CompList",list:{t:"VlLs",v:[]}};
this.tp=null;this.Gj=[];this.Wr=[];this.$h=[];this.root=null;this.Lx=null;this.HM=!1;this.anY=!1;this.awj=!1;
this.Iq=!1;this.Lg=!1;this.UF=!1;this.Xx=!1;this.LD=!1;this.pp=!1;this.v9=!1;this.jK=null;this.dd=null;
this.K=null;this.Kj=[];this.Yb=[];this.M={t$:{},oi:[],f$:[],Ad:[],Ne:[],la:[],RJ:null,kS:null,kp:null,Nk:null,DF:null,cs:null,du:null,lP:null,uR:[],lf:[],oQ:null};
this.history=[new ae([1,0],null)];this.cD=0;this.gg=0;this.fN=0;this.yT=0;this.VU=null;this.Gr=!1;this.e=new b6(this);
this.d$=null;this.Uf=null}hs.prototype.a4X=function(){var j=this,n=j.add.artd;return n!=null&&n.Cnt.v>1||j.add.arts&&j.add.arts.length>1};
hs.prototype.hT=function(j){if(j){if(j.length==30240){this.hT(null);return}this.pC.r1039=j;var n=ICC.R(j.buffer),B=null,m=17,U,l;
if(n==null){this.hT(null);return}var Q=n.header.spaceIn.toLowerCase(),a=JSON.stringify(n.tags.desc).toLowerCase();
try{B=ICC.U.profileName(n)}catch(bY){}if(Q!="rgb "||B==null||Q=="rgb "&&this.add.fcmy==1){this.hT(null);
return}console.log("We got an ICC profile!",n,B);try{var R=ICC.U.sampleLUT(n,m)}catch(bY){this.hT(null);
return}var q=R.slice(0),b=K.U(4,32),D=K.yu("rgbToRgbC"),c=D[2],_=D[3];for(var v=0;v<R.length;v+=3){b[0]=R[v];
b[1]=R[v+1];b[2]=R[v+2];ICC.U.applyLUT(_,c,b,b);q[v]=b[0];q[v+1]=b[1];q[v+2]=b[2]}if(gz.oB){U=new gz.aL(m,m*m,gz._m());
U.set(ICC.U.lutToRGBA32(R,m));l=new gz.aL(m,m*m,gz._m());l.set(ICC.U.lutToRGBA32(q,m))}this.d$=[j,n,m,R,U,q,l]}else{delete this.pC.r1039;
this.d$=null}};hs.prototype.M3=function(){return this.d$};hs.prototype.Tc=function(){if(this.d$)return this.d$;
if(this.add.fcmy==1){if(this.Uf==null){var j=K.yu("rgbToRgbC"),n=j[2],Q=j[3],a;if(gz.oB){a=new gz.aL(n,n*n,gz._m());
a.set(ICC.U.lutToRGBA32(Q,n))}this.Uf=[null,null,n,null,null,Q,a]}return this.Uf}};hs.prototype.aGl=function(){var j=this;
if(j.e.Y.join("")!="111"){j.e.Y=[1,1,1];j.UF=!0}for(var v=0;v<j.T.length;v++){var n=j.T[v],Q=n.add.vmsk;
if(n.FI()){var a=n.vG(j);if(a&&a.N&&a.N.fa){a.N.fa=!1;j.UF=!0}}var B=n.sJ();if(B&&B.fa){B.fa=!1;j.UF=!0}if(Q){if(Q.X.length!=0)Q.X=[];
if(Q.eF.length!=0)Q.eF=[]}}};hs.prototype.avI=function(){var j=this;return j.K!=null||j.H9()[1].length!=0||j.X.length>1};
hs.prototype.qE=function(){var j=this.qO,n=[];for(var v=0;v<j.length;v++)n[v]=-1;var Q=this.root.children;
for(var v=0;v<Q.length;v++){var a=Q[v],B=a.W.add.artb;if(B==null)continue;var m=B.guideIndeces;m=m?m.v:[];
for(var R=0;R<m.length;R++)n[m[R].v]=a.index}return[K.u(j),n]};hs.prototype.J$=function(j){this.qO=K.u(j[0]);
var n=j[1],Q=this.root.children;for(var v=0;v<Q.length;v++){var a=Q[v],B=a.W.add.artb;if(B==null)continue;
B.guideIndeces={t:"VlLs",v:[]}}for(var v=0;v<n.length;v++)if(n[v]!=-1)this.T[n[v]].add.artb.guideIndeces.v.push({t:"long",v:v})};
hs.prototype.ahy=function(j){var n=this;if(j[0])n.add.lnk2=j[0];else delete n.add.lnk2;if(j[1])n.add.FEid=j[1];
else delete n.add.FEid;if(j[2])n.add.Patt=j[2];else delete n.add.Patt};hs.prototype.adR=function(j){var n=this,Q=[],a=[],B=[],p=null,X=null,g=null;
for(var v=0;v<j.length;v++){var m=j[v];if(m.add.SoLd){Q.push(m.add.SoLd.Idnt.v);a.push(m.add.SoLd.placed.v)}if(m.add.PtFl)B.push(m.add.PtFl.Ptrn.v.Idnt.v);
if(m.add.lmfx){for(var R=0;R<g8.Ub.length;R++){var q=m.add.lmfx[g8.Ub[R]].v;for(var U=0;U<q.length;U++)if(q[U].v.Ptrn){var l=q[U].v;
if(l.classID=="FrFX"&&l.PntT.v.FrFl!="Ptrn")continue;B.push(l.Ptrn.v.Idnt.v)}}}var b=m.add.vstk;if(b&&b.strokeStyleContent.v.classID=="patternLayer"){B.push(b.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var D=n.add.lnk2,c=n.add.FEid,_=n.add.Patt;
if(D){p=[];for(var v=0;v<D.length;v++)if(Q.indexOf(D[v].A8)!=-1)p.push(D[v]);if(p.length==0)p=null}if(c){X=[];
for(var v=0;v<c.length;v++)if(a.indexOf(c[v].id)!=-1)X.push(c[v]);if(X.length==0)X=null}if(_){g=[];for(var v=0;
v<_.length;v++)if(B.indexOf(_[v].id)!=-1)g.push(_[v]);if(g.length==0)g=null}return[p,X,g]};hs.prototype.E8=function(j){var n=this,Q=n.root._N(j==null?n.X[0]:j),a=!1;
while(Q.parent!=null){a=a||Q.W.Na(31);Q=Q.parent}return a};hs.prototype.Se=function(){var j=this.Kj,n=this.Kj.length;
if(n!=0&&j[n-1].name=="Quick Mask")return j[n-1]};hs.prototype.sf=function(){return this.sQ==bw.ZS("% |/!)")||this.sQ==bw.OD("gP")};
hs.prototype.VV=function(j){var n=this.add.artd;if(j!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:j},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};hs.prototype.Qp=function(j){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(j)==-1)this.add.FEid.push(j)};
hs.prototype.Ye=function(j){var n=this.add.FEid.indexOf(j);this.add.FEid.splice(n,1);if(this.add.FEid.length==0)delete this.add.FEid};
hs.prototype.ge=function(j){if(j==null)j=new b4(0,0,this.q,this._);if(this.jK==null)this.jK=j;else this.jK=this.jK.d_(j)};
hs.prototype.av2=function(j){return this.jK!=null};hs.prototype.tC=function(j){var n=this.T[j],Q=this.root._N(j);
if(Q==null)return!1;if(n.bx()||Q.parent.children.indexOf(Q)==0)return!1;return!0};hs.auc=function(j){if(j.add.lnk2)for(var v=0;
v<j.add.lnk2.length;v++){var n=j.add.lnk2[v].A8;j.add.lnk2[v].A8=hs.ce()+n.slice(8);for(var Q=0;Q<j.T.length;
Q++){var a=j.T[Q].add.SoLd;if(a&&a.Idnt.v==n)a.Idnt.v=j.add.lnk2[v].A8}}};hs.prototype.Ds=function(j,n,Q){j.sort(function(D,c){return D-c});
var top=j[j.length-1],a=this.T.slice(0),B=this.X.slice(0),m=[],R=[];for(var v=0;v<this.T.length;v++){if(j.indexOf(v)!=-1)R.push(this.T[v]);
else m.push(this.T[v])}this.xt(R);this.X=[];var q=this.root.uI(this,!0);if(n)q=q.uf(n);if(Q)q=q.d_(Q);
if(q.ke())q=new b4(0,0,100,100);var U=new b4(-q.x,-q.y,this.q,this._),l=new Uint8Array(fj.Mi("PSD").OR(this,0,0,[!0,!1]));
this.xt(a);this.X=B;var b=new hs(this.T[top].getName());fj.Mi("PSD").z5(l.buffer,b);delete b.add.artd;
b.XZ=[];b.xt(b.T);b.J$([[],[]]);hs.auc(b);N.MT._i(b,q);b.ge();b.D$();b.rd();return[b,q,m,top]};hs.prototype.a44=function(j,n,Q){var a=this.Ds(j),B=a[0],m=a[1],R=a[2],top=a[3],q;
if(Q=="jpg")q=new Uint8Array(fj.Mi("JPG").OR([[B.rd().buffer]],B.q,B._,[80]));else q=new Uint8Array(fj.Mi("PSD").OR(B,null,null,[!0,!1]));
if(n)R=this.T.slice(0);var U=this.$D(q,B.name,m.x,m.y);if(top==this.T.length-1)R.push(U);else R.splice(n?top+1:top-j.length+1,0,U);
this.xt(R);this.X=[R.indexOf(U)]};hs.ce=function(j){if(j==null)j="";var n="";while(n==""||n==j){n="";
for(var v=0;v<8;v++)n+=Math.floor(Math.random()*16).toString(16)}return n};hs.prototype.sS=function(j){if(j==null)return;
if(this.add.Patt==null)this.add.Patt=[];var n=this.add.Patt;for(var v=0;v<n.length;v++)if(n[v].id==j.id)return;
n.push(j)};hs.prototype.anS=function(j){for(var v=0;v<this.T.length;v++){var n=this.T[v],Q=n.add.SoLd;
if(Q&&Q.Idnt.v==j)n.pS(this)}};hs.prototype.$D=function(j,n,Q,a,B,m,R){if(this.add.lnk2==null)this.add.lnk2=[];
var q=null;for(var v=0;v<this.add.lnk2.length;v++)if(K.N_(j,this.add.lnk2[v].raw)){q=this.add.lnk2[v].A8;
break}if(q==null){var U=fj.Ot(j.buffer);q=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f";var l=new f.mD;l.A8=q;
l.T$=U=="psd"?"8BIM":"    ";l.yR=n+"."+U;l.px=U=="psd"?"8BPB":"    ";l.open=0;l.raw=j;l.w="liFD";l.o8=2;
this.add.lnk2.push(l)}var b=this.x3(q,null,null,null,m,R),D=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f",c=this.JL(),_=b?b.do:new b4;
c.kw(n);c.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:q},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:D},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:K.UH.U(_)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:_.q},Hght:{t:"doub",v:_._}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:b?b.Mp:72}}};
var p=_.O();if(Q!=null)p.offset(Q,a);if(b!=null&&B){var U=fj.Ot(j.buffer),X=B.x,g=B.y,F=B.q,k=B._;p=b.do.O();
p.offset(X+Q,g+a);var I=I=this.Mp/(U=="pdf"?144:b.Mp?b.Mp:this.Mp);p.q=p.q*I;p._=p._*I;var e=Math.max(p.q/F,p._/k);
if(e>1.0001){p.q=p.q/e;p._=p._/e}p.x=Math.round(X+(F-p.q)/2);p.y=Math.round(g+(k-p._)/2)}var H=K.c.yc(p).g;
c.add.SoLd.Trnf=N.IP.ob(H);c.add.SoLd.nonAffineTransform=N.IP.ob(H);if(b){if(B)c.pS(this,!1);else if(fL==0){c.s=b.LQ[1].O();
c.s.offset(p.x,p.y);c.buffer=b.LQ[0].slice(0)}}return c};hs.prototype.AF=function(){var j=this.add.arts,n=new b4;
for(var v=0;v<j.length;v++)n=n.d_(K.c.so(j[v].wS));return n};hs.prototype.am9=function(j,n,Q){var a=this.AF();
if(n==null){n=a.q;Q=a._}var B=K.uq(n,Q);B.save();B.translate(-a.x,-a.y);B.scale(n/a.q,Q/a._);this.root.XO(this,B,j,new b4(0,0,n,Q));
B.restore();return B.getImageData(0,0,n,Q).data.buffer};hs.prototype.rd=function(j){if(j!=null){this.ge();
this.D$(j);var n=this.buffer;if(gz.oB)this.Lx.get(n);else n=n.slice(0);this.ge();this.D$();return n}if(this.jK){this.D$();
this.jK=null}if(gz.oB&&this.dd){this.Lx.get(this.buffer);this.dd=null;this.Xx=!0}return this.buffer};
hs.prototype.a6o=function(){for(var v=0;v<this.T.length;v++)this.T[v].aDF();this.ge()};hs.prototype.ak_=function(){for(var v=0;
v<this.T.length;v++)if(this.T[v].add.lmfx)this.T[v].xw.G4=!0};hs.prototype.Ed=function(){var j=this.pC.r1044;
if(j==null){j=this.pC.r1044=new Uint8Array(4);var n=0;for(var v=0;v<this.T.length;v++)n=Math.max(n,this.T[v].add.lyid);
L.gS(j,0,n)}var Q=L.St(j,0);L.gS(j,0,Q+1);return Q+1};hs.prototype.rV=function(j,n,Q){if(j==null)j=!0;
var a=this;if(a.Yb.length!=0)return!0;if(a.X.length!=1){if(j)alert(a.X.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.NY(j,n,Q)};hs.prototype.NY=function(j,n,Q){if(j==null)j=!0;if(n==null)n=!1;var a=this;
if(a.Yb.length!=0)return!0;for(var v=0;v<a.X.length;v++){var B=a.T[a.X[v]],m=n||B.s0<=0;if(B.add.lsct!=null&&B.add.lsct!=fM.vP&&B.s0!=1){if(j)alert(i4.get([15,7,2]));
return!1}if(m&&!B.OZ()){if(j)alert(i4.get([15,7,2]));return!1}if(m&&B.add.TySh){return this.aoX(j,[15,7,3],Q)}if(m&&B.add.SoLd){return this.aoX(j,[15,7,4],Q)}if(B.Na(1)||a.E8(a.X[v])){if(j)alert(i4.get([6,57,0]));
return!1}}return!0};hs.prototype.aoX=function(j,n,Q){if(j&&typeof j=="object"){var a=new ar(x.E.B);a.data={Q:x.l.Vg,Z8:"confirm"};
a.data.J=i4.get(n)+". "+i4.get([6,8])+"?";var B=j;a.data.yI=function(){var m=new ar(x.E.X2,!0);m.data={ep:"rasterizeLayer",Tu:{classID:"rasterizeLayer",null:f2.oA("Lyr",!0)}};
B.a(m)};j.a(a);return!1}if(j)alert(i4.get(n));return!1};hs.prototype.ayd=function(j){var n=this.root._N(j);
if(n.parent)return n.W.VH()&&this.ayd(n.parent.index);else return n.W.VH()};hs.prototype.M5=function(j){var n=this;
if(j){var Q=0;for(var v=0;v<n.X.length;v++)if(n.T[n.X[v]].add.artb)Q++;if(Q>1)return-1}if(n.add.artd&&n.X.length!=0){var a=n.root._N(n.X[0]);
while(a.parent.parent)a=a.parent;if(a.W.add.artb)return a.index}return-1};hs.prototype.iV=function(){var j=this.M5();
if(j!=-1){var n=this.T[j].v_();return new eE(n.x,n.y)}return new eE(0,0)};hs.prototype.amp=function(){var j=this.T[this.X[0]];
if(j.s0<=0&&!j.s.Ta(this.K.s)){alert("Selected area is empty.");return!1}if(this.X.length==1&&this.K){var n=K.U(this.K.G.length);
K.Oh(j.buffer,j.s,n,this.K.s);K.Pi(this.K.G,n);if(K.Re(n,0)){alert("Selected area is empty.");return!1}}return!0};
hs.prototype._Q=function(){if(this.pC["r"+1037]==null)this.yG(30);return L.q_(this.pC["r"+1037],0)};
hs.prototype.yG=function(j){if(this.pC["r"+1037]==null)this.pC["r"+1037]=new Uint8Array(4);if(L.q_(this.pC["r"+1037],0)==j)return;
L.YW(this.pC["r"+1037],0,j);this.ak_()};hs.prototype.ZL=function(){if(this.pC["r"+1049]==null)this.VM(30);
return L.q_(this.pC["r"+1049],0)};hs.prototype.VM=function(j){if(this.pC["r"+1049]==null)this.pC["r"+1049]=new Uint8Array(4);
if(L.q_(this.pC["r"+1049],0)==j)return;L.YW(this.pC["r"+1049],0,j);this.ak_()};hs.prototype.KR=function(j){if(this.add.lnk2==null)return null;
for(var v=0;v<this.add.lnk2.length;v++)if(this.add.lnk2[v].A8==j)return this.add.lnk2[v];return null};
hs.prototype.awt=function(j){var n=this.KR(j);if(n==null)return!1;var Q=fj.Ot(n.raw.buffer);if(Q==null)return!1;
if(fj.Mi(Q)!=null||Q=="psd")return!0;return!1};hs.prototype.x3=function(j,n,Q,a,B,m){var R=this.KR(j);
if(R==null)return null;R.rd(n,Q,a,B,m);if(R.LQ)return R};hs.prototype.aiN=function(){var j=this.q,n=this._,Q=this.Lx,a=this.depth;
if(gz.oB&&Q==null)Q=this.Lx=new gz.aL(j,n,a,!0);if(this.buffer==null||this.buffer.length!=j*n*4||gz.oB&&(Q.q!=j||Q._!=n||Q.depth!=a)){this.buffer=K.U(j*n*4,a);
if(Q)Q.delete();if(gz.oB)Q=this.Lx=new gz.aL(j,n,a,!0)}};hs.prototype.abE=function(){this.aiN();if(gz.oB){this.Lx.set(this.buffer)}};
hs.prototype.D$=function(j){if(fL!=0)throw"redrawing in vector mode";var n=this.q,Q=this._,a=new b4(0,0,n,Q),B=this.zO?a:a.uf(this.jK);
this.aiN();if(B.ke())return;if(!B.N_(a)){if(!gz.oB){var m=K.U(B.$()*4,this.depth);K.EC(m,B,this.buffer,a)}if(gz.oB){gz.Rf(this.Lx,B);
gz.jl(0)}}else{if(gz.oB){this.Lx.set(null)}else{this.buffer.fill(0)}}var R=Date.now(),q=gz.oB?this.Lx:this.buffer;
if(j==null)j=1e9;var U=this.root.children;for(var v=0;v<U.length;v++){var l=U[v].W;if(l.VH()&&l.add.artb&&this.add.artd){var b=l.v_(),D=B.uf(b),c=l.$_();
if(c!=0){if(gz.oB){gz.Rf(q,D);gz.jl(c);gz.jl(c)}else K.a0u(q,a,D,c)}}}this.root.pE(q,a,B,this,[],j);
this.dd=this.jK.O()};hs.prototype.JL=function(j){var n=new f;n.s=new b4(0,0,0,0);n.buffer=K.U(1);n.add.luni=new eE(0,0);
if(j!=!0)n.add.lyid=this.Ed();n.add.lsct=fM.vP;n.add.lclr=0;n.add.fxrp=new eE(0,0);return n};hs.prototype.v4=function(j){var n=this.JL(j);
n.kw("</Layer group>");n.add.lsct=fM.KB;n.G$=24;return n};hs.prototype.uh=function(){return this.cD!=this.gg};
hs.prototype.xr=function(j){while(this.history.length>this.cD+1)this.history.pop();if(this.gg>this.cD)this.gg=-1;
if(j.I.id!=N.NC){this.Iq=!0;if(this.gh.lastAppliedComp){delete this.gh.lastAppliedComp;this.Xx=!0}}this.history.push(j);
this.cD++;this.Xx=!0;var n=bv.uz()?60:30,Q=0;for(var v=this.history.length-1;v>=0;v--){var a=this.history[v];
if(a.WQ)continue;Q++;if(Q==n){this.cD-=v;this.history=this.history.slice(v);break}}};hs.prototype.Pz=function(){if(this.cD!=this.history.length-1)return null;
return this.history[this.history.length-1]};hs.prototype.J3=function(j,n,Q,a){if(j==null)j=!1;var B=n!=null?[n]:this.X.slice(0);
if(a){var m=[];for(var v=0;v<B.length;v++){var R=this.T[B[v]],q=R.i8;if(R.dq&&q!=0&&m.indexOf(q)==-1)m.push(q)}if(m.length!=0)for(var v=0;
v<this.T.length;v++){var R=this.T[v],q=R.i8;if(R.dq&&q!=0&&m.indexOf(q)!=-1&&B.indexOf(v)==-1)B.push(v)}}var U=[];
for(var v=0;v<B.length;v++){var l=this.i3(B[v],j);for(var b=0;b<l.length;b++)if(U.indexOf(l[b])==-1)U.push(l[b]);
if(Q){var dv=this.root._N(B[v]);while(dv.parent!=null&&dv.parent.parent!=null){dv=dv.parent;if(U.indexOf(dv.index)==-1){U.push(dv.index,dv.CA)}}}}return U};
hs.prototype.Rl=function(j,n,Q){var a=this,B=a.J3(!1,j,null,Q);B.sort(function(I,e){return I-e});var m={};
for(var R=0;R<a.T.length;R++){var q=a.T[R].getName();m[q]=!0}var U=[];for(var v=0;v<B.length;v++){var l=a.T[B[v]].O(),g,F;
l.add.lyid=a.Ed();l.add.lspf=0;if(l.FI()){var b=l.vG(a),D=hs.a9N(b);a.Qp(D);l.add.SoLd.placed.v=D.id}else if(l.add.SoLd){var c=l.add.SoLd.placed.v;
l.add.SoLd.placed.v=hs.ce(c.slice(0,8))+c.slice(8)}l.tI(a);var _=l.getName(),p=_.length;while(48<=_.charCodeAt(p-1)&&_.charCodeAt(p-1)<=57)p--;
var X=parseInt(_.slice(p));if(isNaN(X)){if(_.endsWith(" copy")){X=1;g=_.slice(0,_.length-5)}else{X=0;
g=_}}else if(_.slice(0,p).endsWith(" copy ")){X=X;g=_.slice(0,p-6)}else{X=0;g=_}X++;while(!0){F=g+" copy"+(X==1?"":" "+X);
if(m[F]==null)break;X++}var k=B.indexOf(this.root._N(B[v]).parent.index)!=-1;if(_=="Background"&&a.T.length==1)F="Layer 1";
if(n!=!0&&!k)l.kw(F);m[F]=!0;U.push(l)}return U};hs.a9N=function(j){return{id:hs.ce(j.id.slice(0,8))+j.id.slice(8),buffer:j.buffer.slice(0),s:j.s.O(),N:j.N?j.N.O():null}};
hs.aDN=function(j){return{id:j,s:new b4,buffer:K.U(1),N:new f.km}};hs.Nt=function(j,n){if(n==null)n={vmsk:new f.hx};
if(n.vogk==null){n.vogk=[];var Q=K.R.$L(n.vmsk.z);for(var a=0;a<Q;a++)n.vogk.push(K._y.DB())}return{name:j,cb:0,add:n}};
hs.prototype.H9=function(j){var n=[],Q=[],a=this;for(var v=1;v<a.AZ.length;v++){var B=a.AZ[v];B.cb=-1-v;
n.push(B);if(a.VF.indexOf(v)!=-1)Q.push(n.length-1)}if(a.AZ[0].add.vmsk.z.length>2){var B=a.AZ[0];B.cb=-1;
n.push(B);if(a.VF.indexOf(0)!=-1)Q.push(n.length-1)}var m=a.fO==null;if(m)a.fO=[];for(var v=a.X.length-1;
v>=0;v--){var R=a.X[v],q=a.T[R],U=q.add.TySh;if(q.add.vmsk!=null){var B=hs.Nt("\""+q.getName()+"\" Shape Path",q.add);
B.cb=R;n.push(B);if(m&&(q.Ok||q.Oi()))a.fO.push(R);if(a.fO.indexOf(R)!=-1)Q.push(n.length-1)}if(j!=!0&&U&&U.add&&K.UH.En(U.ED)){var B=hs.Nt("\""+q.getName().slice(0,10)+"..\" Text Path",U.add);
B.cb=1e6+a.X[v];n.push(B);Q.push(n.length-1)}}if(Q.length==0&&j){a.AZ[0].cb=-1;a.VF=[0];Q.push(n.length);
n.push(a.AZ[0])}return[n,Q]};hs.prototype.i3=function(v,j){var n=[],dv=this.root._N(v);if(dv)dv.y$(n,j);
return n};hs.prototype.xg=function(){this.root.r9(this,new b4(0,0,this.q,this._))};hs.prototype.xt=function(j){for(var v=0;
v<this.T.length;v++){var n=this.T[v];if(j.indexOf(n)==-1){n.xw.aqw();n.ge()}}var Q=0;for(var v=0;v<j.length;
v++)if(j[v].add.artb)Q++;this.VV(Q);this.T=j.slice(0);this.iN()};hs.prototype.iN=function(){var j=this.T,n=j.length;
this.root=new id;var Q=this.JL(!0);Q.TM="pass";Q.add.lsct=fM.ko;Q.kw("");var a=this.v4(!0),B=[a];for(var v=0;
v<n;v++)B.push(j[v]);B.push(Q);this.root.adj(B,0,0);if(this.X.length==0)this.X=[n-1]};hs.prototype.y3=function(){if(this.X.length!=1)return;
var j=this.root._N(this.X[0]);while(j.parent!=null){var n=j.parent.W;n.add.lsct=fM.ko;j=j.parent}this.UF=this.ads=!0};
hs.prototype.a4b=function(){this.iN();var j=[this.root],aC=0;while(j.length!=0){var top=j.pop();aC++;
if(top.W.add.lsct==fM.ko)for(var v=0;v<top.children.length;v++)j.push(top.children[v])}if(aC>1e3){var n=this.root.children;
for(var v=0;v<n.length;v++)if(n[v].W.add.lsct==fM.ko)n[v].W.add.lsct=fM.NO}};hs.uD=function(j,n,Q,a,B,m,R,q){if(q==null)q="sRGB IEC61966-2.1";
var U={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:a},artboard:{t:"bool",v:m},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:j*72/Q}},Hght:{t:"UntF",v:{type:"#Rlt",val:n*72/Q}},Rslt:{t:"UntF",v:{type:"#Rsl",val:Q}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:B}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:q}}}};
if(B=="Clr")U.Nw.v.FlCl={t:"Objc",v:R};return{ep:"make",Tu:U}};hs.a0t=function(j,n){var Q=0,a=0,B=72,m=n.a99,R=j.preset&&j.preset.v=="Clipboard";
if(R){Q=m.q;a=m._}else{Q=j.Wdth.v.val;a=j.Hght.v.val;B=j.Rslt.v.val;Q=Math.round(Q*B/72);a=Math.round(a*B/72)}var q=new hs((j.Nm?j.Nm.v:i4.get([11,7]))+".psd");
q.q=Q;q._=a;q.Mp=B;var U=j.Fl?j.Fl.v.Fl:"Wht";if(j.artboard&&j.artboard.v){var l=q.JL();l.kw(i4.get([1,16,0])+" 1");
l.add.lsct=fM.ko;l.vn(new b4(0,0,Q,a));l.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[U]};
if(U=="Clr")l.add.artb.Clr={t:"Objc",v:K.Gp.Db(K.Gp.qF(j.FlCl.v))};l.TM="pass";l.G$=24;var b=q.JL();
b.kw("Layer 1");q.xt([q.v4(),b,l]);q.VV(1);q.X=[1]}else if(fL==0){var D=q.JL(),c=0;D.kw("Background");
q.xt([D]);D.add.lspf=1<<2;if(U=="Clr"){c=K.Gp.qF(j.FlCl.v);c=255<<24|Math.round(c.b)<<16|Math.round(c.i)<<8|Math.round(c.n)}else{var _=n.g7;
_=(_&255)<<16|(_>>>8&255)<<8|_>>>16;c={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|_}[U]}D.s=new b4(0,0,Q,a);
D.buffer=K.U(Q*a*4);K.G5(D.buffer,c);D.Dy()}if(fL==0)q.buffer=K.U(Q*a*4);var p=j.profile;if(p){var X={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[p.v];
if(X)q.hT(fj.xK.get(X))}return q};hs.prototype.avH=function(){var j=this,n=j.add.arts=[],Q=!0;j.add.prvw=1;
j.iN();var a=j.root.children;for(var v=0;v<a.length;v++)if(!a[v].W.bx())Q=!1;if(!Q||j.T.length==0){j.T.unshift(j.v4());
var B=j.JL();B.kw("Layer 1");B.add.lsct=fM.ko;B.TM="pass";B.G$=24;j.T.push(B);for(var v=0;v<j.X.length;
v++)j.X[v]++;j.LD=!0}if(j.add.artd){delete j.add.artd;var m=[];for(var v=0;v<j.T.length;v++){var B=j.T[v],R=B.add.artb;
if(R==null)continue;var q=B.v_();delete B.add.artb;n.push({DA:B.getName(),wS:[q.x,q.y,q.x+q.q,q.y+q._],X:!1});
var U=R.artboardBackgroundType.v;if(U!=1&&U!=3){var l=j.root._N(v).oe;m.push([l,U,q,K.Gp.qF(R.Clr.v)])}}for(var v=0;
v<m.length;v++){var l=m[v][0],U=m[v][1],q=m[v][2],b=m[v][3],B=j.JL();B.kw("Background");B.add.vmsk=new f.hx;
B.add.vmsk.z=K.R.hi.Rect(q.x,q.y,q.q,q._);B.add.vstk=g8.o0.cL(!0);B.add.vstl=g8.no.cL();B.add.vstl.vg=[null,[1,1,1],[0,0,0],[],[b.n/255,b.i/255,b.b/255],[1,1,1]][U];
B.sU();j.T.splice(j.T.indexOf(l)+1,0,B);j.iN()}console.log(m)}else n.push({DA:"Artboard",wS:[0,0,j.q,j._],X:!1});
if(j.name.endsWith(".psd"))j.name=j.name.slice(0,-4)+".ai";if(j.buffer)j.buffer=null;for(var v=0;v<j.T.length;
v++){var B=j.T[v],q=B.s;if(B.bx()&&B.add.vmsk){var D=j.JL();j.T.splice(v,0,D);D.kw("<Clipping Path>");
D.Le=!0;D.add.vogk=B.add.vogk;delete B.add.vogk;D.add.vmsk=B.add.vmsk;delete B.add.vmsk;D.add.vstk=g8.o0.cL();
D.add.SoCo=JSON.parse(g8.sp[g8.order.indexOf("SoFi")]);D.add.vstl={};console.log("mask here!")}else if(B.Oi()&&B.add.vstl==null){if(B.add.vmsk==null){B.add.vmsk=new f.hx;
B.add.vmsk.z=K.R.hi.Rect(0,0,j.q,j._);B.add.vstk=g8.o0.cL(!0);B.sU()}var c=B.add.vstl=hs.Xa(B.add)}delete B.add.lmfx;
if(B.add.SoLd||B.add.TySh||B.add.vmsk||q.ke())continue;var _=q.q,p=q._,X=K.gy(B.buffer,_,p)?"JPG":"PNG";
if(_*p<700*700)X="PNG";var g=fj.Mi(X).OR([[B.buffer.buffer]],_,p),F=j.T[v]=j.$D(new Uint8Array(g),B.getName(),q.x,q.y);
F._a(B.VH())}};hs.Xa=function(j,n){var Q=j.vstk,U=null,l=null;if(Q==null)Q=g8.o0.cL(!0);var a=g8.o0.N1(Q),B=g8.GT(j),m=g8.vd(Q);
function R(U){var X=K.Gp.qF(U.Clr.v);return[X.n/255,X.i/255,X.b/255]}var q=j.lmfx;if(q)U=q.solidFillMulti.v[0];
if(U)U=U.v;if(U&&(!U.enab.v||U.Opct.v.val<50))U=null;if(q)l=q.frameFXMulti.v[0];if(l)l=l.v;if(l&&(!l.enab.v||l.Opct.v.val<50))l=null;
var b=j.vmsk,D=b?b.z:K.R.hi.Rect(0,0,n.q,n._);for(var c=0;c<2;c++){var _=c==0?B:m,p=[];if(_.px==1)p=ca.Pc(_.zT.Clr.v);
if(_.px==2){p=j[c==0?"_fstl":"_sstl"];if(p==null||fL==0)p=g7.xG(_.zT,D,n)}if(c==0&&U)p=R(U);if(c==1&&l){p=R(l);
a.Sn=l.Sz.v.val;a.eK=g8.stroke.types.indexOf(l.Styl.v.FStl);a.aO=1}if(c==0)a.vg=p;else a.tY=p}return a};
function b6(j){this.uM=j;this.yr=0;this.SJ=1;this.k=new eE(0,0);this.PA=new eE(0,0);this.c6=0;this.Y=[1,1,1];
this.C7=0;this.C5=new b4(0,0,1,1);this.agT=new b4(0,0,j.q,j._);this.Dg=null;this.JW=null;this.nI=new Uint32Array(0);
this.vV=null;this.L$=null;this.k4=K.U(0);this.uJ=null;this.NH=null}b6.prototype.Q2=function(j){var n=new j8,Q=this.C5,a=this.uM,B=j?this.SJ:this.yr,m=j?this.PA:this.k,R=Math.round((Q.q-a.q*B)/2+m.x),q=Math.round((Q._-a._*B)/2+m.y);
n.translate(-R,-q);n.scale(1/B,1/B);var U=a.q/2,l=a._/2;n.translate(-U,-l);n.rotate(this.c6);n.translate(U,l);
return n};b6.prototype.ahn=function(j){var n=this.C5,Q=this.uM,a=Math.atan2(-j.b,j.NX),B=Q.q/2,m=Q._/2;
j.translate(-B,-m);j.rotate(-a);j.translate(B,m);var R=1/j.P8();j.scale(R,R);var q=-j.Qr,U=-j.dE,l=Math.round(q-(n.q-Q.q*R)/2),b=Math.round(U-(n._-Q._*R)/2);
if(Math.abs(R-Math.round(R))<1e-6)R=Math.round(R);this.c6=a;this.yr=R;this.k=new eE(l,b)};b6.prototype.oR=function(j,n,Q){var a=this.Q2(),B=a.JZ(new eE(j,n));
if(Q){B.x=Math.round(B.x);B.y=Math.round(B.y)}return B};b6.prototype.Vh=function(j,n){var Q=this.Q2();
Q.m2();return Q.JZ(new eE(j,n))};function g8(){}g8.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
g8.Ub="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
g8.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];g8.amL=["DrSh","IrSh","SoFi","GrFl","FrFX"];
g8.WE=["Clr"];g8.Kp="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");g8._$=["Ptrn","Angl","Scl","Algn","phase"];
g8.Qu={wF:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aqF:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aq8:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",ahF:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",bq:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
g8.Qu.wF="\"Clr\": "+g8.Qu.wF;g8.Qu.Gp="\"Grad\":"+g8.Qu.aqF+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
g8.Qu.bq="\"Ptrn\":"+g8.Qu.bq+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
g8.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
g8.sp=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+g8.Qu.wF+","+g8.Qu.Gp+","+g8.Qu.bq+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+g8.Qu.wF+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+g8.Qu.Gp+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+g8.Qu.bq+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
g8.Gp={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
g8.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],lD:["SClr","GrFl","Ptrn"],a6B:[[13,0],[12,37],[12,62]]};
g8.Pk={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aCh:["SrcC","SrcE"],an2:[[19,5,1],[12,69]]};g8.Gi={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a26:["SfBL","PrBL","Slmt"],am1:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
g8.o0={Gv:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],cw:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],TF:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+g8.Qu.wF+"}")},strokeStyleResolution:{t:"doub",v:72}},cL:function(j,n){var Q=JSON.parse(g8.o0.adh);
if(j)Q.fillEnabled.v=!0;if(n)Q.strokeEnabled.v=!0;return Q},N1:function(j,n,Q){if(n==null)n={};if(Q==null)Q=1;
var a=j.strokeStyleLineDashSet.v,B=n.Sn=j.strokeStyleLineWidth.v.val*Q;n.sX=j.strokeStyleMiterLimit.v;
n.oZ=j.strokeStyleLineDashOffset.v.val;n.aO=g8.o0.join.indexOf(j.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
n.th=g8.o0.Gv.indexOf(j.strokeStyleLineCapType.v.strokeStyleLineCapType);n.eK=g8.o0.cw.indexOf(j.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
n.SH=[];for(var v=0;v<a.length;v++)n.SH.push(a[v].v.val*B);if(n.SH.length==1&&n.SH[0]==0)n.SH=[];return n},write:function(j,n,Q){if(Q==null)Q=1;
var a=n.Sn,B=n.sX,m=n.SH,R=n.oZ,q=n.aO,U=n.th,l=n.eK;if(a!=null)a=j.strokeStyleLineWidth.v.val=Math.max(.4,a*Q);
else a=j.strokeStyleLineWidth.v.val;if(l!=null)j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=g8.o0.cw[l];
if(B!=null)j.strokeStyleMiterLimit.v=B;if(m!=null)j.strokeStyleLineDashSet.v=gq.l7(m,Q/a);if(R!=null)j.strokeStyleLineDashOffset.v.val=R;
if(q!=null)j.strokeStyleLineJoinType.v.strokeStyleLineJoinType=g8.o0.join[q];if(U!=null)j.strokeStyleLineCapType.v.strokeStyleLineCapType=g8.o0.Gv[U]}};
g8.o0.adh=JSON.stringify(g8.o0.default);g8.no={cL:function(){return{vg:[1,1,1],tY:[0,0,0],Sn:1,sX:0,SH:[],oZ:0,aO:0,th:0,eK:1}},a5e:function(j){var n=eR.qF(j.StrokeColor),Q=g8.no.cL();
Q.eK=j.FillFirst?1:2;var a=j._LineCap,B=j._LineJoin,m=j._MiterLimit,R=j._LineDashOffset,q=j._LineDashArray,U=j.OutlineWidth;
if(a)Q.th=a;if(B)Q.aO=B;if(m)Q.sX=m;if(q)Q.SH=q;if(U!=null)Q.Sn=U;Q.tY=[n.n/255,n.i/255,n.b/255];return Q},a5A:function(j,n){n.FillFirst=j.eK==1;
n._LineCap=j.th;n._LineJoin=j.aO;n._MiterLimit=j.sX;n._LineDashArray=j.SH}};g8.vd=function(j){var n=j.strokeEnabled.v,Q=j.strokeStyleContent.v;
return n?{px:1+g8.o0.TF.indexOf(Q.classID),zT:Q}:{px:0}};g8.DX=function(j,n){var Q=n.px;j.strokeEnabled.v=Q!=0;
if(Q!=0){j.strokeStyleContent.v=n.zT;n.zT.classID=g8.o0.TF[Q-1]}};g8.GT=function(j){var n=j.vstk,Q=null;
if(n&&!n.fillEnabled.v)Q={px:0};else if(j.SoCo)Q={px:1,zT:j.SoCo};else if(j.GdFl)Q={px:2,zT:j.GdFl};
else if(j.PtFl)Q={px:3,zT:j.PtFl};return Q};g8.zc=function(j,n){var Q=j.vmsk,a=j.vstk,B=n.px;if(a)a.fillEnabled.v=B!=0;
if(B>0){var m=["SoCo","GdFl","PtFl"][B-1];for(var v=0;v<3;v++)delete j[["SoCo","GdFl","PtFl"][v]];j[m]=n.zT}};
g8.hF=[{classID:"null",Clr:JSON.parse(g8.sp[5]).Clr},{classID:"null",Grad:JSON.parse(g8.sp[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(g8.sp[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var gq={};gq.av0=function(j,n){function Q(j,c){if(j==null||!j.masterFXSwitch.v)return null;var _=j[c].v,p;
if(_.length!=0){p=_[0].v;if(!p.enab.v)p=null}return p}var a=n.SoCo,B=n.GdFl,m=Q(j,"solidFillMulti"),R=Q(j,"gradientFillMulti");
if(m==null&&R==null)return[a,B];var q=gq.aix;if(a&&m&&R==null){var U=K.u(a);U.Clr.v=q(m.Clr.v,a.Clr.v,m);
return[U,null]}if(B&&m&&R==null){var l=K.u(B),b=l.Grad.v.Clrs.v;for(var v=0;v<b.length;v++){var D=b[v].v.Clr;
D.v=q(m.Clr.v,D.v,m)}return[null,l]}if(a&&R){var l=K.u(R),b=l.Grad.v.Clrs.v;for(var v=0;v<b.length;v++){var D=b[v].v.Clr;
D.v=q(D.v,a.Clr.v,R)}return[null,l]}return[m,R]};gq.rX={gA:K.U(4),H$:K.U(4),n:new b4(0,0,1,1)};gq.aix=function(j,n,Q){var a=af.Ci(Q.Md.v.BlnM),B=Q.Opct.v.val/100,m=gq.rX;
j=K.Gp.qF(j);n=K.Gp.qF(n);m.gA[0]=j.n;m.gA[1]=j.i;m.gA[2]=j.b;m.gA[3]=255;m.H$[0]=n.n;m.H$[1]=n.i;m.H$[2]=n.b;
m.H$[3]=255;K.L.sg(a,m.gA,m.n,m.H$,m.n,m.n,B);return{classID:"RGBC",Rd:{t:"doub",v:m.H$[0]},Grn:{t:"doub",v:m.H$[1]},Bl:{t:"doub",v:m.H$[2]}}};
gq.av6=function(j,n,Q){var a=j;j=j.slice(0);var B=af.Yh[af.de.indexOf(n.Md.v.BlnM)],m=K.Gp.qF(n.Clr.v),R=4278190080|Math.round(m.b)<<16|Math.round(m.i)<<8|Math.round(m.n),q=K.U(Q.$()*4);
K.G5(q,R);K.L.sg(B,q,Q,j,Q,Q,n.Opct.v.val/100);for(var v=0;v<j.length;v+=4)j[v+3]=a[v+3];return j};gq.HG=function(j,n){var Q=["Sz","blur","Sftn","Dstn"];
for(var v=0;v<g8.order.length;v++){var a=g8.order[v],B=j[g8.Ub[v]].v;for(var m=0;m<B.length;m++){var R=B[m].v;
for(var q=0;q<Q.length;q++){var U=R[Q[q]];if(U){var l=U.v.val,b=l;b=Math.max(l==0?0:1,b*n);if(a=="ChFX")b=Math.min(b,250);
if(a=="ebbl"){if(Q[q]=="blur")b=Math.min(b,250);if(Q[q]=="Sftn")b=Math.min(b,16)}U.v.val=Math.round(b)}}if(a=="ebbl"||a=="patternFill"||a=="FrFX")if(R.Ptrn&&R.Scl)R.Scl.v.val=Math.max(1,Math.min(1e3,R.Scl.v.val*n))}}};
gq.ajg=function(j,n,Q){var a=new b4(-.5,-.5,1,1);for(var v=0;v<g8.order.length;v++){var B=g8.order[v],m=j[g8.Ub[v]].v;
for(var R=0;R<m.length;R++){var q=m[R].v,D;if(!q.enab.v)continue;var U=q.blur?q.blur.v.val+1:0,l=q.Ckmt?q.Ckmt.v.val/100:0,b=Math.round(U*l);
if(B=="DrSh"||B=="IrSh"&&Q){D=new b4(-.5,-.5,1,1);D.VT(U,U);gq.Ql(D,q,n,0)}if(B=="St3D"){D=new b4(-.5,-.5,1,1);
gq.Ql(D,q,n,Math.PI,"Angl")}if(B=="OrGl"||B=="IrGl"&&Q){D=new b4(-.5,-.5,1,1);D.VT(U,U)}if(B=="FrFX"){var c=gq.f3(q),_=c[1];
if(Q)_=Math.max(c[0],_);D=new b4(-.5,-.5,1,1);D.VT(Math.ceil(_),Math.ceil(_))}if(B=="ebbl"){var U=q.blur.v.val,p=q.bvlS.v.BESl;
if(p=="Embs"||p=="PlEb")U/=2;var X=["OtrB","InrB","Embs","PlEb","strokeEmboss"],g=["SfBL","PrBL","Slmt"],F=["In","Out"],k=q.bvlT.v.bvlT!="SfBL"?U:U*.43,I=Math.round(U);
D=new b4(-I-1,-I-1,2*I+2,2*I+2)}if(Q&&B=="ChFX"){D=new b4(-.5,-.5,1,1);D.VT(U,U);var e=D.O();gq.Ql(D,q,n,0);
gq.Ql(e,q,n,Math.PI);D=D.d_(e)}if(D)a=a.d_(D)}}if(a.x!=Math.ceil(a.x)){a.x=Math.ceil(a.x);a.q-=1}if(a.y!=Math.ceil(a.y)){a.y=Math.ceil(a.y);
a._-=1}a.q=Math.floor(a.q);a._=Math.floor(a._);return a};gq.f3=function(j){var n,Q,a=0,B=0;if(j.Sz){n=j.Sz.v.val;
Q=g8.stroke.types.indexOf(j.Styl.v.FStl)}else{n=j.Wdth.v;Q=["Insd","Cntr","Otsd"].indexOf(j.Lctn.v.StrL)}if(Q==0)a=n;
if(Q==1)a=B=n/2;if(Q==2)B=n;return[a,B]};gq.adE=function(j,n){if(gz.oB&&j.QJ==null){j.QJ=new gz.aL(j.qc.q,j.qc._,n);
j.QJ.set(j.jB);delete j.jB;if(j.$W){j.C6=new gz.xF(j.qc.q,j.qc._,n);j.C6.set(j.$W);delete j.$W}if(j._w){j.EO=new gz.xF(j.qc.q,j.qc._,n);
j.EO.set(j._w);delete j._w}}};gq.au0=function(j){if(j.QJ)j.QJ.delete();if(j.C6)j.C6.delete();if(j.EO)j.EO.delete()};
gq.amT=function(j){if(j.all==null)return;for(var v=0;v<j.all.length;v++){gq.au0(j.all[v])}};gq.amK=function(j,n,Q,a,B,m){j=K.R8(j,8);
var R=gq.HU(Q,a,j,n,B,m),q=B.depth;for(var v=0;v<R.all.length;v++){var U=R.all[v];U.jB=K.R8(U.jB,q);
if(U.$W)U.$W=K.R8(U.$W,q);if(U._w)U._w=K.R8(U._w,q);gq.adE(U,q)}return R};gq.aeN=function(j){for(var v=0;
v<g8.order.length;v++){var n=g8.order[v],Q=g8.Ub[v],a=j[Q].v;for(var B=0;B<a.length;B++){var m=a[B].v;
if(m.enab.v&&["patternFill","GrFl","SoFi"].indexOf(n)==-1)return!0}}return!1};gq.HU=function(j,n,Q,a,B,m){if(m==null)m=a;
var R=0,q=0;for(var v=0;v<g8.order.length;v++){var U=g8.order[v],l=g8.Ub[v],b=j[l].v;for(var D=0;D<b.length;
D++){var c=b[D].v;if(U=="DrSh"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0)R=Math.max(R,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100));
if(U=="OrGl"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0&&c.GlwT.v.BETE=="SfBL")R=Math.max(R,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100));
if(U=="OrGl"&&c.enab.v&&c.blur.v.val>0&&c.GlwT.v.BETE=="PrBL")R=Math.max(R,c.blur.v.val);if(U=="FrFX"&&c.enab.v&&c.Sz.v.val>0){if(c.Styl.v.FStl=="OutF")R=Math.max(R,c.Sz.v.val);
if(c.Styl.v.FStl=="CtrF")R=Math.max(R,Math.ceil(c.Sz.v.val/2));q=Math.max(q,gq.f3(c)[1])}}}var _=new gq.Je(Q,a,R,gq.aeN(j)),p=-a.x,X=-a.y,g={w:{},all:[]};
for(var F=0;F<g8.order.length;F++){var U=g8.order[F],l=g8.Ub[F];g.w[U]=[];for(var k=j[l].v.length-1;
k>=0;k--){var I=j[l].v[k].v,Z;if(!I.enab.v)continue;var e=I.blur?I.blur.v.val:0,H=I.Ckmt?I.Ckmt.v.val/100:0,A=e*H;
if(U=="St3D"){var J=Math.max(1e-4,1-I.Srnk.v.val/100),Y=2,dK=0;function s(E,ay,I){var f0=I.Angl.v.val;
f0*=Math.PI/180;var G=I.Dstn.v.val,j_=Math.cos(f0)*G,e8=-Math.sin(f0)*G,jO=J+ay*(1-J),fy=new j8;fy.translate(-E.q/2,-E._/2);
fy.scale(jO,jO);fy.translate(E.q/2,E._/2);fy.translate((1-ay)*j_,(1-ay)*e8);return fy}var E=a.O(),z=Q;
E.x=E.y=0;var h=Date.now(),d=E.O();d.VT(Y,Y);var C=K.U(d.$());K.Gc(z,E,C,d);d.x=d.y=0;K.KX.mg(C,C,d,2);
var i=K.U(d.$()*4);i.fill(255);K.YM(C,i);var M=K.U(E.$()),W=E.q,$=E._,P=d.q,O=gq.adw(I,B),G=Math.cos(O[1]),t=-Math.cos(O[0])*G,y=Math.sin(O[0])*G;
if(Math.abs(t)<.001&&Math.abs(y)<.001)t=y=0;for(var r=0;r<$;r++)for(var u=0;u<W;u++){var v=(r+Y)*P+u+Y,S=C[v+1]-C[v-1],w=C[v+P]-C[v-P],dj=S*S+w*w;
if(dj>10){var o=1/Math.sqrt(dj);M[r*W+u]=Math.max(0,Math.min(255,128+127*(t*o*S+y*o*w)))}}var T=[z,E],i6=s(E,0,I),bH=K.c.yc(E).g,cg=bH.slice(0);
K.c.C(bH,i6,cg);var bu=E.d_(K.c.so(cg)),hH=K.U(bu.$()*4);for(var v=0;v<8;v+=2){var S=bH[v]-cg[v],w=bH[v+1]-cg[v+1];
dK=Math.max(dK,Math.sqrt(S*S+w*w))}var d8=Math.round(dK/2),d1=K.Gp.qF(I.Clr.v);d1.n/=255;d1.i/=255;d1.b/=255;
var gH=I.Drkn.v.val/100;for(var kh=0;kh<d8;kh++){var ay=kh/d8,dO=1-gH+ay*gH,fy=s(E,ay,I),bg=E.O(),f4=z;
if(J!=1){var jb=N.IP.XR(T,fy);bg=jb.s;f4=jb.G}else{var jT=fy.JZ(new eE(0,0));bg.x+=Math.round(jT.x);
bg.y+=Math.round(jT.y)}var jy=K.U(bg.$()*4);if(t!=0||y!=0){var cl=bg.q,hu=bg._,aA=d1.n,ko=d1.i,ec=d1.b,kK=fy.O();
kK.m2();var cM=kK.JZ(new eE(.5,.5)),gG=kK.JZ(new eE(1.5,1.5)),S=gG.x-cM.x,w=gG.y-cM.y;for(var r=0;r<hu;
r++){for(var u=0;u<cl;u++){var v=r*cl+u,c2=v*4,a1=Math.max(0,Math.min(W-1,~~(.5+S*u))),cs=Math.max(0,Math.min($-1,~~(.5+w*r))),f7=M[cs*W+a1],j7=-1+2*f7*(1/255),dz=-j7,iA=0;
if(j7>0){dz=0;iA=j7}jy[c2]=255*(1-dz)*(iA+(1-iA)*aA)*dO;jy[c2+1]=255*(1-dz)*(iA+(1-iA)*ko)*dO;jy[c2+2]=255*(1-dz)*(iA+(1-iA)*ec)*dO}}}else gq.Co(jy,I.Clr.v,null,dO);
K.wj(f4,jy,3);K.L.sg("norm",jy,bg,hH,bu,bg,1)}Z={jB:hH,qc:bu}}else if(U=="DrSh"){var kk=_.B9(A,e-A,!0),fA=kk.l$,g5=kk.SK.O();
gq.nH(fA,I,!1);if(I.Cntn&&I.Cntn.v){var h$=new b4;gq.Ql(h$,I,B,0);var hL=g5.O();hL.offset(-h$.x,-h$.y);
hL=hL.d_(g5);var ha=K.U(hL.$());K.Gc(fA,g5,ha,hL);var jl=Math.sqrt(h$.x*h$.x+h$.y*h$.y),fI=fA.slice(0);
for(var v=0;v<jl-1;v++){var S=Math.round(-h$.x*v/jl),w=Math.round(-h$.y*v/jl),aE=kk.SK.O();aE.offset(S,w);
K.avw(fI,aE,ha,hL)}fA=ha;g5=hL}g5.offset(p,X);gq.Ql(g5,I,B,0);var hH=K.U(g5.$()*4);gq.Co(hH,I.Clr.v);
K.wj(fA,hH,3);Z={jB:hH,qc:g5,a5l:I.layerConceals.v}}else if(U=="IrSh"){var kk=_.B9(A,e-A,!1);gq.Ql(kk.SK,I,B,0);
var g5=_.s().O(),fA=K.U(g5.$());fA.fill(255);K.Gc(kk.l$,kk.SK,fA,g5);gq.nH(fA,I,!0,!0);var hH=K.U(g5.$()*4);
gq.Co(hH,I.Clr.v);K.wj(fA,hH,3);g5.offset(p,X);Z={jB:hH,qc:g5}}else if(U=="GrFl"){var hH=K.U(_.s().$()*4);
gq.S4(I,hH,_.s(),B,null,m);var g5=_.s().O();g5.offset(p,X);Z={jB:hH,qc:g5}}else if(U=="SoFi"){var hH=K.U(_.l$().length*4);
gq.Co(hH,I.Clr.v);var g5=_.s().O();g5.offset(p,X);Z={jB:hH,qc:g5}}else if(U=="ebbl"){var es=!1;if(es)console.log(I);
var h=Date.now(),kN=h,fV=I.bvlS.v.BESl,jU=I.bvlT.v.bvlT;if(fV=="strokeEmboss"){var c$=j.frameFXMulti.v;
if(c$.length==0)continue;c$=c$[0].v;if(!c$.enab.v)continue;var iq=c$.Styl.v.FStl;if(iq=="OutF")fV="OtrB";
if(iq=="CtrF")fV="Embs";if(iq=="InsF")fV="InrB"}var e=I.blur.v.val;if(e==0)e=.7;if(fV=="Embs"||fV=="PlEb")e/=2;
var cz=["OtrB","InrB","Embs","PlEb","strokeEmboss"],h0=["SfBL","PrBL","Slmt"],fl=["In","Out"],co=jU!="SfBL"?e:e*.45,cC=Math.round(e),gr=_.s().O(),eK=gr.O();
eK.VT(cC,cC);var W=eK.q,$=eK._,kM=W*$,bM=K.U(kM);K.Gc(_.l$(),gr,bM,eK);var bn=K.style.J6(bM,W,$);K.m2(bM);
var fT=K.style.J6(bM,W,$);if(es)console.log("distTransform computed",Date.now()-h);h=Date.now();gq.aoC(co,bn,fT);
if(es)console.log("summing + cropping",Date.now()-h);h=Date.now();if(jU=="SfBL"){var ck=Math.pow(e*.21,1.22);
if(!0)ck=Math.max(ck,2);K.KX.qA(fT,eK,ck,2)}if(es)console.log("blurring",Date.now()-h);h=Date.now();
var ce=fT,kn=bn;kn.set(ce);if(I.useShape.v){var fc=Math.min(100,I.Inpr.v.val+1)/100;if(fV!="OtrB"&&fV!="InrB")fc=1;
var cv=K.c0.PF(I.MpgS.v.Crv.v,2e3),gM=Math.round(2e3/fc);cv=K.c0.am_(cv,gM,fV=="InrB");var hF=.5/co;
for(var v=0;v<kM;v++){var fg=ce[v],fP=.99999*(fg+co)*hF;ce[v]=-co+2*co*cv[~~(fP*(gM-1))]}if(es)console.log("applying shape",Date.now()-h);
h=Date.now()}if(I.useTexture.v){var jy=K.U(W*$*4);gq.MG(I,jy,eK,B.add.Patt,n);var cu=K.U(W*$);K.AS(jy,cu);
K.KX.a8B(cu,cu,eK,1);var h8=e*I.textureDepth.v.val*(1/100)*(1/255);if(I.InvT.v)h8=-h8;for(var v=0;v<kM;
v++)ce[v]+=-h8*cu[v];if(es)console.log("applying texture",Date.now()-h);h=Date.now()}var ia=fV=="PlEb",jd=new Float32Array(kM),bL=jd;
if(ia){bL=new Float32Array(kM)}var jq=gq.a2t(W,$,I,B,ce,jd,bL,ia);if(es)console.log("raycasting",Date.now()-h);
h=Date.now();if(I.Sftn.v.val!=0){K.KX.qA(jd,eK,I.Sftn.v.val*.43,2);if(ia)K.KX.qA(bL,eK,I.Sftn.v.val*.43,2)}if(es)console.log("softening",Date.now()-h);
h=Date.now();var dJ=new Uint8Array(jd.buffer),ju=new Uint32Array(dJ.buffer),cL=new Uint8Array(ce.buffer),k7=new Uint32Array(cL.buffer),ai=dJ,g_=cL,eL=ju,e5=k7;
if(ia){ai=new Uint8Array(bL.buffer);eL=new Uint32Array(ai.buffer);g_=new Uint8Array(kn.buffer);e5=new Uint32Array(g_.buffer)}gq.apd(I,W,$,jq,co,ia,kn,ju,k7,eL,e5,jd,bL);
if(es)console.log("baking textures",Date.now()-h);h=Date.now();eK=_.s().O();eK.VT(cC,cC);eK.offset(p,X);
Z={a8s:I.bvlS.v.BESl=="strokeEmboss"};var dP=af.Ci(I.hglM.v.BlnM),ei=I.hglO.v.val/100,aQ=af.Ci(I.sdwM.v.BlnM),ky=I.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(fV)!=-1){Z.py={jB:dJ,qc:eK,Er:dP,Tg:ei};Z.uG={jB:cL,qc:eK,Er:aQ,Tg:ky}}if(["OtrB","Embs","PlEb"].indexOf(fV)!=-1){Z.ux={jB:ai,qc:eK,Er:dP,Tg:ei};
Z.g8={jB:g_,qc:eK,Er:aQ,Tg:ky}}if(es)console.log(Date.now()-kN)}else if(U=="patternFill"){var i9=_.s(),hH=K.U(i9.$()*4);
gq.MG(I,hH,i9,B.add.Patt,n);var g5=i9.O();g5.offset(p,X);Z={jB:hH,qc:g5}}else if(U=="ChFX"){var hH=K.U(_.l$().length*4);
gq.Co(hH,I.Clr.v);var e=I.blur.v.val,a8=_.s().O();a8.VT(e,e);var ej=K.U(a8.$()),it=K.U(a8.$());K.Gc(_.l$(),_.s(),it,a8);
K.KX.mg(it,ej,a8,e*.43);var fJ=K.c0.eQ(I.MpgS.v.Crv.v,256,!0);K.aei(ej,fJ);var hk=K.U(_.l$().length),eI=K.U(_.l$().length),kI=_.s().O();
gq.Ql(kI,I,B,0);K.Gc(ej,a8,hk,kI);kI=_.s().O();gq.Ql(kI,I,B,Math.PI);K.Gc(ej,a8,eI,kI);var dY=hk.length;
for(var v=0;v<dY;v++)hH[4*v+3]=Math.abs(hk[v]-eI[v]);if(I.Invr.v)for(var v=0;v<dY;v++)hH[4*v+3]=255-hH[4*v+3];
var g5=_.s().O();g5.offset(p,X);Z={jB:hH,qc:g5}}else if(U=="OrGl"){var kk;if(I.GlwT.v.BETE=="SfBL")kk=_.B9(A,e-A,!0);
else kk=_.a8C(e,H,!0);var fA=kk.l$,g5=kk.SK,ds=fA.slice(0);gq.aGd(fA,I);var hH=K.U(g5.$()*4);if(I.Grad==null){gq.Co(hH,I.Clr.v);
gq.nH(fA,I,!1)}else{gq.nH(fA,I,null);var bC={i1:fA,cK:255,Hc:0,E9:g5};gq.S4(I,hH,g5,B,bC);var a_=I.Nose.v.val/100,dM=g5.q;
for(var v=0;v<ds.length;v++){var fb=255,jI=ds[v];if(jI<32){var hj=(jI+ds[v-1]+ds[v+1]+ds[v-dM]+ds[v+dM])*.2-1;
fb=Math.min(255,Math.round(Math.max(0,hj)*8))}fA[v]=fb}gq.aG5(fA,I)}K.wj(fA,hH,3);g5.offset(p,X);Z={jB:hH,qc:g5}}else if(U=="IrGl"){var kk;
if(I.GlwT.v.BETE=="SfBL")kk=_.B9(A,e-A,!1);else kk=_.a8C(e,H,!1);var fA=kk.l$,g5=kk.SK;gq.aGd(fA,I);
if(I.glwS.v.IGSr=="SrcC")K.m2(fA);var hH=K.U(g5.$()*4);if(I.Grad==null){gq.Co(hH,I.Clr.v);gq.nH(fA,I,!0)}else{gq.nH(fA,I,null);
var bC={i1:fA,cK:255,Hc:0,E9:g5};gq.S4(I,hH,g5,B,bC);fA.fill(255);gq.aG5(fA,I)}K.wj(fA,hH,3);g5.offset(p,X);
Z={jB:hH,qc:g5}}else if(U=="FrFX"){var gR=gq.f3(I),im=gR[0],jQ=gR[1],g5=_.s().O(),cS=null,gu=null;g5.VT(Math.ceil(q),Math.ceil(q));
if(jQ>0){var kk=_.B9(jQ,0,!0);gu=kk.l$;if(gu.length<g5.$()){gu=K.U(g5.$());K.Gc(kk.l$,kk.SK,gu,g5)}}if(im>0){var kk=_.B9(im,0,!1);
cS=K.U(g5.$());cS.fill(255);K.Gc(kk.l$,kk.SK,cS,g5)}g5.offset(p,X);var hH=K.U(g5.$()*4),bA=I.PntT.v.FrFl;
if(bA=="SClr")gq.Co(hH,I.Clr.v);if(bA=="GrFl")gq.S4(I,hH,g5,B,_.a2E(im,jQ));if(bA=="Ptrn")gq.MG(I,hH,g5,B.add.Patt,n);
var ad=I.overprint,cp=ad?ad.v:!1;if(cp){var aK=cS?cS:gu;if(cS&&gu)K.I8.uf(cS,gu,aK);K.wj(aK,hH,3)}Z={jB:hH,qc:g5,_w:gu,$W:cS,ath:cp}}g.w[U].push(Z);
if(U=="ebbl"){if(Z.py)g.all.push(Z.py,Z.uG);if(Z.ux)g.all.push(Z.ux,Z.g8)}else{Z.Er=af.Ci(I.Md.v.BlnM);
Z.Tg=I.Opct.v.val/100,g.all.push(Z)}}}return g};gq.b0=function(j){var n=1/Math.sqrt(j.x*j.x+j.y*j.y+j.Fp*j.Fp);
j.x*=n;j.y*=n;j.Fp*=n};gq.afR=function(j,n){return{x:j.y*n.Fp-j.Fp*n.y,y:j.Fp*n.x-j.x*n.Fp,Fp:j.x*n.y-j.y*n.x}};
gq.akm=function(j,n){return j.x*n.x+j.y*n.y+j.Fp*n.Fp};gq.aG5=function(j,n){var Q=n.Nose.v.val/100;if(Q>0)for(var v=0;
v<j.length;v++){var a=j[v];a=Math.min(510-(1+Q)*K.style.E7(v),a);j[v]=a}};gq.aoC=function(j,n,Q){var a=n.length;
for(var v=0;v<a;v++){var B=Q[v]-n[v];Q[v]=B}for(var v=0;v<a;v++){var B=Q[v];if(B<-j)Q[v]=-j;else if(B>j)Q[v]=j}};
gq.a2t=function(j,n,Q,a,B,m,R,q){var U=gq.adw(Q,a),l=U[0],b=U[1],D=Math.cos(l)*Math.cos(b),c=-Math.sin(l)*Math.cos(b),_=Math.sin(b);
m.fill(_);if(q)R.fill(_);var p=(Q.bvlT.v.bvlT=="SfBL"?1:.5)*(Q.bvlD.v.BESs=="In"?1:-1)*Q.srgR.v.val/100,X=-.125*p;
for(var g=0;g<n;g++){var F=g==0?0:-j,k=g==n-1?0:j,v=g*j;for(var I=0;I<j;I++,v++){var e=I==0?v:v-1,H=I==j-1?v:v+1,A=B[H]-B[e],Z=B[v+k]-B[v+F];
if(A*A+Z*Z<.005)continue;var J=B[e+F],s=B[H+F],E=B[e+k],z=B[H+k],h=X*(s+2*A+z-J-E),d=X*(E+2*Z+z-J-s),Y=1/Math.sqrt(h*h+d*d+1);
h*=Y;d*=Y;m[v]=Math.max(0,h*D+d*c+Y*_);if(q)R[v]=Math.max(0,-h*D-d*c+Y*_)}}return _};gq.apd=function(j,n,Q,a,B,m,R,q,U,l,b,D,c){var _=1/a,p=1/(1-a),X=1/B,g=K.c0.PF(j.TrnS.v.Crv.v,1024),F=gq.hM(j.hglC.v,0),k=gq.hM(j.sdwC.v,0),I=new Float32Array(2500);
for(var v=0;v<2500;v++){var e=Math.max(0,Math.min(1,(v-500)*.001));I[v]=Math.pow(e,.2)}var H=new Float32Array(1024),A=new Float32Array(1024);
for(var v=0;v<1024;v++){var Z=g[v];H[v]=255*(1-Math.min(1,Z*_));A[v]=255*(1-Math.min(1,(1-Z)*p))}for(var J=0;
J<Q;J++)for(var e=0;e<n;e++){var v=J*n+e,s=(R[v]+B*.993)*X,E=I[~~(500+s*1e3)],z=~~(D[v]*1023),h=E*H[z],d=E*A[z];
U[v]=~~(.5+h)<<24|k;q[v]=~~(.5+d)<<24|F;if(m){z=~~(c[v]*1023);h=E*H[z];d=E*A[z];b[v]=~~(.5+h)<<24|k;
l[v]=~~(.5+d)<<24|F}}};gq.dP=function(j){var n=gq.EK(),Q=j.rH,a=!1;for(var v=0;v<32;v+=8)if(Q[v]+Q[v+1]+Q[v+4]+Q[v+5]!=0||Q[v+2]+Q[v+3]+Q[v+6]+Q[v+7]!=1020)a=!0;
if(a){Q=Q.slice(0);for(var v=0;v<40;v+=4){var B=Q[v]/255,m=Q[v+1]/255,R=Q[v+2]/255,q=Q[v+3]/255;Q[v]=B-.001;
Q[v+1]=B==m?1e6:1/(m-B);Q[v+2]=R==q?-1e6:1/(R-q);Q[v+3]=q+.001}}var U=j.add.iOpa!=null?j.add.iOpa/255:n.fill,l=j.add.vstk;
if(l&&!l.fillEnabled.v&&(!l.strokeEnabled.v||l.strokeStyleLineWidth.v.val==0))U=0;return{fill:U,am:a?Q:null,tH:j.add.brst!=null?j.add.brst:n.tH,afy:j.add.knko!=null?j.add.knko:n.afy,style:!1,Xu:!1}};
gq.EK=function(){return{fill:1,am:null,tH:[1,1,1],afy:0,style:!1,Xu:!1}};gq.avS=function(j,n,Q,a,B,m,R,q){if(q==null)q=1;
if(R==null)R=new j8;var U=j.Fd[1].q,l=j.Fd[1]._,b=new j8,D=B<2;if(D)b.translate(-U/2,-l/2);if(B==0){q*=Math.max(Q/U,a/l)}else if(B==1){q*=Math.min(Q/U,a/l)}else if(B==2){b.scale(1/U,1/l);
b.concat(R);b.scale(Q,a)}else if(B==3){q=q}b.scale(q,q);if(D)b.translate(Q/2,a/2);b.concat(m);n.Ptrn.v.Idnt.v=j.id;
n.Scl.v.val=Math.round(100*b.P8());n.Angl.v.val=Math.round(180*Math.atan2(-b.b,b.NX)/Math.PI);n.Algn.v=!0;
var c=n.phase.v;c.Hrzn.v=Math.round(b.Qr);c.Vrtc.v=Math.round(b.dE)};gq.Te=function(j,n){if(n==null)return null;
var Q=j.Idnt.v,a=j.Nm.v;for(var v=0;v<n.length;v++)if(n[v].id==Q)return n[v];for(var v=0;v<n.length;
v++)if(n[v].name==a)return n[v];return null};gq.aGI=function(j,n,Q){var a=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var v=0;v<a.length;v++){var B=j.v[a[v]].v;for(var m=0;m<B.length;m++)if(B[m].v.Ptrn)n.sS(gq.Te(B[m].v.Ptrn.v,Q))}};
gq.aaG=function(j,n,Q){var a=["patternFillMulti","ebblMulti","frameFXMulti"];for(var v=0;v<a.length;
v++){var B=j.v[a[v]].v;for(var m=0;m<B.length;m++)if(B[m].v.Ptrn){var R=B[m].v.Ptrn.v,q=gq.Te(R,Q),U=gq.Te(R,n.add.Patt);
if(q==null&&U)Q.push(U)}}};gq.MG=function(j,n,Q,a,B){var m=gq.Te(j.Ptrn.v,a);if(m!=null&&!Q.ke()){var R=m.Fd,q=R[0],U=R[1],l=0;
K.xu(R);var b=(j.Scl?j.Scl.v.val:100)/100;while((b<.3||b==.5)&&R[l+2]){b*=U.q/R[l+3].q;l+=2;q=R[l];U=R[l+1]}var D=K.scale.MG(q,U.q,U._),c=j.phase?j.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},_=j.Angl?j.Angl.v.val:0,p=-Q.x+c.Hrzn.v-1,X=-Q.y+c.Vrtc.v-1;
if(j.Algn!=null&&!j.Algn.v){}else if(B){p+=B.x;X+=B.y}if(n)K.scale.acw(D,n,Q.q,Q._,b,b,p+1,X+1,_*Math.PI/180);
else return[D,b,p+1,X+1,_*Math.PI/180]}};gq.S4=function(j,n,Q,a,B,m,R,q){if(m==null)m=Q;var U=j.Type?j.Type.v.GrdT:"shapeburst",l=j.Algn&&j.Algn.v?m:new b4(0,0,a.q,a._),b=j.Angl?K.Gp.aD_(j,l):[new eE(0,0),new eE(100,0)],D=b[0].x,c=b[0].y,_=b[1].x-D,p=b[1].y-c,X=Math.sqrt(_*_+p*p);
X=1/(2*X*X);var g=[_*X,p*X,-p*X,_*X],F=j.Rvrs?j.Rvrs.v:!1,k=j.Dthr?j.Dthr.v:!1;K.Gp.C_(j.Grad.v,n,Q,g,D,c,F,g8.Gp.types.indexOf(U),R==null?0:R,q==null?0:q,B,k)};
gq.aF8=function(j,n,Q){for(var v=0;v<j.all.length;v++){var a=j.all[v];a.bT=a.qc.O();a.bT.offset(n,Q)}};
gq.a5E=function(j,n,Q,a,B,m){var R=gz.oB?gq.afa:gq.aqC;gq.aF8(n,Q.x,Q.y);var q=n.w.DrSh;for(var v=0;
v<q.length;v++)if(!q[v].a5l)R(q[v],a,B,m)};gq.aBP=function(j,n,Q,a,B,m,R,q,U,l){var b=Q,D=gz.oB?gq.afa:gq.aqC,c=gz.oB?gz.L.g9:K.L.uZ,_;
_=n.w.DrSh;for(var v=0;v<_.length;v++)if(_[v].a5l)D(_[v],a,B,m);_=n.w.St3D;for(var v=0;v<_.length;v++)D(_[v],a,B,m);
_=n.w.OrGl;for(var v=0;v<_.length;v++)D(_[v],a,B,m);var p="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var X=0;X<p.length;X++){var _=n.w[p[X]];for(var v=0;v<_.length;v++)D(_[v],R,b,m)}var g=n.w.ebbl[0],F=g!=null&&g.a8s;
_=n.w.FrFX;for(var v=0;v<_.length;v++){var k=_[v];id.Cg.Gc(q,l,U,l,m);D(k,U,l,m);if(F&&v==_.length-1){if(g.g8)D(g.g8,U,l,m);
if(g.ux)D(g.ux,U,l,m);if(g.uG)D(g.uG,U,l,m);if(g.py)D(g.py,U,l,m)}if(k.ath){if(k.$W||k.C6){D(k,R,b,m)}if(k._w||k.EO){D(k,a,B,m)}}else{if(k.$W||k.C6)c(U,l,R,b,gz.oB?k.C6:k.$W,k.bT,0,m,1);
if(k._w||k.EO)c(U,l,a,B,gz.oB?k.EO:k._w,k.bT,0,m,1)}}if(!F&&g!=null){if(g.g8)D(g.g8,a,B,m);if(g.ux)D(g.ux,a,B,m);
if(g.uG)D(g.uG,R,b,m);if(g.py)D(g.py,R,b,m)}};gq.aqC=function(j,n,Q,a){var B=gq.EK();B.fill=j.Tg;B.style=!0;
K.L.sg(j.Er,j.jB,j.bT,n,Q,a,1,B)};gq.afa=function(j,n,Q,a){var B=gq.EK();B.fill=j.Tg;B.style=!0;gz.L.anU(j.Er,j.QJ,j.bT,n,Q,a,1,B)};
gq.aGd=function(j,n){var Q=1-n.Inpr.v.val/100,a=1+Math.tan(Q*(Math.PI/2)),B=j.length;for(var v=0;v<B;
v++)j[v]=Math.min(255,Math.round(j[v]*a))};gq.nH=function(j,n,Q,a){var B=n.blur.v.val,m=Math.round(B*(n.Ckmt.v.val/100));
if(B>m){var R=K.c0.eQ(n.TrnS.v.Crv.v,256,a!=!0);K.aei(j,R)}if(Q!=null&&n.Nose.v.val>0)K.style.D7(j,n.Nose.v.val/100,Q)};
gq.hM=function(j,n,Q){if(n==null)n=255;var a=K.Gp.qF(j);if(Q!=null){a.n=Math.round(a.n*Q);a.i=Math.round(a.i*Q);
a.b=Math.round(a.b*Q)}return n<<24|a.b<<16|a.i<<8|a.n};gq.Co=function(j,n,Q,a){var B=new Uint32Array(j.buffer);
B.fill(gq.hM(n,Q,a))};gq.Ql=function(j,n,Q,a,B){var m=n.uglg&&n.uglg.v?Q._Q():n[B?B:"lagl"].v.val;m=m*Math.PI/180+a;
var R=Math.cos(m)*n.Dstn.v.val,q=Math.sin(m)*n.Dstn.v.val;j.x-=Math.round(R);j.y+=Math.round(q)};gq.adw=function(j,n){var Q=j.uglg&&j.uglg.v?n._Q():j.lagl.v.val;
Q=Q*(Math.PI/180);var a=j.uglg&&j.uglg.v?n.ZL():j.Lald.v.val;a=a*(Math.PI/180);return[Q,a]};gq.akT=function(j){if(j==null||!j.masterFXSwitch.v)return null;
var n=j.frameFXMulti.v,Q=null;for(var v=0;v<n.length;v++)if(n[v].v.enab.v)Q=n[v].v;if(Q==null)return null;
var a=g8.o0.cL();gq.anZ(Q,a);return a};gq.anZ=function(j,n){var Q=g8.stroke.lD.indexOf(j.PntT.v.FrFl),a=[g8.WE,g8.Kp,g8._$][Q],B=n.strokeStyleContent.v={classID:g8.o0.TF[Q]};
for(var v=0;v<a.length;v++)B[a[v]]=j[a[v]];n.strokeEnabled=j.enab;n.strokeStyleLineWidth=j.Sz;n.strokeStyleLineAlignment.v.strokeStyleLineAlignment=g8.o0.cw[g8.stroke.types.indexOf(j.Styl.v.FStl)];
n.strokeStyleOpacity=j.Opct;n.strokeStyleBlendMode=j.Md;n.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
gq.l7=function(j,n){var Q=[];for(var v=0;v<j.length;v++)Q.push({t:"UntF",v:{type:"#Nne",val:j[v]*n}});
return Q};gq.ajw=function(j,n){var Q=j.wT/255*(j.add.iOpa?j.add.iOpa/255:1),a=j.add.TySh,B=j.bx()||j.Oi()&&j.add.vmsk&&j.add.vstk.fillEnabled.v&&j.add.vstk.strokeEnabled.v;
if(a){var m=a.Kt.EngineDict.StyleRun.RunArray,R=m[0].StyleSheet.StyleSheetData,q=0;if(R.FillFlag)q++;
if(R.StrokeFlag)q++;if(R._FillBackgroundFlag)q++;if(q>1)B=!0}return B&&(n||Q!=1||j.TM!="pass"&&j.TM!="norm")};
gq.Je=function(j,n,Q,a){this.HB=n.O();this.ag9=n.O();this.ag9.VT(Q,Q);if(a){this.HB.VT(1,1);this.xs=K.U(this.HB.$());
K.Gc(j,n,this.xs,this.HB)}else this.xs=j;this.r$=null;this.jT=null;this.dW=null};gq.Je.prototype.l$=function(){return this.xs};
gq.Je.prototype.s=function(){return this.HB};gq.Je.prototype.ZC=function(){return this.ag9};gq.Je.prototype.mo=function(){if(this.r$)return this.r$;
this.r$=this.l$().slice(0);K.m2(this.r$);return this.r$};gq.Je.prototype.FG=function(){if(this.jT)return this.jT;
this.jT=K.style.J6(this.mo(),this.s().q,this.s()._);return this.jT};gq.Je.prototype.vp=function(){if(this.dW)return this.dW;
var j=this.ZC(),n=K.U(j.$());K.Gc(this.l$(),this.s(),n,j);var Q=Date.now();this.dW=K.style.J6(n,j.q,j._);
return this.dW};gq.Je.prototype.a2E=function(j,n){var Q={cK:-n,Hc:j,E9:null,i1:null};if(n==0){Q.E9=this.s();
Q.i1=this.FG();return Q}var a=this.vp().slice(0),B=this.ZC();Q.E9=B;Q.i1=a;for(var v=0;v<a.length;v++)a[v]=-a[v];
if(j==0)return Q;var m=this.FG(),R=this.s();for(var q=0;q<R._;q++)for(var U=0;U<R.q;U++){var l=q*R.q+U,b=(q+R.y-B.y)*B.q+U+R.x-B.x;
a[b]+=m[l]}return Q};gq.Je.prototype.B9=function(j,n,Q){var a=Math.ceil(j+n),B={SK:this.s().O(),l$:null};
B.SK.VT(a,a);B.l$=K.U(B.SK.$());if(j==0&&n==0)K.D1(Q?this.l$():this.mo(),B.l$);else{var m=K.U(B.SK.$());
K.Gc(this.l$(),this.s(),m,B.SK);if(!Q)K.m2(m);if(j!=0){if(Q)K.style.MU(m,B.SK,this.vp(),this.ZC(),j);
else K.style.MU(m,B.SK,this.FG(),this.s(),j)}if(n!=0)K.KX.mg(m,B.l$,B.SK,Math.max(1,n*.43));else B.l$=m}return B};
gq.Je.prototype.a8C=function(j,n,Q){var a=j*(n-.5),B={SK:this.s().O(),l$:null};if(Q)B.SK.VT(j,j);B.l$=K.U(B.SK.$());
var m=B.SK.q,R=B.SK._,q=Q?this.vp():this.FG(),U=Q?this.ZC():this.s(),l=B.SK,b=l.uf(U),m=b.q,R=b._,D=b.x-l.x,c=b.y-l.y,_=b.x-U.x,p=b.y-U.y,X=1-n*2;
for(var g=0;g<R;g++)for(var F=0;F<m;F++){var k=q[(g+p)*U.q+F+_],I=k/j;B.l$[(g+c)*l.q+F+D]=Math.max(0,Math.min(255,255-255*((I+X)/(1+X))))}return B};
gq.aFs=function(j,n,Q,a){var B=j.Lefx,m=j.blendOptions;if(B){var R=n.add.lmfx;if(Q==null)Q=R?R.Scl.v.val:100;
n.add.lmfx=K.u(B.v);if(n.add.lmfx.Scl==null)n.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};gq.HG(n.add.lmfx,Q/n.add.lmfx.Scl.v.val);
if(R)n.add.lmfx.Scl.v.val=R.Scl.v.val;var q=B.v.gagl;if(q&&a)a.yG(q.v.val)}else delete n.add.lmfx;if(m){m=m.v;
if(m.Md)n.TM=af.Ci(m.Md.v.BlnM);if(m.Opct)n.wT=Math.round(m.Opct.v.val*255/100);if(m.fillOpacity)n.add.iOpa=Math.round(m.fillOpacity.v.val*255/100);
if(m.Blnd){var U=[];for(var v=0;v<10;v++)U.push(0,0,255,255);var l=m.Blnd.v,b="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var v=0;v<l.length;v++){var D=l[v].v,c=8*["Gry","Rd","Grn","Bl"].indexOf(D.Chnl.v[0].v.enum);for(var _=0;
_<8;_++){U[c+_]=D[b[_]].v}}n.rH=U}}};gq.ass=function(j){var n="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),Q=[],a=j.rH;
for(var v=0;v<4;v++){var B=v*8;if(a[B]+a[B+1]+a[B+4]+a[B+5]==0&&a[B+2]+a[B+3]+a[B+6]+a[B+7]==4*255)continue;
var m={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][v]}}]}}};
Q.push(m);for(var R=0;R<8;R++)m.v[n[R]]={t:"long",v:a[v*8+R]}}var q={classID:"blendOptions"};if(j.TM!="norm")q.Md={t:"enum",v:{BlnM:af.sr(j.TM)}};
if(j.wT!=255)q.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(j.wT*100/255)}};if(j.add.iOpa!=null)q.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(j.add.iOpa*100/255)}};
if(Q.length!=0)q.Blnd={t:"VlLs",v:Q};var U={t_:{classID:"null",Idnt:{t:"TEXT",v:hs.ce()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},IK:{classID:"Styl",blendOptions:{t:"Objc",v:q}}},l=j.add.lmfx;
if(l)U.IK.Lefx={t:"Objc",v:l};return U};function ic(){}ic.GK=function(j){var n=K.u(ic.abQ),Q=n.Brsh.v;
if(j!=null){delete Q.Hrdn;Q.classID="sampledBrush";Q.sampledData={t:"TEXT",v:j}}return n};ic.abQ={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
ic.acg=function(j,n){var Q=["opVr","szVr"],a=["usePaintDynamics","useTipDynamics"];for(var v=0;v<2;v++){var B=Q[v];
if(j[B]==null)j[B]=JSON.parse(ic.b0.k5[B]);j[B].v.bVTy.v=n[v]?2:0;if(n[v])j[a[v]].v=!0}ic.b0.atl(j)};
ic.b0={};ic.b0.check=function(j){var n=ic.b0.kx;for(var v=0;v<n.length;v++)if(j[n[v]]==null)j[n[v]]=JSON.parse(ic.b0.k5[n[v]]);
var Q=[];for(var v=0;v<n.length;v++)Q.push(n[v]);var a=ic.b0.a4$;for(var v=0;v<a.length;v++){var B=a[v][0],m=a[v][1],R=!0;
for(var q=0;q<B.length;q++)R=R&&j[B[q]].v==!0;if(R)for(var q=0;q<m.length;q++){if(j[m[q]]==null)console.log("Missing conditional parameter "+m[q]);
else Q.push(m[q])}}for(var U in j)if(Q.indexOf(U)==-1&&U!="toolOptions")console.log("Extra parameter "+U);
j=j.Brsh.v;n=ic.b0.QV.kx;for(var v=0;v<n.length;v++)if(j[n[v]]==null)j[n[v]]=JSON.parse(ic.b0.QV.k5[n[v]]);
Q=[];for(var v=0;v<n.length;v++)if(j[n[v]])Q.push(n[v]);else console.log("Missing default parameter "+n[v]);
a=ic.b0.QV.a8A[j.classID];for(var v=0;v<a.length;v++)if(j[a[v]]==null&&a[v]!="dtipsGridSize"&&a[v]!="dtipsErodibleTipHeightMap"&&j.azV!=1)console.log("Missing conditional parameter "+a[v]);
else Q.push(a[v]);for(var U in j)if(Q.indexOf(U)==-1)console.log("Extra parameter "+U)};ic.b0.atl=function(j){var n=ic.b0.a4$;
for(var v=0;v<n.length;v++){var Q=n[v][0],a=n[v][1],B=!0;for(var m=0;m<Q.length;m++)B=B&&j[Q[m]]&&j[Q[m]].v==!0;
if(B){for(var m=0;m<a.length;m++)if(j[a[m]]==null){j[a[m]]=JSON.parse(ic.b0.k5[a[m]])}}else for(var m=0;
m<a.length;m++)if(j[a[m]]!=null){delete j[a[m]]}}};ic.b0.QV={};ic.b0.QV.kx="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
ic.b0.QV.k5={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};ic.b0.QV.a8A={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
ic.b0.a4$=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
ic.b0.kx="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
ic.b0.k5={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function jR(j,n){this.aoR=j;this.c6=n==null?0:n;this.dir=0}jR.prototype.Cw=function(j,n){var Q=this.aoR,a=new eE(j.x-Q.x,j.y-Q.y),B=new j8;
B.rotate(-this.c6);a=B.JZ(a);if(this.dir==0&&!Q.N_(j))this.dir=Math.abs(a.x)<Math.abs(a.y)?1:2;if(n.r(i8.f8)){if(this.dir==1)a.x=0;
if(this.dir==2)a.y=0}B.m2();a=B.JZ(a);var m=new eE(Q.x+a.x,Q.y+a.y);return m};jR.prototype.aAf=function(j){if(j.r(i8.f8))return this.dir;
return 0};var d9=function(){function j(){this.a6K={}}j.akq=function(n,Q){var a=n.O();a.Qr-=Math.floor(a.Qr);
a.dE-=Math.floor(a.dE);var B=new eE(Q,0),m=new eE(0,Q),R=a.JZ(B),q=a.JZ(m),U=new eE(a.Qr,a.dE);return[R,q,U]};
j.auv=function(n,Q){var a=eE.X_;return a(n[0],Q[0])+a(n[1],Q[1])+a(n[2],Q[2]);return dsum};j.prototype.aqp=function(n){var Q=this.a6K,a=Q[n];
if(a==null)a=Q[n]={T3:[],vl:0,$:0,avZ:0,aiz:0};a.vl=Date.now();while(Object.keys(Q).length>3){var B="",m=Date.now();
for(var R in Q){var q=Q[R].vl;if(q<m){m=q;B=R}}delete Q[B]}return a};j.prototype.a5_=function(n,Q){var a=n.T3,B,m=1e6;
for(var v=0;v<a.length;v++){var R=a[v],q=j.auv(R.g_,Q);if(q<m){B=R;m=q}}return B};j.prototype.ac6=function(n,Q){var a=n.T3;
a.push(Q);n.$+=Q.s.$();if(a.length>1e3||n.$>100*100*1600){console.log("pruning",n.$,a.length);a.sort(function(m,R){return R.vl-m.vl});
while(a.length>500||n.$>100*100*800){var B=a.pop();n.$-=B.s.$()}}};return j}();function jm(j,n,Q,a,B,m,R,q,U){this.wP=n;
this.jy=Q;this.g7=m;this.eT=a;this.Mh=null;this.Q_=null;this.m8=0;this.aBu=0;this.a0Z=0;this.FR=0;this.$j=0;
this.pr=U==null?Math.floor(Math.random()*16777215):U;this.BX=U==null?Math.floor(Math.random()*16777215):U;
this.nJ=new b4;this.wD=new b4;if(q!=null){this.jB=q}else{var l=jm.az4;if(l.length!=R.$()*4)l=K.U(R.$()*4);
else l.fill(0);this.jB=jm.az4=l}this.s=R.O();this.UR=[];this._o=[];this.yS=null;this.Z4=0;this.b=null;
this.ayj="";this.mi=null;this.aI9(j,B)}jm.az4=K.U(16);jm.prototype.aI9=function(j,n){this.Z4=n;this.b=j;
this.ayj=JSON.stringify(j)+JSON.stringify(this.eT.Hf);this.mi=jm.adM(this.b,this.wP,this.jy)};jm.prototype.moveTo=function(j,n,Q){Q=this.aaH(Q);
this.m8=Q;var a=new eE(j,n),B=this.b.Brsh.v.Dmtr.v.val;this.Mh=a.O();this.Q_=a.O();this.yS=a.O();this.UR=[j,n];
this._o=[Q];if(this.eT.YZ!=jm.jf){var m=this.b.angleDynamics,R=m?m.v.bVTy.v==6:!1;this.gO(R?new b4:this.acd(a,this.a6C(Q),Q,new eE(0,0)))}this.FR=a.O()};
jm.prototype.lineTo=function(j,n,Q){Q=this.aaH(Q);var a=this.UR,B=a.length,m=a[B-2],R=a[B-1];if(j==m&&n==R)return;
var q=this.b.Brsh.v.Dmtr.v.val,U=Math.ceil(q)+1,l=new b4(Math.round(m),Math.round(R),0,0);l.VT(U,U);
var b=new b4(Math.round(j),Math.round(n),0,0);b.VT(U,U);this.UR.push(j,n);this._o.push(Q);B+=2;if(B>=6)this.gO(this.aa6(B))};
jm.prototype.aaH=function(j){if(j==null)j=1;j=Math.max(.05,Math.min(5,j));if(isNaN(j)){alert("Pressure is not a number");
throw"e"}return j};jm.prototype.gO=function(j){this.nJ=j;this.wD=this.wD.d_(j)};jm.prototype.finish=function(){var j=this.UR,n=j.length,Q;
if(n==4)Q=this.Du(j[n-2],j[n-1],this._o[(n>>1)-1],!0);if(n>4)Q=this.aa6(n+2);if(Q)this.gO(Q)};jm.prototype.uI=function(){return this.s.O()};
jm.prototype.Iz=function(){return this.nJ.uf(this.s)};jm.prototype.Eg=function(){return this.wD.uf(this.s)};
jm.prototype.P$=function(){return this.jB};jm.prototype.aa6=function(j){var n=this.UR,Q=this._o,a=n[j-6],B=n[j-5],m=n[j-4],R=n[j-3],q=Q[(j>>1)-3],U=Q[(j>>1)-2],l=new eE(0,0),b=new eE(0,0);
if(8<=j)l=jm.auz(n[j-8],n[j-7],a,B,m,R);if(j<=n.length)b=jm.auz(n[j-2],n[j-1],m,R,a,B);var D=a+l.x,c=B+l.y,_=m+b.x,p=R+b.y,X=new b4,g=this.a6U()?1:10;
for(var v=0;v<g;v++){var F=(v+1)/g,k=1-F,I=k*k*k*a+3*F*k*k*D+3*F*F*k*_+F*F*F*m,e=k*k*k*B+3*F*k*k*c+3*F*F*k*p+F*F*F*R,H=this.Du(I,e,q+F*(U-q));
X=X.d_(H)}return X};jm.auz=function(j,n,Q,a,B,m){var R=j-Q,q=n-a,U=B-Q,l=m-a,b=Math.sqrt(R*R+q*q),D=Math.sqrt(U*U+l*l),c=Math.acos((R*U+q*l)/(b*D))/Math.PI,_=.35,p=.1;
c=p+c*(_-p);var X=B-j,g=m-n,F=Math.sqrt(X*X+g*g),k=c*D/F;return new eE(X*k,g*k)};jm.prototype.Du=function(j,n,Q,a){var B=new b4,m=this.eT.a39;
if(m==null)m=0;if(m==0||a){B=this.ave(j,n,Q);return B}var R=this.yS,q=j-R.x,U=n-R.y,l=Math.sqrt(q*q+U*U);
q/=l;U/=l;if(l>m){var b=R.x+q*(l-m),D=R.y+U*(l-m);B=this.ave(b,D,Q);this.yS.OI(b,D)}return B};jm.prototype.a6U=function(){var j=this.b,n=j.Brsh.v.Dmtr.v.val;
return this.eT.Hf&&n==1};jm.prototype.ave=function(j,n,Q){var a=new b4,B=new eE(j,n),m=this.eT.YZ,R=B.tV(this.Q_);
R.normalize(1);var q=eE.X_(this.Q_,B),U=-this.aBu,l=this.Q_.O();if(this.a6U()){if(q>.99){var b=this.Q_;
jm.als(b,B,this.jB,this.s,this.Tr(this.b));a=K.c.so([b.x,b.y,B.x,B.y]);U=q}else B=this.Q_}else while(!0){var D=this.m8+(Q-this.m8)*(Math.max(0,U)/q),c=this.a6C(D),_=this.afe()*(c+this.a0Z)/2*this.mi.amH;
if(m==jm.jf)_=1;_=Math.max(_,.5);if(U+_<q){U+=_;this.$j+=_;var p=new eE(this.Q_.x+R.x*U,this.Q_.y+R.y*U),F=1;
if(m==jm.jf){var X=l.O();X.x+=R.x>0?1:-1;var g=l.O();g.y+=R.y>0?1:-1;if(eE.X_(X,p)<eE.X_(g,p))p=X;else p=g;
U=eE.X_(p,this.Q_)}if(this.b.useScatter.v==!0){F=this.b.Cnt.v;var k=this.b.countDynamics.v.jitter.v.val/100,I=k*(-1+2*this.V5());
F+=Math.round(F*I)}for(var v=0;v<F;v++){var e=this.acd(p,c,Q,R);a=a.d_(e)}l=p}else break}this.aBu=q-U;
this.Q_=B;this.m8=Q;return a};jm.prototype.afe=function(){var j=this.b.Brsh.v,n=j.Spcn.v.val,Q=Math.max(5,j.Rndn.v.val);
return Q/100*(n/100)};jm.prototype.a6C=function(j){var n=this.b,Q=n.Brsh.v.Dmtr.v.val;if(n.useTipDynamics.v){var a=Q*(n.minimumDiameter.v.val/100);
Q=a+(Q-a)*(1-this.V5(this.BX)*(n.szVr.v.jitter.v.val/100));Q*=jm.$U(n,"szVr",j,this.$j)}return Q};jm.$U=function(j,n,Q,a){var B=1,m=j[n].v,R=m.bVTy.v,q=m.fStp.v;
if(R==1)B*=Math.max(0,(q-a)/q);if(R==2)B*=Q;return B};jm.prototype.acd=function(j,n,Q,a){var B=this.eT.u3,X=0;
B=Math.min(1,B);var m=this.b,R=this.b.Brsh.v,q=R.Dmtr.v.val,U=this.eT,l=U.YZ,b=U.aaL,D=this.mi.Fd[1],c=new j8;
c.translate(-D.q/2,-D._/2);c.scale(1/this.mi.aem,1/this.mi.aem);c.scale(n/q,n/q);c.scale(1,Math.max(5,R.Rndn.v.val)/100);
if(m.usePaintDynamics&&m.usePaintDynamics.v){var _=m.opVr.v.jitter.v.val/100,p=m.prVr.v.jitter.v.val/100;
B*=1-this.V5()*_;B*=1-this.V5()*p;B*=jm.$U(m,"opVr",Q,this.$j)*jm.$U(m,"prVr",Q,this.$j)}if(m.useTipDynamics.v){var g=m.angleDynamics.v,F=m.minimumRoundness.v.val/100;
c.scale(1,F+(1-F)*Math.round(100-this.V5()*m.roundnessDynamics.v.jitter.v.val)/100);X+=(-.5+this.V5())*4*Math.PI*(g.jitter.v.val/100);
X+=jm.$U(m,"angleDynamics",Q,this.$j)*2*Math.PI;if(g.bVTy.v==6)X+=Math.atan2(-a.y,a.x)}X+=R.Angl.v.val*(Math.PI/180);
c.rotate(X);if(m.useScatter.v){var k=(-1+2*this.V5())*m.scatterDynamics.v.jitter.v.val/100;c.translate(-k*n*a.y,k*n*a.x)}c.translate(j.x,j.y);
var I=this.awp(c,j,n),e=I.s.O();if(l==null){var H=this.Tr(m);K.b7(I.hk,Math.round(H.b*255)<<16|Math.round(H.i*255)<<8|Math.round(H.n*255)<<0);
if(this.wD.ke()&&this.s.N_(I.s)&&B==1)this.jB=I.hk.slice(0);else{var A=-1,Z=2,J=-1,s=2;if(!U.zO){A=J=0;
Z=s=1}for(var E=J;E<s;E++)for(var z=A;z<Z;z++){var h=I.s.O();h.x+=z*this.s.q;h.y+=E*this.s._;if(h.Ta(this.s)){e=e.d_(h);
K.L.a5S(I.hk,h,this.jB,this.s,h,B)}}}}if(l==jm.jf){var d=new eE(I.s.x+I.s.q/2,I.s.y+I.s._/2),Y=Math.round(d.x-this.FR.x),C=Math.round(d.y-this.FR.y),i=I.s.O();
i.offset(-Y,-C);var M=i.uf(this.s);M.offset(Y,C);K.EC(this.jB,this.s,I.hk,i);K.L.aBA(I.hk,I.s,this.jB,this.s,I.vL,I.s,B)}if(l==jm.YL||l==jm.nx||l==jm.Be){var W=I.s.uf(this.s),$;
if(W.N_(I.s))$=I.vL;else{$=K.U(W.$());K.Gc(I.vL,I.s,$,W)}var P=K.U(W.$()*4);K.EC(this.jB,this.s,P,W);
if(l==jm.nx){var O=P.slice(0),G=K.GY.c4([-1,-1,-1,-1,25,-1,-1,-1,-1]);K.GY.ie(P,O,W.q,W._,G,0);K.D1(O,P)}else if(l==jm.Be){var t=fo.cL("UnsM");
t.Amnt.v.val=15;t.Thsh.v=0;t.Rds.v.val=5;var O=K.U(P.length);fo.cN("UnsM",{buffer:P,s:W},t,0,0,{buffer:O,s:W});
K.D1(O,P)}else{fo.xx(1,K.KX.FE,P,W)}K.L.aBA(P,W,this.jB,this.s,$,W,B)}this.a0Z=n;this.FR=d;this.BX++;
return e};jm.prototype.Tr=function(j){var n=jm.ap0(this.Z4);if(j.useColorDynamics&&j.useColorDynamics.v){var Q=1-this.V5()*j.clVr.v.jitter.v.val/100,a=jm.ap0(this.g7);
n.n=Q*n.n+(1-Q)*a.n;n.i=Q*n.i+(1-Q)*a.i;n.b=Q*n.b+(1-Q)*a.b;var B=(-.5+this.V5())*j.H.v.val/100,m=(-1+2*this.V5())*j.Strt.v.val/100,R=(-1+2*this.V5())*j.Brgh.v.val/100,q=K.Qq(n.n,n.i,n.b);
q.WC=(q.WC+B+1)%1;q.bD=q.bD+m;if(q.bD<0)q.bD=-q.bD;if(q.bD>1)q.bD=1-(q.bD-1);q.n8=q.n8+R;if(q.n8<0)q.n8=-q.n8;
if(q.n8>1)q.n8=1-(q.n8-1);n=K.JG(q.WC,q.bD,q.n8)}return n};jm.prototype.b0=function(j){return Math.max(0,Math.min(1,j))};
jm.prototype.V5=function(j){if(j==null){j=this.pr++}return jm.hash(j)};jm.ap0=function(j){return{n:(j>>16&255)/255,i:(j>>8&255)/255,b:(j>>0&255)/255}};
jm.hash=function(j){j=j^61^j>>16;j=j+(j<<3);j=j^j>>4;j=j*668265261;j=j^j>>15;return(j&16777215)/16777215};
jm.aae=new d9;jm.prototype.awp=function(j,n,Q){var a=Math.sqrt(this.mi.Fd[1].$()),B=a*j.P8(),m=B<10?1:B<50?1.5:B<200?3:8;
if(B<30)m=0;var R=jm.aae,q=R.aqp(this.ayj),U=this.eT.Hf,l=d9.akq(j,a),b=R.a5_(q,l);if(b&&d9.auv(b.g_,l)>m)b=null;
if(b){b.s.x=Math.round(b.arI.x+j.Qr);b.s.y=Math.round(b.arI.y+j.dE);b.vl=Date.now()}else{var D=Math.round(this.b.Brsh.v.Dmtr.v.val),c;
if(U&&D<=3){c={G:K.U(D*D),s:new b4(Math.round(n.x-D/2),Math.round(n.y-D/2),D,D)};c.G.fill(255)}else if(j.NX==1&&j.b==0&&j.RK==0&&j.zP==1){c={G:this.mi.Fd[0],s:this.mi.Fd[1].O()};
c.s.x=Math.round(j.Qr);c.s.y=Math.round(j.dE)}else{if(j.P8()>1e-4)c=N.IP.XR(this.mi.Fd,j)}if(c==null)c={G:K.U(0),s:new b4};
if(U){for(var v=0;v<c.G.length;v++)c.G[v]=c.G[v]>127?255:0}b={hk:K.U(c.s.$()*4),vL:c.G,s:c.s,arI:new eE(c.s.x-j.Qr,c.s.y-j.dE),g_:l,vl:Date.now()};
K.wj(b.vL,b.hk,3);if(q)R.ac6(q,b)}return b};jm.adM=function(j,n,Q){var a,B,m,R=j.Brsh.v.Dmtr.v.val,q=j.Brsh.v.classID;
if(q=="computedBrush"){var U=j.Brsh.v.Hrdn.v.val/100;B=R<100?1.4:1;m=1;a=K.awd.aoH(R,U,B)}if(q=="sampledBrush"){var l;
for(var v=0;v<n.length;v++)if(n[v].id==j.Brsh.v.sampledData.v)l=n[v];a=l.Fd;var b=a[1];B=Math.max(b.q,b._)/R;
m=Math.min(b.q,b._)/Math.max(b.q,b._)}return{aem:B,amH:m,Fd:a}};jm.q$=null;jm.Pf=null;jm.r9=function(j,n,Q,a,B,m){var R=jm.q$,q=jm.Pf;
if(R==null){jm.q$=R=document.createElement("canvas");jm.Pf=q=R.getContext("2d")}if(m==null)m=a;if(R.width!=m||R.height!=B){R.width=m;
R.height=B}else q.clearRect(0,0,m,B);q.fillStyle="#000000";q.font=Math.floor(10*N.lS())+"px sans-serif";
var U=j.Brsh.v.Dmtr.v.val,l=""+U,b=j.useBrushSize;if(b&&b.v)l="---";var D=q.measureText(l);q.fillText(l,(a-D.width)/2,B-2);
var c=a,_=B-10*N.lS(),p=Math.min(c,_),X=j.Brsh.v.classID;if(X=="computedBrush"){q.translate(c/2,_/2);
q.rotate(-j.Brsh.v.Angl.v.val*Math.PI/180);q.scale(1,.1+.9*j.Brsh.v.Rndn.v.val/100);var g=Math.min(.95*p/2,U/2)+.5,F=.9*j.Brsh.v.Hrdn.v.val/100,k=q.createRadialGradient(0,0,0,0,0,g);
k.addColorStop(F,"rgba(0,0,0,1)");k.addColorStop((.5+F)/1.5,"rgba(0,0,0,.5)");k.addColorStop(1,"rgba(0,0,0,0)");
q.fillStyle=k;q.fillRect(-g,-g,2*g,2*g);q.setTransform(1,0,0,1,0,0)}else if(X=="sampledBrush"){var I,J=0;
for(var v=0;v<n.length;v++)if(n[v].id==j.Brsh.v.sampledData.v)I=n[v];var e=I.Fd;K.hY(e);var H=e[0],A=e[1].q,Z=e[1]._;
while((A>c||Z>_)&&e[J+2]){J+=2;H=e[J];A=e[J+1].q;Z=e[J+1]._}if(A*Z!=0){var s=K.U(A*Z*4);K.wj(H,s,3);
var E=new ImageData(new Uint8ClampedArray(s.buffer),A,Z);q.putImageData(E,Math.round((c-A)/2),Math.round((_-Z)/2))}}else{}return R.toDataURL()};
jm.Aq=function(j,n,Q,a){if(Q==0)Q=1;var B=j.Brsh.v,m=B.Dmtr.v.val,R=B.Dmtr.v.val=Math.min(a!=null?Math.round(a*2.6):3e3,m*Q),q=B.Hrdn?B.Hrdn.v.val/100:1,U=a!=null?a:Math.round(R*(1+.55*(1-q)))+4,D;
U=Math.max(15,Math.min(U,3e3));var l=new b4(0,0,U,U),b=new jm(j,n,null,{u3:1},16711712,0,l);B.Dmtr.v.val=m;
b.moveTo(l.q/2,l._/2);var c=b.P$(),_=b.uI();if(l.N_(_))D=c;else{D=K.U(l.$()*4);K.EC(c,_,D,l)}return[D,l,R]};
jm.atg=function(j,n,Q,a){var B=n.q,m=B>>>1;for(var v=0;v<4;v++){var R=6-v;j[B*(m-R)+m-1]=a;j[B*(m-R)+m]=Q;
j[B*(m-R)+m+1]=a;j[B*(m+R)+m-1]=a;j[B*(m+R)+m]=Q;j[B*(m+R)+m+1]=a;j[B*(m-1)+m-R]=a;j[B*m+m-R]=Q;j[B*(m+1)+m-R]=a;
j[B*(m-1)+m+R]=a;j[B*m+m+R]=Q;j[B*(m+1)+m+R]=a}};jm.FB=function(j,n,Q,a){var B=jm.Aq(j,n,Q),m=B[0].slice(0),R=B[1],q=B[2],U=R.$(),l=K.U(U);
K._W(m,l,3);var b=K.U(U);K.K.ak5(l,b,R,N.lS()>1.9);if(q<3||K.Re(b,0)||a&&q>12){jm.atg(b,R,255,0)}var D=[3,5,3,4,8,4,3,5,3];
D=K.GY.c4(D);K.GY.T2(b,l,R.q,R._,D);m.fill(255);K.wj(l,m,3);for(var v=0;v<U;v++)if(b[v]==255){m[v<<2]=m[(v<<2)+1]=m[(v<<2)+2]=0;
m[(v<<2)+3]=255}return{_x:m,SK:R,HC:new eE(R.q/2,R._/2)}};jm.als=function(j,n,Q,a,B){var m=4278190080|Math.round(B.b*255)<<16|Math.round(B.i*255)<<8|Math.round(B.n*255)<<0;
Q=new Uint32Array(Q.buffer);var R=Math.floor(j.x),q=Math.floor(j.y),U=Math.floor(n.x),l=Math.floor(n.y),b=Math.abs(U-R),D=Math.abs(l-q),c=R<U?1:-1,_=q<l?1:-1,p=b-D;
while(!0){Q[q*a.q+R]=m;if(R==U&&q==l)break;var X=2*p;if(X>-D){p-=D;R+=c}if(X<b){p+=b;q+=_}}};jm.jf="0";
jm.YL="1";jm.nx="2";jm.Be="3";var ji={};ji.xe=function(j,n,Q){if(Q==null)Q=!0;var a=j.add.TySh,B=a.Kt,m=new bG(B,n,a.K7);
j.xw.xf=m.VI();var R=j.xw.path=ji.hr(m,a);if(fL!=0)return[R,m,null];var q=ji.FL(R,a.C,eR.l_(a));if(Q){j.s=q.SK;
j.buffer=q.jB;j.ge()}return[R,m,q]};ji.FL=function(j,n,Q){j={rZ:j.rZ,g:j.g.slice(0)};K.c.C(j.g,n,j.g);
var a=K.c.so(j.g),B=0;if(a.ke())return{jB:K.U(0),SK:new b4};for(var v=0;v<j.rZ.length;v++){var m=j.rZ[v];
if(m[0]=="O"&&m[1]=="-")B=Math.max(B,parseFloat(m.split("-")[2]))}B=Math.ceil(B*n.P8()/2);a.VT(B,B);
var R=K.uq(a.q,a._);R.translate(-a.x,-a.y);ji.amJ(j,R);var q=R.getImageData(0,0,a.q,a._),U=new Uint8Array(q.data.buffer);
if(Q==0)for(var v=0;v<U.length;v+=4)U[v+3]=U[v+3]>80?255:0;if(Q==3)for(var v=0;v<U.length;v+=4)U[v+3]=Math.min(255,U[v+3]*1.5);
R.resetTransform();R.beginPath();return{jB:U,SK:a}};ji.hr=function(j,n,Q){var a=n.C,B=n.Kt;ji.ZU=a.P8();
var m=eR.l_(n),R=Math.max(a.b*a.b,a.RK*a.RK)<1e-9?a:null;if(m==3||m==4)R=null;var q={rZ:[],g:[]};ji.aby(j,q,R,!0);
ji.aby(j,q,R,!1);q=ji.rn(q,n,j,Q);return q};ji.ZU=1;ji.rn=function(j,n,Q,a){if(j==null)return j;if(Q&&Q.SV)K.c.C(j.g,Q.SV,j.g);
if(Q&&!K.UH.En(n.ED)){var B=eR.uI(n,Q);if(!B.ke()){if(j.rZ){j=K.c.D5(j);var m=Math.min(B.q,B._)/8;if(m<1)m=1;
j=K.c.mG(j,m)}var R=K.UH.Fo(n.ED,B);K.rU.C(R,j.g,B)}}var q=n.C;if(a)K.c.C(j.g,q,j.g);return j};ji.amJ=function(j,n){n.save();
n.miterLimit=2;Typr.U.pathToContext({crds:j.g,cmds:j.rZ},n);n.restore()};ji.nk=function(j,n,Q){var a=bG.ap8(Q),B=j.Kt,m=B.ResourceDict.FontSet,R=B.ResourceDict.StyleSheetSet[0].StyleSheetData,q=B.EngineDict.StyleRun.RunLengthArray,U=B.EngineDict.StyleRun.RunArray,l=eR.yi(B),b=!0,D={},c=0;
for(var v=0;v<U.length;v++){var _=U[v].StyleSheet.StyleSheetData.Font;if(_==null)_=R.Font;for(var p=0;
p<q[v];p++){var X=l.charCodeAt(c+p),g=_+","+(X>128?X:-1);if(D[g]==null){D[g]=1;if(n.s1(m[_].Name,X)==null)b=!1}}c+=q[v]}return b&&a};
ji.Uz=function(j,n,Q){var a=!0;for(var B=0;B<j.T.length;B++){var m=j.T[B],R=m.add.TySh;if(R!=null&&!ji.nk(R,n,Q))a=!1}return a};
ji.G1=function(j,n,Q){for(var a=0;a<j.T.length;a++){var B=j.T[a],m=B.add.TySh;if(m!=null&&ji.nk(m,n,Q)){ji.xe(B,n);
j.ge()}}};ji.aby=function(j,n,Q,a){var B=new j8;for(var v=0;v<j.w$.length;v++)ji.al1(j.RW,j.w$[v],n,B,Q,a)};
ji.al1=function(j,n,Q,a,B,m){a.translate(n.q8.x,n.q8.y);for(var v=0;v<n.Gk.length;v++){var R={},q=n.Gk[v];
if(!q.s$)break;var U=a.O();U.translate(q.q8.x,q.q8.y);if(B){var l=B.dE+U.dE*B.zP;U.dE=(Math.round(l)-B.dE)/B.zP}for(var b=q.start;
b<q.end;b++)ji.al$(j,n.qq[b],n,R,Q,U,m)}a.translate(-n.q8.x,-n.q8.y)};ji.al$=function(j,n,Q,a,B,m,R){m.translate(n.q8.x,n.q8.y);
for(var q=n.WP;q<=n.DQ;q++){var U=Q.ca[q],l=U.SK.q,b=j[Q.a9l+U.e0],D=b.bG._FillBackgroundFlag;if(b.aQ=="\n"||R&&!D)continue;
var c=b.bG.FontSize/b.xH.head.unitsPerEm,_=m.O();_.translate(U.q8.x+U.nR*c,U.q8.y-U.EJ*c);var p=new j8;
p.scale(c,-c);if(b.bG.FauxItalic)p.concat(new j8(1,0,-Math.tan(.18),1,0,0));p.translate(0,b.B1);p.scale(b.scale.x,b.scale.y);
if(b.bG.BaselineShift!=null)p.translate(0,-b.bG.BaselineShift);if(U.c6!=0){p.rotate(-U.c6)}p.concat(_);
var X=(b.bG.OutlineWidth?b.bG.OutlineWidth:1)*ji.ZU;if(R){B.rZ.push(ji.Tr(b.bG._FillBackgroundColor));
var g=1.005*U.SK._/c,F=new b4(-U.nR,-g*.27,1.03*U.SK.q/(c*b.scale.x),g);if(b.bG.StrokeFlag)F.VT(X/c,X/c);
K.c.concat(B,K.c.yc(F),p);B.rZ.push("X");continue}if(b.bG.FillFlag)B.rZ.push(ji.Tr(b.bG.FillColor));
if(b.bG.StrokeFlag){var k=g8.no.a5e(b.bG);B.rZ.push(ji.aqi(k))}if(U.path.rZ.length!=0&&b.aQ!="\t"){if(b.bG.FauxBold){var I=b.bG.FontSize/2048*27*b.scale.x,e=Math.cos(U.c6)*I,H=Math.sin(U.c6)*I;
p.Qr+=e;p.dE+=H;K.c.concat(B,U.path,p);p.Qr-=e+e;p.dE-=H+H;K.c.concat(B,U.path,p)}else K.c.concat(B,U.path,p)}if(b.aQ!="\n"){var A=U.SK.q/c;
if(b.bG.Underline){if(a.UP==null)a.UP=b.xH.post.underlineThickness;if(a.a2B==null)a.a2B=b.xH.post.underlinePosition;
var Z=0,J=a.a2B-a.UP/2,s=-a.UP;K.c.concat(B,{rZ:["M","L","L","L","Z"],g:[Z,J,Z+A,J,Z+A,J+s,Z,J+s]},p)}if(b.bG.Strikethrough){var E=b.xH["OS/2"].yStrikeoutSize,z=b.xH["OS/2"].yStrikeoutPosition,Z=0,J=z+E/2,s=-E;
K.c.concat(B,{rZ:["M","L","L","L","Z"],g:[Z,J,Z+A,J,Z+A,J+s,Z,J+s]},p)}}var h=b.bG.FillFlag,d=b.bG.FillFirst;
if(d==null)d=!0;if(h&&d)B.rZ.push("X");if(b.bG.StrokeFlag)B.rZ.push("OX");if(h&&!d)B.rZ.push("X")}m.translate(-n.q8.x,-n.q8.y)};
ji.aqi=function(j){var n=j.tY,Q=["O","#"+K.EA(K.G8({n:n[0],i:n[1],b:n[2]},1)),j.Sn];Q.push(j.th,j.aO,j.sX,j.oZ,j.SH.join(","));
return Q.join("-")};ji.aBT=function(j){var n=parseFloat,Q=j.split("-"),a=K.Hy(parseInt(Q[1].slice(1),16));
return{tY:[a.n/255,a.i/255,a.b/255],Sn:n(Q[2]),th:n(Q[3]),aO:n(Q[4]),sX:n(Q[5]),oZ:n(Q[6]),SH:Q[7].split(",").map(n),eK:Q[8]=="1"?2:0}};
ji.Tr=function(j){return"#"+K.EA(K.G8(eR.qF(j)))};function bG(j,n,Q){var a=eR.Pv(j),B,m,R=eR.UC(j),q=j._LineOrientation==2?new j8:null,D,_;
if(j.Curve)m=bG.bj(j.Curve);if(a!=0){B=new b4(R[0],R[1],R[2],R[3]);if(q){var U=B.q;B.q=B._;B._=U;q.translate(0,-R[2])}if(a==2){B.q=m[5]-m[4];
B._=9999}}this.w$=[];this.RW=[];this.m_=a;this.SV=q;var l=this.aAX=eR.yi(j),b=-1,c=-1;for(var v=0;v<l.length;
v++){var p=D,X=eR.aAw(j,v);if(X!=b){b=X;p=D=eR.anC(j,X)}var g=_,X=eR.aoI(j,v);if(X!=c){c=X;g=_=eR.ar0(j,X)}var F={aQ:l.charAt(v),bG:p,xH:null,Gd:!1,zm:-1,ze:eR.aka(j,v),B1:0,scale:new eE(0,0),b6:0,lineHeight:0,SR:0},k=j.ResourceDict.FontSet[p.Font].Name,I=F.xH=n.s1(k,l.charCodeAt(v));
if(p.FontCaps==1)F.Gd=I&&I.GSUB&&I.GSUB.smcp?!1:!0;F.scale.x=p.HorizontalScale==null?1:p.HorizontalScale;
F.scale.y=p.VerticalScale==null?1:p.VerticalScale;var e=I["OS/2"],H=I.hhea;if(F.Gd&&F.aQ!=F.aQ.toUpperCase()){var A=e.sxHeight?e.sxHeight/e.sTypoAscender:.76;
F.scale.x*=A;F.scale.y*=A}var Z=1/I.head.unitsPerEm*p.FontSize;if(p.FontBaseline==1){var A=j.ResourceDict.SuperscriptSize;
F.scale.x*=A;F.scale.y*=A;F.B1-=j.ResourceDict.SuperscriptPosition*p.FontSize}if(p.FontBaseline==2){var A=j.ResourceDict.SubscriptSize;
F.scale.x*=A;F.scale.y*=A;F.B1+=j.ResourceDict.SubscriptPosition*p.FontSize}F.b6=bG.b6(I)*p.FontSize;
var J=g.AutoLeading;F.lineHeight=p.FontSize*(J==null?1.2:J);if(p.AutoLeading==!1)F.lineHeight=p.Leading;
if(F.aQ=="\n"&&l[v-1]!="\n")F.lineHeight=0;if(F.lineHeight==0)F.lineHeight=.01;this.RW.push(F)}var s=this.w$,E=[0];
for(var v=0;v<j.EngineDict.ParagraphRun.RunLengthArray.length;v++){var z=new bG.lZ(j,n,this.RW,v,B,E,a==1?m:null);
s.push(z)}if(q){if(a==0)q.translate(0,s[0].qq[0].b6/2);q.rotate(-Math.PI/2)}if(a==2){var h=j.Curve.Points,d=m[0],Y=m[1],C=m[2],i=m[3],M=m[4],W=m[5];
for(var v=0;v<s.length;v++)for(var $=0;$<s[v].Gk.length;$++)if(!(v==0&&$==0))s[v].Gk[$].s$=!1;var z=s[0],P=z.Gk[0];
z.q8.OI(0,0);P.q8.OI(0,0);for(var $=P.start;$<P.end;$++){var O=z.qq[$],G=O.q8.x;O.q8.x=0;for(var t=O.WP;
t<=O.DQ;t++){var y=z.ca[t],r=y.SK.q/2;y.q8.x+=G;var u=bG.a2W(d,(M+y.q8.x+r)%i);y.q8.x=u[0]-r*u[2];y.q8.y=u[1]-r*u[3];
y.c6=Math.atan2(u[3],u[2])}}}if(Q){var S=Q.VAlign.v;if(S!=0&&eR.Pv(j)==1){var w=eR.UC(j)[3],dj=this.VI()._,o=0;
if(S==1)o=w-dj;if(S==2)o=(w-dj)/2;for(var v=0;v<this.w$.length;v++)this.w$[v].q8.y+=o}}}bG.b6=function(j){var n=j._hhhh;
if(n==null){var Q=Typr.U,a=Q.codeToGlyph(j,104),B=K.c.Tv(Typr.U.glyphToPath(j,a).crds)._;n=j._hhhh=B*(1/j.head.unitsPerEm)}return n};
bG.prototype.a4v=function(){return!this.a5d(0)};bG.prototype.am3=function(){return this.a5d(1)};bG.prototype.a5d=function(j){var n=this.w$,Q=!0,a=0;
for(var v=0;v<n.length;v++){var B=n[v].Gk,m=B.length;a+=m;for(var R=0;R<m;R++)Q&=B[R].s$}return[Q,a][j]};
bG.bj=function(j,n,Q){if(n==null)n=.25;var a=j.Points,B=a.length,m=B>>>3,R=j.TextOnPathTRange,q=j.Reversed,c=0,_=0;
if(q){var U=a.slice(0);for(var v=0;v<B;v+=2){U[v]=a[B-2-v];U[v+1]=a[B-1-v]}a=U;R=[m-R[1]%m,m-R[0]%m]}var l=[],b=[0],D=[0];
for(var v=0;v<B;v+=8){var p=a[v+6]-a[v+0],X=a[v+7]-a[v+1],g=Math.round(Math.sqrt(p*p+X*X)/n),F=Q&&v==B-8?g+1:g;
for(var k=0;k<F;k++){var I=k/g,e=1-I,H=e*e*e*a[v+0]+3*e*e*I*a[v+2]+3*e*I*I*a[v+4]+I*I*I*a[v+6],A=e*e*e*a[v+1]+3*e*e*I*a[v+3]+3*e*I*I*a[v+5]+I*I*I*a[v+7];
l.push(H,A);if(v+k!=0){var p=H-c,X=A-_;D.push(D[D.length-1]+Math.sqrt(p*p+X*X));b.push((v>>>3)+I)}c=H;
_=A}}var n=D.length,Z=D[n-1],J=bG.P9(R[0]%m,b),s=bG.P9(R[1]%m,b),E=D[J%n],z=D[s%n];if(E>=z)z+=Z;return[l,b,D,Z,E,z]};
bG.P9=function(j,n){var v=0;while(n[v]<j)v++;return v};bG.a2W=function(j,n){var Q=0,v=0,a,B,m;while(Q<n){a=j[v+2]-j[v];
B=j[v+3]-j[v+1];m=Math.sqrt(a*a+B*B);Q+=m;v+=2}return[j[v],j[v+1],a/m,B/m]};bG.prototype.acS=function(j){return this.RW[j]};
bG.prototype.av7=function(j){for(var n=0;n<this.w$.length;n++){var Q=this.w$[n];for(var a=0;a<Q.Gk.length;
a++){var B=Q.Gk[a],m=Q.qq[B.start].start,R=Q.qq[B.end-1].end;if(m<j&&j<R)return[m,R-1]}}return[0,1]};
bG.prototype.a3f=function(j,n){var Q=-1,a=this.w$;if(this.m_==2){var B=1e9,m=0,R=a[0],q=R.Gk[0];for(var U=q.start;
U<q.end;U++){var l=R.qq[U];for(var b=l.WP;b<=l.DQ;b++){var D=R.ca[b],c=D.SK.q,_=j.x-D.q8.x,p=j.y-D.q8.y,X=_*_+p*p;
if(X<B){B=X;m=D.e0}}}if(m!=0&&this.aAX.codePointAt(m-1)>65535)m--;return m}for(var g=0;g<a.length;g++){var R=a[g];
for(var F=0;F<R.Gk.length;F++){Q++;var q=R.Gk[F],k=R.Gk[F+1];if(k==null&&g<a.length-1)k=a[g+1].Gk[0];
if(n!=null){if(Q!=n)continue}else{if(k!=null&&R.q8.y+q.q8.y<j.y)continue}for(var U=q.start;U<q.end;U++){var l=R.qq[U];
for(var b=l.WP;b<=l.DQ;b++){var D=R.ca[b],c=D.SK.q,I=R.q8.x+q.q8.x+l.q8.x,e=I+D.q8.x,H=I+(b<l.DQ?R.ca[b+1].q8.x:D.q8.x+c);
if(j.x<=H||U+1==q.end&&b==l.DQ){var A=R.a9l+D.e0,Z=this.RW[A],J=Z.SR&1;if(Z.aQ!="\n"&&(J==0&&j.x>e+c/2||J==1&&j.x<e+c/2))A+=this.aAX.codePointAt(A)>65535?2:1;
return A}}}}}};bG.prototype.Qd=function(j){var n={SK:new b4,CE:0},Q=0;for(var a=0;a<this.w$.length;a++){var B=this.w$[a];
for(var m=0;m<B.Gk.length;m++){var R=B.Gk[m];n.CE=Q;Q++;for(var q=R.start;q<R.end;q++){var U=B.qq[q];
for(var l=U.start;l<U.end;l++){if(l==j){var b=this.RW[l],D=b.zm,c=B.ca[D].e0,_=1;while(B.ca[D]!=null&&B.ca[D].e0==c){var p=B.ca[D],X=B.q8.x+R.q8.x+U.q8.x+p.q8.x,g=B.q8.y+R.q8.y+U.q8.y+p.q8.y;
n.SK=n.SK.d_(new b4(X,g-b.lineHeight,p.SK.q,b.lineHeight));n.c6=p.c6;D+=_}return n}}}}}};bG.prototype.VI=function(){var j=Infinity,n=Infinity,Q=-Infinity,a=-Infinity;
for(var v=0;v<this.w$.length;v++){var B=this.w$[v];for(var m=0;m<B.Gk.length;m++){var R=B.Gk[m];if(!R.s$)break;
for(var q=R.start;q<R.end;q++){var U=B.qq[q];for(var l=U.WP;l<=U.DQ;l++){var b=B.ca[l],D=b.SK,c=B.q8.x+R.q8.x+U.q8.x+b.q8.x,_=B.q8.y+R.q8.y+U.q8.y+b.q8.y;
j=Math.min(j,c+D.x);n=Math.min(n,_+D.y);Q=Math.max(Q,c+D.x+D.q);a=Math.max(a,_+D.y+D._)}}}}return new b4(j,n,Q-j,a-n)};
bG.sN=function(j){return 19968<=j&&j<=40959||12288<=j&&j<=12543};bG.ki=function(j,n,Q,a,B,m,R){var q=[m],U=0;
for(var v=m;v<R;v++){if(Q[v]==null)console.log(v,m,R,Q);var l=Q[v].aQ,b=l.charCodeAt(0);if(b==32||b==9){q.push(U,v,1,v+1);
U=0}else if(b==3851){q.push(U+1,v+1);U=0}else if(bG.sN(b)){q.push(U,v);U=1}else if(v!=m&&Q[v].SR!=Q[v-1].SR){q.push(U,v);
U=1}else U++}q.push(U);var D=[];for(var v=0;v<q.length;v+=2){var c=q[v],_=q[v+1];if(_==0)continue;D.push(new bG.azj(j,n,Q,a,B,c,_))}return D};
bG.aeE=function(j,n,Q,a,B,m,R){var q=[0,n?n.q:1e9],U=[];if(a){var l=j[m].b6,b=B+(B==0?l:j[m].lineHeight),D=b-l*.9,c=K.c.a8a(a[0],D),_=c.length,p=K.c.a8a(a[0],b),X=p.length;
if(_!=0&&X!=0){var g=0,F=0,k=[];while(g<_&&F<X){var I=Math.max(c[g],p[F]),e=c[g+1],H=p[F+1],A=Math.min(e,H);
if(I<A)k.push(I,A);if(e<H)g+=2;else F+=2}if(k.length!=0)q=k}}for(var Z=0;Z<q.length;Z+=2){var J=0,s=m,E=n?q[Z+1]-q[Z]-Q.StartIndent-Q.EndIndent-(m==0?Q.FirstLineIndent:0):Infinity;
while(m!=j.length){var z=j[m],h=J==0||(z.r3||z.XC)||J+z.SK.q<E;if(!h)break;J+=z.SK.q;m++}U.push(m-s)}R[0]=U;
R[1]=q;R[2]=m};bG.aC6=function(j,n){var Q=j.length,a=new Uint32Array(Q),B=new Uint8Array(Q),m=0;for(var v=0;
v<Q;v++){B[v]=0;var R=j.charCodeAt(v);a[v]=R;if(R>m)m=R}if(m>1424)B=bG.anz(a,n);return B};bG.at6=function(j){return j=="ß"?j:j.toUpperCase()};
bG.lZ=function(j,n,Q,a,B,m,R){this.qq=[];this.Gk=[];this.q8=new eE(0,0);this.ca=null;this.qq=null;this.bG=eR.ar0(j,a);
var q=this.bG,D=0,p="",H=0,A=1,o=0;if(a!=0){var U=q.SpaceBefore;if(U!=null)m[0]+=U}var l=j.EngineDict.ParagraphRun.RunLengthArray,b=l[a];
for(var v=0;v<a;v++)D+=l[v];var c=q._Direction?q._Direction:0;this.a9l=D;var _=eR.yi(j).slice(D,D+b);
for(var X=0;X<_.length;X++){var g=Q[D+X],F=g.bG.FontCaps,k=_.charAt(X);if(F==0)p+=k;if(F==1)p+=g.Gd?bG.at6(k):k;
if(F==2)p+=bG.at6(k)}_=p;var I=bG.aC6(_,c),e=[],Z=I[0]&1,J=Q[D].xH;Q[D].SR=I[0];for(var v=1;v<_.length;
v++){var k=Q[D+v],s=I[v];k.SR=s;if(s!=Z||k.xH!=J){e.push(H,A);H=v;A=1;Z=s;J=k.xH}else A++}e.push(H,A);
var E=this.ca=[];for(var v=0;v<e.length;v+=2){var z=e[v],h=e[v+1],d=(Q[D+z].SR&1)==0,Y=_.slice(z,z+h),C=[],y=0;
for(var X=0;X<h;X++){var i=Q[D+z+X].bG,M=[];C.push(M);for(var W=0;W<8;W++)M.push(i[eR.nP[W]]?1:0);M.push(i.FontCaps==1?1:0)}C=bG.axU(C);
var $=Typr.U.shapeHB(Q[D+z].xH,Y,d,C),P=[];for(var X=0;X<$.length;X++){var O=$[X];P.push({i:O.g,e0:O.cl,vr:O.ax,Bk:O.ay,nR:O.dx,EJ:O.dy})}$=P;
var G=$.slice(0);if(!d)G.reverse();for(var X=0;X<Y.length;X++){while(y+1<G.length&&G[y+1].e0<=X){y++}while(y>0&&G[y-1].e0==X)y--;
Q[D+z+X].zm=E.length+(d?y:G.length-y-1)}for(var X=0;X<$.length;X++){E.push($[X]);$[X].e0+=z;var k=Q[D+$[X].e0];
if(k.ze!=-1&&k.ze<k.xH.maxp.numGlyphs){$[X].i=k.ze;var r=k.xH.hmtx;if(r){var u=Object.keys(r)[0];$[X].vr=r[u][k.ze]}}if(k.aQ=="\n")$[X].vr=0;
if(k.aQ=="\t")$[X].vr=k.xH.head.unitsPerEm*36/k.bG.FontSize}}var S=eR.GP(q),w=this.qq=bG.ki(j,n,Q,D,E,D,D+b),dj=this.Gk,T=-1,p=[null,null,0];
while(o<w.length){bG.aeE(w,B,q,R,m[0],o,p);T++;var i6={start:o,end:0,SK:new b4,q8:new eE(0,0),s$:!0},jy=0,cl=0;
dj.push(i6);i6.end=p[2];if(i6.start==i6.end)throw"e";var bH=i6.end==w.length;function cg(G,z,ko){var ec=ko-z>>>1;
for(var v=0;v<ec;v++){var kK=G[z+v];G[z+v]=G[ko-1-v];G[ko-1-v]=kK}}for(var bu=1;bu<5;bu++){var hH=-1;
for(var v=i6.start;v<i6.end;v++){var s=Q[w[v].start].SR;if(hH==-1&&s>=bu)hH=v;else if(hH!=-1&&s<bu){cg(w,hH,v);
hH=-1}}var dK=i6.end;if(c==0&&w[dK-1].r3)dK--;if(hH!=-1)cg(w,hH,dK)}var d8=p[0],d1=p[1],hH=o,gH=o;for(var kh=0;
kh<d1.length;kh+=2){var dO=B?d1[kh+1]-d1[kh]-q.StartIndent-q.EndIndent-(o==0?q.FirstLineIndent:0):Infinity,fy=0;
hH=gH;gH+=d8[kh>>>1];var bg=this.akN(hH,gH,w,c,B!=null);if(B){if(S==1||bH&&S==4)fy=bg[1]+(dO-bg[0]);
if(S==2||bH&&S==5)fy=bg[1]+(dO-bg[0])/2;if(gH-hH==1&&w[hH].SK.q>dO)fy=0;if(T==0)fy+=q.FirstLineIndent;
fy+=q.StartIndent}else{if(S==0)fy=q.StartIndent+q.FirstLineIndent;if(S==1)fy=-bg[0]-q.EndIndent;if(S==2)fy=-bg[0]/2}fy+=d1[kh];
if(B&&S>2&&(S==6||!bH))this.aAO(hH,gH,w,dO,c,fy);else{var f4=fy;for(var v=hH;v<gH;v++){var jb=w[v],jT=jb.SK.q;
jb.q8.x=f4;if(jb.aB=="\t")jT=Math.ceil((f4+4)/36)*36-f4;f4+=jT}}}o=i6.end;for(var v=i6.start;v<i6.end;
v++){var hu=w[v].SK.O();hu.ak6(w[v].q8);i6.SK=i6.SK.d_(hu);jy=Math.max(jy,w[v].b6);cl=Math.max(cl,w[v].lineHeight)}i6.q8.y=T==0?0:dj[T-1].q8.y+cl;
if(T==0){if(a==0&&B)m[0]+=jy;if(a!=0)m[0]+=cl;this.q8.y=m[0]}else m[0]+=cl;if(B)i6.s$=this.q8.y+i6.q8.y<B.y+B._||a==0&&T==0}var aA=q.SpaceAfter;
if(aA!=null)m[0]+=aA};bG.lZ.prototype.akN=function(j,n,Q,a,B){var m=0,R=0;for(var v=j;v<n;v++)m+=Q[v].SK.q;
if(B){if(a==0)for(var v=n-1;v>=j;v--)if(Q[v].r3||Q[v].XC)m-=Q[v].SK.q;else break;if(a==1)for(var v=j;
v<n;v++)if(Q[v].r3||Q[v].XC){var q=Q[v].SK.q;m-=q;R-=q}else break}return[m,R]};bG.lZ.prototype.aAO=function(j,n,Q,a,B,m){var R=0,q=0,U=0,l=0;
for(var v=j;v<n;v++)if(Q[v].r3)U++;else{R+=Q[v].SK.q;q++}if(B==0)for(var v=n-1;v>=j;v--)if(Q[v].r3||Q[v].XC){if(Q[v].r3){U--}}else break;
if(B==1)for(var v=j;v<n;v++)if(Q[v].r3||Q[v].XC){if(Q[v].r3){U--;l++}}else break;if(q<=1||U==0){if(q==1)Q[j].q8.x=m;
return}var b=(a-R)/U,D=-l*b;for(var v=j;v<n;v++){if(Q[v].r3)this.ca[Q[v].WP].SK.q=Q[v].SK.q=b;Q[v].q8.x=m+D;
D+=Q[v].SK.q}};bG.azj=function(j,n,Q,a,B,m,R){this.aB="";for(var v=0;v<R;v++)this.aB+=Q[m+v].aQ;this.r3=R==1&&(Q[m].aQ==" "||Q[m].aQ=="\t");
this.XC=R==1&&Q[m].aQ=="\n";this.start=m;this.end=m+R;this.SK=new b4;this.q8=new eE(0,0);this.b6=0;this.lineHeight=0;
var q=0,U=0;if(R==0){this.lineHeight=Q[m].lineHeight;this.b6=Q[m].b6;this.SK=new b4(0,-Q[m].lineHeight,0,Q[m].lineHeight)}var l=Q[m].zm,b=Q[m+R-1].zm;
if(b<l){var D=l;l=b;b=D}while(b+1<B.length&&B[b].e0==B[b+1].e0){b++}this.WP=l;this.DQ=b;for(var c=l;
c<=b;c++){var _=B[c],p=Q[a+_.e0],X=j._LineOrientation==2&&(p.bG.BaselineDirection!=2||bG.sN(p.aQ.charCodeAt(0))),g=Typr.U.glyphToPath(p.xH,_.i),H=0;
_.path={rZ:g.cmds,g:g.crds};var F=p.bG.FontSize,k=1/p.xH.head.unitsPerEm*F;if(!p.bG.AutoKerning)q+=p.bG.Kerning*2*k*p.scale.x;
_.q8=new eE(q,0);_.c6=0;if(X&&_.path.g.length>0){_.c6=-Math.PI/2;_.q8.x+=F*.83;_.q8.y=-F*.3+_.vr*k/2;
_.vr=F/k}var I=_.vr*k*p.scale.x;_.SK=new b4(0,-p.lineHeight,I,p.lineHeight);var e=_.SK.O();e.ak6(_.q8);
if(p.bG.Tracking!=null)H=p.bG.Tracking*.001*F;if(p.bG.FauxBold==!0)H+=.027*F;q+=I+H;if(c<B.length-2)_.SK.q+=H;
if(R==1&&p.aQ==" "){e.q+=2*H;_.q8.x+=H}else if(R==1&&p.aQ!=null&&bG.sN(p.aQ.charCodeAt(0)))e.q+=H;this.SK=this.SK.d_(e);
this.b6=Math.max(this.b6,p.b6);this.lineHeight=Math.max(this.lineHeight,p.lineHeight)}};bG.Jt=0;bG.ap8=function(j){if(bG.Jt==2)return!0;
if(bG.Jt==1)return!1;bG.Jt=1;function n(){fetch(bv.xU("code/ext/fribidi.wasm")).then(function(Q){return Q.arrayBuffer()}).then(function(Q){return WebAssembly.instantiate(Q)}).then(function(Q){var a=Q.instance.exports,B=a.memory,m=16,R=256,q=1,U=m|R,l=m|R|q;
bG.anz=function(D,c){var _=D.length,p=_*4+4+_*4+_*4+_;fj._D(a,p+_+1e7);var X=new Uint8Array(B.buffer),g=new Uint32Array(B.buffer),F=a.calloc(p,1),k=F+_*4,I=k+4,e=I+_*4,H=e+_*4;
g.set(D,F>>>2);g[k>>>2]=c==0?U:l;a.fribidi_get_bidi_types(F,_,I);a.fribidi_get_bracket_types(F,_,I,e);
a.fribidi_get_par_embedding_levels_ex(I,e,_,k,H);var A=X.slice(H,H+_);a.free(F);return A};bG.Jt=2;var b=new ar(x.E.B,!0);
b.data={Q:x.l.m6,rf:"add",_X:b3.GM,uU:null};if(j)j.a(b)})}Typr.U.initHB(bv.xU("code/ext/hb.wasm"),n);
return!1};bG.axU=function(j){var n=[],Q=j.length,a=eR.au9;for(var B=0;B<9;B++){var m=a[B],q=null;if(m==null)continue;
var R=-1;for(var v=0;v<Q;v++){var U=j[v][B];if(U!=R){if(q)q[3]=v;q=[m,U,v,v+1];n.push(q);R=U}}q[3]=Q}return n};
function eR(){}eR.P6=function(j,n){for(var Q in n)j[Q]=n[Q]};eR.nP="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
eR.tE=[18,20,19,25,28,26,24,23];eR.ar1="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
eR.au9="liga calt dlig swsh salt titl ordn frac smcp".split(" ");eR.N0=function(j,n,Q,a){var B=eR.abr();
if(Q)eR.A0(B,0,0,Q);var m=new j8;if(a!=null)m.rotate(a);m.translate(Math.round(j),Math.round(n));var R={C:m,Kt:B};
R.K7=eR.abd();R.ED=K.UH.U();R.v$=new b4;return R};eR.acp=function(j){var n=["CharacterDirection",0];
for(var v=0;v<n.length;v+=2){if(j[n[v]]!=null&&j[n[v]]!=n[v+1]){throw"e";console.log(n[v],j[n[v]])}}if(j instanceof Array)for(var v=0;
v<j.length;v++)eR.acp(j[v]);else if(j instanceof Object)for(var Q in j)eR.acp(j[Q])};eR.GP=function(j,n){if(n==null)n=j.Justification;
var Q=j._Direction?j._Direction:0;if(Q==1){if(n==0||n==3)n++;else if(n==1||n==4)n--}return n};eR.UQ=function(j){if(j.add==null)return;
var n=j.Kt,Q=n.Curve,a=j.add.vmsk,B=a.z,m=K.c.gb(B,2).g,R=j.C.O();R.m2();K.c.C(m,R,m);var q=m.slice(0,8);
for(var U=8;U<m.length;U+=6)q.push(m[U-2],m[U-1],m[U],m[U+1],m[U+2],m[U+3],m[U+4],m[U+5]);Q.Points=q;
Q.TextOnPathTRange=a.aX.slice(0);Q.Reversed=a.pG;if(eR.Pv(n)==1){var Q=bG.bj(n.Curve),l=K.c.Tv(Q[0]);
eR.gG(n,[0,0,l.q,l._].map(Math.round));for(var v=0;v<q.length;v+=2){q[v]-=l.x;q[v+1]-=l.y}var b=new j8(1,0,0,1,l.x,l.y);
b.concat(j.C);j.C=b}};eR.o3=function(j){if(j.add==null)return;var n=j.add.vmsk,Q=j.Kt.Curve,a=Q.Points,B={rZ:["M"],g:[a[0],a[1]]};
for(var v=0;v<a.length;v+=8){B.rZ.push("C");B.g.push(a[v+2],a[v+3],a[v+4],a[v+5],a[v+6],a[v+7])}K.c.C(B.g,j.C,B.g);
var m=K.c.TW(B,!0);n.z=m;n.pG=Q.Reversed;n.aX=Q.TextOnPathTRange.slice(0);j.add.vogk=f.sU(m)};eR.qF=function(j){var n={n:0,i:0,b:0};
if(j){var Q=j.Values;if(j.Type==1)n={n:Q[1]*255,i:Q[2]*255,b:Q[3]*255};else if(j.Type==2){var a={classID:"CMYC",Cyn:{t:"doub",v:Q[1]*100},Mgnt:{t:"doub",v:Q[2]*100},Ylw:{t:"doub",v:Q[3]*100},Blck:{t:"doub",v:Q[4]*100}};
n=K.Gp.qF(a)}else console.log("Unknown color type")}return n};eR.agS=function(j){for(var v=0;v<j.length;
v++){var n=j[v].StyleSheet.StyleSheetData,Q=n.FillColor;if(Q&&Q.Type==2){var a=eR.qF(Q);Q.Type=1;Q.Values=[1,a.n/255,a.i/255,a.b/255]}}};
eR.uI=function(j,n){var Q;if(eR.Pv(j.Kt)==1){var a=eR.UC(j.Kt);Q=new b4(0,0,a[2]-a[0],a[3]-a[1])}else{Q=n.VI();
if(n.SV){var B=n.SV.O(),m=K.c.yc(Q);K.c.C(m.g,B,m.g);Q=K.c.Tv(m.g)}}return Q};eR.Da=function(j){var n=j[0];
for(var v=0;v<j.length;v++)n=eR.a5R(n,j[v]);return n};eR.a5R=function(j,n){var Q={};for(var a in j)if(JSON.stringify(j[a])==JSON.stringify(n[a]))Q[a]=j[a];
return Q};eR.em=function(j,n){var Q=j.hK,a=-1;for(var v=0;v<Q.length;v++)if(Q[v].Name==n)a=v;if(a==-1){a=Q.length;
Q.push({FontType:1,Name:n,Script:0,Synthetic:0})}j.RW.Font=a};eR.yi=function(j){return j.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
eR.g$=function(j,n){j.EngineDict.Editor.Text=n.replace(/\n/g,"\r")};eR.Pv=function(j){return j.Curve&&j.Curve.TextOnPathTRange[0]>=0?2:j.EngineDict.Rendered.Shapes.Children[0].ShapeType};
eR.dY=function(j,n){var Q=j.EngineDict.Rendered.Shapes.Children[0];Q.ShapeType=n;var a=Q.Cookie.Photoshop;
a.ShapeType=n;a.Base.ShapeType=n;if(n==0){delete a.BoxBounds;a.PointBase=[0,0]}if(n==1){delete a.PointBase;
a.BoxBounds=[0,0,1,1]}};eR.UC=function(j){return j.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
eR.gG=function(j,n){j.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=n};eR.aka=function(j,n){var Q=j.EngineDict.AlternateGlyphRun;
if(Q==null)return-1;var a=eR.uF(Q.RunLengthArray,n).Tl;if(Q.RunArray[a]==null)return-1;var B=Q.RunArray[a].Glyph;
return B==null?-1:B};eR.aq0=function(j,n,Q){var a=j.EngineDict.AlternateGlyphRun;if(a==null){a=j.EngineDict.AlternateGlyphRun=eR.adk();
a.RunArray.push({});a.RunLengthArray.push(eR.yi(j).length)}var B=eR.uF(a.RunLengthArray,n),m=B.Tl,R=n-B.r7,q=a.RunArray[m],U=JSON.stringify(q),l=a.RunLengthArray[m];
if(R!=0){a.RunArray.splice(m,0,JSON.parse(U));a.RunLengthArray.splice(m,0,R);a.RunLengthArray[m+1]-=R;
m++;l-=R;R=0}if(l!=1){a.RunArray.splice(m+1,0,JSON.parse(U));a.RunLengthArray.splice(m+1,0,l-1);a.RunLengthArray[m]=1;
l=1}q.Glyph=Q};eR.aAw=function(j,n){var Q=j.EngineDict.StyleRun.RunLengthArray;return eR.uF(Q,n).Tl};
eR.anC=function(j,n){var Q=j.ResourceDict.StyleSheetSet[0].StyleSheetData,a={};for(var B in Q)a[B]=Q[B];
var m=j.EngineDict.StyleRun.RunArray[n].StyleSheet.StyleSheetData;eR.P6(a,m);return a};eR.aoI=function(j,n){var Q=j.EngineDict.ParagraphRun.RunLengthArray;
return eR.uF(Q,n).Tl};eR.ar0=function(j,n){var Q=j.ResourceDict.ParagraphSheetSet[0].Properties,a={};
for(var B in Q)a[B]=Q[B];var m=j.EngineDict.ParagraphRun.RunArray[n].ParagraphSheet.Properties;eR.P6(a,m);
var R=["StartIndent","EndIndent","FirstLineIndent"];for(var v=0;v<3;v++)if(a[R[v]]==null)a[R[v]]=0;return a};
eR.Yr=function(j,n,Q){if(Q=="")return;var a=eR.yi(j);eR.g$(j,a.substring(0,n)+Q+a.substring(n,a.length));
var B=j.EngineDict.StyleRun,m=B.RunLengthArray,R=eR.uF(m,n-1);m[R.Tl]+=Q.length;var q=j.EngineDict.AlternateGlyphRun;
if(q){var m=q.RunLengthArray,R=eR.uF(m,n-1);m[R.Tl]+=Q.length}var U=j.EngineDict.ParagraphRun,m=U.RunLengthArray,l=eR.uF(m,n),b=Q.split("\n");
if(b.length==1){m[l.Tl]+=Q.length;return}m.splice(l.Tl+1,0,m[l.Tl]-(n-l.r7));U.RunArray.splice(l.Tl+1,0,K.u(U.RunArray[l.Tl]));
m[l.Tl]-=m[l.Tl+1];m[l.Tl]+=b[0].length+1;for(var v=1;v<b.length-1;v++){U.RunArray.splice(l.Tl+v,0,K.u(U.RunArray[l.Tl+v-1]));
U.RunLengthArray.splice(l.Tl+v,0,b[v].length+1)}m[l.Tl+b.length-1]+=b[b.length-1].length};eR.Zd=function(j,n,Q){var a=eR.yi(j);
eR.g$(j,a.substring(0,n)+a.substring(Q,a.length));eR.b_(j.EngineDict.ParagraphRun,n,Q,!0);eR.b_(j.EngineDict.StyleRun,n,Q,!1);
var B=j.EngineDict.AlternateGlyphRun;if(B)eR.b_(B,n,Q,!1)};eR.b_=function(j,n,Q,a){var B=j.RunLengthArray,m=eR.uF(B,n),R=eR.uF(B,Q),q=[];
for(var v=0;v<B.length;v++)for(var U=0;U<B[v];U++)q.push(v);q.splice(n,Q-n);var l=[];for(var v=0;v<B.length;
v++)l.push(0);for(var v=0;v<q.length;v++)l[q[v]]++;for(var v=0;v<B.length;v++){if(l[v]==0){l.splice(v,1);
B.splice(v,1);j.RunArray.splice(v,1);v--}else if(l[v]<B[v])B[v]=l[v]}if(a&&m.Tl!=R.Tl&&m.r7!=n){B[m.Tl]+=B[m.Tl+1];
B.splice(m.Tl+1,1);j.RunArray.splice(m.Tl+1,1)}};eR.A0=function(j,n,Q,a){var B=j.EngineDict.Editor.Text.length;
if(Q==B-2)Q++;if(a.RW.Font!=null)j.ResourceDict.FontSet=a.hK.slice(0);if(n<=Q)eR.arb(j.EngineDict.StyleRun,a.RW,n,Q,!0);
eR.arb(j.EngineDict.ParagraphRun,a.w$,n,Q,!1)};eR.JB=function(j,n,Q){var a={hK:j.ResourceDict.FontSet.slice(0),RW:[],w$:[]},B=j.EngineDict.StyleRun.RunLengthArray,m=eR.uF(B,n).Tl,R=eR.uF(B,Q).Tl;
for(var v=m;v<=R;v++){var q=K.u(j.ResourceDict.StyleSheetSet[0].StyleSheetData),U=j.EngineDict.StyleRun.RunArray;
if(U.length==0)continue;var l=U[v].StyleSheet.StyleSheetData;eR.P6(q,l);a.RW.push(q)}var b=j.EngineDict.ParagraphRun.RunLengthArray,D=eR.uF(b,n).Tl,c=eR.uF(b,Q).Tl;
for(var v=D;v<=c;v++){var _=j.EngineDict.ParagraphRun.RunArray;if(_.length==0)continue;a.w$.push(K.u(_[v].ParagraphSheet.Properties))}a.RW=a.RW.length==0?{}:eR.Da(a.RW);
a.w$=a.w$.length==0?{}:eR.Da(a.w$);return a};eR.arb=function(j,n,Q,a,B){var m=j.RunLengthArray;if(B){var R=eR.uF(m,Q);
if(R.r7!=Q){var q=m[R.Tl];m.splice(R.Tl,0,Q-R.r7);m[R.Tl+1]=q-m[R.Tl];j.RunArray.splice(R.Tl+1,0,K.u(j.RunArray[R.Tl]))}var U=eR.uF(m,a);
if(U.r7+m[U.Tl]-1!=a){var q=m[U.Tl];m.splice(U.Tl,0,a-U.r7+1);m[U.Tl+1]=q-m[U.Tl];j.RunArray.splice(U.Tl+1,0,K.u(j.RunArray[U.Tl]))}}var R=eR.uF(m,Q),U=eR.uF(m,a);
if(B)for(var v=R.Tl;v<=U.Tl;v++)eR.P6(j.RunArray[v].StyleSheet.StyleSheetData,n);else for(var v=R.Tl;
v<=U.Tl;v++)eR.P6(j.RunArray[v].ParagraphSheet.Properties,n)};eR.a1R=function(j,n,Q){var a=j.EngineDict.StyleRun.RunLengthArray,B=[],m=0;
for(var v=0;v<a.length;v++){var R=a[v];for(var q=0;q<R;q++)if(n<=m+q&&m+q<Q)B.push(v);m+=R}var U=B[0],l=[];
for(var v=0;v<B.length;v++){var b=B[v]-U;if(b==l.length)l.push(0);l[b]++}return l};eR.alR=function(j){var n=j.EngineDict.StyleRun,Q=n.RunArray,a=n.RunLengthArray;
for(var v=0;v<a.length-1;v++){var B=Q[v].StyleSheet.StyleSheetData,m=Q[v+1].StyleSheet.StyleSheetData;
if(JSON.stringify(B)==JSON.stringify(m)){Q.splice(v+1,1);a[v]+=a[v+1];a.splice(v+1,1);v--}}};eR.l_=function(j){var n=j.K7.AntA.v.Annt;
n=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(n);if(n==-1)n=1;return n};eR.cz=function(j,n){j.K7.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][n]};
eR.KZ=function(j,n){var Q,a;Q=["FontSize","Leading","BaselineShift","OutlineWidth"];a=j.RW;for(var v=0;
v<Q.length;v++)if(a[Q[v]]!=null)a[Q[v]]*=n;Q=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
a=j.w$;for(var v=0;v<Q.length;v++)if(a[Q[v]]!=null)a[Q[v]]*=n};eR.aE9=function(){return eR.JB(K.u(eR.al5),0,0)};
eR.abd=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
eR.uF=function(j,n){var Q=0,v=0;while(Q+j[v]<=n){Q+=j[v];v++}return{Tl:v,r7:Q}};eR.abr=function(){var j=K.u(this.al5);
return j};eR.a9K=function(j,n){var Q=n.w$};eR.aff=function(j,n){var Q=n.RW,a;a=j.Undl;if(a&&a.v.Undl=="underlineOnLeftInVertical")Q.Underline=!0;
a=j.syntheticItalic;if(a)Q.FauxItalic=a.v};eR.asx={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
eR.al_={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
eR.adk=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};eR.al5={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:K.u(eR.asx)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:K.u(eR.asx)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:K.u(eR.al_)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var d2={};d2.axZ=function(j){var n=d2.ayB(j._0,j._1);d2.aeI(n,j._0);return n};d2.auY=function(j,n,Q){var a={};
a._98={_0:"i7"};a._0=d2.abP(j,n,Q?Q._0:null);a._1=d2.atZ(j,n,a._0,Q?Q._1:null);return a};d2.abP=function(j,n,Q){var a={};
a._1=d2.agj(j,Q?Q._1:null);a._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};a._3=K.u(d2.agf);a._4=K.u(d2.af_);
a._5=d2.acu(j,a._1._0,Q?Q._5:null);a._6=d2.anA(j,Q?Q._6:null);a._8=d2.adq(j,n,Q?Q._8:null);a._9=d2.aEX;
return a};d2.aeI=function(j,n){d2.al9(j,n._5,n._1._0)};d2.agj=function(j,n){var Q=[],a=[];for(var v=0;
v<j.length;v++){var B=j[v].ResourceDict.FontSet;for(var m=0;m<B.length;m++){var R=B[m];if(a.indexOf(R.Name)!=-1)continue;
Q.push(R);a.push(R.Name)}}var q={_0:[]};for(var v=0;v<Q.length;v++){var U=Q[v],l={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+U.Name,_1:"i"+U.Script,_2:"i"+U.FontType}}};
if(U.Script==0)delete l._0._0._1;q._0.push(l)}return q};d2.acu=function(j,n,Q){var a={_0:[],_1:[]},B={_0:K.u(d2.azB)};
d2.aGO(B._0,j[0].ResourceDict.StyleSheetSet[0],n,j[0].ResourceDict.FontSet);a._0.push(B);a._1.push({_0:"i0"});
a._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});a._1.push({_0:"i1"});return a};d2.al9=function(j,n,Q){var a=n._0[0];
for(var v=0;v<j.length;v++)d2.alO(a._0,j[v].ResourceDict.StyleSheetSet[0],Q,j[v].ResourceDict.FontSet)};
d2.anA=function(j,n){var Q={_0:[],_1:[]},a={_0:K.u(d2.az)};d2.rA(a._0,j[0].ResourceDict.ParagraphSheetSet[0]);
Q._0.push(a);Q._1.push({_0:"i0"});a={_0:K.u(d2.az)};d2.rA(a._0,j[0].ResourceDict.ParagraphSheetSet[0]);
a._0._0="sBasic Paragraph";a._0._6="i0";Q._0.push(a);Q._1.push({_0:"i1"});return Q};d2.adq=function(j,n,Q){var a={_0:[]};
for(var v=0;v<j.length;v++){var B=j[v].Curve,m={};a._0.push({_0:m});var R=eR.Pv(j[v]);m._1={};m._2={};
m._2._0="i"+R;if(j[v]._LineOrientation==2)m._2._1="i2";if(R==0){delete m._1;m._2._6=["f-1","f-1"];m._2._11={_4:"i-1",_7:!1}}else if(R==1&&B==null){var q=eR.UC(j[v]),U=q[2],l=q[3];
m._1._0=d2.QG("f",[0,0,0,0,U,0,U,0,U,0,U,0,U,l,U,l,U,l,U,l,0,l,0,l,0,l,0,l,0,0,0,0]);m._2._6=["f-2","f-2"];
m._2._11={_4:"i-2",_7:!1}}else if(R==1){var q=eR.UC(j[v]),U=q[2],l=q[3];m._1._0=d2.QG("f",B.Points);
m._2._6=["f-3","f-3"];m._2._11={_4:"i-3",_7:!1}}else if(R==2){m._1._0=d2.QG("f",B.Points);m._2._6=d2.QG("f",B.TextOnPathTRange);
m._2._11={_0:B.Reversed,_3:"i0",_5:"f0",_7:!1}}}return a};d2.atZ=function(j,n,Q,a){var B={};B._0=K.u(d2.atj);
B._1=d2.abF(j,n,Q,a?a._1:null);B._2=K.u(d2.azB._6);B._3=K.u(d2.az._5);return B};d2.ayB=function(j,n){return d2.avv(j,n._1)};
d2.abF=function(j,n,Q,a){var B=[],m=Q._1._0;for(var v=0;v<j.length;v++){var R=j[v],q={_0:{}};B.push(q);
q._0._0="s"+R.EngineDict.Editor.Text;q._0._0=q._0._0;var U=q._0._5={_0:[]},l=R.EngineDict.ParagraphRun;
for(var b=0;b<l.RunArray.length;b++){var D={_0:{}};U._0.push(D);D._0._0={_0:"s",_5:{},_6:"i1"};d2.rA(D._0._0,l.RunArray[b].ParagraphSheet);
D._1="i"+l.RunLengthArray[b]}var c=q._0._6={_0:[]};l=R.EngineDict.StyleRun;for(var b=0;b<l.RunArray.length;
b++){var _={_0:{}};c._0.push(_);_._0._0={_0:"s",_5:"i1",_6:{}};d2.aGO(_._0._0,l.RunArray[b].StyleSheet,m,R.ResourceDict.FontSet);
_._1="i"+l.RunLengthArray[b]}l=R.EngineDict.AlternateGlyphRun;if(l){var p=q._0._9={_0:[]};for(var b=0;
b<l.RunArray.length;b++){var X={_0:{}};p._0.push(X);var g=l.RunArray[b];if(g.Glyph!=null){X._0._0={_0:"i"+g.Glyph,_1:"e"}}X._1="i"+l.RunLengthArray[b]}}q._0._10={_0:"i4",_2:!0};
q._1=d2.view.asX(R,null,v,null)}return B};d2.avv=function(j,n){var Q=[],a=j._1._0;if(n)for(var v=0;v<n.length;
v++){var B=eR.abr();Q.push(B);var m=n[v];B.EngineDict.Editor.Text=m._0._0.slice(1);var R=B.EngineDict.ParagraphRun.RunArray[0],q=B.EngineDict.ParagraphRun,U=m._0._5;
if(U)for(var l=0;l<U._0.length;l++){var b=U._0[l];q.RunLengthArray[l]=parseInt(b._1.slice(1));q.RunArray[l]=K.u(R);
d2.azl(b._0._0,q.RunArray[l].ParagraphSheet)}else{q.RunLengthArray[0]=eR.yi(B).length}var D=m._0._6;
q=B.EngineDict.StyleRun;if(D)for(var l=0;l<D._0.length;l++){var c=D._0[l];q.RunLengthArray[l]=parseInt(c._1.slice(1));
q.RunArray[l]={StyleSheet:{StyleSheetData:{}}};d2.alO(c._0._0,q.RunArray[l].StyleSheet,a,B.ResourceDict.FontSet)}else{q.RunLengthArray[0]=eR.yi(B).length;
q.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return Q};d2.aGO=function(j,n,Q,a,B){j._0="s"+(n.Name?n.Name:"");
var m=j._6,R=B?B._6:null,q=n.StyleSheetData;if(q.Font!=null){var U=a[q.Font].Name,l=-1;for(var v=0;v<Q.length;
v++)if("s"+U==Q[v]._0._0._0){l=v;break}m._0="i"+l}if(q.FontSize!=null)m._1="f"+q.FontSize;if(q.FauxBold!=null)m._2=q.FauxBold;
if(q.FauxItalic!=null)m._3=q.FauxItalic;if(q.AutoLeading!=null)m._4=q.AutoLeading;if(q.Leading!=null)m._5="f"+q.Leading;
if(q.HorizontalScale!=null)m._6="f"+q.HorizontalScale;if(q.VerticalScale!=null)m._7="f"+q.VerticalScale;
if(q.Tracking!=null)m._8="i"+q.Tracking;if(q.BaselineShift!=null)m._9="f"+q.BaselineShift;if(q.AutoKerning!=null)m._11="i"+(q.AutoKerning?1:0);
if(q.FontCaps!=null)m._12="i"+q.FontCaps;if(q.FontBaseline!=null)m._13="i"+q.FontBaseline;if(q.Strikethrough!=null)m._15="i"+(q.Strikethrough?1:0);
if(q.Underline!=null)m._16="i"+(q.Underline?2:0);if(q.Ligatures!=null)m._18=q.Ligatures;if(q.DLigatures!=null)m._19=q.DLigatures;
if(q.BaselineDirection!=null)m._35="i"+q.BaselineDirection;if(q.Language!=null)m._38="i"+q.Language;
if(q.FillColor!=null)m._53=d2.Tr(q.FillColor);if(q.StrokeColor!=null)m._54=d2.Tr(q.StrokeColor);if(q.FillFlag!=null)m._56=q.FillFlag;
if(q.StrokeFlag!=null)m._57=q.StrokeFlag;if(q.FillFirst!=null)m._58=q.FillFirst;if(q.OutlineWidth!=null)m._63="f"+q.OutlineWidth;
if(q._FillBackgroundColor!=null)m._79=d2.Tr(q._FillBackgroundColor);if(q._FillBackgroundFlag!=null)m._80=q._FillBackgroundFlag;
if(q._LineCap!=null)m._61="i"+q._LineCap;if(q._LineJoin!=null)m._62="i"+q._LineJoin;if(q._MiterLimit!=null)m._64="f"+q._MiterLimit;
if(q._LineDashOffset!=null)m._65="f"+q._LineDashOffset;if(q._LineDashArray!=null)m._66=d2.QG("f",q._LineDashArray);
for(var v=0;v<8;v++)if(q[eR.nP[v]]!=null)m["_"+eR.tE[v]]=q[eR.nP[v]]};d2.Tr=function(j){return{_99:"/SimplePaint",_0:{_0:"i1",_1:d2.QG("f",j.Values)}}};
d2.alO=function(j,n,Q,a){var B=j._6;if(B==null)return;var m=n.StyleSheetData;if(B._0){var R=parseInt(B._0.slice(1)),q=Q[R]._0._0._0.slice(1);
eR.em({RW:m,hK:a},q)}if(B._1!=null)m.FontSize=parseFloat(B._1.slice(1));if(B._2!=null)m.FauxBold=B._2;
if(B._3!=null)m.FauxItalic=B._3;if(B._4!=null)m.AutoLeading=B._4;if(B._5!=null)m.Leading=parseFloat(B._5.slice(1));
if(B._6!=null)m.HorizontalScale=parseFloat(B._6.slice(1));if(B._7!=null)m.VerticalScale=parseFloat(B._7.slice(1));
if(B._8!=null)m.Tracking=parseFloat(B._8.slice(1));if(B._9!=null)m.BaselineShift=parseFloat(B._9.slice(1));
if(B._11!=null)m.AutoKerning=parseFloat(B._11.slice(1))==1;if(B._12!=null)m.FontCaps=parseFloat(B._12.slice(1));
if(B._13!=null)m.FontBaseline=parseFloat(B._13.slice(1));if(B._15!=null)m.Strikethrough=parseFloat(B._15.slice(1))==1;
if(B._16!=null)m.Underline=parseFloat(B._16.slice(1))==1;if(B._18!=null)m.Ligatures=B._18;if(B._19!=null)m.DLigatures=B._19;
if(B._35!=null)m.BaselineDirection=parseFloat(B._35.slice(1));if(B._38!=null)m.Language=parseFloat(B._38.slice(1));
if(B._53!=null)m.FillColor=d2.k7(B._53);if(B._54!=null)m.StrokeColor=d2.k7(B._54);if(B._56!=null)m.FillFlag=B._56;
if(B._57!=null)m.StrokeFlag=B._57;if(B._63!=null)m.OutlineWidth=parseFloat(B._63.slice(1));if(B._79!=null)m._FillBackgroundColor=d2.k7(B._79);
if(B._80!=null)m._FillBackgroundFlag=B._80;if(B._61!=null)m._LineCap=parseFloat(B._61.slice(1));if(B._62!=null)m._LineJoin=parseFloat(B._62.slice(1));
if(B._64!=null)m._MiterLimit=parseFloat(B._64.slice(1));if(B._65!=null)m._LineDashOffset=parseFloat(B._65.slice(1));
if(B._66!=null)m._LineDashArray=d2.uA(B._66);for(var v=0;v<8;v++)if(B["_"+eR.tE[v]]!=null)m[eR.nP[v]]=B["_"+eR.tE[v]]};
d2.k7=function(j){var n=j._0._0,Q=[1,0,0,0],a=d2.uA(j._0._1);if(n=="i0")Q[1]=Q[2]=Q[3]=a[1];else if(n=="i1")Q=a;
else if(n=="i2")Q=[1].concat(UDOC.C.cmykToRgb(a.slice(1)));else console.log("unknown color type",n,a);
return{Type:1,Values:Q}};d2.rA=function(j,n){j._0="s"+(n.Name?n.Name:"");var Q=j._5,a=n.Properties;if(a.Justification!=null)Q._0="i"+a.Justification;
if(a.FirstLineIndent!=null)Q._1="f"+a.FirstLineIndent;if(a.StartIndent!=null)Q._2="f"+a.StartIndent;
if(a.EndIndent!=null)Q._3="f"+a.EndIndent;if(a.SpaceBefore!=null)Q._4="f"+a.SpaceBefore;if(a.SpaceAfter!=null)Q._5="f"+a.SpaceAfter;
if(a.AutoLeading!=null)Q._7="f"+a.AutoLeading;if(a.AutoHyphenate!=null)Q._9=a.AutoHyphenate;if(a._Direction!=null)Q._33="i"+a._Direction;
if(a._ComposerEngine!=null)Q._35="i"+a._ComposerEngine};d2.azl=function(j,n){var Q=j._5;if(Q==null)return;
var a=n.Properties;if(Q._0)a.Justification=parseInt(Q._0.slice(1))};d2.QG=function(j,n){var Q=[];for(var v=0;
v<n.length;v++)Q.push(j+n[v]);return Q};d2.uA=function(j){var n=[];for(var v=0;v<j.length;v++)n.push(parseFloat(j[v].slice(1)));
return n};d2.agf={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
d2.af_={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
d2.azB={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
d2.az={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
d2.aEX={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
d2.atj={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var bO={};bO.a5w=function(j){return bO.BW(j,bO.C3,0)};bO.axI=function(j){return bO.Ih(j,bO.C3)};bO.BW=function(j,n,Q){var a;
if(typeof j=="string")return j;if(j instanceof Array){a=[];for(var v=0;v<j.length;v++)a[v]=bO.BW(j[v],n,Q+1)}else{a={};
var B={};for(var m in n){var R=n[m],q="_"+R[0];if(j[q]!=null){a[m]=R[1]?bO.BW(j[q],R[1],Q+1):j[q];B[q]=!0}}for(var m in j){if(B[m]==null){if(m.length>3)continue;
console.log(n,B);console.log(m,j);throw"e"}}}return a};bO.Ih=function(j,n){var Q;if(typeof j=="string")return j;
else if(j instanceof Array){Q=[];for(var v=0;v<j.length;v++)Q[v]=bO.Ih(j[v],n)}else{Q={};var a={};for(var B in n){var m=n[B],R="_"+m[0];
if(j[B]!=null){Q[R]=m[1]?bO.Ih(j[B],m[1]):j[B];a[B]=!0}}for(var B in j){if(a[B]==null){console.log(n,a);
console.log(B,j);throw"e"}}}return Q};bO.Ty={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
bO.de={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,bO.Ty],_StrokeColor:[54,bO.Ty],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,bO.Ty],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
bO.ayH={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,bO.de],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
bO.afV={_Name:[0],_Features:[5,bO.ayH],_Parent:[6],_UUID:[97]};bO.a6T={_Name:[0],_Parent:[5],_Features:[6,bO.de],_UUID:[97]};
bO.C3={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,bO.a6T]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,bO.afV]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,bO.afV]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,bO.a6T]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,bO.de],_OriginalNormalParagraphFeatures:[3,bO.ayH],_4:[4]}]};
d2.view={};d2.view.asX=function(j,n,Q,a){var B={},m=eR.Pv(j);B._0=[{_0:"i"+Q}];return B};function CSS(){}CSS.aFw=function(j,n){var Q=j.add,a=Q.vmsk,B=Q.vstk,m=Q.lmfx,R=Q.TySh,q=[],U=CSS.GT(m,Q),l=j.wT/255*(j.add.iOpa!=null?j.add.iOpa/255:1);
if(l!=1)q.push("opacity: "+l.toFixed(3));if(j.Oi()&&a){var b=K.R.sR(a.z);if(!b.ke()){q.push("width: "+Math.round(b.q)+"px");
q.push("height: "+Math.round(b._)+"px")}var D=K.R.abj(a.z);if(D>0)q.push("border-radius: "+Math.round(D)+"px")}else if(R){var c=R.Kt;
if(eR.Pv(c)==1){var b=eR.UC(c);q.push("width: "+Math.round(b[2])+"px");q.push("height: "+Math.round(b[3])+"px")}CSS.anP(q,eR.JB(c,0,0),R.C,!1,!1,U[0])}CSS.aga(n,m,q);
if(R==null)CSS.aDJ(U,q);if(B==null||!B.strokeEnabled.v)B=gq.akT(m);if(B&&B.strokeEnabled.v){var _=B.strokeStyleContent.v,p=_.classID,X=B.strokeStyleOpacity.v.val/100,g=B.strokeStyleLineWidth.v.val,F="";
if(p=="solidColorLayer")F=CSS.pl(_.Clr.v,X);q.push("border: "+g+"px solid "+F)}return q};CSS.aga=function(j,n,Q){if(n==null||!n.masterFXSwitch.v)return;
var a=n.dropShadowMulti.v.concat(n.innerShadowMulti.v);for(var v=0;v<a.length;v++){var B=a[v].v;if(B.enab.v){var m=B.classID=="IrSh",R=B.Dstn.v.val,q=B.lagl.v.val*Math.PI/180;
if(B.uglg&&B.uglg.v)q=j._Q()*Math.PI/180;var U=R*Math.cos(q),l=R*Math.sin(q),b=(U==0?"0 ":CSS.aFq(-U)+"px ")+(l==0?"0 ":CSS.aFq(l)+"px ")+B.blur.v.val/2+"px "+CSS.pl(B.Clr.v,B.Opct.v.val/100);
if(m)Q.push("box-shadow: inset "+b);else Q.push("filter: drop-shadow("+b+")")}}};CSS.GT=function(j,n){var Q=gq.av0(j,n),a=Q[0],B=Q[1],m,R;
if(a){m=CSS.pl(a.Clr.v,n.iOpa!=null?n.iOpa/255:1)}else if(B){R=CSS.xG(B)}return[m,R]};CSS.aDJ=function(j,n){if(j[0])n.push("background-color: "+j[0]);
if(j[1])n.push("background-image: "+j[1])};CSS.D2={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aFq=function(dv){return""+parseFloat(dv.toFixed(3))};CSS.qH=function(j){if(j==null)return{n:0,i:0,b:0};
var n=j.indexOf("(");if(n!=-1){var Q=j.slice(n+1,j.length-1).split(",");for(var v=0;v<Q.length;v++){var a=Q[v].trim();
Q[v]=parseFloat(a)*(a.endsWith("%")?255/100:1)}if(j.startsWith("hsl")){var B=K.BK(Q[0]/360,Q[1]/255,Q[2]/255);
B.n*=255;B.i*=255;B.b*=255;return B}return{n:Q[0],i:Q[1],b:Q[2]}}if(j.charAt(0)!="#"){var m=CSS.D2;if(m[j])j=m[j];
else console.log("unknown color "+j)}j=j.slice(1);if(j.length==4)j=j[0]+j[0]+j[1]+j[1]+j[2]+j[2]+j[3]+j[3];
if(j.length==3)j=j[0]+j[0]+j[1]+j[1]+j[2]+j[2];var R=-1;if(j.length==8){R=parseInt(j.slice(6),16);j=j.slice(0,6)}j=parseInt(j,16);
var q={n:j>>16&255,i:j>>8&255,b:j&255};if(R!=-1)q.NX=R;return q};CSS.pl=function(j,n){return CSS.E1(K.Gp.qF(j),n)};
CSS.E1=function(j,n){if(n==null)n=1;var Q=Math.round(j.n),a=Math.round(j.i),B=Math.round(j.b),m=Q<<16|a<<8|B;
return n==1?"#"+K.EA(m):"rgba("+Q+","+a+","+B+","+n+")"};CSS.aaM=function(j,n){return CSS.E1({n:j[0]*255,i:j[1]*255,b:j[2]*255},n)};
CSS.xG=function(j){var n=j.Grad.v;if(n.Clrs==null)return"";var Q=n.Clrs.v.slice(0),a=n.Trns.v.slice(0),B=j.Ofst.v,m=j.Type.v.GrdT=="Rdl"?1:0,R=(m==1?"radial":"linear")+"-gradient",q=m==0?Math.round(-j.Angl.v.val+90)+"deg":"circle at center",U=j.Rvrs.v,l=K.Gp.amW(n,U);
for(var v=0;v<l.length;v++){var b=l[v],D=b[1];q+=", "+CSS.E1({n:D[0]*255,i:D[1]*255,b:D[2]*255},b[2])+" "+Math.round(b[0]*100)+"%"}return R+"("+q+")"};
CSS.anP=function(j,n,Q,a,B,m){var R=n.RW,q=a?1:Q.P8(),U=Math.round(R.FontSize*q);j.push("font-size: "+U+"px");
var l=R.Tracking;if(!a&&l!=null&&l!=0)j.push("letter-spacing: "+Math.round(l*U/1e3)+"px");if(!R.AutoLeading)j.push("line-height: "+Math.round(R.Leading*q)+"px");
if(R.Strikethrough)j.push("text-decoration: line-through");if(R.Underline)j.push("text-decoration: underline");
if(R.FontCaps==2)j.push("text-transform: uppercase");var b=eR.qF(R.FillColor);b=[b.n,b.i,b.b].map(Math.round);
j.push((a?"fill: ":"color: ")+(m?m:"#"+K.EA(b[0]<<16|b[1]<<8|b[2])));var D=n.hK[R.Font].Name;if(D){var c=bY.ht.s1(D),_="",p=null,X=null;
if(c!=null&&D!=bY.gL(c))c=null;if(B&&c)_+="\""+D+"\", ";var g=D.toLowerCase();if(c){p=bY.aFV(c)[0];if(c["OS/2"])X=c["OS/2"].usWeightClass}else{p=CSS.a1f(D);
if(g.indexOf("light")!=-1)X=300;else if(g.indexOf("medium")!=-1)X=500;else if(g.indexOf("black")!=-1||g.indexOf("extrabold")!=-1)X=800;
else if(g.indexOf("bold")!=-1)X="bold"}if(p!=null)_+="\""+p+"\"";if(X!=null)j.push("font-weight: "+X);
if(g.indexOf("italic")!=-1||g.indexOf("oblique")!=-1)j.push("font-style: italic");if(_)j.push("font-family: "+_)}var F=n.w$.Justification;
if(F!=null&&F!=0)if(a){}else j.push("text-align: "+["left","right","center"][F%3])};CSS.a1f=function(j){j=j.split("-")[0];
while(j.endsWith("MT")||j.endsWith("PS"))j=j.slice(0,j.length-2);var n=!0;for(var v=0;v<j.length;v++){var Q=j.charAt(v);
if(!n&&Q.toLowerCase()!=Q){j=j.slice(0,v)+" "+j.slice(v);v++;n=!0}else n=!1}return j};function em(){}em.hI={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
em.ew=function(j,n){var Q=Date.now(),a=j.split("\n"),B;if(a.length==1)a=j.split("\r");for(var v=0;v<a.length;
v++)if(a[v].trim()[0]=="#"){a[v]=""}j=a.join("\n");try{B=acorn.parse(j)}catch(bY){console.log(bY);return}var m=K.u(em.r4.N7);
m.__return=!1;m.__continue=!1;m.__break=!1;m.__throw=!1;m.__fs={};m.__window={};em.eval(B,n,m);var R=m.__fs;
if(Object.keys(R).length!=0){var q=UZIP.encode(R);aL.save(q,"output.zip")}};em.eval=function(j,n,Q){var a=j.type;
if(!1){}else if(a=="Program"||a=="BlockStatement"){var B=j.body;for(var v=0;v<B.length;v++){var m=B[v].type;
if(m=="FunctionDeclaration")Q[B[v].id.name]=B[v]}for(var v=0;v<B.length;v++){var m=B[v].type,R=em.eval(B[v],n,Q);
if(Q.__continue&&Q.__pif==null){Q.__continue=!1;return R}if(Q.__return||Q.__break||Q.__throw)return R}}else if(a=="ReturnStatement"){Q.__return=!0;
return j.argument?em.hG(j.argument,n,Q):null}else if(a=="BreakStatement"){Q.__break=!0}else if(a=="ContinueStatement"){Q.__continue=!0}else if(a=="VariableDeclaration"){var q=j.declarations;
for(var v=0;v<q.length;v++)em.eval(q[v],n,Q)}else if(a=="VariableDeclarator"){Q[j.id.name]=j.init?em.hG(j.init,n,Q):null}else if(a=="FunctionDeclaration"){Q[j.id.name]=j}else if(a=="MemberExpression"){var U=em.hG(j.object,n,Q),R;
if(Q.__throw)return;var l=j.computed?em.hG(j.property,n,Q):em.eval(j.property,n,Q);if(U.Y!=null)R=em.r4._q(U,l,n,Q);
else if(U==window&&em.hI[l]){}else R=U[l];return R}else if(a=="ArrayExpression"){var b=[],D=j.elements;
for(var v=0;v<D.length;v++)b.push(em.hG(D[v],n,Q));return b}else if(a=="ObjectExpression"){var b={},D=j.properties;
for(var v=0;v<D.length;v++){var c=D[v],_=D[v].key.name?D[v].key.name:D[v].key.value;b[_]=em.hG(D[v].value,n,Q)}return b}else if(a=="ExpressionStatement"){return em.eval(j.expression,n,Q)}else if(a=="NewExpression"){var p=j.arguments,X=j.callee,g=X.type,F=X.name,k=[],b=null;
for(var v=0;v<p.length;v++)k.push(em.hG(p[v],n,Q));if(F=="Array")b=new window[F];else if(g=="Identifier")b=em.r4.apV(F,k,n,Q);
else throw"e";if(b==null)throw"new "+F;return b}else if(a=="CallExpression"){var p=j.arguments,X=j.callee,g=X.type,I={};
for(var e in Q)I[e]=Q[e];var k=[];for(var v=0;v<p.length;v++)k.push(em.hG(p[v],n,Q));if(g=="Identifier"){var H=X.name,A=Q[H];
if(A&&A.Y=="AppFunc"){H=A.DA;A=null}if(A){if(A.params){var Z=A.params;for(var v=0;v<Z.length;v++)I[Z[v].name]=k[v];
return em.eval(A.body,n,I)}else{return A.apply(null,k)}}else if(em.r4.a7l.indexOf(H)!=-1)return em.r4.zA({Y:"Application"},H,k,n,Q);
else if(window[H]==null)console.log("Unknown function "+H);else if(em.hI[H])alert(H+"() not available");
else{var J=window[H].apply(window,k);return J}}else if(g=="MemberExpression"){var U=em.hG(X.object,n,Q),l=X.computed?em.hG(X.property,n,Q):em.eval(X.property,n,Q);
if(U==window&&em.hI[l])return;if(U.Y!=null)return em.r4.zA(U,l,k,n,Q);else if(l=="sort"&&U[0]&&U[0].Y=="Layer"){return U.sort(function(S,w){return S.J.getName()>w.J.getName()?1:-1})}else if(l=="toSource")return JSON.stringify(U);
else return U[l].apply(U,k)}else if(g=="FunctionExpression"){var s=em.eval(X.body,n,Q);Q.__return=!1;
return s}else console.log(j)}else if(a=="AssignmentExpression"){var E=j.operator,z=j.left,h=z.type,d=em.hG(z,n,Q),Y=em.hG(j.right,n,Q),R=null;
if(!1){}else if(E=="=")R=Y;else if(E=="+=")R=d+Y;else if(E=="-=")R=d-Y;else if(E=="*=")R=d*Y;else if(E=="/=")R=d/Y;
else if(E=="%=")R=d%Y;else if(E=="&=")R=d&Y;else if(E=="|=")R=d|Y;else if(E=="&&=")R=d&&Y;else if(E=="||=")R=d||Y;
else console.log(j);if(h=="Identifier"){var C=z.name;if(Q.hasOwnProperty(C))Q[C]=R;else Q.__window[C]=R}else if(h=="MemberExpression"){var i=em.eval(z.property,n,Q),M=em.hG(z.object,n,Q);
if(M.Y!=null)em.r4.aeY(M,i,R,n,Q);else M[i]=R}else console.log(j);return R}else if(a=="Identifier")return j.name;
else if(a=="Literal")return j.value;else if(a=="UpdateExpression"){var E=j.operator,W=j.argument.name,b=em.hG(j.argument,n,Q),$=Q;
if($[W]==null)$=Q.__window;if(!1){}else if(E=="++"){$[W]++;return j.prefix?$[W]:$[W]-1}else if(E=="--"){$[W]--;
return j.prefix?$[W]:$[W]+1}else console.log(j)}else if(a=="UnaryExpression"){var E=j.operator,P=em.hG(j.argument,n,Q);
if(P&&P.Y=="UnitValue"){if(E=="-")return-P.J;else return em.a5q(P.J,E)}else return em.a5q(P,E)}else if(a=="BinaryExpression"||a=="LogicalExpression"){var E=j.operator,z=em.hG(j.left,n,Q);
if(a=="LogicalExpression"&&E=="&&"&&!z)return z;var P=em.hG(j.right,n,Q);if(z==null||P==null)return em.Lf(z,P,E);
else if(z.Y=="UnitValue"&&P.Y=="UnitValue")return em.Lf(z.J,P.J,E);else if(z.Y=="UnitValue")return em.Lf(z.J,P,E);
else if(P.Y=="UnitValue"){if(E=="-")return-(z-P.J);else return em.Lf(z,P.J,E)}else return em.Lf(z,P,E)}else if(a=="IfStatement"){var O=em.hG(j.test,n,Q),G=Q.__pif,R=null;
Q.__pif=!0;if(O)R=em.eval(j.consequent,n,Q);else if(j.alternate)R=em.eval(j.alternate,n,Q);Q.__pif=G;
return R}else if(a=="ConditionalExpression"){var O=em.hG(j.test,n,Q);if(O)return em.hG(j.consequent,n,Q);
else if(j.alternate)return em.hG(j.alternate,n,Q)}else if(a=="ForInStatement"){em.eval(j.left,n,Q);var t=j.left.declarations[0].id.name,y=em.hG(j.right,n,Q);
for(var e in y){Q[t]=e;var r=em.eval(j.body,n,Q);if(Q.__break)break;if(Q.__return)return r}Q.__break=!1}else if(a=="ForStatement"){em.eval(j.init,n,Q);
while(em.eval(j.test,n,Q)){var r=em.eval(j.body,n,Q);if(Q.__break)break;if(Q.__return)return r;em.eval(j.update,n,Q)}Q.__break=!1}else if(a=="WhileStatement"){while(em.eval(j.test,n,Q)){var r=em.eval(j.body,n,Q);
if(Q.__break)break;if(Q.__return)return r}Q.__break=!1}else if(a=="DoWhileStatement"){do{var r=em.eval(j.body,n,Q);
if(Q.__break)break;if(Q.__return)return r}while(em.eval(j.test,n,Q));Q.__break=!1}else if(a=="TryStatement"){em.eval(j.block,n,Q);
if(Q.__throw){var u=j.handler;Q[u.param.name]=Q.__throw;Q.__throw=!1;em.eval(u.body,n,Q);delete Q[u.param.name]}}else if(a=="FunctionExpression"){return j}else if(a=="EmptyStatement"){}else console.log(j)};
em.Lf=function(j,n,Q){if(Q=="+")return j+n;else if(Q=="-")return j-n;else if(Q=="*")return j*n;else if(Q=="/")return j/n;
else if(Q=="%")return j%n;else if(Q=="^")return j^n;else if(Q=="&")return j&n;else if(Q=="&&")return j&&n;
else if(Q=="|")return j|n;else if(Q=="||")return j||n;else if(Q=="<")return j<n;else if(Q==">")return j>n;
else if(Q=="=="){if(j!=null&&n!=null&&j.Y&&n.Y)return j.J==n.J;return j==n}else if(Q=="===")return j===n;
else if(Q=="<=")return j<=n;else if(Q==">=")return j>=n;else if(Q=="!=")return j!=n;else if(Q=="!==")return j!==n;
else if(Q=="<<")return j<<n;else if(Q==">>")return j>>n;else console.log(Q)};em.a5q=function(j,n){if(n=="-")return-j;
else if(n=="!")return!j;else if(n=="~")return~j;else if(n=="+")return j;else if(n=="typeof")return typeof j;
else console.log(n,j)};em.hG=function(j,n,Q){var a=j.type;if(a=="Identifier")return em.aE4(j.name,n,Q);
else return em.eval(j,n,Q)};em.aE4=function(j,n,Q){if(j=="undefined")return undefined;else if(Q.hasOwnProperty(j))return Q[j];
else if(j=="app")return{Y:"Application"};else if(j=="Folder")return{Y:"Folder"};else if(j=="File")return{Y:"File"};
else if(j=="$")return{Y:"$"};else if(em.r4.aoc.indexOf(j)!=-1)return em.r4._q({Y:"Application"},j,n,Q);
else if(em.r4.a7l.indexOf(j)!=-1)return{Y:"AppFunc",DA:j};else if(Q.__window.hasOwnProperty(j))return Q.__window[j];
else if(window[j]&&!em.hI[j])return window[j];else{Q[j]=null;return null}};em.r4={};em.r4.apV=function(j,n,Q,a){var B;
if(j=="PathPointInfo")B={Y:j,kind:0,V:[],vK:[],XH:[]};if(j=="SubPathInfo")B={Y:j,nc:0,sP:!1,J:[]};if(j=="SolidColor")B={Y:j,J:[1,0,0,0]};
if(j=="RGBColor")B={Y:j,J:[1,0,0,0]};if(j=="Window")B={Y:j,J:new cw(n[0],n[1],n[2])};if(j=="ExportOptionsSaveForWeb")B={Y:j,J:{L5:"png",Xw:100}};
if(j=="PhotoshopSaveOptions")B={Y:j,J:{L5:"psd"}};if(j=="PNGSaveOptions")B={Y:j,J:{L5:"png",Xw:100}};
if(j=="JPEGSaveOptions")B={Y:j,J:{L5:"jpg",Xw:100}};if(j=="PDFSaveOptions")B={Y:j,J:{L5:"pdf",aG7:""}};
if(j=="File")B={Y:j,J:n[0]};if(j=="ActionReference")B={Y:j,J:{t:"obj ",v:[]}};if(j=="ActionDescriptor")B={Y:j,J:{t:"Objc",v:{classID:"null"}}};
if(j=="ActionList")B={Y:j,J:{t:"VlLs",v:[]}};if(j=="UnitValue")B={Y:j,J:n.length==0?0:parseFloat(n[0])};
return B};em.r4.aoc="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
em.r4.a7l="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
em.r4._q=function(j,n,Q,a){var B=Q.H,m=Q.Pj();if(!1){}else if(n=="typename"){if(j.Y=="Layer")return j.J.bx()?"LayerSet":"ArtLayer";
else return j.Y}else if(["Document","Layer"].indexOf(j.Y)!=-1&&["layers","artLayers","layerSets"].indexOf(n)!=-1){var R=m;
if(j.Y=="Document")R=j.J;else R=j.DK;var q=R.root,U={Y:"Layers",awu:n,J:[],DK:R};if(j.Y=="Layer")q=R.root._N(R.T.indexOf(j.J));
if(q.children==null)return null;for(var v=0;v<q.children.length;v++){var l=q.children[v].W,b=l.bx();
if(b&&n=="artLayers"||!b&&n=="layerSets")continue;U.J.push({Y:"Layer",J:l,DK:R})}U.J.reverse();return U}else if(j.Y=="Documents"||j.Y=="Layers"||j.Y=="HistoryStates"||j.Y=="LayerComps"||j.Y=="PathItems"||j.Y=="SubPathItems"||j.Y=="PathPoints"){if(!1){}else if(n=="length")return j.J.length;
else if(Number.isInteger(n))return j.J[n];else console.log(j.Y+": unknown property ",n)}else if(j.Y=="Application"){if(!1){}else if(n=="activeDocument")return{Y:"Document",J:Q.Pj()};
else if(n=="documents"){var U={Y:"Documents",J:[]};for(var v=0;v<Q.pB.length;v++)U.J.push({Y:"Document",J:Q.pB[v]});
return U}else if(n=="fonts")return{Y:"TextFonts"};else if(n=="preferences")return{Y:"Preferences"};else if(n=="displayDialogs")return{Y:"DialogModes"};
else if(n=="foregroundColor"||n=="backgroundColor"){var D=n[0]=="f"?B.Z4:B.g7;return{Y:"SolidColor",J:[1,(D>>>16&255)/255,(D>>>8&255)/255,(D>>>0&255)/255]}}else if(n=="UI")return{Y:"UI"};
else if(n=="version")return 30;else console.log(j,n)}else if(j.Y=="Document"){var m=j.J;if(!1){}else if(n=="activeLayer"){var l=m.T[m.X[0]];
return{Y:"Layer",J:l,DK:m}}else if(n=="pixelAspectRatio")return 1;else if(n=="resolution")return m.Mp;
else if(n=="width")return m.q;else if(n=="height")return m._;else if(n=="name")return m.name;else if(n=="saved")return!m.uh();
else if(n=="selection")return{Y:"Selection"};else if(n=="activeHistoryState")return{Y:"HistoryState",cb:m.cD};
else if(n=="source")return m.Sh;else if(n=="layerComps"){var c=m.gh.list.v,_=[];for(var v=0;v<c.length;
v++)_.push({Y:"LayerComp",J:v});return{Y:"LayerComps",J:_}}else if(n=="historyStates"){var p=[];for(var v=0;
v<m.history.length;v++)p.push({Y:"HistoryState",cb:v});return{Y:"HistoryStates",J:p}}else if(n=="mode")return 7;
else if(n=="colorSamplers"){var U={Y:"ColorSamplers",awu:n,J:m.xS.slice(0),DK:m};return U}else if(n=="pathItems"){var X=[],m=j.J,g=m.H9(),F=g[0],k=g[1];
for(var v=0;v<F.length;v++)X.push({Y:"PathItem",J:F[v]});return{Y:"PathItems",J:X}}else console.log(j,n)}else if(j.Y=="PathItem"){if(n=="subPathItems"){var I=j.J,e=I.add.vmsk.z,X=[];
for(var v=0;v<K.R.$L(e);v++){var H=K.R.p$(e,v),A=e[H],Z=e.slice(H+1,H+1+A.length);X.push({Y:"SubPathItem",nc:A.H_,sP:A.w==0,J:f.hx.wX(Z)})}return{Y:"SubPathItems",J:X}}else alert(n)}else if(j.Y=="SubPathItem"||j.Y=="SubPathInfo"){if(n=="pathPoints"||n=="entireSubPath"){var X=[];
for(var v=0;v<j.J.length;v++){var J=j.J[v];X.push({Y:"PathPointInfo",kind:J.w==1||J.w==4?1:0,V:[J.V.x,J.V.y],vK:[J.vK.x,J.vK.y],XH:[J.XH.x,J.XH.y]})}return{Y:"PathPoints",J:X}}else if(n=="operation")return j.nc;
else if(n=="closed")return j.sP;else throw n}else if(j.Y=="PathPointInfo"){if(n=="kind")return j.kind;
else if(n=="anchor")return j.V;else if(n=="leftDirection")return j.vK;else if(n=="rightDirection")return j.XH;
else throw n}else if(j.Y=="LayerComp"){if(n=="name")return m.gh.list.v[j.J].v.Nm.v;else throw n}else if(j.Y=="ColorSamplers"){if(Number.isInteger(n))return{Y:"ColorSampler",J:j.J[n]};
else if(n=="length")return m.xS.length}else if(j.Y=="ColorSampler"){if(n=="color"){var D=N.Yc.Za(m,m.e.Vh(j.J.x,j.J.y),1,2);
return{Y:"SolidColor",J:[1,(D>>>16&255)/255,(D>>>8&255)/255,(D>>>0&255)/255]}}else if(n=="position")return[j.J.x,j.J.y]}else if(j.Y=="Layer"){var s={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},l=j.J;
if(!1){}else if(n=="visible")return l.VH();else if(n=="selected")return m.X.indexOf(m.T.indexOf(l))!=-1;
else if(n=="grouped")return l.U7;else if(s[n]!=null)return l.Na(s[n]);else if(n=="opacity")return l.wT*100/255;
else if(n=="fillOpacity")return(l.add.iOpa==null?255:l.add.iOpa)*100/255;else if(n=="blendMode")return l.TM;
else if(n=="name")return l.getName();else if(n=="textItem")return{Y:"TextItem",J:l};else if(n=="bounds"){var E=N.IP.uI(m,[m.T.indexOf(l)]);
return em.r4.a7T(E,m)}else if(n=="parent"){var z=Q.pB,R;for(var v=0;v<z.length;v++)if(z[v].T.indexOf(l)!=-1)R=z[v];
var h=R.root._N(R.T.indexOf(l)).parent;return h.depth==0?{Y:"Document",J:R}:{Y:"Layer",J:h.W,DK:R}}else if(n=="kind"){var d=em.r4.wQ;
for(var v=0;v<d.length;v++)if(l.add[d[v]]!=null)return v;return 0}else if(n=="isBackgroundLayer")return l.add.lnsr="bgnd";
else if(n=="itemIndex")return m.T.indexOf(l)+1;else console.log(j,n)}else if(j.Y=="Selection"){if(!1){}else if(n=="bounds"){if(m.K==null)a.__throw={message:"no selection"};
else return em.r4.a7T(m.K.s,m)}else console.log(j,n)}else if(j.Y=="TextItem"){var Y=j.J.add.TySh,C=Y.Kt,i=eR.yi(C),M=Y.C.P8(),W=eR.JB(C,0,0);
if(n=="contents")return i.slice(0,i.length-1).replace(/\n/g,"\r");else if(n=="font")return W.RW.Font!=null?W.hK[W.RW.Font].Name:null;
else if(n=="size")return em.r4.X8(W.RW.FontSize*M,m);else if(n=="leading")return em.r4.X8(W.RW.Leading*M,m);
else if(n=="tracking")return em.r4.X8(W.RW.Tracking);else if(n=="baselineShift")return em.r4.X8(W.RW.BaselineShift);
else if(n=="fauxBold")return W.RW.FauxBold;else if(n=="fauxItalic")return W.RW.FauxItalic;else if(n=="kind")return 1-eR.Pv(C);
else if(n=="useAutoLeading")return W.w$.AutoLeading;else if(n=="hyphenation")return W.w$.AutoHyphenate;
else if(n=="justification")return em.r4.X8(W.w$.Justification);else if(n=="color")return{Y:"SolidColor",J:W.RW.FillColor.Values.slice(0)};
else if(n=="width"||n=="height"){var $=eR.UC(C),P=($[2]-$[0])*M,O=($[3]-$[1])*M;return em.r4.X8(n=="width"?P:O,m)}else if(n=="position"){var G=Y.C;
return em.r4.a3r([G.Qr,G.dE],m)}else if(n=="horizontalScale"||n=="verticalScale"){var t=n[0].toUpperCase()+n.slice(1);
return Math.round(W.RW[t]*100)}else if(n=="antiAliasMethod")eR.l_(Y);else if(n=="totalTextStyle"){var U={};
for(var y=0;y<2;y++){var r=["Style","Paragraph"][y],u=C.EngineDict[r+"Run"].RunLengthArray,S=[],w=0;
for(var v=0;v<u.length;v++){var dj=eR.JB(C,w,Math.min(w+u[v],i.length-2));w+=u[v];S.push(y==0?dj.RW:dj.w$);
U.fontSet=dj.hK}U[r]={runs:u,styles:S}}return JSON.stringify(U)}else if(n=="transform"){var G=Y.C;return JSON.stringify([G.NX,G.b,G.RK,G.zP,G.Qr,G.dE])}else console.log(j,n)}else if(j.Y=="Preferences"){if(n=="rulerUnits")return B.c8.bp;
else console.log(j,n)}else if(j.Y=="SolidColor"){if(n=="rgb")return{Y:"RGBColor",J:j.J};if(n=="cmyk")return{Y:"CMYKColor",J:K.zd(j.J.slice(1))};
else console.log(j,n)}else if(j.Y=="RGBColor"){var E=Math.round(255*j.J[1]),o=Math.round(255*j.J[2]),T=Math.round(255*j.J[3]);
if(!1){}else if(n=="red")return E;else if(n=="green")return o;else if(n=="blue")return T;else if(n=="hexValue")return K.EA(E<<16|o<<8|T).toUpperCase();
else console.log(j,n)}else if(j.Y=="CMYKColor"){var i6=[];for(var v=0;v<4;v++)i6.push(Math.round(j.J[v]*100));
var bH=["cyan","magenta","yellow","black"].indexOf(n);if(bH!=-1)return i6[bH];else console.log(j,n)}else if(j.Y=="UnitValue"){if(n=="value")return j.J;
else throw"e"}else if(j.Y=="ExportOptionsSaveForWeb"){if(n=="format")return j.J.L5;else if(n=="PNG8"||n=="interlaced")return!1;
else if(n=="quality")return j.J.Xw;else if(n=="transparency")return!0;else throw n}else if(j.Y=="PNGSaveOptions"||j.Y=="JPEGSaveOptions"||j.Y=="PDFSaveOptions"){return 0}else if(j.Y=="$"){if(n=="localize")return!1;
else if(n=="os")return"Windows";else throw n}else if(j.Y=="ActionList"){if(n=="count")return j.J.v.length;
else throw n}else console.log(j,n)};em.r4.a7T=function(j,n){return em.r4.a3r([j.x,j.y,j.x+j.q,j.y+j._],n)};
em.r4.a3r=function(j,n){var Q=[];for(var v=0;v<j.length;v++)Q.push(em.r4.X8(j[v],n));return Q};em.r4.i9=function(j){var n=[];
for(var v=0;v<j.length;v++)n.push(j[v].Y?j[v].J:j[v]);return n};em.r4.X8=function(j,n){return{Y:"UnitValue",J:j}};
em.r4.att=function(j,n){if(j.Y=="UnitValue")return j.J;return j};em.r4.aeY=function(j,n,Q,a,B){var m=new ar(x.E.A,!0),R=new ar(x.E.B,!0),q=a.Pj(),U=a.H;
if(!1){}else if(j.Y=="Application"){if(!1){}else if(n=="activeDocument"){R.data={Q:x.l.kI,uM:Q.J};a.a(R)}else if(n=="displayDialogs"){}else if(n=="foregroundColor"||n=="backgroundColor"){var l=Q.J,b=l[1]*255<<16|l[2]*255<<8|l[3]*255<<0;
R.data={Q:x.l.m6,_X:b3.Wz,BO:n=="foregroundColor"?0:1,J:b};a.a(R)}else console.log(j,n,Q)}else if(j.Y=="Document"){var D=j.J;
if(!1){}else if(n=="name"){m.I=N.ir;m.data={Q:f.BG,J:Q,aD5:!0,iB:D};q.Xx=!0}else if(n=="source")D.Sh=Q;
else if(n=="activeLayer"){D.X=[D.T.indexOf(Q.J)]}else if(n=="activeHistoryState"){m.I=N.jM;m.data={Q:"h_itemchange",index:Q.cb}}else console.log(j,n)}else if(j.Y=="Layer"){m.I=N.ir;
var c={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},_=j.J,p=q.T.indexOf(_);
if(!1){}else if(n=="visible"){if(_.VH()!=Q)m.data={Q:f.yy,W:p}}else if(n=="opacity"){m.data={Q:f.pc,W:p,L3:Math.round(255*Q/100)}}else if(n=="fillOpacity"){m.data={Q:f.cv,W:p,L3:Math.round(255*Q/100)}}else if(n=="blendMode"){m.data={Q:f.Iy,W:p,L3:af.Yh.indexOf(Q)}}else if(n=="name"){m.data={Q:f.jN,W:p,name:Q}}else if(c[n]!=null){m.data={Q:f.MI,W:p,L3:[[Q],[c[n]]]}}else if(n=="kind"){m.data={Q:f.MQ,W:p,xn:em.r4.wQ[Q]}}else if(n=="grouped"){m.data={Q:f.WN,W:p,L3:Q}}else console.log(j,n,Q)}else if(j.Y=="TextItem"){m.I=N.BT;
var _=j.J,X=_.add.TySh,g=K.u(X.Kt),F=X.C.O(),k=X.C.P8(),I=eR.yi(g),e=eR.JB(g,0,I.length-2),H=!1;if(!1){}else if(n=="contents"){eR.Zd(g,0,I.length-1);
eR.Yr(g,0,Q.replace(/\r/g,"\n"))}else if(n=="size"){e.RW.FontSize=(Q.J!=null?Q.J:Q)/k;H=!0}else if(n=="leading"){e.RW.Leading=(Q.J!=null?Q.J:Q)/k;
H=!0}else if(n=="tracking"){e.RW.Tracking=Q.J!=null?Q.J:Q;H=!0}else if(n=="baselineShift"){e.RW.BaselineShift=Q.J!=null?Q.J:Q;
H=!0}else if(n=="fauxBold"){e.RW.FauxBold=Q;H=!0}else if(n=="fauxItalic"){e.RW.FauxItalic=Q;H=!0}else if(n=="kind"){var A=eR.Pv(g);
if(A==1&&Q==1){var Z=new bG(g,a.H.wR,X.K7).w$[0],J=Z.Gk[0].end,s=Z.qq[J-1].end;eR.Zd(g,0,I.length-1);
eR.Yr(g,0,I.slice(0,s-1))}if(A==Q)eR.dY(g,1-Q)}else if(n=="useAutoLeading"){e.w$.AutoLeading=Q;H=!0}else if(n=="hyphenation"){e.w$.AutoHyphenate=Q;
H=!0}else if(n=="justification"){e.w$.Justification=Q;H=!0}else if(n=="font"){eR.em(e,Q);H=!0}else if(n=="color"){e.RW.FillColor.Values=Q.J.slice(0);
H=!0}else if(n=="width"||n=="height"){var E=eR.UC(g).slice(0),z=em.r4.att(Q);if(n=="width")E[2]=Math.round(E[0]+z/k);
else E[3]=Math.round(E[1]+z/k);eR.gG(g,E)}else if(n=="position"){F.Qr=Q[0];F.dE=Q[1]}else if(n=="horizontalScale"||n=="verticalScale"){var h=n[0].toUpperCase()+n.slice(1);
e.RW[h]=Q/100;H=!0}else if(n=="antiAliasMethod")eR.cz(X,Q);else console.log(j,n,Q);if(H)eR.A0(g,0,I.length-1,e);
m.data={Q:"newED",hv:q.T.indexOf(_),sn:g,C:F}}else if(j.Y=="Preferences"){if(!1){}else if(n=="rulerUnits"){var d=K.u(U.c8);
d.bp=Q;R.data={Q:x.l.m6,_X:b3.hl,L3:d};a.a(R)}else console.log(j,n,Q)}else if(j.Y=="SolidColor"){if(n=="rgb")j.J=Q.J;
else throw n}else if(j.Y=="RGBColor"){if(!1){}else if(n=="red")j.J[1]=Q/255;else if(n=="green")j.J[2]=Q/255;
else if(n=="blue")j.J[3]=Q/255;else if(n=="hexValue"){var Y=K.aap(Q.slice(Q.charAt(0)=="#"?1:0));j.J[1]=(Y>>>16&255)/255;
j.J[2]=(Y>>>8&255)/255;j.J[3]=(Y>>>0&255)/255}else console.log(j,n)}else if(j.Y=="ExportOptionsSaveForWeb"){if(n=="format")j.J.L5=Q;
else if(n=="PNG8"||n=="transparency"||n=="interlaced"){}else if(n=="quality")j.J.Xw=Q;else throw n}else if(j.Y=="PNGSaveOptions"||j.Y=="JPEGSaveOptions"){if(n=="quality")j.J.Xw=Math.round(100*Q/12)}else if(j.Y=="PDFSaveOptions"){if(n=="preset")j.J.aG7=Q}else if(j.Y=="PathPointInfo"){if(n=="kind")j.kind=Q;
else if(n=="anchor")j.V=Q;else if(n=="leftDirection")j.vK=Q;else if(n=="rightDirection")j.XH=Q;else throw n}else if(j.Y=="SubPathInfo"){if(n=="operation")j.nc=Q;
else if(n=="closed")j.sP=Q;else if(n=="entireSubPath"){j.J=[];for(var v=0;v<Q.length;v++){var C=Q[v];
j.J.push({w:C.kind==1?1:2,vK:new eE(C.vK[0],C.vK[1]),V:new eE(C.V[0],C.V[1]),XH:new eE(C.XH[0],C.XH[1])})}}else throw n}else if(j.Y=="$"){if(n=="localize"){}}else console.log(j,n,Q);
if(m.data!=null)a.a(m)};em.r4.atI=function(j,n,Q){if(n==null)return;var a=n.Kt.EngineDict.StyleRun.RunArray,B=n.Kt.ResourceDict.FontSet,m=[];
for(var v=0;v<a.length;v++){var R=a[v].StyleSheet.StyleSheetData,q=B[R.Font].Name,U=Q.H.wR.s1(q);if(U&&U.name.postScriptName!=q)U=null;
m.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:U!=null},fontPostScriptName:{t:"TEXT",v:q}}}}})}j.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:m},textKey:{t:"TEXT",v:eR.yi(n.Kt)}}}};
em.r4.zA=function(j,n,Q,a,B){var m=j.Y,R=null,q=new ar(x.E.A,!0),U=new ar(x.E.X2,!0),l=new ar(x.E.B,!0),b=a.Pj(),D=a.pB;
if(!1){}else if(m=="Application"){if(!1){}else if(n=="charIDToTypeID"){var c=Q[0].trim(),_={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return _[c]?_[c]:c}else if(n=="stringIDToTypeID"){var p=Q[0].trim(),_={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr",textStyle:"TxtS"},X=_[p];
return X==null?p:X}else if(n=="typeIDToStringID"){return Q[0].trim()}else if(n=="executeAction"){var g;
if(Q[1]){g=Q[1].J.v;g.classID=Q[0]}var F={setd:"set"},k=F[Q[0]];if(k==null)k=Q[0];var I=k8.pM[Q[0]];
if(I&&k8.JJ[I])k=k8.JJ[I];U.data={ep:k,Tu:g}}else if(n=="executeActionGet"){var e=Q[0].J.v,R={};if(e.length==1){var H=R.classID=e[0].v.classID;
if(H=="Lyr"){var A=f2.h2(b,e[0]),Z=b.T[A],J=Z.add.SoLd,s=Z.add.SoCo,E=Z.add.TySh;if(J)R.smartObjectMore={t:"Objc",v:{transform:J.nonAffineTransform}};
if(s)R.adjustment={t:"VlLs",v:[{t:"Objc",v:K.u(s)}]};if(E)em.r4.atI(R,E,a)}return{Y:"ActionDescriptor",J:{t:"null",v:R}}}if(e.length==2){var H=R.classID=e[1].v.classID,p=e[0].v.keyID;
if(H=="Dcmn"){var z=b;if(p=="numberOfLayers")R[p]={t:"long",v:z.T.length};else throw p}else if(H=="Lyr"){var A=f2.h2(b,e[1]),Z=b.T[A],E=Z.add.TySh;
if(p=="textKey")em.r4.atI(R,E,a);else throw p}else if(H=="ASet"){var h=a.H.nU,d=R.classID=e[0].v.classID;
if(d=="Actn"){R.NmbC={t:"long",v:f2.tl(h,e[0].v.val,e[1].v.val).C5.length}}else throw d}else throw H;
return{Y:"ActionDescriptor",J:{t:"null",v:R}}}}else if(n=="doAction"){l.data={Q:x.l.g2,eT:[Q[0],Q[1]]}}else if(n=="bringToFront"){}else if(n=="open"){l.data={Q:x.l.JH,_X:{url:Q[0]}};
if(Q[2]&&D.length!=0)l.data._X.SE=D.indexOf(b)}else if(n=="echoToOE"){l.data={Q:x.l.Ms,_X:Q[0]}}else if(n=="showWindow"){l.data={Q:x.l.Vg,Z8:Q[0]}}else if(n=="UnitValue"){return Q[0]+" "+Q[1]}else console.log(n)}else if(m=="LayerComp"){if(n=="apply"){q.I=N.NC;
q.data={Q:"setLC",cb:b.gh.list.v[j.J].v.compID.v}}else throw n}else if(m=="Document"){var b=j.J;if(!1){}else if(n=="crop"){var Y=Q[0];
U.data=N.MT.arS([Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1]])}else if(n=="trim"){var C=[];for(var v=0;v<4;v++)C.push(Q[v+1]!=null?Q[v+1]:!0);
U.data=N.MT.I3(Q[0]!=null?Q[0]:0,C)}else if(n=="suspendHistory"){var i=acorn.parse(Q[1]);em.eval(i,a,B)}else if(n=="save"){l.data={Q:x.l.Hq}}else if(n=="saveToOE"){l.data={Q:x.l.Hq,Zc:Q}}else if(n=="rotateCanvas"){U.data=N.IP.xc(!0,Q[0])}else if(n=="resizeImage"||n=="resizeCanvas"){var M=Q[0],W=Q[1];
if(M!=null){if(typeof M!="number"){M=b.q*parseFloat(M.slice(0,M.length-1))/100;W=b._*parseFloat(W.slice(0,W.length-1))/100}M=Math.round(M);
W=Math.round(W)}if(n=="resizeCanvas")U.data=N.MT.alL(M,W,Q[2]);else U.data=N.MT.ZK(M,W,Q[2],M!=null?1:null)}else if(n=="paste"){l.data={Q:x.l.La,a8t:Q.length!=0&&Q[0],NQ:!0};
a.a(l);l.data=null;return{Y:"Layer",J:b.T[b.X[0]],DK:b}}else if(n=="close"){l.data={Q:x.l.gD,Vo:b}}else if(n=="exportDocument"||n=="saveAs"){var $=B.__fs,P=n=="exportDocument"?Q[2].J:Q[1].J,O=Q[0].J.replace(":","").replace("~/","");
if(!O.toLowerCase().endsWith("."+P.L5))O+="."+P.L5;var G=fj.gT(b,P.L5,null,null,P.L5=="pdf"?null:[P.Xw],a.H);
$[O]=new Uint8Array(G)}else if(n=="flatten"){U.data={ep:"flattenImage"}}else if(n=="clearHistory"){q.I=N.jM;
q.data={Q:"h_clear",force:!0}}else console.log(j,n,Q)}else if(m=="Layer"){var t=j.J,A=b.T.indexOf(t);
if(!1){}else if(n=="copy"){em.r4.Gs(b,a,0);l.data={Q:x.l.ug,ts:Q[0],d0:A,NQ:!0};a.a(l);delete l.data;
em.r4.Gs(b,a,1)}else if(n=="clear"){em.r4.Gs(b,a,0);U.data={ep:"delete"};a.a(U);delete U.data;em.r4.Gs(b,a,1)}else if(n=="autoLevels"||n=="autoContrast"){if(n=="autoContrast")U.data={ep:"levels",Tu:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else U.data={ep:"levels",Tu:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(n=="duplicate"){if(Q.length==0){var y=b.X.slice(0);
q.data={Q:f.l5,W:A};q.I=N.ir;a.a(q);q.data=null;R={Y:"Layer",J:b.T[b.X[0]],DK:j.DK};b.X=y}else if(Q[0].Y=="Document"){q.data={Q:f.iO,T:b.Rl(A),Ru:b,Jn:Q[0].J};
q.I=N.ir}if(q.data){a.a(q);q.data=null;return{Y:"Layer",J:b.T[b.X[0]],DK:b}}}else if(n=="merge"||n=="remove"){q.data={Q:n=="merge"?f.Oq:f.mQ,W:A};
q.I=N.ir;var r=b.T.length-A;a.a(q);q.data=null;if(n!="remove")R={Y:"Layer",J:b.T[b.T.length-r],DK:j.DK}}else if(n=="move"){var u=b.T.indexOf(Q[0].J);
if(u==A+1&&Q[1]==4)return;if(u==A-1&&Q[1]==3)return;q.data={Q:f.ef,source:A,target:u,ZD:Q[1]!=3?.6:.3};
q.I=N.ir}else if(n=="rasterize"){q.I=N.ir;q.data={Q:f.GA,W:A};a.a(q);q.data=null;j.J=b.T[A]}else if(n=="rotate"){q.data={Q:"rot",ID:[2,5],J:-Q[0]*Math.PI/180,h1:Q[1],W:A};
q.I=N.CL}else if(n=="resize"){q.data={Q:"scl",ID:[2,4],J:new eE(Q[0]/100,Q[1]/100),h1:Q[2],W:A};q.I=N.CL}else if(n=="translate"){var S=em.r4.i9(Q);
q.data={Q:"trsl",W:A,t4:S[0],AJ:S[1]};q.I=N.nQ}else if(n=="link"){q.data={Q:f.YV,amg:[A,b.T.indexOf(Q[0].J)]};
q.I=N.ir}else if(n=="invert"){q.I=N.r_;q.data={Q:"start",R9:"nvrt"}}else if(n=="desaturate"){U.data={ep:"desaturate"}}else if(n.startsWith("apply")&&fo.CH[n.slice(5)]||n.startsWith("adjust")&&fo.CH[n.slice(6)]||n=="mixChannels"){var w=n.startsWith("apply"),S=em.r4.i9(Q),dj=n=="mixChannels"?"mixr":fo.CH[n.slice(w?5:6)];
if(dj=="Dspl"){for(var v=0;v<b.T.length;v++)if(b.T[v].getName()==S[4]){S[4]=b.T[v].add.SoLd.Idnt.v;break}}U.data={ep:w?fo.JJ[dj]:k8.JJ[dj]};
var g=fo.cL(dj),y=b.X;b.X=[A];if(g){if(dj=="mixr"){var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var v=0;
v<3;v++){var T=S[0][v],i6=v*5;o[i6+0]=T[0];o[i6+1]=T[1];o[i6+2]=T[2];o[i6+4]=T[3]}g=k8.Yn({J:o,At:S[1]})}else fo.My["g"+dj](g,S);
U.data.Tu=g}a.a(U);U.data=null;b.X=y}else if(n=="applyStyle"){var bH=a.H.eE,bu=null;for(var v=0;v<bH.length;
v++)if(bH[v].t_.Nm.v.split("/").pop()==Q[0])bu=bH[v];if(bu==null){alert("Style not found!");return}q.I=N.uX;
q.data={Q:"setstl",J:bu.IK,W:A};a.a(q);q.data={Q:"confirm",W:A}}else console.log(j,n,Q)}else if(m=="Documents"){if(n=="getByName"){for(var v=0;
v<D.length;v++)if(D[v].name==Q[0])return{Y:"Document",J:D[v]};return null}else if(n=="add"){if(Q.length==0)Q=[100,100,72,"New Project"];
var hH=Q[5];if(hH==null)hH=1;U.data=hs.uD(Q[0],Q[1],Q[2],Q[3],["Wht","Trns","BckC"][hH],!1);a.a(U);U.data=null;
return{Y:"Document",J:a.Pj()}}else throw"e"}else if(m=="Layers"){if(n=="getByName"){for(var v=0;v<j.J.length;
v++)if(j.J[v].J.getName()==Q[0]){R=j.J[v];break}if(R==null)B.__throw={message:"No layer with a name "+Q[0]}}else if(n=="add"){q.data={Q:j.awu=="layerSets"?f.cj:f.X0};
q.I=N.ir;a.a(q);q.data=null;R={Y:"Layer",J:b.T[b.X[0]],DK:j.DK}}else console.log(j,n,Q)}else if(j.Y=="Selection"){if(n=="select"){var dK=Q[0],d8=[];
for(var v=0;v<dK.length;v++)d8.push(dK[v][0],dK[v][1]);U.data=N.NJ.Kb(em.r4.i9(d8),Q[1])}else if(n=="clear"){U.data={ep:"delete"}}else if(n=="selectAll"){U.data=N.NJ.qy(!0)}else if(n=="invert"){U.data={ep:"inverse"}}else if(n=="copy"){l.data={Q:x.l.ug,ts:Q[0],NQ:!0}}else if(n=="deselect"){U.data=N.NJ.qy()}else if(n=="fill"){var gH=Q[0].J;
gH=K.Gp.Db({n:gH[1]*255,i:gH[2]*255,b:gH[3]*255});U.data=N.K6.UZ("Clr",Q[1],Q[2]==null?1:Q[2]/100,gH)}else if(n=="grow"||n=="similar"){var g={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(Q[0]!=null)g.Tlrn={t:"long",v:Q[0]};U.data={ep:n,Tu:g}}else if(n=="expand"||n=="contract"||n=="feather"){U.data=N.NJ.uy(n,Q[0],!0)}else if(n=="translate"){var g={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Q[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Q[1]}}}}};
U.data={ep:"move",Tu:g}}else if(n=="smooth"){U.data=N.NJ.uy("smoothness",Q[0],!1)}else if(n=="stroke"){var bu=JSON.parse(g8.sp[1]),kh=bu.Clr.v,gH=Q[0].J;
kh.Rd.v=gH[1]*255;kh.Grn.v=gH[2]*255;kh.Bl.v=gH[3]*255;bu.Sz.v.val=Q[1];bu.Styl.v.FStl=g8.stroke.types[Q[2]];
console.log(bu,Q);q.I=N.pP;q.data={Q:"stroke",ahD:bu}}else console.log(j,n,Q)}else if(j.Y=="Window"){if(n=="show"){l.data={Q:x.l.Vg,Z8:j.J}}else throw"e"}else if(j.Y=="ActionReference"){if(n=="putProperty"){j.J.v.push({t:"prop",v:{classID:Q[0],keyID:Q[1]}})}else if(n=="putClass"){j.J.v.push({t:"Clss",v:{classID:Q[0]}})}else if(n=="putEnumerated"){j.J.v.push({t:"Enmr",v:{classID:Q[0],typeID:Q[1],enum:Q[2]}})}else if(n=="putName"){j.J.v.push({t:"name",v:{classID:Q[0],val:Q[1]}})}else if(n=="putIndex"){j.J.v.push({t:"indx",v:{classID:Q[0],val:Q[1]}})}else console.log(n,Q)}else if(j.Y=="ActionDescriptor"||j.Y=="ActionList"){var ay=j.Y=="ActionList";
if(n.startsWith("put")){var dO=ay?Q:Q.slice(1),X=null;if(n=="putReference"){X=dO[0].J}else if(n=="putObject"){X=dO[1].J;
X.v.classID=dO[0]}else if(n=="putList"){X=dO[0].J}else if(n=="putDouble"){X={t:"doub",v:dO[0]}}else if(n=="putUnitDouble"){X={t:"UntF",v:{type:dO[0],val:dO[1]}}}else if(n=="putBoolean"){X={t:"bool",v:dO[0]}}else if(n=="putInteger"){X={t:"long",v:dO[0]}}else if(n=="putString"){X={t:"TEXT",v:dO[0]}}else if(n=="putClass"){X={t:"type",v:{classID:dO[0]}}}else if(n=="putEnumerated"){var fy=Q[0].split("+");
if(fy.length==2&&Q[1]==null){Q[0]=fy[0];Q[1]=dO[0]=fy[1]}var i6={};i6[dO[0]]=dO[1];X={t:"enum",v:i6}}else throw n;
if(ay)j.J.v.push(X);else j.J.v[Q[0]]=X}else if(n=="hasKey"){return j.J.v[Q[0]]!=null}else if(n=="getEnumerationValue"){if(Q[0]=="layerSection")R="layerSectionContent";
else console.log(Q)}else if(n=="getBoolean"){R=j.J.v[Q[0]].v}else if(n=="getString"){R=j.J.v[Q[0]].v}else if(n=="getObjectValue"){var R=j.J.v[Q[0]];
return{Y:"ActionDescriptor",J:K.u(R)}}else if(n=="getList"){var R=j.J.v[Q[0]];return{Y:"ActionList",J:R}}else if(n=="getInteger"||n=="getDouble"){return j.J.v[Q[0]].v}else console.log(n,Q)}else if(j.Y=="$"){if(n=="writeln"){console.log(Q[0])}else throw n}else if(j.Y=="UI"){if(n=="scroll"||n=="scrollTo"){var bg=Q[0],f4=Q[1],jb=b.e.yr;
if(n=="scrollTo"){bg=(-b.q/2+bg)*jb+b.e.k.x;f4=(-b._/2+f4)*jb+b.e.k.y}q.I=N.Kd;q.data={Q:"scroll",Sf:new eE(Math.round(bg),Math.round(f4))}}else{var jT;
if(n=="zoomIn"||n=="zoomOut"){jT={Q:"zoom",cC:n=="zoomIn"}}else if(n=="fitTheArea"){jT={Q:"adapt",J:"fitscr"}}else if(n=="pixelToPixel"){jT={Q:"adapt",J:"pixel"}}q.I=N.yx;
q.data=jT;if(n=="switchFullscreen"){var jy=a.H.aw,cl=document.fullscreenElement!=null==(jy==2);l.data={Q:x.l.dt,J:jy==0?2:0,XW:cl}}}}else if(j.Y=="ColorSamplers"){if(n=="removeAll")b.xS=[];
else if(n=="add"){var hu={x:Q[0][0],y:Q[0][1]};b.xS.push(hu);var R={Y:"ColorSampler",J:hu}}}else if(j.Y=="ColorSampler"){if(n=="move"){var aA=b.xS.indexOf(j.J);
hu=b.xS[aA];hu.x=Q[0][0];hu.y=Q[0][1]}else if(n=="remove"){var aA=b.xS.indexOf(j.J);b.xS.splice(aA,1)}}else if(j.Y=="PathItem"){if(n=="select"){b.VF=[b.AZ.indexOf(j.J)];
b.Xx=!0}else if(n=="remove"){q.I=N.rB;q.data={Q:"pathedit",BO:"del"}}else console.log(n)}else if(j.Y=="PathItems"){if(n=="add"){var ko=Q[1],ec=hs.Nt(Q[0]),Y=ec.add.vmsk.z;
for(var v=0;v<ko.length;v++){var kK=ko[v],cM=kK.J.length;Y.push({w:kK.sP?0:3,length:cM,H_:kK.nc});for(var gG=0;
gG<cM;gG++){if(!kK.sP)kK.J[gG].w+=3;Y.push(kK.J[gG])}}q.I=N.rB;q.data={Q:"pathedit",BO:"new",TI:ec};
a.a(q);return{Y:"PathItem",J:ec}}else throw n}else if(j.Y=="Folder"){if(n=="selectDialog")R="img";else throw n}else if(j.Y=="File"){if(n=="openDialog")alert("A website can not show the Open dialog from a script");
else throw n}else console.log(j,n,Q);if(q.data)a.a(q);if(U.data)a.a(U);if(l.data)a.a(l);return R};em.r4.Gs=function(j,n,Q){var a=new ar(x.E.A,!0);
a.I=N.D4;var B=new ar(x.E.X2,!0);if(Q==0){em.r4.anO=j.K;B.data=N.NJ.qy(!0)}else{var m=em.r4.anO;if(m)a.data={Q:"setsel",ID:"Restore Selection",K:{s:m.s.O(),G:m.G.slice(0)}};
else B.data=N.NJ.qy()}n.a(a.data?a:B)};em.r4.anO=null;em.r4.N7={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3}};
em.r4.N7.ColorBlendMode=em.r4.N7.BlendMode;em.r4.wQ="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function bZ(){}bZ.$i={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null,"xmp:Rating"],"xmp:Label":["",null,"xmp:Label"],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
bZ.Vu={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
bZ.a3_=function(j,n){if(n==null)n={};var Q=bZ.Vu,a=[],B=[],m="";for(var v=0;v<j.length;v++){var R=j[v],q=Q[R[0]+""];
if(q&&n[q]==null)n[q]=R[1];else if(R[0]==12)B.push(R[1]);else if(R[0]==25)a.push(R[1]);else if(R[0]==55)m=R[1];
else if(R[0]==60)m+=";"+R[1]}if(m!=""&&n["exif:DateTimeOriginal"]==null)n["exif:DateTimeOriginal"]=m;
if(B.length!=0&&n["Iptc4xmpCore:SubjectCode"]==null)n["Iptc4xmpCore:SubjectCode"]=B.join(";");if(a.length!=0&&n["dc:Keywords"]==null)n["dc:Keywords"]=a.join(";");
return n};bZ.a59=function(j){var n=bZ.Vu,Q=[];for(var a in n)if(j[n[a]])Q.push([parseInt(a),j[n[a]]]);
if(j["Iptc4xmpCore:SubjectCode"]){var B=j["Iptc4xmpCore:SubjectCode"].split(";");for(var v=0;v<B.length;
v++)Q.push([12,B[v].trim()])}if(j["dc:Keywords"]){var B=j["dc:Keywords"].split(";");for(var v=0;v<B.length;
v++)Q.push([25,B[v].trim()])}Q.sort(function(m,R){return m[0]-R[0]});return Q};bZ.EP=function(j,n){if(n==null)n={};
var Q=new DOMParser,a=Q.parseFromString(j,"image/svg+xml"),B=a.getElementsByTagName("rdf:Description")[0];
if(B==null)return n;var m=bZ.$i;for(var R in m){var q=m[R][2];if(q==null)continue;var U=[];if(q.startsWith("xmp:")){var l=B.getAttribute(q);
if(l==null)continue;U.push(l)}else{var b=B.getElementsByTagName(q)[0];if(b==null)continue;var D=b.getElementsByTagName("rdf:li");
for(var v=0;v<D.length;v++)U.push(D[v].textContent)}n[R]=U.join("; ")}return n};bZ.Ap=function(j){var n=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],Q=bZ.$i,a="";
for(var B in Q){var m=j[B],R=Q[B][2];if(m==null||R==null)continue;if(R.startsWith("xmp:")){a+=" "+R+"=\""+m+"\""}else{var q="Seq",U="";
if(R=="dc:title"||R=="dc:description"){q="Alt";U=" xml:lang=\"x-default\""}if(R=="dc:subject")q="Bag";
n.push("\t<"+R+"><rdf:"+q+">");var l=R=="dc:subject"?m.split(";").join(",").split(","):[m];for(var v=0;
v<l.length;v++)n.push("\t\t<rdf:li"+U+">"+l[v].trim()+"</rdf:li>");n.push("\t</rdf:"+q+"></"+R+">")}}n[3]+=a+">";
n.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return n.join("\n")};
bZ.asl=function(j){var n=[];for(var v=0;v<j.length;v++)n[v]=j[v][1]==0?0:j[v][0]/j[v][1];return n};bZ.awY=function(j){var n=[];
for(var v=0;v<j.length;v++){var Q=j[v],a=1;if(Q!=Math.round(Q)){a=1e3;Q=Math.round(Q*a)}n[v]=[Q,a]}return n};
bZ.Eq=function(j,n){var Q=bZ.$i;if(n==null)n={};for(var a in Q){var B=Q[a][1],m="t"+B;if(B!=null&&j[m]!=null){var R=j[m];
if(B==0)R=R.join(".");else if(B==2||B==4){var q=j["t"+(B-1)];if(q==null)q=[B==2?"N":"E"];R=bZ.asl(R).join(",")+q[0]}else if(B==42034)R=bZ.asl(R).join(" ");
else if(B==270||B==315){var U=R[0],l=new Uint8Array(U.length);L.ey(l,0,U);R=L.Cl(l)}else R=R[0];n[a]=R}}if(j.exifIFD)bZ.Eq(j.exifIFD,n);
if(j.gpsiIFD)bZ.Eq(j.gpsiIFD,n);return n};bZ.UU=function(j,n,Q){var a=bZ.$i,m=0,q=0;if(n==null)n={};
var B={},R={};for(var U in a){if(j[U]==null||a[U][1]==null)continue;var l=a[U][1],b="t"+l,D=n;if(U.startsWith("exif:")){D=B;
m++;if(U.startsWith("exif:GPS")){D=R;q++}}var c=j[U];if(l==0)c=new Uint8Array(c.split(".").map(parseFloat));
else if(l==2||l==4){var _=c.length;D["t"+(l-1)]=[c.slice(c.length-1)];c=bZ.awY(c.split(",").map(parseFloat))}else if(l==42034)c=bZ.awY(c.split(" ").map(parseFloat));
else if(l==270||l==315){var p=L.XS(c);c=[L.AP(p,0,p.length)]}else c=[c];D[b]=c}if(m!=0){n.exifIFD=B;
n.t34665=[0]}if(q!=0){n.gpsiIFD=R;n.t34853=[0]}var X=new Date,g=[X.getFullYear(),X.getMonth()+1,X.getDate(),X.getHours(),X.getMinutes(),X.getSeconds()];
for(var v=0;v<6;v++)g[v]=(g[v]+"").padStart(2,"0");n.t305=["Photopea Editor (www.photopea.com)"];if(Q!=!0)n.t306=[g[0]+":"+g[1]+":"+g[2]+" "+g[3]+":"+g[4]+":"+g[5]];
return n};function js(){}js.by=function(j){var n={a9R:",",ec:"\r\n",Vq:"\""},Q=[[""]],a,B,m,R,q;for(a=B=m=R=0;
m<j.length;m++){switch(q=j.charAt(m)){case n.Vq:if(R&&j.charAt(m+1)==n.Vq){Q[a][B]+=n.Vq;++m}else{R^=1}break;
case n.a9R:if(!R){Q[a][++B]=""}else{Q[a][B]+=q}break;case n.ec.charAt(0):if(!R&&(!n.ec.charAt(1)||n.ec.charAt(1)&&n.ec.charAt(1)==j.charAt(m+1))){Q[++a]=[""];
Q[a][B=0]="";if(n.ec.charAt(1)){++m}}else{Q[a][B]+=q}break;default:Q[a][B]+=q}}if(Q[Q.length-1].length<Q[0].length)Q.pop();
return Q};var V={};V.ajR=0;V.$d=function(){V.ajR++;return V.ajR};V.aqX="uint8";V.di=function(j){j.Z.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
j.Z.style.opacity="1";j.Z.style.transform="scale(1)"};V.XX=function(j,n){j.Z.style.opacity="0";j.Z.style.transform="scale(0.95)";
if(n)setTimeout(function(){n.removeChild(j.Z)},100)};V.aqY=function(){var j=V.hq();if(j=="")return 0;
if(j!=V.OD("_TXZRPB;d7@;")&&j!=bw.OD("eQLZRRM?8a4=8")){var n=V.EX[bw.Us][bw.FS],Q=n.indexOf(String.fromCharCode(35)),a;
if(Q==-1)return 0;try{a=JSON.parse(V.EX[bw.aw9](n.slice(Q+1)))}catch(bY){return 0}var B=a[V.OD("bQ[ODL<E<M")];
if(B==null||B.length<<2!=64)return 0;var m=bw.vl(),R=parseInt(B.slice(3*4).split("").reverse().join(""),16)<<16;
if(R<m||B!=bw.aG2(R,j))return 0;return 2}return 1};V.hq=function(){var j=V.EX[V.ZS("}$z{2*35")][V.OD("W[\\ZQAJ?")],n=String.fromCharCode(46),Q=j.split(n);
if(Q.length<2)return"";var a=Q.pop();a=Q.pop()+n+a;return a};V.qZ=function(j){var n=V.hq();if((n==bw.OD("_TXZRPB;d7@;")||n==bw.OD("~yy"))&&V.EX==V.EX[bw.ahr])return!0;
var Q=V.EX[bw.Us][bw.FS],a=Q.indexOf("#");if(a!=-1&&a!=Q.length-1&&(Q[a+1]=="%"||Q[a+1]=="{")){var B=Q.substring(a+1,Q.length);
B=JSON.parse(V.EX[bw.aw9](B));var m=B[bw.OD("P\\RY")];if(m)if(j==0&&m[bw.OD("aYKM")]||j==1&&m[bw.OD("SQcMR")])return!0}return!1};
V.aBi=function(){if(V.EX[bw.a5c][bw.aaI]){var j=new V.EX[bw.ii];j[bw.K_](bw.aI2,V.OD("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+V.hq());
j[bw.x2]()}};V.gX=function(){if(window.top!=window.self)return!1;var j=navigator.userAgent.toLowerCase();
if(j.indexOf("safari")!=-1&&j.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};V.Nc=function(j){this.KF=j;
this.OO=V.d("img");this.Hk=V.d("canvas");this.LG=null;this.lL="";this.sL=null;this.m0=new eE(0,0);this.aE=!0;
V.NF(this.KF,this.nS.bind(this))};V.Nc.prototype.pX=function(j,n){this.LG=j;if(n)this.lL=n;this.nS()};
V.Nc.prototype.Q7=function(j){this.aE=j;this.nS()};V.Nc.prototype.nS=function(j){if(j)this.m0=V.MR(j,this.KF);
var n=this.aE?this.LG:"auto",Q=typeof n=="string";if(!Q){var a=V.lS(),B=this.m0,m=n.SK.q,R=n.SK._,q=typeof n._x=="string",U=q?this.OO:this.Hk;
if(q)U.setAttribute("src",n._x);else{U.width=m;U.height=R;var l=U.getContext("2d"),b=new ImageData(new Uint8ClampedArray(n._x.buffer),m,R);
l.putImageData(b,0,0)}V.v(U," position:absolute; pointer-events:none;user-select:none;"+"top:"+(B.y-n.HC.y/a)+"px; left:"+(B.x-n.HC.x/a)+"px; width:"+m/a+"px; height:"+R/a+"px");
var D=this.sL;if(D==null||D!=U){if(D)this.KF.removeChild(D);this.KF.appendChild(U);this.sL=U}}else if(this.sL){this.KF.removeChild(this.sL);
this.sL=null}V.v(this.KF,"cursor:"+(Q?n:"none")+"; "+this.lL)};V.dh=function(j){return j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
V.b2=function(j,n){j.LY(i4.get([12,41]).charAt(0)+":");n.LY(i4.get([12,42]).charAt(0)+":")};V.d=function(j,n){var Q=document.createElement(j);
if(n!=null)Q.className=n;return Q};V.cV=function(j){while(j.firstChild)j.removeChild(j.firstChild)};
V.BZ=function(j,n){var Q=j.className;Q=Q.split(" ");if(Q.indexOf(n)==-1)Q.push(n);j.className=Q.join(" ")};
V.yZ=function(j,n){var Q=j.className;if(Q=="")return;Q=Q.split(" ");if(Q.indexOf(n)!=-1)Q.splice(Q.indexOf(n),1);
j.className=Q.join(" ")};V.gU=function(j){while(!0){if(j==document)return!0;if(j==null)return!1;j=j.parentNode}};
V.pd=function(j){j.appendChild(V.d("br"))};V.KP=function(j){j.appendChild(V.d("hr"))};V.v=function(dv,j){dv.setAttribute("style",j)};
V.Ud=function(j,n,Q){var a=new ef([1,12,1],Q==null?!0:Q,null,!0);if(j)a.P("click",j.Rp,j);if(n)n.appendChild(a.Z);
return a};V.EX=document;V.oh=function(j){var n=0;for(var v=0;v<j;v++)n+=Math.random();return n/j<Math.PI/4};
V.OD=function(j){var n="";if(!V.oh(28))j+="-3";for(var v=0;v<j.length;v++){var Q=j.charCodeAt(v);if(Q<32||126<Q)throw"e";
n+=String.fromCharCode(32+(Q-32+17+3*v)%95)}return n};V.ZS=function(j){var n="";if(!V.oh(28))j+="-1";
for(var v=0;v<j.length;v++){var Q=j.charCodeAt(v);Q-=32;Q+=95e4;Q-=17+3*v;Q=Q%95;n+=String.fromCharCode(32+Q)}return n};
V.M9=function(j){var n=Math.random();V.aqX="uint"+(3+n);return new j};(function(){var j=window.PointerEvent,n=j?"pointer":"mouse",Q=n+"down",a=n+"move",B=n+"up",m=!1;
V.ON=function(R,q){R.addEventListener(Q,q,m);if(!j)R.addEventListener("touchstart",q,m)};V.NF=function(R,q){R.addEventListener(a,q,m);
if(!j)R.addEventListener("touchmove",q,m)};V.GL=function(R,q){R.addEventListener(B,q,m);if(!j)R.addEventListener("touchend",q,m)};
V.aHE=function(R,q){R.removeEventListener(Q,q,m);if(!j)R.removeEventListener("touchstart",q,m)};V.na=function(R,q){R.removeEventListener(a,q,m);
if(!j)R.removeEventListener("touchmove",q,m)};V.rq=function(R,q){R.removeEventListener(B,q,m);if(!j)R.removeEventListener("touchend",q,m)}}());
V.as=function(j){j.addEventListener("touchstart",V.bi,!1);j.addEventListener("touchmove",V.bi,!1);j.addEventListener("touchend",V.bi,!1);
j.addEventListener("gesturestart",V.bi,!1);j.addEventListener("gesturechange",V.bi,!1);j.addEventListener("gestureend",V.bi,!1)};
V.a2w=function(j){var n=j.sourceCapabilities;if(n)return n.firesTouchEvents;return!1};V.w9=function(j,n,Q,a){var B=V.lS();
j.width=Math.floor(n*B);j.height=Math.floor(Q*B);if(a)a.scale(B,B);V.z6(j)};V.z6=function(j){var n=V.lS();
j.style.width=j.width/n+"px";j.style.height=j.height/n+"px"};V.GV=function(j,n,Q){V.v(j,"width:"+n/V.lS()+"px; height:"+Q/V.lS()+"px")};
V.MR=function(j,n){if(n==null)n=j.currentTarget;var Q=n.getBoundingClientRect();if(j.touches)j=j.touches.item(0);
return{x:j.clientX-Q.left,y:j.clientY-Q.top}};V.lS=function(){return window.devicePixelRatio||1};V.Sp=function(j){j.addEventListener("keydown",V.afZ,!1)};
V.afZ=function(j){j.stopPropagation()};V.bi=function(j){j.preventDefault()};V.Ju=function(j){j.stopPropagation();
j.preventDefault()};V.Mn=function(j,n,Q){Q=Q?Q:"";if(PIMG["__"+j]==null)Q+=" gsicon";return"<img src=\""+PIMG[j]+"\" alt=\""+(n?n:"")+"\" class=\""+Q+"\" />"};
V.DJ=function(j,n,Q,a){var B=j.dataTransfer.getData("text/uri-list");if(B!=null&&B.startsWith("http")){var m=new ar(x.E.B,!0);
m.data={Q:x.l.JH,_X:{url:B,e$:!0,SE:Q,gZ:a}};n.a(m)}if(j.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var R=[],q=j.dataTransfer.items.length,U=j.dataTransfer.files;
for(var l of j.dataTransfer.items)l.getAsFileSystemHandle().then(function(b){R.push(b);if(R.length==q){var m=new ar(x.E.B,!0);
m.data={Q:x.l.Tj,data:U,SE:Q,gZ:a,amh:R};n.a(m)}})}else{var m=new ar(x.E.B,!0);m.data={Q:x.l.Tj,data:j.dataTransfer.files,SE:Q,gZ:a};
n.a(m)}};if(V.oh(27))V.EX=window;else V.EX=V.aEL;V.EX._cwY=V.EX[V.ZS("t$&!'31")];var cj={};cj.aBp=function(v){var j=cj.nn[v],n=document.documentElement.style,a=1;
n.setProperty("--base","#"+K.EA(j["--base"]));n.setProperty("--bg-panel","#"+K.EA(j["--bg-panel"]));
n.setProperty("--bg-canvas","#"+K.EA(j["--bg-canvas"]));n.setProperty("--bg-input","#"+K.EA(j["--bg-input"]));
n.setProperty("--bg-bbtn","#"+K.EA(j["--bg-bbtn"]));n.setProperty("--bg-bbtnOver","#"+K.EA(j["--bg-bbtnOver"]));
n.setProperty("--brdr","#"+K.EA(j["--brdr"]));n.setProperty("--text-color","#"+K.EA(j["--text-color"]));
n.setProperty("--brdrLgt","rgba(255,255,255,"+j["--brdrLgt"]+")");n.setProperty("--brdrDrk","rgba(  0,  0,  0,"+j["--brdrDrk"]+")");
n.setProperty("--alphaDark",""+j["--alphaDark"]);n.setProperty("--gs-invert",""+j["--gs-invert"]);n.setProperty("--accent","#"+K.EA(j["--accent"]));
var Q=j["--sh-clr"];n.setProperty("--sh-clr","rgba("+(Q>>16)+","+(Q>>8&255)+","+(Q&255)+", 0.45)");n.setProperty("--absc",""+j["--absc"]);
n.setProperty("--abs255",""+j["--abs255"]);if(1<V.lS()&&V.lS()<1.5)a=1/V.lS();n.setProperty("--img20",20*a+"px");
n.setProperty("--img18",18*a+"px");n.setProperty("--img15",15*a+"px");if(PIMG!=null){var B="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var v=0;v<B.length;v++){var m=B[v],R=m.split("/").pop(),q=PIMG["__"+m]==null?j["--gs-invert"]:"0";
n.setProperty("--icon_"+R,"url("+PIMG[m]+")");n.setProperty("--icon_"+R+"_invrt",q)}}var U=document.querySelector("meta[name=theme-color]");
if(U)U.setAttribute("content","#"+K.EA(j["--base"]))};(function(){var j=3441398,n=3441398;cj.nn=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":n},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":j},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":j},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":j},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":j},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":j},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":n}]}());
function aO(){this.LW={};this.r5={}}aO.prototype.aAZ=function(j){var n=this.LW[j];if(n==null)return!1;
return n.length>0};aO.prototype.addEventListener=function(j,n){this.P(j,n,null)};aO.prototype.P=function(j,n,Q){if(this.LW[j]==null){this.LW[j]=[];
this.r5[j]=[]}this.LW[j].push(n);this.r5[j].push(Q)};aO.prototype.removeEventListener=function(j,n){var Q=this.LW[j];
if(Q==null)return;var a=Q.indexOf(n);if(a<0)return;var B=this.r5[j];Q.splice(a,1);B.splice(a,1)};aO.prototype.a=function(j){j.currentTarget=this;
if(j.target==null)j.target=this;var n=this.LW[j.w];if(n==null)return;var Q=this.r5[j.w];for(var v=0;
v<n.length;v++){if(Q[v]==null)n[v](j);else n[v].call(Q[v],j)}};var ar=function(j,n){if(!n)n=!1;this.w=j;
this.target=null;this.currentTarget=null;this.bubbles=n;this.I=null;this.in=!1},x={E:{A:"0",B:"1",X2:"1.5",f:"2",_g:"3",a0q:"4"},l:{po:"10",Ix:"11",z0:"12",HR:"13",w4:"14",ag1:"14.1",JH:"15",ws:"16",CQ:"17",UO:"18",Hq:"19",a2r:"19.5",ar8:"20",aCC:"20.1",ajy:"20.5",aCz:"20.6",OB:"21",ug:"22",La:"23",uv:"24",Vg:"25",Vi:"26",kI:"27",eX:"28",ar3:"28.5",aok:"29",Tj:"30",pY:"31",Zt:"32",yo:"33",nz:"34",m6:"35",au8:"35.5",hy:"37",aaS:"38",L_:"39",MX:"40",X4:"41",Ms:"41.5",eP:"42",T8:"43",ajz:"43.5",gD:"44",a2J:"45",M2:"46",nT:"47",dC:"48",g2:"49",aeR:"50",dt:"51"}};
function eD(){aO.call(this);this.parent=null;this.Z=null;this.Uw=0;this.WC=0;this.aFW=!1}eD.prototype=new aO;
eD.prototype.awe=function(j){var dv=this;while(dv!=null){if(dv==j)return!0;dv=dv.parent}return!1};eD.prototype.Wy=function(){var j=this.Z;
return j.offsetWidth+j.clientLeft};eD.prototype.a7k=function(){var j=this.Z;return j.offsetHeight+j.clientTop};
eD.prototype.update=function(j){};eD.prototype.a=function(j){aO.prototype.a.call(this,j);if(j.bubbles&&this.parent!=null)this.parent.a(j)};
eD.prototype.S=function(){};eD.prototype.rs=function(j,n){};eD.prototype.QE=function(j){V.BZ(this.Z,"disabled")};
eD.prototype.I6=function(j){V.yZ(this.Z,"disabled")};eD.prototype.Q7=function(j){if(j)this.I6();else this.QE()};
eD.prototype.B3=function(){this.aFW=!0};eD.prototype.uc=function(){var j=this.$I,n=this.aFW,Q=this.iJ;
if(j){j=i4.get(this.$I);if(!n)j+=":";Q.textContent=j;if(n){Q.style.display="block";Q.style.lineHeight="1.6em";
Q.style.marginLeft="3px";V.yZ(Q,"flabel")}}if(n){this.Xh.style.fontSize="1.15em"}};function bQ(j){eD.call(this);
this.zb=[];this.Q8=!1;this.aiI=0;this.cS={x:0,y:0,vm:!1};this.RI=j;this.aGP=this.Vk.bind(this);this.dK=this.a5.bind(this);
this.js=this.mz.bind(this);V.ON(j,this.aGP);V.NF(j,this.dK);j.addEventListener("wheel",this.hL.bind(this),!1);
j.addEventListener("contextmenu",this.aqb.bind(this),!1);var n=this.ay1.bind(this);j.addEventListener("gesturestart",n,!1);
j.addEventListener("gesturechange",n,!1);j.addEventListener("gestureend",n,!1);V.as(j)}bQ.prototype=new eD;
bQ.prototype.ay1=function(j){if(j.type=="gesturestart")this.ZU=j.scale;if(j.type=="gesturechange"){var n=new ar("mouse",!0);
n.action="scroll";n.p0=!0;this.YN(j,n);var Q=(this.ZU-j.scale)/this.ZU;n.Sf=new eE(0,100*Q);this.ZU=j.scale;
this.a(n)}};bQ.prototype.ij=function(j){var n=-1,Q=this.zb;for(var v=0;v<Q.length;v++)if(Q[v].pointerId==j.pointerId)n=v;
return n};bQ.ZG=function(j){var n=j.pointerType,Q=window.__kb;return n=="touch"&&Q.r(i8.aqJ)};bQ.a92=function(j){var n=j.button!=null&&j.button!=0?j.which==2?"i":"r":"";
if(i8.z9()&&j.ctrlKey)n="r";return n};bQ.prototype.Vk=function(j){if(bQ.ZG(j))return;var n=this.ij(j);
if(n!=-1)this.zb[n]=j;else this.zb.push(j);if(this.zb.length==1){this.aiI=Date.now();var Q=bQ.a92(j)+"down",a=new ar("mouse",!0);
a.action=Q;this.YN(j,a);this.a(a);V.na(this.RI,this.dK);V.NF(window,this.dK);V.GL(window,this.js)}if(this.zb.length==2){if(Date.now()-this.aiI<100){var a=new ar("mouse",!0);
a.action="cancellast";this.YN(j,a);this.a(a)}this.Q8=!0}if(this.zb.length==2)this.apj("multidown")};
bQ.prototype.a5=function(j){if(bQ.ZG(j))return;var n=this.ij(j);if(n!=-1)this.zb[n]=j;if(this.zb.length>1){this.apj("multimove")}if(this.Q8)return;
if(this.zb.length==1&&n==-1)return;var Q=new ar("mouse",!0);Q.action="move";this.YN(j,Q);this.a(Q)};
bQ.prototype.mz=function(j){if(bQ.ZG(j))return;var n=this.zb;n=this.zb=[];if(n.length==0){var Q=bQ.a92(j)+"up",a=new ar("mouse",!0);
a.action=Q;this.YN(j,a);this.a(a);V.na(window,this.dK);V.rq(window,this.js);V.NF(this.RI,this.dK);this.Q8=!1}};
bQ.prototype.hL=function(j){j.preventDefault();if(j.deltaX==0&&j.deltaY==0)return;var n=new ar("mouse",!0);
n.action="scroll";n.p0=j.ctrlKey;this.YN(j,n);this.a(n)};bQ.prototype.aqb=function(j){V.Ju(j);if(V.a2w(j)){var n=new ar("mouse",!0);
this.YN(j,n);n.action="rdown";this.a(n);n.action="rup";this.a(n)}};bQ.prototype.apj=function(j){var n=this.zb,Q=V.lS(),a=[];
for(var v=0;v<n.length;v++){var B=a[v]=V.MR(n[v],this.RI);B.x*=Q;B.y*=Q}var m=new ar("mouse",!0);m.action=j;
m.LN=a;if(n.length==2)this.a(m)};bQ.prototype.YN=function(j,n,Q){var a=this.zb.length!=0;if(n.action!="up"){var B=V.lS();
if(Q==null)Q=V.MR(j,this.RI);this.cS=n.kC={x:B*Q.x,y:B*Q.y,vm:a};var m=V.MR(j,document.body);n.kC.vr=m.x;
n.kC.Bk=m.y}else this.cS=n.kC={x:this.cS.x,y:this.cS.y,vm:a};n.kC.fw=.5;if(j.pressure!=null)n.kC.fw=j.pressure;
if(j.pointerType=="mouse")n.kC.fw*=2;n.kC.aFQ=j.pointerType;if(j.deltaX!=null){var R=j.deltaMode==0?1:40;
n.Sf=new eE(j.deltaX*R,j.deltaY*R)}};function ig(j,n,Q){eD.call(this);this.zr=null;this.aHQ=this.mz.bind(this);
this.akZ=this.SX.bind(this);this.aG_=this.a04.bind(this);this.ajB=this.aEx.bind(this);this.du=[];this.n2=[];
this.Lq=[];this.agx=[];this.agD=Q;this.Z=V.d("div","contextpanel "+(Q?"cp_dark":"cp_light"));this.Z.addEventListener("contextmenu",V.bi,!1);
this.si=null;this.T5=0;this.rW=j;this.EN=n;this.Vr=[];for(var v=0;v<j.length;v++){var a=V.d("div","enab");
this.n2.push(a);this.Z.appendChild(a);var B=j[v].l8;if(B){if(B.startsWith("#")){var m=V.d("span");V.v(m,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+B);
a.appendChild(m)}else a.innerHTML=V.Mn(j[v].l8,null,"thumb")}else{var R=V.d("span","check");this.agx.push(R);
a.appendChild(R)}var q=V.d("span","label");q.textContent=i4.get(j[v].name);a.appendChild(q);this.Lq.push(q);
if(j[v].Kl)this.Z.appendChild(V.d("hr"));if(j[v].Ha||j[v].sub){var U=a.Pl=V.d("span","right");a.appendChild(U);
if(j[v].Ha)U.textContent=i8.da(j[v].Ha);else if(j[v].sub)U.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}a.addEventListener(Q?"mouseup":"click",this.aHQ,!1);
a.addEventListener("mouseover",this.akZ,!0);a.addEventListener("mouseout",this.aG_,!0);if(j[v].sub){var l=new ig(j[v].sub,n?n[v].sub:null);
l.parent=this;this.Vr.push(l);l.P("select",this.ad8,this)}else this.Vr.push(null)}}ig.prototype=new eD;
ig.prototype.a9m=function(j){V.cV(this.Z);for(var v=0;v<j.length;v++)if(j[v]!=0&&j[v]!=null){this.Z.appendChild(this.n2[v]);
if(j[v]!=1&&this.Vr[v])this.Vr[v].a9m(j[v])}};ig.prototype.S=function(){var j=this.rW;for(var v=0;v<j.length;
v++){if(j[v].title)this.n2[v].title=i4.get(j[v].title);this.Lq[v].textContent=i4.get(j[v].name)+(j[v].lM?"...":"")}for(var v=0;
v<this.Vr.length;v++)if(this.Vr[v])this.Vr[v].S()};ig.prototype.update=function(j,n){if(!this.agD){this.Z.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var Q=this.rW,a=window.innerWidth<450?"none":"inline";
for(var v=0;v<Q.length;v++){var B=this.n2[v];if(B.Pl&&!this.Vr[v])B.Pl.style.display=a;if(Q[v].m){var m=Q[v].m(j,n,v);
if(m.m!=null)this.n2[v].className=m.m?"enab":"disab";if(m.Zy!=null)this.Lq[v].textContent=m.Zy;if(m.cp!=null)this.agx[v].innerHTML=m.cp?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(m.h!=null)this.EN[v]=m.h}}for(var v=0;v<this.Vr.length;v++)if(this.Vr[v])this.Vr[v].update(j,n)};
ig.prototype.IF=function(){return this.du};ig.prototype.mz=function(j){if(j.button!=0)return;var v=this.n2.indexOf(j.currentTarget);
if(this.Vr[v]){this.T5=v;this.aEx()}else{if(this.EN){var n=this.EN[v],Q=new ar(n.o,!0);Q.I=n.I;Q.data=n.h;
this.a(Q)}this.zr=null;this.du=[v];this.a(new ar("select",!1));var Q=new ar(x.E.B,!0);Q.data={Q:x.l.HR};
this.a(Q)}};ig.prototype.SX=function(j){var v=this.n2.indexOf(j.currentTarget);this.Qm();this.T5=v;this.si=setTimeout(this.ajB,300)};
ig.prototype.a04=function(j){this.Qm()};ig.prototype.Qm=function(){if(this.si){clearTimeout(this.si);
this.si=null}};ig.prototype.aEx=function(){this.Qm();var v=this.T5;if(this.zr)this.zr.a6V();if(this.Vr[v]==null)return;
this.zr=this.Vr[v];var j=this.n2[v].getBoundingClientRect(),n=new ar(x.E.B,!0);n.data={Q:x.l.Ix,cB:this.Vr[v],x:j.left+j.width+2,y:j.top};
this.a(n)};ig.prototype.a6V=function(){for(var v=0;v<this.Vr.length;v++)if(this.Vr[v])this.Vr[v].a6V();
var j=new ar(x.E.B,!0);j.data={Q:x.l.z0,cB:this};this.a(j)};ig.prototype.ad8=function(j){var v=this.Vr.indexOf(j.target);
this.du=[v].concat(j.target.IF());this.a(new ar("select",!1))};function k9(j,n,Q){eD.call(this);this.Z=V.d("span","fitem cbox");
if(n==null)n=!0;if(Q==null)Q="flabel";var a="cb"+V.$d();this.Xh=V.d("input","");this.Xh.setAttribute("type","checkbox");
this.Xh.setAttribute("id",a);this.Z.appendChild(this.Xh);this.$I=j;this.IW=V.d("label",Q);if(n)this.IW.setAttribute("for",a);
this.Z.appendChild(this.IW);this.S();this.Xh.addEventListener("change",this.BN.bind(this),!1)}k9.prototype=new eD;
k9.prototype.aCA=function(){return this.$I};k9.prototype.LY=function(j){this.IW.textContent=j};k9.prototype.S=function(){var j=this.$I;
if(typeof j=="string"&&j.startsWith("<"))this.IW.innerHTML=j;else this.IW.textContent=i4.get(j)};k9.prototype.eu=function(){this.Xh.checked=!0};
k9.prototype.Qj=function(){this.Xh.checked=!1};k9.prototype.rD=function(){return this.Xh.checked};k9.prototype.p=function(j){this.Xh.checked=j};
k9.prototype.j=k9.prototype.rD;k9.prototype.BN=function(j){this.a(new ar(x.E.f,!1))};function kC(j,n){eD.call(this);
this.$I=j;this.Z=V.d("span","labelitem fitem"+(n?" spread":""));this.S()}kC.prototype=new eD;kC.prototype.p=function(j){this.Z.textContent=j};
kC.prototype.j=function(){return this.Z.textContent};kC.prototype.I6=function(){this.Z.removeAttribute("disabled")};
kC.prototype.QE=function(){this.Z.setAttribute("disabled","")};kC.prototype.LY=function(j){this.Z.textContent=j};
kC.prototype.S=function(){this.Z.textContent=i4.get(this.$I)};kC.prototype.aCA=function(){return this.$I};
function ef(j,n,Q,a,B){eD.call(this);this.eO=!1;this.Z=V.d("button","fitem"+(n?" spread":"")+(a?" bbtn":""));
this.$I=j;this.lo=Q;this.S();var m=B&&window.PointerEvent?"pointerup":"click";this.Z.addEventListener(m,this.b9.bind(this),!1)}ef.prototype=new eD;
ef.prototype.S=function(){var j=this.Z,n=this.$I,Q=this.lo;if(typeof n=="string"&&(n.startsWith("<img")||n.startsWith("<svg")||n.startsWith("<span"))){if(!this.eO){j.innerHTML=n;
V.v(j,"padding:2px");this.eO=!0}}else j.textContent=i4.get(n);if(Q){j.setAttribute("title",i4.get(Q))}};
ef.prototype.azI=function(j){this.Z.setAttribute("title",j)};ef.prototype.b9=function(j){this.a(new ar("click",!1))};
ef.prototype.eu=function(){V.BZ(this.Z,"bactive")};ef.prototype.Qj=function(){V.yZ(this.Z,"bactive")};
ef.prototype.LY=function(j,n){if(j&&j!=this.$I){this.$I=j;this.eO=!1}if(n)this.lo=n;this.S()};ef.prototype.p=function(j){if(j)this.eu();
else this.Qj()};ef.prototype.rD=function(){return this.Z.getAttribute("class").indexOf("bactive")!=-1};
ef.prototype.j=function(){return this.rD()};function cE(j,n,Q,a,B){eD.call(this);var m=V.$d();this.Z=V.d("span","fitem tinput");
if(j){this.$I=j;this.iJ=V.d("label","flabel");this.Z.appendChild(this.iJ);this.iJ.setAttribute("for",m);
this.S()}if(B){this.Xh=V.d("span")}else if(a==null){this.Xh=V.d("input");this.Xh.setAttribute("type","text")}else this.Xh=V.d("textarea","scrollable");
this.Xh.setAttribute("id",m);if(Q)V.v(this.Xh,"width:"+Q+"em;"+(B?" display:inline-block; margin-left:6px;":""));
if(a)this.Xh.setAttribute("rows",a);this.Z.appendChild(this.Xh);if(n){this.p1=V.d("span");this.p1.textContent=n;
this.p1.style.marginLeft="2px";this.Z.appendChild(this.p1)}V.Sp(this.Xh);i8.KC(this.Xh);this.Xh.addEventListener("change",this.BN.bind(this),!1);
this.Xh.addEventListener("input",this.al3.bind(this),!1);if(a==null)this.Xh.addEventListener("keyup",this.gH.bind(this),!1)}cE.prototype=new eD;
cE.prototype.S=function(){this.uc()};cE.prototype.gH=function(j){var n=i8.Uq(j.code,i8.tf),Q=i8.Uq(j.code,i8.mI);
if(Q||n)this.Xh.blur()};cE.prototype.LY=function(j){this.iJ.textContent=j};cE.prototype.p=function(j){var n=this.Xh,Q=j==null?"":j,a=n.tagName=="SPAN";
if(a){n.textContent=" "+Q;if(this.p1)n.appendChild(this.p1)}else n.value=Q};cE.prototype.aaB=function(j){this.p1.textContent=j};
cE.prototype.j=function(){return this.Xh.value};cE.prototype.Pr=function(){this.Xh.select();this.Xh.focus()};
cE.prototype.BN=function(j){this.a(new ar(x.E.f,!1))};cE.prototype.al3=function(j){this.a(new ar("input",!1))};
function gO(j,n,Q,a,B,m,R,q,U){eD.call(this);if(B==null)B=0;this.Z=V.d("span","fitem");var l=V.$d();
this.$I=j;this.lo=q;this.LG=0;this.iy=U;this.cK=n;this.Hc=Q;this.To=null;if(a instanceof Array){this.To=a;
a=a[0]}this.rz=a;this.Ps=B;this.aFU=m;this.oH=R;this.Vy=0;this.iJ=V.d("label","flabel");V.v(this.iJ,"cursor:col-resize;");
this.V9=V.d("input");this.V9.setAttribute("type","range");if(R){this.V9.min=0;this.V9.max=400}else{this.V9.min=n;
this.V9.max=Q;if(B!=0)this.V9.step=(Q-n)/200}this.Xh=V.d("input");this.Xh.setAttribute("type","text");
this.Xh.setAttribute("id",l);this.p1=V.d("span");this.p1.textContent=a;V.Sp(this.Xh);this.Xh.addEventListener("change",this.BN.bind(this),!1);
this.Xh.addEventListener("keydown",this.mR.bind(this),!1);i8.KC(this.Xh);this.Xh.addEventListener("keyup",this.gH.bind(this),!1);
this.Xh.addEventListener("wheel",this.hL.bind(this),!1);this.V9.addEventListener("input",this.BN.bind(this),!1);
if(U)this.V9.addEventListener("change",this.BN.bind(this),!1);this.V9.addEventListener("click",this.az_.bind(this),!1);
this.arJ=this.asW.bind(this);this.abf=this.aF$.bind(this);this.a1e=this.aqh.bind(this);this.om=0;this.Ml=0;
this.bZ=!1;V.ON(this.iJ,this.arJ);V.as(this.iJ)}gO.prototype=new eD;gO.prototype.PJ=function(j){this.Ps=j};
gO.prototype.LY=function(j){this.iJ.style.display=j?"inherit":"none";if(j)this.iJ.textContent=i4.get(j)};
gO.prototype.S=function(){var dv=this.$I,j=this.lo;if(dv){if(typeof dv=="string"&&dv.startsWith("<"))this.iJ.innerHTML=dv;
else this.uc()}if(j){j=i4.get(j);if(dv)this.iJ.setAttribute("title",j);this.Xh.setAttribute("title",j)}};
gO.prototype.p=function(j,n){var Q=this.cK==this.Hc,B;if(!Q&&this.cK>=0)j=Math.max(this.cK,j);if(this.Ps==0)j=Math.round(j);
var a=this.rz;this.LG=j;this.Xh.value=parseFloat(this.Ps!=0?j.toFixed(this.Ps):j)+(this.aFU&&a?(a.toLowerCase()==a.toUpperCase()?"":" ")+a:"");
if(-this.cK==this.Hc)B=200+Math.sign(j)*200*Math.pow(Math.abs(j)/this.Hc,1/2.7);else B=400*Math.pow((j-this.cK)/(this.Hc-this.cK),1/2.7);
this.V9.value=this.oH?B:j;if(n)this.ww()};gO.prototype.j=function(){var j=this.LG;if(isNaN(j))j=0;return j};
gO.prototype.Bn=function(){return this.rz};gO.prototype.BN=function(j){var n=0;if(j.currentTarget==this.Xh){var Q=j.target.value,a=0;
if(Q=="")n=0;else if(this.rz){n=parseFloat(Q)}else{try{n=eval(Q)}catch(j){n=1}}if(isNaN(n))n=0;while(a<Q.length&&(Q.charAt(a)=="."||48<=Q.charCodeAt(a)&&Q.charCodeAt(a)<=57))a++;
var B=Q.slice(a).trim();if(this.To&&this.To.indexOf(B)!=-1)this.rz=B}else{if(Date.now()-this.Vy<10)return;
n=parseFloat(j.target.value);if(this.oH){if(-this.cK==this.Hc)n=Math.sign(n-200)*Math.pow(Math.abs(n-200)/200,2.7)*this.Hc;
else n=this.cK+Math.pow(n/400,2.7)*(this.Hc-this.cK);n=this.a1$(n)}}this.p(n);if(j.type=="input"&&this.iy)return;
this.ww()};gO.prototype.ww=function(){this.a(new ar(x.E.f))};gO.prototype.a1$=function(j){if(this.Hc-this.cK>50&&j>10)j=Math.round(j);
return j};gO.prototype.mR=function(j){var n=0;if(i8.Uq(j.code,i8.er))n=1;if(i8.Uq(j.code,i8.R6))n=-1;
if(n!=0)this.a0H(n,j.shiftKey)};gO.prototype.gH=function(j){var n=i8.Uq(j.code,i8.tf),Q=i8.Uq(j.code,i8.mI);
if(n)this.p(this.j());if(Q||n)this.Xh.blur()};gO.prototype.hL=function(j){this.a0H(j.deltaY>0?-1:1,j.shiftKey)};
gO.prototype.a0H=function(j,n){var Q=this.j(),a=this.Ps,B=j*(a==null||a==0||Q>5?1:.1);if(n)B*=10;var m=Q+B;
if(!this.oH&&this.Hc!=this.cK)m=Math.min(this.Hc,m);this.p(m);this.ww()};gO.prototype.az_=function(j){var n=Date.now()-this.Vy;
this.Vy=Date.now();if(n>200)return;var Q=this.cK,a=this.Hc,B=(Q+a)/2;if(Q<1&&a>1&&a<10)B=1;else if(Q<90&&a>110)B=100;
else if(Q<0&&a>0)B=0;this.p(B);this.ww()};gO.prototype.asW=function(j){V.NF(document,this.abf);V.GL(document,this.a1e);
this.om=V.MR(j,document.body).x;this.Ml=this.j()};gO.prototype.aF$=function(j){V.Ju(j);var n=this.cK==this.Hc,Q=V.MR(j,document.body).x,a=(Q-this.om)*(n?1:1/120*(this.Hc-this.cK)),B=this.Ml+a;
if(n)B=Math.round(B);if(!n){if(!0){B=Math.max(this.cK,B);if(B==this.cK){this.om=Q;this.Ml=this.cK}}if(!this.oH){B=Math.min(this.Hc,B);
if(B==this.Hc){this.om=Q;this.Ml=this.Hc}}B=this.a1$(B)}this.bZ=!0;this.p(B);if(!this.iy)this.ww()};
gO.prototype.aqh=function(j){if(!this.bZ)this.Xh.focus();this.bZ=!1;if(this.iy)this.ww();V.na(document,this.abf);
V.rq(document,this.a1e)};gO.prototype.Pr=function(){this.Xh.select();this.Xh.focus()};function i7(j,n,Q,a,B,m,R,q,U,l){gO.call(this,j,n,Q,a,B,!0,m,U,l);
V.BZ(this.Z,"rangedropinput");this.Z.appendChild(this.iJ);V.v(this.Xh,"width:"+(q?q:3.3)+"em");this.Z.appendChild(this.Xh);
this.aee=V.d("span","rangecontFloat");this.aee.appendChild(this.V9);this.NL=V.d("button");this.NL.textContent="\u25BC";
V.ON(this.NL,this.awQ.bind(this));if(R!=!0)this.Z.appendChild(this.NL);this.wL=new eD;this.wL.Z=this.aee}i7.prototype=new gO;
i7.prototype.awQ=function(j){if(V.gU(this.wL.Z))return;j.stopPropagation();var n=this.Z.getBoundingClientRect();
V.v(this.V9,"width:"+n.width+"px;");var Q=new ar(x.E.B,!0);Q.data={Q:x.l.Ix,cB:this.wL,x:n.left-10,y:n.top+n.height};
this.a(Q)};function jc(j,n,Q,a,B,m){gO.call(this,j,n,Q,a,B,!1,m);this.Z.appendChild(this.iJ);var R=V.d("span");
this.Z.appendChild(R);R.appendChild(this.V9);this.Z.appendChild(this.Xh);V.v(this.Xh,"width:3.3em");
if(this.rz)this.Z.appendChild(this.p1)}jc.prototype=new gO;function i5(j,n,Q,a,B,m,R,q){gO.call(this,j,n,Q,a,B,!0,m,null,R);
V.BZ(this.Z,"trangeinput");this.Z.appendChild(this.iJ);this.Z.appendChild(this.Xh);var U=V.d("span");
if(q!=!0)this.Z.appendChild(U);U.appendChild(this.V9)}i5.prototype=new gO;function hQ(j,n,Q,a){eD.call(this);
if(!n)return;this.Kw=0;this.$I=j;this.akc=a;this.Vu=null;this.ma=Q;this.gv=[];var B="dd"+V.$d();this.Z=V.d("span","fitem ddmenu");
if(j){this.iJ=V.d("label","flabel");this.Z.appendChild(this.iJ);this.iJ.setAttribute("for",B)}this.Xh=V.d("select");
i8.KC(this.Xh);this.Xh.setAttribute("id",B);this.Z.appendChild(this.Xh);this.Xh.addEventListener("change",this.BN.bind(this),!1);
function m(R){var q=0;if(i8.Uq(R.code,i8.er))q=1;if(i8.Uq(R.code,i8.R6))q=-1;if(q!=0)R.stopPropagation()}this.Xh.addEventListener("keydown",m,!1);
this.Xh.addEventListener("keyup",m,!1);this.eA=[];this.iG=null;this.MD(n,Q);this.S()}hQ.prototype=new eD;
hQ.prototype.LY=function(j){this.$I=j;this.S()};hQ.prototype.S=function(){this.uc();if(this.iG)this.MD(this.iG,this.ma);
if(this.akc)this.Xh.setAttribute("title",i4.get(this.akc));this.p(this.Kw)};hQ.prototype.j=function(){return this.Kw};
hQ.prototype.MD=function(j,n){V.cV(this.Xh);var Q=[],a=0;if(n){Q.push(n[0]);for(var v=1;v<n.length;v++)Q.push(Q[v-1]+n[v])}this.iG=j;
this.Vu=[];this.ma=n;for(var v=0;v<j.length;v++){var B=V.d("option");if(this.gv.indexOf(v)!=-1)B.setAttribute("disabled","");
B.textContent=i4.get(j[v]);B.setAttribute("value",v);this.Xh.appendChild(B);this.eA.push(B);this.Vu.push(v+a);
if(Q.indexOf(v+1)!=-1&&v!=j.length-1){var m=V.d("option");m.setAttribute("disabled","");m.textContent="";
this.Xh.appendChild(m);a++}}};hQ.prototype.auq=function(v){var j=this.gv,n=j.indexOf(v);if(n==-1)j.push(v);
this.S()};hQ.prototype.al4=function(v){var j=this.gv,n=j.indexOf(v);if(n!=-1)j.splice(n,1);this.S()};
hQ.prototype.p=function(j){this.Kw=j;this.Xh.selectedIndex=this.Vu[j]};hQ.prototype.BN=function(j){this.Kw=this.Vu.indexOf(this.Xh.selectedIndex);
this.a(new ar(x.E.f,!1))};hQ.prototype.Pr=function(){this.Xh.focus()};function aY(j,n,Q,a,B){eD.call(this);
if(!n)return;this.Kw=0;this.arE=a;this.aGz=B;this.Z=V.d("span","fitem bbmenu");this.IW=V.d("label","flabel");
if(j){this.$I=j;this.IW.textContent=j+":";this.Z.appendChild(this.IW)}this.eA=[];this.VN=V.d("span");
this.Z.appendChild(this.VN);this.iG=null;this.MD(n,Q);this.p(0)}aY.prototype=new eD;aY.prototype.LY=function(j){this.$I=j;
this.S()};aY.prototype.S=function(){var j=this.IW.parentNode!=null,n=this.Z;if(this.$I!=null){if(!j){n.appendChild(this.IW);
n.appendChild(this.VN)}this.IW.textContent=i4.get(this.$I)+": "}else if(j)n.removeChild(this.IW);for(var v=0;
v<this.eA.length;v++)this.eA[v].S()};aY.prototype.j=function(){return this.Kw};aY.prototype.MD=function(j,n){V.cV(this.VN);
this.eA=[];var Q=this.j();this.iG=j;for(var v=0;v<j.length;v++){var a=new ef(j[v],!1,n?n[v]:null,this.arE);
a.P("click",this.BN,this);this.VN.appendChild(a.Z);this.eA.push(a)}this.S();this.p(Q)};aY.prototype.p=function(j){this.Kw=j;
for(var v=0;v<this.eA.length;v++)this.eA[v].Qj();if(j!=-1)this.eA[j].eu()};aY.prototype.BN=function(j){var v=this.eA.indexOf(j.target);
this.p(this.aGz&&v==this.Kw?-1:v);this.a(new ar(x.E.f,!1))};aY.cH=function(j,n,Q){if(n==null)n=16;var a=aY.Hk,B=a.getContext("2d"),m=n>>>1;
a.width=a.height=n;var R=[];for(var v=0;v<j.length;v++){if(j[v][0]=="-")R.push(j[v].slice(1));else if(j[v]=="checker"||j[v].startsWith("#")){if(j[v]=="checker"){B.fillStyle="white";
B.fillRect(0,0,n,n);B.fillStyle="#bbbbbb";B.fillRect(m,0,m,m);B.fillRect(0,m,m,m)}else if(j[v].startsWith("#")){B.fillStyle=j[v];
B.fillRect(0,0,n,n)}R.push("<img src=\""+a.toDataURL()+"\" />")}else R.push(V.Mn(j[v],null,Q?Q:"autoscale"))}return R};
aY.Hk=V.d("canvas");function is(j,n,Q,a,B,m){eD.call(this);this.Z=V.d("span","fitem mbox");this.aay=Q;
this.aEy=B;if(j){this.$I=j;this.IW=V.d("label","flabel");this.Z.appendChild(this.IW)}this.$x=n;this.LF=[];
for(var v=0;v<n.length;v++){var R=Q?new ef(n[v],!1,a?a[v]:null,!1,m):new k9(n[v],!0,"");R.P(Q?"click":x.E.f,this.BN,this);
this.LF.push(R);this.Z.appendChild(R.Z)}this.S()}is.prototype=new eD;is.prototype.p=function(j){for(var n=0;
n<this.$x.length;n++)this.LF[n].p(j[n])};is.prototype.j=function(){var j=[];for(var n=0;n<this.$x.length;
n++)j[n]=this.LF[n].j();return j};is.prototype.S=function(){if(this.$I)this.IW.innerHTML=i4.get(this.$I)+": ";
var j=this.LF;for(var n=0;n<j.length;n++){j[n].S();if(n==j.length-1)j[n].Z.style.marginRight="0px"}};
is.prototype.BN=function(j){var v=this.LF.indexOf(j.currentTarget),n=this.LF[v];if(this.aay)n.p(!n.j());
if(this.aEy){var Q=n.j();for(var v=0;v<this.LF.length;v++)this.LF[v].p(!1);n.p(Q)}this.a(new ar(x.E.f,!1))};
function aI(j,n){eD.call(this);this.IH=[];this.X=[];this.a0b=j;this.TB=n;this.Ww=0;this.HX=null;this.m0=new eE(0,0);
if(n!=null){this.h7=new ig([{name:[6,37]},{name:[5,4]}]);this.h7.parent=this;this.h7.P("select",this.ab,this)}this.Z=V.d("div","imageset scrollable");
this.Z.addEventListener("contextmenu",V.bi,!1)}aI.prototype=new eD;aI.prototype.S=function(){if(this.h7)this.h7.S()};
aI.prototype.ab=function(j){var v=this.h7.IF()[0],n=new ar(x.E.B,!0),Q={Q:x.l.m6,_X:this.TB,kc:this.X.slice(0)};
if(v==0){var a=this.HX[1][this.X[0]],B=a.split("/");if(B.length==2){Q._l=B[0]+"/";a=B[1]}Q.rf="rnm";
n.data={Q:x.l.Vg,Z8:"namewindow",Xo:a,Az:{o:x.E.B,h:Q}}}else{n.data=Q;Q.rf="del"}this.a(n)};aI.prototype.aIl=function(){return this.Ww};
aI.prototype.qo=function(j){this.Ww=j;if(this.HX)this.HD()};aI.prototype.YS=function(j,n,Q,a){this.HX=[j,n,Q,a];
this.HD()};aI.prototype.HD=function(){var j=this.HX,n=this.Z,Q=j[0],a=j[1],B=j[2],m=j[3];this.IH=[];
V.cV(n);var R=this.b9.bind(this),q=this.Ww;if(q==0)V.BZ(n,"imageset");else V.yZ(n,"imageset");var U={};
for(var v=0;v<Q.length;v++){var l=Q[v],b=null,D=null;if(l==null){this.IH.push(null);continue}if(typeof l=="string"){b=V.d("img","image");
b.setAttribute("src",l)}else b=l;if(B)V.GV(b,B,m);if(this.a0b)V.BZ(b,"gsicon");if(a){var D=a[v],c=D.split("/");
if(c.length==2){var _=U[c[0]];D=c[1];if(_==null)_=U[c[0]]=[];_.push(v)}}if(q==0){}else{var p=V.d("div","listitem");
p.appendChild(b);var X=V.d("span");X.textContent=D?D:"Item "+(v+1);V.v(X,"margin-left:4px;");p.appendChild(X);
b=p}if(D)b.setAttribute("title",D);b.addEventListener("mousedown",R,!1);this.IH.push(b);n.appendChild(b)}if(Object.keys(U).length!=0){V.cV(n);
for(var g in U){var _=U[g],F=V.d("div","listitem head");V.v(F,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var k=V.d("div","headL");F.appendChild(k);k.appendChild(V.d("div","folder"));var X=V.d("span");X.textContent=g;
k.appendChild(X);n.appendChild(F);for(var v=0;v<_.length;v++)n.appendChild(this.IH[_[v]])}}};aI.prototype.b9=function(j){if(this.TB==null)j.preventDefault();
var n=this.IH.indexOf(j.currentTarget),Q=window.__kb,a=this.X,B=a.length;if(Q.r(i8.f8)){var m=Math.min(a[0],a[a.length-1],n),R=Math.max(a[0],a[a.length-1],n);
a=[];for(var v=m;v<=R;v++)a.push(v)}else if(Q.r(i8.Gm)){var q=a.indexOf(n);if(q==-1)a.push(n);else a.splice(q,1)}else a=[n];
a.sort(function(D,c){return D-c});if(j.button==0||B==1)this.p(a);this.m0=V.MR(j,j.currentTarget);if(j.button==0)this.a(new ar(x.E.f));
if(j.button==2&&this.h7){var U=this.h7;U.update(null);var l=V.MR(j,document.body),b=new ar(x.E.B,!0);
b.data={Q:x.l.Ix,cB:U,x:l.x,y:l.y+2};this.a(b)}};aI.prototype.j=function(){return this.X.slice(0)};aI.prototype.ahm=function(){var j=this.m0;
return new eE(j.x,j.y)};aI.prototype.p=function(j){this.X=j.slice(0);for(var v=0;v<this.IH.length;v++){var n=this.IH[v];
if(n==null)continue;if(j.indexOf(v)!=-1)V.BZ(n,"selected");else V.yZ(n,"selected")}};function gK(j,n){eD.call(this);
this.a0b=j;this.TB=n;this.Ww=0;this.nl=null;this.ji=[];this.Jj=[];this.X=[];var Q=b3.XN[n],a=Q[0].toUpperCase();
this.h7=new ig([{name:["VAR0 ."+a,[1,0]]},{name:["VAR0 ."+a,[1,8]]},{name:[6,37]},{name:[5,4],Kl:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.h7.parent=this;this.h7.P("select",this.ab,this);this.Z=V.d("div","imageset scrollable");this.Z.addEventListener("contextmenu",V.bi,!1);
this.ayA=this.b9.bind(this);this.auh=function(B){B.dataTransfer.setData("text",this.ji.indexOf(B.currentTarget))}.bind(this);
this.ab5=this.am7.bind(this)}gK.prototype=new eD;gK.prototype.awV=function(){return this.h7};gK.prototype.S=function(){this.h7.S()};
gK.prototype.am7=function(j){var n=parseInt(j.dataTransfer.getData("text")),Q=this.ji.indexOf(j.currentTarget),a=this.X,l=!1;
if(a.indexOf(n)==-1)a=[n];var B=this.Jj[Q],m=B.join(",")+",",R=gK.CM(a,this.Jj),q=R[1];for(var U in q)if(m.startsWith(U))return;
var b=gK.j6(this.nl,B)[2],D=gK.getItem(this.nl,B);if(D[1]==null){b=D[2];D=b[0];l=!0}var c=gK.U1(this.nl,R[0]),_=b.indexOf(D);
for(var v=0;v<c.length;v++)b.splice(_+(l?0:1)+v,0,c[v]);this.X=[];var p=gK.a9H(this.nl);for(var v=0;
v<c.length;v++)this.X.push(p.indexOf(c[v]));this.HD()};gK.prototype.ab=function(j,n){if(n==null)n=this.h7.IF()[0];
var Q=this.X,a=new ar(x.E.B,!0);if(n==0){a.data={Q:x.l.ws};this.a(a)}if(n==1){var B=gK.CM(Q,this.Jj)[0],m=gK.U1(this.nl,B,!0),R=b3.XN[this.TB],q=hq.a7z(m,R[2]);
aL.save(q,R[1]+"."+R[0])}if(n==2){a.data={Q:x.l.Vg,Z8:"namewindow",Xo:gK.getItem(this.nl,this.Jj[Q[0]])[0],yI:this.ai1.bind(this)};
this.a(a)}if(n==3){var B=gK.CM(Q,this.Jj)[0],m=gK.U1(this.nl,B);this.X=[];this.HD()}if(n==4){this.Ww=1-this.Ww;
this.HD()}if(n==5){this.a(new ar("define_new"))}if(n==6){this.arj(["New folder",null,[],!0])}};gK.prototype.arj=function(j){var n=this.nl,Q=this.X,a=n.length-1;
if(Q.length!=0){var B=Q[0],m=this.Jj[B],n=gK.j6(this.nl,m)[2],R=gK.getItem(this.nl,m);a=n.indexOf(R);
if(R[1]==null){n=R[2];a=n.length-1}}n.splice(a+1,0,j);this.X=[gK.a9H(this.nl).indexOf(j)];this.HD();
this.ab(null,2)};gK.prototype.ai1=function(j){var n=gK.getItem(this.nl,this.Jj[this.X[0]]);n[0]=j;this.HD()};
gK.prototype.MD=function(j){this.nl=j;this.HD()};gK.prototype.aG9=function(j,n,Q){for(var v=0;v<j.length;
v++){var a=j[v],B=a[0],m,R=a[1]==null;Q.push(v);if(R){m=V.d("div","listitem head");V.v(m,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var q=V.d("div","headL");m.appendChild(q);q.appendChild(V.d("div",a[3]?"open":"closed"));q.appendChild(V.d("div","folder"));
var U=V.d("span");U.textContent=B;q.appendChild(U)}else{var l=a[2],b=b3.XN[this.TB],D=Math.floor(b[5]*V.lS()),c=Math.floor(V.lS()*b[6]);
if(l==null)l=a[2]=b[2].r9(a,D,c);m=V.d("img","image");m.setAttribute("src",l);V.GV(m,D,c);if(this.Ww==1){var _=V.d("div","listitem");
_.appendChild(m);_.style.height=b[6]+"px";var U=V.d("span");U.textContent=B;V.v(U,"margin-left:4px;");
_.appendChild(U);m=_}m.setAttribute("title",B)}n.appendChild(m);if(this.X.indexOf(this.ji.length)!=-1)V.BZ(m,"selected");
this.ji.push(m);this.Jj.push(Q.slice(0));m.addEventListener("mouseup",this.ayA,!1);m.setAttribute("draggable","true");
m.addEventListener("dragover",V.Ju,!1);m.addEventListener("dragstart",this.auh,!1);m.addEventListener("drop",this.ab5,!1);
if(R){var p=V.d("div");p.style.marginLeft="14px";if(a[3])n.appendChild(p);this.aG9(a[2],p,Q)}Q.pop()}};
gK.prototype.HD=function(){var j=this.nl,n=this.Z;V.cV(n);this.ji=[];this.Jj=[];this.aG9(j,n,[])};gK.prototype.b9=function(j){var n=this.ji.indexOf(j.currentTarget),Q=gK.getItem(this.nl,this.Jj[n]),a=Q[1]==null,B=j.target.getAttribute("class"),m=this.X,R=m.length,q=m.indexOf(n);
if(B=="open"||B=="closed")Q[3]=!Q[3];else if(j.button==0||q==-1){var U=window.__kb;if(U.r(i8.f8)){var l=Math.min(m[0],m[m.length-1],n),b=Math.max(m[0],m[m.length-1],n);
m=[];for(var v=l;v<=b;v++)m.push(v)}else if(U.r(i8.Gm)){if(q==-1)m.push(n);else m.splice(q,1)}else m=[n];
m.sort(function(p,X){return p-X});this.X=m}this.HD();if(j.button==0&&!a&&m.length==1)this.a(new ar(x.E.f));
if(j.button==2){var D=this.h7;D.update(null);var c=V.MR(j,document.body),_=new ar(x.E.B,!0);_.data={Q:x.l.Ix,cB:D,x:c.x,y:c.y+2};
this.a(_)}};gK.prototype.j=function(){return gK.getItem(this.nl,this.Jj[this.X[0]])[1]};gK.prototype.p=function(j){this.arj(["New item",j])};
gK.getItem=function(j,n){var Q=["",null,j];for(var v=0;v<n.length;v++)Q=Q[2][n[v]];return Q};gK.j6=function(j,n){var Q=["",null,j];
for(var v=0;v<n.length-1;v++)Q=Q[2][n[v]];return Q};gK.a9H=function(j){function n(a,B){for(var v=0;v<a.length;
v++){var m=a[v];B.push(m);if(m[1]==null)n(m[2],B)}}var Q=[];n(j,Q);return Q};gK.U1=function(j,n,Q){var a=[];
for(var B=n.length-1;B>=0;B--){var m=n[B],R=m[m.length-1],q=gK.j6(j,m);a.unshift(q[2][R]);if(!Q)q[2].splice(R,1)}return a};
gK.CM=function(j,n){var Q=[],a={};for(var v=0;v<j.length;v++){var B=n[j[v]],m=B.join(",")+",",R=!1;for(var q in a)if(m.startsWith(q))R=!0;
if(!R){a[m]=!0;Q.push(B)}}return[Q,a]};function ab(j,n,Q,a,B,m,R){eD.call(this);this.Z=V.d("span","fitem "+Q);
this.TB=m;this.lQ=null;this.Q4=!0;this.yY=null;this.yL=new eD;this.yL.Z=V.d("div","floatcont");this.P4=a;
this.yL.parent=this;this.av8=V.d("div");this.yL.Z.appendChild(this.av8);this.mB=V.d("div");this.yL.Z.appendChild(this.mB);
if(j){this.$I=j;this.IW=V.d("label","flabel");this.Z.appendChild(this.IW)}this.Q=V.d("button",R?"nopadding":"");
V.v(this.Q,"position:relative;");var q=this.Jd.bind(this),U=this.oT.bind(this);V.ON(this.Q,n?U:q);this.Z.appendChild(this.Q);
this.nN=V.d("img",R?"gsicon":"");this.Q.appendChild(this.nN);if(n){var l=V.d("button");l.textContent="\u25BC";
V.ON(l,q);this.Z.appendChild(l)}else{var b=V.d("span");b.textContent="\u25BC";V.v(b,"position:absolute;  bottom:2px;  right:4px;");
this.Q.appendChild(b)}var D=this.afb=V.d("span");this.mB.appendChild(D);V.v(D,"display:inline-block;  vertical-align:top;");
this.oE=this.aDg()?new gK(R,m):new aI(R,m);D.appendChild(this.oE.Z);this.oE.parent=this.yL;this.oE.P(x.E.f,this.Jw,this);
this.oE.P("define_new",this.aEN,this);this.oE.Z.style.height=B+"px";this.I7=V.d("button");this.I7.textContent="\u25BC";
V.v(this.I7,"padding:3px");V.ON(this.I7,this.WL.bind(this));this.mB.appendChild(this.I7);var c=this.Fi(),_=this.a7V=m!=b3.mt&&m!=b3.RX?m:null,p=this.azA=m==null?!1:b3.XN[m][4]!=0,X=m==null?"":b3.XN[m][0].toUpperCase(),g=[];
if(_)g.push({name:[12,87]});g.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Kl:!0});g.push({name:[[23,6],"."+(X=="ICC"?"icc .cube .look .3dl":X)]},{name:["VAR0 ."+X,[1,8]]},{name:[6,37]},{name:[5,4],Kl:c.length!=0});
for(var v=0;v<c.length;v++)g.push({name:c[v].split("/").pop()});this.ah1=g}ab.prototype=new eD;ab.prototype.aDg=function(){var j=this.TB;
return j==b3.qX||j==b3.oy};ab.prototype.aEN=function(){this.oE.p(this.yY)};ab.prototype.Jw=function(j){this.p(j.target.j());
this.a(new ar(x.E.f))};ab.prototype.NV=function(){if(!this.Q4)return;this.oE.MD(this.lQ,this);this.Q4=!1};
ab.prototype.p=function(j){this.yY=K.u(j);this.eq()};ab.prototype.j=function(){return K.u(this.yY)};
ab.prototype.eq=function(){};ab.prototype.Fi=function(){return[]};ab.prototype.oT=function(){};ab.prototype.S=function(){this.oE.S();
var j=this.$I;if(j)this.IW.textContent=i4.get(j)+":"};ab.prototype.LY=function(j){this.IW.textContent=j};
ab.prototype.gn=function(j){var n=this.TB,Q=0;if(n==b3.Xm){Q=this.lQ?this.lQ.length:0;j=j.slice(0)}this.lQ=j;
this.Q4=!0;if(V.gU(this.oE.Z)||n==b3.qX)this.NV();if(n==b3.Xm&&j.length-Q==1&&V.gU(this.Z)){this.p(j[Q]);
this.Q4=!0;this.NV();this.oE.p([Q]);this.a(new ar(x.E.f))}};ab.prototype.ab=function(j){var n=j.target.IF()[0];
if(this.a7V==null)n++;var Q=new ar(x.E.B,!0);if(n==0){var a=this.QU();if(this.TB==b3.Xm&&a[0].profile==null)return;
Q.data={Q:x.l.m6,rf:"add",_X:this.a7V,uU:a}}else if(n==1)this.oE.qo(1-this.oE.aIl());else if(n<=5)this.JQ(n-2);
else{var B=this.Fi();Q.data={Q:x.l.JH,_X:{url:"rsrc/"+B[n-6]}}}if(Q.data)this.a(Q)};ab.prototype.JQ=function(j){var n=new ar(x.E.B,!0),Q=this.oE.j(),a={Q:x.l.m6,_X:this.TB,kc:Q};
if(j>1&&Q.length==0){alert("No items selected");return}if(j==0)n.data={Q:x.l.ws};else if(j==1)n.data={Q:x.l.M2,ac5:this.TB,kc:Q.length==0?null:Q};
else if(j==2){var B=this.oE.HX[1][Q[0]],m=B.split("/");if(m.length==2){a._l=m[0]+"/";B=m[1]}a.rf="rnm";
n.data={Q:x.l.Vg,Z8:"namewindow",Xo:B,Az:{o:x.E.B,h:a}}}else if(j==3){n.data=a;a.rf="del"}this.a(n)};
ab.prototype.QU=function(){return[this.j()]};ab.prototype.WL=function(j){var n;j.stopPropagation();if(this.aDg())n=this.oE.awV();
else{if(this.h7==null){this.h7=new ig(this.ah1);this.h7.parent=this.yL;this.h7.P("select",this.ab,this)}n=this.h7}if(V.gU(n.Z))return;
n.S();n.update(null);var Q=j.currentTarget.getBoundingClientRect(),a=new ar(x.E.B,!0);a.data={Q:x.l.Ix,cB:n,x:Q.left,y:Q.top+Q.height};
this.a(a)};ab.prototype.Jd=function(j,n,Q){if(V.gU(this.yL.Z))return;if(j)j.stopPropagation();this.NV();
if(n==null){var a=this.Q.getBoundingClientRect(),n=a.left,Q=a.top+a.height}this.rs();var B=new ar(x.E.B,!0);
B.data={Q:x.l.Ix,cB:this.yL,x:n,y:Q,qP:!0};this.a(B)};ab.prototype.rs=function(j,n){var j=Math.min(this.P4,window.innerWidth-40);
this.afb.style.width=j+"px";this.yL.Z.style.width=j+20+"px"};ab.prototype.a27=function(j,n){this.Jd(null,j,n)};
function c4(){eD.call(this);this.Z=V.d("div");this.LG=!1;this.ji=[new hQ([12,19,1],[[13,1,7]].concat(k8.ql)),new eN([17,1]),new eN([12,46])];
for(var v=0;v<3;v++){var j=this.ji[v];this.Z.appendChild(j.Z);j.P(x.E.f,this.Uj,this)}this.S()}c4.prototype=new eD;
c4.prototype.S=function(){for(var v=0;v<3;v++)this.ji[v].S()};c4.prototype.j=function(){return this.LG.slice(0)};
c4.prototype.p=function(j){this.LG=j.slice(0);var n=this.ji,Q=n[0].j();n[1].p(j.slice(Q*8,Q*8+4),Q);
n[2].p(j.slice(Q*8+4,Q*8+8),Q)};c4.prototype.Uj=function(j){var n=this.ji,Q=n.indexOf(j.currentTarget);
if(Q==0)this.p(this.LG);else{var a=n[0].j()*8+(Q==1?0:4),B=n[Q].j();for(var v=0;v<4;v++)this.LG[a+v]=B[v];
this.a(new ar(x.E.f,!1))}};function eN(j){eD.call(this);this.Z=V.d("div");this.q$=V.d("canvas");this.YG=j;
this.LG=[0,20,200,255];this.Pc=0;this.LT=-1;this.ad4=[];for(var v=0;v<5;v++){var n=V.d("span");V.v(n,"display:inline-block;width:"+(v==0?8:v==2?7:2)+"em");
this.ad4.push(n);this.Z.appendChild(n)}this.n_=this.Vk.bind(this);this.$H=this.a5.bind(this);this.uH=this.mz.bind(this);
V.as(this.q$);V.ON(this.q$,this.n_);this.Z.appendChild(this.q$);this.HD()}eN.prototype=new eD;eN.prototype.S=function(){this.HD()};
eN.prototype.p=function(j,n){this.LG=j;this.Pc=n;this.HD()};eN.prototype.j=function(){return this.LG.slice(0)};
eN.prototype.Vk=function(j){var n=this.LG,Q=V.MR(j,this.q$),a=Q.x-8,B=-1,m=1e9;for(var v=0;v<4;v++){var R=a-n[v],q=Math.abs(R);
if(q<8&&q<m&&((v&1)==0&&R<0||(v&1)==1&&R>0)){m=R;B=v}}if(B==-1)return;this.LT=B;this.mV=window.__kb.r(i8.Y2)||n[(B>>>1)*2]!=n[(B>>>1)*2+1];
V.NF(window,this.$H);V.GL(window,this.uH)};eN.prototype.a5=function(j){var n=this.LG,Q=this.LT,a=(Q>>>1)*2,B=a+1,m=V.MR(j,this.q$),R=Math.round(Math.max(0,Math.min(255,m.x-8)));
n[Q]=R;if(this.mV&&n[a]>=n[B])this.mV=!1;if(!this.mV)n[a]=n[B]=R;this.HD();this.a(new ar(x.E.f,!1))};
eN.prototype.mz=function(j){V.na(window,this.$H);V.rq(window,this.uH)};eN.prototype.HD=function(){var j=this.q$;
V.w9(j,255+16,16);var n=j.getContext("2d"),Q=j.width,a=j.height,B=Math.round(255*V.lS()),m=Math.round(8*V.lS());
n.translate(m,0);var R=n.createLinearGradient(0,0,B,0);R.addColorStop(0,"black");R.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Pc]);
n.fillStyle=R;n.fillRect(0,0,B,m);var q=this.ad4,U=i4.get(this.YG)+":";q[0].textContent=U;for(var v=0;
v<4;v++){var l=this.LG[v];q[1+v].textContent=l;var b=Math.round(l*V.lS());n.beginPath();n.moveTo(b,m);
n.lineTo(b,m+m);n.lineTo(b+((v&1)==0?-1:1)*m,m+m);n.closePath();n.fillStyle=v<2?"#666666":"#cccccc";
n.fill();n.strokeStyle="black";n.stroke()}};function by(j,n,Q){eD.call(this);if(Q==null)Q=!1;this.J=[0,0,1];
this.afd=n;this.aA6=Q;this.dg=0;var a="ai"+V.$d();this.Z=V.d("span","fitem angleinput");if(j){this.IW=V.d("label","flabel");
this.$I=j;this.Z.appendChild(this.IW);this.IW.setAttribute("for",a)}this.Ah=Q?44:20;this.q$=V.d("canvas","gsicon");
this.Pf=this.q$.getContext("2d");V.as(this.q$);V.w9(this.q$,this.Ah*2+1,this.Ah*2+1);this.Pf.scale(V.lS(),V.lS());
this.Z.appendChild(this.q$);V.ON(this.q$,this.hz.bind(this));this.tM=this.qM.bind(this);this.b$=this.cW.bind(this);
var B=this.BN.bind(this),m=V.d("div");V.v(m,"display:inline-block;  vertical-align:middle;");if(!Q)this.Z.appendChild(m);
this.AW=[];for(var v=0;v<2;v++){var R=V.d("input");this.AW.push(R);R.setAttribute("type","text");V.Sp(R);
if(v==0)R.setAttribute("id",a);R.addEventListener("change",B,!1);var q=V.d("span");q.textContent="\xB0";
if(v==0||n){m.appendChild(R);m.appendChild(q);V.pd(m)}}this.p(this.J)}by.prototype=new eD;by.prototype.S=function(){if(this.$I)this.IW.textContent=i4.get(this.$I)+":"};
by.prototype.LY=function(j){this.IW.textContent=j};by.prototype.j=function(){return this.J.slice(0)};
by.prototype.p=function(j,n){var Q=this.J;j=j.slice(0);if(j[0]==null)j[0]=Q[0];if(j[1]==null)j[1]=Q[1];
if(j[2]==null)j[2]=Q[2];this.J=j;var a=j[0],B=j[1],m=j[2],R=this.afd,q=this.aA6,U=this.Ah*.85;if(!R)B=0;
this.AW[0].value=a;this.AW[1].value=B;var l=this.Pf;l.clearRect(0,0,100,100);a=Math.PI*a/180;B=U*(90-B)/90;
var b=this.Ah+.5;l.save();l.translate(b,b);l.rotate(-a);l.strokeStyle="rgba(0,0,0,0.5)";l.beginPath();
l.ellipse(0,0,U,U*m,0,0,2*Math.PI);if(q){l.moveTo(0,-U*m);l.lineTo(0,U*m);l.moveTo(-B,0)}else l.moveTo(0,0);
l.lineTo(B,0);l.stroke();var D=this.Ah*.15;l.fillStyle="black";l.beginPath();if(q){l.arc(0,-U*m,D*.66,0,2*Math.PI);
l.arc(0,U*m,D*.66,0,2*Math.PI)}if(R){l.arc(B,0,D*.4,0,2*Math.PI)}else{l.moveTo(b-D,-D*.66);l.lineTo(b,0);
l.lineTo(b-D,D*.66)}l.fill();l.restore();if(n)this.BN()};by.prototype.BN=function(j){var n=parseInt(this.AW[0].value);
if(isNaN(n))n=0;var Q=parseInt(this.AW[1].value);if(isNaN(Q))Q=0;n=n%360;Q=Q%360;this.p([n,Q]);this.a(new ar(x.E.f,!1))};
by.prototype.hz=function(j){V.NF(window,this.tM);V.GL(window,this.b$);var n=V.MR(j,this.q$),b=0,D=1e9;
n.x-=this.Ah;n.y-=this.Ah;var Q=this.J,a=Q[0]*Math.PI/180,B=(90-Q[1])/90,m=Q[2],R=this.Ah*.85,q=Math.sin(-a),U=Math.cos(-a),l=[new eE(U*R,q*R)];
if(this.aA6)l.push(new eE(-q*R*m,U*R*m),new eE(q*R*m,-U*R*m));for(var v=0;v<l.length;v++){var c=eE.X_(n,l[v]);
if(c<D){D=c;b=v}}this.dg=b;if(b==0)this.qM(j)};by.prototype.qM=function(j){var n=V.MR(j,this.q$),Q=this.dg,a=[],B=n.x-this.Ah,m=n.y-this.Ah,R=this.Ah*.85;
if(Q==0){var q=180*Math.atan2(-m,B)/Math.PI,U=90-90*Math.min(1,Math.sqrt(B*B+m*m)/R);if(j.shiftKey)q=Math.round(q/15)*15;
a=[Math.round(q),Math.round(U)]}else a=[null,null,Math.max(.01,Math.min(1,Math.sqrt(B*B+m*m)/R))];this.p(a);
this.a(new ar(x.E.f,!1))};by.prototype.cW=function(j){this.a(new ar(x.E.f,!1));V.na(window,this.tM);
V.rq(window,this.b$)};function au(j,n){eD.call(this);this.LG=0;this.cZ=n;this.Z=V.d("span","fitem angleinput");
if(j){this.IW=V.d("label","flabel");this.$I=j;this.Z.appendChild(this.IW)}this.q$=V.d("canvas","gsicon");
this.Pf=this.q$.getContext("2d");V.w9(this.q$,n,n);this.Z.appendChild(this.q$);V.as(this.q$);V.ON(this.q$,this.hz.bind(this));
this.tM=this.qM.bind(this);this.b$=this.cW.bind(this);this.p(0)}au.prototype=new eD;au.prototype.S=function(){if(this.$I)this.IW.textContent=i4.get(this.$I)+":"};
au.prototype.LY=function(j){this.IW.textContent=j};au.prototype.j=function(){return this.LG};au.prototype.axB=function(j){var n=this.LG,Q=Math.floor(n/3),a=n-Q*3;
a=Math.max(0,Math.min(2,a+j.x));Q=Math.max(0,Math.min(2,Q+j.y));this.p(Q*3+a)};au.prototype.p=function(j){this.LG=j;
var n=this.q$.width,Q=Math.floor(j/3),a=j-3*Q,B=(a+.5)*n/3,m=(Q+.5)*n/3,R=this.Pf,q=[.5,Math.round(n/3)+.5,Math.round(2*n/3)+.5,n-.5];
R.clearRect(0,0,n,n);var U=this.cZ<30;R.setLineDash([]);R.strokeStyle=U?"rgba(0,0,0,0.5)":"#000000";
R.beginPath();for(var v=0;v<4;v++){var l=q[v];R.moveTo(l,0);R.lineTo(l,n);R.moveTo(0,l);R.lineTo(n,l)}R.stroke();
if(j==9)return;if(!U){R.setLineDash([1,2]);var b=n*.53,D=Math.max(0,Math.min(n-b,B-b/2)),c=Math.max(0,Math.min(n-b,m-b/2));
R.strokeRect(Math.round(D)+.5,Math.round(c)+.5,Math.round(b),Math.round(b))}R.fillStyle="#000000";R.beginPath();
R.arc(B,m,n/8,0,Math.PI*2);R.fill()};au.prototype.hz=function(j){V.NF(document.body,this.tM);V.GL(document.body,this.b$);
this.qM(j)};au.prototype.qM=function(j){var n=V.MR(j,this.q$),Q=Math.max(0,Math.min(2,Math.floor(n.x/(this.cZ/3)))),a=Math.max(0,Math.min(2,Math.floor(n.y/(this.cZ/3))));
this.p(a*3+Q)};au.prototype.cW=function(j){this.a(new ar(x.E.f,!1));V.na(document.body,this.tM);V.rq(document.body,this.b$)};
function gY(dv){eD.call(this);this.Z=V.d("span","fitem cswatch");this.aAS=0;this.Nx=[];this.K3=[];var j=this.awa.bind(this);
for(var v=0;v<dv;v++){this.Nx.push(0);var n=V.d("span","colorsample");n.addEventListener("click",j,!1);
this.K3.push(n);this.Z.appendChild(n)}var Q=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],a=Math.min(dv,Q.length);
for(var v=0;v<a;v++)this.Nx[v]=Q[v];this.p9()}gY.prototype=new eD;gY.prototype.awa=function(j){this.aAS=this.K3.indexOf(j.currentTarget);
this.a(new ar(x.E.f))};gY.prototype.j=function(){return this.Nx[this.aAS]};gY.prototype.p=function(j){var n=this.Nx,Q=n.indexOf(j);
if(Q!=-1)n.splice(Q,1);else n.pop();n.unshift(j);this.p9()};gY.prototype.p9=function(){for(var v=0;v<this.Nx.length;
v++){V.v(this.K3[v],"background-color:#"+K.EA(this.Nx[v]))}};function ci(j){eD.call(this);this.Ty={n:0,i:0,b:0};
this.XJ=j;this.Z=V.d("span","fitem colorsample");this.Z.addEventListener("click",this.yC.bind(this),!1)}ci.prototype=new eD;
ci.prototype.S=function(){};ci.prototype.yC=function(j){var n=this.Ty;this.a(new ar("click"));var Q=new ar(x.E.B,!0);
Q.data={Q:x.l.Vg,Z8:"colorpicker",Cx:K.G8(n),CP:this.$S.bind(this),Bf:this.XJ};this.a(Q)};ci.prototype.$S=function(j){this.au(j);
this.a(new ar(x.E.f))};ci.prototype.RY=function(){this.yC(null)};ci.prototype.v2=function(){var j=this.Ty;
return j.n<<16|j.i<<8|j.b};ci.prototype.j=function(){return K.Gp.Db(this.Ty)};ci.prototype.au=function(j){this.Ty=K.Hy(j);
this.a4r()};ci.prototype.p=function(j){this.Ty=K.Gp.qF(j);this.a4r()};ci.prototype.a4r=function(){var j=this.Ty,n=j.n,Q=j.i,a=j.b,B=n<<16|Q<<8|a;
V.v(this.Z,"background-color:#"+K.EA(B))};function gD(){eD.call(this);this.dj=!1;this.tS=20;this.aq9=10;
this.tm=0;this.dj=!1;this.JP={n:255,i:0,b:0};this.re={n:0,i:0,b:0};this.H=null;this.e8=null;this.HY=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this.Z=V.d("canvas");this.HD();V.as(this.Z);V.ON(this.Z,this.n_.bind(this))}gD.prototype=new eD;gD.prototype.adg=function(j){if(this.dj==j)return;
this.dj=j;this.HD()};gD.prototype.S=function(){};gD.prototype.aaO=function(j,n){function Q(a){return{n:a>>16&255,i:a>>8&255,b:a&255}}if(j!=null)this.JP=Q(j);
if(n!=null)this.re=Q(n);this.HD()};gD.prototype.aEd=function(j,n){this.H=j;this.e8=n;this.HD()};gD.prototype.n_=function(j){var n=V.MR(j,this.Z),Q=n.x*V.lS(),a=n.y*V.lS(),B=this.tS,m=this.aq9,R=0;
if(a>B){R=4+Math.floor(3*Q/B)}else if(Q<m&&a<m){R=0}else if(Q>B-m&&a>B-m){R=1}else if(Q<m){R=2}else{R=3}this.RY(R)};
gD.prototype.RY=function(j){var n=this.H,Q=new ar(x.E.B,!0);if(j>1){if(fL==0)Q.data={Q:x.l.m6,_X:b3.Wz,BO:j};
else{var a=K.u(n.no);if(j==2){var B=a.tY;a.tY=a.vg;a.vg=B}if(j==3){a.vg=[1,1,1];a.tY=[0,0,0]}if(j>=4){var m=this.HY[j-4];
if(this.tm==0)a.vg=m;else a.tY=m}Q.data={Q:x.l.m6,_X:b3.gl,J:a}}}else{var R=this.$S.bind(this),q=this.tm;
this.tm=j;if(fL==0){var U=j==0?this.JP:this.re;Q.data={Q:x.l.Vg,Z8:"colorpicker",Cx:K.G8(U),CP:R}}else{if(q!=j){this.HD();
return}var l=j==0?n.no.vg:n.no.tY;if(l.length==0)l=[0,0,0];gD.aja(l,this,R);return}}this.a(Q)};gD.prototype.$S=function(j){var n=new ar(x.E.B,!0),Q=this.tm,a=this.H;
if(fL==0)n.data={Q:x.l.m6,_X:b3.Wz,BO:Q,J:j};else{var B=j;if(typeof j=="number"){B=K.Hy(j,1);B=[B.n,B.i,B.b]}var m=K.u(a.no);
if(Q==0)m.vg=B;else m.tY=B;n.data={Q:x.l.m6,_X:b3.gl,J:m}}this.a(n)};gD.prototype.HD=function(){var j=this.Z,n=j.getContext("2d"),Q=V.lS(),Q=V.lS(),a=this.tS=Math.floor(34*Q),B=Math.floor((a-2)/3),m="#aaaaaa",R=.62;
j.width=a;j.height=a+fL*(B+9);V.z6(j);j.style.cursor="pointer";var a=this.tS=j.width,q=this.aq9=Math.round(a*R);
function U(I,e){var H=I.n,A=I.i,Z=I.b;if(e)H=A=Z=Math.round(K.bC(H,A,Z));var J=H<<16|A<<8|Z;return"#"+K.EA(J)}function l(n,c,I,e,H,A){n.beginPath();
if(e>=A*2&&H>=A*2){n.moveTo(c+A,I);n.lineTo(c+e-A,I);n.quadraticCurveTo(c+e,I,c+e,I+A);n.lineTo(c+e,I+H-A);
n.quadraticCurveTo(c+e,I+H,c+e-A,I+H);n.lineTo(c+A,I+H);n.quadraticCurveTo(c,I+H,c,I+H-A);n.lineTo(c,I+A);
n.quadraticCurveTo(c,I,c+A,I)}n.closePath()}function b(c,I,q,e,H){n.strokeStyle=H?H:"black";n.fillStyle=e;
l(n,c+.5,I+.5,q-1,q-1,q*.2);n.fill();n.stroke()}var D=this.H;if(D){n.beginPath();var c=a-q,_=Math.floor(q*.28),p=q-2*_;
n.lineWidth=1;n.strokeStyle="white";if(this.tm==0)gD.P5(n,D.no.tY,this.e8,q,q,c,c,!0);gD.P5(n,D.no.vg,this.e8,q,q,0,0);
if(this.tm==1)gD.P5(n,D.no.tY,this.e8,q,q,c,c,!0);for(var v=0;v<3;v++){n.beginPath();gD.P5(n,this.HY[v],this.e8,B,B,v*(B+1),a+9,!1)}}else{b(a-q,a-q,q,U(this.re,this.dj));
b(0,0,q,U(this.JP,this.dj))}var X=a-q,g=Math.round(X*R);b(a-g,X-g,g,fL==0?"white":"black",m);b(a-X,0,g,fL==0?"black":"white",m);
n.save();n.fillStyle=m;n.translate(0,a);n.rotate(-Math.PI/2);X=a-q;var F=Math.round(X*.28),k=Math.round(X*.25);
for(var v=0;v<2;v++){n.fillRect(F,F,X-F,1);n.beginPath();n.moveTo(X-k,F+.5-k);n.lineTo(X,F+.5);n.lineTo(X-k,F+.5+k);
n.closePath();n.fill();n.transform(0,1,1,0,0,0)}n.restore()};gD.aja=function(j,n,Q){var a=new ar(x.E.B,!0);
if(j.length==3)a.data={Q:x.l.Vg,Z8:"colorpicker",Cx:K.G8({n:j[0]*255,i:j[1]*255,b:j[2]*255}),CP:Q};else a.data={Q:x.l.Vg,Z8:"vgradienteditor",J:j,CP:Q};
n.a(a)};gD.P5=function(j,n,Q,a,B,m,R,q){function U(X,g){return CSS.E1({n:X[0]*255,i:X[1]*255,b:X[2]*255},g)}if(n==null){j.fillStyle="#888888";
j.clearRect(m,R,a,B);j.font=Math.round(B*.6*(q?.5:1))+"px sans-serif";j.fillStyle="white";if(q){j.fillText("?",m+a*.05,R+B*.3);
j.fillText("?",m+a*.8,R+B*.3);j.fillText("?",m+a*.05,R+B*.9);j.fillText("?",m+a*.8,R+B*.9)}else j.fillText("?",a*.36,B*.7)}else if(n.length==0){j.fillStyle="#ffffff";
j.fillRect(m,R,a,B);j.strokeStyle="#ff0000";j.lineWidth=2;j.moveTo(m,R);j.lineTo(m+a,R+B);j.moveTo(m,R+B);
j.lineTo(m+a,R);j.stroke()}else if(n.length==3){j.fillStyle=U(n);j.fillRect(m,R,a,B)}else if(n.length==4){var l=m+a/2,b=R+B/2,D=n[0]==0?j.createLinearGradient(m,R,m+a,R):j.createRadialGradient(l,b,0,l,b,a/2);
K.Gp.AQ(D,n[1]);j.fillStyle=D;j.fillRect(m,R,a,B)}else if(n.length==2){var c=Q.H2[n[0]];j.save();j.fillStyle="white";
j.fillRect(m,R,a,B);j.rect(m,R,a,B);j.scale(a/c.q,B/c._);j.fillStyle=c.k3;j.fill();j.restore()}j.lineWidth=1;
j.strokeStyle="white";j.strokeRect(m+.5,R+.5,a-1,B-1);if(q){var _=Math.floor(a*.28),p=a-2*_;j.clearRect(m+_,m+_,p,p);
j.strokeRect(m+_+.5,m+_+.5,p-1,p-1)}};function hG(j){ab.call(this,j,!1,"brushbutton nopadding",19*13,10*13,b3.o9,!0);
var n=this.av8;V.BZ(n,"flexrow");var Q=V.d("div");n.appendChild(Q);var a=V.d("div");n.appendChild(a);
V.v(a,"margin-left:8px");this.u7=new by(null,null,!0);this.u7.P(x.E.f,this.g1,this);Q.appendChild(this.u7.Z);
this.rP=new i5([12,14,0],1,1e3," px",0,!0);this.rP.P(x.E.f,this.g1,this);a.appendChild(this.rP.Z);this.p6=new i5([12,17],0,100,"%");
this.p6.P(x.E.f,this.g1,this);a.appendChild(this.p6.Z);this.rr=new is(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.rr.P(x.E.f,this.g1,this);a.appendChild(this.rr.Z)}hG.prototype=new ab;hG.prototype.Fi=function(){var j=["pencil","trees"];
for(var v=0;v<j.length;v++)j[v]="brushes/"+j[v]+".abr";return j};hG.prototype.p=function(j,n,Q){this.yY=K.u(j);
var a=Math.floor(20*V.lS()),B=Math.floor(36*V.lS()),m=Math.floor(24*V.lS()),R=jm.r9(j,n,Q,a,m,B);this.nN.setAttribute("src",R);
V.GV(this.nN,B,m);var q=j.Brsh.v;this.rP.p(q.Dmtr.v.val);if(q.Hrdn!=null){this.p6.I6();this.p6.p(q.Hrdn.v.val)}else this.p6.QE();
if(q.Angl!=null)this.u7.p([q.Angl.v.val]);if(q.Rndn!=null)this.u7.p([null,null,q.Rndn.v.val/100]);var U=[!1,!1];
if(j.opVr)U[0]=j.opVr.v.bVTy.v==2;if(j.szVr)U[1]=j.szVr.v.bVTy.v==2;this.rr.p(U)};hG.prototype.QU=function(){return{list:[{t:"Objc",v:this.j()}],wP:[],jy:[]}};
hG.prototype.j=function(){return this.yY};hG.prototype.NV=function(){if(!this.Q4)return;var j=[],n=[],Q=this.lQ,a=Math.floor(33*V.lS()),B=Math.floor(40*V.lS());
for(var v=0;v<Q.list.length;v++){var m=Q.list[v].v,R=jm.r9(m,Q.wP,Q.jy,a,B);j.push(R);n.push(m.Nm.v)}this.oE.YS(j,n,a,B);
this.Q4=!1};hG.prototype.Jw=function(j){var n=this.lQ;this.p(n.list[this.oE.j()[0]].v,n.wP,n.jy);this.a(new ar(x.E.f))};
hG.prototype.S=function(){ab.prototype.S.call(this);this.u7.S();this.rP.S();this.p6.S()};hG.prototype.g1=function(j){var n=this.lQ,Q=this.yY,a=Q.Brsh.v;
a.Dmtr.v.val=this.rP.j();if(a.Hrdn!=null)a.Hrdn.v.val=this.p6.j();if(a.Angl!=null)a.Angl.v.val=this.u7.j()[0];
if(a.Rndn!=null)a.Rndn.v.val=Math.round(this.u7.j()[2]*100);if(j.target==this.rr)ic.acg(Q,this.rr.j());
this.p(Q,n.wP,n.jy);this.a(new ar(x.E.f))};function kD(j){ab.call(this,j,!0,"contourbutton",17*13,10.5*13,b3.mM)}kD.prototype=new ab;
kD.prototype.Jw=function(j){this.p(this.lQ[j.target.j()]);this.a(new ar(x.E.f))};kD.prototype.oT=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.Vg,Z8:"contoureditor",C5:this.yY,response:this.a3n.bind(this)};this.a(n)};kD.prototype.a3n=function(j){this.p(j);
this.a(new ar(x.E.f))};kD.prototype.NV=function(){if(!this.Q4)return;var j=Math.floor(38*V.lS()),n=Math.floor(38*V.lS()),Q=[],a=[],B=this.lQ;
for(var v=0;v<B.length;v++){a.push(B[v].Nm?B[v].Nm.v:"");Q.push(K.c0.r9(B[v].Crv.v,j,n))}this.oE.YS(Q,a,j,n);
this.Q4=!1};kD.prototype.p=function(j){this.yY=K.u(j);var n=this.yY.Crv.v;for(var v=0;v<n.length;v++)if(n[v].v.Cnty==null)n[v].v.Cnty={t:"bool",v:!0};
this.eq()};kD.prototype.eq=function(){var j=Math.floor(30*V.lS()),n=Math.floor(30*V.lS()),Q=K.c0.r9(this.yY.Crv.v,j,n);
this.nN.setAttribute("src",Q);V.GV(this.nN,j,n)};function iG(j){eD.call(this);this.Sv=null;this.H=null;
this.uM=null;this.RO=null;this.aDS=[];this.aiu=[];this.Z=V.d("span","fitem fillbutton");this.yL=new eD;
this.yL.Z=V.d("div","floatcont form");V.v(this.yL.Z,"width: 21em;");this.yL.parent=this;this.Ft=j;this.IW=this.IW=V.d("label","flabel");
this.Z.appendChild(this.IW);this.q$=V.d("canvas");this.Pf=this.q$.getContext("2d");this.ayF=null;this.Z.appendChild(this.q$);
V.ON(this.q$,this.Jd.bind(this));this.Qb=new aY([12,66],["","Color","Grad","Patt"]);this.yL.Z.appendChild(this.Qb.Z);
this.Qb.P(x.E.f,this.Uj,this);this.yL.Z.appendChild(V.d("hr"));this.az2=V.d("span");this.$J=new ci(!1);
this.$J.parent=this.yL;this.$J.P(x.E.f,this.Uj,this);this.UW=new gY(10);this.UW.P(x.E.f,this.Uj,this);
this.P0=V.d("div","marged hiline");this.P0.appendChild(this.$J.Z);V.pd(this.P0);this.P0.appendChild(this.UW.Z);
this.Ja=new jz("GrFl",!0);this.Ja.parent=this.yL;this.Ja.P(x.E.f,this.Uj,this);this.gd=V.d("div","marged hiline");
var n="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var v=0;v<n.length;v++){var Q=this.Ja.kW[n[v]].Z;
this.gd.appendChild(Q)}this._B=new jz("patternFill",!0);this._B.parent=this.yL;this._B.P(x.E.f,this.Uj,this);
this.ez=V.d("div","marged hiline");var n=["Ptrn","Angl","Scl","Algn","phase"];for(var v=0;v<n.length;
v++){var Q=this._B.kW[n[v]].Z;this.ez.appendChild(Q)}}iG.prototype=new eD;iG.prototype.sW=function(j,n){var Q=fF.As(j,n);
if(Q!=null)this.UW.p(Q);if(n==b3.PT){this.aDS=[];this.aiu=[];if(this.Sv)this.p(this.uM,this.j(),this.Sv)}this.H=j;
this.Ja.sW(j,n);this._B.sW(j,n)};iG.prototype.S=function(){this.IW.textContent=i4.get(this.Ft)+": ";
this.Qb.S();this.$J.S();this.Ja.S();this._B.S()};iG.prototype.Uj=function(j){var n=j.currentTarget;if(n==this.Qb){var Q=this.Qb.j(),a={px:Q,zT:this.Sv[Q]};
if(Q>0&&a.zT==null)a.zT=K.u(g8.hF[Q-1]);if(this.Sv)this.p(this.uM,a,this.Sv)}if(n==this.UW)this.$J.au(n.j());
this.a(new ar(x.E.f,!1))};iG.prototype.Jd=function(j){if(V.gU(this.yL.Z))return;j.stopPropagation();
var n=[[13,1,0],[13,0],[12,37],[12,62]],Q=this.Sv,a=this.aDS,B=this.aiu,m=!1;for(var v=0;v<4;v++){var R={px:v,zT:Q[v]},q=iG.ajs(R);
if(B[v]==q)continue;m=!0;var U=iG.a5z(null,R,this.H,this.uM,22,22,!1);a[v]="<img width=\"22\" height=\"22\" src=\""+U+"\" />";
B[v]=q}if(m)this.Qb.MD(a,n);var l=this.q$.getBoundingClientRect(),b=new ar(x.E.B,!0);b.data={Q:x.l.Ix,cB:this.yL,x:l.left,y:l.top+l.height+4};
this.a(b)};iG.prototype.p=function(j,n,Q){this.Sv=Q;this.uM=j;this.Qb.p(n.px);var a=iG.ajs(n),B;if(a!=this.ayF)iG.a5z(this.Pf,n,this.H,this.uM,30,23,!0);
this.ayF=a;var m=n.px;if(m==0){B=this.az2}if(m==1){this.$J.p(n.zT.Clr.v);B=this.P0}if(m==2){this.Ja.update(j,n.zT);
B=this.gd}if(m==3){this._B.update(j,n.zT);B=this.ez}if(B!=this.RO){if(this.RO!=null){this.yL.Z.removeChild(this.RO)}this.yL.Z.appendChild(B);
this.RO=B}};iG.prototype.j=function(){var j={px:this.Qb.j()};if(j.px==1){j.zT=K.u(g8.hF[0]);j.zT.Clr.v=this.$J.j()}if(j.px==2){j.zT=this.Ja.j()}if(j.px==3){j.zT=this._B.j()}return j};
iG.ajs=function(j){var n=j.px,Q=j.zT,a="empty";if(n==1){a=K.Gp.qF(Q.Clr.v);a=a.n+","+a.i+","+a.b}if(n==2)a=JSON.stringify(Q.Grad.v);
if(n==3)a=Q.Ptrn.v.Idnt.v;return a};iG.a5z=function(j,n,Q,a,B,m,R){if(j==null)j=iG.Pf;var q=Math.floor(B*V.lS()),U=Math.floor(m*V.lS()),l=j.canvas;
l.width=q;l.height=U;V.GV(l,q,U);iG.a7g(j,n,Q,a,q,U);if(R){j.beginPath();j.strokeStyle="#000000";j.fillStyle="#ffffff";
j.lineWidth=2;var b=q*.7,D=Math.floor(U*.7),c=7*V.lS();j.moveTo(b,D);j.lineTo(b+c,D);j.lineTo(b+c/2,D+c/2);
j.closePath();j.stroke();j.fill()}if(j==iG.Pf)return l.toDataURL()};iG.Pf=V.d("canvas").getContext("2d");
iG.a7g=function(j,n,Q,a,B,m,R,q){if(R==null)R=0;if(q==null)q=0;var U=n.px;if(U==0){j.fillStyle="#ffffff";
j.fillRect(R,q,B,m);j.strokeStyle="#ff0000";j.lineWidth=2;j.moveTo(R,q);j.lineTo(R+B,q+m);j.moveTo(R,q+m);
j.lineTo(R+B,q);j.stroke()}if(U==1){var l=n.zT.Clr.v;l=K.Gp.qF(l);j.fillStyle="#"+K.EA(l.n<<16|l.i<<8|l.b);
j.fillRect(R,q,B,m)}if(U==2){var b=N.$A.r9(n.zT.Grad.v,B,m,0,Q.Z4,Q.g7,!0);j.putImageData(b,R,q)}if(U==3){var D=n.zT.Ptrn.v,c;
if(a!=null)c=gq.Te(D,a.add.Patt);if(c==null)c=gq.Te(D,Q._f);hp.r9(c,B,m,j.canvas)}};function hp(j){ab.call(this,j,!1,"patternbutton",18*13,10*13,b3.PT);
this.Vl=null}hp.prototype=new ab;hp.prototype.Jw=function(j){var n=this.lQ[this.oE.j()];this.yY={classID:"Ptrn",Nm:{t:"TEXT",v:n.name},Idnt:{t:"TEXT",v:n.id}};
this.a(new ar(x.E.f));this.eq()};hp.prototype.NV=function(){if(!this.Q4)return;var j=this.lQ,n=Math.floor(34*V.lS()),Q=Math.floor(34*V.lS()),a=[],B=[];
for(var v=0;v<j.length;v++){a.push(hp.r9(j[v],n,Q));B.push(j[v].name)}this.oE.YS(a,B,n,Q);this.Q4=!1};
hp.prototype.p=function(j,n){if(this.yY&&j.Idnt.v==this.yY.Idnt.v)return;this.yY=K.u(j);this.eq(n)};
hp.prototype.j=function(){return K.u(this.yY)};hp.prototype.QU=function(){return this.Vl?[this.Vl]:[]};
hp.prototype.eq=function(j){var n=Math.floor(50*V.lS()),Q=Math.floor(50*V.lS()),a;if(j!=null)a=gq.Te(this.yY,j.add.Patt);
if(a==null)a=gq.Te(this.yY,this.lQ);this.Vl=a;var B=hp.r9(a,n,Q);this.nN.setAttribute("src",B);V.GV(this.nN,n,Q)};
hp.q$=V.d("canvas","");hp.r9=function(j,n,Q,a){if(a==null)a=hp.q$;var B=a.getContext("2d");a.width=n;
a.height=Q;if(j){var m=j.Fd[1],R=m.q,q=m._,U=j.Fd[0],l=Math.min(n/R,Q/q),b=l;if(b*R<2)b=2/R;var D=l;
if(D*q<2)D=2/q;var c=N.IP.sO([U,m],new j8(b,0,0,D,0,0),b>2),_=c.s.q,p=c.s._,X=new ImageData(_,p);K.D1(c.buffer,X.data);
B.putImageData(X,Math.floor((n-_)/2),Math.floor((Q-p)/2))}return a.toDataURL()};function jN(j,n,Q){if(n==null)n=24.2;
if(Q==null)Q=17;ab.call(this,j,!1,"patternbutton",n*13,Q*13,b3.mt);this.s2=""}jN.prototype=new ab;jN.prototype.Jw=function(j){this.yY=K.u(this.lQ[0][this.oE.j()[0]]);
this.a(new ar(x.E.f))};jN.prototype.NV=function(){var j=this.lQ;if(j==null||!this.Q4)return;var n=Math.floor(50*V.lS()),Q=Math.floor(50*V.lS()),a=[],B=[];
for(var v=0;v<j[0].length;v++){a.push(jN.r9(this.lQ[0][v].IK,n,Q,this.lQ[1]));B.push(j[0][v].t_.Nm.v.split("=").pop())}this.oE.YS(a,B,n,Q);
this.Q4=!1};jN.prototype.p=function(j,n,Q,a){var B=JSON.stringify(j.IK)+","+Q+","+a;if(this.s2!=B){this.s2=B;
this.yY=K.u(j);this.eq(n,Q,a)}};jN.prototype.eq=function(j,n,Q){var a=Math.floor(68*V.lS()),B=Math.floor(68*V.lS()),m=jN.r9(this.yY.IK,a,B,j?j:this.lQ[1],n,Q);
this.nN.setAttribute("src",m);V.GV(this.nN,a,B)};jN.r9=function(j,n,Q,a,B,m){var R=new hs;R.q=n;R._=Q;
R.buffer=K.U(n*Q*4);R.add.Patt=a;R.yG(B==null?90:B);R.VM(m==null?30:m);var q=new b4(0,0,Math.round(n*.5),Math.round(Q*.5));
q.x=Math.round((n-q.q)/2);q.y=Math.round((Q-q._)/2);var U=R.JL();U.s=q;U.buffer=K.U(q.$()*4);K.G5(U.buffer,4284045657);
gq.aFs(j,U,.5*100);R.T.push(U);R.iN();R.ge();var l=gz.oB;gz.oB=!1;R.D$();var b=R.rd();gz.oB=l;var D=fj.PH(b.buffer,R.q,R._);
return D};function gc(j){ab.call(this,null,!1,"tpresetbutton",18*13,24*13,b3.jq,!0);V.yZ(this.Z,"fitem");
this.oE.qo(1);this.id=j;this.eq();this.Q.style.overflow="hidden";this.E$=new k9([15,7,9]);this.E$.p(!0);
this.E$.P(x.E.f,this.atu,this);this.mB.appendChild(this.E$.Z)}gc.prototype=new ab;gc.prototype.anr=function(j){if(this.id==j)return;
this.id=j;this.gn(this.lQ)};gc.prototype.Jw=function(j){var n=this.lQ[this.oE.j()],Q=new ar(x.E.B,!0);
Q.data={Q:x.l.m6,rf:"set",_X:b3.jq,uU:n};this.a(Q)};gc.prototype.S=function(){ab.prototype.S.call(this);
this.E$.S()};gc.prototype.atu=function(){this.Q4=!0;this.NV()};gc.prototype.NV=function(){if(!this.Q4)return;
var j=Math.floor(16*V.lS()),n=Math.floor(16*V.lS()),Q=[],a=[],B=this.lQ,m=this.E$.j();for(var v=0;v<B.length;
v++){var R=N.JJ[B[v][1].classID];if(!m||R==this.id){a.push(B[v][0]?B[v][0].split("=").pop():"");Q.push(R==-1?"":PIMG[N.vs[R]])}else{Q.push(null);
a.push(null)}}this.oE.YS(Q,a,j,n);this.Q4=!1};gc.prototype.eq=function(){var j=this.nN;j.setAttribute("src",PIMG[N.vs[this.id]]);
V.BZ(j,"toolicon")};gc.prototype.QU=function(){return null};gc.C3={};gc.r9=function(j,n,Q){var a=gc.Pf,B=gc.C3,m=K.EA(j.n<<16|j.i<<8|j.b);
if(B[m])return B[m];if(a==null){var R=V.d("canvas");a=gc.Pf=R.getContext("2d")}var R=a.canvas;R.width=n;
R.height=Q;a.fillStyle="#"+m;a.fillRect(0,0,n,Q);var q=B[m]=R.toDataURL();return q};function d7(j,n,Q){eD.call(this);
this.Z=V.d("span","fitem curveeditor");this.fU=null;this.aqP=0;this.Pc="";this.mode=0;this.qG=j;this.a7d=n;
this.a53=Q;this.Hj=null;this.S2=null;this.amS=0;this.aon=0;this.Q_=new eE;this.H1=this.qM.bind(this);
this.Jf=this.cW.bind(this);this.cZ=256;this.q$=V.d("canvas");this.Pf=this.q$.getContext("2d");V.as(this.q$);
this.Z.appendChild(this.q$);this.rs(256,256);V.ON(this.q$,this.hz.bind(this));this.coords=V.d("div");
V.v(this.coords,"width:250px");this.Z.appendChild(this.coords);var a=this.Hc=Q?100:255,B=null;this.D_=new i7("X (in)",0,a,B,0,!1,!0);
this.kN=new i7("Y (out)",0,a,B,0,!1,!0);this.dx=new k9([19,3,0]);this.D_.P(x.E.f,this.qe,this);this.kN.P(x.E.f,this.qe,this);
this.dx.P(x.E.f,this.qe,this);this.coords.appendChild(this.D_.Z);if(Q)this.coords.appendChild(this.dx.Z);
this.coords.appendChild(this.kN.Z)}d7.prototype=new eD;d7.prototype.S=function(){this.dx.S();this.D_.S();
this.kN.S()};d7.prototype.rs=function(j,n){this.cZ=Math.round(j);this.Pf.resetTransform();V.w9(this.q$,this.cZ,this.cZ,this.Pf);
this.Pf.scale(this.cZ/256,this.cZ/256);if(this.Hj)this._J()};d7.prototype.qe=function(j){var v=this.afB(),n=this.Hj[v],Q=255/this.Hc;
n.v.Hrzn.v=this.D_.j()*Q;n.v.Vrtc.v=this.kN.j()*Q;if(this.a53)n.v.Cnty.v=this.dx.j();this.Hj.sort(function(a,B){return a.v.Hrzn.v-B.v.Hrzn.v});
this._J();this.a(new ar(x.E.f))};d7.prototype.p=function(j,v){var n=JSON.stringify(j);if(n==JSON.stringify(this.Hj))return;
this.mode=j.length==256?1:0;this.Hj=JSON.parse(n);if(v!=null)this.S2=this.Hj[v];this._J()};d7.prototype.IV=function(j,n,Q){this.fU=j;
this.aqP=n;this.Pc=Q;this._J()};d7.prototype.j=function(){return K.u(this.Hj)};d7.prototype.afB=function(){return this.Hj.indexOf(this.S2)};
d7.prototype.hz=function(j){var n=256/this.cZ,Q=V.MR(j,this.q$);Q.x*=n;Q.y*=n;var a=Q.x,B=256-Q.y;if(this.qG){var m=a;
a=256-B;B=m}this.Q_.OI(a,B);if(this.mode==0){var R=0,q=1e9,c;for(var v=0;v<this.Hj.length;v++){var U=this.Hj[v].v,l=U.Hrzn.v-a,b=U.Vrtc.v-B,D=Math.sqrt(l*l+b*b);
if(D<q){q=D;R=v}}if(q<15)c=this.Hj[R];else{c=K.c0.yH(a,B,!0);this.Hj.push(c);this.Hj.sort(function(_,p){return _.v.Hrzn.v-p.v.Hrzn.v})}this.S2=c;
this.aon=this.Hj.slice(0)}V.NF(document.body,this.H1);V.GL(document.body,this.Jf);this.qM(j)};d7.prototype.qM=function(j){var n=256/this.cZ,Q=V.MR(j,this.q$);
Q.x*=n;Q.y*=n;var a=Q.x,B=256-Q.y;if(this.qG){var m=a;a=256-B;B=m}if(this.mode==0){var R=this.Hj,q=this.S2,U=this.aon,l=U.indexOf(q),b=R.indexOf(q)!=-1,D=U.length-1,c=a;
if(l==0){c=Math.max(0,Math.min(U[1].v.Hrzn.v-1,a))}else if(l==D){c=Math.min(255,Math.max(U[D-1].v.Hrzn.v+1,a))}else{var _=a<0||a>255||B<0||B>255;
if(a<=U[l-1].v.Hrzn.v||a>=U[l+1].v.Hrzn.v)_=!0;if(!_&&!b)R.splice(l,0,q);if(_&&b)R.splice(l,1)}if(this.a7d&&(l==0||l==U.length-1)){}else q.v.Hrzn.v=Math.round(c);
q.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(B)))}else{a=Math.round(a);B=Math.round(B);a=Math.max(0,Math.min(255,a));
B=Math.max(0,Math.min(255,B));var p=this.Q_.x,X=a,g=this.Q_.y,F=B;if(a<this.Q_.x){X=p;p=a;F=g;g=B}this.Hj[a]=B;
if(p!=X)for(var k=p;k<=X;k++)this.Hj[k]=Math.round(g+(k-p)*(F-g)/(X-p))}this.Q_.OI(a,B);this._J();this.a(new ar(x.E.f))};
d7.prototype.cW=function(j){V.na(document.body,this.H1);V.rq(document.body,this.Jf);this.a(new ar(x.E.f))};
d7.prototype._J=function(){var j=this.Pf,n=this.q$;j.fillStyle="#ffffff";j.fillRect(0,0,256,256);var Q=256/n.width;
if(this.fU){j.save();j.translate(0,256);j.scale(1,-1);cD.anx(j,this.fU,5700/this.aqP,this.Pc);j.restore()}j.strokeStyle="#aaaaaa";
j.lineWidth=1*Q;j.beginPath();for(var v=1;v<4;v++){var a=(Math.floor(64*v/Q)+.5)*Q;j.moveTo(0,a);j.lineTo(255,a);
j.moveTo(a,0);j.lineTo(a,255)}j.stroke();if(this.qG){j.save();j.transform(0,1,-1,0,256,0)}if(this.mode==0){var B=this.Hj,m=K.c0.eQ(B,256);
j.strokeStyle="#000000";j.beginPath();j.moveTo(0,255.5-m[0]);for(var v=0;v<256;v++)j.lineTo(v,255.5-m[v]);
j.stroke();j.lineWidth=2*Q;for(var v=0;v<B.length;v++){var R=B[v].v;j.fillStyle=this.S2==B[v]?"#333":"#fff";
j.beginPath();j.moveTo(R.Hrzn.v,255.5-R.Vrtc.v);j.arc(R.Hrzn.v,255.5-R.Vrtc.v,5*Q,0,2*Math.PI);j.stroke();
j.fill()}}else{var m=this.Hj;j.strokeStyle="#000000";j.beginPath();j.moveTo(0,255.5-m[0]);for(var v=0;
v<256;v++)j.lineTo(v,255.5-m[v]);j.stroke()}if(this.qG)j.restore();var v=this.afB();this.coords.className=v==-1?"disabled":"";
if(v==-1)return;var R=this.Hj[v].v,q=255/this.Hc;this.D_.p(Math.round(R.Hrzn.v/q));this.kN.p(Math.round(R.Vrtc.v/q));
if(R.Cnty)this.dx.p(R.Cnty.v)};function cD(j,n){eD.call(this);this.Z=V.d("span","");this.ZT=new hQ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.ZT.P(x.E.f,this.HD,this);this.Z.appendChild(this.ZT.Z);V.pd(this.Z);var Q=V.d("div");this.Z.appendChild(Q);
V.v(Q,"background-color: var(--bg-canvas); margin:6px 0;");this.q$=V.d("canvas");var a=this.q$;Q.appendChild(a);
a.width=Math.round(j*V.lS());a.height=Math.round(100*V.lS());V.GV(a,a.width,a.height);a.style.display="block";
this.Pf=a.getContext("2d");this.fU=null;this.bh=0;this.atm=null;this.aCg=[];this.Jk=[];var B=["Mean:","Pixels:"],m=this.Z;
if(n)for(var v=0;v<B.length;v++){var R=new kC(B[v]);this.aCg.push(R);m.appendChild(R.Z);var q=new kC("hi");
this.Jk.push(q);m.appendChild(q.Z);V.pd(m)}}cD.prototype=new eD;cD.prototype.S=function(){this.ZT.S()};
cD.prototype.qo=function(j){this.ZT.p(j);this.HD()};cD.prototype.p=function(j,n){this.fU=j;this.atm=n;
this.HD()};cD.prototype.au=function(j){if(j==this.bh)return;this.bh=j;this.HD()};cD.prototype.HD=function(){if(this.fU==null)return;
var j=this.q$,n=this.Pf,Q=this.fU,a=this.atm,B=this.ZT.j(),m=6e3/Q[4],R="#"+K.EA(this.bh),q=cD.anx;j.width=j.width;
n.setTransform(j.width/256,0,0,-j.height/100,0,j.height);n.globalCompositeOperation="lighter";if(B==0)q(n,Q[0],m/3,R);
else if(B<4)q(n,Q[B],m,R);else{q(n,Q[1],m,"#ff0000");q(n,Q[2],m,"#00ff00");q(n,Q[3],m,"#0000ff")}n.setTransform(1,0,0,1,0,0);
if(a!=null){if(B==4)B=0;var U=0;for(var v=0;v<256;v++)U+=v*Q[B][v];if(B==0)U/=3;this.Jk[0].p((U/a).toFixed(1)+"");
this.Jk[1].p(a+"")}};cD.anx=function(j,n,Q,a){j.beginPath();j.moveTo(0,0);for(var B=0;B<256;B++)j.lineTo(B,n[B]*Q);
j.lineTo(256,0);j.closePath();j.fillStyle=a;j.fill()};function jf(j,n){eD.call(this);this.Qy={n:0,i:0,b:0};
if(Math.abs(j-256/V.lS())<10)j=256/V.lS();var Q=this.Z=V.d("div","flexrow");Q.style.position="relative";
var a=this.adF=V.d("div");Q.appendChild(a);this.Tn=new eE;this.Vf=new eE;this.tM=this.Kv.bind(this);
this.b$=this.a6m.bind(this);this.q$=V.d("canvas","");this.Pf=this.q$.getContext("2d");this.q$.width=this.q$.height=256;
this.axe=this.Pf.getImageData(0,0,256,256);this.aqf=-1;this.adS="";this.E0=null;V.as(this.q$);V.ON(this.q$,this.aGe.bind(this));
a.appendChild(this.q$);this.ayG=this.aoW.bind(this);this.abB=this.ag6.bind(this);this.QW=V.d("canvas","");
this.BD=this.QW.getContext("2d");this.QW.width=20;this.QW.height=256;this.ack=this.BD.getImageData(0,0,20,256);
jf.aed(this.ack.data,20,256);V.as(this.QW);V.ON(this.QW,this.aHK.bind(this));Q.appendChild(this.QW);
V.v(this.q$,"width:"+j+"px; height:"+j+"px");V.v(this.QW,"width:16px; height:"+j+"px");this.bd=new k9("Web Colors\u2001");
this.bd.P(x.E.f,this.update,this);this.VZ=new k9("CMYK gamut");this.VZ.P(x.E.f,this.update,this);if(n){V.pd(a);
a.appendChild(this.bd.Z);a.appendChild(this.VZ.Z)}var B=this.CY=document.createElementNS("http://www.w3.org/2000/svg","svg");
Q.appendChild(B)}jf.prototype=new eD;jf.prototype.rs=function(j,n){this.q$.style.width=this.adF.style.width=j-16+"px"};
jf.prototype.p=function(j){if(this.bd.j()){var n=K.u(j);jf.CJ(n);var Q=this.j();if(n.n==Q.n&&n.i==Q.i&&n.b==Q.b)j=this.Qy}this.Qy=j;
this.update()};jf.prototype.j=function(){var j=K.u(this.Qy);if(this.bd.j())jf.CJ(j);return j};jf.prototype.update=function(){var j=this.Qy,n=K.Qq(j.n,j.i,j.b),q=18;
if(n.n8==0)n.bD=this.Tn.x/255;if(n.bD==0||n.n8==0)n.WC=(255-this.b0(this.Vf.y))/255;if(n.n8!=0)this.Tn.x=n.bD*255;
this.Tn.y=(1-n.n8)*255;this.Vf.y=(1-n.WC)*255;var Q=this.axe,a=this.bd.j(),B=this.VZ.j(),m=a+","+B;if(Math.abs(n.WC-this.aqf)>.002||this.adS!=m){this.avU(new Uint8Array(Q.data.buffer),256,256,n.WC,a,B);
this.ab7();this.aqf=n.WC;this.adS=m}var R=this.Pf;R.putImageData(Q,0,0);Q=this.ack;R=this.BD;R.putImageData(Q,0,0);
R.strokeStyle="#ffffff";R.beginPath();R.moveTo(0,this.Vf.y);R.lineTo(20,this.Vf.y);R.lineWidth=2;R.stroke();
var U=this.Tn.y/255,l=parseFloat(this.q$.style.width),b=parseFloat(this.q$.style.height),D=this.CY;D.setAttribute("width",q);
D.setAttribute("height",q);var c=Math.round(j.n*255)<<16|Math.round(j.i*255)<<8|Math.round(j.b*255),_="<circle cx=\""+q/2+"\" cy=\""+q/2+"\" r=\""+q/2+"\" fill=\"#"+K.EA(c)+"\"></circle>";
_+="<circle cx=\""+q/2+"\" cy=\""+q/2+"\" r=\""+(-.5+q/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*U)+")\" stroke-width=\"1\"></circle>";
_+="<circle cx=\""+q/2+"\" cy=\""+q/2+"\" r=\""+(-1.2+q/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
D.innerHTML=_;D.style.pointerEvents="none";D.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
D.style.position="absolute";D.style.left=l*(this.Tn.x/255)-q/2+"px";D.style.top=b*(this.Tn.y/255)-q/2+"px"};
jf.CJ=function(j){j.n=~~(.5+j.n*5)*.2;j.i=~~(.5+j.i*5)*.2;j.b=~~(.5+j.b*5)*.2};jf.prototype.avU=function(j,n,Q,a,B,m){var R=1/n,q=1/Q;
for(var U=0;U<Q;U++)for(var l=0;l<n;l++){var b=K.JG(a,l*R,(Q-U-1)*q);if(B)jf.CJ(b);var v=U*n+l<<2;j[v+0]=~~(b.n*255);
j[v+1]=~~(b.i*255);j[v+2]=~~(b.b*255);j[v+3]=255}if(m){var D=j.slice(0),c=K.yu("rgbToRgbC"),_=c[2],p=c[3];
ICC.U.applyLUT(p,_,D,D);this.E0=K.U(n*Q);for(var v=0;v<j.length;v+=4){var X=j[v]-D[v],g=j[v+1]-D[v+1],F=j[v+2]-D[v+2],k=X*X+g*g+F*F;
if(k>300){j[v]=j[v+1]=j[v+2]=200;this.E0[v>>>2]=255}}}};jf.aed=function(j,n,Q,a,B){if(a==null)a=1;if(B==null)B=0;
var m=new Uint32Array(j.buffer);for(var R=0;R<Q;R++){var q=K.JG((1+a*(1-R/Q)+B)%1,1,1),U=255<<24|q.b*255<<16|q.i*255<<8|q.n*255;
for(var l=0;l<n;l++)m[R*n+l]=U}};jf.prototype.aGe=function(j){V.NF(window,this.tM);V.GL(window,this.b$);
this.Kv(j);this.CY.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.CY.style.transform="scale(2.4)"};
jf.prototype.a6m=function(j){V.na(window,this.tM);V.rq(window,this.b$);this.CY.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.CY.style.transform="scale(1)"};jf.prototype.Kv=function(j){var n=V.MR(j,this.q$);n.x=n.x*(256/parseFloat(this.q$.style.width));
n.y=n.y*(256/parseFloat(this.q$.style.height));this.Tn.OI(this.b0(n.x),this.b0(n.y));this.ab7();this.ww()};
jf.prototype.ab7=function(){if(!this.VZ.j())return;var j=this.Tn,n=0,Q=0,a=1e9;for(var B=0;B<256;B++){for(var m=0;
m<256;m++){if(this.E0[B*256+m]==255)continue;var R=m-j.x,q=B-j.y,U=R*R+q*q;if(U<a){n=m;Q=B;a=U}}}j.x=n;
j.y=Q};jf.prototype.ww=function(){this.Qy=this.aG3();this.a(new ar(x.E.f))};jf.prototype.aG3=function(){var j=K.JG((255-this.b0(this.Vf.y))/255,this.eB(this.Tn.x/255),this.eB(1-this.Tn.y/255));
return{n:j.n,i:j.i,b:j.b}};jf.prototype.aHK=function(j){V.NF(window,this.ayG);V.GL(window,this.abB);
this.aoW(j)};jf.prototype.ag6=function(j){V.na(window,this.ayG);V.rq(window,this.abB)};jf.prototype.aoW=function(j){var n=V.MR(j,this.QW);
n.y=n.y*(256/parseFloat(this.QW.style.height));this.Vf.OI(this.b0(n.x),this.b0(n.y));this.ww()};jf.prototype.b0=function(j){return Math.max(0,Math.min(255,j))};
jf.prototype.eB=function(j){return Math.max(0,Math.min(1,j))};function dQ(j,n,Q,a){var B=aY.cH(n,a);
aY.call(this,j,B,Q)}dQ.prototype=new aY;function de(){eD.call(this);this.Wn=new fw;this.Wn.P(x.E.f,this.arw,this);
this.Wn.parent=this;this.Me=new i7([12,14,0],1,150,"px",2,!0);this.Me.P(x.E.f,this.L8,this);this.Me.parent=this;
this.pn=new i7([16,0],.01,100,"px",2,!0,null,5);this.pn.P(x.E.f,this.L8,this);this.pn.parent=this;this.FH=new k9("Auto");
this.FH.P(x.E.f,this.L8,this);this.TH=new i7([16,1],-500,5e3,"%",0,!0);this.TH.P(x.E.f,this.L8,this);
this.TH.parent=this;this.b3=new i7("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.b3.P(x.E.f,this.L8,this);
this.b3.parent=this;this.TD=new i7("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.TD.P(x.E.f,this.L8,this);
this.TD.parent=this;this.__=new i7([16,2],-10,10,"px");this.__.P(x.E.f,this.L8,this);this.__.parent=this;
this.aD=new ci(!0);this.aD.P(x.E.f,this.xj,this);this.aD.parent=this;this.jr=new ci(!0);this.jr.P(x.E.f,this.xj,this);
this.jr.parent=this;this.AM=new ci(!0);this.AM.P(x.E.f,this.xj,this);this.AM.parent=this;this.JT=new ci(!0);
this.JT.P(x.E.f,this.xj,this);this.JT.parent=this;this.t3=new k9([2,3]);this.t3.P(x.E.f,this.L8,this);
this.os=new k9([14,9]);this.os.P(x.E.f,this.L8,this);this.$V=new k9([12,46]);this.$V.P(x.E.f,this.L8,this);
this.xv=new jg(!0,!0);this.xv.P(x.E.f,this.L8,this);this.GF=new ef("...",null,null,!0);this.GF.Z.style.marginLeft="-8px";
V.ON(this.GF.Z,this.amC.bind(this));this.yL=new eD;var j=this.yL.Z=V.d("div","floatcont form"),R=100;
this.yL.parent=this;this.xv.parent=this.yL;this.ty=new i7([12,41],1,20,"px",0,!0,!0);this.ty.Z.style.marginLeft="16px";
this.ty.P(x.E.f,this.L8,this);this.ty.parent=this.yL;j.appendChild(this.jr.Z);j.appendChild(this.t3.Z);
V.pd(j);j.appendChild(this.AM.Z);j.appendChild(this.os.Z);V.pd(j);j.appendChild(this.ty.Z);j.appendChild(this.xv.Z);
V.pd(j);j.appendChild(this.JT.Z);j.appendChild(this.$V.Z);this.wN=new ef("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.Cn=new ef("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.NE=new ef("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.AC=new ef("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.nB=new ef("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.WJ=new ef("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.d1=new ef("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.z4=new ef("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var n=[this.wN,this.Cn,this.NE,this.AC,this.nB,this.WJ,this.d1,this.z4];for(var v=0;v<n.length;v++)n[v].P("click",this.a1d,this);
var Q="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.nP=[];for(var v=0;
v<8;v++){var a=new ef("<img src=\""+PIMG["lig/"+Q[v]]+"\" class=\"autoscale gsicon\" />",!1,eR.ar1[v]);
a.P("click",this.a1d,this);this.nP.push(a)}this.jh=new ef("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Fv=new ef("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.FF=new ef("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a6J=new ef("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aHh=new ef("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a5H=new ef("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aGx=new ef("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.YE=[this.jh,this.Fv,this.FF,this.a6J,this.aHh,this.a5H,this.aGx];for(var v=0;v<this.YE.length;v++)this.YE[v].P("click",this.L8,this);
var B=["lind","rind","flind","bind","aind"],m=[];for(var v=0;v<5;v++)m.push("<img src=\""+PIMG["par/"+B[v]]+"\" class=\"autoscale gsicon\" /> ");
this.Tf=new i7(m[0],-R,R,"px");this.R0=new i7(m[1],-R,R,"px");this.nr=new i7(m[2],-R,R,"px");this.Bv=new i7(m[3],-R,R,"px");
this.kQ=new i7(m[4],-R,R,"px");this.Wo=new aY([12,33],["Abc ...","... أي بي"]);this.d9=new i7(["Auto VAR0",[16,0]],0,500,"%");
this.ue=[this.Tf,this.R0,this.nr,this.Bv,this.kQ,this.Wo,this.d9];for(var v=0;v<this.ue.length;v++){var q=this.ue[v];
q.P(x.E.f,this.L8,this);q.parent=this}}de.prototype=new eD;de.prototype.amC=function(j){if(V.gU(this.yL.Z))return;
j.stopPropagation();var n=this.GF.Z.getBoundingClientRect(),Q=new ar(x.E.B,!0);Q.data={Q:x.l.Ix,cB:this.yL,x:n.left,y:n.top+n.height+4};
this.a(Q)};de.prototype.S=function(){this.Wn.S();this.Me.S();this.pn.S();this.TH.S();this.__.S();this.b3.S();
this.TD.S();this.t3.S();this.os.S();this.$V.S();this.ty.S();this.xv.S();for(var v=0;v<this.ue.length;
v++)this.ue[v].S()};de.prototype.p=function(j,n,Q){this.ix=K.u(j);var a=this.ix,B=a.RW,m=a.w$;this.wN.p(B.FauxBold!=null?B.FauxBold:!1);
this.Cn.p(B.FauxItalic!=null?B.FauxItalic:!1);this.NE.p(B.FontCaps==2);this.AC.p(B.FontCaps==1);this.nB.p(B.FontBaseline==1);
this.WJ.p(B.FontBaseline==2);this.d1.p(B.Underline);this.z4.p(B.Strikethrough);var R={};if(B.Font!=null){var q=n.s1(a.hK[B.Font].Name);
if(q)R=q.GSUB;if(R==null)R={}}for(var v=0;v<8;v++){this.nP[v].Q7(R[eR.au9[v]]);this.nP[v].p(B[eR.nP[v]])}this.Wn.p(B.Font==null?null:a.hK[B.Font].Name,n,Q);
var U=B.FontSize==null?20:B.FontSize;this.Me.p(U);var l=B.Tracking;this.TH.p(l==null?0:l);this.ty.p(B.OutlineWidth!=null?B.OutlineWidth:1);
this.xv.p(g8.no.a5e(B));this.pn.p(B.Leading!=null&&B.Leading!=0?B.Leading:U);this.FH.p(B.AutoLeading);
this.b3.p((B.VerticalScale!=null?B.VerticalScale:0)*100);this.TD.p((B.HorizontalScale!=null?B.HorizontalScale:0)*100);
this.__.p(B.BaselineShift!=null?B.BaselineShift:0);this.t3.p(B.FillFlag!=null?B.FillFlag:!1);this.os.p(B.StrokeFlag!=null?B.StrokeFlag:!1);
this.$V.p(B._FillBackgroundFlag!=null?B._FillBackgroundFlag:!1);this.Ob(B.FillColor,this.aD);this.Ob(B.FillColor,this.jr);
this.Ob(B.StrokeColor,this.AM);this.Ob(B._FillBackgroundColor,this.JT);var b=m._Direction!=null?m._Direction:0,D=eR.GP(m);
for(var v=0;v<this.YE.length;v++)this.YE[v].p(D==v);this.Wo.p(b);this.d9.p((m.AutoLeading!=null?m.AutoLeading:1.2)*100);
this.Tf.p(m.StartIndent!=null?m.StartIndent:0);this.R0.p(m.EndIndent!=null?m.EndIndent:0);this.nr.p(m.FirstLineIndent!=null?m.FirstLineIndent:0);
this.Bv.p(m.SpaceBefore!=null?m.SpaceBefore:0);this.kQ.p(m.SpaceAfter!=null?m.SpaceAfter:0)};de.prototype.Ob=function(j,n){if(j){var Q=eR.qF(j);
n.au(Math.round(Q.n)<<16|Math.round(Q.i)<<8|Math.round(Q.b))}else n.au(0)};de.prototype.XL=function(){var j=new ar(x.E.B,!0);
j.data={Q:x.l.m6,_X:b3.U2,ix:this.ix};this.a(j);var j=new ar(x.E.A,!0);j.I=N.BT;j.data={Q:"updateStyles"};
this.a(j)};de.prototype.a1d=function(j){var n=this.ix.RW,Q=j.target,a=!Q.rD(),B=this.nP.indexOf(Q);if(B!=-1){n[eR.nP[B]]=a}else{if(Q==this.wN)n.FauxBold=a;
if(Q==this.Cn)n.FauxItalic=a;if(Q==this.NE)n.FontCaps=a?2:0;if(Q==this.AC)n.FontCaps=a?1:0;if(Q==this.nB)n.FontBaseline=a?1:0;
if(Q==this.WJ)n.FontBaseline=a?2:0;if(Q==this.d1)n.Underline=a;if(Q==this.z4)n.Strikethrough=a}this.XL()};
de.prototype.L8=function(j){var n=this.ix.RW,Q=this.ix.w$,a=j.target;if(a==this.xv){g8.no.a5A(a.j(),n)}if(a==this.TH){var B=this.TH.j();
n.Tracking=B}if(a==this.pn){n.AutoLeading=!1;n.Leading=this.pn.j()}if(a==this.FH){n.AutoLeading=this.FH.j()}if(a==this.ty)n.OutlineWidth=a.j();
if(a==this.Me)n.FontSize=a.j();if(a==this.b3)n.VerticalScale=a.j()/100;if(a==this.TD)n.HorizontalScale=a.j()/100;
if(a==this.__)n.BaselineShift=a.j();if(a==this.t3)n.FillFlag=a.j();if(a==this.os)n.StrokeFlag=a.j();
if(a==this.$V)n._FillBackgroundFlag=a.j();if(this.YE.indexOf(a)!=-1){Q.Justification=eR.GP(Q,this.YE.indexOf(a))}if(a==this.Tf)Q.StartIndent=a.j();
if(a==this.R0)Q.EndIndent=a.j();if(a==this.nr)Q.FirstLineIndent=a.j();if(a==this.Bv)Q.SpaceBefore=a.j();
if(a==this.kQ)Q.SpaceAfter=a.j();if(a==this.Wo)Q._Direction=a.j();if(a==this.d9)Q.AutoLeading=a.j()/100;
this.XL()};de.prototype.arw=function(j){var n=this.ix,Q=this.Wn.j(),a=-1;for(var v=0;v<n.hK.length;v++)if(n.hK[v].Name==Q)a=v;
if(a==-1){a=n.hK.length;var B=K.u(n.hK[0]);B.Name=Q;n.hK.splice(a,0,B)}n.RW.Font=a;this.XL()};de.prototype.xj=function(j){var n=j.target,Q=n.v2(),a={Type:1,Values:[1,(Q>>16&255)/255,(Q>>8&255)/255,(Q>>0&255)/255]};
for(var v=0;v<4;v++)a.Values[v]=Math.round(a.Values[v]*1e3)/1e3;var B=n==this.aD||n==this.jr?0:n==this.AM?1:2;
this.ix.RW[["FillColor","StrokeColor","_FillBackgroundColor"][B]]=a;this.XL()};function fw(){eD.call(this);
this.Z=V.d("span","fontinput");this.Hs=null;this.h9=null;this.yk=null;this.IO="";this.IH={};this.Ik=[];
this.Ac={};this.aAB={};this.cl=[];this.$m=!1;this.h_=V.d("button","fitem");V.v(this.h_,"width:9em;");
this.h_.textContent="Family Name \u25BC";this.Z.appendChild(this.h_);V.ON(this.h_,this.aqE.bind(this));
this.Xk=new eD;this.Xk.parent=this;var j=this.Xk.Z=V.d("div","floatcont");j.style.padding="7px 7px 3px 7px";
var n=new kC("Recent");j.appendChild(n.Z);var Q=this.acE=new ef([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
Q.P("click",this.a9o,this);Q.Z.style.float="right";j.appendChild(Q.Z);var a=this.Vd=new k9("Local Fonts");
a.P(x.E.f,this.acB,this);a.Z.style.float="right";a.Z.style.marginRight="10px";a.Z.style.marginTop="3px";
j.appendChild(a.Z);V.pd(j);this.vy=V.d("span","fitem imageset scrollable");this.vy.style.maxHeight="8em";
j.appendChild(this.vy);var B=V.d("div","form");this.Xk.Z.appendChild(B);this.G6=new ef(V.Mn("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.G6.P("click",this.aiC,this);B.appendChild(this.G6.Z);this.GZ=new cE([12,86],null,7.5);this.GZ.P("input",this.dF,this);
B.appendChild(this.GZ.Z);this.gw=new j3(10,"\u2630");B.appendChild(this.gw.Z);this.gw.parent=this.Xk;
this.gw.P(x.E.f,this.fB,this);this.gw.Z.style.float="right";this.gw.Z.style.marginRight="0";this.co=V.d("span","fitem imageset scrollable");
this.co.style.height="30em";this.Xk.Z.appendChild(this.co);this.co.addEventListener("scroll",this.abo.bind(this),!1);
this.I$=V.d("button","fitem");V.v(this.I$,"width:7em;");this.I$.textContent="SubFamily Name \u25BC";
this.Z.appendChild(this.I$);V.ON(this.I$,this.aqE.bind(this));this.o$=new eD;this.o$.parent=this;this.o$.Z=V.d("div","floatcont");
this.mc=V.d("span","fitem imageset scrollable");this.o$.Z.appendChild(this.mc);this.aim=this.aGk.bind(this);
this.ayX=this.ahs.bind(this)}fw.prototype=new eD;fw.prototype.acB=function(j){bY.dR.Q7(j.target.j(),function(){this.p();
this.fB()}.bind(this),function(){this.Vd.p(!1)}.bind(this));this.fB()};fw.prototype.abo=function(j){var n=this.co.scrollTop,Q=this.Ik,a=Math.floor(n/27),B=Math.min(a+20,Q.length);
for(var v=a;v<B;v++)this.asB(Q[v])};fw.prototype.a9o=function(){var j=new ar(x.E.B,!0);j.data={Q:x.l.ws};
this.a(j)};fw.prototype.S=function(){this.gw.S();this.acE.S();this.Vd.p(bY.dR.rD());this.G6.LY(V.Mn("tools/cshape",null,"autoscale"))};
fw.prototype.aiC=function(j){this.G6.p(!this.G6.rD());this.fB()};fw.prototype.dF=function(j){this.IO=this.GZ.j().toLowerCase();
this.fB()};fw.prototype.aqE=function(j){V.Ju(j);var n=j.currentTarget,Q=n.getBoundingClientRect(),a=n==this.h_,B=a?this.Xk:this.o$;
if(V.gU(B.Z)){this.aCm(B);return}if(!a&&this.Hs.WI()[this.yk]==null)return;var m=new ar(x.E.B,!0);m.data={Q:x.l.Ix,cB:B,x:Q.left,y:Q.top+Q.height};
this.a(m);if(a){this.fB(null,!0)}};fw.prototype.aGk=function(j){var n=j.currentTarget.firstChild.nextSibling.textContent;
if(j.target.tagName.toLowerCase()=="button"){var Q=this.h9.slice(0),a=Q.indexOf(n);if(a==-1){Q=Q.slice(Math.max(0,Q.length-29));
Q.push(n)}else Q.splice(a,1);var B=new ar(x.E.B,!0);B.data={Q:x.l.m6,_X:b3.bo,L3:Q};this.a(B);this.$m=!0;
this.fB()}else{this.aHe(n,null)}};fw.prototype.ahs=function(j){this.aHe(null,j.currentTarget.firstChild.textContent)};
fw.prototype.aHe=function(j,n){var Q=j==null?this.o$:this.Xk,a=this.Hs;if(j==null)j=a.WI()[this.yk][0];
else{var B=a.Dr(j),m=a.WI()[this.yk];n=bY.aW(B,m?m[1]:"regular")}var R=a.Lz(j,n)[2];this.p(R,a);this.a(new ar(x.E.f,!1));
this.aCm(Q);this.fB()};fw.prototype.aCm=function(j){var n=new ar(x.E.B,!0);n.data={Q:x.l.z0,cB:j};this.a(n)};
fw.prototype.j=function(){return this.yk};fw.prototype.p=function(j,n,Q){var a=this.Hs;if(j!=null)this.yk=j;
else j=this.yk;if(n)this.Hs=n;else n=this.Hs;if(Q)this.h9=Q;else Q=this.h9;if(j!=null){var B=n.WI()[j],m,R;
if(B==null){m="- "+j;R="-------"}else{m=B[0];R=B[1];var q=this.cl;for(var v=0;v<q.length;v++)if(q[v][0][0]==m)q.splice(v,1);
q.push([B,Date.now()]);q.sort(function(D,c){return c[1]-D[1]});q=q.slice(0,10);V.cV(this.vy);for(var v=1;
v<q.length;v++){var U=q[v][0],l=this._6(U,!0);this.V4(l,U,!0);this.vy.appendChild(l)}var b=n.Dr(m);b.sort(bY.aDn);
this.mc.textContent="";for(var v=0;v<b.length;v++){var B=n.Lz(m,b[v]);if(!this.gw.Z7(B))continue;var l=this._6(B,!1);
this.mc.appendChild(l)}}this.h_.textContent=m.substring(0,15)+" \u25BC";this.h_.setAttribute("title",m+", \""+j+"\"");
this.I$.textContent=R.substring(0,10)+" \u25BC";this.I$.setAttribute("title",R)}};fw.prototype.fB=function(j,n){var Q=this.Hs.WI()[this.yk],a=this.h9,B=this.Hs.a4O();
this.Ik=[];var m=this.Vd.j();for(var R in B){var q=a.indexOf(R)!=-1,U=this.Hs.Dr(R),l=!1;for(var v=0;
v<U.length;v++){var b=this.Hs.Lz(R,U[v]),D=!0;if(this.IO.length>0&&b[0].toLowerCase().indexOf(this.IO)==-1)D=!1;
else if(!this.gw.Z7(b))D=!1;else if(this.G6.rD()&&!q)D=!1;else if(b[5]=="--loc"&&!m)D=!1;if(D)l=!0}var c=this.IH[R];
if(c==null){var _=bY.aW(B[R],"regular"),p=this.Hs.Lz(R,_),c=this._6(p,!0);this.IH[R]=c;this.co.appendChild(c);
this.Ac[R]="[true,false,false]"}if(l)this.Ik.push(R);var X=Q!=null&&Q[0]==R;this.aAB[R]="["+l+","+X+","+q+"]";
if(!n)this.asB(R)}if(Q&&!this.$m){var g=this.IH[Q[0]];this.co.scrollTop=g.offsetTop-210}this.abo();this.$m=!1};
fw.prototype.asB=function(j){var n=this.IH[j];if(n.firstChild==null){var Q=this.Hs.a4O(),a=bY.aW(Q[j],"regular"),B=this.Hs.Lz(j,a);
this.V4(n,B,!0)}var m=this.Ac[j],R=this.aAB[j];if(m==R)return;var q=JSON.parse(m),U=JSON.parse(R);if(q[0]!=U[0]||q[1]!=U[1]){var l=U[0]?"":"display:none; ";
if(U[1])l+="background-color:rgba(0,0,0,0.13);";V.v(n,l)}if(q[2]!=U[2])V.v(n.firstChild,"opacity: "+(U[2]?"1":"0.2"));
this.Ac[j]=R};fw.prototype._6=function(j,n){var Q=V.d("div","fontitem");if(!n)this.V4(Q,j,n);return Q};
fw.prototype.V4=function(j,n,Q){var a=n[Q?0:1],B=Q?this.aim:this.ayX,U="";j.addEventListener("click",B,!1);
if(Q)j.appendChild(V.d("button","star"));var m=V.d("span","label");m.setAttribute("title",a);m.textContent=a;
j.appendChild(m);var R=V.lS(),q=1/R,l=bY.Tt*q,b=bY.pb*q;if(1<R&&R<1.5)U="width:"+l+"px; height:"+b+"px;";
var D=V.d("span","thumb gsicon");if(n.oO){U+="background: url("+n.oO+");";if(1<R&&R<1.5)U+="background-size: "+l+"px "+b+"px;"}else{var c=Math.ceil(FNTS.list.length/bY.cols),_=Math.floor(n.cb/bY.cols),p=n.cb-_*bY.cols,X=p*bY.Tt,g=_*bY.pb;
if(1<R&&R<1.5){U+="background-size: "+bY.cols*l+"px "+c*b+"px;";X*=q;g*=q}U+="background-position:-"+X+"px -"+g+"px;"}V.v(D,U);
j.appendChild(D)};function j3(j,n){eD.call(this);this.Z=V.d("button","fitem bbtn");this.Z.addEventListener("click",this.Uy.bind(this),!1);
this.yL=new eD;this.yL.Z=V.d("div","floatcont");this.yL.parent=this;this.jY=V.d("div","flexrow");this.yL.Z.appendChild(this.jY);
this.YG=n;this.Ug=[];this.k$=[];var Q=this.jY,a=V.d("div",""),B=V.d("div","");Q.appendChild(a);Q.appendChild(B);
this.v8=[];for(var v=0;v<FNTS.cats.length;v++)this.v8.push({name:FNTS.cats[v],index:v,qt:0});this.Jm=new k9([7,0]);
this.Jm.p(!0);this.Jm.P(x.E.f,this.a2k,this);a.appendChild(this.Jm.Z);this.wl=V.d("div","vlist marged scrollable");
V.v(this.wl,"width:10.3em; height:"+j+"em; ");a.appendChild(this.wl);this.xR=[];for(var v=0;v<this.v8.length;
v++){var m=this.v8[v],R=new k9(m.name);this.xR.push(R);R.P(x.E.f,this.asF,this);R.p(!0);this.wl.appendChild(R.Z);
this.Ug.push(1)}this.a0w=new k9([7,0]);this.a0w.P(x.E.f,this.ato,this);this.Rj=V.d("div","vlist marged scrollable");
V.v(this.Rj,"width:8.6em; height:"+(j+1.5)+"em; ");B.appendChild(this.Rj);this.yv=[];for(var v=0;v<FNTS.subsetNames.length;
v++){var R=new k9(FNTS.subsetNames[v]);this.yv.push(R);R.P(x.E.f,this.at3,this);R.p(!1);this.Rj.appendChild(R.Z);
this.k$.push(R.j()?1:0)}}j3.prototype=new eD;j3.prototype.akP=function(j){var n=this.yv;for(var v=0;
v<n.length;v++){var Q=(j>>>v&1)==1;this.k$[v]=Q;n[v].p(Q)}};j3.prototype.awV=function(){return this.jY};
j3.prototype.S=function(){this.Z.textContent=this.YG?this.YG:i4.get([25,1,0])+" \u25BC";this.Jm.S();
this.a0w.S()};j3.prototype.Uy=function(j){var n=this.Z.getBoundingClientRect(),Q=new ar(x.E.B,!0);Q.data={Q:x.l.Ix,cB:this.yL,x:n.left,y:n.top+n.height,qP:!0};
this.a(Q)};j3.prototype.Z7=function(j){if(this.Ug[j[4]]==0)return!1;else for(var n=0;n<this.k$.length;
n++)if(this.k$[n]==1&&(j[3]>>>n&1)==0)return!1;return!0};j3.prototype.a2k=function(j){var n=j.target.j(),Q=this.xR,a=this.Ug;
for(var v=0;v<Q.length;v++){Q[v].p(n);a[v]=n?1:0}this.a(new ar(x.E.f,!1))};j3.prototype.ato=function(j){var n=j.target.j(),Q=this.yv,a=this.k$;
for(var v=0;v<Q.length;v++){Q[v].p(n);a[v]=n?1:0}this.a(new ar(x.E.f,!1))};j3.prototype.asF=function(j){var v=this.xR.indexOf(j.target),n=this.v8[v].index;
this.Ug[n]=1-this.Ug[n];this.a(new ar(x.E.f,!1));this.auI(this.xR,this.Jm)};j3.prototype.at3=function(j){var v=this.yv.indexOf(j.target);
this.k$[v]=1-this.k$[v];this.a(new ar(x.E.f,!1))};j3.prototype.auI=function(j,n){var Q=!0;for(var v=0;
v<j.length;v++)Q=Q&&j[v].j();n.p(Q)};function c_(j,n,Q){ab.call(this,n,!0,"gradientbutton",18*13,10*13,b3.oy);
this.Z4=-1;this.g7=-1;this.af0=null;this.aFa=j;this.XJ=Q}c_.prototype=new ab;c_.prototype.oT=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.Vg,Z8:"gradienteditor",Gp:this.yY,CP:this.aEF.bind(this),Bf:this.XJ};this.a(n)};c_.prototype.aEF=function(j){this.p(j);
this.a(new ar(x.E.f))};c_.prototype.Hd=function(j,n){this.Z4=j;this.g7=n;this.eq()};c_.prototype.eq=function(){if(this.yY==null)return;
var j=JSON.stringify(this.yY)+","+this.Z4+","+this.g7;if(j==this.af0)return;this.af0=j;var n=Math.floor(80*V.lS()),Q=Math.floor(16*V.lS()),a=N.$A.r9(this.yY,n,Q,0,this.Z4,this.g7);
this.nN.setAttribute("src",a);V.GV(this.nN,n,Q)};c_.prototype.j=function(){var j;if(this.aFa)j=N.$A.aFF(this.yY,this.Z4,this.g7);
else j=K.u(this.yY);return j};function jY(j){ab.call(this,j,!1,"swatchbutton",16*13,9.75*13,b3.qX)}jY.prototype=new ab;
function f_(j){ab.call(this,null,!0,"swatchbutton",16*13,8.75*13,b3.o9);this.li=j}f_.prototype=new ab;
f_.prototype.Jw=function(j){var n=this.lQ,Q=j.target.j();this.p(Q==0?[]:n.Oc[Q-1][1],n);this.a(new ar(x.E.f))};
f_.prototype.oT=function(j){if(this.yY.length!=0)gD.aja(this.yY,this,this.ww.bind(this))};f_.prototype.ww=function(j){var n=j;
if(typeof j=="number"){n=K.Hy(j,1);n=[n.n,n.i,n.b]}this.p(n);this.a(new ar(x.E.f))};f_.prototype.p=function(j,n){this.yY=j;
this.eq(n)};f_.prototype.eq=function(j){var n=Math.floor(20*V.lS()),Q=Math.floor(20*V.lS()),a=V.d("canvas"),B=a.getContext("2d");
a.width=n;a.height=Q;gD.P5(B,this.yY,j,n,Q,0,0,this.li==1);var m=B.canvas.toDataURL("png");this.nN.setAttribute("src",m);
V.GV(this.nN,n,Q)};f_.prototype.NV=function(){if(!this.Q4)return;var j=Math.floor(20*V.lS()),n=Math.floor(20*V.lS()),Q=[],a=[],B=this.lQ,m=B.Oc,R=V.d("canvas"),q=R.getContext("2d");
R.width=j;R.height=n;m=[["None",[]]].concat(m);for(var v=0;v<m.length;v++){a.push(m[v][0]);gD.P5(q,m[v][1],B,j,n,0,0);
var U=q.canvas.toDataURL("png");Q.push(U)}this.oE.YS(Q,a,j,n);this.Q4=!1};f_.prototype.j=function(){return K.u(this.yY)};
function hh(j,n,Q){eD.call(this);this.Z=V.d(Q?"div":"span");var a=this.vw=V.d("input");this.vw.setAttribute("type","file");
if(n)a.setAttribute("multiple","");this.vw.addEventListener("change",this.ali.bind(this),!1);this.aBF=this.lp.bind(this);
this.ZE={};this.Ib=0;this.iJ=j;var B=this.Tq=new ef(i4.get(j)+" (0)",null,null,!0);this.Z.appendChild(B.Z);
B.addEventListener("click",function(m){a.click()});if(Q){this.MV=V.d("div","scrollable");V.v(this.MV,"height:120px; width:100%; line-height:1.5em;");
this.Z.appendChild(this.MV);this.HD()}}hh.prototype=new eD;hh.prototype.p=function(j){this.ZE=j;this.HD()};
hh.prototype.j=function(j){return this.ZE};hh.prototype.ali=function(j){var n=j.target.files;this.Ib=n.length;
this.ZE={};for(var v=0;v<n.length;v++){var Q=n[v],a=new FileReader;a.onload=this.aBF;a.$I=Q.name;a.readAsArrayBuffer(Q)}};
hh.prototype.lp=function(j){var n=this.ZE[j.target.$I]=new Uint8Array(j.target.result);this.Ib--;if(this.Ib==0){this.HD();
this.a(new ar(x.E.f));this.vw.value=null}};hh.prototype.HD=function(){var j=this.ZE;this.Tq.LY(i4.get(this.iJ)+" ("+Object.keys(j).length+")");
var n=this.MV;if(n==null)return;V.cV(n);var Q=[];for(var a in j)Q.push(a);Q.sort();for(var v=0;v<Q.length;
v++){var B=V.d("div");B.textContent=Q[v];n.appendChild(B)}};function hn(j,n,Q,a,B){if(j==null)j=!1;if(n==null)n=!1;
if(Q==null)Q=!1;eD.call(this);this.yP=new eE;this.pW=new eE;this.jQ=72;this.DG=72;this.jn=!0;this.Y$=!1;
this.Z=V.d("span");this.VD=new i7([12,41],0,0,null,0,!1,!0,4);this.Z.appendChild(this.VD.Z);this.VD.P(x.E.f,this.Uj,this);
var m=["px","%"];if(j)m=m.concat(["cm","mm","in"]);if(B){m=[[12,76,2],[12,76,6]];if(j)m=m.concat([[12,76,4],[12,76,5],[12,76,3]])}this.ZZ=new hQ(null,m);
this.Z.appendChild(this.ZZ.Z);V.pd(this.Z);this.ZZ.P(x.E.f,this.Uj,this);this.hP=new i7([12,42],0,0,null,0,!1,!0,4);
this.Z.appendChild(this.hP.Z);this.hP.P(x.E.f,this.Uj,this);var R=new ef("\u21F5",!1,null,!0);R.P("click",this.Z0,this);
this.gI=new ef("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.gI.P("click",this.Uj,this);
this.ow=new kC("");this.ow.Z.style.margin="0";this.ow.Z.style.padding="0";if(n){this.Z.appendChild(this.gI.Z);
this.Z.appendChild(this.ow.Z);this.gI.eu()}else this.Z.appendChild(R.Z);this.B0=new i7("DPI",0,0,null,3,!1,!0,4);
this.bY=new hQ(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(j&&!a){V.pd(this.Z);this.Z.appendChild(this.B0.Z);
this.Z.appendChild(this.bY.Z)}this.bY.P(x.E.f,this.Uj,this);this.B0.P(x.E.f,this.Uj,this);this.Iw=new k9([12,23,1]);
this.Iw.P(x.E.f,this.Uj,this);if(Q){V.pd(this.Z);this.Z.appendChild(this.Iw.Z)}V.pd(this.Z)}hn.prototype=new eD;
hn.prototype.rs=function(j,n){this.VD.Xh.style.width=this.hP.Xh.style.width=(j-78-this.gI.Wy())/2+"px"};
hn.prototype.B3=function(){this.VD.B3();this.hP.B3();this.ZZ.B3();var j=this.Z;V.cV(j);this.ZZ.Z.style.marginRight="0";
j.appendChild(this.VD.Z);j.appendChild(this.gI.Z);j.appendChild(this.hP.Z);j.appendChild(this.ZZ.Z)};
hn.prototype.Pr=function(){this.VD.Pr()};hn.prototype.aqR=function(j,n){this.jn=j;if(n!=null)this.Y$=n;
if(!this.jn&&!this.Y$&&this.ZZ.j()==0){this.ZZ.p(4);this.X3()}};hn.prototype.aeB=function(j){this.gI.p(j)};
hn.prototype.S=function(){this.VD.S();this.hP.S();this.B0.S();this.bY.S();this.gI.S();this.Iw.S();this.ZZ.S()};
hn.prototype.Z0=function(j){var n=this.pW.x;this.pW.x=this.pW.y;this.pW.y=n;this.X3();this.a(new ar(x.E.f,!1))};
hn.prototype.Uj=function(j){if(j.target==this.ZZ&&!this.jn&&!this.Y$&&this.ZZ.j()==0)this.ZZ.p(4);if(j.target==this.ZZ||j.target==this.Iw){this.X3();
return}if(j.target==this.gI)j.target.p(!j.target.j());if(j.target==this.bY)window.locStor.setItem("dpiUnit",this.bY.j());
var n=this.yP,Q=parseFloat(this.VD.j());if(isNaN(Q))Q=1;var a=parseFloat(this.hP.j());if(isNaN(a))a=1;
var B=this.B0.j()*[1,2.54][this.bY.j()],m=this.ZZ.j();if(this.jn){var R=this.DG;if(m==1){Q=this.yP.x*(Q/100);
a=this.yP.y*(a/100)}var q=[1,1,2.54/R,25.4/R,1/R][m];Q/=q;a/=q;if(this.Iw.j()){Q+=this.yP.x;a+=this.yP.y}if(j.target==this.B0){var U=B;
if(!this.Y$){var l=U/R;Q*=l;a*=l}R=U}if(this.gI.j()){if(j.target==this.VD)a=Q*(n.y/n.x);else Q=a*(n.x/n.y)}Q=Math.max(Math.abs(Q),1);
a=Math.max(Math.abs(a),1)}else{var R=this.jQ;if(j.target==this.B0)R=B;else{if(this.gI.j()){if(j.target==this.VD)a=Q*(n.y/n.x);
else Q=a*(n.x/n.y)}var q=[1,1,2.54/R,25.4/R,1/R][m],b=Q/(m==1?100:n.x*q);R=R/b}Q=n.x;a=n.y}this.pW=new eE(Math.round(Q),Math.round(a));
this.DG=R;this.X3();this.a(new ar(x.E.f,!1))};hn.prototype.T4=function(v){this.ZZ.p(v);this.X3()};hn.prototype.a5s=function(){return this.ZZ.j()};
hn.prototype.p=function(j,n,Q){var a=window.locStor.getItem("dpiUnit");if(a!=null)this.bY.p(a);if(Q!=!0)this.yP=j.O();
this.pW=j.O();if(n!=null){this.jQ=n;this.DG=n}this.X3()};hn.prototype.X3=function(){var j=this.pW.x,n=this.pW.y,Q=this.DG,a=(j/n).toFixed(3);
while(a.charAt(a.length-1)=="0")a=a.substring(0,a.length-1);if(a.charAt(a.length-1)==".")a=a.substring(0,a.length-1);
var B="  "+a+" : 1",m=function(b,D){while(D!=0){var c=D;D=b%D;b=c}return b},R=m(j,n);if(Math.min(j,n)/R<10)B="  "+Math.round(j/R)+" : "+Math.round(n/R);
this.ow.p(B);if(this.Iw.j()){j-=this.yP.x;n-=this.yP.y}var q=this.ZZ.j();if(q==1){if(this.jn){j=100*j/this.yP.x;
n=100*n/this.yP.y}else{j=n=100*this.jQ/this.DG}}else{j=Math.round(j);n=Math.round(n)}var U=[1,1,2.54/Q,25.4/Q,1/Q][q];
j*=U;n*=U;var l=q==1||q==2||q==4?2:0;this.VD.PJ(l);this.hP.PJ(l);this.VD.p(j);this.hP.p(n);this.B0.p(Q*[1,1/2.54][this.bY.j()])};
hn.prototype.j=function(){return this.pW.O()};hn.prototype.RU=function(){return this.DG};function hl(j,n,Q){eD.call(this);
var a=j==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.DM=j;this.aH8=n;this.a$=1;this.ih=[1,1,0];
var B=this.Z=V.d("div","numlist"),m=this.Nj=[];for(var v=0;v<4;v++){var R=new i7(a[v],0,0,null,2,!1,!0,4,null,Q&&(v==0||v==2));
R.P(x.E.f,this.Uj,this);B.appendChild(R.Z);m[v]=R;if(v==1||v==3)V.pd(B)}m[4]=new k9(j==0?[12,51]:[12,91,2]);
m[4].p(!0);B.appendChild(m[4].Z)}hl.prototype=new eD;hl.prototype.S=function(){var j=this.Nj;for(var v=0;
v<5;v++)j[v].S();if(this.DM==0)V.b2(j[0],j[2])};hl.prototype.p=function(j,n,Q){if(n)this.ih=n;n=this.ih;
var a=Q?j:this.DM==0?[j[2],j[0],j[3],j[1]]:[j[0],j[1],j[3],j[2]];this.a$=a[0]/a[2];for(var v=0;v<4;v++){var B=this.Nj[v];
B.PJ(n[2]==0&&this.aH8?0:2);B.p(K.Ai.SA(a[v],n[0],n[1],n[2]))}};hl.prototype.j=function(j){var n=[],Q=this.ih;
for(var v=0;v<4;v++){var a=K.Ai.hb(this.Nj[v].j(),Q[0],Q[1],Q[2]);n[v]=this.aH8?Math.round(a):a}return j?n:this.DM==0?[n[1],n[3],n[0],n[2]]:[n[0],n[1],n[3],n[2]]};
hl.prototype.Uj=function(j){var n=this.DM,Q=this.Nj.indexOf(j.currentTarget),a=this.j(!0),B=this.Nj[4].j();
if(n==0){a[0]=Math.max(1,a[0]);a[2]=Math.max(1,a[2]);if(B&&Q==0)a[2]=a[0]/this.a$;if(B&&Q==2)a[0]=a[2]*this.a$}if(n==1){a[Q]=Math.max(0,a[Q]);
if(B)for(var v=0;v<4;v++)a[v]=a[Q]}this.p(a,null,!0);this.a(new ar(x.E.f,!1))};function jk(j){eD.call(this);
this.BR=0;this.Jk=[0,0,1,1,100,100];this.NW=[10,5,1,1,4,3,3,2,16,9];this.eM=0;this.bH=72;this.aux=j;
this.Z=V.d("span","fitem");this.E6=new hQ(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.Z.appendChild(this.E6.Z);this.E6.P(x.E.f,this.Uj,this);this.VD=new i7("W",0,0,null,2,!1,!0);this.Z.appendChild(this.VD.Z);
this.VD.P(x.E.f,this.Uj,this);var n=this.xv=new ef("\u21C4",!1,null,!0);n.P("click",this.Z0,this);this.Z.appendChild(n.Z);
this.hP=new i7("H",0,0,null,2,!1,!0);this.Z.appendChild(this.hP.Z);this.hP.P(x.E.f,this.Uj,this);this.B0=new i7("New DPI",0,0,null,3,!1,!0,4);
this.B0.P(x.E.f,this.Uj,this);this.p({xE:0,x:0,y:0})}jk.prototype=new eD;jk.prototype.UJ=function(j){this.NW[0]=j[0];
this.NW[1]=j[1];var n=this.j();this.bH=j[2];this.eM=j[3];this.p(n)};jk.prototype.S=function(){V.b2(this.VD,this.hP);
this.B0.S();this.E6.S()};jk.prototype.Z0=function(j){var n=this.hP.j();this.hP.p(this.VD.j());this.VD.p(n);
this.Uj(j)};jk.prototype.Uj=function(j){if(j.target==this.E6){var v=this.E6.j(),n=this.Jk,Q=this.B0.Z;
if(v==2&&Q.parentNode==null&&this.aux)this.Z.appendChild(Q);if(v!=2&&Q.parentNode!=null)this.Z.removeChild(Q);
if(v>2){v-=3;var a=this.NW[2*v],B=this.NW[2*v+1];n[2]=a;n[3]=B;this.VD.p(a);this.hP.p(B);this.E6.p(1)}var m=this.j();
n[this.BR*2]=m.x;n[this.BR*2+1]=m.y;this.BR=m.xE;this.p({xE:m.xE,x:n[m.xE*2],y:n[m.xE*2+1]})}if(this.VD.j()<1)this.VD.p(1);
if(this.hP.j()<1)this.hP.p(1);this.a(new ar(x.E.f,!1))};jk.prototype.p=function(j){this.E6.p(j.xE);var n=j.x,Q=j.y;
if(j.xE==2){var a=this.eM,B=this.bH,m=this.NW;n=K.Ai.SA(j.x,B,m[0],a);Q=K.Ai.SA(j.y,B,m[1],a)}this.VD.p(n);
this.hP.p(Q);if(j.xE==0){this.VD.QE();this.hP.QE();this.xv.QE()}else{this.VD.I6();this.hP.I6();this.xv.I6()}};
jk.prototype.j=function(){var j=this.VD.j(),n=this.hP.j(),Q=this.E6.j();if(Q==2){var a=this.eM,B=this.bH,m=this.NW;
j=K.Ai.hb(j,B,m[0],a);n=K.Ai.hb(n,B,m[1],a);j=Math.round(j);n=Math.round(n)}var R={xE:Q,x:j,y:n},q=this.B0.j();
if(this.aux&&q!=0)R.Mp=q;return R};function kH(j){eD.call(this);this.Z=V.d("span","");this.aj2=j;var n=j?100:300;
this.D3=new jc("Off X",-n,n,j?"%":"px",0,!j);this.iE=new jc("Off Y",-n,n,j?"%":"px",0,!j);this.D3.P(x.E.f,this.Uj,this);
this.iE.P(x.E.f,this.Uj,this);this.Z.appendChild(this.D3.Z);this.Z.appendChild(this.iE.Z)}kH.prototype=new eD;
kH.prototype.S=function(){this.D3.S();this.iE.S()};kH.prototype.Uj=function(j){this.a(new ar(x.E.f,!1))};
kH.prototype.a41=function(j){this.D3.p(j.x);this.iE.p(j.y)};kH.prototype.auk=function(){return new eE(this.D3.j(),this.iE.j())};
kH.prototype.p=function(j,n){var Q=j.Hrzn.v,a=j.Vrtc.v;if(this.aj2){Q=Q.val;a=a.val}this.D3.p(Q);this.iE.p(a);
if(n==!0)this.Uj()};kH.prototype.j=function(){var j=this.D3.j(),n=this.iE.j();if(this.aj2)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:j}},Vrtc:{t:"UntF",v:{type:"#Prc",val:n}}};
else return{classID:"Pnt",Hrzn:{v:j,t:"doub"},Vrtc:{v:n,t:"doub"}}};function jg(j,n){eD.call(this);this.Z=V.d("button");
this.RG=[{Sn:3,SH:[]},{Sn:3,SH:[12,6],th:0},{Sn:3,SH:[0,6],th:1,aO:1}];this.Ni=g8.no.cL();this.akQ=j;
this.gw=n;this.Z.addEventListener("click",this.Uy.bind(this),!1);var Q=V.d("canvas","gsicon");this.Pf=Q.getContext("2d");
this.Z.appendChild(Q);var a=V.d("span");a.textContent=" \u25BC";this.Z.appendChild(a);this.yL=new eD;
this.yL.parent=this;this.yL.Z=V.d("div","floatcont form label6");var B=this.yL.Z;V.v(B,"width: 15em;");
this.IH=[n?new k9("Fill First"):new hQ([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new aY([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new aY([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new i7("Limit",0,50,null,null,null,!0,2.5),new cE([19,9,2])];
for(var v=0;v<this.IH.length;v++){var m=this.IH[v];if(fL==0||v!=0||!n)B.appendChild(m.Z);m.P(x.E.f,this.Uj,this)}V.pd(B);
this.K3=[];var R=this.yt.bind(this);for(var v=0;v<this.RG.length;v++){var q=V.d("button","fitem");this.K3.push(q);
B.appendChild(q);q.addEventListener("click",R,!1);var Q=V.d("canvas","gsicon"),U=Q.getContext("2d");
q.appendChild(Q);this.ayc(U,40,20,this.RG[v])}}jg.prototype=new eD;jg.prototype.Uy=function(j){var n=this.Z.getBoundingClientRect(),Q=new ar(x.E.B,!0);
Q.data={Q:x.l.Ix,cB:this.yL,x:n.left,y:n.top+n.height+4,qP:!0};this.a(Q)};jg.prototype.Uj=function(j){var n=this.IH,Q=n.indexOf(j.target),a=n[Q].j(),B=this.Ni;
if(Q==0)B.eK=this.gw?a?1:0:a;if(Q==1)B.th=a;if(Q==2)B.aO=a;if(Q==3)B.sX=a;if(Q==4){var m=B.SH=a==""?[]:a.split(" ").map(parseFloat);
if(!this.akQ)for(var v=0;v<m.length;v++)m[v]*=B.Sn}this.a(new ar(x.E.f,!1))};jg.prototype.yt=function(j){var n=this.K3.indexOf(j.currentTarget),Q=this.RG[n],a=this.Ni;
if(Q.th!=null)a.th=Q.th;if(Q.aO!=null)a.aO=Q.aO;a.SH=Q.SH.slice(0);if(a.Sn==null)a.Sn=3;for(var v=0;
v<a.SH.length;v++)a.SH[v]*=a.Sn/Q.Sn;this.a(new ar(x.E.f,!1))};jg.prototype.S=function(){for(var v=0;
v<this.IH.length;v++)this.IH[v].S()};jg.prototype.p=function(j){this.Ni=K.u(j);var n=this.IH;if(j.eK!=null)n[0].p(this.gw?j.eK==1:j.eK);
if(j.th!=null)n[1].p(j.th);if(j.aO!=null)n[2].p(j.aO);if(j.sX!=null)n[3].p(j.sX);n[3].Q7(j.aO==0);if(j.SH!=null){var Q=j.SH.slice(0);
if(!this.akQ)for(var v=0;v<Q.length;v++)Q[v]/=j.Sn;n[4].p(Q.join(" "))}this.ayc(this.Pf,40,16,j)};jg.prototype.j=function(){return K.u(this.Ni)};
jg.prototype.ayc=function(j,n,Q,a){V.w9(j.canvas,n,Q);var B=a.SH?a.SH:[],m=a.Sn;if(m==null)m=3;else{m=Math.min(5,m);
B=B.slice(0);for(var v=0;v<B.length;v++)B[v]*=m/a.Sn}j.clearRect(0,0,n,Q);j.setLineDash(B);j.lineCap=["butt","round","square"][a.th];
j.lineJoin=["miter","round","bevel"][a.aO];j.lineWidth=m;j.beginPath();j.moveTo(0,Q/2);j.lineTo(n*2,Q/2);
j.stroke()};function eC(j){ab.call(this,j,!1,"contourbutton",34*13,16*13,b3.RX,!0);this.GZ=new cE([12,86],null,16);
this.GZ.P("input",this.dF,this);this.yL.Z.appendChild(this.GZ.Z);this.De=null;this.IO="";this.mU=null;
this.p(bJ.cL())}eC.prototype=new ab;eC.prototype.S=function(){ab.prototype.S.call(this);this.GZ.S()};
eC.prototype.Jw=function(j){this.p(this.De[j.target.j()[0]]);this.a(new ar(x.E.f))};eC.prototype.dF=function(j){this.IO=this.GZ.j().toLowerCase();
this.a0d()};eC.aBo=!1;eC.prototype.NV=function(){if(!this.Q4)return;var j=this.lQ;if(j==null||!eC.aBo){var n=new ar(x.E.B,!0);
n.data={Q:x.l.JH,_X:{url:"rsrc/basic/fa.zip"}};this.a(n);eC.aBo=!0}else{var Q=Date.now(),a=Math.floor(38*V.lS()),B=Math.floor(38*V.lS());
this.mU=[];for(var v=0;v<j.length;v++){if(j[v].a1b==null)j[v].a1b=eC.aCj(j[v],a,B);this.mU.push(j[v].a1b)}this.a0d();
this.Q4=!1}};eC.prototype.a0d=function(){var j=Math.floor(38*V.lS()),n=Math.floor(38*V.lS());this.De=[];
var Q=[],a=[],B=this.lQ;for(var v=0;v<B.length;v++){if(B[v].iA.toLowerCase().indexOf(this.IO)==-1)continue;
this.De.push(B[v]);Q.push(this.mU[v]);a.push(B[v].iA)}this.oE.YS(Q,a,j,n)};eC.prototype.p=function(j){this.yY=eC.O(j);
this.eq()};eC.prototype.eq=function(){var j=Math.floor(23*V.lS()),n=Math.floor(23*V.lS()),Q=eC.aCj(this.yY,j,n);
this.nN.setAttribute("src",Q);V.GV(this.nN,j,n)};eC.prototype.j=function(){return eC.O(this.yY)};eC.O=function(j){return{iA:j.iA,t_:j.t_,z:f.hx.wX(j.z),wS:j.wS.O()}};
eC.q$=null;eC.Pf=null;eC.aCj=function(j,n,Q){var a=j.wS,B=Math.min(n/a.q,Q/a._)*.9,m=new j8;m.translate(-.5,-.5);
m.scale(.95,.95);m.translate(.5,.5);m.scale(B*a.q,B*a._);m.translate((n-B*a.q)/2,(Q-B*a._)/2);var R=K.uq(n,Q);
R.save();R.fillStyle="black";R.clearRect(0,0,n,Q);R.setTransform(m.NX,m.b,m.RK,m.zP,m.Qr,m.dE);K.R._L(j.z,R,0,0);
R.restore();var q=UPNG.encode([R.getImageData(0,0,n,Q).data.buffer],n,Q,0);return"data:image/png;base64,"+fj.cJ(q)};
function fE(j){ab.call(this,j,!1,"ICCButton",16*13,12*13,b3.Xm,!0);this.oE.qo(1)}fE.prototype=new ab;
fE.prototype.Fi=function(){var j="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var v=0;v<j.length;v++)j[v]="luts/"+j[v]+".CUBE";return j};fE.prototype.Jw=function(j){this.p(this.lQ[j.target.j()]);
this.a(new ar(x.E.f))};fE.prototype.NV=function(){if(!this.Q4)return;var j=Math.floor(1*V.lS()),n=Math.floor(1*V.lS()),Q=[],a=[],B=this.lQ;
for(var v=0;v<B.length;v++){var m=B[v].Nm.v.split("\\").pop().split("/").pop();a.push(m);Q.push(fE.r9(B[v],j,n))}this.oE.YS(Q,a,j,n);
this.Q4=!1};fE.r9=function(j,n,Q){var a=V.d("canvas"),R="ICC / 3DL / look / cube";a.width=n;a.height=Q;
var B=a.getContext("2d"),m=Math.floor(14*V.lS());B.font=m+"px sans-serif";if(j.Nm)R=j.Nm.v.split("\\").pop().split("/").pop();
B.fillText(R,10,m);return a.toDataURL()};fE.prototype.eq=function(){var j=Math.floor(120*V.lS()),n=Math.floor(20*V.lS());
this.nN.setAttribute("src",fE.r9(this.yY,j,n));V.GV(this.nN,j,n)};function iR(){eD.call(this);this.Qy=null;
this.Z=V.d("span","fitem");this.t5=new iG([14,9]);this.JA=new i7(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.lV=new jg;this.GU=[this.t5,this.JA,this.lV];for(var v=0;v<this.GU.length;v++){var j=this.GU[v];
this.Z.appendChild(j.Z);j.parent=this;j.P(x.E.f,this.Uj,this)}}iR.prototype=new eD;iR.prototype.S=function(){for(var v=0;
v<this.GU.length;v++)this.GU[v].S()};iR.prototype.sW=function(j,n){this.t5.sW(j,n)};iR.prototype.Uj=function(j){var n=this.Qy,Q=this.t5.j();
g8.DX(n,Q);n.strokeStyleLineWidth.v.val=this.JA.j();if(j.target==this.lV)g8.o0.write(n,this.lV.j());
this.Qy=n;this.a(new ar(x.E.f,!1))};iR.prototype.p=function(j,n,Q){this.Qy=K.u(n);var a=g8.vd(n);this.t5.p(j,a,Q);
this.JA.p(n.strokeStyleLineWidth.v.val);this.lV.p(g8.o0.N1(n))};iR.prototype.j=function(){return K.u(this.Qy)};
function eb(j){var n=[[18,0],[18,1],[18,2],[18,3]],Q=aY.cH(["set/front","set/union","set/difference","set/intersection"]);
aY.call(this,j?[12,36]:null,Q,n)}eb.prototype=new aY;function eU(){eD.call(this);this.Z=V.d("button","fitem bbtn");
V.ON(this.Z,this.Jd.bind(this));this.yL=new eD;this.yL.Z=V.d("div","floatcont form");V.v(this.yL.Z,"max-width: 200px;");
this.yL.parent=this;var j=i5;this.TL=[new k9("Start"),new k9("End"),new j([12,41],0,100,"px",null,!0,null,!0),new j([12,80,0],0,100,"px",null,!0,null,!0),new j("Concavity",-50,50,"%",null,null,null,!0)];
for(var v=0;v<this.TL.length;v++){var n=this.TL[v];n.parent=this;n.P(x.E.f,this.ww,this);this.yL.Z.appendChild(n.Z)}this.a9q=V.d("div");
this.yL.Z.appendChild(this.a9q)}eU.prototype=new eD;eU.prototype.p=function(j){for(var v=0;v<5;v++)this.TL[v].p(j[v]);
this.HD()};eU.prototype.j=function(j){var n=[];for(var v=0;v<5;v++)n[v]=this.TL[v].j();return n};eU.prototype.S=function(){this.Z.textContent=i4.get([12,93,4]);
for(var v=0;v<this.TL.length;v++)this.TL[v].S()};eU.prototype.ww=function(j){this.a(new ar(x.E.f,!1));
this.HD()};eU.prototype.HD=function(j){var n=this.j(),Q=200,a=60;n[2]/=V.lS();n[3]/=V.lS();var B=K.R.hi.i_(0,a/2,Q,a/2,5,n),m=K.R.Ba(B);
this.a9q.innerHTML="<svg width=\""+Q+"\" height=\""+a+"\" class=\"gsicon\">\t\t\t<path d=\""+m.TI+"\" />\t\t\t</svg>"};
eU.prototype.Jd=function(j){if(V.gU(this.yL.Z))return;j.stopPropagation();var n=this.Z.getBoundingClientRect(),Q=new ar(x.E.B,!0);
Q.data={Q:x.l.Ix,cB:this.yL,x:n.left,y:n.top+n.height,qP:!0};this.a(Q)};function ey(){eD.call(this);
this.Z=V.d("div");this.Nj=[];this.ap6=[];var j=this.ht=V.d("div"),n=V.d("h2");n.textContent="Create Teams";
j.appendChild(n);n.style.margin="26px 0 16px 0";var Q=new ef("More about Teams",!1,null,!0);n.appendChild(Q.Z);
Q.Z.style.float="right";Q.P("click",this.ab$,this);this.op=V.d("div");j.appendChild(this.op);this.aF_=new cE("Team Name",null,10);
j.appendChild(this.aF_.Z);var a=this.aeC=new ef("Create Team",null,null,!0);j.appendChild(a.Z);a.P("click",this.a90,this);
var n=V.d("h2");n.textContent="Join Teams";j.appendChild(n);n.style.margin="26px 0 16px 0";this.yF=V.d("div");
j.appendChild(this.yF);this.adv=new cE("Team ID",null,10);j.appendChild(this.adv.Z);var a=new ef("Join Team",null,null,!0);
j.appendChild(a.Z);a.P("click",this.a90,this);this.axg;this.aFb=this.pX.bind(this);this.ayP=this.ao_.bind(this);
this.YX=!1;this.$s();this.GI=null;this.aoj=""}ey.prototype=new eD;ey.prototype.ab$=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.hy,link:"https://www.photopea.com/api/accounts#teams"};this.a(n)};ey.prototype.$s=function(){clearTimeout(this.azy);
this.azy=setTimeout(this.ayP,this.GI?10:3e3)};ey.prototype.ao_=function(){var j=bv.se();if(document.hidden||!V.gU(this.Z)||j==null){this.$s();
return}var n=bv.ya();if(this.GI==null&&n==null)return;bv.SI(this.GI?this.GI:n,this.aFb);this.YX=!0;this.GI=null};
ey.prototype.aw$=function(j){j.acc.update=!0;this.Z.style.pointerEvents="none";this.Z.style.opacity="0.5";
if(this.YX)this.GI=j;else{clearTimeout(this.azy);bv.SI(j,this.aFb)}};ey.prototype.Ks=function(j){var n=typeof j=="string"?this.axg:this.Nj.indexOf(j.target),Q=this.ap6[n],a=Q[0],B=bv.ya();
if(B==null)B={};var m=B.acc,R=m.tjoin,q=m.tstart;if(a=="leave"){R.splice(R.indexOf(Q[1]),1)}if(a=="add"||a=="remove"||a=="delTeam"||a=="showRename"||a=="rename"){var U=-1,l=0;
for(var v=0;v<q.length;v++){l+=q[v][1].length;if(q[v][2]==Q[1])U=v}var b=q[U];if(a=="add"){var D=bv.uz();
if(D&&D[0]==0&&D[1][2]<=l){alert("You can have at most "+D[1][2]+" members in your Premium.");return}b[1].push(Q[2])}if(a=="remove")b[1].splice(b[1].indexOf(Q[2]),1);
if(a=="delTeam"){if(b[1].length!=0){alert("Remove members first.");return}q.splice(U,1)}if(a=="showRename"){var c=new ar(x.E.B,!0);
c.data={Q:x.l.Vg,Z8:"namewindow",Xo:b[0],yI:this.Ks.bind(this)};this.a(c);this.axg=n;Q[0]="rename";return}if(a=="rename")b[0]=j}this.aw$(B)};
ey.prototype.a90=function(j){var n=this.aeC==j.target,Q=(n?this.aF_:this.adv).j().trim();if(Q==""){alert("The Team "+(n?"Name":"ID")+" is empty.");
return}if(!n){Q=parseInt(Q);if(isNaN(Q)){alert("The ID must be a number");return}}var a=bv.ya();if(a==null)a={};
var B=a.acc;if(B==null)B=a.acc={};var m=B.tstart,R=B.tjoin;if(n){if(m==null)m=B.tstart=[];if(m.length>5){alert("You can have at most 5 teams");
return}m.push([Q,[]])}else{if(m)for(var v=0;v<m.length;v++)if(m[v][2]==Q){alert("You are the owner of this team");
return}if(R==null)R=B.tjoin=[];if(R.indexOf(Q)!=-1){alert("You already asked to join this team.");return}B.tjoin.push(Q)}B.update=!0;
this.aw$(a)};ey.prototype.pX=function(){this.YX=!1;var j=bv.se(),n=j!=null,Q=this.ht.parentNode!=null;
if(n!=Q){V.cV(this.Z);if(n)this.Z.appendChild(this.ht);else this.Z.textContent="Log In to access Team Settings."}if(!n)return;
var a=bv.ya();if(a==null)a={};var B=a.acc;if(B==null)B={};var m=JSON.stringify(B)+"===="+JSON.stringify(j);
if(m!=this.aoj){this.aoj=m;var R=this.op,q=this.yF;V.cV(R);V.cV(q);var U=this.Nj=[],l=this.ap6=[],b=this.Ks.bind(this);
function D(Y,C){Y.addEventListener("click",b);U.push(Y);l.push(C)}function c(e,Y){var Z=V.d("div"),C="rgba(255,255,255,0.15)";
Z.appendChild(p("ID: "+e[2],54,C));Z.appendChild(p(e[0],160,null,!0));if(Y){Z.appendChild(p(e[1].length+" members",80,null,!0))}else{Z.appendChild(p(e[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<e[1]*1e3)Z.appendChild(p("Premium",80,"rgba(0,140,0,1)"))}var i=p("",120);Z.appendChild(i);
V.v(i,"float:right;text-align:right");if(Y){var M=new ef("Rename",null,null,!0);D(M,["showRename",e[2]]);
i.appendChild(M.Z)}var M=new ef(Y?"Delete":"Leave",null,null,!0);D(M,[Y?"delTeam":"leave",e[2]]);i.appendChild(M.Z);
return Z}function _(Y,C,d){var Z=V.d("div");Z.style.paddingLeft="46px";Z.appendChild(p(C?"\u2713":"...",8,C?"#229922":"#aa7700"));
Z.appendChild(p(Y[1],200));Z.appendChild(p(Y[2],240));var i=p("",120);Z.appendChild(i);V.v(i,"float:right;text-align:right");
var M=new ef(C?"Remove":"Add",null,null,!0);D(M,[C?"remove":"add",d,Y[0]]);i.appendChild(M.Z);return Z}function p(Y,C,i,M){var W=V.d("span");
W.textContent=Y;V.v(W,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+C+"px;  "+(i!=null?"background-color:"+i+";":"")+(M?"font-weight:bold;":""));
return W}var X=B.tstart,g=B.tjoin,F=j.wantToJoin,k=j.inTeams;if(X)for(var I=0;I<X.length;I++){var e=X[I],H=F["t"+e[2]];
if(H==null)H=[];var A={};for(var v=0;v<H.length;v++)A["u"+H[v][0]]=H[v];var Z=c(e,!0);R.appendChild(Z);
Z.style.marginTop="10px";for(var v=0;v<e[1].length;v++){var J=e[1][v],s=A["u"+J];if(s==null)s=[J,"========","... user has left your team"];
delete A["u"+J];var E=_(s,!0,e[2]);R.appendChild(E)}for(var z in A){var s=A[z],E=_(s,!1,e[2]);R.appendChild(E)}}if(g){var h={};
for(var v=0;v<k.length;v++)h["t"+k[v][2]]=k[v];for(var I=0;I<g.length;I++){var d=g[I],e=h["t"+d],Z=c(e?e:["==========",-1,d],!1);
q.appendChild(Z)}}this.a(new ar(x.E.f))}if(this.GI==null){this.Z.style.pointerEvents="auto";this.Z.style.opacity="1"}this.$s()};
function kf(){eD.call(this);this.HX=[16,!0,!0];this.Z=V.d("span","");this.ji=[new i7([12,24],0,255),new k9([12,25,1]),new k9([12,25,0])];
for(var v=0;v<3;v++){var j=this.ji[v];j.parent=this;j.p(this.HX[v]);this.Z.appendChild(j.Z);j.P(x.E.f,this.Uj,this)}}kf.prototype=new eD;
kf.prototype.Uj=function(){for(var v=0;v<3;v++)this.HX[v]=this.ji[v].j();this.a(new ar(x.E.f,!1))};kf.prototype.p=function(j){this.HX=j.slice(0);
for(var v=0;v<3;v++)this.ji[v].p(j[v])};kf.prototype.j=function(){return this.HX.slice(0)};kf.prototype.S=function(){for(var v=0;
v<3;v++)this.ji[v].S()};function iU(j,n){eD.call(this);if(n==null)n=!1;this.mU=[];this.S3=Math.floor(120*V.lS());
this.anj=Math.floor(23*V.lS());this.vW=0;this.sA=[];this.Z1=[];for(var Q in K.UH.w){if((Q=="warpCustom"||Q=="warpCylinder")&&!n)continue;
this.sA.push(Q);this.Z1.push(K.UH.w[Q])}this.Z=V.d("span","fitem warpbutton");this.yL=new eD;this.yL.Z=V.d("div","floatcont");
if(j){this.iJ=j;this.IW=V.d("label","flabel");this.Z.appendChild(this.IW)}this.Q=V.d("button");this.Z.appendChild(this.Q);
V.ON(this.Q,this.Jd.bind(this));this.K2=new aI(!0);this.yL.Z.appendChild(this.K2.Z);this.K2.P(x.E.f,this.a4D,this);
V.v(this.yL.Z,"width:"+Math.floor(8+this.S3/V.lS())+"px;");this.S()}iU.prototype=new eD;iU.prototype.LY=function(j){this.IW.textContent=j};
iU.prototype.S=function(){if(this.iJ)this.IW.innerHTML=i4.get(this.iJ)+":";this.eq()};iU.aGj={};iU.aBy=function(j,n,Q){var a=i4.get(K.UH.w[j]),B=a+"-"+j+"-"+n+"-"+Q,m=iU.aGj[B];
if(m)return m;var R=iU.Pf;if(q==null){var q=V.d("canvas");R=iU.Pf=q.getContext("2d")}var q=R.canvas;
if(q.width!=n||q.height!=Q){q.width=n;q.height=Q}R.font=Math.floor(13*V.lS())+"px sans-serif";R.lineWidth=1;
R.strokeStyle="#000000";var U=Math.floor(16*V.lS()),l=new b4(0,0,U,U);R.clearRect(0,0,q.width,q.height);
var b=K.UH.UH(j,j=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);K.UH.aji(b[3],l);var D=K.c.yc(l);
D.rZ.push("M","L","M","L");D.g.push(0,U/2,U,U/2);D.g.push(U/2,0,U/2,U);D=K.c.D5(D);D=K.c.mG(D,U/5);K.rU.C(b,D.g,l);
K.c.C(D.g,new j8(1,0,0,1,Math.floor(8*V.lS())+.5,Math.floor(3*V.lS())+.5),D.g);R.beginPath();Typr.U.pathToContext({cmds:D.rZ,crds:D.g},R);
R.stroke();R.fillText(a,Math.floor(40*V.lS()),Math.floor(16*V.lS()));m=iU.aGj[B]=q.toDataURL();return m};
iU.prototype.Jd=function(j){if(V.gU(this.yL.Z))return;j.stopPropagation();var n=this.S3,Q=this.anj;for(var v=0;
v<this.sA.length;v++)this.mU[v]=iU.aBy(this.sA[v],n,Q);this.K2.YS(this.mU,null,n,Q);var a=this.Q.getBoundingClientRect(),B=new ar(x.E.B,!0);
B.data={Q:x.l.Ix,cB:this.yL,x:a.left,y:a.top+a.height+4};this.a(B)};iU.prototype.a4D=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.z0,cB:this.yL};this.a(n);this.vW=j.target.j()[0];this.eq();this.a(new ar(x.E.f))};iU.prototype.eq=function(){var j=this.S3,n=this.anj;
this.K2.p([this.vW]);this.Q.innerHTML="<img src=\""+iU.aBy(this.sA[this.vW],j,n)+"\" class=\"gsicon\" />";
V.GV(this.Q.firstChild,j,n)};iU.prototype.j=function(){return this.sA[this.vW]};iU.prototype.p=function(j){this.vW=this.sA.indexOf(j);
this.eq()};function cf(j,n,Q){eD.call(this);if(j==null)j=!1;if(n==null)n=!1;if(Q==null)Q=!1;this.a8F=n;
this.UH=null;this.pg=new iU([12,22],Q);this.pg.parent=this;this.pg.P(x.E.f,this.XL,this);this.Kn=new hQ([22,0],[[22,4,0],[22,4,1]]);
this.Kn.P(x.E.f,this.XL,this);var a=j?i7:i5;this.dz=new a([22,1],-100,100,"%");this.PX=new a("Horizontal Distortion:",-100,100,"%");
this.ml=new a("Vertical Distortion:",-100,100,"%");this.dz.parent=this.PX.parent=this.ml.parent=this;
this.dz.P(x.E.f,this.XL,this);this.PX.P(x.E.f,this.XL,this);this.ml.P(x.E.f,this.XL,this)}cf.prototype=new eD;
cf.prototype.S=function(){this.pg.S();this.Kn.S();this.dz.S();var j=this.a8F?1:100;this.PX.LY(i4.get([22,2]).substring(0,j)+":");
this.ml.LY(i4.get([22,3]).substring(0,j)+":")};cf.prototype.XL=function(){var j=this.UH,n=this.pg.j(),Q=j.warpStyle.v.warpStyle;
if(n=="warpCustom")K.UH.aH(j,K.UH.Fo(j));else delete j.customEnvelopeWarp;j.warpStyle.v.warpStyle=this.pg.j();
j.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Kn.j()];var a=this.dz.j();j.warpPerspective.v=this.PX.j();j.warpPerspectiveOther.v=this.ml.j();
if(n=="warpNone"||n=="warpCustom"){a=0;j.warpPerspective.v=0;j.warpPerspectiveOther.v=0}else if(Q=="warpNone"||Q=="warpCustom"||Q=="warpCylinder")a=50;
if(n!="warpCylinder"){j.warpValue={t:"doub",v:a};delete j.warpValues}else{j.warpValues=N.IP.ob([0,100,100,0,.15,.2,1]);
delete j.warpValue}this.a(new ar(x.E.f,!1));this.p(j)};cf.prototype.j=function(j){return K.u(this.UH)};
cf.prototype.p=function(j){this.UH=K.u(j);var n=j.warpStyle.v.warpStyle,Q=n=="warpNone"||n=="warpCustom"||n=="warpCylinder";
this.pg.p(n);if(!Q){this.Kn.p(j.warpRotate.v.Ornt=="Hrzn"?0:1);this.dz.p(j.warpValue.v);this.PX.p(j.warpPerspective.v);
this.ml.p(j.warpPerspectiveOther.v)}var a=[this.Kn,this.dz,this.PX,this.ml];for(var v=0;v<a.length;v++)if(Q)a[v].QE();
else a[v].I6()};function cx(j){eD.call(this);this.eC={};this.Z=V.d("div");this.l6=j;this.Th=null;this.m0=new eE(0,0);
this.lL="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.k_=null;this.Vs=new V.Nc(this.Z);
this.QM("grab");this.q$=V.d("canvas","canv");this.Z.appendChild(this.q$);this.Pf=this.q$.getContext("2d",{willReadFrequently:!0});
this.ai6=null;this.Qo=null;this.BC=null;this.av=0;this.amf=0;this.S_=0;this.fA=0;this.aai=this.al2.bind(this);
this.aam=null;this.e=new b6({q:1,_:1});this.Bu=null;this.Xp=null;this.zb=[];this.awX=0;this.r8=0;this.auo=this.Vk.bind(this);
this.aoa=this.a5.bind(this);this.avT=this.mz.bind(this);this.ajr=this.hL.bind(this);this.a5g=0;this.gP=null;
this.a2A(this.q$);this.O2(this)}cx.prototype=new eD;cx.prototype.a4A=function(j){this.eC=j;this._J()};
cx.rc=function(j){var n=new i8(!0);if(j>=0)n.s9("Space");if(j>=1){n.s9("ControlLeft");if(j==2)n.s9("AltLeft")}return n};
cx.prototype.hs=function(j){var n=this.k_,Q=null;if(j.r(i8.Wc)){Q="grab";if(j.r(i8.Gm)){Q="zoom-in";
if(j.r(i8.Y2))Q="zoom-out"}}this.Th=Q;if(Q)n=Q;this.Vs.pX(n,this.lL);if(j.r(i8.Gm)){var a=0;if(j.r(i8.Vm))a=1;
if(j.r(i8.ZH))a=-1;if(a!=0){this.NN(new eE(this.q$.width/2,this.q$.height/2),a==1)}}};cx.prototype.QM=function(j){this.k_=j;
if(this.Th)return;this.Vs.pX(j,this.lL)};cx.prototype.a2A=function(j){V.ON(j,this.auo);V.as(j);j.addEventListener("wheel",this.ajr,!1)};
cx.prototype.O2=function(j){j.P("viewchange",this.aDV,this)};cx.prototype.aDV=function(j){var n=this.e.yr,Q=j.currentTarget.O7();
this.e.yr=Q.yr;this.e.k=Q.k.O();if(n!=Q.yr)this.mn();this._J()};cx.prototype.O7=function(){return{yr:this.e.yr,k:this.e.k}};
cx.prototype.p=function(j,n,Q,a){var B=j[0].nJ;if(this.Qo!=null&&this.Qo[0].nJ.N_(B)){}else{this.e.uM={q:B.q,_:B._};
this.e.yr=1;this.e.k=new eE(0,0)}this.Qo=j;this.mn(a);this.Mq();this.av=0;this.amf=Date.now();this.S_=0;
this.fA=n==null?0:n;if(Q)this.eC=Q;this.al2()};cx.prototype.hL=function(j){j.preventDefault();if(j.deltaY==0||Date.now()-this.a5g<100)return;
var n=V.MR(j);n.x=V.lS()*n.x;n.y=V.lS()*n.y;this.a5g=Date.now();this.NN(n,j.deltaY<0)};cx.prototype.NN=function(j,n){N.EZ.oV(this.e,j,n);
this.afi()};cx.prototype.vh=function(j){var n=this.e,Q=n.uM;this.e.yr=N.EZ.jJ(Q.q,Q._,n.C5.q,n.C5._);
if(j)this.e.k=new eE(0,0);this.afi()};cx.prototype.afi=function(){this.mn();this.a(new ar("viewchange"));
this.a(new ar("zoom"))};cx.prototype.mn=function(j){var n=this.BC;this.BC=[];var Q=this.e.yr;if(this.Qo==null)return;
if(j){var a=K.gE(Q),B=1;for(var m=0;m<a.length;m++)B*=a[m];var R=j.x,q=j.y,U=R+j.q,l=q+j._;R=Math.floor(R/B)*B;
U=Math.ceil(U/B)*B;q=Math.floor(q/B)*B;l=Math.ceil(l/B)*B;j=new b4(R,q,U-R,l-q)}for(var v=0;v<this.Qo.length;
v++){var b=this.Qo[v],D=new Uint8Array(b.data),c;if(Q>=1)c={jB:D,s:b.nJ};else{if(n&&n[v]&&j){var _=K.U(j.$()*4);
K.EC(D,b.nJ,_,j);var p=K.sl(_,j,Q),X=p.s;X.x=Math.floor(X.x*Q);X.y=Math.floor(X.y*Q);c=n[v];K.EC(p.jB,p.s,c.jB,c.s)}else c=K.sl(D,b.nJ,Q)}this.BC[v]=c}};
cx.prototype.Mq=function(){clearTimeout(this.aam)};cx.prototype._J=function(){if(this.Qo==null||!V.gU(this.q$))return;
var j=this.ai6,n=this.q$.width,Q=this.q$.height,p,X;if(j==null||j.width!=n||j.height!=Q){j=this.ai6=new ImageData(n,Q);
console.log("creating image data")}var a=this.Qo[this.av],B=this.BC[this.av],m=this.e,R=m.uM,q=m.C5,U=q.q,l=q._,b=R.q*m.yr,D=R._*m.yr,c=Math.round((U-b)/2+m.k.x),_=Math.round((l-D)/2+m.k.y);
if(m.yr<=1){X=B.s.O();X.x=c;X.y=_;b=X.q;D=X._;p=B.jB}else{var g=1/m.yr,F=new b4(Math.floor((q.x-c)*g),Math.floor((q.y-_)*g),Math.ceil(q.q*g)+1,Math.ceil(q._*g)+1),k=new b4(0,0,F.q*m.yr,F._*m.yr);
k.x=F.x*m.yr+c;k.y=F.y*m.yr+_;if(m.nI==null||m.nI.length!=F.$()*4){m.nI=K.U(F.$()*4)}if(m.JW==null||m.JW.length!=k.$()*4){m.JW=K.U(k.$()*4)}m.nI.fill(0);
K.EC(B.jB,B.s,m.nI,F);K.scale.J4(m.nI,F.q,F._,m.JW,k.q,k._,m.yr);p=m.JW;X=k}var I=new Uint8Array(j.data.buffer);
K.WU(I,U,l,8,-c,-_);K.L.sg("norm",p,X,I,q,q,1);var e=this.Pf;e.setTransform(1,0,0,1,0,0);e.putImageData(j,0,0);
e.clearRect(c-4e3,_,4e3,D);e.clearRect(c+b,_,4e3,D);e.clearRect(c-4e3,_-4e3,b+8e3,4e3);e.clearRect(c-4e3,_+D,b+8e3,4e3);
var H=cx.avO(m.yr,"#ffffff");e.putImageData(H,0,m.C5._-H.height);var A=this.eC,m=this.e;if(A){var Z=jL.pF([.1,.5,1,1]),J=jL.pF([1,0,0,1]),s=jL.pF([1,1,1,1]),E=jL.pF([0,0,0,1]),z=m.Q2(!1);
z.m2();e.save();e.setTransform(z.NX,z.b,z.RK,z.zP,z.Qr,z.dE);e.strokeStyle=J;if(A.ayu){jL.a2(A.ayu,null,e);
e.lineWidth=1/m.yr;e.stroke()}e.strokeStyle=s;if(A.aqO){jL.a2(A.aqO,null,e);e.lineWidth=1/m.yr;e.stroke();
e.strokeStyle=E;e.setLineDash([4/m.yr,4/m.yr]);e.stroke();e.setLineDash([])}e.strokeStyle=Z;e.fillStyle=jL.pF([1,1,1,1]);
if(A.RJ){jL.a2(A.RJ,null,e);e.lineWidth=1/m.yr;e.stroke()}if(A.oi){jL.Wa(A.oi,e,m,.5);e.lineWidth=2/m.yr;
e.stroke();e.fill()}if(A.Lq){e.font=16/m.yr+"px sans-serif";var h=1/m.yr;for(var v=0;v<A.Lq.length;v++){var d=A.Lq[v],Y=d[0],C=d[1]+6/m.yr,i=d[2];
e.fillStyle="black";e.fillText(i,Y-h,C);e.fillText(i,Y+h,C);e.fillStyle="white";e.fillText(i,Y,C)}}e.restore()}e.getImageData(0,0,1,1)};
cx.apl="";cx.agq=null;cx.avO=function(j,n,Q,a){if(Q==null){Q=0;a=0}var B=Q+" \xD7 "+a,m="z"+j+","+n+","+Q+","+a;
if(m==cx.apl)return cx.agq;var R=Math.round(50*V.lS()),q=Math.round(18*V.lS()),U=Q==0?0:Math.round((B.length+2)*q*.35),l=V.d("canvas"),b=l.getContext("2d");
l.width=R+U;l.height=q;b.fillStyle="rgba(1,1,1,1)";b.fillRect(0,0,R,q);if(Q!=0)b.fillRect(R+2,0,U,q);
b.font=Math.round(11*V.lS())+"px monospace";b.fillStyle=n;var D=j*100;if(D<100)D=D.toFixed(2);else D=Math.round(D);
D=D+"%";var c=b.measureText(D).width;b.fillText(D,(R-c)/2,Math.round(q*.7));if(Q!=0){var _=b.measureText(B).width;
b.fillText(B,R+(U-_)/2+1,Math.round(q*.7))}var p=b.getImageData(0,0,R+U,q);cx.apl=m;cx.agq=p;return p};
cx.prototype.al2=function(){var j=this.Qo,n=j.length,Q=this.av,a=this.Qo[Q],B=(Q+1)%n;this._J();var m=Date.now();
if(n!=1&&j[B].nJ.N_(a.nJ)){var R=a.YU?parseInt(a.YU.split(",").pop()):30;if(R==0)R=16;if(B==0)this.S_++;
if(this.fA==0||this.S_<this.fA)this.aam=setTimeout(this.aai,R)}this.av=B;this.amf=m};cx.prototype.rs=function(j,n){if(j<=0||n<=0)return;
var Q=Math.floor(j*V.lS()),a=Math.floor(n*V.lS());this.e.C5=new b4(0,0,Q,a);this.q$.width=Q;this.q$.height=a;
V.v(this.q$,"width:"+Q/V.lS()+"px; height:"+a/V.lS()+"px; display:block;");this._J()};cx.prototype.ij=function(j){var n=-1,Q=this.zb;
for(var v=0;v<Q.length;v++)if(Q[v].pointerId==j.pointerId)n=v;return n};cx.prototype.Vk=function(j){var n=this.ij(j),Q=this.zb;
if(n!=-1)Q[n]=j;else Q.push(j);if(Q.length==1){this.gP=j.target;V.NF(window,this.aoa);V.GL(window,this.avT);
this.Bu=V.MR(j,this.q$);this.Bu.x*=V.lS();this.Bu.y*=V.lS();this.m0=this.Bu;this.Xp=this.e.k.O();if(this.l6&&this.gP==this.q$&&!this.Th)this.a(new ar("mousedown"))}else this.awX=this.r8=eE.X_(V.MR(Q[0],this.q$),V.MR(Q[1],this.q$))};
cx.prototype.a5=function(j){var n=this.ij(j),Q=this.zb;if(n!=-1)Q[n]=j;var a=this.e,B=this.Th,m=this.Qo[this.av].nJ.O();
m.q*=a.yr;m._*=a.yr;var R=V.MR(j,this.q$);R.x*=V.lS();R.y*=V.lS();this.m0=R;if(this.l6&&this.gP==this.q$&&!B)this.a(new ar("mousemove"));
else if(B=="grab"||B==null){if(Q.length>1){var q=V.MR(Q[0],this.q$),U=V.MR(Q[1],this.q$),l=new eE(V.lS()*(q.x+U.x)/2,V.lS()*(q.y+U.y)/2),b=eE.X_(q,U),D=null;
if(b>this.r8+50){this.r8+=50;D=!0}if(b<this.r8-50){this.r8-=50;D=!1}if(D!=null)this.NN(l,D);return}else{var c=R.x-this.Bu.x,_=R.y-this.Bu.y;
a.k.x=this.Xp.x+Math.round(c);a.k.y=this.Xp.y+Math.round(_)}this.a(new ar("viewchange"))}};cx.prototype.mz=function(j){var n=this.ij(j),Q=this.zb;
Q.splice(n,1);if(Q.length==0){V.na(window,this.aoa);V.rq(window,this.avT);var a=this.Th;if(j.detail>1){this.e.yr=1;
this.e.k.OI(0,0);this._J()}if(this.l6&&this.gP==this.q$&&!this.Th)this.a(new ar("mouseup"));else{if(a=="zoom-in"||a=="zoom-out")this.NN(this.m0,a=="zoom-in")}}else{var B=this.Bu=V.MR(Q[0],this.q$);
B.x*=V.lS();B.y*=V.lS()}};cx.prototype.mm=function(j){var n=this.m0;if(j){n=V.MR(j,this.q$);n.x*=V.lS();
n.y*=V.lS()}return this.e.oR(n.x,n.y)};function dA(){eD.call(this);this.$l=null;this.tS=null;this.cF=null;
this.MJ=null;this.aso="";this.G_=[];this.Yv=0;this.SF=[];this.H=null;this.G7=0;var j=this.Z=V.d("div",""),n=this.a6N=V.d("div","form");
V.v(n,"line-height:0; margin-bottom:0.5em;");j.appendChild(n);var Q=this.iJ=V.d("span");n.appendChild(Q);
V.v(Q,"font-size:1.2em; font-weight:bold; margin-right:3em;");var a=this.a1j=new k9([25,2,0]);a.p(!0);
n.appendChild(a.Z);a.P(x.E.f,this.p9,this);var B=this.gc=new k9([25,2,1]);B.p(!0);n.appendChild(B.Z);
B.P(x.E.f,this.p9,this);var m=new kC(" ");n.appendChild(m.Z);var R=this.HP=new cE([25,1,1]);n.appendChild(R.Z);
R.P(x.E.f,this.p9,this);this.gw=new j3(14);this.gw.akP(3);n.appendChild(this.gw.Z);this.gw.parent=this;
this.gw.P(x.E.f,this.a8K,this);var q=this.agB=new ef([25,1,2],null,null,!0);n.appendChild(q.Z);q.P("click",this.Bi,this);
var U=new ef("?",null,null,!0);n.appendChild(U.Z);U.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.ahu=this.ajJ.bind(this);this.TK=V.d("div","svggallery scrollable");j.appendChild(this.TK);this.TK.addEventListener("scroll",this.aBc.bind(this))}dA.prototype=new eD;
dA.prototype.sW=function(j){this.H=j};dA.prototype.S=function(){this.iJ.textContent=i4.get([25,0]);this.gw.S();
this.a1j.S();this.gc.S();this.HP.S();this.agB.S()};dA.prototype.rs=function(j,n){if(this.$l&&this.$l.x==j&&this.$l.y==n)return;
this.$l=new eE(j,n);V.v(this.a6N,"width:"+j+"px");var Q=this.a6N.getBoundingClientRect();n-=Q.height;
V.v(this.TK,"width:"+j+"px; height:"+n+"px");if(V.gU(this.Z))this.p9()};dA.prototype.p=function(j){this.tS=j;
this.p9()};dA.prototype.aBc=function(j){var n=this.TK;if(n.scrollTop+n.clientHeight+10>=n.scrollHeight){this.p9(!0)}};
dA.prototype.a8K=function(j){this.cF=null;this.p9()};dA.prototype.ajJ=function(j){if(Date.now()-this.G7<2e3)return;
this.G7=Date.now();this.Yv=this.SF.indexOf(j.currentTarget);var n=this.O4(this.tS.x,this.tS.y);if(n[1]){var Q=n[1].largeImageURL,a=new XMLHttpRequest;
a.responseType="arraybuffer";a.open("GET",Q,!0);a.onload=this.awc.bind(this);a.send();return}this.aFG(n)};
dA.prototype.awc=function(j){var n=j.target.response,Q=fj.Ot(n),a=fj.Mi(Q),B=a.z5(n),m=this.O4(this.tS.x,this.tS.y,[n,B[0].nJ.q,B[0].nJ._]);
this.aFG(m)};dA.prototype.aFG=function(j){var n=j[0],Q=fj.Ot(n),a=fj.Mi(Q),B=new hs("template.psd");
a.z5(n,B);var m=new ar("tempready",!0);m.data={uM:B};this.a(m)};dA.prototype.Bi=function(j){var n=j.target;
this.G_=[];this.cF=null;this.p9()};dA.prototype.ayp=function(j){var n=JSON.parse(j.target.response),Q=this.MJ=n.hits;
for(var v=0;v<Q.length;v++)if(Q[v].user_id==6314823)Q.splice(v,1);this.p9()};dA.prototype.p9=function(j){if(this.tS==null||this.$l==null||this.H==null)return;
if(this.$l.x<=0)return;var n=this.tS.x,Q=this.tS.y;if(Math.min(n,Q)<50)return;if(j!=!0){this.SF=[];V.cV(this.TK);
this.TK.scrollTop=0}if(this.SF.length>300)return;var a=Math.min(1,300/Math.max(n,Q)),B=this.$l.O();B.x-=20;
var m=Math.max(1,Math.floor(B.x/(n*a))),R=Math.max(1,Math.ceil(B.y/(Q*a)));a=B.x/m/n;var q=m*R;if(this.cF==null){var U=this.H.wR.WI(),l=[];
for(var b in U){var D=U[b],c=D[3];if(!this.gw.Z7(D))continue;if(D[5]==null||D[5].slice(0,2)=="gf")continue;
l.push(D)}if(l.length==0)l.push(U.DejaVuSans);var _=l.length;for(var v=0;v<_*10;v++){var p=Math.floor(Math.random()*_),X=Math.floor(Math.random()*_),g=l[p];
l[p]=l[X];l[X]=g}l=l.slice(0,10);this.cF=l}var F=this.gc.j(),k=this.HP.j().trim();this.HP.Q7(F);if(F&&(this.MJ==null||k!=this.aso)){var I=new XMLHttpRequest,e="https://pixabay.com/api/?image_type=photo"+(k==""?"":"&q="+encodeURIComponent(k))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(k=="")e="//www.photopea.com/plugins/gallery.json";I.open("GET",e,!0);I.onload=this.ayp.bind(this);
I.onerror=function(E){console.log(E.target.response)};I.send();this.aso=k;return}a*=(n*a-5)/(n*a);var H=this.SF.length;
for(var v=0;v<q;v++){var A=this.Yv=H+v;if(this.G_[A]==null)this.G_[A]=Math.floor(Math.random()*4294967295);
var Z=this.O4(Math.round(n*a),Math.round(Q*a)),J=Z[0];J=L.Cl(new Uint8Array(J));var s=V.d("span");s.innerHTML=J;
this.SF.push(s);this.TK.appendChild(s);s.addEventListener("click",this.ahu,!1)}};dA.prototype.O4=function(j,n,Q){var a=this.gc.j(),B=this.a1j.j(),m=a&&this.MJ.length!=0?this.MJ:null;
if(B&&!a)m=null;if(B&&a&&(this.Yv&1)==0)m=null;return hI.hi(j,n,this.G_[this.Yv],this.cF,Q?Q:m)};function aT(){eD.call(this);
this.Z=V.d("div");this.ht=null;this.apt=null;this.OU=-1;this.Zv={JPG:[{wJ:new i5([12,52,0],0,100,"%",null,null,!0),xO:70},{wJ:new k9("attach metadata"),xO:!1}],TIFF:[{wJ:new k9("attach metadata"),xO:!1}],WEBP:[{wJ:new i5([12,52,0],0,100,"%",null,null,!0),xO:70},{wJ:new k9("attach metadata"),xO:!1}],GIF:[{wJ:new i5([12,52,0],0,100,"%",null,null,!0),xO:100},{wJ:new k9([12,23,3]),xO:!1}],PNG:[{wJ:new i5([12,52,0],0,100,"%",null,null,!0),xO:100},{wJ:new k9("don't use palettes"),xO:!1},{wJ:new k9("attach metadata"),xO:!1}],BMP:[{wJ:new k9("don't use palettes"),xO:!1}],PDF:[{wJ:new cE([12,52,1]),xO:""},{wJ:new i5([12,52,0],0,100,"%",null,null,!0),xO:100},{wJ:new k9("reverse pages"),xO:!1},{wJ:new k9("rasterize all"),xO:!1},{wJ:new k9("vectorize text"),xO:!1},{wJ:new i5("Add Margin",0,5,"in",2),xO:0},{wJ:new k9("add crop marks"),xO:!1}],EMF:[{wJ:new cE([12,52,1]),xO:""},{wJ:new i5([12,52,0],0,100,"%",null,null,!0),xO:100},{wJ:new k9("reverse pages"),xO:!1},{wJ:new k9("rasterize all"),xO:!1},{wJ:new k9("vectorize text"),xO:!1},{wJ:new i5("Add Margin",0,5,"in",2),xO:0}],SVG:[{wJ:new k9("add raster graphics"),xO:!0},{wJ:new k9("add hidden layers"),xO:!1},{wJ:new k9("vectorize text"),xO:!1},{wJ:new k9("rasterize text"),xO:!1},{wJ:new k9("minify"),xO:!1}],RAW:[{wJ:new aY([12,72],["1","3","4"]),xO:2},{wJ:new aY([12,34],["8 Bits","16 Bits"]),xO:0},{wJ:new aY("Byte Order",["12-34","34-12"]),xO:0}],DDS:[{wJ:new hQ("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),xO:0},{wJ:new k9("Add Mipmaps"),xO:!0}],MP4:[{wJ:new i5([12,52,0],0,100,"%",null,null,!0),xO:50}],anim:[{wJ:new i5("Speed",10,1e3,"%",null,!0,!0),xO:100},{wJ:new i7("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),xO:0},{wJ:new k9("reverse frames"),xO:!1},{wJ:new k9("boomerang"),xO:!1}],slcs:[{wJ:new hQ([8,11,0],["No Slices","All Slices","User Slices"]),xO:1}],artb:[{wJ:new k9([1,16,1]),xO:!0}],hicc:[{wJ:new k9("convert to sRGB"),xO:!0}]};
for(var j in this.Zv){var n=this.Zv[j];for(var v=0;v<n.length;v++){n[v].wJ.p(n[v].xO);n[v].wJ.P(x.E.f,this.Mu,this)}}}aT.prototype=new eD;
aT.prototype.a6e=function(){this.OU=-1};aT.prototype.S=function(){for(var j in this.Zv)for(var v=0;v<this.Zv[j].length;
v++)this.Zv[j][v].wJ.S()};aT.prototype.Mu=function(){this.p9();this.a(new ar(x.E.f,!1))};aT.prototype.p9=function(){var j=this.ht,n=j[0],Q=j[1],a=j[2],B=j[3],m=j[4],R=this.Zv[n];
if(R==null)R=[];else R=R.slice(0);if(Q)R=R.concat(this.Zv.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(n)!=-1&&a)R=R.concat(this.Zv.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(n)!=-1&&B)R=R.concat(this.Zv.artb);if(m)R=R.concat(this.Zv.hicc);
var q=j.join(",");if(q!=this.OU){this.OU=q;V.cV(this.Z);for(var v=0;v<R.length;v++){if(n=="PDF"&&!B&&(v==0||v==2))continue;
this.Z.appendChild(R[v].wJ.Z);V.pd(this.Z)}}var U=this.apt=[];for(var v=0;v<R.length;v++)U.push(R[v].wJ.j())};
aT.prototype.to=function(j,n,Q,a,B){this.ht=[j,n,Q,a,B];this.p9()};aT.prototype.j=function(){return this.apt.slice(0)};
aT.prototype.p=function(j,n){var Q=this.ht,a=Q[0],B=this.Zv[a],m=Math.min(B.length,j.length);for(var v=0;
v<m;v++)B[v].wJ.p(j[v]);this.p9();if(n!=!0)this.Mu()};function dI(){eD.call(this);this.Z=V.d("span","fitem");
this.LG=!1;this.ja=new ef("No",!1,"Cancel");this.ks=new ef("Yes",!1,"Confirm");this.Z.appendChild(this.ja.Z);
this.Z.appendChild(this.ks.Z);this.ja.P("click",this.jm,this);this.ks.P("click",this.jm,this);this.S()}dI.prototype=new eD;
dI.prototype.S=function(){this.ja.LY(V.Mn("cross",null,"autoscale"));this.ks.LY(V.Mn("checkmark",null,"autoscale"))};
dI.prototype.jm=function(j){this.LG=j.target==this.ks;this.a(new ar("click",!1))};dI.prototype.j=function(){return this.LG};
function kG(j){eD.call(this);this.Z=V.d("span","fitem");this.m1=new ef("\u25BC",null,"Auto Options",!0);
V.ON(this.m1.Z,this.atv.bind(this));this.Z.appendChild(this.m1.Z);this._b=new ef("Auto",null,null,!0);
this._b.P("click",this.ww,this);this.Z.appendChild(this._b.Z);this.b1=new is("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.b1.P(x.E.f,this.ww,this);this.b1.p([!1,!1,!1,!0]);this.yL=new eD;var n=this.yL.Z=V.d("div","floatcont form");
V.v(n,"width: 250px;");this.yL.parent=this;n.appendChild(this.b1.Z);this.aN=[];for(var v=0;v<2;v++){var Q=new i7((v==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
Q.p(.1);Q.P(x.E.f,this.ww,this);this.aN.push(Q);n.appendChild(Q.Z)}}kG.prototype=new eD;kG.prototype.ww=function(j){this.a(new ar(x.E.f,!1))};
kG.prototype.S=function(){};kG.prototype.j=function(){return[this.b1.j().indexOf(!0),this.aN[0].j(),this.aN[1].j()]};
kG.prototype.atv=function(j){if(V.gU(this.yL.Z))return;j.stopPropagation();var n=this.m1.Z.getBoundingClientRect(),Q=new ar(x.E.B,!0);
Q.data={Q:x.l.Ix,cB:this.yL,x:n.left,y:n.top+n.height+4};this.a(Q)};function fK(){eD.call(this);var j=this.Z=V.d("div","fitem");
this.nh=new hQ([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.nh.P(x.E.f,this.Uj,this);j.appendChild(this.nh.Z);
this.rG=new ci(!1);this.rG.parent=this;this.rG.au(16777215);this.rG.P(x.E.f,this.Uj,this);j.appendChild(this.rG.Z)}fK.prototype=new eD;
fK.prototype.S=function(){this.nh.S();this.rG.S()};fK.prototype.anT=function(j){var n=[j.artboardBackgroundType.v-1];
if(j.Clr)n.push(j.Clr.v);this.p(n)};fK.prototype.aGZ=function(){var j=this.j();return{classID:"artboard",Clr:{t:"Objc",v:j[1]},artboardBackgroundType:{t:"long",v:j[0]+1}}};
fK.prototype.p=function(j){this.nh.p(j[0]);if(j[1])this.rG.p(j[1])};fK.prototype.j=function(){return[this.nh.j(),this.rG.j()]};
fK.prototype.Uj=function(j){if(j.target==this.rG)this.nh.p(3);this.a(new ar(x.E.f,!1))};function cU(j){eD.call(this);
this.iY=j;this.aCp=0;this.are=!1;this.lI=j?new cU.ST:null;this.Z=V.d("div","flexrow storageset");this.Z.style.background="var(--bg-panel)";
this.al=V.d("div");this.Z.appendChild(this.al);this.Pl=V.d("div");this.Z.appendChild(this.Pl);this.K3=[];
var n=Storage.list.length;if(j)n=n+1+cU.ib.length;var Q=this.x_.bind(this);for(var v=0;v<n;v++){var a=V.d("div");
this.K3.push(a);this.al.appendChild(a);a.addEventListener("click",Q,!1)}this.x_(null,0)}cU.prototype=new eD;
cU.MV=[];cU.J0=function(j){cU.MV.push(j);j.HD()};cU.Eb=function(){var j=cU.MV;j.pop();j[j.length-1].HD()};
cU.prototype.HD=function(){this.x_(null,this.aCp)};cU.prototype.sW=function(j,n){if(!j.ig&&!this.are){var Q=this.iY?2:1;
for(var v=Q;v<this.K3.length;v++)this.al.removeChild(this.K3[v]);this.are=!0;if(this.iY)this.lI.sW(j,n)}if(this.$B)this.$B.sW(j,n)};
cU.prototype.S=function(){if(this.iY)this.lI.S();if(this.$B)this.$B.S()};cU.prototype.x_=function(j,n){var Q=this.K3,a;
if(n==null)n=Q.indexOf(j.currentTarget);this.aCp=n;for(var v=0;v<Q.length;v++)V.yZ(Q[v],"active");V.BZ(Q[n],"active");
if(this.iY)n--;V.cV(this.Pl);var B=Storage.list.length;if(n==-1)a=this.lI;else if(n<B)a=Storage.sB(n);
else{var m=cU.ib[n-B];a=new cU.Yd(m[1]);bv.event("strg_"+m[0])}this.$B=a;a.parent=this;this.Pl.appendChild(a.Z);
this.rs(this.Uw,this.WC);this.S()};cU.prototype.rs=function(j,n){this.Uw=j;this.WC=n;var Q=j<850,a=Q?50:210,B=Storage.list;
if(this.iY)B=[["Home",null,"strg/home"]].concat(B.concat(cU.ib));for(var v=0;v<B.length;v++){var m=this.K3[v],R="padding: 8px "+(Q?13:36)+"px; cursor:pointer;";
V.v(m,R);var q=B[v][2],U=B[v].length==6;q=U?q:PIMG[q];m.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+q+"\" /> "+(Q?"":B[v][0])}this.Z.style.width=j+"px";
this.Z.style.height=n+"px";this.al.style.width=a+"px";this.al.style.paddingTop="32px";if(this.$B)this.$B.rs(j-a,n)};
cU.ib=[["PeaGames","plugins/games.html","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664]];
for(var v=0;v<cU.ib.length;v++)if(cU.ib[v][5]*1e3<Date.now()){cU.ib.splice(v,1);v--}cU.ST=function(){this.I2=null;
var j=this.Z=V.d("div");j.style.background="var(--bg-canvas)";var n=this.Zj=V.d("div");j.appendChild(n);
var Q=V.d("style");j.appendChild(Q);Q.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var v=0;v<2;v++){var a=V.d("div"),Q="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";n.appendChild(a);
if(v==0)Q+="padding: 12px 0px";if(v==1)Q+="position:absolute;  bottom:0;";V.v(a,Q);var B=V.d("img");
a.appendChild(B);B.setAttribute("src",PIMG[v==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);if(v==0)this.yf=B;
else this.at9=B;if(v==0)this.ao$=a;else this.a16=a}this.K3=[];Q="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var m=this.LX.bind(this),R=V.d("div");n.appendChild(R);V.v(R,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var v=0;v<4;v++){var q=V.d("span","bhover");this.K3.push(q);V.v(q,Q+"cursor:pointer; padding:12px;");
q.addEventListener("click",m,!1);R.appendChild(q)}V.pd(n);var a=V.d("div");V.v(a,Q+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
a.textContent="Drop any files here";n.appendChild(a);var U=new Date().getDate(),l=new Date().getMonth();
if(l==11&&U>20||l==0&&U<10){this.q$=V.d("canvas");V.v(this.q$,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.Pf=this.q$.getContext("2d");this.a5B=K.U(4);j.appendChild(this.q$);var b=Math.random()<.5,D={n:255,i:255,b:255};
if(!b){D=K.JG(Math.random(),Math.random()*.7,1);D.n*=255;D.i*=255;D.b*=255}this.Es=[Math.round(1048575*Math.random()),b?.05:.02,Math.round(4+Math.random()*8),1,b?3:15,D,0,!0,b,b?1:.2,3];
this.ad3=b?.1:.2;this.bO=this.LI.bind(this);window.requestAnimationFrame(this.bO)}};cU.ST.prototype=new eD;
cU.ST.prototype.LI=function(){window.requestAnimationFrame(this.bO);if(!V.gU(this.Z))return;var j=this.a5B,n=this.q$,Q=this.Pf,a=n.width,B=n.height;
this.Es[6]=Date.now()*.001*this.ad3;K._S.ex(j,a,B,this.Es,!0);Q.putImageData(new ImageData(new Uint8ClampedArray(j.buffer),a,B),0,0)};
cU.ST.prototype.LX=function(j){var v=this.K3.indexOf(j.currentTarget),n=new ar(x.E.B,!0);if(v==0)n.data={Q:x.l.Vg,Z8:"newproject"};
if(v==1)n.data={Q:x.l.ws};if(v==2)n.data={Q:x.l.Vg,Z8:"res0"};if(v==3)n.data={Q:x.l.eP};this.a(n)};cU.ST.prototype.S=function(){var j=this.K3,n=[[11,7],[1,6],[25,0],[0,17,6]],Q=["\u2605","\uD83E\uDC7F","\u25A3"],Q=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var v=0;v<j.length;v++)j[v].innerHTML="<span style=\"vertical-align:middle\">"+V.Mn(Q[v],null,"autoscale")+"</span>\u2000"+i4.get(n[v]);
var a="l"+"o"+"g"+"o",B=a+"_"+["pp","vp"][fL],m=new Date;if(m.getMonth()==3&&m.getDate()==1)B="lo"+"go_cuc"+"umber";
if(PIMG[a])B=a;this.yf.setAttribute("src",PIMG[B]);this.at9.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
cU.ST.prototype.rs=function(j,n){var Q=Math.min(n*1.5,Math.min(j,600)),a=this.q$;if(a){V.w9(a,j,Q*.26);
this.a5B=K.U(a.width*a.height*4)}this.Z.style.width=j+"px";this.Z.style.height=n+"px";this.a16.style.width=j+"px";
this.Zj.style.marginLeft=Math.max(0,Math.round((j+200-600)/2)-200)+"px";this.yf.style.width=Q+"px";this.at9.style.width=Q+"px"};
cU.ST.prototype.sW=function(j,n){var Q=j;if(j==null)j=this.H;this.H=j;if(!j.ig&&this.K3[2].parent){this.Zj.removeChild(this.K3[2]);
this.Zj.removeChild(this.K3[3])}this.K3[3].style.display=j.fq?"inline-block":"none";if(Q)this.I2=setTimeout(this.sW.bind(this),100)};
cU.Yd=function(j){var n=this.Z=V.d("iframe");n.style.background="var(--bg-canvas)";n.setAttribute("src",j)};
cU.Yd.prototype=new eD;cU.Yd.prototype.rs=function(j,n){var Q=this.Z;Q.style.width=j+"px";Q.style.height=n+"px"};
cU.Yd.prototype.sW=function(){};function Storage(j){eD.call(this);var n=this.Z=V.d("div","storage");
V.Sp(n);n.addEventListener("drop",this.awD.bind(this),!1);var Q=this.awG=V.d("style");n.appendChild(Q);
n.setAttribute("tabindex","0");n.style.outline="none";n.addEventListener("keydown",this.awn.bind(this),!1);
this.Cs=this.aeM.bind(this);this.XY=0;this.O5=0;var a=V.d("div");n.appendChild(a);var B=this.acy.bind(this);
this.Ve=V.d("div","bar");a.appendChild(this.Ve);this.HY=V.d("div","fls scrollable");a.appendChild(this.HY);
this.k0=V.d("div");a.appendChild(this.k0);V.v(this.k0,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.q3=V.d("div","bar");this.q3.textContent="Name: ";var m=this.qx=V.d("input");m.setAttribute("type","text");
this.q3.appendChild(m);var R=this.d5=V.d("div","btn");R.textContent="Save";this.q3.appendChild(R);V.GL(R,B);
V.ON(this.HY,this.Cs);this.JF=0;this.K9=j;var q=this.aus.bind(this),U=this.a5U=V.d("div");V.v(U,"text-align:center; font-size:1.6em");
var l=V.d("img");U.appendChild(l);V.pd(U);l.setAttribute("src",PIMG[Storage.list[this.K9][2]]);V.v(l,"opacity:0.5;  width:25%; cursor:pointer;");
V.GL(l,q);this.nY=V.d("div","btn");U.appendChild(this.nY);V.GL(this.nY,q);this.Dt=new ig([{name:[6,20]},{name:[5,2],Ha:[i8.Gm,i8.md],m:function(){return{m:Storage.hW!=null}}}]);
this.Dt.parent=this;this.Dt.P("select",this.q6,this);this.HY.addEventListener("contextmenu",this.Cs);
this.aez=V.d("span");this.yd=V.d("span");V.v(this.yd,"position:absolute; right:0; top:5px;");this.v5=[];
this.bv=[];for(var v=0;v<3;v++){var b=V.d("div","btn");this.v5.push(b);this.aez.appendChild(b);V.GL(b,B);
b.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][v]}for(var v=0;v<5;v++){var b=V.d("div","btn");this.bv.push(b);
this.yd.appendChild(b);V.GL(b,B)}window.addEventListener("message",this.aDH.bind(this),!1);this.ahO=!1;
this.Dl=0;setInterval(this.a2G.bind(this),300);this.eO();var D=this.ast=document.createElement("input");
D.setAttribute("type","file");D.addEventListener("change",this.awD.bind(this),!1);document.body.appendChild(D);
V.v(D,"display:none");D.setAttribute("multiple","")}Storage.prototype=new eD;Storage.DE=!1;Storage.prototype.awD=function(j){j.stopPropagation();
j.preventDefault();var n=j.dataTransfer?j.dataTransfer.files:j.target.files;this.aar=n.length;Storage.hW={};
for(var v=0;v<n.length;v++){var Q=n[v],a=new FileReader;a.Y7=Q;a.onload=this.aD0.bind(this);a.readAsArrayBuffer(Q)}};
Storage.prototype.aD0=function(j){var n=Storage.hW;n[j.target.Y7.name]=j.target.result;this.aar--;if(this.aar==0)this.lC()};
Storage.prototype.sW=function(j,n){var Q=Storage.list[this.K9][3],a=bv.se();if(Q){if(this.Dl==1&&V.gU(this.Z)&&a!=null){this.eO()}if(this.Dl==2&&a==null){this.x2("forget","")}}};
Storage.prototype.a2G=function(){var j=V.gU(this.Z),n=this.ahO;if(j&&!n){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!j&&n){window.onpopstate=function(){};history.go(-1)}this.ahO=j};
Storage.prototype.eO=function(){if(this.tr)document.body.removeChild(this.tr);this.LJ=[[]];this.Zu=0;
this.aho={"/":[]};this.aCF="";this.bN=null;this.ji=[];this.bP=[];this.a5v=[];this.azN=null;var j=Storage.list[this.K9][1],n=bv.xU("code/storages/"+Storage.list[this.K9][1]);
if(fL==1&&this.K9==0)n=j;var Q=this.tr=V.d("iframe");Q.setAttribute("src",n);V.v(Q,"display:none");document.body.appendChild(Q)};
Storage.prototype.Tb=function(){return this.aho[this.gj()]};Storage.prototype.qw=function(j){this.aho[this.gj()]=j};
Storage.sB=function(v){var j=Storage.yU[v];if(j==null)j=Storage.yU[v]=new Storage(v);return j};Storage.yU=[];
Storage.DM=0;Storage.a65="";Storage.qo=function(j,n){Storage.DM=j;Storage.a65=n;var Q=Storage.yU;for(var v=0;
v<Q.length;v++)if(Q[v])Q[v].HD()};Storage.a7F=[500*(1<<20),5e3*(1<<20)];Storage.n7=0;Storage.II=2;Storage.N6=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.a8g=function(j){for(var v=0;v<Storage.yU.length;v++){if(Storage.yU[v]&&Storage.yU[v].tr.contentWindow==j)return!0}return!1};
Storage.prototype.awn=function(j){if(j.target.tagName=="INPUT")return;var n=i8;if(n.Uq(j.code,n.Va)&&this.gj().length!=0)this.aBH();
else if(j.ctrlKey){if(n.Uq(j.code,n.l)){var Q=[];this.qw(Q);for(var v=0;v<this.bN.length;v++)Q.push(v);
this.sC()}if(n.Uq(j.code,n.vj))this.aP(2);if(n.Uq(j.code,n.md))this.lC()}else if(n.Uq(j.code,n.mI)){var a=this.Tb();
if(a.length!=0)this.aqZ(a[0])}else if(n.Uq(j.code,n.Bo)){this.Zu=Math.max(this.Zu-1,0);this.BE()}else{var B=0;
for(var v=65;v<=90;v++)if(j.code=="Key"+String.fromCharCode(v))B=v;if(B!=0){var m=String.fromCharCode(B).toLowerCase(),R=[],q=this.bN,U;
for(var v=0;v<q.length;v++)if(q[v][0][0].toLowerCase()==m)R.push(v);if(R.length==0)return;var a=this.Tb();
if(a.length==0)U=R[0];else{var l=R.indexOf(a[0]);if(l==-1){U=R[0];for(var v=0;v<R.length;v++)if(R[v]>a[0]){U=R[v];
break}}else U=R[(l+1)%R.length]}this.qw([U]);this.sC(!0)}}};Storage.prototype.rs=function(j,n){this.Uw=j;
this.WC=n;this.Z.style.width=j+"px";this.Z.style.height=n+"px";var Q=j-30,a=Math.floor(Q/230),Q=Math.floor(Q/a)-70;
this.awG.textContent=".storage .tile .name {  width:"+Q+"px;  }";this.qx.style.width=j-140+"px";this.HY.style.width=this.Ve.style.width=j-20+"px";
this.HY.style.height=n-70-(Storage.DM==0?0:45)+"px"};Storage.prototype.aus=function(){this.BE()};Storage.prototype.BE=function(){var j=this.K9,n="____strg"+j;
if(window[n]==null){bv.event("strg_"+Storage.list[j][0]);window[n]=!0}this.O5=1;this.x2("show",this.gj())};
Storage.prototype.gj=function(j){var n=this.LJ[this.Zu],Q="/"+n.join("/");if(j&&n.length!=0)Q+="/";return Q};
Storage.prototype.acy=function(j){var n=j.currentTarget,Q=this.Zu,a=this.v5.indexOf(n),B=this.bv.indexOf(n);
if(a>=0&&!this.a35(a))return;if(a==0){this.Zu=Math.max(Q-1,0);this.BE()}if(a==1){this.Zu=Math.min(Q+1,this.LJ.length-1);
this.BE()}if(a==2){var m=this.LJ[Q+1]=this.LJ[Q].slice(0);m.pop();this.Zu++;this.LJ=this.LJ.slice(0,this.Zu+1);
this.BE()}if(B==0){var R=document.createEvent("MouseEvents");R.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.ast.dispatchEvent(R)}if(B==1){Storage.n7=(Storage.n7+1)%2;this.HD()}if(B==2){Storage.II=(Storage.II+1)%3;
this.HD()}if(B==3){Storage.N6=(Storage.N6+1)%3;this.HD()}if(B==4){this.x2("forget","")}if(n==this.d5){var q=this.qx.value.trim(),U=this.bN,l=-1,b=["psd","ai"][fL];
if(!q.toLowerCase().endsWith(b)){alert("File Name has to end with \"."+b+"\".");return}for(var v=0;v<U.length;
v++)if(U[v][0]==q)l=v;if(l!=-1){this.kr("Do you really want to replace \""+q+"\"?",this.aku.bind(this))}else this.aku()}};
Storage.prototype.aku=function(){var j=this.qx.value.trim(),n=[this.K9,this.gj(!0)+j];this.QQ({Q:x.l.aCz,dS:n});
this.a(new ar("canclose",!0))};Storage.prototype.lC=function(){if(Storage.hW==null)return;this.QQ({Q:x.l.L_,Sw:i4.get("Uploading ...")});
this.XY=4;fR.sB(2,this.tr,[this.gj(),Storage.hW,this.bN],null,this.a3$.bind(this))};Storage.prototype.a3$=function(j){this.XY=0;
this.QQ({Q:x.l.MX,Sw:i4.get("Uploading ...")});this.BE()};Storage.prototype.q6=function(j){var n=j.target.IF();
if(j.target==this.Dt){if(n[0]==0){var Q=[i4.get([6,20]),-1,0];this.bN.push(Q);this.HD();var v=this.bN.indexOf(Q),a=this.ji[v].querySelector(".name");
console.log(a);var B=new eX.Wm(a,function(D){this.QQ({Q:x.l.L_,Sw:i4.get([1,2])+" ..."});var c=this.gj(!0)+D+"/";
console.log(c);this.x2("save",c)}.bind(this),!0)}else this.lC()}else{if(n[0]==0){this.aP(2)}else if(n[0]==1){var v=this.Tb()[0],m=this.bN[v],a=this.ji[v].querySelector(".name");
console.log(a);a.innerHTML=m[0];var B=new eX.Wm(a,function(D){D=D.trim();if(D.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.HD();return}var c=this.bN;for(var v=0;v<c.length;v++)if(c[v][0]==D){alert("Item with such name already exists.");
this.HD();return}var _=this.gj(!0)+m[0]+":"+D;console.log(_);this.x2("rename",_)}.bind(this))}else if(n[0]==2){this.aP(3)}else if(n[0]==3)this.aBH();
else if(n[0]==4){this.aP(1)}else{var R=this.bN[this.Tb()[0]],q=Storage.t7(R),U=q[n[1]],l=U[0],b=this.GG().pop()[1];
if(Storage.ad1(R,l)!=-1){this.x2("share",b+":"+l+":-1");alert("Unshared.")}else{this.x2("share",b+":"+l+":"+n[2]);
alert("Shared.")}}}};Storage.ad1=function(j,n){var Q=j[4];if(Q==null)return-1;if(Q.indexOf(n+":0")!=-1)return 0;
if(Q.indexOf(n+":1")!=-1)return 1;return-1};Storage.prototype.aBH=function(){var j=this.Tb();this.kr("Do you really want to delete "+(j.length==1?"\""+this.bN[j[0]][0]+"\"":"these files")+"?",this.P2.bind(this))};
Storage.prototype.kr=function(j,n){var Q={Q:x.l.Vg,Z8:"confirm",J:j,yI:n};this.QQ(Q)};Storage.prototype.aP=function(j){this.XY=j;
if(1<j)this.QQ({Q:x.l.L_,Sw:i4.get("Downloading ...")});else this.QQ({Q:x.l.L_,Sw:i4.get("Getting info ...")});
fR.sB(0,this.tr,this.gj(),this.GG(!0),this.aEG.bind(this))};Storage.prototype.aEG=function(j){if(this.XY==1){var n=0,Q=0;
for(var a in j){var B=j[a];n+=B[1];Q++}this.kr(Q+" files, "+je.LK(n)+" in total.",function(){});this.QQ({Q:x.l.MX,Sw:i4.get("Getting info ...")});
this.XY=0}if(1<this.XY)fR.sB(1,this.tr,j,null,this.aEv.bind(this))};Storage.prototype.aEv=function(j){if(1<this.XY){if(1<this.XY)this.QQ({Q:x.l.MX,Sw:i4.get("Downloading ...")});
var n={},Q=this.gj(!0);for(var a in j)n[a.slice(Q.length)]=j[a];if(this.XY==2){Storage.hW=n;alert("Copied to a clipboard")}if(this.XY==3){var B=Object.keys(j);
if(B.length==1)aL.save(j[B[0]].buffer,B[0].split("/").pop());else aL.save(UZIP.encode(n),Q=="/"?"files.zip":this.gj().split("/").pop()+".zip")}}this.XY=0};
Storage.hW=null;Storage.prototype.P2=function(){this.QQ({Q:x.l.L_,Sw:i4.get([5,4])+" ..."});this.bP=this.GG();
this.Sc()};Storage.prototype.Sc=function(){if(this.bP.length==0){this.QQ({Q:x.l.MX,Sw:i4.get([5,4])+" ..."});
this.qw([]);this.BE()}else this.x2("delete",this.bP.pop()[1])};Storage.prototype.GG=function(j){var n=[],Q=this.gj(!0),a=this.Tb();
for(var v=0;v<a.length;v++){var B=this.bN[a[v]];if(j)n.push(B[0]);else n.push([this.K9,Q+B[0]])}return n};
Storage.prototype.x2=function(j,n){V.BZ(this.Z,"disabled");this.aCF=j;if(Storage.DE)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+j+"\", \"prm\": "+JSON.stringify(n)+"  }");
this.tr.contentWindow.postMessage("{\"code\": \""+j+"\", \"prm\": "+JSON.stringify(n)+"  }","*")};Storage.prototype.aDH=function(j){if(j.source!=this.tr.contentWindow||this.XY!=0)return;
V.yZ(this.Z,"disabled");if(typeof j.data=="string"){if(Storage.DE)console.log("==",Math.floor(Date.now()/1e3),j.data);
var n=JSON.parse(j.data),Q=n.code,a=n.prm,B=this.aCF,m=Storage.list[this.K9][3];if(Q=="ready"){if(m&&!a){var R=bv.se();
console.log(R);var q=bv.ya(),U=q.acc;if(R==null){this.Dl=1;alert("Log in to use this storage (press Account at the top).");
this.EQ();return}var l=[],b=R.wantToJoin;for(var D in b)l.push(parseInt(D.slice(1)));var c=[],_=R.inTeams;
for(var v=0;v<_.length;v++)c.push(_[v][2]);var p={uid:R.id,limit:Storage.a7F[bv.uz()?1:0],inTeams:c,myTeams:l};
p.secret=U&&U.pds?U.pds:"";this.x2("login",p);return}if(m)this.Dl=2;if(m&&n.secret){var q=bv.ya(),U=q.acc;
if(U==null)U=q.acc={};U.pds=n.secret;bv.SI(q)}if(a)this.BE();else this.EQ()}else if(Q!="0"){if(B=="save")this.QQ({Q:x.l.MX,Sw:i4.get([1,2])+" ..."});
if(B=="delete")this.Sc();alert(a);this.HD()}else if(B=="show"){this.O5=0;this.bN=a;this.HD()}else if(B=="save"){this.O5=0;
this.QQ({Q:x.l.MX,Sw:i4.get([1,2])+" ..."});this.BE()}else if(B=="delete"){this.Sc()}else if(B=="forget"){if(m)this.EQ();
else this.eO()}else if(B=="rename"||B=="share"){this.BE()}else throw Q}else{if(Storage.DE)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.QQ({Q:x.l.ajy,dS:this.GG()[0],FJ:j.data});this.QQ({Q:x.l.MX,Sw:"Opening ..."})}};Storage.prototype.EQ=function(){V.cV(this.Ve);
V.cV(this.HY);V.cV(this.k0);this.HY.appendChild(this.a5U)};Storage.prototype.a35=function(v){if(v==0)return this.Zu>0;
if(v==1)return this.Zu<this.LJ.length-1;if(v==2)return this.gj()!="/"};Storage.prototype.HD=function(){var j=Storage.list[this.K9][3],n=this.bN,Q=Storage.II,a=Storage.n7,B=Storage.N6;
if(n==null)return;n.sort(function(d,Y){var C=d[1]==-1?1:5,i=Y[1]==-1?1:5,M=0;if(Math.min(C,i)==1&&C!=i)return C-i;
else if(C==1||Q==0)M=d[0].toLowerCase()<Y[0].toLowerCase()?-1:1;else if(Q==1)M=d[1]-Y[1];else if(Q==2)M=d[2]-Y[2];
if(a==1)M=-M;if(d[0]=="Shared")M=-1;if(Y[0]=="Shared")M=1;return M});var m=this.HY,R=this.Ve,q=this.LJ[this.Zu];
V.cV(m);V.cV(R);this.ji=[];for(var v=0;v<3;v++)if(this.a35(v))V.yZ(this.v5[v],"disabled");else V.BZ(this.v5[v],"disabled");
R.appendChild(this.aez);R.appendChild(this.yd);var U=V.d("span");U.textContent="/";R.appendChild(U);
for(var v=0;v<q.length;v++){var U=V.d("span");U.textContent=q[v];R.appendChild(U);var U=V.d("span");
U.textContent="/";R.appendChild(U)}var l=["tile","icon","litm"][B];for(var v=0;v<n.length;v++){var b=n[v],D=b[1]==-1,c=D?"":je.LK(b[1]),_=V.d("div","cont "+l),Z=!1;
m.appendChild(_);this.ji.push(_);_.setAttribute("title",b[0]+(D?"":"\nSize: "+c+"\nDate Modified: "+new Date(b[2]*1e3).toLocaleString().replaceAll(". ",".")));
var p=V.d("img");p.setAttribute("src",D?Storage.ac7:b[3]?b[3]:Storage.Y7);if(!D&&b[3])V.v(p,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var X=V.d("span","name"),g=b[0];if(l=="icon"&&g.length>30)g=g.slice(0,24)+".."+g.slice(g.length-5);if(j&&q.length==1&&q[0]=="Shared"){var F=Storage.t7(),k=parseInt(g.slice(5));
for(var I=0;I<F.length;I++)if(F[I][0]==k)g=F[I][1]}X.textContent=g;_.appendChild(p);_.appendChild(X);
if(l!="icon"&&!D){if(l=="tile")V.pd(X);var e=V.d("span");e.textContent=c;e.style.opacity="0.8";(l=="tile"?X:_).appendChild(e)}var H=b[0].split("."),A=(H.length==1?"":H.pop()).toUpperCase();
if(j&&b[0]=="Shared"&&q.length==0){Z=!0;A="\u21E7"}if(l!="litm"&&(!D&&b[3]==null||Z)){var J=V.d("span","ext");
J.textContent=A;var s=Storage.D2[A];J.style.backgroundColor=s?s:Storage.azE(A);_.appendChild(J)}V.ON(_,this.Cs);
_.addEventListener("contextmenu",this.Cs)}this.sC();var E=this.q3.parentNode!=null,z=Storage.DM,h=this.Z;
if(E&&z==0)h.removeChild(this.q3);if(!E&&z==1)h.appendChild(this.q3);this.rs(this.Uw,this.WC);this.S()};
Storage.prototype.sC=function(j){var n=this.ji,Q=this.bN,a=this.Tb(),B=!1,m=0;for(var v=0;v<n.length;
v++){var R=Q[v],q=R[1]==-1,U=n[v];if(Storage.DM==1&&!q&&!R[0].toLowerCase().endsWith(".psd"))U.style.display="none";
else U.style.display="auto";if(a.indexOf(v)==-1)V.yZ(U,"active");else{if(q)B=!0;else m+=R[1];V.BZ(U,"active");
if(j)U.scrollIntoView({block:"center",behavior:"smooth"})}}var l=B?"":je.LK(m);this.k0.textContent=a.length==0?"":a.length+" item"+(a.length==1?"":"s")+" selected\u2001"+l;
this.qx.value=a.length==1&&!B?Q[a[0]][0]:Storage.a65};Storage.prototype.aqZ=function(v){var j=this.bN[v];
if(j[1]==-1){var n=this.LJ[this.Zu].slice(0);n.push(j[0]);this.Zu++;this.LJ[this.Zu]=n;this.LJ=this.LJ.slice(0,this.Zu+1);
this.qw([]);this.BE()}else if(Storage.DM==0){this.QQ({Q:x.l.L_,Sw:"Opening ..."});this.a(new ar("canclose",!0));
var Q=this.gj(!0)+j[0];this.x2("load",Q)}};Storage.prototype.S=function(){var j=Storage.II,n=Storage.n7,Q=Storage.N6;
this.bv[0].textContent="Upload";this.bv[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][n];this.bv[2].textContent=i4.get([[12,48],[12,14,0],"Date"][j]);
this.bv[3].textContent=i4.get(["Tiles","Icons",[25,3,1]][Q]);this.bv[4].textContent="\u2716";this.nY.innerHTML=i4.get([[23,6],Storage.list[this.K9][0]])+"<br/><small><small>"+Storage.list[this.K9][4]+"</small></small>";
this.sW()};Storage.prototype.aeM=function(j){this.QQ({Q:x.l.HR});if(V.gU(this.a5U))return;if(j.button==3||j.button==4){if(Date.now()-this.arN>50){var n=this.Zu;
if(j.button==3)this.Zu=Math.max(n-1,0);else this.Zu=Math.min(n+1,this.LJ.length-1);this.BE()}this.arN=Date.now();
return}j.stopPropagation();var v=this.ji.indexOf(j.currentTarget);if(j.type=="contextmenu"){if(this.bN==null)return;
j.preventDefault();var Q=this.Dt;if(v!=-1){var a=[{name:[5,1],Ha:[i8.Gm,i8.vj]},{name:[6,37]},{name:"Download",Kl:!0},{name:[5,4],Ha:[i8.Va]},{name:[9,2]}];
if(Storage.list[this.K9][3]){var B=this.bN[v],m=Storage.t7(B);if(m.length!=0){var R=[];for(var q=0;q<m.length;
q++){var U=[],l=m[q],b=Storage.ad1(B,l[0]);if(b!=-1)U.push({name:"Unshare"});else U.push({name:"Allow Read"},{name:"Allow Read & Write"});
R.push({name:l[1]+[""," (R)"," (R,W)"][b+1],sub:U})}a.push({name:"Share With",sub:R})}}Q=new ig(a);Q.parent=this;
Q.P("select",this.q6,this)}Q.parent=this;Q.S();Q.update();this.QQ({Q:x.l.Ix,cB:Q,x:j.clientX+4,y:j.clientY});
return}var D=this.Tb(),c=D.indexOf(v);if(j.button!=0&&c!=-1)return;if(j.target==this.HY)this.qw([]);
else{if(j.ctrlKey){if(c==-1)D.push(v);else D.splice(c,1)}else if(j.shiftKey&&D.length!=0){var q=D[0];
if(q<v){var _=v;v=q;q=_}D=[];this.qw(D);for(var p=v;p<=q;p++)D.push(p)}else{this.qw([v]);if(Date.now()-this.JF<300&&D.length!=0&&D[0]==v){this.aqZ(v);
this.JF=0}}}this.JF=Date.now();this.sC()};Storage.prototype.QQ=function(j){var n=new ar(x.E.B,!0);n.data=j;
this.a(n)};Storage.t7=function(j){var n=[],Q=[],a=bv.ya(),B=a.acc.tstart;if(B)for(var v=0;v<B.length;
v++){n.push([B[v][2],B[v][0]]);Q.push(B[v][2])}var m=bv.se();B=m.inTeams;if(B)for(var v=0;v<B.length;
v++){n.push([B[v][2],B[v][0]]);Q.push(B[v][2])}if(j&&j[4]){for(var v=0;v<j[4].length;v++){var R=parseInt(j[4][v].split(":")[0]);
if(Q.indexOf(R)==-1)n.push([R,"Team "+R])}}return n};Storage.prototype.ar7=function(j,n){if(this.O5!=0)return 1;
this.O5=2;this.QQ({Q:x.l.L_,Sw:i4.get([1,2])+" ..."});this.x2("save",j);if(Storage.DE)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.tr.contentWindow.postMessage(n,"*")};Storage.D2={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.azE=function(j){j=j.toLowerCase();
var n=0;for(var v=0;v<j.length;v++)n+=j.charCodeAt(v)*613<<8*v;return"#"+K.EA(n&16777215)};Storage.ac7="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.Y7="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var fR=function(){var j,n,Q,a,B,m,R,q;function U(_,p,X,g,F){n=p;a=g;R=F;j=_;m={};if(j==0){Q=[X]}if(j==1){Q=[];
for(var k in X)Q.push(k)}if(j==2){var I=X[0],e=X[1],H=X[2],A={};for(var v=0;v<H.length;v++)A[H[v][0]]=!0;
var Z={};for(var k in e){var J=k.split("/"),s=J[0],E=s.split("."),z="";if(E.length!=1){z="."+E.pop();
s=E.join(".")}while(A[s+z])s+=" - Copy";J[0]=s+z;Z[J.join("/")]=e[k]}var h={};Q=[];for(var k in Z){var J=k.split("/");
for(var v=0;v<J.length-1;v++){var d=I+J.slice(0,v+1).join("/")+"/";if(h[d]==null){h[d]=!0;Q.push([d])}}var Y=I.endsWith("/")||k.startsWith("/")?"":"/";
Q.push([I+Y+k,Z[k]])}}window.addEventListener("message",b,!1);q=Date.now();l()}function l(){if(Q.length==0){c();
return}B=Q.shift();if(j==0)D("show",B);if(j==1)D("load",B);if(j==2){D("save",B[0]);if(B.length==2)n.contentWindow.postMessage(B[1],"*")}}function b(_){if(_.source!=n.contentWindow)return;
if(j==0){var p=JSON.parse(_.data),X=p.code,g=p.prm;for(var v=0;v<g.length;v++){var F=g[v];if(a&&a.indexOf(F[0])==-1)continue;
var k=B+(B=="/"?"":"/"),I=k+F[0];if(F[1]==-1)Q.push(I);else m[I]=F}a=null}else if(j==1){m[B]=new Uint8Array(_.data)}l()}function D(_,p){var X=_=="show"?", \"nothumbs\": true":"",g="{\"code\": \""+_+"\", \"prm\": "+JSON.stringify(p)+X+"  }";
n.contentWindow.postMessage(g,"*")}function c(){console.log(Date.now()-q);window.removeEventListener("message",b,!1);
R(m)}return{sB:U}}();function fm(j){eD.call(this);var n=this.Z=V.d("div","form scrollable padded label12");
this.li=j;this.pW=null;var Q=[],a=fm.v8[j];this.sY=[];for(var B in a){var m=parseInt(B.slice(1)),R=m%10==0?"":"\u2800\u2800- ";
Q.push(R+a[B]);this.sY.push(m)}this.LU=[new cE("Name",null,30),new cE("Description",null,30,4),j==0?new cE("File"," www.Photopea.com#i...",17):new hh("File",!1,!1),new cE("Thumbnail URL","* Use Imgur.com etc.",17),new hQ("Category",Q),new k9("Make Public"),new ef("<< Back",null,null,!0),new ef("Save",null,null,!0)];
if(j==0)this.LU.push(new kC("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new kC("Get a Thumbnail URL: File - Publish Online - JPG."),new kC("Write a proper description, so that your work can be found using text search."));
if(j==1)this.LU.push(new kC("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(j!=0)this.LU.push(new kC("Do not load any file to preserve the old version."));for(var v=0;v<this.LU.length;
v++){var q=this.LU[v];n.appendChild(q.Z);q.parent=this;if(v!=4&&v!=6)V.pd(n);if(q instanceof ef)q.P("click",this.ajD,this);
if(j!=0&&v==2)q.P(x.E.f,this.aoo,this)}}fm.prototype=new eD;fm.prototype.aoo=function(j){var n=this.LU[2],Q=n.j(),a=Object.keys(Q),B=Q[a[0]].buffer,m=fj.Ot(B),R=" json atn abr grd asl pat csh icc".split(" ")[this.li];
if(m!=R){alert("This is a wrong file"+(m?" ("+m.toUpperCase()+")":"")+". You need to upload the "+R.toUpperCase()+" file.");
n.p({})}};fm.prototype.ajD=function(j){if(j.target==this.LU[6]){this.a(new ar("back"));return}var n=this.LU[3].j().trim(),Q=n.startsWith("http")&&(n.endsWith(".jpeg")||n.endsWith(".jpg")||n.endsWith(".png")||n.endsWith(".gif"));
if(!Q){alert("Thumbnail URL is incorrect.");return}var a=new XMLHttpRequest,B="mirror.php?url="+encodeURIComponent(n);
a.open("GET",B);a.responseType="arraybuffer";a.onload=this.ayZ.bind(this);a.send()};fm.prototype.ayZ=function(j){var n=j.target.response,Q=n.byteLength;
if(Q>2e5&&fj.Ot(n)!="gif"){alert("Thumbnail is too large ("+je.LK(Q)+"). Make it under 200 kB.");return}var a=this.LU[2].j(),B=Object.keys(a);
if(this.li!=0&&B.length==0&&(this.pW==null||this.pW.file==null||this.pW.file=="")){alert("You need to select a file.");
return}if(this.li!=0&&B.length!=0){console.log(a);aL.ht.aq_(a[B[0]].buffer,B[0],this.aI7.bind(this),"pp-resources");
return}this.aI7()};fm.prototype.aI7=function(j){var n=this.li,Q="name desc file thmb catg publ".split(" "),a=this.pW;
for(var v=0;v<6;v++){if(n!=0&&v==2)continue;var B=this.LU[v].j();if(v<=3){B=B.trim();if(B.length==0){alert("One of values is empty.");
return}}if(v==2){if(B.endsWith(".psd"))B=B.slice(0,B.length-4);var m=B.split("#i");if(m.length!=2||m[1].length!=8){alert("File ID is incorrect.");
return}B=m.pop()}if(v==4)B=this.sY[B];a[Q[v]]=B}if(n!=0){if(j)a.file=j;else if(a.file==null){alert("Select a file from your computer.");
return}}if(a.utme.length==0)a.utme=""+Math.round(Date.now()/1e3);a.type=n;this.a(new ar("save"))};fm.prototype.S=function(){};
fm.prototype.p=function(j){var n=this.pW=K.u(j),Q=this.li,a="name desc file thmb catg publ".split(" ");
for(var v=0;v<6;v++){if(Q!=0&&v==2)continue;var B=n[a[v]];if(B!=""&&v==2)B="https://photopea.com#i"+B;
if(v==4)B=this.sY.indexOf(B);if(v==5&&B==null)B=!0;this.LU[v].p(B)}};fm.prototype.j=function(){return K.u(this.pW)};
fm.v8=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function d0(){eD.call(this);var j=this.Z=V.d("div","form");this.pW=null;this.eH=null;this.Sa=null;this.E9=null;
var n=V.d("canvas");this.Pf=n.getContext("2d");V.as(n);V.ON(n,this.n_.bind(this));this.Nj=[new aY([12,44],[[19,0,0],[19,0,1]]),{Z:n},new i7([12,0],0,100,"%",null,null,null,4),new ci,new i7([12,40],0,100,"%",2,null,null,4),new ef([5,4],null,null,!0)];
for(var v=0;v<this.Nj.length;v++){var Q=this.Nj[v];Q.parent=this;j.appendChild(Q.Z);if(v!=2&&v!=4)V.pd(j);
if(v!=1)Q.P(v==5?"click":x.E.f,this.ww,this)}this.dK=this.$H.bind(this);this.js=this.uH.bind(this)}d0.prototype=new eD;
d0.prototype.j=function(){return K.u(this.pW)};d0.prototype.p=function(j){this.pW=K.u(j);this.p9()};
d0.prototype.S=function(){var j=this.Nj;for(var v=0;v<j.length;v++)if(j[v].S)j[v].S()};d0.prototype.n_=function(j){var n=V.lS(),Q=V.MR(j,this.Pf.canvas);
Q.x*=n;Q.y*=n;var a=this.Sa,B=this.E9,m=this.pW,R=m[1],q=7*V.lS(),U=-1;for(var v=0;v<a.length;v++){if(eE.X_(Q,a[v][0])<q)U=v}if(U==-1){if(Math.abs(Q.y-(B.y+B._))>10*n)return;
var l=[.5,[0,0,0],1,.5];R.push(l);R.sort(function(b,D){return b[0]-D[0]});this.dg=[new eE,R.indexOf(l),0]}else this.dg=a[U];
this.eH=JSON.stringify(this.pW);V.NF(window,this.dK);V.GL(window,this.js);if(U==-1)this.$H(j);this.p9()};
d0.prototype.$H=function(j){this.pW=JSON.parse(this.eH);var n=V.lS(),Q=V.MR(j,this.Pf.canvas);Q.x*=n;
Q.y*=n;var a=this.dg,B=a[1],m=this.E9,R=this.pW[1],q=R[B],U=(Q.x-m.x)/m.q;if(a[2]==0){q[0]=Math.max(0,Math.min(1,U));
if(Math.abs(Q.y-(m.y+m._))>30*n)R.splice(B,1)}else{var l=q[0],b=R[B+1][0],D=q[3];q[3]=Math.max(.13,Math.min(.87,(U-l)/(b-l)))}R.sort(function(c,_){return c[0]-_[0]});
this.p9()};d0.prototype.uH=function(j){V.na(window,this.dK);V.rq(window,this.js)};d0.prototype.ww=function(j){var n=this.Nj,v=n.indexOf(j.target),Q=this.pW,a=j.target.j(),B=this.dg;
if(v==0)Q[0]=a;if(B){var m=Q[1][B[1]];if(v==2)m[2]=a/100;if(v==3){a=K.Hy(j.target.v2());m[1]=[a.n/255,a.i/255,a.b/255]}if(v==4)if(B[2]==0)m[0]=a/100;
else m[3]=Math.max(.13,Math.min(.87,a/100));if(v==5){Q[1].splice(B[1],1);this.dg=null}}this.p9()};d0.prototype.p9=function(){var j=this.Nj,n=this.pW,Q=n[1],a=this.Pf,B=a.canvas;
j[0].p(n[0]);var m=B.width=Math.floor(300*V.lS()),R=B.height=Math.floor(60*V.lS()),q=Math.floor(20*V.lS()),U=m-q-q;
this.E9=new b4(q,q,U,R-q-q);V.z6(B);var l=a.fillStyle=a.createLinearGradient(q,q,m-q,q);K.Gp.AQ(l,Q);
a.fillRect(q,q,U,R-q-q);a.lineWidth=1;a.strokeRect(q-.5,q-.5,U+1,R-q-q+1);var b=this.Sa=[],D=this.dg;
a.fillStyle="white";for(var v=0;v<Q.length;v++){var c=Q[v],_=c[0],p=R-q*.6;if(D&&D[1]==v&&D[2]==0){a.fillStyle="#00aaff";
a.beginPath();a.arc(q+_*U,p,R*.125,0,2*Math.PI);a.fill()}a.fillStyle="white";a.beginPath();a.arc(q+_*U,p,R*.1,0,2*Math.PI);
a.fill();a.beginPath();a.arc(q+_*U,p,R*.07,0,2*Math.PI);a.stroke();b.push([new eE(q+_*U,p),v,0]);if(v!=Q.length-1){var X=c[3],g=Q[v+1][0];
_=_+X*(g-_);p=q*.7;if(D&&D[1]==v&&D[2]==1){a.fillStyle="#00aaff";a.beginPath();a.arc(q+_*U,p,R*.075,0,2*Math.PI);
a.fill()}a.fillStyle="white";a.beginPath();a.arc(q+_*U,p,R*.05,0,2*Math.PI);a.fill();b.push([new eE(q+_*U,p),v,1])}}j[2].Q7(D&&D[2]==0);
j[3].Q7(D&&D[2]==0);j[4].Q7(D!=null);j[5].Q7(D&&D[2]==0&&Q.length>2);if(D){var c=Q[D[1]],F=c[1];if(D[2]==0)j[2].p(c[2]*100);
j[3].au(K.G8({n:F[0]*255,i:F[1]*255,b:F[2]*255}));j[4].p(c[D[2]==0?0:3]*100)}};function i1(j){eD.call(this);
this.Fh=j;this.Z=V.d("div","");this.Vx=[];this.cr=null;this.a3P=[]}i1.prototype=new eD;i1.prototype.gq=function(j){};
i1.prototype.WX=function(){return!1};i1.prototype.rs=function(j,n){};i1.prototype.sW=function(j,n){};
i1.prototype.IV=function(j){};i1.prototype.p=function(j,n,Q,a,B,m){var R=[],q=this.Vx,U=0,l=fo.My["s"+this.Fh];
if(this.Fh=="Dspl")this.zV(j,R,m);else l?l(j,R,m):this.zV(j,R,m);for(var v=0;v<q.length;v++)if(!(q[v]instanceof kC))q[v].p(R[U++]);
if(j.RndS)this.cr=j.RndS.v};i1.prototype.j=function(){var j=fo.cL(this.Fh),n=[],Q=this.Vx,a=0;for(var v=0;
v<Q.length;v++)if(!(Q[v]instanceof kC))n[a++]=Q[v].j();var B=fo.My["g"+this.Fh];if(this.Fh=="Dspl")this.Il(j,n);
else B?B(j,n):this.Il(j,n);if(j.RndS)j.RndS.v=this.cr;return j};i1.prototype.hs=function(j){};i1.prototype.XL=function(j){if(j&&j.target instanceof ef){this.cr=Math.floor(Math.random()*4294967295)}var n=this.a3P;
for(var v=0;v<n.length;v+=2){var Q=this.Vx[n[v]],a=this.Vx[n[v+1]],B=Q.j(),m=a.j();if(j.target==Q)a.p(Math.max(B,m));
else Q.p(Math.min(B,m))}this.a(new ar(x.E.f))};i1.prototype.S=function(){for(var v=0;v<this.Vx.length;
v++)this.Vx[v].S();var j=this.a1T;if(j)j.S()};i1.prototype.Ei=function(j){V.BZ(this.Z,"form");var n=this.Vx;
for(var v=0;v<n.length;v++){var Q=n[v];Q.parent=this;Q.P(x.E.f,this.XL,this);this.Z.appendChild(Q.Z);
if(Q instanceof k9&&n[v+1]instanceof ci)continue;if(j&&j.indexOf(v)!=-1)V.KP(this.Z);else V.pd(this.Z)}var a=fo.cL(this.Fh);
if(a.RndS){var B=this.a1T=new ef([25,1,2],null,null,!0);this.Z.appendChild(B.Z);B.P("click",this.XL,this)}};
i1.prototype.qi=function(j){return!1};i1.prototype.GH=function(){return!1};i1.prototype.v1=function(j,n,Q,a,B){};
i1.prototype.Z3=function(j,n,Q,a,B){};i1.prototype.pU=function(j,n,Q,a,B){};i1.prototype.Il=function(j,n){};
i1.prototype.zV=function(j,n){};i1.prototype.Jl=function(j){var n=j.target.j().indexOf(!0)!=-1,Q=new ar(x.E.B,!0);
Q.in=!0;Q.data={Q:n?x.l.pY:x.l.Zt,I:N.kP};this.a(Q);Q=new ar(x.E.A,!0);Q.I=N.kP;Q.in=!0;Q.data={Q:"supertool",I:n?this:null};
this.a(Q)};i1.aGF=function(j){j.GH=function(){return!0};j.v1=function(n,Q,a,B,m){this.sM=!0;this.a2f(n,m)};
j.Z3=function(n,Q,a,B,m){if(!this.sM)return;this.a2f(n,m)};j.pU=function(n,Q,a,B,m){this.sM=!1};j.a2f=function(n,Q){var a=new b4(0,0,n.q,n._);
if(n.K)a=n.K.s;var B=n.e.oR(Q.x,Q.y);B.x-=a.x;B.y-=a.y;function m(R,q){return Math.round(Math.max(0,Math.min(100,100*R/q)))}this.Vx[2].p(m(B.x,a.q));
this.Vx[3].p(m(B.y,a._));this.XL()}};i1.Bokh=function(){i1.call(this,"Bokh");this.Vx=[new hQ("Depth Map",["A","b"]),new i5("Focal Distance",0,255),new k9([4,11]),new hQ([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new i5([12,56],0,100),new i5([12,15],0,360),new i5([12,2],0,100),new i5([4,13],0,255),new i5([24,6],0,100),new aY([12,58],[[12,59,0],[12,59,1]]),new k9([12,60])];
this.Ei([5,7])};i1.Bokh.prototype=new i1;i1.Bokh.prototype.zV=function(j,n,Q){var a=[[22,5,0],[6,5,3],[6,2]],B=j.BkDi.v.BtDi,m=j.BkDc,R=0;
if(B=="BeIn")R=0;else if(B=="BeIt"&&m.v.BtDc=="BeCt")R=1;else if(B=="BeIt"&&m.v.BtDc=="BeCm")R=2;else R=3+m.v;
for(var v=0;v<Q[1].length;v++)a.push(Q[1][v].name);this.Vx[0].MD(a,[3]);n[0]=R;n[1]=j.BkDp.v;n[2]=j.BkDs.v;
n[3]=parseInt(j.BkIs.v.BtIs.slice(3))-3;n[4]=j.BkIb.v;n[5]=j.BkIr.v;n[6]=j.BkSb.v;n[7]=j.BkSt.v;n[8]=j.BkNa.v;
n[9]=j.BkNt.v.BtNt=="BeNu"?0:1;n[10]=j.BkNm.v};i1.Bokh.prototype.Il=function(j,n){var Q;if(n[0]==0){Q="BeIn";
delete j.BkDc}else if(n[0]<3){Q="BeIt";j.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][n[0]-1]}}}else{Q="BeIa";
j.BkDc={t:"long",v:n[0]-3}}j.BkDi.v.BtDi=Q;j.BkDp.v=n[1];j.BkDs.v=n[2];j.BkIs.v.BtIs="BeS"+(3+n[3]);
j.BkIb.v=n[4];j.BkIr.v=n[5];j.BkSb.v=n[6];j.BkSt.v=n[7];j.BkNa.v=n[8];j.BkNt.v.BtNt=["BeNu","BeNg"][n[9]];
j.BkNm.v=n[10]};i1.oilPaint=function(){i1.call(this,"oilPaint");this.Vx=[new i5([12,56],.1,10,"px",!0),new i5("Cleanliness",0,10,"px",!0),new i5([12,38],.1,10,null,!0),new i5("Bristle Detail",0,10,null,!0),new k9("Lighting"),new i5("Shine",0,10,null,!0),new by([12,15])];
this.Ei()};i1.oilPaint.prototype=new i1;i1.oilPaint.prototype.zV=function(j,n){var Q="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var v=0;v<Q.length;v++)n[v]=j[Q[v]].v;n[6]=[j.LghD.v]};i1.oilPaint.prototype.Il=function(j,n){var Q="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var v=0;v<Q.length;v++)j[Q[v]].v=n[v];j.LghD.v=n[6][0]};i1.TrcC=function(){i1.call(this,"TrcC");
this.Vx=[new i5("Level",0,255),new aY([12,69],[[19,4,1],[19,4,0]])];this.Ei()};i1.TrcC.prototype=new i1;
i1.TrcC.prototype.zV=function(j,n){n[0]=j.Lvl.v;n[1]=["Lwr","Upr"].indexOf(j.Edg.v.CntE)};i1.TrcC.prototype.Il=function(j,n){j.Lvl.v=n[0];
j.Edg.v.CntE=["Lwr","Upr"][n[1]]};i1["Dfs "]=function(){i1.call(this,"Dfs ");this.Vx=[new aY([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Ei()};i1["Dfs "].prototype=new i1;i1["Dfs "].prototype.zV=function(j,n){n[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(j.Md.v.DfsM)};
i1["Dfs "].prototype.Il=function(j,n){j.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][n[0]]};i1.Embs=function(){i1.call(this,"Embs");
this.Vx=[new by([12,15]),new i5([12,42],1,100,"px"),new i5([12,57],1,500,"%")];this.Ei()};i1.Embs.prototype=new i1;
i1.Embs.prototype.zV=function(j,n){n[0]=[j.Angl.v];n[1]=j.Hght.v;n[2]=j.Amnt.v};i1.Embs.prototype.Il=function(j,n){j.Angl.v=n[0][0];
j.Hght.v=n[1];j.Amnt.v=n[2]};i1["Wnd "]=function(){i1.call(this,"Wnd ");this.Vx=[new aY([12,32],["Wind","Blast","Stagger"]),new aY([12,33],["From the Right","From the Left"])];
this.Ei()};i1["Wnd "].prototype=new i1;i1["Wnd "].prototype.zV=function(j,n){n[0]=["Wnd","Blst","Stgr"].indexOf(j.WndM.v.WndM);
n[1]=["Left","Rght"].indexOf(j.Drct.v.Drct)};i1["Wnd "].prototype.Il=function(j,n){j.WndM.v.WndM=["Wnd","Blst","Stgr"][n[0]];
j.Drct.v.Drct=["Left","Rght"][n[1]]};i1.denoise=function(){i1.call(this,"denoise");this.Vx=[new i5([12,64],0,10),new i5([12,65],0,100,"%")];
this.Ei()};i1.denoise.prototype=new i1;i1.denoise.prototype.zV=function(j,n){var Q=j.channelDenoise.v[0].v;
n[0]=Q.Amnt.v;n[1]=Q.EdgF.v};i1.denoise.prototype.Il=function(j,n){var Q=j.channelDenoise.v[0].v;Q.Amnt.v=n[0];
Q.EdgF.v=n[1]};i1.lightFilterGradient=function(){i1.call(this,"lightFilterGradient");this.Vx=[new i5([24,3,1],0,100,"px",1,!0),new i5([12,38],0,200,"%"),new k9([4,11]),new i5("High",0,100,"%"),new i5("Medium",0,100,"%"),new i5("Low",0,100,"%")];
this.Ei()};i1.lightFilterGradient.prototype=new i1;i1.lightFilterGradient.prototype.zV=function(j,n){n[0]=j.blur.v;
n[1]=j.textureScale.v*100;n[2]=j.Scl.v==-1;var Q=j.Dtl.v;n[3]=Q[0].v*100;n[4]=Q[1].v*100;n[5]=Q[2].v*100};
i1.lightFilterGradient.prototype.Il=function(j,n){j.blur.v=n[0];j.textureScale.v=n[1]/100;j.Scl.v=n[2]?-1:1;
var Q=j.Dtl.v;Q[0].v=n[3]/100;Q[1].v=n[4]/100;Q[2].v=n[5]/100};i1.Fbrs=function(){i1.call(this,"Fbrs");
this.Vx=[new i5("Variance",1,64),new i5([12,64],1,64)];this.Ei()};i1.Fbrs.prototype=new i1;i1.Fbrs.prototype.zV=function(j,n){n[0]=j.Vrnc.v;
n[1]=j.Strg.v};i1.Fbrs.prototype.Il=function(j,n){j.Vrnc.v=n[0];j.Strg.v=n[1]};i1.LnsF=function(){i1.call(this,"LnsF");
this.Vx=[new i5([12,2],10,300,"%"),new aY([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new i5("Position X",0,100,"%"),new i5("Position Y",0,100,"%")];
this.Ei()};i1.LnsF.prototype=new i1;i1.LnsF.prototype.zV=function(j,n){n[0]=j.Brgh.v;n[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(j.Lns.v.Lns);
var Q=j.FlrC.v;n[2]=Math.round(Q.Hrzn.v*100);n[3]=Math.round(Q.Vrtc.v*100)};i1.LnsF.prototype.Il=function(j,n){j.Brgh.v=n[0];
j.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][n[1]];var Q=j.FlrC.v;Q.Hrzn.v=n[2]/100;Q.Vrtc.v=n[3]/100};i1.aGF(i1.LnsF.prototype);
i1.blendOptions=function(){i1.call(this,"blendOptions");this.Vx.push(new hQ([12,19,0],af.Z1,af.vb));
this.Vx.push(new i5([12,0],0,100,"%"));this.Ei()};i1.blendOptions.prototype=new i1;i1.blendOptions.prototype.zV=function(j,n){n[0]=af.de.indexOf(j.Md.v.BlnM);
n[1]=j.Opct.v.val};i1.blendOptions.prototype.Il=function(j,n){j.Md.v.BlnM=af.de[n[0]];j.Opct.v.val=n[1]};
i1.LnCr=function(){i1.call(this,"LnCr");this.Vx=[new i5([12,57],-100,100),new i5([12,38],10,150,"%")];
this.Ei()};i1.LnCr.prototype=new i1;i1.LnCr.prototype.zV=function(j,n){n[0]=j.LnIa.v;n[1]=j.LnSi.v};
i1.LnCr.prototype.Il=function(j,n){j.LnIa.v=n[0];j.LnSi.v=n[1]};i1.adaptCorrect=function(){i1.call(this,"adaptCorrect");
var j=jc;this.Vx=[new kC([19,6,0]),new j([12,57],0,100,"%"),new j("Tone",0,100,"%"),new j([12,56],0,200,"px"),new kC([19,6,2]),new j([12,57],0,100,"%"),new j("Tone",0,100,"%"),new j([12,56],0,200,"px"),new kC([3]),new j([13,0],-100,100)];
this.Ei([3,7])};i1.adaptCorrect.prototype=new i1;i1.adaptCorrect.prototype.zV=function(j,n){var Q=j.sdwM.v;
n[0]=Q.Amnt.v.val;n[1]=Q.Wdth.v.val;n[2]=Q.Rds.v;var Q=j.hglM.v;n[3]=Q.Amnt.v.val;n[4]=Q.Wdth.v.val;
n[5]=Q.Rds.v;n[6]=j.ClrC.v};i1.adaptCorrect.prototype.Il=function(j,n){var Q=j.sdwM.v;Q.Amnt.v.val=n[0];
Q.Wdth.v.val=n[1];Q.Rds.v=n[2];var Q=j.hglM.v;Q.Amnt.v.val=n[3];Q.Wdth.v.val=n[4];Q.Rds.v=n[5];j.ClrC.v=n[6]};
i1.Flam=function(){i1.call(this,"Flam");var j=this.Vx=[new hQ([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new i5([12,80,0],20,1e3,"px"),new k9("Randomize Length"),new i5([12,41],5,600,"px"),new i5([12,15],0,360,"\xB0"),new i5("Interval",10,200,"px"),new k9("Adapt Interval for Loops"),new ci(!1),new hQ([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new i5("Turbulent",0,100),new i5("Jag",0,100),new i5([12,0],0,100),new i5("Lines",2,30),new i5("Bottom",0,100),new hQ([12,22],["Normal","Violent","Flat"]),new hQ([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new k9("Randomize Shape"),new i5("Random Seed",0,100)];
this.Ei();var n=this.Z;V.cV(n);var Q=new aY(null,["Basic","Advanced"]);Q.P(x.E.f,this.abn,this);n.appendChild(Q.Z);
V.KP(n);var a=V.d("div"),B=V.d("div");this.a7M=[a,B];n.appendChild(a);for(var v=0;v<j.length;v++){(v<9?a:B).appendChild(j[v].Z);
if(v==6)V.pd(a)}j[0].P(x.E.f,this.a73,this);this.a73()};i1.Flam.prototype=new i1;i1.Flam.prototype.a73=function(j){var n=this.Vx,v=n[0].j();
n[1].Q7(v!=0&&v!=5);n[2].Q7(v!=0&&v!=5);n[4].Q7(v!=0&&v!=5&&v!=1);n[5].Q7(v!=0&&v!=5);n[6].Q7(v!=0&&v!=5)};
i1.Flam.prototype.abn=function(j){var v=j.target.j(),n=this.a7M,Q=this.Z;Q.removeChild(n[1-v]);Q.appendChild(n[v])};
i1.boxblur=function(){i1.call(this,"boxblur");this.Vx=[new i5([12,56],1,200," px")];this.Ei()};i1.boxblur.prototype=new i1;
i1.boxblur.prototype.zV=function(j,n){n[0]=j.Rds.v.val};i1.boxblur.prototype.Il=function(j,n){j.Rds.v.val=n[0]};
i1.GsnB=function(){i1.call(this,"GsnB");this.Vx=[new i5([12,56],.1,400,"px",1,!0)];this.Ei()};i1.GsnB.prototype=new i1;
i1.Dila=function(){i1.call(this,"Dila");this.Vx=[new i5([11,12,1],0,20,"px",0),new i5([12,56],0,400,"px",0,!0)];
this.Ei()};i1.Dila.prototype=new i1;i1.MtnB=function(){i1.call(this,"MtnB");this.Vx=[new by([12,15]),new i5([12,28],1,100," px")];
this.Ei()};i1.MtnB.prototype=new i1;i1.RdlB=function(){i1.call(this,"RdlB");this.Vx=[new i5([12,57],1,100),new aY([12,36],["Spin","Zoom"]),new i5("Position X",0,100,"%"),new i5("Position Y",0,100,"%")];
this.Ei()};i1.RdlB.prototype=new i1;i1.RdlB.prototype.zV=function(j,n){n[0]=j.Amnt.v;n[1]=["Spn","Zm"].indexOf(j.BlrM.v.BlrM);
n[2]=j.Cntr.v.Hrzn.v*100;n[3]=j.Cntr.v.Vrtc.v*100};i1.RdlB.prototype.Il=function(j,n){j.Amnt.v=n[0];
j.BlrM.v.BlrM=["Spn","Zm"][n[1]];j.Cntr.v.Hrzn.v=n[2]/100;j.Cntr.v.Vrtc.v=n[3]/100};i1.aGF(i1.RdlB.prototype);
i1.Dspl=function(){i1.call(this,"Dspl");this.Vx=[new hQ([6,36,3],["a","b"]),new i5([22,4,0],-100,100,"px"),new i5([22,4,1],-100,100,"px"),new hQ([24,18,0],[[24,18,3],[24,18,2]])];
this.Ei()};i1.Dspl.prototype=new i1;i1.Dspl.prototype.zV=function(j,n,Q){this.a2R=[];this.FU=[];var a=-1,B=Q?Q[0]:null;
if(B==null)B=this.aDE;else this.aDE=B;if(B)for(var v=0;v<B.length;v++){var m=B[v];this.a2R.push(m.yR.trim());
this.FU.push(m.A8);if(m.A8==j.DspF.v.pth)a=v}this.Vx[0].MD(this.a2R);n[0]=a==-1?0:a;n[1]=j.HrzS.v;n[2]=j.VrtS.v;
n[3]=["WrpA","RptE"].indexOf(j.UndA.v.UndA)};i1.Dspl.prototype.Il=function(j,n){var Q=this.aDE;if(this.FU.length==0)return;
j.DspF.v.pth=this.FU[n[0]];j.HrzS.v=n[1];j.VrtS.v=n[2];j.UndA.v.UndA=["WrpA","RptE"][n[3]];var a=Q[n[0]];
a.rd();var B=a.LQ[1],m=B.q,R=B._,q=K.U(B.$());K.AS(a.LQ[0],q);var U=[R&255,R>>>8,0,0,m&255,m>>>8,0,0,3,0];
for(var l=0;l<2;l++)for(var v=0;v<q.length;v++)U.push(q[v]);for(var v=0;v<1e3;v++)U.push(0);j.DspD={t:"tdta",v:U};
j.EmbF={t:"bool",v:!0}};i1.Pnch=function(){i1.call(this,"Pnch");this.Vx=[new i5([12,57],-100,100,"%")];
this.Ei()};i1.Pnch.prototype=new i1;i1["Plr "]=function(){i1.call(this,"Plr ");this.Vx=[new aY(null,["Rect to Polar","Polar to Rect"])];
this.Ei()};i1["Plr "].prototype=new i1;i1.Rple=function(){i1.call(this,"Rple");this.Vx=[new i5([12,57],-999,999),new hQ([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.Ei()};i1.Rple.prototype=new i1;i1["Shr "]=function(){i1.call(this,"Shr ");this.Vx=[new d7(!0,!0),new hQ([24,18,0],[[24,18,3],[24,18,2]])];
this.Ei()};i1["Shr "].prototype=new i1;i1["Shr "].prototype.zV=function(j,n){var Q=new j8(0,255/127,255/127,0,-2,128),a=K.u(j.ShrP.v);
K.c0.C(a,Q);n[0]=a;n[1]=["WrpA","RptE"].indexOf(j.UndA.v.UndA)};i1["Shr "].prototype.Il=function(j,n){var Q=new j8(0,255/127,255/127,0,-2,128);
Q.m2();K.c0.C(n[0],Q);j.ShrP.v=n[0];j.ShrE.v=n[0].length-1;j.UndA.v.UndA=["WrpA","RptE"][n[1]]};i1.Sphr=function(){i1.call(this,"Sphr");
this.Vx=[new i5([12,57],-100,100),new hQ([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Ei()};i1.Sphr.prototype=new i1;
i1.Sphr.prototype.zV=function(j,n){n[0]=j.Amnt.v;n[1]=["Nrml","HrzO","VrtO"].indexOf(j.SphM.v.SphM)};
i1.Sphr.prototype.Il=function(j,n){j.Amnt.v=n[0];j.SphM.v.SphM=["Nrml","HrzO","VrtO"][n[1]]};i1.Dthr=function(){i1.call(this,"Dthr");
this.Vx=[new hQ("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new aY("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Ei()};i1.Dthr.prototype=new i1;i1.Dthr.prototype.zV=function(j,n){n[0]=j.Plte.v;n[1]=j.Mthd?j.Mthd.v:1};
i1.Dthr.prototype.Il=function(j,n){j.Plte.v=n[0];j.Mthd.v=n[1]};i1.Part=function(){i1.call(this,"Part");
this.Vx=[new i5([15,5,1],0,100,"%"),new i5([12,14,0],1,50,"px"),new i5([12,34],0,100,"%"),new i5([12,2],10,1e3,"%"),new ci(!0),new i5("Time",0,1,null,3),new i5("Turbulence",0,100,"%"),new k9("Blink"),new k9("Fall")];
this.Ei([4])};i1.Part.prototype=new i1;i1.Part.prototype.zV=function(j,n){n[0]=j.Cont.v;n[1]=j.Size.v;
n[2]=j.Dpth.v;n[3]=j.Brgh.v;n[4]=j.Clr.v;n[5]=j.Time.v;n[6]=j.Turb.v;n[7]=j.Blnk.v;n[8]=j.Fall.v};i1.Part.prototype.Il=function(j,n){j.Cont.v=n[0];
j.Size.v=n[1];j.Dpth.v=n[2];j.Brgh.v=n[3];j.Clr.v=n[4];j.Time.v=n[5];j.Turb.v=n[6];j.Blnk.v=n[7];j.Fall.v=n[8]};
i1.Twrl=function(){i1.call(this,"Twrl");this.Vx=[new i5([12,15],-999,999)];this.Ei()};i1.Twrl.prototype=new i1;
i1.Wave=function(){i1.call(this,"Wave");this.a3P=[1,2,3,4];this.Vx=[new i5("Number of Generators",1,100),new jc("Min Length",1,999),new jc("Max Length",1,999),new jc("Min Ampl.",1,999),new jc("Max Ampl.",1,999),new jc("Scale X",1,100,"%"),new jc("Scale Y",1,100,"%"),new aY([12,44],["Sine","Triangle",[12,93,3]]),new hQ([24,18,0],[[24,18,3],[24,18,2]])];
this.Ei()};i1.Wave.prototype=new i1;i1.ZgZg=function(){i1.call(this,"ZgZg");this.Vx=[new i5([12,57],-100,100),new i5("Ridges",0,20),new hQ([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Ei()};i1.ZgZg.prototype=new i1;i1.surfaceBlur=function(){i1.call(this,"surfaceBlur");this.Vx=[new i5([12,56],1,200," px"),new i5([4,13],1,255," px")];
this.Ei()};i1.surfaceBlur.prototype=new i1;i1.surfaceBlur.prototype.zV=function(j,n){n[0]=j.Rds.v.val;
n[1]=j.Thsh.v};i1.surfaceBlur.prototype.Il=function(j,n){j.Rds.v.val=n[0];j.Thsh.v=n[1]};i1.AdNs=function(){i1.call(this,"AdNs");
this.Vx=[new i5([12,57],0,200," %"),new hQ([12,58],[[12,59,1],[12,59,0]]),new k9([12,60])];this.Ei()};
i1.AdNs.prototype=new i1;i1.DstS=function(){i1.call(this,"DstS");this.Vx=[new i5([12,56],1,200," px"),new i5([4,13],1,255," px")];
this.Ei()};i1.DstS.prototype=new i1;i1["Mdn "]=function(){i1.call(this,"Mdn ");this.Vx=[new i5([12,56],1,200," px")];
this.Ei()};i1["Mdn "].prototype=new i1;i1["Mdn "].prototype.zV=function(j,n){n[0]=j.Rds.v.val};i1["Mdn "].prototype.Il=function(j,n){j.Rds.v.val=n[0]};
i1.ClrH=function(){i1.call(this,"ClrH");this.Vx=[new i5([12,56],4,100," px")];for(var v=1;v<4;v++)this.Vx.push(new i5("Angle "+v,0,90," \xB0"));
this.Ei()};i1.ClrH.prototype=new i1;i1.ClrH.prototype.zV=function(j,n){n[0]=j.Rds.v;for(var v=1;v<4;
v++)n[v]=j["Ang"+v].v};i1.ClrH.prototype.Il=function(j,n){j.Rds.v=n[0];for(var v=1;v<4;v++)j["Ang"+v].v=n[v]};
i1.ClrH.prototype.S=function(){var j=this.Vx;j[0].S();for(var v=1;v<4;v++)j[v].LY(i4.get([12,15])+" "+v)};
i1.Crst=function(){i1.call(this,"Crst");this.Vx=[new i5([12,61],3,100," px")];this.Ei()};i1.Crst.prototype=new i1;
i1.Crst.prototype.zV=function(j,n){n[0]=j.ClSz.v};i1.Crst.prototype.Il=function(j,n){j.ClSz.v=n[0]};
i1.Mztn=function(){i1.call(this,"Mztn");this.Vx.push(new hQ([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.FU="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Ei()};i1.Mztn.prototype=new i1;
i1.Mztn.prototype.zV=function(j,n){n[0]=this.FU.indexOf(j.MztT.v.MztT)};i1.Mztn.prototype.Il=function(j,n){j.MztT.v.MztT=this.FU[n[0]]};
i1["Msc "]=function(){i1.call(this,"Msc ");this.Vx=[new i5([12,61],2,200," px")];this.Ei()};i1["Msc "].prototype=new i1;
i1["Msc "].prototype.zV=function(j,n){n[0]=j.ClSz.v.val};i1["Msc "].prototype.Il=function(j,n){j.ClSz.v.val=n[0]};
i1.Pntl=function(){i1.call(this,"Pntl");this.Vx=[new i5([12,61],3,100," px")];this.Ei()};i1.Pntl.prototype=new i1;
i1.Pntl.prototype.zV=function(j,n){n[0]=j.ClSz.v};i1.Pntl.prototype.Il=function(j,n){j.ClSz.v=n[0]};
i1.smartSharpen=function(){i1.call(this,"smartSharpen");this.Vx=[new i5([12,57],1,200,"%"),new i5([12,56],0,200,"px",1,!0)];
this.Ei()};i1.smartSharpen.prototype=new i1;i1.smartSharpen.prototype.zV=function(j,n){n[0]=j.Amnt?j.Amnt.v.val:200;
n[1]=j.Rds?j.Rds.v.val:1};i1.smartSharpen.prototype.Il=function(j,n){j.Amnt.v.val=n[0];j.Rds.v.val=n[1]};
i1.UnsM=function(){i1.call(this,"UnsM");this.Vx=[new i5([12,57],1,200," %"),new i5([12,56],.1,400,"px",1,!0),new i5([4,13],0,255," ")];
this.Ei()};i1.UnsM.prototype=new i1;i1.HghP=function(){i1.call(this,"HghP");this.Vx=[new i5([12,56],.1,400,"px",1,!0)];
this.Ei()};i1.HghP.prototype=new i1;i1.HsbP=function(){i1.call(this,"HsbP");this.Vx=[new aY("Input",["RGB","HSB","HSL"]),new aY("Output",["RGB","HSB","HSL"])];
this.Ei()};i1.HsbP.prototype=new i1;i1["Mxm "]=function(){i1.call(this,"Mxm ");this.Vx=[new i5([12,56],.1,200," px",1,!0),new hQ([12,76,1],[[12,93,3],"Circle"])];
this.Ei()};i1["Mxm "].prototype=new i1;i1["Mnm "]=function(){i1.call(this,"Mnm ");this.Vx=[new i5([12,56],.1,200," px",1,!0),new hQ([12,76,1],[[12,93,3],"Circle"])];
this.Ei()};i1["Mnm "].prototype=new i1;i1.Ofst=function(){i1.call(this,"Ofst");this.Vx=[new i5([22,4,0],-1024,1024," px"),new i5([22,4,1],-1024,1024," px"),new hQ([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Ei()};i1.Ofst.prototype=new i1;i1.Kale=function(){i1.call(this,"Kale");this.Vx=[new jc("Mirrors",2,20),new jc([12,15],0,360,"\xB0")];
this.Ei()};i1.Kale.prototype=new i1;i1.Kale.prototype.zV=function(j,n){n[0]=j.Mirr.v;n[1]=j.MRot.v};
i1.Kale.prototype.Il=function(j,n){j.Mirr.v=n[0];j.MRot.v=n[1]};i1.Rept=function(){i1.call(this,"Rept");
this.Vx=[new jc([12,38],1,300," %"),new jc("Row Shift",-50,50," %"),new jc("Space X",-99,200," %"),new jc("Space Y",-99,200," %"),new k9([4,16,2]),new by([12,15])];
this.Ei()};i1.Rept.prototype=new i1;i1.Rept.prototype.zV=function(j,n){n[0]=j.Scl.v.val;n[1]=j.Rsft.v.val;
n[2]=j.SpcX.v.val;n[3]=j.SpcY.v.val;n[4]=j.SpcC.v;n[5]=[j.Angl.v]};i1.Rept.prototype.Il=function(j,n){j.Scl.v.val=n[0];
j.Rsft.v.val=n[1];j.SpcX.v.val=n[2];j.SpcY.v.val=n[3];j.SpcC.v=n[4];j.Angl.v=n[5][0];return j};i1.Ctoa=function(){i1.call(this,"Ctoa");
this.Vx=[new kC([13,0]),new ci(!0),new i5(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new i5(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Ei()};i1.Ctoa.prototype=new i1;i1.Ctoa.prototype.zV=function(j,n){n[0]=j.Clr.v;n[1]=j.Trsp.v.val;
n[2]=j.Opct.v.val};i1.Ctoa.prototype.Il=function(j,n){j.Clr.v=n[0];j.Trsp.v.val=n[1];j.Opct.v.val=n[2]};
i1.LqFy=function(){i1.call(this,"LqFy");this.l0=!1;this.Cr=!1;this.cS=null;this.a7Z=null;this.I=0;this.Dw=-1;
this.F={QT:[[{I:{id:0,name:[24,1,0,1,0],$e:"liq/smudge"}}],[{I:{id:1,name:[24,1,0,1,1],$e:"liq/reconstruct"}}],[{I:{id:2,name:[24,1,0,1,2],$e:"liq/smooth"}}],[{I:{id:3,name:[24,1,0,1,3],$e:"liq/twirl"}}],[{I:{id:4,name:[24,1,0,1,4],$e:"liq/shrink"}}],[{I:{id:5,name:[24,1,0,1,5],$e:"liq/blow"}}],[{I:{id:6,name:[24,1,0,1,6],$e:"liq/pleft"}}],[{I:{id:7,name:"Hand",$e:"tools/hand"}}],[{I:{id:8,name:"Zoom In",$e:"zoomIn"}}],[{I:{id:9,name:"Zoom Out",$e:"zoomOut"}}]],keys:[]};
this.Di=new iD(this.F,!1);this.Di.R$(0);this.Di.P(x.E.B,this.pt,this);this.Rd=ic.GK();this.C3=null;this.ng=[];
this.HI=-1;this.E9=null;this.a91=null;this.Dn=null;this.pR=null;this.ud=null;var j=V.d("div","flexrow");
this.KF=j;this.Z.appendChild(j);j.appendChild(this.Di.Z);this.view=new cx(!0);this.view.rs(100,100);
this.view.P("mousedown",this.Vk,this);this.view.P("mousemove",this.a5,this);this.view.P("mouseup",this.mz,this);
this.view.P("zoom",this.FV,this);j.appendChild(this.view.Z);var n=V.d("div","form");j.appendChild(n);
this.uV=n;n.style.width="230px";this.LF=[new i5([12,14,0],0,1e3,null,!1,!0),new i5([12,74],0,100,null,!1,!1),new i5([12,84],0,100,null,!1,!1),new k9([12,46]),new i5([12,0],0,100,null,!1,!1),new k9([24,18,5])];
var Q=this.Rd.Brsh.v;Q.Dmtr.v.val=100;var a=[100,50,100,!1,100,!0];for(var v=0;v<this.LF.length;v++){var B=this.LF[v];
B.p(a[v]);if(v==4)B.QE();B.P(x.E.f,this.avP,this);n.appendChild(B.Z)}var m=this.aHR=new ef([1,12,2],!0,null,!0);
m.P("click",this.Bi,this);n.appendChild(m.Z);this.a2u=this.x0.bind(this);this.t8=new eD;this.t8.Z=V.d("div","floatcont");
this.hO=new ef("Menu",!1,null,!0);var R=this.hO.Z;V.v(R,"position:absolute; right:13px; top:47px");V.ON(R,this.aq2.bind(this))};
i1.LqFy.prototype=new i1;i1.LqFy.prototype.WX=function(){return!0};i1.LqFy.prototype.gq=function(j){this.uV.appendChild(j)};
i1.LqFy.prototype.aq2=function(j){if(V.gU(this.t8.Z))return;j.stopPropagation();var n=this.hO.Z.getBoundingClientRect();
this.t8.Z.appendChild(this.uV);var Q=new ar(x.E.B,!0);Q.data={Q:x.l.Ix,cB:this.t8,x:n.right+n.width-290,y:n.top+n.height};
this.a(Q)};i1.LqFy.prototype.hs=function(j){this.l0=j.r(i8.Y2);var n=N.K6.jd(this.Rd,j);if(n!=null){this.Rd=n;
this.FV();this.LF[0].p(n.Brsh.v.Dmtr.v.val)}else if(j.r(i8.Gm)&&j.r(i8.oF)){var Q=this.ng;if(j.r(i8.f8)){if(this.HI+1<Q.length)this.HI++}else if(this.HI>0)this.HI--;
this.C3.map=Q[this.HI].slice(0);this.HD(null)}else if(this.I<=6)this.view.hs(j);var a=this.I,B=-1,m=j.r(i8.Y2);
if(m&&this.Dw==-1){if(a==0)B=1;if(a==4)B=5;if(a==5)B=4;if(B!=-1)this.Dw=a}if(!m&&this.Dw!=-1){B=this.Dw;
this.Dw=-1}if(B!=-1){this.I=B;this.Di.R$(this.I)}};i1.LqFy.prototype.pt=function(j){if(j.data.Q==x.l.pY){var n=this.I=j.data.I;
this.Di.R$(this.I);this.view.hs(n>6?cx.rc(n-7):new i8)}};i1.LqFy.prototype.avP=function(j){var n=j.currentTarget,v=this.LF.indexOf(n),Q=this.Rd.Brsh.v;
if(v==0){Q.Dmtr.v.val=n.j();this.FV()}this.LF[4].Q7(this.LF[3].j());if(v>2)this.HD(null)};i1.LqFy.prototype.zM=function(){var j=this.ng;
this.HI++;j[this.HI]=this.C3.map.slice(0);while(j.length>this.HI+1)j.pop();while(j.length>50){j=j.slice(1);
this.HI--}};i1.LqFy.prototype.Vk=function(j){this.cS=this.view.mm();this.a7Z=new eE(0,0);this.Cr=!0;
window.requestAnimationFrame(this.a2u)};i1.LqFy.prototype.a5=function(j){var n=this.view.mm(),Q=new eE(n.x-this.cS.x,n.y-this.cS.y);
if(this.I==0||this.I==6)this.agm(Q);this.cS=n};i1.LqFy.prototype.mz=function(j){this.zM();this.Cr=!1};
i1.LqFy.prototype.x0=function(j){if(this.I!=0&&this.I!=6)this.agm(new eE(0,0));if(this.Cr)window.requestAnimationFrame(this.a2u)};
i1.LqFy.prototype.agm=function(j){var n=this.C3,Q=n.Uw/this.E9.q,a=this.cS,B=this.Rd.Brsh.v,m=B.Dmtr.v.val,R=Date.now(),q=n.Uw,U=n.WC,l=Math.sqrt(j.x*j.x+j.y*j.y),b=Math.max(1,Math.ceil(l/2)),D=j.x/b,c=j.y/b,_=a.O(),p=this.I,X=this.LF[1].j()/100,g=this.LF[2].j()/100,F=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],k=F[p*2],I=F[p*2+1],e=(1-X)*k+X*I,H=m*Q/2;
for(var v=0;v<b;v++){var A=[];_.x+=D;_.y+=c;K.x7.axH(n.map,q,U,p,_.x*Q,_.y*Q,H,X,g,D*Q,c*Q,A,this.l0);
K.x7.abX(q,U,n.map,A,2*e*g)}var Z=new b4(0,0,q,U),J=new b4(a.x*Q,a.y*Q,0,0);J.VT(m*Q*.5,m*Q*.5);var s=J.O();
s.offset(j.x*Q,j.y*Q);J=J.d_(s);var E=new b4(J.x/Q,J.y/Q,J.q/Q,J._/Q);E=K.c.Fa(E).uf(this.E9);this.LF[5].p(!0);
this.HD(E)};i1.LqFy.prototype.FV=function(){var j=jm.FB(this.Rd,null,this.view.O7().yr);this.view.QM(j)};
i1.LqFy.prototype.p=function(j,n,Q,a,B){Q=Q.O();if(n==null)return;if(!a.N_(Q)){var m=Q.d_(a),R=K.U(m.$()*4);
K.EC(n,Q,R,m);n=R;Q=m;var q=K.U(m.$()*4);K.EC(B,a,q,m);B=q}Q.x=Q.y=0;this.Dn=n;this.a91=B;this.ud=n.slice(0);
this.pR=n.slice(0);this.E9=Q;this.C3=kQ.by(new Uint8Array(j.LqMe.v).buffer);var U=Q.q,l=Q._;if(this.C3.Uw/U<.22){this.C3={Uw:Math.floor(U/4),WC:Math.floor(l/4)};
this.C3.map=new Float32Array(this.C3.Uw*this.C3.WC*2)}this.ng=[];this.HI=-1;this.zM();this.HD(null);
this.view.vh(!0);this.FV()};i1.LqFy.prototype.j=function(){var j=fo.cL("LqFy"),n=new Uint8Array(kQ.mH(this.C3)),Q=[];
for(var v=0;v<n.length;v++)Q.push(n[v]);j.LqMe.v=Q;return j};i1.LqFy.prototype.rs=function(j,n){this.Di.rs(j,n);
var Q=this.hO.Z,a=this.uV;this.KF.appendChild(a);this.KF.appendChild(Q);if(j>450&&j-n>200){a.style.marginLeft="1em";
this.KF.removeChild(Q);this.view.rs(j-238-45,n)}else{a.style.marginLeft="";this.KF.removeChild(a);this.view.rs(j-40,n)}};
i1.LqFy.prototype.S=function(){this.Di.S();this.aHR.S();for(var v=0;v<this.LF.length;v++)this.LF[v].S()};
i1.LqFy.prototype.Bi=function(){this.C3.map.fill(0);this.zM();this.HD(null)};i1.LqFy.prototype.HD=function(j){var n=this.E9,Q=this.Dn,a=this.ud,B=this.C3;
if(this.LF[5].j())K.x7.oz(Q,this.pR,n.q,n._,j,B.map,B.Uw,B.WC,0);else this.pR.set(Q);if(this.LF[3].rD()){K.EC(this.a91,n,a,n,j?j:n);
K.L.sg("norm",this.pR,n,a,n,j?j:n,this.LF[4].j()/100)}else K.D1(this.pR,a);this.view.p([{nJ:n,data:a.buffer}])};
i1.GEfc=function(){i1.call(this,"GEfc");this.P4=0;this.Ht=0;this.Dn=null;this.ud=null;this.E9=null;this.H=null;
this.pW=null;this.ZV=0;this.wC=null;this.Q6=null;var j=V.d("div","flexrow");this.KF=j;this.Z.appendChild(j);
this.view=new cx(null);this.view.rs(100,100);j.appendChild(this.view.Z);this.Mr="";this.Tx=270;var n=this.uK=V.d("div","form scrollable");
j.appendChild(n);V.v(n,"width:"+this.Tx+"px;");var Q=this.yd=V.d("div","form");j.appendChild(Q);V.v(Q,"width:230px;  margin:0 10px");
this.AT={};for(var a in c3.names){var B=new i1.GEfc.aV(a);B.parent=this;this.AT[a]=B;B.P(x.E.f,this.a9t,this)}this.Ct=!0;
this.hO=new ef("Menu",null,null,!0);this.hO.P("click",this.aaD,this);j.appendChild(this.hO.Z);this.ajt=new ef(">>",null,null,!0);
this.ajt.P("click",this.ab_,this);Q.appendChild(this.ajt.Z);this.a9k=V.d("div");V.v(this.a9k,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
Q.appendChild(this.a9k);this.ZY=V.d("div");this.ZY.style.minHeight="14em";this.ZY.style.marginBottom="1em";
Q.appendChild(this.ZY);this.dy=V.d("div","lpbody scrollable");this.s5=V.d("div","lpfoot");Q.appendChild(this.dy);
Q.appendChild(this.s5);this.P("click",this.ahd,this);this.hD=[];hc.gC([[5,3],[5,4]],this.hD,this.s5,this.WB.bind(this))};
i1.GEfc.prototype=new i1;i1.GEfc.prototype.WX=function(){return!0};i1.GEfc.prototype.gq=function(j){this.a9k.appendChild(j)};
i1.GEfc.prototype.hs=function(j){this.view.hs(j)};i1.GEfc.prototype.sW=function(j,n){this.H=j;if(j.Z4==j.g7)alert("Your foreground and a background color are identical.",4e3)};
i1.GEfc.prototype.ab_=function(j){var n=this.uK.style.display!="none";this.uK.style.display=n?"none":"";
this.ajt.LY(n?"<<":">>");this.rs()};i1.GEfc.prototype.aaD=function(j){this.Ct=!this.Ct;this.rs()};i1.GEfc.prototype.rs=function(j,n){var Q=this.uK.style.display!="none";
if(j!=null){this.P4=j;this.Ht=n;if(j<1e3&&Q||j>=1e3&&!Q){this.ab_();Q=!Q}this.Ct=j>600}else{j=this.P4;
n=this.Ht}var a=this.Ct?250+(Q?this.Tx:0):0;if(V.gU(this.yd)&&!this.Ct){this.KF.removeChild(this.uK);
this.KF.removeChild(this.yd)}if(!V.gU(this.yd)&&this.Ct){this.KF.appendChild(this.uK);this.KF.appendChild(this.yd)}this.uK.style.height=n+"px";
this.view.rs(j-a,n);this.dy.style.height=n-Math.max(this.ZY.getBoundingClientRect().height,186)-96+"px";
V.v(this.hO.Z,"position:absolute; top:46px;  right:"+(a+16)+"px")};i1.GEfc.prototype.amY=function(){var j=fj.xK.get("img/beach",!0)[0],n=j.nJ,Q=this.uK,a=Math.floor(V.lS()*(this.Tx-40)/3),B=~~(a*.7),m=new b4(0,0,a,B),R=K.U(a*B*4),q=R.slice(0),U=Math.round(10*V.lS()),l=new ImageData(new Uint8ClampedArray(q.buffer),a,B);
K.EC(new Uint8Array(j.data),n,R,new b4(Math.round((n.q-a)/2),Math.round((n._-B)/2),a,B));var b=V.d("canvas"),D=b.getContext("2d");
b.width=a;b.height=B+Math.round(U*1.5);D.font=U+"px sans-serif";this.wC={};V.cV(Q);var c=this.aFl.bind(this);
for(var v=0;v<c3.v8.length;v++){var _=c3.v8[v],p=V.d("div");Q.appendChild(p);V.v(p,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
p.textContent=i4.get(_);for(var X in c3.names){var g=c3.names[X];if(g[0]!=v)continue;c3.cN(X,{s:m,buffer:R},c3.cL(X),{n:0,i:0,b:0},{n:255,i:255,b:255},{s:m,buffer:q},{});
D.fillStyle="black";D.fillRect(0,0,500,500);D.putImageData(l,0,0);var F=i4.get(g[1]);D.fillStyle="white";
D.fillText(F,(a-D.measureText(F).width)/2,B+Math.round(U*1.1));var k=V.d("div");Q.appendChild(k);V.v(k,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
k.addEventListener("click",c,!1);var p=V.d("img");k.appendChild(p);p.setAttribute("src",b.toDataURL());
V.v(p,"width:"+a/V.lS()+"px; margin-bottom:0px;");this.wC[X]=k}}};i1.GEfc.prototype.aFl=function(j){var n;
for(var Q in this.wC)if(this.wC[Q]==j.currentTarget)this.Mr=Q;this.a9t()};i1.GEfc.prototype.WB=function(j){var n=hc.Rg(this.hD,j),Q=this.pW.GEfs.v,a=Q[this.ZV].v;
if(n==0){Q.push(K.u(Q[this.ZV]));this.ZV=Q.length-1}else if(Q.length>1){Q.splice(this.ZV,1);if(this.ZV==Q.length)this.ZV--}this.w5();
this.HD()};i1.GEfc.prototype.a9t=function(j){var n=this.Mr,Q;if(j==null)Q=c3.cL(n);else Q=this.AT[n].j();
this.pW.GEfs.v[this.ZV].v=Q;this.w5();this.HD()};i1.GEfc.prototype.p=function(j,n,Q,a,B){var m=i4.get([24,0]);
if(this.wC==null||m!=this.Q6)this.amY();this.Q6=m;j=this.pW=K.u(j);if(j.GEfs==null)j=this.pW={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:j}]}};
var R=j.GEfs.v;for(var v=0;v<R.length;v++)if(R[v].v.GELv==null)R[v].v.GELv={t:"bool",v:!0};this.ZV=R.length-1;
this.w5();Q=Q.O();if(n==null)return;if(!a.N_(Q)&&c3.Af(j).x!=0){var q=Q.d_(a),U=K.U(q.$()*4);K.EC(n,Q,U,q);
n=U;Q=q}Q.x=Q.y=0;this.Dn=n;this.ud=n.slice(0);this.E9=Q;this.HD();this.view.vh()};i1.GEfc.prototype.ahd=function(j){var n=j.data,v=n.cb,Q=this.pW.GEfs.v;
if(n.q2){Q[v].v.GELv.v=!Q[v].v.GELv.v;this.HD()}else this.ZV=v;this.w5()};i1.GEfc.prototype.w5=function(){var j=this.pW.GEfs.v,n=j[this.ZV].v,Q=n.GEfk.v.GEft,a=this.ZY;
if(c3.names[Q]==null){alert("Unsupported gallery filter");V.cV(a)}else{this.Mr=Q;for(var B in this.wC)V.yZ(this.wC[B],"selected");
V.BZ(this.wC[Q],"selected");var m=this.AT[Q];m.p(n);if(a.firstChild!=m.Z){V.cV(a);a.appendChild(m.Z)}}var R=[];
for(var v=0;v<j.length;v++){var q=j[v].v,U=c3.names[q.GEfk.v.GEft],l=new ht(v,!0,!0,null,U?U[1]:"Filter",v==this.ZV,q.GELv.v);
l.parent=this;R.push(l.Z)}V.cV(this.dy);R.reverse();for(var v=0;v<R.length;v++)this.dy.appendChild(R[v]);
this.rs()};i1.GEfc.prototype.j=function(){return K.u(this.pW)};i1.GEfc.prototype.HD=function(j){var n=this.E9,Q=this.Dn,a=this.ud,B=this.Mr,m=this.pW,R=this.H;
function q(U){return{n:U>>>16,i:U>>>8&255,b:U&255}}fo.cN("GEfc",{s:this.E9,buffer:this.Dn},m,q(R.Z4),q(R.g7),{s:this.E9,buffer:this.ud},null);
this.view.p([{nJ:n,data:a.buffer}])};i1.GEfc.prototype.S=function(){for(var j in this.AT)this.AT[j].S();
hc.Pg(this.hD,["lrs/newlayer","lrs/bin"])};i1.GEfc.aV=function(j){eD.call(this);this.TF=j;this.Z=V.d("div");
this.q0={};var n=c3.cL(j);for(var Q in n){var a=null;if(Q=="__name"||Q=="classID"||Q=="GEfk"||Q=="GELv"||["FlRs"].indexOf(Q)!=-1)continue;
else if(Q=="EdgW")a=new i5("Edge Width",1,14);else if(Q=="EdgB")a=new i5("Edge Brightness",0,j=="AccE"?50:20);
else if(Q=="Smth")a=new i5([19,3,3],1,j=="Stmp"?50:15);else if(Q=="ClSz")a=new i5([12,61],3,100);else if(Q=="BrdT")a=new i5([7,9],1,20);
else if(Q=="HghS")a=new i5([12,64],0,20);else if(Q=="HlSz")a=new i5([12,14,0],1,15);else if(Q=="Cntr")a=new i5([12,3,0],0,j=="WtrP"?100:50);
else if(Q=="Shrp")a=new i5("Sharpness",0,40);else if(Q=="SprR")a=new i5("Spray Radius",0,25);else if(Q=="LgDr")a=new i5("Light/Dark Balance",0,j=="Stmp"?50:100);
else if(Q=="Drkn")a=new i5("Darkness",1,50);else if(Q=="Dstr")a=new i5("Distortion",0,20);else if(Q=="Scln")a=new i5([12,38],50,200);
else if(Q=="Rlf")a=new i5("Relief",0,j=="Ptch"||j=="NtPr"?25:50);else if(Q=="ChAm")a=new i5("Thickness",1,7);
else if(Q=="Pncl")a=new i5([19,2,5],1,30);else if(Q=="StrP")a=new i5("Stroke Pressure",0,15);else if(Q=="PprB")a=new i5("Paper Brightness",0,50);
else if(Q=="BrsS")a=new i5("Brush Size",0,10);else if(Q=="BrsD")a=new i5("Brush Detail",0,10);else if(Q=="Txtr")a=new i5([12,67],1,3);
else if(Q=="Grn")a=new i5("Grain",0,20);else if(Q=="HghA")a=new i5("Highlight Area",0,20);else if(Q=="Intn")a=new i5("Intensity",0,10);
else if(Q=="Brgh")a=new i5("Glow Brightness",0,j=="WtrP"?100:50);else if(Q=="StrS")a=new i5("Stroke Size",1,50);
else if(Q=="StDt")a=new i5("Stroke Detail",1,3);else if(Q=="Sftn")a=new i5("Softness",0,10);else if(Q=="EdgT")a=new i5("Edge Thickness",0,10);
else if(Q=="EdgI")a=new i5("Edge Intensity",0,10);else if(Q=="Pstr")a=new i5("Posterization",0,6);else if(Q=="Dfnt")a=new i5("Definition",0,25);
else if(Q=="TxtC")a=new i5("Texture Coverage",0,50);else if(Q=="ShdI")a=new i5("Shadow Intensity",0,10);
else if(Q=="DrcB")a=new i5("Direction Balance",0,100);else if(Q=="Strg")a=new i5([12,64],1,3);else if(Q=="Blnc")a=new i5("Balance",0,10);
else if(Q=="BlcI")a=new i5("Black Intensity",0,10);else if(Q=="WhtI")a=new i5("White Intensity",0,10);
else if(Q=="DrkI")a=new i5("Dark Intensity",0,50);else if(Q=="LghI")a=new i5("Light Intensity",0,50);
else if(Q=="StrW")a=new i5("Stroke Width",3,15);else if(Q=="Grns")a=new i5("Graininess",0,j=="NtPr"?20:10);
else if(Q=="GlwA")a=new i5("Glow Amount",0,20);else if(Q=="ClrA")a=new i5("Clear Amount",0,20);else if(Q=="ChrA")a=new i5("Charcoal Area",0,20);
else if(Q=="ChlA")a=new i5("Chalk Area",0,20);else if(Q=="FrgL")a=new i5("Foreground Level",1,15);else if(Q=="BckL")a=new i5("Background Level",1,15);
else if(Q=="WhtL")a=new i5("Background Level",0,50);else if(Q=="BlcL")a=new i5("Foreground Level",0,50);
else if(Q=="ImgB")a=new i5("Image Balance",0,50);else if(Q=="Dnst")a=new i5([12,74],0,50);else if(Q=="FbrL")a=new i5("Fiber Length",3,50);
else if(Q=="CrcS")a=new i5("Crack Spacing",2,100);else if(Q=="CrcD")a=new i5("Crack Depth",0,10);else if(Q=="CrcB")a=new i5("Crack Brightness",0,10);
else if(Q=="TlSz")a=new i5("Tile Size",2,100);else if(Q=="GrtW")a=new i5("Grout Width",1,15);else if(Q=="LghG")a=new i5("Lighten Grout",0,10);
else if(Q=="SqrS")a=new i5("Square Size",0,10);else if(Q=="RplS")a=new i5("Ripple Size",1,15);else if(Q=="RplM")a=new i5("Ripple Magnitude",0,20);
else if(Q=="NmbL")a=new i5("Number of Levels",2,8);else if(Q=="EdgS")a=new i5("Edge Simplicity",0,10);
else if(Q=="EdgF")a=new i5("Edge Fidelity",1,3);else if(Q=="Sz")a=j=="NGlw"?new i5("Glow Size",-24,24):new i5("Brush Size",1,50);
else if(Q=="Dtl")a=j=="Chrc"?new i5("Detail",0,5):new i5("Detail",1,15);else if(Q=="StrL")a=j=="InkO"?new i5("Stroke Length",1,50):new i5("Stroke Length",0,20);
else if(Q=="TxtT")a=new hQ([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(Q=="BrsT")a=new hQ("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(Q=="Grnt")a=new hQ("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(Q=="SDir")a=new hQ([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(Q=="ScrT")a=new hQ([12,62],["Circle","Dot",[10,35]]);
else if(Q=="LghD"||Q=="LghP")a=new hQ("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(Q=="Clr")a=new ci("Glow Color");else if(Q=="InvT")a=new k9([4,11]);else console.log(Q);a.P(x.E.f,this.ww,this);
a.parent=this;this.q0[Q]=a;this.Z.appendChild(a.Z)}};i1.GEfc.aV.prototype=new eD;i1.GEfc.aV.prototype.ww=function(j){this.a(new ar(x.E.f,!1))};
i1.GEfc.a8_="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
i1.GEfc.aV.prototype.p=function(j){for(var n in this.q0){var Q;if(i1.GEfc.a8_.indexOf(n)!=-1)Q=j[n].v;
else if(n=="TxtT")Q=c3.gp.indexOf(j[n].v[n]);else if(n=="BrsT")Q=c3.alK.indexOf(j[n].v[n]);else if(n=="LghD")Q=c3.iu.indexOf(j[n].v[n]);
else if(n=="LghP")Q=c3.He.indexOf(j[n].v[n]);else if(n=="Grnt")Q=c3.OA.indexOf(j[n].v[n]);else if(n=="ScrT")Q=c3.GC.indexOf(j[n].v[n]);
else if(n=="SDir")Q=c3.Ws.indexOf(j[n].v.StrD);this.q0[n].p(Q)}};i1.GEfc.aV.prototype.j=function(){var j=c3.cL(this.TF);
for(var n in this.q0){var Q=this.q0[n].j();if(i1.GEfc.a8_.indexOf(n)!=-1)j[n].v=Q;else if(n=="TxtT")j[n].v[n]=c3.gp[Q];
else if(n=="BrsT")j[n].v[n]=c3.alK[Q];else if(n=="LghD")j[n].v[n]=c3.iu[Q];else if(n=="LghP")j[n].v[n]=c3.He[Q];
else if(n=="Grnt")j[n].v[n]=c3.OA[Q];else if(n=="ScrT")j[n].v[n]=c3.GC[Q];else if(n=="SDir")j[n].v.StrD=c3.Ws[Q]}return j};
i1.GEfc.aV.prototype.S=function(){for(var j in this.q0)this.q0[j].S()};i1["Adobe Camera Raw Filter"]=function(j){i1.call(this,"Adobe Camera Raw Filter");
var n=this.Z;this.aGg=j;this.Ua=null;this.XU=null;this.NU=1e3;this.a08=null;this.yf=null;V.BZ(n,"flexrow");
var Q=V.d("div"),a=V.d("div","padded");n.appendChild(Q);n.appendChild(a);this.view=new cx;this.view.P("zoom",this.HD,this);
Q.appendChild(this.view.Z);this.fU=new cD(225);this.fU.qo(4);a.appendChild(this.fU.Z);this.at=V.d("div");
V.v(this.at,"width:18em;");a.appendChild(this.at);this.lk=new kC("Hi",!0);this.at.appendChild(this.lk.Z);
this.Al=V.d("div","scrollable");this.at.appendChild(this.Al);this.q0=[new i5("Temperature",-100,100),new i5("Tint",-100,100),new i5([4,3],-4,4,null,!0),new i5([12,3,0],-100,100),new i5([4,4],-100,100),new i5([12,9],-100,100)];
this.Vu="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var v=0;v<this.q0.length;v++){var B=this.q0[v];
B.p(0);B.P(x.E.f,this.HD,this);this.Al.appendChild(B.Z);if(v==1||v==3)this.Al.appendChild(V.d("hr"))}};
i1["Adobe Camera Raw Filter"].prototype=new i1;i1["Adobe Camera Raw Filter"].prototype.WX=function(){return!0};
i1["Adobe Camera Raw Filter"].prototype.gq=function(j){this.at.appendChild(j)};i1["Adobe Camera Raw Filter"].prototype.hs=function(j){this.view.hs(j)};
i1["Adobe Camera Raw Filter"].prototype.sW=function(j,n){this.fU.au(cj.nn[j.HS]["--text-color"])};i1["Adobe Camera Raw Filter"].prototype.p=function(j,n,Q,a,B){this.pW=j;
var m=Q.q,R=Q._,q=m*R;this.lk.p(m+" x "+R+", "+(m*R/1e6).toFixed(1)+" MPx");this.E9=Q;this.a08=new Float32Array(m*R*4);
this.yf=new Uint8Array(m*R*4);this.yf.fill(255);var U=this.Ua=new Float32Array(m*R*4);if(n instanceof Float32Array&&n.length==q*3){for(var v=0;
v<q;v++){var l=v*3,b=v*4;U[b+0]=n[l+0];U[b+1]=n[l+1];U[b+2]=n[l+2]}}else if(n.length==q*4){K.R8(n,32,U)}else throw"e";
this.XU=[{jB:this.Ua,s:Q.O()}];this.NU=1e3;var D=this.Ua;while(m>1&&R>1){var c=m,_=c*4;m=m>>>1;R=R>>>1;
var p=D,D=new Float32Array(m*R*4);this.XU.push({jB:D,s:new b4(0,0,m,R)});for(var X=0;X<R;X++)for(var g=0;
g<m;g++){var b=(X*m+g)*4,F=(X*2*c+g*2)*4,k=F+_;D[b]=.25*(p[F]+p[F+4]+p[F+_]+p[F+_+4]);D[b+1]=.25*(p[F+1]+p[F+5]+p[F+_+1]+p[F+_+5]);
D[b+2]=.25*(p[F+2]+p[F+6]+p[F+_+2]+p[F+_+6])}}var I=this.Vu;for(var v=0;v<I.length;v++){var e=I[v];this.q0[v].p(j[e]?j[e].v:0)}this.view.p([{nJ:Q,data:this.yf.buffer}]);
this.view.vh();this.HD(null)};i1["Adobe Camera Raw Filter"].prototype.j=function(j){if(j){this.HD(null,!0);
return this.yf}return K.u(this.pW)};i1["Adobe Camera Raw Filter"].prototype.a4s=function(){this.Ua=null;
this.a08=null;this.XU=null;this.yf=null};i1["Adobe Camera Raw Filter"].prototype.HD=function(j,n){if(j&&this.q0.indexOf(j.target)!=-1){this.NU=1e3;
var Q=this.Vu;for(var v=0;v<Q.length;v++){var a=Q[v];this.pW[a]={t:a=="Ex12"?"doub":"long",v:this.q0[v].j()}}}var B=this.view.O7().yr,m=0;
while(B*2<=1&&!n){B*=2;m++}if(this.NU<=m)return;this.NU=m;var R=this.E9,q=this.ake(this.Ua,R,this.a08,this.pW,this.aGg,this.yf,m);
this.fU.p(q);this.view.p([{nJ:R,data:this.yf.buffer}])};i1["Adobe Camera Raw Filter"].prototype.ake=function(j,n,Q,a,B,m,R){var q=j,U=Q,l=m,b=n.q,D=n._,c=R!=0;
if(c){var _=this.XU[R];q=_.jB;b=_.s.q;D=_.s._;U=new Float32Array(b*D*4);l=K.U(b*D*4)}dN(q,b,D,U,a,B);
var p=Date.now(),X=b*D;for(var v=0;v<X;v++){var g=v*4;l[g+0]=~~(.5+U[g+0]*255);l[g+1]=~~(.5+U[g+1]*255);
l[g+2]=~~(.5+U[g+2]*255);l[g+3]=255}console.log(Date.now()-p,"integer conversion");p=Date.now();var F=K.XG(l,Math.max(1,Math.floor(X/2e5)));
console.log(Date.now()-p,"histogram done");p=Date.now();if(c){var k=new Uint32Array(l.buffer),I=new Uint32Array(m.buffer),e=n.q,H=n._;
for(var A=0;A<H;A+=2)for(var Z=0;Z<e;Z+=2){var J=A*e+Z,s=k[(A>>>R)*b+(Z>>>R)];I[J]=s;I[J+1]=s;I[J+e]=s;
I[J+e+1]=s}console.log(Date.now()-p,"upscale");p=Date.now()}return F};i1["Adobe Camera Raw Filter"].prototype.rs=function(j,n){this.aC3=j-248;
this.acb=n;this.view.rs(this.aC3,this.acb);this.Al.style.height=n-236+"px"};i1["Adobe Camera Raw Filter"].prototype.S=function(){for(var v=0;
v<this.q0.length;v++)this.q0[v].S()};i1.VaPo=function(){i1.call(this,"VaPo");this.I=-1;this.dg=null;
this.sM=!1;this.t2=null;this.aM=null;this.br=null;this.CD=null;this.RE=null;this.a8n=null;this.cM=null;
this.aAY=null;this.mN=null;this.Ri=null;this.Ld=null;this.ng=[];this.HI=-1;this.X=null;this.F={QT:[[{I:{id:0,name:"Move",$e:"tools/move"}}],[{I:{id:1,name:"Create Plane",$e:"tools/pcrop"}}],[{I:{id:2,name:"Marquee",$e:"tools/rselect"}}],[{I:{id:3,name:"Stamp",$e:"tools/clone"}}],[{I:{id:4,name:"Brush",$e:"tools/brush"}}],[{I:{id:5,name:"Transform",$e:"tools/transform"}}],[{I:{id:6,name:"Hand",$e:"tools/hand"}}],[{I:{id:7,name:"Zoom In",$e:"zoomIn"}}],[{I:{id:8,name:"Zoom Out",$e:"zoomOut"}}]],keys:[i8.md,i8.vj,i8.W7,i8.VG,i8.s3,i8.xw,i8.Dh,i8.oF]};
this.Di=new iD(this.F,!1);this.Di.P(x.E.B,this.pt,this);this.tc=null;this.E9=null;this.Dn=null;this.aeg=null;
this.ud=null;this.ay=null;var j=V.d("div","flexrow"),a=0;this.KF=j;this.Z.appendChild(j);j.appendChild(this.Di.Z);
var n=V.d("div");j.appendChild(n);var top=V.d("div","form");n.appendChild(top);V.v(top,"padding-left:8px; height:30px;");
this.yV=V.d("span");top.appendChild(this.yV);this.O1=[[new i7([12,80,5],1,1e3)],[new i7([7,6],0,30)],[new i7([12,14],1,200),new i7([12,17],0,100),new i7([12,0],0,100),new k9([12,75])],[new i7([12,14],1,200),new i7([12,17],0,100),new i7([12,0],0,100),new ci],[new k9("Flip"),new k9("Flop")],[]];
var Q=[100,0,100,100,100,!1,100,100,100,JSON.parse(g8.Qu.wF.slice(6)).v];this.p8=[];for(var v=0;v<6;
v++){var B=V.d("span"),m=this.O1[v];this.p8.push(B);for(var R=0;R<m.length;R++){var q=m[R];q.parent=this;
q.p(Q[a++]);q.P(x.E.f,this.aje,this);B.appendChild(q.Z)}}this.aDi=V.d("div");V.v(this.aDi,"display:inline-block;float:right; width:100px;");
top.appendChild(this.aDi);this.view=new cx(!0);this.view.rs(100,100);this.view.QM("auto");this.view.P("mousedown",this.Vk,this);
this.view.P("mousemove",this.a5,this);this.view.P("mouseup",this.mz,this);V.NF(this.view.q$,this.Kv.bind(this));
n.appendChild(this.view.Z)};i1.VaPo.prototype=new i1;i1.VaPo.prototype.WX=function(){return!0};i1.VaPo.prototype.gq=function(j){this.aDi.appendChild(j)};
i1.VaPo.prototype.aje=function(j){if(j.target==this.O1[0][0]){var n=this.Gl(),Q=j.target.j();for(var v=0;
v<this.X.length;v++)if(this.X[v].length!=0&&n[v])n[v][0]=Q;this.ft(n)}if(this.I==5){this.tc=this.zQ();
this.HD(!0)}this.HD()};i1.VaPo.prototype.hs=function(j){var n=this.I,Q=this.aM;if(n==3||n==4){var a=this.O1[n-1],B=ic.GK(),m=B.Brsh.v;
m.Dmtr.v.val=a[0].j();m.Hrdn.v.val=a[1].j();B=N.K6.jd(B,j);if(B){m=B.Brsh.v;a[0].p(m.Dmtr.v.val);a[1].p(m.Hrdn.v.val)}this.FV()}if(n==1&&Q&&(j.r(i8.Va)||j.r(i8.Bo))){Q.pop();
Q.pop();if(Q.length==0)Q=this.aM=null;this.HD()}function R(b,v,p){K.EC(b[v],b[0],p.Dn,p.E9);p.QK(b[0])}this.t2=j;
if(n<6)this.view.hs(j);var q=j.r(i8.Gm);if(q){var U=this.HI,l=0;if(j.r(i8.oF)){if(j.r(i8.f8))l=1;else l=-1}else if(j.r(i8.Jb))l=1;
if(l!=0&&n!=5){console.log(this.HI,l,this.ng);var b=this.ng[this.HI],D=!1;if(b.length==3&&l==-1){R(b,1,this);
D=!0}U+=l;this.HI=Math.max(0,Math.min(this.ng.length-1,U));b=this.ng[this.HI];if(b.length==3&&l==1){R(b,2,this);
D=!0}this.HD(D)}if(j.r(i8.md)){if(V.gX())aL.a4y(this.bg.bind(this))}if(j.r(i8._F)){this.RE=null;this.HD()}}else{var c=this.F.keys;
for(var v=0;v<c.length;v++)if(j.r(c[v]))this.R$(v)}if(j.r(i8.Bo)||j.r(i8.Va)){var _=this.Gl();_=K.Gj.avY(_,this.X);
this.X=[];for(var v=0;v<_.length;v++)this.X[v]=[];this.ft(_);this.HD()}};i1.VaPo.prototype.bg=function(j){if(j=="granted")aL.I1(this,this.O8.bind(this))};
i1.VaPo.prototype.O8=function(j,n){var Q=this.Gl();if(Q.length==0){alert("Make a plane before pasting an image");
return}if(this.CD==null)this.CD=[0,0];if(this.I==5)this.R$(0);this.R$(5,{FJ:j,SK:n})};i1.VaPo.prototype.pt=function(j){if(j.data.Q==x.l.pY){this.R$(j.data.I)}};
i1.VaPo.prototype.amI=function(j){var n=this.view.mm(j),Q=K.Gj.cX(this.Gl(),this.X),a=1e9,B=0;for(var v=0;
v<Q.length;v++){var m=Q[v][0],R=n.x-m[0],q=n.y-m[1],U=Math.sqrt(R*R+q*q);if(U<a){a=U;B=v}}if(a>4*V.lS()/this.view.O7().yr)return null;
return Q[B]};i1.VaPo.prototype.Kv=function(j){var n=this.I,Q=this.aM;if(n<2&&!this.sM){var a=this.dg=this.amI(j),B=this.Gl(),m="auto";
if(n==0&&K.Gj.HK(B,a)){var R=B[a[1]][1][a[2]],q=R[5+{1:0,5:1,7:2,3:3}[a[3]]],U=q[0],l=q[1];m=ew.aDX(U[1]-l[1],-U[0]+l[0])}if(K.Gj.aGN(B,a))m="crosshair";
this.view.QM(m)}if(Q){var b=this.view.mm(j),D=Q.slice(0);Q[Q.length-2]=b.x;Q[Q.length-1]=b.y;this.HD()}this.FV(j);
if(n==5&&!this.sM&&this.o6){var b=this.view.mm(j),B=this.Gl(),c=K.Gj.Mt(B,b.x,b.y,this.tB());if(c){var _=new eE(c[2][0],c[2][1]),p=K.Gj.y8(B,B[c[0]][1][c[1]],this.tB()),X=p[1],g=K.D.ZM(p[0],X),F=[X.x+X.q/2,X.y+X._/2];
K.D.C(g,F);var k=b.x-F[0],I=b.y-F[1],e=this.o6.J5(_,this.view.O7().yr,null,null,Math.atan2(-I,-k));this.view.QM(e?e:"default")}}};
i1.VaPo.prototype.FV=function(j){var n=this.I,Q=this.t2;if((n==3||n==4)&&!this.sM){var a=j?this.view.mm(j):this._7,B=this.Gl();
this._7=a;if(a==null)return;var m=K.Gj.Mt(B,a.x,a.y,this.tB());if(m){if(n==3&&this.Ld&&this.O1[2][3].j()){var R=new eE(m[2][0],m[2][1]);
this.Ri=R.tV(this.Ld);this.HD()}if(n==3&&(this.Ri==null||Q&&(Q.r(i8.Y2)||Q.r(i8.JO)))){if(this.tc){this.ay=null;
this.QK(this.tc);this.HD(!0,this.tc)}return}this.a8z(m,this.tc)}}};i1.VaPo.prototype.tB=function(){return[this.E9.q/2,this.E9._/2]};
i1.VaPo.prototype.Vk=function(j){this.sM=!0;var n=this.I,Q=this.aM,a=this.Gl(),B=this.t2,m=this.dg=this.amI(null),R=this.view.mm(),q=K.Gj.Mt(a,R.x,R.y,this.tB()),U=q?new eE(q[2][0],q[2][1]):null;
if(K.Gj.aGN(a,m)){var l=a[m[1]][1][m[2]];a.splice(m[1],1);this.X.splice(m[1],1);Q=K.Gj.ahf(l);var b=-1,R=m[0];
for(var v=0;v<8;v+=2){var D=Q[v]-R[0],c=Q[v+1]-R[1];if(D*D+c*c<1e-5)b=v}b=b+2&7;Q=this.aM=Q.slice(b).concat(Q.slice(0,b));
this.ft(a)}else if(K.Gj.HK(a,m)){if(n==1||B&&B.r(i8.Gm)){a=K.Gj.aj1(a,m,this.tB());this.ft(a);m[2]=a[m[1]][1].length-1;
m[3]=8+(m[3]+4&7);this.X[m[1]].push(m[2]);this.ft(a,!0);this.R$(0)}else this.ft(this.Gl(a))}else if(n==0){var _=[];
for(var v=0;v<a.length;v++)_.push([]);if(q){if(B&&B.r(i8.f8))_=this.X;var p=_[q[0]].indexOf(q[1]);if(p==-1)_[q[0]].push(q[1]);
else _[q[0]].splice(p,1)}this.X=_;this.ft(a,!0);this.HD()}else if(n==2){if(q){var X=this.RE;if(X&&X.PU(U)){if(B)if(B.r(i8.Y2)||B.r(i8.Gm)){this.R$(5);
this.Vk(j);return}this.a8n=new eE(U.x-X.x,U.y-X.y)}else{this.br=q[2].concat(q[2]);this.CD=q}}}else if(n==3||n==4){if(n==3){if(B&&(B.r(i8.Y2)||B.r(i8.JO))){if(q){this.Ri=U;
this.aAY=U.O();this.Ld=null;this.mN=q;this.HD()}else alert("You must click into a plane");this.sM=!1;
return}else if(this.Ri==null){alert(i4.get([15,7,0]));this.sM=!1;return}else if(q){var g=this.Ld=U.tV(this.Ri)}}if(q){this.a8z(q)}}else if(n==5){if(q){var F=new eE(q[2][0],q[2][1]),k=this.o6.v1({e:this.view.O7()},{},B,F)}}};
i1.VaPo.prototype.a8z=function(j,n){var Q=this.ay;if(Q==null)this.ay=Q=K.U(this.E9.$()*4);else Q.fill(0);
var a=this.I;this.CD=j;var B=this.O1[a-1],m=K.awd.aoH(B[0].j(),B[1].j()/100,1),R=K.U(m[1].$()*4);K.wj(m[0],R,3);
if(a==4){var q=K.Gp.qF(B[3].j());K.b7(R,Math.round(q.b)<<16|Math.round(q.i)<<8|Math.round(q.n)<<0)}this.cM={a2b:m[0],FJ:R,SK:m[1]};
var U=this.tc=this.Du(j[2],j[2]),l=n?n.d_(U):U;this.QK(l);this.HD(!0,l)};i1.VaPo.prototype.a5=function(j){var n=this.dg,Q=this.I,a=this.Gl();
if(Q==0&&K.Gj.HK(a,n)){a=K.Gj.akz(a,n,this.view.mm());this.ft(a,!0);this.HD()}var B=this.a8n;if(Q==2&&this.sM&&(this.br||B)){var m=this.view.mm(),R=K.Gj.Mt(a,m.x,m.y,this.tB());
if(R){this.CD=R;if(B){this.RE.x=R[2][0]-B.x;this.RE.y=R[2][1]-B.y}else{this.br=this.br.slice(0,2).concat(R[2]);
this.RE=K.c.so(this.br)}this.HD()}}if((Q==3||Q==4)&&this.sM){var m=this.view.mm(),R=K.Gj.Mt(a,m.x,m.y,this.tB());
if(R){if(Q==3){var q=this.Ld;this.Ri=new eE(R[2][0]-q.x,R[2][1]-q.y)}var U=this.Du(this.CD[2],R[2]);
this.tc=this.tc.d_(U);this.CD=R;this.QK(U);this.HD(!0,U)}}if(Q==5&&this.sM){var m=this.view.mm(),R=K.Gj.Mt(a,m.x,m.y,this.tB(),this.CD);
if(R){var l=new eE(R[2][0],R[2][1]);this.o6.Z3({e:this.view.O7()},{},this.t2,l);this.CD=R;var U=this.tc;
if(U)this.QK(U);else U=new b4;this.tc=this.zQ(null,null,!0);this.HD(!0,U.d_(this.tc))}}};i1.VaPo.prototype.Du=function(j,n){j=new eE(j[0],j[1]);
n=new eE(n[0],n[1]);var Q=Math.max(1e-5,eE.X_(j,n)),a=this.cM.SK.q*.2,B=new b4;for(var m=0;m<Q;m+=a){var R=1-m/Q,q=R*j.x+(1-R)*n.x,U=R*j.y+(1-R)*n.y,l=this.cM.SK.O();
l.x=Math.round(q-l.q/2);l.y=Math.round(U-l._/2);if(this.I==3){var b=this.Ld;if(b==null)b=new eE(q,U).tV(this.Ri);
var D=this.RE=l.O();D.x=Math.round(D.x-b.x);D.y=Math.round(D.y-b.y);var c=this.cM.a2b;this.cM=this.a5D(this.mN);
this.RE=null;K.A2(c,this.cM.FJ);this.cM.a2b=c}var _=this.zQ(this.ay,l);B=B.d_(_)}return B};i1.VaPo.prototype.mz=function(j){var n=this.dg;
if(n&&n[3]>=8){var Q=K.Gj.a9D(this.Gl(),n,this.tB());this.ft(Q,!0);this.HD();alert("new plane added")}var a=this.I,B=this.aM;
if(B||a==1){var m=this.view.mm();if(B==null)B=this.aM=[m.x,m.y];if(B.length==8&&ew.bL(B)){var Q=this.Gl();
Q.push([100,[K.Gj.as5(B,this.tB())]]);this.X.push([0]);this.ft(Q,!0);B=this.aM=null;this.R$(0);this.HD()}else if(B.length<8){B.push(m.x,m.y);
if(B.length==8&&!ew.bL(B)){var R=B[0],q=B[1];B[0]=B[4];B[1]=B[5];B[4]=R;B[5]=q}}}var U=this.br;if(a==2&&U&&U[0]==U[2]&&U[1]==U[3]){this.RE=null;
this.HD()}if((a==3||a==4)&&this.sM){if(a==3&&!this.O1[2][3].j()&&this.aAY){this.Ri=this.aAY.O();this.HD()}this.ft();
this.ay=null}if(!this.O1[2][3].j())this.Ld=null;this.sM=!1;this.a8n=null;this.br=null};i1.VaPo.prototype.R$=function(j,n){if(j==this.I)return;
var Q=this.tc,B=6;if(this.I==5){this.ft();this.QK(Q);this.o6=null;this.HD()}if(this.I==3||this.I==4){this.ay=null;
if(Q)this.QK(Q);this.HD(!0,Q)}if(j==5){if(n==null&&this.RE==null){alert("Select the area to be transformed");
return}this.alg(n)}if(j>1){var a=this.Gl();this.q6();this.ft(a,!0);this.HD()}this.view.hs(j>=B?cx.rc(j-B):new i8(!0));
if(j<B)this.view.QM("auto");this.I=j;this.Di.R$(j);V.cV(this.yV);var m={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[j];
this.yV.appendChild(this.p8[m])};i1.VaPo.prototype.Gl=function(){var v=this.HI,j=this.ng;while(j[v].length==3)v--;
var n=j[v];this.X=JSON.parse(n[1]);return JSON.parse(n[0])};i1.VaPo.prototype.ft=function(j,n){if(j==null&&this.tc==null)return;
var Q=this.ng,a=this.HI,v=a;while(v>=0&&Q[v].length==3)v--;if(n==null)this.HI=a=a+1;if(j!=null)Q[n?v:a]=[JSON.stringify(j),JSON.stringify(this.X)];
else{var B=this.E9,m=this.tc,R=K.U(m.$()*4),q=K.U(m.$()*4);Q[a]=[m,R,q];K.EC(this.Dn,B,R,m);if(this.ay)K.L.sg("norm",this.ay,B,this.Dn,B,B,this.app());
else this.zQ(this.Dn);K.EC(this.Dn,B,q,m);this.tc=null}while(Q.length!=a+1)Q.pop()};i1.VaPo.prototype.app=function(){return this.O1[this.I-1][2].j()/100};
i1.VaPo.prototype.q6=function(j,n){if(j==null)j=this.Gl();this.X=[];for(var v=0;v<j.length;v++){var Q=[];
this.X.push(Q);if(n)for(var a=0;a<j[v][1].length;a++)Q.push(a)}};i1.VaPo.prototype.p=function(j,n,Q,a,B,m){var R=K.u(m[2].Gj);
this.HI=-1;this.q6(R);this.ft(R);var q=K.U(a.$()*4);K.EC(n,Q,q,a);this.a4z=new b4;this.E9=a;this.aeg=B;
this.Dn=q;this.ud=B.slice(0);this.QK(a);this.HD(!0);this.view.vh();this.R$(0)};i1.VaPo.prototype.alg=function(j){this.cM=j?j:this.a5D();
var n=K.c.yc(this.cM.SK).g;if(j){var Q=this.Gl(),a=K.Gj.y8(Q,Q[0][1][0],this.tB()),B=a[1],m=Math.min(B.q/j.SK.q,B._/j.SK._)*.9;
if(m<1)K.c.C(n,new j8(m,0,0,m,0,0),n)}this.o6=new ew(n,!0,!0);this.RE=null;this.tc=this.zQ();this.HD(!0)};
i1.VaPo.prototype.a5D=function(j){var n=this.E9,Q=K.c.Fa(this.RE),a=this.Gl(),B=K.U(Q.$()*4);if(j==null)j=this.CD;
var m=a[j[0]][1],R=K.Gj.i6(a[j[0]][1],j[1],Q,this.tB());for(var q=0;q<R.length;q++){var U=m[R[q]],l=K.Gj.y8(a,U,this.tB()),b=l[0],D=l[1],c=D.uf(Q);
if(c.ke())continue;c=K.c.Fa(c);var _=K.U(c.$()*4),p=K.D.ZM(b,D);p=K.D.Da([1/n.q,0,0,0,1/n._,0,0,0],p);
p=K.D.m2(p);K.D.drawImage(p,this.ud,n.q,n._,_,c);K.EC(_,c,B,Q)}var X=this.O1[1][0].j(),g=Math.round(X*1.4),F=Q.O();
F.VT(-g,-g);var k=K.U(F.$());k.fill(255);var I=K.U(Q.$());K.Gc(k,F,I,Q);var e=K.U(Q.$());K.KX.mg(I,e,Q,X);
K._W(B,I,3);K.I8.uf(I,e,e);K.wj(e,B,3);return{FJ:B,SK:Q}};i1.VaPo.prototype.QK=function(j,n){var Q=this.E9;
K.EC(this.aeg,Q,this.ud,Q,j);K.L.sg("norm",this.Dn,Q,this.ud,Q,j,1);if(this.ay)K.L.sg("norm",this.ay,Q,this.ud,Q,j,this.app())};
i1.VaPo.prototype.zQ=function(j,n,Q){var a=this.cM,B=a.SK,m=this.E9,R,q=n?K.c.yc(n).g:this.o6.cX(),U=K.c.Tv(q),R=K.D.ZM(q,B),l=this.O1[4],b=new j8;
if(l[0].j()){b.NX=-1;b.Qr=2*B.x+B.q}if(l[1].j()){b.zP=-1;b.dE=2*B.y+B._}R=K.D.Da(R,K.D.UN(b));function D(C,i){C.beginPath();
C.moveTo(i[0],i[1]);for(var v=1;v<4;v++)C.lineTo(i[v*2],i[v*2+1]);C.closePath()}var c=this.Gl(),_=K.Gj.i6(c[this.CD[0]][1],this.CD[1],U,this.tB()),p=c[this.CD[0]][1],X=new b4;
for(var g=0;g<_.length;g++){var F=p[_[g]],k=K.Gj.y8(c,F,this.tB()),I=k[0],e=k[1],H=e.uf(U);if(this.RE)H=H.uf(this.RE);
if(H.ke())continue;var A=K.D.ZM(I,e),Z=K.c.yc(H).g;K.D.C(A,Z);var J=q.slice(0);K.D.C(A,J);var s=K.c.so(J).uf(K.c.so(Z)),E=s.q,z=s._;
if(s.ke())continue;A=K.D.Da(K.D.Da(A,R),[B.q,0,B.x,0,B._,B.y,0,0]);var h=K.U(s.$()*4);K.D.drawImage(A,a.FJ,B.q,B._,h,s,Q);
if(H.$()!=U.$()){var d=K.uq(E,z);d.save();d.clearRect(0,0,E,z);d.translate(-s.x,-s.y);D(d,Z);d.clip();
D(d,J);d.fill();d.restore();var Y=new Uint8Array(d.getImageData(0,0,E,z).data.buffer);for(var v=3;v<h.length;
v+=4)if(Y[v]<h[v])h[v]=Y[v]}K.L.sg("norm",h,s,j?j:this.ud,m,s,1);X=X.d_(s)}return X};i1.VaPo.prototype.j=function(){return K.u(this.Gl())};
i1.VaPo.prototype.a60=function(){if(this.I==5)this.R$(0);var j=new b4,n=this.ng;for(var v=0;v<=this.HI;
v++)if(n[v].length==3)j=j.d_(n[v][0]);var Q=K.U(j.$()*4);K.EC(this.Dn,this.E9,Q,j);return[Q,j]};i1.VaPo.prototype.rs=function(j,n){this.Di.rs(j,n);
this.view.rs(j-40,n-30)};i1.VaPo.prototype.S=function(){this.Di.S();for(var v=0;v<this.O1.length;v++)for(var j=0;
j<this.O1[v].length;j++)this.O1[v][j].S()};i1.VaPo.prototype.HD=function(j,n){var Q=this.E9,a=[],B=[],m=[],R=this.Gl(),q=K.Gj.cX(R,this.X),U=0,l=null,g=null,F=null,k=null;
for(var v=0;v<q.length;v++)m.push(q[v][0][0],q[v][0][1]);for(var v=0;v<R.length;v++){var b=this.X[v].length;
U+=b;if(b!=0)l=[v,this.X[v][0]]}var D=this.O1[0][0];D.Q7(U!=0);if(U!=0)D.p(Math.round(R[l[0]][0]));if(U==1){var c=R[l[0]][1]}var _=[];
if(this.RE&&R[this.CD[0]])_=K.Gj.i6(R[this.CD[0]][1],this.CD[1],this.RE,this.tB());var p=[];if(this.o6){p=this.o6.aAR();
p[4]=this.o6.DU()}var X=[];if(this.o6&&R[this.CD[0]])X=K.Gj.i6(R[this.CD[0]][1],this.CD[1],K.c.so(this.o6.cX()),this.tB());
for(var I=0;I<R.length;I++){var e=R[I][0],c=R[I][1],H=this.X[I];for(var A=0;A<c.length;A++){var l=c[A],Z=K.Gj.y8(R,l,this.tB()),J=Z[0],Q=Z[1],s=K.D.ZM(J,Q);
if(Q.ke()){if(F==null)F={rZ:[],g:[]};K.c.concat(F,{rZ:["M","L","L","L","Z"],g:J});continue}var E=K.c.yc(Q),z=E.g,h=E.rZ,d=this.Ri;
if(d&&Q.PU(d)&&this.mN&&this.mN[0]==I){g=[d.x,d.y];K.D.C(s,g)}if(_.indexOf(A)!=-1){var Y=this.RE.uf(Q);
if(I==this.CD[0]&&!Y.ke()){if(k==null)k={g:[],rZ:[]};var C=K.c.yc(Y);K.D.C(s,C.g);K.c.concat(k,C)}}if(X.indexOf(A)!=-1&&I==this.CD[0]){var i=[];
for(var v=0;v<p.length;v++)if(Q.PU(p[v]))i.push(p[v].x,p[v].y);if(i.length!=0){K.D.C(s,i);m=m.concat(i)}}if(H&&H.indexOf(A)!=-1){var M=Math.ceil(Q.x/e)*e,W=Q.x+Q.q,$=Math.ceil(Q.y/e)*e,P=Q.y+Q._;
for(var O=M;O<W;O+=e){z.push(O,Q.y,O,P);h.push("M","L")}for(var G=$;G<P;G+=e){z.push(Q.x,G,W,G);h.push("M","L")}}K.D.C(s,z);
a=a.concat(h);B=B.concat(z)}if(g&&this.I==3){var O=g[0],G=g[1],t=10/this.view.O7().yr;B.push(O-t,G,O+t,G);
B.push(O,G-t,O,G+t);a.push("M","L","M","L")}}var J=this.aM,Q=this.E9;if(J){var y=["M"];for(var v=0;v<J.length-2;
v+=2)y.push("L");y.push("Z");var r=N.MT.DN(J,Q.q/2,Q._/2);if(isNaN(r)||r==Infinity||r==-Infinity||!ew.bL(J)){if(F==null)F={rZ:[],g:[]};
K.c.concat(F,{rZ:y,g:J})}else{B=B.concat(J);a=a.concat(y)}}var u={RJ:{rZ:a,g:B},ayu:F,aqO:k,oi:m,Lq:null};
if(j){this.view.p([{nJ:Q,data:this.ud.buffer}],null,u,n)}else this.view.a4A(u)};i1.blnc=function(){i1.call(this);
var j=this.Z;this.LG=null;this.M1=new hQ([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.M1.P(x.E.f,this.HD,this);
j.appendChild(this.M1.Z);this.gY=[];for(var v=0;v<3;v++){var n=new i5(["VAR0 - VAR1",k8.ard[v],k8.ql[v]],-100,100);
n.P(x.E.f,this.XL,this);this.gY.push(n);j.appendChild(n.Z)}this.dB=new k9([13,4]);this.dB.P(x.E.f,this.XL,this);
j.appendChild(this.dB.Z)};i1.blnc.prototype=new i1;i1.blnc.prototype.S=function(){this.M1.S();for(var v=0;
v<3;v++)this.gY[v].S();this.dB.S()};i1.blnc.prototype.p=function(j){this.LG=K.u(j);this.HD()};i1.blnc.prototype.j=function(j){var n=["ShdL","MdtL","HghL"],Q=this.LG[n[this.M1.j()]].v;
for(var v=0;v<3;v++)Q[v].v=this.gY[v].j();this.LG.PrsL.v=this.dB.j();return K.u(this.LG)};i1.blnc.prototype.HD=function(j){var n=["ShdL","MdtL","HghL"],Q=this.LG[n[this.M1.j()]].v;
for(var v=0;v<3;v++)this.gY[v].p(Q[v].v);this.dB.p(this.LG.PrsL.v)};i1.brit=function(){i1.call(this,"brit");
this.Vx.push(new i5([12,2],-150,150,""));this.Vx.push(new i5([12,3,0],-100,100,""));this.Vx.push(new k9([12,3,1]));
this.Ei()};i1.brit.prototype=new i1;i1.curv=function(){i1.call(this);this.value=null;this.T3=null;this.H=null;
var j=this.Z;this.Np=new hQ("Preset",["basic","advanced"]);this.Np.P(x.E.f,this.a3e,this);j.appendChild(this.Np.Z);
V.pd(j);this.DC=new hQ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.DC.P(x.E.f,this._J,this);j.appendChild(this.DC.Z);
this.E6=new hQ(null,["Spline","Sketch"]);this.E6.P(x.E.f,this.a3e,this);j.appendChild(this.E6.Z);this._b=new kG;
this._b.parent=this;this._b.P(x.E.f,this.ll,this);j.appendChild(this._b.Z);V.pd(j);this.So=new d7;this.So.P(x.E.f,this._n,this);
j.appendChild(this.So.Z);this.c7=null;this.a29=0;this.agn=0;V.pd(j);this.GE=new is("Sample from image",aY.cH(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.GE.P(x.E.f,this.Jl,this);this.GE.Z.style.marginRight="0";j.appendChild(this.GE.Z)};i1.curv.prototype=new i1;
i1.curv.prototype.sW=function(j,n){if(n==b3.Od||n==b3.XA){var Q=j.Md,a=["Default"];for(var v=0;v<Q.length;
v++)a.push(Q[v].presetFileName.v);a.push("Custom");this.Np.MD(a,[1,Q.length,1]);this.H=j}};i1.curv.prototype.rs=function(j,n){this.So.rs(j,n)};
i1.curv.prototype.S=function(){this.DC.S();this.So.S()};i1.curv.prototype.p7=function(){this.Np.p(this.H.Md.length+1)};
i1.curv.prototype.a3e=function(j){if(j.target==this.Np){var n=this.Np.j(),Q=this.H.Md,a;if(n==0)a=fo.cL("curv");
else if(n-1<Q.length)a=K.u(Q[n-1]);else return;this.p(a);this.XL();return}this.p7();var B=dr.Js(this.value,0),m=B.length==256?1:0,R=this.E6.j();
if(m==R)return;var a=fo.cL("curv");if(R==1){var q=[];for(var v=0;v<256;v++)q.push(v);dr.RQ(a,0,q)}this.p(a);
this.XL()};i1.curv.prototype._n=function(){this.p7();dr.RQ(this.value,this.DC.j(),this.So.j());this.XL()};
i1.curv.prototype._J=function(){var j=this.DC.j(),n=dr.Js(this.value,j),Q=n.length==256?1:0;this.E6.p(Q);
if(this.T3)this.So.IV(this.T3[j],this.T3[4]*[1,.33,.33,.33][j],["#ccc","#fcc","#cfc","#ccf"][j]);this.So.p(n)};
i1.curv.prototype.GH=function(){return!0};i1.curv.prototype.v1=function(j,n,Q,a,B){var m=this.value;
this.value=fo.cL("curv");this.XL();var R=N.Yc.Za(j,B,1,null,!0),q=this.c7=[R>>>16&255,R>>>8&255,R&255];
this.a29=B.y;var U=this.GE.j().indexOf(!0);if(U==0){var l=(q[0]+q[1]+q[2])/3,b=this.DC.j(),D=dr.Js(m,b),c=b==0?l:q[b-1],_=-1;
for(var v=0;v<D.length;v++)if(D[v].v.Hrzn.v==c)_=v;if(_==-1){var p=K.u(D[0]);p.v.Hrzn.v=c;p.v.Vrtc.v=c;
D.push(p);D.sort(function(X,g){return X.v.Hrzn.v-g.v.Hrzn.v});dr.RQ(m,b,D);this.agn=D.indexOf(p)}else this.agn=_}this.p(m);
this.XL()};i1.curv.prototype.Z3=function(j,n,Q,a,B){if(this.c7==null)return;if(this.GE.j().indexOf(!0)==0){var m=this.value,R=this.DC.j(),q=dr.Js(m,R),U=q[this.agn];
U.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(U.v.Hrzn.v+(this.a29-B.y))));dr.RQ(m,R,q);this.p(m);this.XL()}};
i1.curv.prototype.pU=function(j,n,Q,a,B){var m=this.value,R=this.c7,q=(R[0]+R[1]+R[2])/3,U=this.GE.j().indexOf(!0)-1;
if(U<=-1){}else for(var v=0;v<3;v++){var l=dr.Js(m,1+v);if(U==0)l[0].v.Hrzn.v=R[v];if(U==1){var b=Math.log(R[v]/255)/Math.log(q/255),D=Math.min(999,Math.max(10,Math.round(100*b)));
if(l.length==2)l.splice(1,0,K.u(l[0]));l[1].v.Hrzn.v=127-Math.log(D/100)*127;l[1].v.Vrtc.v=127}if(U==2)l[l.length-1].v.Hrzn.v=R[v];
dr.RQ(m,1+v,l)}this.p(m);this.XL();this.p7();this.c7=null};i1.curv.prototype.p=function(j){this.value=j;
this._J()};i1.curv.prototype.IV=function(j){this.T3=j;this._J()};i1.curv.prototype.j=function(j){return K.u(this.value)};
i1.curv.prototype.ll=function(){var j=this._b.j(),n=this.T3,Q=this.value,a=K.ahY(j,n);for(var v=0;v<4;
v++){var B=a[v][0],m=a[v][1],R=a[v][2],q=[K.c0.yH(B,0,!0),K.c0.yH(m,255,!0)];if(R!=null)q.splice(1,0,K.c0.yH(128,R,!0));
dr.RQ(Q,v,q)}this._J();this.XL()};i1.expA=function(){i1.call(this,"expA");this.Vx.push(new i5([12,5],-20,20,null,2,!0));
this.Vx.push(new i5([12,6],-.5,.5,null,2));this.Vx.push(new i5([12,7],.01,9.99,null,2,!0));this.Ei()};
i1.expA.prototype=new i1;i1.expA.prototype.zV=function(j,n){n[0]=j.Exps.v;n[1]=j.Ofst?j.Ofst.v:0;n[2]=j.gammaCorrection?j.gammaCorrection.v:1};
i1.expA.prototype.Il=function(j,n){j.Exps={t:"doub",v:n[0]};j.Ofst={t:"doub",v:n[1]};j.gammaCorrection={t:"doub",v:n[2]}};
i1.grdm=function(){i1.call(this,"grdm");this.Vx.push(new c_(!0,null,!0));this.Vx.push(new k9([12,23,0]));
this.Ei()};i1.grdm.prototype=new i1;i1.grdm.prototype.zV=function(j,n){n[0]=j.Grad.v;n[1]=j.Rvrs?j.Rvrs.v:!1};
i1.grdm.prototype.Il=function(j,n){j.Grad.v=n[0];j.Rvrs={t:"bool",v:n[1]}};i1.grdm.prototype.sW=function(j,n){this.Vx[0].Hd(j.Z4,j.g7);
if(n==b3.Od||n==b3.Wz||n==b3.oy)this.Vx[0].gn(j.z_)};i1.selc=function(){i1.call(this);var j=this.Z;this.JM=[];
this.T_=null;this.M1=new hQ([12,82],k8.m7.concat([[13,1,8],[13,1,13],[13,1,10]]));this.M1.P(x.E.f,this.ww,this);
j.appendChild(this.M1.Z);V.pd(j);for(var v=0;v<4;v++){var n=new i5(k8.ard[v],-100,100,"%");n.P(x.E.f,this.ww,this);
this.JM.push(n);j.appendChild(n.Z)}this.bF=new k9([13,3]);j.appendChild(this.bF.Z);this.bF.P(x.E.f,this.ww,this)};
i1.selc.prototype=new i1;i1.selc.prototype.S=function(){this.M1.S();this.bF.S();for(var v=0;v<4;v++)this.JM[v].S()};
i1.selc.prototype.p=function(j){this.T_=K.u(j);this.HD()};i1.selc.prototype.j=function(j){return K.u(this.T_)};
i1.selc.prototype.ww=function(j){if(j.target!=this.M1){var n=this.T_,Q=[];for(var v=0;v<4;v++)Q[v]=this.JM[v].j();
cG.RQ(n,this.M1.j(),Q);n.Mthd={t:"enum",v:{CrcM:this.bF.j()?"Absl":"Rltv"}}}this.HD();this.XL()};i1.selc.prototype.HD=function(){var j=this.T_,n=cG.Js(j,this.M1.j());
for(var v=0;v<4;v++)this.JM[v].p(n[v]);this.bF.p(j.Mthd?j.Mthd.v.CrcM=="Absl":!1)};i1.blwh=function(){i1.call(this,"blwh");
this.Vx.push(new k9([12,11]));this.Vx.push(new ci(!0));for(var v=0;v<6;v++)this.Vx.push(new i5(k8.m7[v],-200,300));
this.Ei()};i1.blwh.prototype=new i1;i1.blwh.prototype.zV=function(j,n){n[0]=j.useTint.v;n[1]=j.tintColor.v;
var Q="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var v=0;v<6;v++)n[2+v]=j[Q[v]].v};i1.blwh.prototype.Il=function(j,n){j.useTint.v=n[0];
j.tintColor.v=n[1];var Q="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var v=0;v<6;v++)j[Q[v]].v=n[2+v]};
i1.hue2=function(){i1.call(this);this.value=null;this.D3=null;this.hn=null;this.aDx=[[0,0,0],[0,50,0]];
var j=this.Z;this.GE=new is(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.GE.P(x.E.f,this.aCk,this);this.GE.P(x.E.f,this.Jl,this);j.appendChild(this.GE.Z);var n=this.Vx=[new hQ([12,12],["Master"].concat(k8.m7)),new i5([12,8],-180,180),new i5([12,9],-100,100),new i5([12,10],-100,100),new k9([12,11])];
for(var v=0;v<n.length;v++){var Q=n[v];Q.P(x.E.f,v==0?this._J:this.aCf,this);j.appendChild(Q.Z)}this.M1=n[0];
this.aH2=n[1];this.SC=n[2];this.a3w=n[3];this.CV=n[4];this.Ey=new is("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.Ey.P(x.E.f,this.aCk,this);this.Ey.P(x.E.f,this.Jl,this);this.Ey.Z.style.marginLeft="20px";j.appendChild(this.Ey.Z);
this.akw=V.d("div");j.appendChild(this.akw);this.H1=this.qM.bind(this);this.Jf=this.cW.bind(this);this.q$=V.d("canvas");
this.Pf=this.q$.getContext("2d");this.LT=null;V.as(this.q$);V.w9(this.q$,282,18);j.appendChild(this.q$);
V.ON(this.q$,this.hz.bind(this))};i1.hue2.prototype=new i1;i1.hue2.prototype.rs=function(j,n){V.w9(this.q$,Math.round(j),18);
if(this.value)this._J()};i1.hue2.prototype.aCk=function(j){var n=j.target.j().indexOf(!0);if(n==-1)return;
if(j.target==this.GE)this.Ey.p([!1,!1,!1]);else this.GE.p([!1,!1,!1])};i1.hue2.prototype.hz=function(j){if(this.M1.j()==0||this.CV.j())return;
var n=V.MR(j,this.q$).x/(this.q$.width/V.lS()),m=1e6;function Q(D,c,_){return D<c&&c<_||_<D&&(D<c||c<_)}var a=this.gB(),B=-1;
for(var v=0;v<4;v++){var R=Math.abs(n-(a[v]+v*1e-5));if(R<m){m=R;B=v}}if(m>.025){B=-1;var q=a[0],U=a[1],l=a[2],b=a[3];
if(Q(q,n,U))B=4;if(Q(U,n,l))B=5;if(Q(l,n,b))B=6}if(B==-1)return;this.LT=B;V.NF(document.body,this.H1);
V.GL(document.body,this.Jf)};i1.hue2.prototype.qM=function(j){var n=V.MR(j,this.q$).x/(this.q$.width/V.lS()),Q=this.gB(),a=this.LT;
for(var v=1;v<4;v++)if(Q[v]<Q[v-1]){Q[v]+=1}if(a<4){var B=1e6,m=0;for(var v=-20;v<20;v++){var R=Math.abs(Q[a]-(n+v));
if(R<B){B=R;m=v}}n+=m;Q[a]=n;for(var v=a+1;v<4;v++)if(Q[v]<Q[v-1]){Q[v]=Q[v-1]}for(var v=a-1;v>=0;v--)if(Q[v]>Q[v+1]){Q[v]=Q[v+1]}}else{var q=n-(Q[a-4]+Q[a-3])/2;
if(q<-.5)q+=1;if(a==4){Q[0]+=q;Q[1]+=q;Q[2]=Math.max(Q[1],Q[2]);Q[3]=Math.max(Q[1],Q[3])}if(a==5)for(var v=0;
v<4;v++)Q[v]+=q;if(a==6){Q[2]+=q;Q[3]+=q;Q[0]=Math.min(Q[0],Q[2]);Q[1]=Math.min(Q[1],Q[2])}}for(var v=1;
v<4;v++)if(Q[v]<Q[v-1])throw"e";this.a8Q(Q);this._J();this.XL()};i1.hue2.prototype.cW=function(j){V.na(document.body,this.H1);
V.rq(document.body,this.Jf)};i1.hue2.prototype.S=function(){for(var v=0;v<this.Vx.length;v++)this.Vx[v].S()};
i1.hue2.prototype.aCf=function(j){var n=this.value.Clrz.v=this.CV.j();if(n)this.M1.p(0);if(j&&j.target==this.CV){var Q=n?1:0;
this.aDx[1-Q]=az.Js(this.value,0);var a=this.aDx[Q];az.RQ(this.value,0,a);if(this.M1.j()==0){this.aH2.p(a[0]);
this.SC.p(a[1]);this.a3w.p(a[2])}}var B=this.M1.j(),m=az.Js(this.value,B),a=B==0?m:m.gY;a[0]=this.aH2.j();
var R=this.SC.j();a[1]=n?Math.max(0,R):R;a[2]=this.a3w.j();az.RQ(this.value,B,m);this._J();this.XL()};
i1.hue2.prototype._J=function(){var j=this.M1.j(),n=this.value.Clrz?this.value.Clrz.v:!1;this.CV.p(n);
this.M1.Q7(!n);this.Ey.Q7(!n&&j!=0);var Q=az.Js(this.value,j),a=j==0?Q:Q.gY;this.aH2.p(a[0]);this.SC.p(a[1]);
this.a3w.p(a[2]);var B=this.q$.width,m=this.q$.height,R=this.Pf;R.clearRect(0,0,B,m);if(n||j==0){this.akw.innerHTML="";
return}var q=Q.ei;this.akw.innerHTML=q[0]+"\xB0 / "+q[1]+"\xB0<span style=\"float:right\">"+q[2]+"\xB0 \\ "+q[3]+"\xB0</span>";
var U=K.U(B*4);jf.aed(U,1,B,-1,.5);var l=new ImageData(new Uint8ClampedArray(U.buffer),B,1),b=Math.round(m/4);
for(var v=0;v<b;v++)R.putImageData(l,0,v);function D(F,k,I){R.fillStyle=I;var e=b*2;if(F<=k)R.fillRect(F*B,e,(k-F)*B,b);
else{R.fillRect(0,e,k*B,b);R.fillRect(F*B,e,(1-F)*B,b)}}var c=this.gB();D(c[0],c[1],"#888888");D(c[1],c[2],"#cccccc");
D(c[2],c[3],"#888888");R.fillStyle="#ffffff";R.lineWidth=1;R.beginPath();var _=b+.5,p=4*b+.5;for(var v=0;
v<4;v++){var X=Math.floor(B*c[v])+.5,g=(v<2?-1:1)*b*(v==1||v==2?1:2);R.moveTo(X,_);R.lineTo(X,p);R.lineTo(X+g,p);
R.lineTo(X+g,b+b+.5);R.closePath()}R.fill();R.stroke()};i1.hue2.prototype.gB=function(){var j=this.M1.j(),n=az.Js(this.value,j).ei;
for(var v=0;v<4;v++)n[v]=(1000.5+n[v]/360)%1;return n};i1.hue2.prototype.a8Q=function(j){var n=this.M1.j(),Q=az.Js(this.value,n);
for(var v=0;v<4;v++)Q.ei[v]=Math.round(36e3+(j[v]-.5)*360)%360;az.RQ(this.value,n,Q)};i1.hue2.prototype.GH=function(){return!0};
i1.hue2.prototype.aCq=function(){var j=this.GE.j().indexOf(!0),n=this.Ey.j().indexOf(!0);return j!=-1?j:n!=-1?n+1:-1};
i1.hue2.prototype.v1=function(j,n,Q,a,B){var m=this.aCq();if(m==-1)return;var R=this.value;this.value=fo.cL("hue2");
this.XL();var q=N.Yc.Za(j,B,1,null,!0);this.p(R);var U=[q>>>16&255,q>>>8&255,q&255],l=K.Qq(U[0]/255,U[1]/255,U[2]/255);
if(m==0){this.M1.p(1+Math.round(l.WC*6)%6)}else{var b=this.gB(),D=.5+l.WC,c=1/12,_=b[1],p=b[2];if(p<_){p++;
if(D<_&&D+1-p<_-D)D++}var X=_<=D&&D<=p;if(m==1){_=D-c/2;p=D+c/2}else if(m==2&&!X){_=Math.min(D,_);p=Math.max(D,p)}else if(m==3&&X){if(D-_<p-D)_=D;
else p=D}b=[_-c,_,p,p+c];this.a8Q(b)}this.XL();this.D3=B.x;this.hn=this.SC.j()};i1.hue2.prototype.Z3=function(j,n,Q,a,B){var m=this.aCq();
if(m==-1)return;if(m==0){if(this.D3!=null){var R=B.x-this.D3;R=Math.max(-100,Math.min(100,this.hn+.5*R));
this.SC.p(R);this.aCf()}}};i1.hue2.prototype.pU=function(j,n,Q,a,B){this.D3=null};i1.hue2.prototype.p=function(j){this.value=K.u(j);
var n=this.value.Clrz?this.value.Clrz.v:!1;this.aDx[n?1:0]=az.Js(this.value,0);this._J()};i1.hue2.prototype.j=function(j){return K.u(this.value)};
i1.levl=function(){function j(){i1.call(this);this.value=null;this.T3=null;this.RV=[new eE(0,0),new eE(0,0),new eE(0,0),new eE(0,0),new eE(0,0)];
this.lJ=-1;this.H1=this.qM.bind(this);this.Jf=this.cW.bind(this);var n=this.Z;this.DC=new hQ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.DC.P(x.E.f,this._J,this);n.appendChild(this.DC.Z);this._b=new kG;this._b.parent=this;this._b.P(x.E.f,this.ll,this);
n.appendChild(this._b.Z);var Q=V.d("div","");n.appendChild(Q);var a=V.d("div","");n.appendChild(a);this.q$=V.d("canvas");
Q.appendChild(this.q$);this.Pf=this.q$.getContext("2d");this.OV=new eE(256,120);V.v(this.q$,"display:block");
V.as(this.q$);V.ON(this.q$,this.hz.bind(this));this.QW=V.d("canvas","");a.appendChild(this.QW);this.BD=this.QW.getContext("2d");
this.dn=new eE(this.OV.x,40);V.v(this.QW,"display:block");V.as(this.QW);V.ON(this.QW,this.atP.bind(this));
var B=this.a7v=[];for(var v=0;v<5;v++){var m=new cE(null,null,3);B.push(m);m.P(x.E.f,this.aBk,this);
(v<2||v==4?Q:a).appendChild(m.Z)}Q.appendChild(B[1].Z);this.GE=new is("Sample from image",aY.cH(["#000000","#888888","#ffffff"]),!0,null,!0);
this.GE.P(x.E.f,this.Jl,this);n.appendChild(this.GE.Z);this.rs(250,100)}j.prototype=new i1;j.prototype.ll=function(){var n=this._b.j(),Q=this.T3,a=this.value,B=K.ahY(n,Q);
for(var v=0;v<4;v++){var m=B[v][0],R=B[v][1],q=B[v][2],U=[K.c0.yH(m,0,!0),K.c0.yH(R,255,!0)];if(q!=null)U.splice(1,0,K.c0.yH(128,q,!0));
var l=[~~m,~~R,0,255,q==null?100:~~(100+.75*100*(q-128)/128)];kp.RQ(a,v,l)}this._J();this.XL()};j.prototype.rs=function(n,Q){n+=6;
this.OV.x=this.dn.x=n;V.w9(this.q$,n,this.OV.y,this.Pf);V.w9(this.QW,n,this.dn.y,this.BD);var a=this.a7v;
V.v(a[3].Z,"margin-left: "+(n-104)+"px");V.v(a[4].Z,"margin: 0 "+(n/2-74)+"px");if(this.value)this._J()};
j.prototype.S=function(){this.DC.S()};j.prototype.aBk=function(n){var Q=[];for(var v=0;v<5;v++){var a=255,B=1;
if(v==4){a=999;B=100}var m=parseFloat(this.a7v[v].j());Q[v]=Math.max(0,Math.min(a,m*B))}kp.RQ(this.value,this.DC.j(),Q);
this._J();this.XL()};j.prototype._J=function(n){var Q=this.OV.x,a=this.OV.y,B=this.DC.j(),m=this.Pf;
m.clearRect(0,0,Q,a);m.fillStyle="#cccccc";m.fillRect(8,8,Q-16,a-16-8);if(this.T3){var R=this.T3[0].slice(0),p=0;
if(B==0){R.fill(0);var q=K.u(this.value);kp.RQ(q,0,[0,255,0,255,100]);var U=k8.Ya("levl",q),l=[U.SV,U.HA,U.Er];
for(var b=0;b<3;b++){var D=this.T3[1+b],c=l[b];for(var v=0;v<256;v++)R[~~(c[v]*255)]+=D[v]}}var _=B==0?R:this.T3[B];
for(var v=0;v<_.length;v++)p+=_[v];m.fillStyle="#333333";m.beginPath();m.moveTo(8,a-16);for(var v=0;
v<256;v++){var X=55*_[v]/p;m.lineTo(8+v/256*(Q-16),Math.max(8,a-16-a*X))}m.lineTo(Q-8,a-16);m.closePath();
m.fill()}var g=kp.Js(this.value,B);for(var v=0;v<5;v++)this.a7v[v].p(g[v]/(v==4?100:1));this.RV[0].OI(8+g[0]/255*(Q-16),a-14);
this.RV[1].OI(8+g[1]/255*(Q-16),a-14);var F=Math.log(g[4]/100)/Math.log(9.99);F=.5-F/2;this.RV[4].OI(this.RV[0].x+F*(this.RV[1].x-this.RV[0].x),a-14);
this.VL(m,this.RV[0],"#000000");this.VL(m,this.RV[1],"#ffffff");this.VL(m,this.RV[4],"#777777");var Q=this.dn.x,a=this.dn.y;
m=this.BD;m.clearRect(0,0,Q,a);var k=m.createLinearGradient(0,0,Q-16,0);k.addColorStop(0,"black");k.addColorStop(1,"white");
m.fillStyle=k;m.fillRect(8,8,Q-16,16);this.RV[2].OI(8+g[2]/255*(Q-16),a-14);this.RV[3].OI(8+g[3]/255*(Q-16),a-14);
this.VL(m,this.RV[2],"#000000");this.VL(m,this.RV[3],"#ffffff")};j.prototype.VL=function(n,Q,a){n.fillStyle=a;
n.fillRect(Q.x-5,Q.y,10,10)};j.prototype.hz=function(n){var Q=V.MR(n,this.q$),a=this.atD([0,1,4],Q);
if(a!=-1)this.lJ=a;this.ag7()};j.prototype.atP=function(n){var Q=V.MR(n,this.QW),a=this.atD([2,3],Q);
if(a!=-1)this.lJ=a;this.ag7()};j.prototype.atD=function(n,Q){var a=-1,B=1e9;for(var v=0;v<n.length;v++){var m=Math.abs(this.RV[n[v]].x-Q.x);
if(m<B){B=m;a=n[v]}}return B<16?a:-1};j.prototype.ag7=function(n){if(this.lJ==-1)return;V.NF(document.body,this.H1);
V.GL(document.body,this.Jf)};j.prototype.qM=function(n){var Q=kp.Js(this.value,this.DC.j()),a=V.MR(n,this.lJ==2&&this.lJ==3?this.QW:this.q$),B=255*(a.x-8)/(this.OV.x-16);
B=Math.max(0,Math.min(255,B));if(this.lJ==0)B=Math.min(B,Q[1]-2);if(this.lJ==1)B=Math.max(B,Q[0]+2);
if(this.lJ!=4)Q[this.lJ]=Math.round(B);else{var m=(B-Q[0])/(Q[1]-Q[0]);m=1-2*m;m=Math.pow(9.99,m);Q[4]=Math.min(999,Math.max(10,Math.round(m*100)))}kp.RQ(this.value,this.DC.j(),Q);
this._J();this.XL()};j.prototype.cW=function(n){V.na(document.body,this.H1);V.rq(document.body,this.Jf);
this.lJ=-1};j.prototype.GH=function(){return!0};j.prototype.pU=function(n,Q,a,B,m){var R=this.value,q=this.GE.j().indexOf(!0);
if(q==-1)return;this.value=fo.cL("levl");this.XL();var U=N.Yc.Za(n,m,1,null,!0),l=[U>>>16&255,U>>>8&255,U&255];
for(var v=0;v<3;v++){var b=kp.Js(R,1+v);if(q==0)b[0]=l[v];if(q==1){var D=Math.log(l[v]/255)/Math.log((l[0]+l[1]+l[2])*.333/255);
b[4]=Math.min(999,Math.max(10,Math.round(100*D)))}if(q==2)b[1]=l[v];kp.RQ(R,1+v,b)}this.p(R);this.XL()};
j.prototype.p=function(n){this.value=n;this._J()};j.prototype.IV=function(n){this.T3=n;this._J()};j.prototype.j=function(n){return K.u(this.value)};
return j}();i1.phfl=function(){i1.call(this,"phfl");this.Vx.push(new ci);this.Vx.push(new i5([12,74],0,100,"%"));
this.Vx.push(new k9([13,4]));this.Ei()};i1.phfl.prototype=new i1;i1.phfl.prototype.zV=function(j,n){n[0]=j.Clr.v;
n[1]=j.Dnst.v;n[2]=j.PrsL.v};i1.phfl.prototype.Il=function(j,n){var Q=K.Gp.qF(n[0]),a=j.Clr.v,B=K.Bd(Q.n,Q.i,Q.b);
a.Lmnc.v=B.Cm;a.A.v=B.NX;a.B.v=B.b;j.Dnst.v=n[1];j.PrsL.v=n[2]};i1.vibA=function(){i1.call(this,"vibA");
this.Vx.push(new i5([12,13],-100,100,null));this.Vx.push(new i5([12,9],-100,100,null));this.Ei()};i1.vibA.prototype=new i1;
i1.vibA.prototype.zV=function(j,n){n[0]=j.vibrance?j.vibrance.v:0;n[1]=j.Strt?j.Strt.v:0};i1.vibA.prototype.Il=function(j,n){j.vibrance.v=n[0];
j.Strt.v=n[1]};i1.thrs=function(){i1.call(this,"thrs");this.Vx.push(new i5([4,13],1,255,null));this.Ei()};
i1.thrs.prototype=new i1;i1.thrs.prototype.zV=function(j,n){n[0]=j.Lvl.v};i1.thrs.prototype.Il=function(j,n){j.Lvl.v=n[0]};
i1.mixr=function(){i1.call(this);var j=this.Z;this.JM=[];this.T_=null;this.M1=new hQ([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aF4=!1;this.M1.P(x.E.f,this.ww,this);j.appendChild(this.M1.Z);V.pd(j);this.At=new k9([12,60]);j.appendChild(this.At.Z);
this.At.P(x.E.f,this.ww,this);for(var v=0;v<4;v++){var n=new i5([[13,1,1],[13,1,4],[13,1,5],[13,2]][v],-200,200,"%");
n.P(x.E.f,this.ww,this);this.JM.push(n);j.appendChild(n.Z)}};i1.mixr.prototype=new i1;i1.mixr.prototype.S=function(){this.M1.S();
this.At.S();for(var v=0;v<4;v++)this.JM[v].S()};i1.mixr.prototype.p=function(j){this.T_=K.u(j);this.HD()};
i1.mixr.prototype.j=function(j){return K.u(this.T_)};i1.mixr.prototype.ww=function(j){if(j.target!=this.M1){var n=k8.Ng(this.T_);
if(j.target==this.At){n.At=this.At.j();if(n.At)n.J=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else n.J=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var Q=(n.At?0:this.M1.j())*5,v=this.JM.indexOf(j.target);
n.J[Q+(v<3?v:4)]=j.target.j()}this.T_=k8.Yn(n)}this.HD();this.XL()};i1.mixr.prototype.HD=function(){var j=k8.Ng(this.T_);
if(j.At!=this.aF4)this.M1.MD(j.At?[[13,1,7]]:k8.ql);this.aF4=j.At;this.At.p(j.At);var n=(j.At?0:this.M1.j())*5;
for(var v=0;v<4;v++)this.JM[v].p(j.J[n+(v<3?v:4)])};i1.post=function(){i1.call(this,"post");this.Vx.push(new i5([4,1],2,255,null));
this.Ei()};i1.post.prototype=new i1;i1.post.prototype.zV=function(j,n){n[0]=j.Lvls.v};i1.post.prototype.Il=function(j,n){j.Lvls.v=n[0]};
i1.clrL=function(){i1.call(this,"clrL");this.Vx.push(new fE("LUTs"));this.Ei()};i1.clrL.prototype=new i1;
i1.clrL.prototype.zV=function(j,n){n[0]=j};i1.clrL.prototype.Il=function(j,n){var Q=n[0];for(var a in Q)j[a]=Q[a]};
i1.clrL.prototype.sW=function(j,n){if(n==b3.Od||n==b3.Xm)this.Vx[0].gn(j.aG1)};i1.rplc=function(){i1.call(this,"rplc");
this.Vx.push(new i5([12,92],0,200));this.Vx.push(new ci);this.Vx.push(new i5([12,8],-180,180));this.Vx.push(new i5([12,9],-100,100));
this.Vx.push(new i5([12,10],-100,100));this.Ei()};i1.rplc.prototype=new i1;i1.rplc.prototype.zV=function(j,n){n[0]=j.Fzns.v;
n[1]=j.Mxm.v;n[2]=j.H.v;n[3]=j.Strt.v;n[4]=j.Lght.v};i1.rplc.prototype.Il=function(j,n){function Q(B,m){m.Lmnc.v=B.Cm;
m.A.v=B.NX;m.B.v=B.b}j.Fzns.v=n[0];j.H.v=n[2];j.Strt.v=n[3];j.Lght.v=n[4];var a=K.Gp.qF(n[1]),B=K.Bd(a.n,a.i,a.b);
Q(B,j.Mnm.v);Q(B,j.Mxm.v)};i1.fade=function(){i1.call(this,"fade");this.Vx.push(new i5([12,0],0,100,"%"));
this.Vx.push(new hQ([12,19,0],af.Z1,af.vb));this.Ei()};i1.fade.prototype=new i1;i1.fade.prototype.zV=function(j,n){n[0]=j.Opct.v.val;
n[1]=af.de.indexOf(j.Md.v.BlnM)};i1.fade.prototype.Il=function(j,n){j.Opct.v.val=n[0];j.Md.v.BlnM=af.de[n[1]]};
i1.aply=function(){var j=af.de.concat(["Add","Sbtr"]);j.splice(21,1);var n=af.Z1.concat([[15,10,28],[15,10,21]]);
n.splice(21,1);var Q=af.vb.slice(0);Q[4]--;function a(){i1.call(this,"aply");this.Vx.push(new hQ([0,3],[]));
this.Vx.push(new hQ([12,4],["RGB"].concat(k8.ql).concat(["Transparency"])));this.Vx.push(new k9([4,11]));
this.Vx.push(new hQ([12,19,0],n,Q));this.Vx.push(new i5([12,0],0,100,"%"));this.Vx.push(new i7([12,38],1,2,null,2));
this.Vx.push(new i7([12,6],-255,255));this.Vx.push(new k9([13,5]));this.Ei([2]);this.atV=null}a.prototype=new i1;
a.prototype.zV=function(B,m,R){if(R){var q=R[2].T,U=this.atV=[];for(var v=0;v<q.length;v++){var l=q[v].getName();
U.push(l.length<30?l:l.slice(0,27)+"...")}U.reverse();this.Vx[0].MD([[5,7]].concat(U),[1,U.length])}else var U=this.atV;
B=B.With.v;var b=B.T.v;m[0]=b[1].t=="name"?1+U.indexOf(b[1].v.val):0;m[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(b[0].v.enum);
m[2]=B.Invr.v;var D=B.Clcl.v.Clcn;m[3]=j.indexOf(D);m[4]=B.Opct.v.val;m[5]=B.Scl.v;m[6]=B.Ofst.v;m[7]=B.PrsT.v};
a.prototype.Il=function(B,m){B=B.With.v;var R=B.T.v;if(m[0]==0)R[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else R[1]={t:"name",v:{classID:"Lyr",val:this.atV[m[0]-1]}};R[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][m[1]];
B.Invr.v=m[2];var q=B.Clcl.v.Clcn=j[m[3]];B.Opct.v.val=m[4];B.Scl.v=m[5];B.Ofst.v=m[6];B.PrsT.v=m[7];
var U=q=="Add"||q=="Sbtr";this.Vx[5].Q7(U);this.Vx[6].Q7(U)};return a}();i1.matc=function(){var j,n,Q=0;
function a(){i1.call(this,"matc");this.Vx.push(new i5("Luminance",1,200));this.Vx.push(new i5("Color Intensity",1,200));
this.Vx.push(new i5([2,11],0,100,"%"));this.Vx.push(new k9("Neutralize"));this.Vx.push(new hQ([12,70],[]));
this.Vx.push(new hQ([0,3],[]));this.Ei([2])}function B(m,R){m.Vx[5].MD([[5,7]].concat(R),[1,R.length])}a.prototype=new i1;
a.prototype.zV=function(m,R,q){Q=0;R[0]=m.Lght.v;R[1]=m.ClrR.v;R[2]=m.Fade.v;R[3]=m.neutralizeColor?m.neutralizeColor.v:!1;
R[4]=R[5]=0;var U=m.Srce;if(U)U=U.v;if(q){j=[];n=[];var l=q[2],b=q[3];for(var v=0;v<b.length;v++){var D=b[v];
j.push(D.name);var c=D.T,_=[];n.push(_);for(var p=0;p<c.length;p++)_.push(c[p].getName());_.reverse()}this.Vx[4].MD([[13,1,0]].concat(j),[1,j.length]);
var X=b.indexOf(l);if(U)X=j.indexOf(U[1].v.val);B(this,n[X])}if(U){var g=j.indexOf(U[1].v.val);R[3]=Q=1+g;
if(U[0].t=="name")R[4]=1+n[g].indexOf(U[0].v.val)}};a.prototype.Il=function(m,R){m.Lght.v=R[0];m.ClrR.v=R[1];
m.Fade.v=R[2];m.neutralizeColor.v=R[3];if(R[4]==0){m.noReference={t:"bool",v:!0};delete m.Srce}else{if(R[4]!=Q){Q=R[4];
B(this,n[R[4]-1])}delete m.noReference;var q={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},U=n[R[4]-1];
if(R[5]!=0)q={t:"name",v:{classID:"Lyr",val:U[R[5]-1]}};m.Srce={t:"obj ",v:[q,{t:"name",v:{classID:"Dcmn",val:j[R[4]-1]}}]}}};
return a}();function ij(j,n){eD.call(this);if(j==null)return;this.id=n;this.dM=j;this.ao4=null;this.Z=V.d("div","window "+n);
this.a3L=null;this.QS=V.d("div","whead");this.akj=V.d("span","wname");this.QS.appendChild(this.akj);
this.auK=!1;this.Z.appendChild(this.QS);this.n_=this.aFZ.bind(this);this.$H=this.aBK.bind(this);this.uH=this.ayN.bind(this);
V.as(this.QS);V.ON(this.QS,this.n_);this.ain=V.d("span","cross gsicon");this.QS.appendChild(this.ain);
ij.prototype.S.call(this);V.GL(this.ain,this.awC.bind(this));this.body=V.d("div","body");this.Z.appendChild(this.body)}ij.prototype=new eD;
ij.prototype.Ys=function(){return!1};ij.prototype.GH=function(){return!1};ij.prototype.S=function(){if(this.dM==null)return;
this.akj.textContent=i4.get(this.dM)};ij.prototype.v1=function(j,n,Q,a,B){};ij.prototype.yM=function(j,n,Q,a,B){};
ij.prototype.Z3=function(j,n,Q,a,B){};ij.prototype.pU=function(j,n,Q,a,B){};ij.prototype.mZ=function(j,n,Q,a,B){};
ij.prototype.hs=function(j,n,Q,a){if(a.r(i8.mI)&&this.Rp)this.Rp();if(a.r(i8.Gm)){var B=new ar(x.E.A);
B.in=!0;N.EZ.aA3(a,B);if(B.data)n.a(B)}};ij.prototype.qi=function(j){return!1};ij.prototype.FW=function(j,n){return!0};
ij.prototype.pX=function(j,n,Q,a){};ij.prototype.sW=function(j,n){};ij.prototype.$k=function(j,n){return null};
ij.prototype.afl=function(j){return this.a3L};ij.prototype.rs=function(){};ij.prototype.close=function(){this.a(new ar(x.E._g))};
ij.prototype.aFZ=function(j){this.ao4=V.MR(j,this.Z);V.NF(window,this.$H);V.GL(window,this.uH)};ij.prototype.aBK=function(j){var n=this.Z.parentNode,Q=V.MR(j,n),a=Math.round(Q.x-this.ao4.x),B=n.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(Q.y-this.ao4.y)));
this.a3L=new eE(a,B);this.Z.style.left=a+"px";this.Z.style.top=B+"px"};ij.prototype.ayN=function(j){V.na(window,this.$H);
V.rq(window,this.uH)};ij.prototype.awC=function(j){if(this.auK){this.Rp();return}this.a(new ar("closebtn"));
this.close()};function as(){ij.call(this,"About Photopea","aboutpp");var j=this.body,n=this.aDm=V.d("img");
j.appendChild(n);V.v(this.body,"margin:0; padding:0");var Q=this.p8=V.d("div");Q.innerHTML=as.Zj;j.appendChild(Q);
var a=this.YG=V.d("span");a.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(a)}as.prototype=new ij;as.prototype.$k=function(j,n){return new eE(0,0)};as.prototype.rs=function(j,n){var Q=(j+n-42-42)/110,a,B,m;
Q=Math.sqrt((j-42)*(n-42))/50;if(j>n){V.BZ(this.body,"flexrow");a="width:"+j/2+"px; height:"+n+"px; display:block; object-fit:cover;";
B="width:"+(j/2-42)+"px; height:"+(n-42)+"px; padding:20px; font-size:"+Q+"px;";m="position:absolute;  bottom:10px; right:"+(j/2+10)+"px"}else{if(j*1.5>n)Q*=.9;
V.yZ(this.body,"flexrow");a="width:"+j+"px; height:"+n/2+"px; display:block; object-fit:cover;";B="width:"+(j-42)+"px; height:"+(n/2-42)+"px; padding:20px; font-size:"+Q+"px;";
m="position:absolute;  bottom:"+(n/2+10)+"px; right:10px"}V.v(this.aDm,a);V.v(this.p8,B);V.v(this.YG,m)};
as.prototype.S=function(){};as.prototype.pX=function(j,n,Q,a){this.aDm.setAttribute("src","promo/ivan_pp.webp")};
as.Zj="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function aU(){ij.call(this,"Are you blocking ads?","bnotify");var j=this.body,n="style=\"color:inherit\" target=\"_blank\"",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
j.style.width="540px";var a="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+n+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+n+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+Q+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+n+" href=\"img/exts.png\"><img style=\"width:100%\" src=\"img/exts.png\" /></a>";
j.innerHTML=a}aU.prototype=new ij;function f9(){ij.call(this,[0,13,0],"account");this.at=V.d("div","form scrollable");
this.body.appendChild(this.at);this.body.style.padding="0";this.KH=[new f9.V0,new f9.ov("::"+bv.xU("privacy.html")),new f9.ov(f9.ah0)];
for(var v=0;v<this.KH.length;v++)this.KH[v].parent=this;this.P("showpage",this.aFx,this)}f9.prototype=new ij;
f9.prototype.FW=function(j,n){var Q=navigator.onLine;if(!Q)alert("Go online first");return Q};f9.prototype.rs=function(j,n){V.v(this.at,"width:"+Math.min(j-40,740)+"px;  height:"+(n-38)+"px;  padding:1.5em;");
this.KH[0].rs(j,n)};f9.prototype.$k=function(j,n){return new eE(Math.max(0,Math.min(150,(j-740)/2)),Math.max(0,Math.min(100,(n-500)/2)))};
f9.prototype.aFx=function(j){V.cV(this.at);this.at.scrollTop=0;this.at.appendChild(this.KH[j.data.cb].Z)};
f9.prototype.S=function(){ij.prototype.S.call(this);for(var v=0;v<this.KH.length;v++)this.KH[v].S()};
f9.prototype.pX=function(j,n,Q){if(!navigator.onLine)return;V.cV(this.at);var a=this.KH[0];this.at.appendChild(a.Z);
a.pX();this.S()};f9.prototype.sW=function(j,n){this.pX(null,null,null)};f9.V0=function(){eD.call(this);
this.Z=V.d("div");var j=this.Z,q,U,b="font-size:1.25em;",D="text-align:center;",_="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",p="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",X="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",k=12;
this.aI=V.d("div");j.appendChild(this.aI);this.kX=new ef([0,11],!1,null,!0);V.v(this.kX.Z,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.kX.P("click",this.GX,this);j.appendChild(this.kX.Z);this.a02=new ef([0,13,1],!1,null,!0);this.a02.P("click",this.acr,this);
j.appendChild(this.a02.Z);this.agC=new ef("Business Terms",!1,null,!0);this.agC.P("click",this.aCv,this);
j.appendChild(this.agC.Z);var n=V.d("div");n.style.margin="20px 0";j.appendChild(n);var Q=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],a=this.n2=[],B=this.aB2=[],m=this.C5=V.d("div");
j.appendChild(m);for(var v=0;v<Q.length;v++){var R=V.d("span");R.textContent=Q[v];n.appendChild(R);a.push(R);
V.v(R,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
R.addEventListener("click",this.xA.bind(this));B.push(V.d("div"))}this.xA(0);var l=this.agF="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
j=B[0];var U=V.d("table"),c="style=\" "+D+b+" padding-bottom:20px;\"";U.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+X+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+p+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+p+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+X+">\t\t\t\t\t<div "+c+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+p+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+p+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+p+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+p+">\u2713</span> 3000 AI credits per month</li> \t\t\t\t\t\t\t<li><span "+p+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
j.appendChild(U);var R=new ef("Go Premium");V.v(R.Z,l+"padding:10px 0;");R.P("click",function(H){this.xA(1)},this);
U.children[0].children[1].children[1].appendChild(R.Z);this.fW=V.d("div");j.appendChild(this.fW);j=B[1];
var g=this.a8c=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.AV=[];for(var v=0;v<g.length;v++)this.AV.push(new ef("Buy: $"+g[v][0],!1,null,!0));for(var v=0;
v<this.AV.length;v++){this.AV[v].P("click",this.aau,this)}this.Xn=new ef("...",!0);V.v(this.Xn.Z,l);
j.appendChild(this.Xn.Z);U=this.afW(4,["Single user",this.AV[0],this.AV[1],this.AV[2],"Team of 5",this.AV[3],this.AV[4],this.AV[5],"Team of 20",this.AV[6],this.AV[7],this.AV[8],"Team of 50",this.AV[9],this.AV[10],this.AV[11]]);
j.appendChild(U);var F=V.d("div");j.appendChild(F);F.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.aah=new k9("I accept",!0,"");j.appendChild(this.aah.Z);this.aH5=new ef([0,13,1],!1,null,!0);this.aH5.P("click",this.acr,this);
j.appendChild(this.aH5.Z);this.a1s=new ef("I have a key",!1,null,!0);V.v(this.a1s.Z,l+" float:right; width:inherit;");
this.a1s.P("click",this.aau,this);j.appendChild(this.a1s.Z);j=B[2];this.I2=new ey;this.I2.parent=this;
this.I2.P(x.E.f,this.jc,this);j.appendChild(this.I2.Z);j=B[3];this.VY=new ef("...",!0);V.v(this.VY.Z,l);
j.appendChild(this.VY.Z);U=this.afW(3,["1000 views/mo",this.AV[k++],this.AV[k++],this.AV[k++],"5000 views/mo",this.AV[k++],this.AV[k++],this.AV[k++],"20000 views/mo",this.AV[k++],this.AV[k++],this.AV[k++]]);
j.appendChild(U);var I=V.d("p");I.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
j.appendChild(I);this.oC=new cE("Domain name (e.g. domain.com)",null,14);j.appendChild(this.oC.Z);var e=new ef("Save Domain Settings",!1,null,!0);
e.eu();j.appendChild(e.Z);e.P("click",this.aET,this)};f9.V0.prototype=new eD;f9.V0.prototype.xA=function(j){var n=typeof j=="number"?j:this.n2.indexOf(j.target);
for(var v=0;v<this.n2.length;v++)this.n2[v].style.opacity=.6;this.n2[n].style.opacity=1;V.cV(this.C5);
this.C5.appendChild(this.aB2[n])};f9.V0.prototype.rs=function(j,n){var Q=j<600?"d":" days",a=["30 days","90 days","365 days"];
if(j<600)a=["30d","90d","365d"];var B=this.a8c;for(var v=0;v<B.length;v++){this.AV[v].LY("<span>"+a[v%3]+": <sup>$</sup><big><b>"+B[v][0]+"</b></big>"+"</span>");
V.v(this.AV[v].Z,this.agF)}};f9.V0.prototype.acr=function(j){var n=new ar("showpage",!0);n.data={cb:1};
this.a(n)};f9.V0.prototype.aCv=function(j){var n=new ar("showpage",!0);n.data={cb:2};this.a(n)};f9.V0.prototype.S=function(){this.kX.LY(bv.c$()?i4.get([0,11]):i4.get([0,10]));
this.aH5.S();this.a02.S();this.agC.S()};f9.V0.prototype.ab$=function(j){var n=new ar(x.E.B,!0);n.data={Q:x.l.hy,link:"https://www.photopea.com/api/accounts#"+(j.target==this.abZ?"teams":"distributors")};
this.a(n)};f9.V0.prototype.a3k=function(j){var n=j.currentTarget==this.abT;this.abT.p(n);this.a1n.p(!n)};
f9.V0.prototype.aD4=function(j){var n=this.abT.j(),Q=this.a1K.j().trim().toLowerCase(),a=this.a0X.value.trim().toLowerCase();
if(Q.length>60){alert("Too long email address");return}if(a.length>600){alert("Too many team members");
return}a=a.split(",").join(" ").trim();a=a.replace(/\s+/g," ");if(a=="")a=[];else a=a.split(" ");var B=bv.ya();
if(B==null)B={};if(B.acc==null)B.acc={};B.acc.team={jin:n,ldr:Q,mmb:a};bv.SI(B,this.jc.bind(this));alert("Saved!");
this.pX()};f9.V0.prototype.aET=function(j){var n=this.oC.j().trim();if(!bv.c$()){alert("You have to log in first.");
return}if(bv.v7()==0){alert("Order a distributor account first.");return}var Q=bv.ya();if(Q==null)Q={};
if(Q.acc==null)Q.acc={};if(n=="")delete Q.acc.dname;else Q.acc.dname=n;bv.SI(Q,this.jc.bind(this));alert("Saved!");
this.pX()};f9.V0.prototype.aac=function(j){var n=bv.se(),v=this.SE,Q=bv.ya();if(Q==null)Q={};if(Q.acc==null)Q.acc={};
Q.acc.bto=j;bv.SI(Q,function(){});var a=f9.aea(j.split("\n"),n.pmnts[v]);aL.save(a,"photopea_invoice.pdf")};
f9.V0.prototype.a1z=function(j){var n=bv.se(),Q=bv.ya(),a=Q&&Q.acc?Q.acc.bto:null;if(a==null)a=n.name+"\n"+n.email;
var v=-1,B=j.target.Z.parentNode;while((B=B.previousSibling)!=null)v++;this.SE=v;var m=new ar(x.E.B,!0);
m.data={Q:x.l.Vg,Z8:"billto",Xo:a,yI:this.aac.bind(this)};this.a(m)};f9.V0.prototype.pX=function(){this.aI.innerHTML="";
V.cV(this.fW);if(bv.c$()){var j=bv.se(),n=j.pmnts;if(j==null)return;this.aI.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+j.name+"</span> "+j.email+" <br/>";
if(n){var Q="<h2>Payments</h2>";for(var v=0;v<n.length;v++){var a=n[v],B=new Date(a[0]*1e3);Q+="<div style=\"font-size:1.2em\">"+B.getDate()+". "+(B.getMonth()+1)+". "+B.getFullYear()+" - "+f9.amk(a)+"</div>"}this.fW.innerHTML=Q;
for(var v=0;v<n.length;v++){var m=new ef("Get Invoice",!1,null,!0);V.v(m.Z,"float:right");m.P("click",this.a1z,this);
this.fW.children[v+1].appendChild(m.Z)}}}else{}var R=bv.c$()&&bv.uz();this.Xn.Z.style.display=R?"block":"none";
if(R){var q,U,l=R,Q="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(l[0]==0){q=bv.KG(l[1])-Date.now()*(1/1e3);
U=l[1][2]==1?"Single User":"Team Of "+l[1][2]}else{q=l[1][1]-Date.now()*(1/1e3);U="Member of \""+l[1][0]+"\""}this.Xn.LY("Premium active for "+Math.round(q/(60*60*24))+" more days! ("+U+")");
var b=this.aB2[4];V.cV(b);for(var D=ks.qa();D>=648;D--){var c=1970+Math.floor(D/12),_=D%12,B=new Date(c,_,2);
Q+="<tr><td>"+c+" "+B.toDateString().split(" ")[1]+"</td><td>"+ks.ao3(D)+"</td></tr>"}b.innerHTML=Q+"</table>"}var p=bv.c$()&&bv.v7()*1e3>Date.now();
this.VY.Z.style.display=p?"block":"none";if(p){var q=bv.v7()-Date.now()/1e3;this.VY.LY("Distributor active for "+Math.round(q/(60*60*24))+" more days!")}var X=bv.ya();
this.I2.pX();if(X&&X.acc&&X.acc.dname)this.oC.p(X.acc.dname);else this.oC.p("")};f9.V0.prototype.afW=function(j,n){var Q=V.d("table");
if(!0){var a="<table><tr>";for(var v=0;v<j;v++)a+="<th>"+n[v*4]+"</th>";a+="</tr></table>";Q.innerHTML=a;
for(var v=0;v<3;v++){var B=V.d("tr"),m;Q.appendChild(B);for(var R=0;R<j;R++){m=V.d("td");m.style.width=Math.round(100/j)+"%";
B.appendChild(m);m.appendChild(n[R*4+1+v].Z)}}}return Q};f9.V0.prototype.aau=function(j){var n=this.AV.indexOf(j.currentTarget),a=30,B=1;
if(!bv.c$()){this.GX();return}if(this.aah.j()==!1&&n<12){alert("You must accept Terms of Service");return}var Q=bv.c$()&&bv.uz();
if(n!=-1){var m=this.a8c[n];a=m[1];B=m[2]}if(Q&&B<1e3){alert("You already have premium.");return}console.log(m,a,B);
if(n==-1){var R=prompt("Please enter your key");if(R!=null){bv.ag8(R,this.jc.bind(this));this.By()}return}if(a==30&&B==1){var q=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!q)return}bv.order(a,B,this.jc.bind(this));this.By()};f9.V0.prototype.jc=function(j){this.pX();this.By()};
f9.V0.prototype.GX=function(j){if(bv.c$()){bv.a0A();this.By();this.pX(null,null,null)}else bv.GX(this.avj.bind(this))};
f9.V0.prototype.avj=function(){var j=new ar(x.E.B,!0);j.data={Q:x.l.abI};this.a(j)};f9.V0.prototype.By=function(){var j=new ar(x.E.B,!0);
j.data={Q:x.l.aaS};this.a(j)};f9.ov=function(j){eD.call(this);this.Z=V.d("div");var n=this.Z,Q=this.a3G=new ef([0,13,2],!1,null,!0),a;
Q.P("click",this.agV,this);n.appendChild(Q.Z);if(j.startsWith("::")){a=V.d("iframe");V.v(a,"width:100%;height:1700px; background-color:white;");
a.setAttribute("src",j.slice(2))}else{a=V.d("div");a.innerHTML=j}n.appendChild(a)};f9.ov.prototype=new eD;
f9.ov.prototype.agV=function(j){var n=new ar("showpage",!0);n.data={cb:0};this.a(n)};f9.ov.prototype.S=function(){this.a3G.S()};
f9.ah0="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
f9.amk=function(j){var n=j[1]+" days, ";if(j[2]<1e3)return"Photopea Premium ("+n+j[2]+" user"+(j[2]==1?"":"s")+")";
else return"Photopea Distributor ("+n+j[2]+" views/month)"};f9.aea=function(j,n){j=["Bill To:"].concat(j);
var Q=new ToPDF,a=595,B=842,m=40,R=18,q=12,U=500,l=100,b=400,X=0;function D(E,z,h,d,Y){_.font.Tf=Y?"Helvetica-Bold":"Helvetica";
_.ctm=[1,0,0,1,z,h];_.font.Tfs=d?d:q;Q.PutText(_,E,0)}function c(E,z,h,d){for(var v=0;v<E.length;v++){D(E[v],z,h-v*d,null,v==0)}}var _=UDOC.getState();
Q.StartPage(0,0,a,B);D("INVOICE",a-m-140,B-m-30,30,!0);c(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],m,B-m-40,R);
var p=new Date(n[0]*1e3);c(["Date: "+p.getDate()+". "+(p.getMonth()+1)+". "+p.getFullYear(),"Transaction ID: "+n[4]],a-m-140,B-m-40-R*2,R);
var g=j.join("");for(var v=0;v<g.length;v++)X=Math.max(X,g.charCodeAt(v));if(X>256){var F=4,k=V.d("canvas"),I=k.getContext("2d"),e=0;
I.font=q*F+"px sans-serif";for(var v=0;v<j.length;v++)e=Math.max(e,I.measureText(j[v]).width);var H=Math.round(e)+20,A=j.length*F*R+20;
k.width=H;k.height=A;I.font=q*F+"px sans-serif";for(var v=0;v<j.length;v++){I.font=(v==0?"bold ":"")+q*F+"px sans-serif";
I.fillText(j[v],10,(v+1)*F*R)}document.body.appendChild(k);var Z=new Uint8Array(I.getImageData(0,0,H,A).data.buffer);
_.ctm=[H/F,0,0,A/F,m-10/F,B-m-40-100-A/F];Q.PutImage(_,Z,H,A);_.ctm=[1,0,0,1,0,0]}else c(j,m,B-m-40-100,R);
_.colr=[.8,.8,.8];_.pth={cmds:["M","L","L","L","Z"],crds:[m,U,a-m,U,a-m,U-R,m,U-R]};Q.Fill(_);_.colr=[0,0,0];
var J=[m,U,a-m,U,m,U-R,a-m,U-R,m,U-l,a-m,U-l,m,U,m,U-l,a-m,U,a-m,U-l,b,U,b,U-l],s=[];for(var v=0;v<J.length;
v+=4)s.push("M","L");_.pth={cmds:s,crds:J};Q.Stroke(_);D("Order details",m+4,U-14);D(f9.amk(n),m+4,U-R-14);
D("TOTAL:",m+4,U-l-14,null,!0);D("Price",a-m-50,U-14);D(n[3]+" USD",a-m-60,U-R-14);D(n[3]+" USD",a-m-60,U-l-14,null,!0);
D("www.Photopea.com",m,m);D("support@photopea.com",a-m-130,m);Q.ShowPage();Q.Done();return Q.buffer};
function i$(){ij.call(this,[11,14],"addguides");this.e8;this.H={c8:{bp:0}};this.aEq=null;var j=V.d("div","form");
this.body.appendChild(j);this.rt=[];this.f2=new aY(null,["Hi"]);j.appendChild(this.f2.Z);V.pd(j);this.f2.P(x.E.f,this.p9,this);
this.hP=new cE([22,4,0],null,16);this.hP.P(x.E.f,this.P3,this);this.$Z=new cE([22,4,1],null,16);this.$Z.P(x.E.f,this.P3,this);
this.Mv=new hQ(null,K.Ai.BP);this.Mv.P(x.E.f,this.P3,this);j.appendChild(this.hP.Z);j.appendChild(this.Mv.Z);
V.pd(j);j.appendChild(this.$Z.Z);this.ks=V.Ud(this,j);this.P("closebtn",this.lj,this)}i$.prototype=new ij;
i$.prototype.FW=function(j,n){return j!=null};i$.prototype.Ys=function(){return!0};i$.prototype.S=function(){ij.prototype.S.call(this);
this.hP.S();this.$Z.S();this.Mv.S();this.ks.S()};i$.prototype.sW=function(j,n){var Q=j.c8.bp;this.H.c8.bp=Q;
this.Mv.p(Q)};i$.prototype.pX=function(j,n){this.e8=j;this.aEq=JSON.stringify(j.qE());this.rt=[-1];var Q=["Global"],a=j.root.children,B=j.M5();
for(var v=0;v<a.length;v++){var m=a[v].W;if(m.add.artb){Q.push(m.getName());this.rt.push(a[v].index)}}this.f2.MD(Q);
this.f2.p(this.rt.indexOf(B));this.p9()};i$.prototype.p9=function(){var j=this.e8,n=j.qE(),Q=this.rt[this.f2.j()],a=[0,0];
if(Q!=-1){var B=j.T[Q].v_();a=[B.x,B.y]}var m=function(R,q,j,U,l){var b=R[0],D=[];for(var v=0;v<b.length;
v++)if(R[1][v]==Q&&b[v][0]==q)D.push(K.Ai.HZ(b[v][1]-a[q],j.Mp,U,l));D.sort(function(c,_){return c-_});
return D.join(", ")};this.hP.p(m(n,1,j,this.H,j._));this.$Z.p(m(n,0,j,this.H,j.q))};i$.prototype.P3=function(j){if(j&&j.currentTarget==this.Mv)this.H.c8.bp=this.Mv.j();
else{var n=this.an7(),Q=this.e8;Q.J$(n);Q.UF=!0}this.p9()};i$.prototype.an7=function(){var j=this.e8,n=j.qE(),Q=this.rt[this.f2.j()],a=[0,0];
if(Q!=-1){var B=j.T[Q].v_();a=[B.x,B.y]}var m=[];for(var R=0;R<2;R++){var q=R==0?this.$Z:this.hP,U=R==0?j.q:j._,l=q.j().replace(/,/g," ").replace(/  +/g," ").trim(),b=l==""?[]:l.split(" ");
for(var v=0;v<b.length;v++)m.push([R,K.Ai.a68(b[v],j.Mp,this.H,U)+a[R]])}for(var v=0;v<n[0].length;v++)if(n[1][v]==Q){n[0].splice(v,1);
n[1].splice(v,1);v--}for(var v=0;v<m.length;v++){n[0].push(m[v]);n[1].push(Q)}return n};i$.prototype.lj=function(j){var n=this.e8;
n.J$(JSON.parse(this.aEq));n.UF=!0;this.e8=null};i$.prototype.Rp=function(j){this.P3(j);var n=new ar(x.E.A,!0);
n.I=N.nQ;n.data={Q:"gids",eJ:JSON.parse(this.aEq),gR:this.e8.qE()};this.e8=null;this.close();this.a(n)};
function kq(j){ij.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[j],j);
this.H=null;this.e8=null;this.pB=null;var n=V.d("div","form");this.body.appendChild(n);V.v(n,"width:300px");
this.vw=new hh("Source Images",!0,!0);n.appendChild(this.vw.Z);this.ajl=new hQ([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.Dk=new k9("Order images by name");this.Dk.p(!0);var Q=this.agW=fj.Kf();for(var v=0;v<Q.length;v++)if(fj.Mi(Q[v]).ps){Q.splice(v,1);
v--}Q.push("SVG","PDF");this.iP=new hQ([12,50],Q);this.iP.p(1);this.SW=new aT;this.iP.P(x.E.f,this.n0,this);
this.fG=new hQ("Action Set",[]);this.fG.P(x.E.f,this.sW,this);this.ad_=new hQ("Action",[]);this.ajU=new k9("Apply to all opened documents");
this.aH_=new k9("Stretch inserted images");this.aH_.p(!0);this.ys=new k9("Resize");this.ys.P(x.E.f,this.av5,this);
var a=this.aey=V.d("div","label6");this.a4=new i7([12,41],1,5e3,"px",0,null,null,5);this.a4.parent=this;
this.a4.p(1e3);this.u8=new i7([12,42],1,5e3,"px",0,null,null,5);this.u8.parent=this;this.u8.p(1e3);a.appendChild(this.a4.Z);
V.pd(a);a.appendChild(this.u8.Z);if(j=="pdfpres"){n.appendChild(this.ajl.Z);n.appendChild(this.Dk.Z)}else{if(j=="batch"){n.appendChild(this.fG.Z);
V.pd(n);n.appendChild(this.ad_.Z);V.KP(n)}if(j=="mockups"){n.appendChild(this.ajU.Z);n.appendChild(this.aH_.Z);
V.pd(n)}if(j=="resize"){this.ys.p(!0)}else{n.appendChild(this.ys.Z);V.pd(n)}n.appendChild(a);this.av5();
V.KP(n);n.appendChild(this.iP.Z);n.appendChild(this.SW.Z)}var B=["VAR0 PDF",[1,8]];if(j=="cformat")B="Convert Images";
if(j=="batch")B="Process Images";if(j=="mockups")B="Generate";if(j=="resize")B="Resize Images";var m=new ef(B,!0,null,!0);
m.P("click",this.iQ,this);n.appendChild(m.Z);this.n0();this.tK=-1;this.Qv=null}kq.prototype=new ij;kq.prototype.av5=function(j){this.aey.style.display=this.ys.j()?"":"none"};
kq.prototype.n0=function(j){var n=this.agW[this.iP.j()];this.SW.to(n)};kq.prototype.iQ=function(j){this.Qv=null;
if(this.id=="mockups"&&this.pB.length>1&&this.ajU.j()){this.Qv={};this.tK=0}this.Nv()};kq.prototype.Nv=async function(){var j=Date.now(),n=this.vw.j(),Q=[],m=595,R=842,p,X,g,F;
for(var a in n)Q.push(a);if(Q.length==0){alert("No images selected");return}if(this.Dk.j())Q.sort();
var B=this.ajl.j(),q=new ToPDF,U=UDOC.getState(),l=this.agW[this.iP.j()],b=fj.Mi(l),D=this.SW.j(),c={},_=this.e8;
if(this.Qv)_=this.pB[this.tK];if(this.id=="mockups"){if(_==null){alert("Open a document with smart objects");
return}var k=_.T[_.X[0]];if(k.add.SoLd==null){k=null;for(var v=0;v<_.T.length;v++)if(_.T[v].add.SoLd)k=_.T[v];
if(k==null){alert("There are no smart objects in a current document.");return}}_.X=[_.T.indexOf(k)];
var I=k.add.SoLd;X=_.KR(I.Idnt.v);g=X.LQ;F=X.do;p=I.Sz.v}for(var e=0;e<Q.length;e++){var a=Q[e],H=n[a],A=H[0]==255,Z=fj.Ot(H.buffer),J=fj.Mi(Z),s=[{nJ:new b4,data:new ArrayBuffer(0)}],E=null;
if(Z=="psd"&&!b.ps)s=hz.a4Z(H.buffer);else if(J.ps){E=new hs("file.psd");J.z5(H.buffer,E);E.iN();if(!b.ps){if(E.HM)ji.G1(E,this.H.wR,this);
E.ge();E.D$();s=[{nJ:new b4(0,0,E.q,E._),data:E.rd().buffer}]}}else if(J.VB){s=await fj.a4_(J,H.buffer);
console.log(s)}else s=J.z5(H.buffer);if(this.id=="batch"){var z=new ar(x.E.B,!0),h=this.H,d=h.nU,Y=d[this.fG.j()];
for(var v=0;v<s.length;v++){E=fj.og(a,[s[v]]);z.data={Q:x.l.kI,uM:E};this.a(z);if(E.T.length==3)E.X=[1];
f2.aiF(E,d,Y.C5[this.ad_.j()].ID,Y.ID,this);E.ge();E.D$();s[v].nJ=new b4(0,0,E.q,E._);s[v].data=E.rd().buffer;
s[v].Mp=E.Mp;s[v].tb=E.tb;z.data={Q:x.l.gD,Vo:E};this.a(z)}}if(this.id=="mockups"){var C=new Uint8Array(s[0].data),i=s[0].nJ,M=p.Wdth.v,W=p.Hght.v;
if(!this.aH_.j()){var $=i.q,P=i._,O=$/P,G=M/W;if(G>O)$=Math.ceil(P*G);else P=Math.ceil($/G);i.x=$-i.q>>>1;
i.y=P-i._>>>1;var t=new b4(0,0,$,P),y=K.U($*P*4);K.EC(C,i,y,t);C=y;i=t}var r=N.IP.sO([C,i],new j8(M/i.q,0,0,W/i._,0,0));
X.LQ=[r.buffer,r.s];K.xu(X.LQ);X.do=r.s;_.anS(X.A8);s=[{data:_.rd().buffer,nJ:new b4(0,0,_.q,_._),Mp:_.Mp,tb:_.tb,bc:_.bc}]}if(this.ys.j()){var u=s[0].nJ,S=Math.min(this.a4.j()/u.q,this.u8.j()/u._);
if(S<1)for(var v=0;v<s.length;v++){var C=new Uint8Array(s[v].data),i=s[v].nJ,r=N.IP.sO([C,i],new j8(S*.999999,0,0,S*.999999,0,0));
s[v].data=r.buffer.buffer;s[v].nJ=r.s}}var u=s[0].nJ,w=new Uint8Array(s[0].data),dj=u.q,o=u._;if(this.id=="pdfpres"){var T=[[595,842],[842,595],[595,595],[595,0]][B];
if(B==3)T[1]=Math.round(T[0]*o/dj);var m=T[0],R=T[1],i6=Math.min(m/dj,R/o);q.StartPage(0,0,m,R);U.ctm=[dj*i6,0,0,o*i6,(m-dj*i6)/2,(R-o*i6)/2];
q.PutImage(U,A?H:w,dj,o);q.ShowPage()}else{var bH=a.split("."),bu;bH.pop();bH.push(l.toLowerCase());
if(b.ps){if(E==null){E=fj.og(a,s);E.iN()}bu=b.OR(E,E.q,E._,D,this.H)}else{var hH=[];for(var v=0;v<s.length;
v++){var dK=s[v],d8=dK.YU,d1=0;if(d8){d8=d8.split(",");if(d8[1])d1=parseInt(d8[1])}hH.push([dK.data,d1,dK.Mp,dK.bc,null,dK.tb])}bu=b.OR(hH,dj,o,D)}c[bH.join(".")]=new Uint8Array(bu)}}if(this.id=="mockups"){X.LQ=g;
X.do=F;_.anS(X.A8)}console.log(Date.now()-j);if(this.id=="pdfpres"){q.Done();this.Zg(q.buffer,"file.pdf")}else{var gH="images";
if(this.id=="mockups")gH=_.name.slice(0,_.name.length-4);if(this.Qv){for(var a in c)this.Qv[gH+"/"+a]=c[a];
this.tK++;if(this.tK==this.pB.length){this.Zg(UZIP.encode(this.Qv),"images.zip");this.Qv=null}else this.Nv()}else this.Zg(UZIP.encode(c),gH+".zip")}};
kq.prototype.Zg=function(j,n){bv.event("auto_"+this.id);aL.save(j,n)};kq.prototype.pX=function(j,n,Q,a){this.e8=j;
this.pB=Q};kq.prototype.sW=function(j,n){if(n!=null){this.H=j;var Q=j.nU,a=[];for(var v=0;v<Q.length;
v++)a.push(Q[v].ID);this.fG.MD(a)}else j=this.H;var Q=j.nU.length==0?[]:j.nU[this.fG.j()].C5,a=[];for(var v=0;
v<Q.length;v++)a.push(Q[v].ID);this.ad_.MD(a)};kq.prototype.S=function(){ij.prototype.S.call(this);this.SW.S();
this.a4.LY("Max. "+i4.get([12,41])+":");this.u8.LY("Max. "+i4.get([12,42])+":");this.vw.S();this.ajl.S();
this.Dk.S()};function cV(j){var n=fo.names[j];if(n==null)n=k8.names[j];if(j=="aply")n=[2,12];if(j=="fade")n=[2,11];
if(j=="matc")n=[4,18];if(j=="blendOptions")n=[14,10];ij.call(this,n,"afw_"+j);this.y7=j;this.pa=null;
this.a3U=null;this.So=new i1[j];this.So.P(x.E.f,this.XL,this);this.So.parent=this;this.body.appendChild(this.So.Z);
this.mS=new k9([24,18,5]);this.mS.p(!0);this.mS.P(x.E.f,this.XL,this);this.aS=new ef([1,12,2],!0,null,!0);
this.aS.P("click",this.Bi,this);this.ks=V.Ud(this);if(this.AD())this.So.gq(this.ks.Z);else{V.BZ(this.So.Z,"form");
V.BZ(this.body,"flexrow");V.v(this.So.Z,"width:312px");var Q=V.d("div");this.body.appendChild(Q);V.v(Q,"width:8em; margin-left:1em; line-height:2.3em");
Q.appendChild(this.ks.Z);Q.appendChild(this.aS.Z);Q.appendChild(this.mS.Z)}this.P("closebtn",this.Qm,this)}cV.prototype=new ij;
cV.prototype.Ys=function(){return!0};cV.prototype.AD=function(){return this.So!=null&&this.So.WX()};
cV.prototype.$k=function(){return this.AD()?new eE(0,0):ij.prototype.$k()};cV.prototype.qi=function(j){return this.So.qi(j)};
cV.prototype.GH=function(){return this.So.GH()};cV.prototype.v1=function(j,n,Q,a,B){this.So.v1(j,n,Q,a,B)};
cV.prototype.Z3=function(j,n,Q,a,B){this.So.Z3(j,n,Q,a,B)};cV.prototype.pU=function(j,n,Q,a,B){this.So.pU(j,n,Q,a,B)};
cV.prototype.FW=function(j,n){if(this.y7=="fade")return cV.aqM(j);return!0};cV.prototype.Bi=function(j){this.So.p(fo.cL(this.y7));
this.XL()};cV.prototype.XL=function(j){this.oj({Q:"edit",n8:this.So.j(),a6:!this.mS.j()})};cV.prototype.Qm=function(j){this.oj({Q:"cancel"})};
cV.prototype.Rp=function(j){if(!this.mS.j()){this.mS.p(!0);this.XL()}this.a3U=this.So.j();if(this.AD())this.XL();
this.oj({Q:"confirm"});this.close()};cV.prototype.S=function(){ij.prototype.S.call(this);this.mS.S();
if(this.So)this.So.S();this.ks.S()};cV.prototype.sW=function(j,n){if(this.So)this.So.sW(j,n)};cV.prototype.hs=function(j,n,Q,a){if(this.AD())this.So.hs(a);
else ij.prototype.hs.call(this,j,n,Q,a)};cV.prototype.pX=function(j,n,Q,a){this.pa=n.pa;var B=j.add.lnk2?j.add.lnk2:[],m,R,q=new b4(0,0,j.q,j._),U=j.T[j.X[0]],b=null;
m=U.buffer;R=U.s;var l=j.K&&this.y7=="LqFy"&&n.pa==null;if(l){R=j.K.s.O();m=K.U(R.$()*4);K.EC(U.buffer,U.s,m,R)}if(this.AD()){b=j.rd(j.X[0]-1);
if(l){var D=K.U(R.$()*4);K.EC(b,q,D,R);q=R.O();b=D}}var c=fo.cL(this.y7),_=[B,j.Kj,j,Q];if(n.pa==null){this.So.p(c,m,R,q,b,_);
if(k8.names[this.y7]){if(a.r(i8.Y2)&&this.a3U)this.So.p(this.a3U);var p=N.mC.getData(j),X=K.XG(p[0].FJ);
this.So.IV(X)}}else{var g=!1,U=j.T[this.pa.W];if(U.FI()){var F=U.vG(j);m=F.buffer;R=F.s;var k=U.add.SoLd.filterFX.v.filterFXList.v;
if(k[this.pa.index]){var I=k[this.pa.index].v;this.So.p(this.y7=="blendOptions"?I.blendOptions.v:I.Fltr.v,m,R,q,b,_);
this.So.IV(K.XG(m));g=!0}}if(!g){this.So.p(c,m,R,q,b,_);this.So.IV(K.XG(m))}}if(!this.AD()){this.XL();
var e=this.So;if(e&&e.Vx&&e.Vx[0]&&e.Vx[0].Pr&&Math.min(window.innerWidth,window.innerHeight)>500)e.Vx[0].Pr()}};
cV.prototype.oj=function(j){var n=new ar(x.E.A,!0);j.y7=this.y7;j.pa=this.pa;if(this.y7=="VaPo"){j.J=this.So.j();
j._x=this.So.a60()}n.data=j;n.I=fo.names[this.y7]||this.pa?N.KV:N.r_;n.in=!0;this.a(n)};cV.prototype.rs=function(j,n){if(!this.So.WX()){}else{this.body.style.padding="0";
this.So.rs(j,n)}};cV.aqM=function(j){if(j==null)return!1;var n=j.Pz();if(n==null||!(n.data instanceof Array)||n.data.length!=j.X.length)return!1;
for(var v=0;v<n.data.length;v++){var Q=n.data[v];if(Q.W<0&&j.Kj[-1-Q.W])return!0;if(Q.W==null||j.T[Q.W]==null||j.T[Q.W].s0!=Q.RR)return!1;
if(j.X.indexOf(Q.W)==-1)return!1}return!0};function iB(){ij.call(this,[11,0],"camera");this.data=null;
this.a2h=new eE(1,1);this.asN=[];var j=V.d("div","form hbar");this.body.appendChild(j);this.a7f=new hQ(null,[]);
this.asq=new hQ([21,0],[[21,2],[21,1]]);j.appendChild(this.asq.Z);this.G9=new hQ(null,[]);this.G9.P(x.E.f,this.amZ,this);
j.appendChild(this.G9.Z);this.av9=new ef([11,0],!1,null,!0);this.av9.P("click",this.ah5,this);j.appendChild(this.av9.Z);
this.a7c=new kC("");j.appendChild(this.a7c.Z);this.stream=null;this.Ji=V.d("video");this.Ji.setAttribute("autoplay","true");
this.body.appendChild(this.Ji);this.aDz=this.af4.bind(this);this.a4t=this.arA.bind(this);this.ahk=this.a9Q.bind(this);
this.P("closebtn",this.acX,this)}iB.prototype=new ij;iB.prototype.S=function(){ij.prototype.S.call(this);
this.asq.S();this.av9.S();this.rs(this.Uw,this.WC)};iB.prototype.rd=function(){var j=this.Ji.videoWidth,n=this.Ji.videoHeight,Q=V.d("canvas","");
Q.width=j;Q.height=n;var a=Q.getContext("2d");a.drawImage(this.Ji,0,0,j,n);var B=a.getImageData(0,0,j,n);
return{nJ:new b4(0,0,j,n),data:B.data.buffer}};iB.prototype.ah5=function(j){if(this.asq.j()==0)this.a3j();
else this.avQ()};iB.prototype.avQ=function(){var j=this.rd(),n={buffer:new Uint8Array(j.data),s:j.nJ},Q=new ar(x.E.A,!0);
Q.in=!0;Q.I=N.ir;Q.data={Q:f.OW,vT:n};this.a(Q);alert(i4.get([21,4]))};iB.prototype.a3j=function(){var j=this.rd(),n=fj.og("camera",[j]),Q=new ar(x.E.B,!0);
Q.data={Q:x.l.kI,uM:n};this.a(Q);alert(i4.get([21,5]))};iB.prototype.pX=function(j,n,Q){navigator.mediaDevices.enumerateDevices().then(this.a6Y.bind(this))};
iB.prototype.a6Y=function(j){var n=this.asN=[],Q=[];for(var v=0;v<j.length;v++)if(j[v].kind=="videoinput"){n.push(j[v]);
Q.push("Camera "+n.length)}this.G9.MD(Q);this.G9.p(0);this.amZ()};iB.prototype.amZ=function(j){this.acX();
var n={video:{deviceId:this.asN[this.G9.j()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(n).then(this.aDz).catch(this.a4t);
else navigator.webkitGetUserMedia(n,this.aDz,this.a4t)};iB.prototype.af4=function(j){this.stream=j;this.Ji.srcObject=j;
this.Ji.addEventListener("loadedmetadata",this.ahk,!1)};iB.prototype.a9Q=function(j){this.Ji.play();
this.rs(this.Uw,this.WC)};iB.prototype.$k=function(j,n){return new eE(0,0)};iB.prototype.rs=function(j,n){var Q=this.Ji.videoWidth,a=this.Ji.videoHeight;
this.a7c.p(Q+" x "+a+" px");V.v(this.a7c.Z,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.a2h.OI(Q,a);this.Uw=j;this.WC=n;var B=j-28,m=n-28-30,R=this.a2h.x/this.a2h.y;if(B/m>R)B=m*R;else m=B/R;
V.v(this.Ji,"display: block; width: "+Math.round(B)+"px; height:"+Math.round(m)+"px;")};iB.prototype.arA=function(j){console.log("error",j);
alert(i4.get([21,6]));this.close()};iB.prototype.acX=function(j){if(this.stream!=null){var n=this.stream.getTracks();
for(var v=0;v<n.length;v++)n[v].stop();this.stream=null}};function ii(){ij.call(this,[7,8],"crange");
this.e8=null;this.fQ={Cm:73,NX:4.45,b:4};this.k6={Cm:73,NX:4.45,b:4};this.body.style.width="20em";this.DM=new hQ([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.DM.P(x.E.f,this.apn,this);this.body.appendChild(this.DM.Z);this.Zj=V.d("div","form");this.body.appendChild(this.Zj);
var j=this.arp=2,n=this.ji=[new i5([12,92],0,200),new aY([12,36],[[18,0],"\uFF0B","-"]),new i5([12,92],0,100,"%"),new i7("Min",0,255),new i7("Max",0,255)];
n[0].p(40);n[j].p(40);for(var v=0;v<n.length;v++){n[v].P(x.E.f,this.HD,this);n[v].parent=this}this.q$=V.d("canvas");
this.body.appendChild(this.q$);this.ks=V.Ud(this,this.body)}ii.prototype=new ij;ii.prototype.FW=function(j,n){return j!=null};
ii.prototype.GH=function(){return!0};ii.prototype.Ys=function(){return!0};ii.prototype.apn=function(j){var n=this.DM.j(),Q=this.ji,a=this.Zj,B=0,m=Q.length,R=this.arp;
if(n==0)m=R;else{B=R;Q[B+1].p([0,100,190][n-1]);Q[B+1].Q7(n!=1);Q[B+2].p([60,150,255][n-1]);Q[B+2].Q7(n!=3)}V.cV(a);
for(var v=B;v<m;v++){a.appendChild(Q[v].Z)}this.HD()};ii.prototype.S=function(){ij.prototype.S.call(this);
this.ks.S();this.DM.S();for(var v=0;v<this.ji.length;v++)this.ji[v].S()};ii.prototype.v1=function(j,n,Q,a,B){var m=j.e.oR(B.x,B.y);
this.a6_(m.x,m.y)};ii.prototype.a6_=function(j,n){var Q=Math.min,a=Math.max,B=this.e8,m=a(0,Q(B.q-1,Math.floor(j))),R=a(0,Q(B._-1,Math.floor(n))),q=B.rd(),U=(R*B.q+m)*4,l=q[U],b=q[U+1],D=q[U+2],c=K.Bd(l,b,D),_=this.ji[1].j(),p=this.fQ,X=this.k6;
if(_==0){this.fQ=K.u(c);this.k6=c}else if(_==1){p.Cm=Q(p.Cm,c.Cm);p.NX=Q(p.NX,c.NX);p.b=Q(p.b,c.b);X.Cm=a(X.Cm,c.Cm);
X.NX=a(X.NX,c.NX);X.b=a(X.b,c.b)}else if(_==2){var g=(p.Cm+X.Cm)/2,F=(p.NX+X.NX)/2,k=(p.b+X.b)/2;if(c.Cm<g)p.Cm=a(p.Cm,c.Cm+10);
else X.Cm=Q(X.Cm,c.Cm-10);if(c.NX<F)p.NX=a(p.NX,c.NX+1);else X.NX=Q(X.NX,c.NX-1);if(c.b<k)p.b=a(p.b,c.b+1);
else X.b=Q(X.b,c.b-1)}this.HD()};ii.prototype.Rp=function(j){var n=this.DM.j(),Q=this.ji,a={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(n==0){var B=this.fQ,m=this.k6;a.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:B.Cm},A:{t:"doub",v:B.NX},B:{t:"doub",v:B.b}}};
a.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:m.Cm},A:{t:"doub",v:m.NX},B:{t:"doub",v:m.b}}};a.Fzns={t:"long",v:Q[0].j()}}else{n--;
var R=["shadows","midtones","highlights"][n];a.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][n]}};if(0<n)a[R+"LowerLimit"]={t:"long",v:Q[3].j()};
if(n<2)a[R+"UpperLimit"]={t:"long",v:Q[4].j()};a[R+"Fuzziness"]={t:"long",v:Q[2].j()}}this.close();var q=new ar(x.E.X2,!0);
q.data={ep:"colorRange",Tu:a};this.a(q)};ii.prototype.pX=function(j,n){this.e8=j;this.a6_(0,0);this.apn()};
ii.prototype.HD=function(){var j=this.e8,n=this.DM.j(),Q=this.fQ,a=this.k6,B=this.ji,m=B[0].j()/200,R=!1;
if(n>0){Q=B[3].j();a=B[4].j();if(Q>=a)Q=a-1;R=!0;m=B[2].j()/100}var q=N.NJ.xT(j,Q,a,m,R),U=q.s,l=q.G,b=this.q$,D=b.getContext("2d"),c=Math.floor(230*V.lS()),_=Math.floor(c*(U._/U.q));
b.width=c;b.height=_;V.GV(b,c,_);var p=K.U(l.length*4);p.fill(255);for(var v=0;v<3;v++)K.wj(l,p,v);var X=N.IP.sO([p,U],new j8(c/U.q,0,0,_/U._,0,0)),g=X.s,F=new ImageData(new Uint8ClampedArray(X.buffer.buffer),g.q,g._);
D.putImageData(F,0,0)};function a2(){ij.call(this,[12,76,1],"createshape");this.HX=null;var j=V.d("div","form");
V.v(j,"width:20em");this.body.appendChild(j);this.ik=new hn(!0,!0,null,!0,!0);this.ik.p(new eE(100,100));
j.appendChild(this.ik.Z);this.akW=new k9([19,5,3]);j.appendChild(this.akW.Z);this.ks=V.Ud(this,j)}a2.prototype=new ij;
a2.prototype.Rp=function(j){var n=this.ik.j();this.HX.azJ(this.HX.aAa,n.x,n.y,this.akW.j());this.close()};
a2.prototype.S=function(){if(this.HX)this.dM=i4.get([5,3])+": "+i4.get(this.HX.aBw);ij.prototype.S.call(this);
this.ks.S();this.ik.S();this.akW.S()};a2.prototype.pX=function(j,n){this.HX=n;this.S();this.ik.p(this.ik.j(),j.Mp)};
function j6(){ij.call(this,[11,1],"colorpicker");this.gm=null;this.Qy=null;this.p3=null;this.W4=!1;this.XJ=!1;
this.aDR=[.9642,1,.8249];var j=V.d("div","flexrow"),R,q;this.body.appendChild(j);this.HN=new jf(256,!0);
this.HN.P(x.E.f,this.lK,this);j.appendChild(this.HN.Z);var n=V.d("div","form");V.v(n,"width:14.5em; margin-left:1em;");
j.appendChild(n);var Q=V.d("div","flexrow");n.appendChild(Q);var a=V.d("div");Q.appendChild(a);a.style="width:95px; margin-right:14px";
this.a7b=V.d("div","full");a.appendChild(this.a7b);this.ana=V.d("div","full");a.appendChild(this.ana);
var a=V.d("col");Q.appendChild(a);a.style.width="80px";this.ks=V.Ud(this,a);var Q=V.d("div","flexrow");
n.appendChild(Q);var B=V.d("div"),m=V.d("div");Q.appendChild(B);Q.appendChild(m);B.style=m.style="margin-left:14px; max-width:80px;";
R=["H","S","B"];q=B;this.e4=[];for(var v=0;v<3;v++){var U=0,l=360,b="\xB0";if(v!=0){l=100;b="%"}var D=new i7(R[v],U,l,b,0,!1,!0);
this.e4.push(D);D.P(x.E.f,this.alv,this);q.appendChild(D.Z);if(v==2)D.Z.style.marginBottom="8px"}R=["R","G","B"];
q=B;this.qT=[];for(var v=0;v<3;v++){var D=new i7(R[v],0,255,null,0,!1,!0);this.qT.push(D);D.P(x.E.f,this.af7,this);
q.appendChild(D.Z)}R=["L","a","b"];q=m;this.V$=[];for(var v=0;v<3;v++){var U=[0,-128,-128][v],l=[100,127,127][v],D=new i7(R[v],U,l,null,0,!1,!0);
D.p(0);this.V$.push(D);D.P(x.E.f,this.awr,this);q.appendChild(D.Z);if(v==2)D.Z.style.marginBottom="8px"}R=["C","M","Y","K"];
q=m;this.PW=[];for(var v=0;v<4;v++){var D=new i7(R[v],0,100,"%",0,!1,!0);D.p(0);this.PW.push(D);D.P(x.E.f,this.a8H,this);
q.appendChild(D.Z);if(v==3)D.Z.style.marginBottom="8px"}this.hP=new cE("#",null,4.5);this.hP.P(x.E.f,this.qV,this);
B.appendChild(this.hP.Z);this.hP.Z.style.marginRight="0";this.B5=V.d("input","fitem");this.B5.setAttribute("type","color");
V.v(this.B5,"width:59px;  margin-left:19px;");this.B5.addEventListener("change",this.qV.bind(this),!1);
this.uB=new gY(9);this.uB.P(x.E.f,this.qV,this);n.appendChild(this.uB.Z);this.P("closebtn",this.Qm,this);
this.MN=!1}j6.prototype=new ij;j6.prototype.GH=function(){return!0};j6.prototype.$k=function(j,n){if(Math.min(j,n)>500)return null;
return new eE(Math.max(0,Math.min(150,(j-484)/2)),Math.max(0,Math.min(150,(n-316)/2)))};j6.prototype.rs=function(j,n){this.HN.rs(Math.min(256,j-226),n)};
j6.prototype.S=function(j,n){ij.prototype.S.call(this);for(var v=0;v<3;v++){this.qT[v].S();this.e4[v].S();
this.V$[v].S()}for(var v=0;v<4;v++)this.PW[v].S();this.ks.S()};j6.prototype.lK=function(j){this.Qy=this.HN.j();
this.update()};j6.prototype.v1=function(j,n,Q,a,B){this.MN=!0;this.ajX(j,B)};j6.prototype.Z3=function(j,n,Q,a,B){if(!this.MN)return;
this.ajX(j,B)};j6.prototype.pU=function(j,n,Q,a,B){this.MN=!1};j6.prototype.ajX=function(j,n){this.Qy=K.Hy(N.Yc.Za(j,n,1),1);
this.update()};j6.prototype.af7=function(j){var n=this.qT,Q=this.b0(parseInt(n[0].j())),a=this.b0(parseInt(n[1].j())),B=this.b0(parseInt(n[2].j()));
this.Qy={n:Q/255,i:a/255,b:B/255};this.update()};j6.prototype.alv=function(j){var n=this.e4,Q=this.eB(parseInt(n[0].j())/360),a=this.eB(parseInt(n[1].j())/100),B=this.eB(parseInt(n[2].j())/100);
this.Qy=K.JG(Q,a,B);this.update()};j6.prototype.a8H=function(j){var n=this.PW,Q=[];for(var v=0;v<4;v++){var a=this.abK(parseInt(n[v].j()));
n[v].p(a);Q.push(a/100)}var B=K.dm(Q);this.Qy={n:B[0],i:B[1],b:B[2]};this.update(!0)};j6.prototype.awr=function(j){var n=this.V$,Q=parseInt(n[0].j()),a=parseInt(n[1].j()),B=parseInt(n[2].j()),m=K.aY(Q,a,B);
this.Qy={n:m.n/255,i:m.i/255,b:m.b/255};this.update()};j6.prototype.qV=function(j){var n;if(j.currentTarget==this.uB)n=this.uB.j();
else{n=j.currentTarget==this.hP?this.hP.j():this.B5.value;if(n.charAt(0)=="#")n=n.slice(1);if(n.length==3)n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2];
n=K.aap(n)}this.Qy=K.Hy(n,1);this.update()};j6.prototype.Rp=function(j){this.acU();var n=K.G8(this.Qy,1);
this.p3(n);this.close();this.XJ=!1;this.Qy=null};j6.prototype.Qm=function(j){this.acU();if(this.W4)this.p3(K.G8(this.gm,1));
this.XJ=!1;this.Qy=null};j6.prototype.acU=function(j){var n=new ar(x.E.B,!0);n.data={Q:x.l.ag1};this.a(n)};
j6.prototype.sW=function(j,n){var Q=fF.As(j,n);if(Q!=null)this.uB.p(Q);if(n!=b3.Wz)return;if(this.Qy!=null){this.Qy=K.Hy(Q,1);
this.update()}};j6.prototype.pX=function(j,n){var Q=K.Hy(n.Cx,1);if(this.Qy)this.Qm(null);if(this.Qy==null){var a=new ar(x.E.B,!0);
a.data={Q:x.l.w4,sz:"crosshair",push:!0};this.a(a);this.MN=!1;this.p3=n.CP;this.W4=!1;this.XJ=n.Bf;this.gm=K.u(Q);
V.v(this.ana,"height:2.3em;background-color:#"+K.EA(n.Cx)+";")}this.Qy=Q;this.update()};j6.prototype.update=function(j){var n=this.Qy,Q=K.G8(n,1);
this.hP.p(K.EA(Q));this.B5.value="#"+K.EA(Q);V.v(this.a7b,"height:2.3em;background-color:#"+K.EA(Q)+";");
var a=this.qT;a[0].p(Math.round(n.n*255));a[1].p(Math.round(n.i*255));a[2].p(Math.round(n.b*255));var B=K.Qq(n.n,n.i,n.b);
a=this.e4;a[0].p(Math.round(B.WC*360));a[1].p(Math.round(B.bD*100));a[2].p(Math.round(B.n8*100));var m=K.Bd(n.n*255,n.i*255,n.b*255,this.aDR);
a=this.V$;a[0].p(Math.round(m.Cm));a[1].p(Math.round(m.NX));a[2].p(Math.round(m.b));if(j==null){var R=K.zd([n.n,n.i,n.b]);
a=this.PW;a[0].p(Math.round(R[0]*100));a[1].p(Math.round(R[1]*100));a[2].p(Math.round(R[2]*100));a[3].p(Math.round(R[3]*100))}this.HN.p(n);
if(this.XJ){this.p3(K.G8(this.Qy,1));this.W4=!0}};j6.prototype.abK=function(j){return Math.max(0,Math.min(100,j))};
j6.prototype.b0=function(j){return Math.max(0,Math.min(255,j))};j6.prototype.eB=function(j){return Math.max(0,Math.min(1,j))};
function iy(){ij.call(this,[11,2],"contoureditor");this.a20=null;this.pJ=null;this.response=null;this._Z=V.d("div","cell");
this.body.appendChild(this._Z);this.ES=V.d("div","cell padded");this.body.appendChild(this.ES);var j=V.d("div","bordered padded vmargin");
this._Z.appendChild(j);this.So=new d7(null,null,!0);this.So.P(x.E.f,this._n,this);j.appendChild(this.So.Z);
this.ks=V.Ud(this,this.ES);this.P("closebtn",this.Ju,this)}iy.prototype=new ij;iy.prototype.Rp=function(){this.close()};
iy.prototype.S=function(){ij.prototype.S.call(this);this.ks.S();this.So.S()};iy.prototype._n=function(j){this.pJ.Crv.v=this.So.j();
this.response(this.pJ)};iy.prototype.Ju=function(j){this.response(this.a20)};iy.prototype.pX=function(j,n){this.a20=K.u(n.C5);
this.pJ=n.C5;this.response=n.response;this.So.p(this.pJ.Crv.v)};function km(){ij.call(this,[11,4],"duplinto");
this.uM=null;this.pB=null;this.hE=null;var j=V.d("div","form");V.v(j,"max-width:26em");this.body.appendChild(j);
this.kH=new hQ([12,43],["abc","def"]);this.kH.P(x.E.f,this.ww,this);j.appendChild(this.kH.Z);V.pd(j);
this.wt=new hQ([1,16,0],["abc","def"]);this.wt.P(x.E.f,this.ww,this);j.appendChild(this.wt.Z);V.pd(j);
this.C9=new cE([12,48],null,14);j.appendChild(this.C9.Z);this.ks=V.Ud(this,j)}km.prototype=new ij;km.prototype.Ys=function(){return!0};
km.prototype.S=function(){ij.prototype.S.call(this);this.ks.S();this.kH.S();this.C9.S()};km.prototype.ww=function(j){if(j&&j.target==this.wt)return;
var n=this.kH.j(),Q=this.pB[n],a=this.uM,B=Q!=null&&Q.add.artd!=null;for(var v=0;v<a.X.length;v++)if(a.T[a.X[v]].add.artb)B=!1;
this.C9.Q7(n==this.pB.length);this.wt.Q7(B);if(B){var m=Q.root.children,R=[],q=this.hE=[];for(var v=0;
v<m.length;v++){var U=m[v].W;if(U.add.artb)R.push(U.getName());q.push(m[v].index)}this.wt.MD(R);this.wt.p(0)}else this.hE=null};
km.prototype.pX=function(j,n,Q){this.uM=j;this.pB=Q;this.C9.p(j.X.length==0?"Layer":j.T[j.X[0]].getName());
var a=[];for(var v=0;v<Q.length;v++){var B=Q[v].name;a.push(B.length<30?B:B.slice(0,27)+"...")}a.push([11,7]);
this.kH.MD(a);this.kH.p(Q.indexOf(j));this.ww(null)};km.prototype.Rp=function(j){var n=this.kH.j();if(n==this.pB.length){var Q=new hs(this.C9.j()+".psd"),a=this.uM.q,B=this.uM._,m=this.uM.M5();
if(m!=-1){var R=this.uM.T[m].v_();a=R.q;B=R._}Q.q=a;Q._=B;Q.buffer=K.U(Q.q*Q._*4);var q=Q.JL();q.kw("Background");
Q.xt([q]);var U=new ar(x.E.B,!0);U.in=!0;U.data={Q:x.l.kI,uM:Q};this.a(U)}var l=this.uM.Rl(null,this.uM!=this.pB[n]),U=new ar(x.E.A,!0);
U.data={Q:f.iO,T:l,Ru:this.uM,Jn:this.pB[n]};if(this.hE)U.data.Rx=this.hE[this.wt.j()];U.I=N.ir;U.in=!0;
this.a(U);this.close()};function kt(){ij.call(this,[1,9],"eassets");this.H=null;this.uM=null;var j=this.body;
V.BZ(j,"form");j.style.width="32em";this.DM=new aY(null,["Layers","Combinations"]);this.DM.P(x.E.f,this.p9,this);
j.appendChild(this.DM.Z);V.KP(j);this.Sw=V.d("span");j.appendChild(this.Sw);this.Yg=V.d("div");j.appendChild(this.Yg);
var n=V.d("div"),Q=V.d("div","flexrow");this.a8S=[n,Q];this.SU=[new k9("Only layers / folders, whose name starts with \"-e-\""),new k9("Remove parts outside the canvas"),new k9("Trim transparent parts")];
for(var v=0;v<3;v++){var a=this.SU[v];a.p(!0);a.P(x.E.f,this.p9,this);n.appendChild(a.Z);V.pd(n)}this.UD=new is([12,14,0],["1x","2x","3x","4x"]);
this.UD.p([!0,!1,!1,!1]);n.appendChild(this.UD.Z);var B=V.d("div");Q.appendChild(B);var m=V.d("img");
m.setAttribute("src",bv.xU("img/nft.png"));m.style.width="150px";Q.appendChild(m);var R=V.d("span");
R.textContent="File Names:";B.appendChild(R);this.$I=new is(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
B.appendChild(this.$I.Z);this.$I.p([!0,!1,!1]);V.KP(j);this.a5X=["PNG","JPG","SVG","TIFF","TGA"];this.bA=new hQ([12,50],this.a5X);
this.bA.P(x.E.f,this.n0,this);j.appendChild(this.bA.Z);this.SW=new aT;j.appendChild(this.SW.Z);this.ks=new ef([1,9],!0,null,!0);
this.ks.P("click",this.Rp,this);j.appendChild(this.ks.Z);this.P("closebtn",this.OT,this)}kt.prototype=new ij;
kt.prototype.n0=function(j){this.SW.to(this.a5X[this.bA.j()],!1,!1,!1,this.uM.M3()!=null)};kt.prototype.OT=function(j){this.uM=null};
kt.prototype.S=function(){ij.prototype.S.call(this);this.bA.S();this.UD.S();this.ks.S();this.SW.S()};
kt.prototype.pX=function(j,n,Q){this.uM=j;this.p9()};kt.prototype.p9=function(j){var n=this.DM.j(),Q;
V.cV(this.Yg);this.Yg.appendChild(this.a8S[n]);if(n==0){var a=this.a1B();Q=a.length+" exportable layers"}else{var a=this.ajH();
Q=a[1]+" combinations ("+a[0].join(" \xD7 ")+")"}this.Sw.textContent="- - - "+Q;this.n0(null)};kt.prototype.a1B=function(){var j=this.SU[0].j(),n=[],Q=this.uM;
for(var v=0;v<Q.T.length;v++){var a=Q.T[v],B=a.getName();if(!j&&!a.bx()&&!a.s.ke()||B.startsWith("-e"))n.push(v)}return n};
kt.prototype.ajH=function(){var j=this.uM,n=j.root.children,Q=[],a=1,B=[];for(var v=0;v<n.length;v++){var m=n[v],R=m.W;
if(R.bx()){var q=m.children.length;Q.push(q);a*=q;B.push(m.index)}R}return[Q,a,B]};kt.prototype.sW=function(j,n){this.H=j};
kt.prototype.Rp=function(j){var n=this.uM,Q=this.DM.j(),a=[this.a5X[this.bA.j()]],B=[this.SW.j()],m={};
if(Q==0){var R=this.UD.j(),q={},U=this.a1B();if(U.length==0){alert("No layers to export.");return}var l=[this.SU[1].j(),this.SU[2].j()];
for(var v=0;v<U.length;v++){var b=U[v],D=n.T[b],c=D.getName();if(q[c]!=null){q[c]++;c+=" "+q[c]}else q[c]=1;
var _=D.VH();D._a(!0);for(var p=0;p<R.length;p++){if(!R[p])continue;var X=p+1,g=N.mL.atK(n,a,X,this.H,b,B,l);
for(var F=0;F<a.length;F++){var k=a[F],I=c.slice(c.startsWith("-e-")?3:0)+(X==1?"":"@"+X+"x")+"."+k.toLowerCase();
if(g[F])m[I]=new Uint8Array(g[F])}}D._a(_)}}else{var _=[];for(var v=0;v<n.T.length;v++)_.push(n.T[v].VH());
var e=this.ajH(),H=e[0],U=e[2],A=[];function Z(z,b,h,d){if(b==z.length){d.push(h.slice(0));return}var Y=z[b];
for(var v=0;v<Y;v++){h.push(v);Z(z,b+1,h,d);h.pop(v)}}Z(H,0,[],A);var J=this.$I.j().indexOf(!0);this.TL=[A,m,U,a,B,_,J,this.apS.bind(this),0,0];
this.apS();return}var s=UZIP.encode(m),E=new ar(x.E.B,!0);E.data={Q:x.l.Vi,data:s,name:"assets.zip"};
this.a(E)};kt.prototype.apS=function(){var j=this.TL,n=j[0],Q=j[1],a=this.uM,B=j[2],m=j[3],R=j[4],q=j[5],U=j[6],l=j[7],b=0;
while(n.length!=0&&b<1e3){var D=Date.now(),c=n.shift(),_=[];for(var v=0;v<c.length;v++){var p=a.root._N(B[v]);
for(var X=0;X<p.children.length;X++)p.children[X].W._a(!1);var g=p.children[c[v]].W;_.push(U==2?g.getName():p.W.getName()+c[v]);
g._a(!0)}a.ge();a.D$();var F=(U==0?c:_).join("-")+"."+m[0].toLowerCase();Q[F]=new Uint8Array(fj.gT(a,m[0],a.q,a._,R[0],this.H));
j[8]++;j[9]+=Q[F].length;b+=Date.now()-D}if(n.length!=0){alert(j[8]+" done, "+je.LK(j[9])+".",800);setTimeout(l,35);
return}for(var v=0;v<a.T.length;v++)a.T[v]._a(q[v]);a.ge();var k=UZIP.encode(Q),I=new ar(x.E.B,!0);I.data={Q:x.l.Vi,data:k,name:"assets.zip"};
this.a(I)};function gg(){ij.call(this,"Export Color Lookup Tables","exlut");this.H=null;this.uM=null;
var j=V.d("div","form");V.v(j,"width:20em");this.body.appendChild(j);this.SU=[new i7("Grid Points",1,256),new aY([12,50],[".CUBE"])];
var n=[16,0];for(var v=0;v<this.SU.length;v++){var Q=this.SU[v];Q.p(n[v]);Q.parent=this;Q.P(x.E.f,this.p9,this);
j.appendChild(Q.Z);V.pd(j)}this.ks=V.Ud(this,j);this.P("closebtn",this.OT,this)}gg.prototype=new ij;
gg.prototype.FW=function(j,n){if(Math.min(j.q,j._)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(j.T.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};gg.prototype.OT=function(j){this.uM=null};gg.prototype.sW=function(j,n){this.H=j};
gg.prototype.pX=function(j,n,Q){this.uM=j};gg.prototype.Rp=function(){var j=this.uM,n=this.SU[0].j(),Q=[],a=new b4(0,0,j.q,j._),B=K.U(n*n*4),m=B.slice(0),R=new b4(j.q-n>>>1,j._-n>>>1,n,n),q=j.T[0],U=q.buffer,l=q.s;
q.s=R;q.buffer=B;for(var b=0;b<n;b++){this.ane(n,b,B);q.ge(R);j.ge(R);var D=j.rd();K.EC(D,a,m,R);for(var c=0;
c<n;c++)for(var _=0;_<n;_++){var p=c*n+_<<2;Q.push(m[p]/255,m[p+1]/255,m[p+2]/255)}}var X=hy.axK(Q,n,j.name);
aL.save(X,j.name.split(".")[0]+".CUBE");q.buffer=U;q.s=l;q.ge();j.ge()};gg.prototype.ane=function(j,n,Q){var a=255/(j-1),B=Math.round(n*a);
for(var m=0;m<j;m++)for(var R=0;R<j;R++){var q=m*j+R<<2;Q[q]=Math.round(R*a);Q[q+1]=Math.round(m*a);
Q[q+2]=B;Q[q+3]=255}};gg.prototype.S=function(){ij.prototype.S.call(this);for(var v=0;v<this.SU.length;
v++)this.SU[v].S();this.ks.S()};function eQ(){ij.call(this,[1,14],"finfo");this.apa=null;this.C3=null;
this.ajf=null;this.at=V.d("div","form scrollable label12");V.v(this.at,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.at);var j=V.d("div","form");this.body.appendChild(j);this.Nu=new hQ(null,["Hello"]);
j.appendChild(this.Nu.Z);this.amQ=new ef("Add Parameter",!1,null,!0);j.appendChild(this.amQ.Z);this.amQ.P("click",this.nh,this);
this.d5=new ef("=== S A V E ===",!1,null,!0);j.appendChild(this.d5.Z);this.d5.P("click",this.Zg,this);
this.a5N=""}eQ.prototype=new ij;eQ.prototype.$k=function(j,n){return j<450||n<450?new eE(0,0):new eE(150,100)};
eQ.prototype.nh=function(j){if(this.ajf.length==0)return;var n=this.ajf[this.Nu.j()],Q=this.O3();Q[n]=bZ.$i[n][0];
this.WO(Q);this.C3[n].Z.scrollIntoView();this.C3[n].Pr()};eQ.prototype.lv=function(j){var n=this.O3();
delete n[j.currentTarget.a1D];this.WO(n)};eQ.prototype.Zg=function(j){var n=this.O3(),Q=this.apa,a=!0;
for(var B in Q)if(JSON.stringify(Q[B])!=JSON.stringify(n[B]))a=!1;for(var B in n)if(JSON.stringify(Q[B])!=JSON.stringify(n[B]))a=!1;
if(a)return;var m=new ar(x.E.A,!0);m.I=N.ir;m.data={Q:f.WS,ul:n};this.a(m);this.apa=n;this.WO(n)};eQ.aBn=function(j){function n(B){var m=B.toLowerCase();
return B==m}var Q=j.split(":").pop();for(var a=1;a<Q.length-1;a++){if(Q[a]==Q[a].toUpperCase()&&(n(Q[a+1])||n(Q[a-1]))){Q=Q.slice(0,a)+" "+Q.slice(a);
a++}}return Q};eQ.prototype.pX=function(j,n){this.apa=j.bc;this.WO(j.bc)};eQ.prototype.WO=function(j){var n=this.at,B=0;
V.cV(n);var Q=this.C3={},a=["tiff","exif","exif:GPS"],m=this.ajf=[],R=[];for(var q in bZ.$i){var U=eQ.aBn(q),l=0,b=15,D=null;
if(j[q]==null){if(bZ.$i[q].length!=1||q=="photoshop:Credit"||q=="photoshop:Source"){m.push(q);R.push(U)}continue}for(var v=0;
v<a.length;v++)if(q.startsWith(a[v]))l=v;if(l!=B){V.KP(n);B=l}if(q=="tiff:ImageDescription"||q=="dc:Keywords"){b=18.5;
D=3}var c=new cE(U,null,b,D);Q[q]=c;var _=j[q];if(_ instanceof Array)_=_[1]==0?"---":_[0]+"/"+_[1];var p=new ef("\u2716",null,i4.get([5,4]));
n.appendChild(p.Z);p.P("click",this.lv,this);p.a1D=q;c.p(_);n.appendChild(c.Z);V.pd(n);if(q=="exif:GPSLongitude"&&j["exif:GPSLatitude"]){this.a5N=eQ.ahw(j["exif:GPSLatitude"])+","+eQ.ahw(j["exif:GPSLongitude"]);
var X=new ef("Show on map",!1,null,!0);n.appendChild(X.Z);V.pd(n);X.P("click",this.aoe,this)}}this.Nu.MD(R);
this.Nu.p(0)};eQ.prototype.O3=function(){var j=this.C3,n=bZ.$i,Q={};for(var a in n){var B=n[a][0],m=typeof B;
if(B==null||j[a]==null)continue;var R=j[a].j(),q="The value of \""+eQ.aBn(a)+"\" must ";if(m=="number"){R=parseFloat(R);
if(isNaN(R)){alert(q+"be a number.");R=B}}else if(B instanceof Array&&B.length==2){if(R.indexOf("/")==-1){alert(q+"be a fraction.");
R=B.slice(0)}else{R=R.split("/").map(parseFloat);if(isNaN(R[0])||isNaN(R[1])){R=B.slice(0)}}}Q[a]=R}return Q};
eQ.ahw=function(j){var n=j.length,Q=j.slice(0,n-1).split(",").map(parseFloat),a=j.slice(n-1),B=Q[0]+Q[1]/60+Q[2]/3600;
if(a!="N"&&a!="E")B=-B;return B};eQ.prototype.aoe=function(j){window.open("https://maps.google.com?q="+this.a5N,"Map")};
function h2(){ij.call(this,[11,5],"gradienteditor");this.gm=null;this.Qy=null;this.H=null;this.p3=null;
this.W4=!1;this.XJ=!1;this.Ev=null;this.ut=null;this.mf=-1;this.fd=-1;this.Vy=0;this.H1=this.qM.bind(this);
this.Jf=this.cW.bind(this);this.q$=V.d("canvas");this.Pf=this.q$.getContext("2d");V.v(this.q$,"display:block");
this.kz=null;V.as(this.q$);V.ON(this.q$,this.hz.bind(this));this.nw=V.d("div","form");this.op=V.d("div");
this.jj=V.d("div","form");this.yF=V.d("div");this.li=new hQ([12,44],[[15,10,0],[24,6]]);this.li.P(x.E.f,this.Dm,this);
this.body.appendChild(this.li.Z);V.KP(this.body);var j=this.nw;this.eN=new i7([19,3,3],0,100,"%");this.eN.P(x.E.f,this.Dm,this);
this.eN.parent=this;j.appendChild(this.eN.Z);V.pd(j);this.azi=new kC([12,0]);j.appendChild(this.azi.Z);
this.xz=V.d("div","bordered padded noalign");j.appendChild(this.xz);this.u3=new i7([12,0],0,100,"%");
this.u3.parent=this;this.u3.P(x.E.f,this.Dm,this);this.xz.appendChild(this.u3.Z);this.JU=new i7([12,40],0,100,"%");
this.JU.parent=this;this.JU.P(x.E.f,this.Dm,this);this.xz.appendChild(this.JU.Z);this.PK=new ef([5,4],!1,null,!0);
this.PK.P("click",this.a0o,this);this.xz.appendChild(this.PK.Z);j.appendChild(this.op);this.aHb=new kC([13,0]);
j.appendChild(this.aHb.Z);this.sa=V.d("div","bordered padded noalign");j.appendChild(this.sa);this.V3=new hQ([12,44],[[12,45],[12,46],[12,47]]);
this.V3.P(x.E.f,this.Dm,this);this.sa.appendChild(this.V3.Z);this.wB=new ci(!0);this.wB.parent=this;
this.wB.P(x.E.f,this.Dm,this);this.sa.appendChild(this.wB.Z);this.m$=new i7([12,40],0,100,"%");this.m$.parent=this;
this.m$.P(x.E.f,this.Dm,this);this.sa.appendChild(this.m$.Z);this.i4=new ef([5,4],!1,null,!0);this.i4.P("click",this.ahS,this);
this.sa.appendChild(this.i4.Z);var j=this.jj;this.LP=new i7("Roughness",0,100,"%");this.LP.P(x.E.f,this.Dm,this);
this.LP.parent=this;j.appendChild(this.LP.Z);j.appendChild(this.yF);this.V5=new ef([25,1,2],!1,null,!0);
this.V5.P("click",this.Dm,this);j.appendChild(this.V5.Z);this.ks=V.Ud(this);this.P("closebtn",this.Qm,this)}h2.prototype=new ij;
h2.prototype.Qm=function(j){if(this.W4)this.p3(this.gm);this.p3=null;this.XJ=!1};h2.prototype.S=function(){ij.prototype.S.call(this);
this.ks.S();this.eN.S();this.azi.S();this.aHb.S();this.PK.S();this.i4.S();this.u3.S();this.JU.S();this.V3.S();
this.m$.S();this.V5.S()};h2.prototype.sW=function(j,n){this.H=j;if(n==b3.Wz)this._J()};h2.prototype.pX=function(j,n){this.Qy=K.u(n.Gp);
this.gm=K.u(n.Gp);this.Ev=this.ut=null;this.p3=n.CP;this.W4=!1;this.XJ=n.Bf;this._J();this.Fz()};h2.prototype.Rp=function(j){var n=this.Qy;
this.p3(n);this.close();this.p3=null;this.XJ=!1};h2.prototype.qi=function(j){return j==i8.Va||j==i8.Bo};
h2.prototype.hs=function(j,n,Q,a){if(a.r(i8.Va)||a.r(i8.Bo)){if(this.ut)this.a0o();if(this.Ev)this.ahS()}};
h2.prototype.a0o=function(j){var n=this.Qy.Trns.v;if(this.ut==null||n.length==1)return;n.splice(n.indexOf(this.ut),1);
this.ut=null;this._J();this.Fz()};h2.prototype.ahS=function(j){var n=this.Qy.Clrs.v;if(this.Ev==null||n.length==1)return;
n.splice(n.indexOf(this.Ev),1);this.Ev=null;this._J();this.Fz()};h2.prototype._J=function(){var j=this.q$,n=this.Pf;
if(this.Qy==null)return;var Q=V.lS();j.width=Math.floor(410*Q);j.height=Math.floor(70*Q);V.GV(j,j.width,j.height);
j.style.marginTop="8px";this.kz=new b4(0,0,Math.floor(380*Q),Math.floor(32*Q));this.kz.x=Math.floor((j.width-this.kz.q)/2);
this.kz.y=Math.floor((j.height-this.kz._)/2);var a=this.kz,B=a.q,m=a._,R=a.x,q=a.y,U=new b4(0,0,B,m),l=n.getImageData(0,0,B,m),b=new Uint8Array(l.data.buffer);
K.WU(b,B,m,8);var D=K.U(B*m*4);K.Gp.C_(this.Qy,D,U,[1/B,0,0,1/m],B/2,m/2,!1,0,this.H.Z4,this.H.g7);K.L.sg("norm",D,a,b,a,a,1);
n.clearRect(0,0,j.width,j.height);n.putImageData(l,R,q);var c=this.Qy;if(c.Clrs){var _=c.Trns.v,p=c.Clrs.v,X=K.Gp.GR(c,this.H.Z4,this.H.g7),g=Math.round(6*V.lS()),F=Math.round(14*V.lS()),k=this.ut?this.ut.v:null,I=this.Ev?this.Ev.v:null;
for(var v=0;v<_.length;v++){var e=_[v].v,H=Math.round(255-255*e.Opct.v.val/100);if((e==k||_[v-1]&&_[v-1].v==k||v==this.fd)&&v!=0){n.fillStyle="#000000";
n.fillRect(R-3+B*(_[v-1].v.Lctn.v+(e.Lctn.v-_[v-1].v.Lctn.v)*e.Mdpn.v/100)/4096,q-6-2,6,6)}if(e==k){n.fillStyle="#ffffff";
n.fillRect(R-g+B*(e.Lctn.v/4096)-2,q-2-F-2,2*g+4,F+4)}n.fillStyle="rgb("+H+","+H+","+H+")";n.fillRect(R-g+B*(e.Lctn.v/4096),q-2-F,2*g,F)}for(var v=0;
v<p.length;v++){var A=p[v].v,Z=X[0][v][0];if((A==I||p[v-1]&&p[v-1].v==I||v==this.mf)&&v!=0){n.fillStyle="#000000";
n.fillRect(R-3+B*(p[v-1].v.Lctn.v+(A.Lctn.v-p[v-1].v.Lctn.v)*A.Mdpn.v/100)/4096,q+m+2,6,6)}if(A==I){n.fillStyle="#ffffff";
n.fillRect(R-g+B*(A.Lctn.v/4096)-2,q+m+2-2,2*g+4,F+4)}n.fillStyle="rgb("+Math.round(Z.n)+", "+Math.round(Z.i)+","+Math.round(Z.b)+")";
n.fillRect(R-g+B*(A.Lctn.v/4096),q+m+2,2*g,F)}}if(this.XJ){this.p3(this.Qy);this.W4=!0}};h2.prototype.Fz=function(){var j=this.Qy,n=j.Clrs?0:1;
this.li.p(n);if(V.gU(this.nw))this.body.removeChild(this.nw);if(V.gU(this.jj))this.body.removeChild(this.jj);
(n==0?this.op:this.yF).appendChild(this.q$);if(n==0){this.body.appendChild(this.nw);this.eN.p(Math.round(100*j.Intr.v/4096));
var Q=j.Trns.v,a=j.Clrs.v,B=this.ut!=null,m=this.fd!=-1;this.u3.Q7(B);this.JU.Q7(B||m);this.PK.Q7(B);
if(B){V.v(this.xz,"");var R=this.ut.v;this.JU.p(Math.round(100*R.Lctn.v/4096));this.u3.p(R.Opct.v.val)}if(m)this.JU.p(Q[this.fd].v.Mdpn.v);
var B=this.Ev!=null,m=this.mf!=-1;this.V3.Q7(B);this.wB.Q7(B);this.m$.Q7(B||m);this.i4.Q7(B);if(B){V.v(this.sa,"");
var q=this.Ev.v;this.m$.p(Math.round(100*q.Lctn.v/4096));var U=q.Type.v.Clry;this.V3.p(["FrgC","BckC","UsrS"].indexOf(U));
if(U=="FrgC")this.wB.au(this.H.Z4);if(U=="BckC")this.wB.au(this.H.g7);if(U=="UsrS")this.wB.p(q.Clr.v)}if(m)this.m$.p(a[this.mf].v.Mdpn.v)}else{this.body.appendChild(this.jj);
this.LP.p(Math.round(100*j.Smth.v/4096))}this.body.appendChild(this.ks.Z)};h2.prototype.Dm=function(j){var n=this.Qy,Q=n.Clrs?0:1;
if(j.target==this.li){var a=Q==0?JSON.parse(g8.Qu.ahF).v:fo.cL("grdm").Grad.v;this.Qy=a;this.Fz();this._J();
return}if(Q==0){n.Intr.v=Math.round(4096*this.eN.j()/100);var B=n.Trns.v,m=n.Clrs.v;if(this.ut!=null){var R=this.ut.v;
R.Lctn.v=Math.round(4096*(this.JU.j()/100));R.Opct.v.val=this.u3.j()}if(this.Ev!=null){var q=this.Ev.v;
q.Lctn.v=Math.round(4096*(this.m$.j()/100));if(j.target==this.wB)this.V3.p(2);var U=this.V3.j();q.Type.v.Clry=["FrgC","BckC","UsrS"][U];
if(U==2)q.Clr={t:"Objc",v:this.wB.j()};else if(q.Clr)delete q.Clr}if(this.fd!=-1)B[this.fd].v.Mdpn.v=this.JU.j();
if(this.mf!=-1)m[this.mf].v.Mdpn.v=this.m$.j()}else{n.Smth.v=Math.round(4096*this.LP.j()/100);if(j.target==this.V5)n.RndS.v=Math.floor(Math.random()*4294967295)}this._J()};
h2.prototype.hz=function(j){var n=V.MR(j,this.q$),Q=this.kz,a=(n.x*V.lS()-Q.x)/Q.q,B=(n.y*V.lS()-Q.y)/Q._,m=this.Qy.Trns.v,R=this.Qy.Clrs.v,q=null,U=null,l=-1,b=-1;
if(B<1)for(var v=0;v<m.length;v++){var D=m[v].v;if(Math.abs(D.Lctn.v/4096-a)<.02)q=m[v];if(v>0)if(Math.abs((m[v-1].v.Lctn.v+(D.Lctn.v-m[v-1].v.Lctn.v)*D.Mdpn.v/100)/4096-a)<.01)l=v}if(B>0)for(var v=0;
v<R.length;v++){var c=R[v].v;if(Math.abs(c.Lctn.v/4096-a)<.02)U=R[v];if(v>0)if(Math.abs((R[v-1].v.Lctn.v+(c.Lctn.v-R[v-1].v.Lctn.v)*c.Mdpn.v/100)/4096-a)<.01)b=v}if(U==null&&q==null&&l==-1&&b==-1){if(B<0){var D={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
D.v.Lctn.v=Math.round(a*4096);m.push(D);m.sort(this.Td);q=D}if(B>1){var R=this.Qy.Clrs.v,_=K.Gp.GR(this.Qy,this.H.Z4,this.H.g7),p=K.Gp.hG(this.Qy,_,a),c={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:K.Gp.Db({n:p&255,i:p>>8&255,b:p>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
c.v.Lctn.v=Math.round(a*4096);R.push(c);R.sort(this.Td);U=c}}if(U!=null)b=-1;if(q!=null)l=-1;if(U!=null||q!=null||l>-1||b>-1){this.ut=q;
this.Ev=U;this.fd=l;this.mf=b;this.Fz();this._J();V.NF(window,this.H1);V.GL(window,this.Jf)}};h2.prototype.qM=function(j){var n=V.MR(j,this.q$),Q=this.kz,a=(n.x*V.lS()-Q.x)/Q.q,B=(n.y*V.lS()-Q.y)/Q._;
a=Math.max(0,Math.min(1,a));var m=this.Qy.Trns.v,R=this.Qy.Clrs.v;if(this.ut!=null){var q=this.ut.v;
q.Lctn.v=Math.round(4096*a);var U=m.indexOf(this.ut);if(U!=-1&&B<-1&&m.length>1)m.splice(U,1);if(U==-1&&B>-1)m.push(this.ut);
m.sort(this.Td)}if(this.Ev!=null){var l=this.Ev.v;l.Lctn.v=Math.round(4096*a);var b=R.indexOf(this.Ev);
if(b!=-1&&B>2&&R.length>1)R.splice(b,1);if(b==-1&&B<2)R.push(this.Ev);R.sort(this.Td)}if(this.fd>-1){var q=m[this.fd].v;
q.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(a*4096-m[this.fd-1].v.Lctn.v)/(q.Lctn.v-m[this.fd-1].v.Lctn.v))))}if(this.mf>-1){var l=R[this.mf].v;
l.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(a*4096-R[this.mf-1].v.Lctn.v)/(l.Lctn.v-R[this.mf-1].v.Lctn.v))))}if(this.ut!=null||this.Ev!=null||this.fd>-1||this.mf>-1){this.Fz();
this._J()}};h2.prototype.cW=function(j){V.na(window,this.H1);V.rq(window,this.Jf);if(Date.now()-this.Vy<300){if(this.mf!=-1||this.fd!=-1){var n=(this.mf!=-1?this.Qy.Clrs.v[this.mf]:this.Qy.Trns.v[this.fd]).v;
n.Mdpn.v=50;this.Fz();this._J()}else if(this.Ev!=null)this.wB.RY()}this.Vy=Date.now()};h2.prototype.Td=function(j,n){return j.v.Lctn.v-n.v.Lctn.v};
function kc(){ij.call(this,[11,5],"vgradienteditor");this.p3=null;this.lr=new d0;this.lr.parent=this;
this.body.appendChild(this.lr.Z);this.ks=V.Ud(this,this.body)}kc.prototype=new ij;kc.prototype.pX=function(j,n){this.p3=n.CP;
this.lr.p(n.J)};kc.prototype.S=function(){ij.prototype.S.call(this);this.lr.S()};kc.prototype.Rp=function(j){this.p3(this.lr.j());
this.close()};function kP(j){ij.call(this,j=="isize"?[11,10]:[11,3],j);this.a0J=j;this.hn=null;var n=V.d("div","form");
V.v(n,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(n);var Q=j=="csize";this.ami=new kC("Hi");
n.appendChild(this.ami.Z);V.pd(n);this.ik=new hn(!0,!0,Q,Q,!0);if(Q)this.ik.aeB(!1);n.appendChild(this.ik.Z);
this.BS=new k9([12,25,3]);this.BS.p(!0);this.BS.P(x.E.f,this.abk,this);this.E6=new hQ(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.E6.p(1);this.Nz=new au([12,23,2],41);this.Nz.p(4);if(j=="isize"){n.appendChild(this.BS.Z);n.appendChild(this.E6.Z)}else n.appendChild(this.Nz.Z);
this.ks=V.Ud(this,this.body)}kP.prototype=new ij;kP.prototype.FW=function(j,n){return j!=null};kP.prototype.Ys=function(){return!0};
kP.prototype.qi=function(j){return this.a0J=="isize"?!1:[i8.ar,i8.y2,i8.er,i8.R6].indexOf(j)!=-1};kP.prototype.hs=function(j,n,Q,a){if(a.r(i8.mI))this.Rp();
this.Nz.axB(a.su())};kP.prototype.S=function(){ij.prototype.S.call(this);this.ik.S();this.BS.S();this.E6.S();
this.Nz.S();this.ks.S()};kP.prototype.Rp=function(j){var n=this.ik.j(),Q=n.x,a=n.y,B=new ar(x.E.X2,!0),m=this.ik.Iw.j();
if(this.a0J=="csize"){if(m){var R=this.ik.yP,q=this.ik.pW;Q=q.x-R.x;a=q.y-R.y}B.data=N.MT.alL(Q,a,this.Nz.j(),m)}else{var U=this.E6.j();
if(!this.BS.j())U=null;var l=this.ik.a5s(),b=this.hn;console.log(l);if(l==1)B.data=N.MT.ZK(Q/b.x,a/b.y,this.ik.RU(),U,!0);
else B.data=N.MT.ZK(Q,a,this.ik.RU(),U)}this.close();this.a(B)};kP.prototype.pX=function(j,n){this.hn=new eE(j.q,j._);
this.ik.p(this.hn,j.Mp);this.ik.Pr();this.ami.p(i4.get(this.dM)+": "+(j.q*j._/1e6).toFixed(2)+" MPx")};
kP.prototype.abk=function(j){var n=this.BS.j(),Q=this.ik,a=this.E6;if(n)a.I6();else a.QE();Q.aqR(n)};
function jt(){ij.call(this,"Import RAW","importraw");var j=V.d("div","flexrow"),n=V.d("div");V.v(n,"margin-bottom: 1em");
this.body.appendChild(j);this.body.appendChild(n);var Q=V.d("div","form");V.v(Q,"width:18em");j.appendChild(Q);
var a=V.d("div","form");V.v(a,"width:15em");j.appendChild(a);this.HX=null;this.qx=null;this.nN=null;
this.$N=null;this.aDt=[];var B=[];for(var v=0;v<jt.xk.length;v++)B.push(jt.xk[v]+" Bits");var m=this.TL=[new hn(!0,null,null,!0),new i7([12,72],1,8),new k9("Last one is Transparency"),new aY([12,34],B),new aY("Byte Order",["12-34","34-12"]),new hQ("Guesses",[])];
for(var v=0;v<m.length;v++){var R=m[v];R.parent=this;R.P(x.E.f,v==5?this.a8J:this.ww,this);var q=v==0?Q:v==5?n:a;
q.appendChild(R.Z)}this.q$=V.d("canvas");this.Pf=this.q$.getContext("2d");this.body.appendChild(this.q$);
this.ks=V.Ud(this,this.body)}jt.prototype=new ij;jt.prototype.S=function(){ij.prototype.S.call(this);
var j=this.TL;this.ks.S();for(var v=0;v<j.length;v++)j[v].S()};jt.prototype.Rp=function(j){this.close();
var n=this.TL[0].j(),Q=fj.og(this.qx,[{data:this.nN,nJ:new b4(0,0,n.x,n.y)}]);if(this.$N)Q.Kj=this.$N;
var a=new ar(x.E.B,!0);a.data={Q:!0?x.l.kI:x.l.eX,uM:Q};this.a(a)};jt.xk=[8,16];jt.prototype.pX=function(j,n){this.HX=new Uint8Array(n.Av);
this.qx=n.yR;var Q=this.HX.length,a=[1,3,4],B=0,m=0,R=1,q=1,U=this.aDt=[],l=Math.round(Math.sqrt(Q)*2);
l=Math.max(l,4e3);for(var b=0;b<3;b++){for(var D=0;D<2;D++){var c=jt.xk[D],_=a[b],p=_*c,X=Math.round(Q*8/p);
if(X!=Q*8/p)continue;for(var g=0;g<=l;g++)for(var F=0;F<=l;F++)if(g*F==X){var k=0;if(g==F)k+=64;if(Math.round(g/100)==g/100&&Math.round(F/100)==F/100)k+=32;
if(Math.round(g/10)==g/10&&Math.round(F/10)==F/10)k+=16;if(Math.round(g/2)==g/2&&Math.round(F/2)==F/2)k+=8;
U.push([g,F,_,c,k])}}}var I=function(Z,J){if(J[4]!=Z[4])return J[4]-Z[4];var s=Math.max(Z[0],Z[1])/Math.min(Z[0],Z[1]),E=Math.max(J[0],J[1])/Math.min(J[0],J[1]);
if(s!=E)return s-E;return J[0]-Z[0]};U.sort(I);var e=this.TL,H=[];for(var v=0;v<U.length;v++){var A=U[v];
H.push(A[0]+" x "+A[1]+", "+A[2]+"ch, "+A[3]+"-bit")}e[5].MD(H);e[5].p(0);this.a8J(null)};jt.prototype.a8J=function(j){var n=this.TL,Q=this.aDt[this.TL[5].j()];
n[0].p(new eE(Q[0],Q[1]),72);n[1].p(Q[2]);n[3].p(jt.xk.indexOf(Q[3]));this.ww()};jt.prototype.ww=function(j){var n=this.TL,Q=n[0].j(),a=Q.x,B=Q.y,m=jt.xk[n[3].j()],R=this.HX;
if(m==16&&n[4].j()==1){R=R.slice(0);for(var v=0;v<R.length;v+=2){var q=R[v];R[v]=R[v+1];R[v+1]=q}}var U=this.nN=this.z5(R,a,B,n[1].j(),m,n[2].j()),l=this.q$,b=this.Pf,D=[U,new b4(0,0,a,B)];
K.xu(D);for(var v=0;v<D.length;v+=2)if(D[v+1]._<300){U=D[v];a=D[v+1].q;B=D[v+1]._;break}l.width=a;l.height=B;
V.GV(l,a,B);var c=new ImageData(new Uint8ClampedArray(U.buffer),a,B);b.putImageData(c,0,0)};jt.prototype.z5=function(j,n,Q,a,B,m){this.$N=null;
var R=[],q=n*Q;for(var U=0;U<a;U++){var l=K.U(q);R.push(l);if(B==8)for(var v=0;v<q;v++)l[v]=j[v*a+U];
else if(B==16)for(var v=0;v<q;v++)l[v]=Math.round((j[(v*a+U)*2]<<8|j[(v*a+U)*2+1])*(255/65535))}var b=K.U(q*4);
K.G5(b,4278190080);if(m){K.wj(R.pop(),b,3);a--}if(a==0){}else if(a==1)K.YM(R[0],b);else{K.wj(R[0],b,0);
K.wj(R[1],b,1);if(a>2){K.wj(R[2],b,2);if(a>3){this.$N=[];for(var v=3;v<a;v++){var D=new f.km;D.name="Alpha "+(v-2);
D.s=new b4(0,0,n,Q);D.G=R[v];this.$N.push(D)}}}}return b};function jz(j,n,Q){eD.call(this);this.Z=V.d("div","");
this.de=j;this.kW=null;this.lr=n==null?!1:n;this.AO=null;this.j8=Q;this.akg=[];this.VK=[];this.o1=[];
this.IH=[];this.ET=0;this.kW=this.atx(jz.IH[j]);this.Ei();this.Bu=null;this.a3D;this.aCE}jz.prototype=new eD;
jz.prototype.v1=function(j,n,Q,a,B){this.Bu=B;this.a3D=K.u(this.AO);if(this.kW.lagl)this.aCE=this.kW.lagl.j()[0]};
jz.prototype.Z3=function(j,n,Q,a,B){var m=this.Bu,R=this.de,q=this.a3D;if(m==null)return;var U=(B.x-m.x)/j.e.yr,l=(B.y-m.y)/j.e.yr;
if(R=="GrFl"){var b=K.u(q.Ofst.v);b.Hrzn.v.val+=U*.5;b.Vrtc.v.val+=l*.5;this.kW.Ofst.p(b,!0)}if(R=="patternFill"){var b=K.u(q.phase.v);
b.Hrzn.v+=U;b.Vrtc.v+=l;this.kW.phase.p(b,!0)}if(R=="DrSh"||R=="IrSh"||R=="ChFX"){var D=q.Dstn.v.val,c=this.aCE*Math.PI/180,_=-Math.cos(c)*D+U,p=Math.sin(c)*D+l;
this.kW.Dstn.p(Math.sqrt(_*_+p*p),!0);this.kW.lagl.p([Math.atan2(p,-_)*180/Math.PI],!0)}};jz.prototype.pU=function(j,n,Q,a,B){this.Bu=null};
jz.prototype.apN=function(){for(var v=0;v<this.IH.length;v++){V.yZ(this.IH[v],"selected");if(this.o1[v]instanceof k9)this.o1[v].p(!1)}};
jz.prototype.ax9=function(j){var n=this.agd.bind(this);for(var v=0;v<this.o1.length;v++){var Q=V.d("div","listitem");
this.IH.push(Q);if(v>0)Q.textContent="\u2003";Q.appendChild(this.o1[v].Z);if(g8.amL.indexOf(this.de)!=-1){var a=new ef("+");
a.eu();a.Z.style.float="right";Q.appendChild(a.Z);var B=new ef("\u2B0D");B.eu();B.Z.style.float="right";
B.Z.style["margin-right"]="2px";Q.appendChild(B.Z)}Q.addEventListener("click",n,!1);j.appendChild(Q)}};
jz.zl=function(j,n){var Q=n.getBoundingClientRect();return(j.clientY-Q.top)/Q.height};jz.prototype.agd=function(j){var n=j.target.tagName.toLowerCase();
if(n=="input"){return}if(n=="button"){var Q=new ar(x.E.A,!0),a=j.target.textContent=="+",B=a?0:jz.zl(j,j.target)<.5?-1:1;
if(a)Q.data={Q:"st_dupsingle",W:this.parent.data.W,dL:this.j8};else Q.data={Q:"st_movsingle",W:this.parent.data.W,dL:this.j8,aEM:B};
Q.I=N.uX;Q.in=!0;this.a(Q);Q=new ar("redrawall",!0);Q.data={aEM:B};this.a(Q);return}V.Ju(j);this.PC();
this.ET=this.IH.indexOf(j.currentTarget);this.a(new ar("showme"))};jz.prototype.PC=function(){if(this.kW.enab&&this.kW.enab.j()==!1)this.oj({_q:"enab",J:!0})};
jz.prototype.aud=function(){var j=this.IH[this.ET];if(j)V.BZ(j,"selected");return this.VK[this.ET]};
jz.prototype.atx=function(j){var n={};for(var v=0;v<j.length;v++){var Q=j[v],a=null;if(Q=="----")a={Z:V.d("hr")};
if(Q=="\n")a={Z:V.d("br")};if(Q=="blOptions")a=new kC([14,10]);if(Q=="brst")a=new is([12,72],["R","G","B"]);
if(Q=="knko")a=new hQ("Knockout",[[13,1,0],"Shallow","Deep"]);if(Q=="enab")a=new k9(g8.names[g8.order.indexOf(this.de)]);
if(Q=="lrMd"||Q=="Md")a=new hQ([12,19,0],af.Z1,af.vb);if(Q=="Opct")a=this.lr?new i7([12,0],0,100,"%"):new jc([12,0],0,100,"%");
if(Q=="iOpa")a=new jc([12,26],0,100,"%");if(Q=="blIf")a=new c4;if(Q=="ShdN")a=new jc([12,68],0,100,"%");
var B=this.de=="St3D"&&Q=="lagl";if(Q=="lagl"||Q=="Angl")a=new by(B?"Light":[12,15],this.de=="ebbl"||B);
if(Q=="uglg")a=new k9([12,27]);if(Q=="Dstn")a=new jc([12,28],0,200,"px");if(Q=="Ckmt")a=new jc([12,29],0,100,"%");
if(Q=="Srnk")a=new jc("Shrink",0,100,"%");if(Q=="Drkn")a=new jc("Darken",0,100,"%");if(Q=="blur")a=new jc([12,14,0],0,200,"px");
if(Q=="TrnS"||Q=="MpgS")a=new kD([12,21]);if(Q=="Nose")a=new jc([12,30],0,100,"%");if(Q=="layerConceals")a=new k9([12,31]);
if(Q=="Cntn")a=new k9([12,25,4]);if(Q=="AntA"||Q=="antialiasGloss")a=new k9([12,25,1]);if(Q=="GlwT")a=new hQ([12,32],g8.Pk.names);
if(Q=="glwS")a=new hQ([12,70],g8.Pk.an2);if(Q=="Inpr")a=new jc([12,12],1,100,"%");if(Q=="bvlS")a=new hQ([12,22],g8.Gi.style);
if(Q=="bvlT")a=new hQ([12,32],g8.Gi.am1);if(Q=="bvlD")a=new hQ(null,g8.Gi.dir);if(Q=="srgR")a=new jc([12,34],0,1e3,"%");
if(Q=="Sftn")a=new jc([12,35],0,20,"px");if(Q=="Lald")a=n.lagl;if(Q=="hglM"||Q=="sdwM")a=new hQ([12,36],af.Z1,af.vb);
if(Q=="hglC"||Q=="sdwC")a=new ci;if(Q=="hglO"||Q=="sdwO")a=new jc([12,0],0,100,"%");if(Q=="Invr"||Q=="InvT")a=new k9([4,11]);
if(Q=="overprint")a=new k9("Overprint");if(Q=="Sz")a=new jc([12,14,0],1,200,"px");if(Q=="Styl")a=new hQ([12,40],g8.stroke.names);
if(Q=="PntT")a=new hQ([12,66],g8.stroke.a6B);if(Q=="Clr")a=new ci(!0);if(Q=="Grad"){a=new c_(!0,this.lr?null:[12,37],!0);
a.p(JSON.parse(g8.Qu.aqF).v)}if(Q=="Rvrs")a=new k9([12,23,0]);if(Q=="Dthr")a=new k9([12,23,3]);if(Q=="Type")a=new hQ(this.lr?null:[12,22],g8.Gp.names.slice(0,this.de=="FrFX"?6:5));
if(Q=="Ptrn")a=new hp([12,62]);if(Q=="Scl")a=new jc([12,38],5,500,"%",0,!0);if(Q=="Algn")a=new k9([12,39]);
if(Q=="Ofst")a=new kH(!0);if(Q=="phase")a=new kH(!1);if(Q=="useShape")a=new k9([12,21]);if(Q=="useTexture")a=new k9([12,67]);
if(Q=="textureDepth")a=new jc([12,34],-300,300,"%");var m=Q=="----"||Q=="\n"?Q+v:Q;if(a!=null)n[m]=a}return n};
jz.prototype.a6O=function(j){var n=this.VK[this.ET];for(var v=0;v<j.length;v++){var Q=this.kW[j[v]];
if(Q&&n.contains(Q.Z))n.removeChild(Q.Z)}};jz.prototype.aGT=function(j){var n=this.VK[this.ET];for(var v=0;
v<j.length;v++){var Q=this.kW[j[v]];if(Q&&!n.contains(Q.Z))n.appendChild(Q.Z)}};jz.prototype.sW=function(j,n){if(this.kW==null)return;
var Q=n==b3.Od;if(this.kW.Grad){this.kW.Grad.Hd(j.Z4,j.g7);if(Q||n==b3.Wz||n==b3.oy)this.kW.Grad.gn(j.z_)}if(this.kW.Ptrn){if(Q||n==b3.PT)this.kW.Ptrn.gn(j._f)}if(this.kW.TrnS){if(Q||n==b3.mM)this.kW.TrnS.gn(j.SL)}if(this.kW.MpgS){if(Q||n==b3.mM)this.kW.MpgS.gn(j.SL)}};
jz.prototype.S=function(){for(var v=0;v<this.akg.length;v++)this.akg[v].S();for(var j in this.kW)if(this.kW[j]instanceof eD)this.kW[j].S()};
jz.prototype.Ei=function(){for(var j in this.kW){var n=this.kW[j];n.parent=this;if(n instanceof eD)n.P(x.E.f,this.aCR,this);
if(this.VK.length==0||j=="useShape"||j=="useTexture"){var Q=new kC(n.aCA()),a=V.d("div","bordered padded");
if(this.lr==!1){a.appendChild(Q.Z);a.appendChild(V.d("hr",""))}this.akg.push(Q);this.VK.push(a);this.o1.push(n)}else this.VK[this.VK.length-1].appendChild(n.Z)}};
jz.prototype.update=function(j,n){if(this.kW==null)return;this.AO=K.u(n);for(var Q in n){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(Q)!=-1)this.kW[Q].p(n[Q].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(Q)!=-1){this.kW[Q].p(n[Q].v,j)}if(["Md","hglM","sdwM"].indexOf(Q)!=-1)this.kW[Q].p(af.de.indexOf(n[Q].v.BlnM));
if(Q=="lrMd"){var a=(n.bx?[[15,10,27]]:[]).concat(af.Z1),B=(n.bx?[1]:[]).concat(af.vb);this.kW[Q].MD(a,B);
this.kW[Q].p(n[Q].v)}if(Q=="Angl")this.kW[Q].p([n[Q].v.val]);if(Q=="lagl"){var m=n.uglg&&n.uglg.v?j._Q():n.lagl.v.val;
this.kW[Q].p([m])}if(Q=="Lald"){var m=n.uglg&&n.uglg.v?j.ZL():n.Lald.v.val;this.kW[Q].p([null,m])}if(Q=="Type")this.kW[Q].p(g8.Gp.types.indexOf(n.Type.v.GrdT));
if(Q=="Styl")this.kW[Q].p(g8.stroke.types.indexOf(n.Styl.v.FStl));if(Q=="PntT"){var R=g8.stroke.lD.indexOf(n.PntT.v.FrFl);
this.kW[Q].p(R);if(!this.lr){this.a6O(g8.WE.concat(g8.Kp.concat(g8._$)));this.aGT([g8.WE,g8.Kp,g8._$][R])}}if(Q=="GlwT")this.kW[Q].p(g8.Pk.types.indexOf(n.GlwT.v.BETE));
if(Q=="glwS")this.kW[Q].p(g8.Pk.aCh.indexOf(n.glwS.v.IGSr));if(Q=="bvlS")this.kW[Q].p(g8.Gi.types.indexOf(n.bvlS.v.BESl));
if(Q=="bvlT")this.kW[Q].p(g8.Gi.a26.indexOf(n.bvlT.v.bvlT));if(Q=="bvlD")this.kW[Q].p(["In","Out"].indexOf(n.bvlD.v.BESs))}};
jz.prototype.aCR=function(j){for(var n in this.kW){if(this.kW[n]!=j.target)continue;var Q=null,a=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(n)!=-1)Q={type:"#Prc",val:j.target.j()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(n)!=-1)Q={type:"#Pxl",val:j.target.j()};if(["Angl","lagl"].indexOf(n)!=-1)Q={type:"#Ang",val:j.target.j()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(n)!=-1)Q=j.target.j();
if(["Md","hglM","sdwM"].indexOf(n)!=-1)Q={BlnM:af.de[j.target.j()]};if(n=="uglg"){Q=j.target.j();a=!0}if(n=="PntT"){Q={FrFl:g8.stroke.lD[j.target.j()]};
a=!0}if(n=="Lald")Q={type:"#Ang",val:j.target.j()[1]};if(n=="Type")Q={GrdT:g8.Gp.types[j.target.j()]};
if(n=="Styl")Q={FStl:g8.stroke.types[j.target.j()]};if(n=="GlwT")Q={BETE:g8.Pk.types[j.target.j()]};
if(n=="glwS")Q={IGSr:g8.Pk.aCh[j.target.j()]};if(n=="bvlS")Q={BESl:g8.Gi.types[j.target.j()]};if(n=="bvlT")Q={bvlT:g8.Gi.a26[j.target.j()]};
if(n=="bvlD")Q={BESs:["In","Out"][j.target.j()]};this.oj({_q:n,J:Q});if(a){if(this.lr)this.update(null,this.AO);
else{var B=this.parent,m=B.uM,R=this.j8,q=m.T[B.data.W].add.lmfx[g8.Ub[R[0]]].v[R[1]].v;this.update(m,q)}}}};
jz.prototype.oj=function(j){if(this.AO&&this.AO[j._q])this.AO[j._q].v=j.J;if(this.lr){this.a(new ar(x.E.f))}else{j.Q="changeprop";
j.W=this.parent.data.W;j.cb=this.j8;var n=new ar(x.E.A,!0);n.data=j;n.I=N.uX;n.in=!0;this.a(n);this.a(new ar("afterchange",!0))}};
jz.prototype.j=function(){return K.u(this.AO)};jz.IH={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(g8.WE),GrFl:["enab","Md","Opct"].concat(g8.Kp),patternFill:["enab","Md","Opct"].concat(g8._$),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(g8.WE.concat(g8.Kp.concat(g8._$)))};
function dX(){ij.call(this,[11,6],"layerstyle");this.aGp=-1;this.data={};this.uM=null;this.H=null;this.Mf=[];
this.U9=[];V.BZ(this.body,"flexrow");this._Z=V.d("div","bordered");V.v(this._Z,"min-width:13em;");this.body.appendChild(this._Z);
this.y5=V.d("div","");V.v(this.y5,"width:25em; padding-left: 1em;");this.body.appendChild(this.y5);this.ES=V.d("div","form");
V.v(this.ES,"padding-left: 1em; width:7em;");this.body.appendChild(this.ES);this.ks=V.Ud(this,this.ES);
this.aw7=new ef([12,87],!0,null,!0);this.aw7.P("click",this.aHl,this);this.ES.appendChild(this.aw7.Z);
this.QZ=new jN;this.QZ.parent=this;this.QZ.P(x.E.f,this.aHV,this);this.ES.appendChild(this.QZ.Z);this.P("closebtn",this.Qm,this);
this.P("redrawall",this.a00,this)}dX.prototype=new ij;dX.prototype.Ys=function(){return!0};dX.prototype.GH=function(){return!0};
dX.prototype.v1=function(j,n,Q,a,B){var m=this.ZW();if(m)m.v1(j,n,Q,a,B)};dX.prototype.Z3=function(j,n,Q,a,B){var m=this.ZW();
if(m)m.Z3(j,n,Q,a,B)};dX.prototype.pU=function(j,n,Q,a,B){var m=this.ZW();if(m)m.pU(j,n,Q,a,B)};dX.prototype.ZW=function(j){if(j==null)j=this.data.index;
return j==null?null:j==0?this.Mf[0]:this.U9[j[0]][j[1]]};dX.prototype.aHV=function(j){var n=this.QZ.j();
this.oj({Q:"setstl",J:n.IK});this.a00(null)};dX.prototype.aHl=function(j){var n=this.uM,Q=this.data.W;
if(Q==null)Q=n.X[0];var a=this.uM.T[Q],B=gq.ass(a),m=new ar(x.E.B,!0);m.data={Q:x.l.m6,rf:"add",_X:b3.mt,uU:[K.u(B)]};
this.a(m)};dX.prototype.aaU=function(j){this.data.index=j.currentTarget.j8;this.Zb(j.currentTarget.j8)};
dX.prototype.a00=function(j){this.pX(this.uM,this.data)};dX.prototype.Zb=function(j,n){V.cV(this.y5);
for(var v=0;v<this.Mf.length;v++)this.Mf[v].apN();var Q=this.ZW(j);this.y5.appendChild(Q.aud());if(n)Q.PC();
var a=this.uM;if(a){var B=a.T[this.data.W];this.Mf[0].update(a,N.cO.dP(a,B));var m=B.add.lmfx;if(m==null)return;
for(var v=0;v<g8.order.length;v++){var R=m[g8.Ub[v]].v;for(var q=0;q<R.length;q++)this.U9[v][q].update(a,R[q].v)}}if(n)Q.PC()};
dX.prototype.S=function(){ij.prototype.S.call(this);this.aw7.S();this.QZ.S();this.ks.S();for(var v=0;
v<this.Mf.length;v++)this.Mf[v].S()};dX.prototype.pX=function(j,n){var Q=n.W==null;this.data.W=n.W;this.data.index=n.index;
n=this.data;this.uM=j;if(Q)n.W=j.X.length==0?j.T.length-1:j.X[0];V.cV(this._Z);var a=j.T[n.W].add.lmfx;
this.ta();this.Mf=[new jz("bops",!1,0)];this.U9=[];for(var v=0;v<g8.order.length;v++){this.U9.push([]);
var B=a==null?[]:a[g8.Ub[v]].v;for(var m=0;m<B.length;m++){var R=new jz(g8.order[v],!1,[v,m]);this.Mf.push(R);
this.U9[v].push(R)}if(B.length==0){var R=new jz(g8.order[v],!1,[v,0]);this.Mf.push(R);this.U9[v].push(R)}}this.S();
this.a9i(this.H,b3.Od);for(var v=0;v<this.Mf.length;v++){this.Mf[v].parent=this;this.Mf[v].ax9(this._Z);
this.Mf[v].P("showme",this.aaU,this)}if(n.index==null||n.index==0||!Q&&a[g8.Ub[n.index[0]]].v.length==0){this.Zb(0)}else this.Zb(n.index,Q);
this.P("afterchange",this.ta,this)};dX.prototype.ta=function(j){var n=this.uM,Q=this.data.W;if(Q==null)Q=n.X[0];
var a=this.uM.T[Q],B=gq.ass(a);this.QZ.p(B,n.add.Patt?n.add.Patt:[],n._Q(),n.ZL())};dX.prototype.sW=function(j,n){this.H=j;
this.a9i(j,n);if(n==b3.mt||n==b3.Od){this.QZ.gn([j.eE,j._f])}if(n==b3.RX){}};dX.prototype.a9i=function(j,n){for(var v=0;
v<this.Mf.length;v++)this.Mf[v].sW(j,n)};dX.prototype.Qm=function(j){this.oj({Q:"cancel"})};dX.prototype.Rp=function(j){this.oj({Q:"confirm"});
this.close()};dX.prototype.oj=function(j){j.W=this.data.W;var n=new ar(x.E.A,!0);n.data=j;n.I=N.uX;n.in=!0;
this.a(n);this.ta()};dX.ayQ=function(){var j=function(n){if(n==null||n.X.length==0)return{m:!1};var Q=n.T[n.X[0]];
return{m:Q.add.lmfx!=null}};return{name:[11,6],Kl:!0,sub:[{name:[5,1],m:j},{name:[5,2]},{name:[2,2],m:j}]}};
dX.aA_=function(){return{sub:[{o:x.E.A,I:N.uX,h:{Q:"st_copy"}},{o:x.E.A,I:N.uX,h:{Q:"st_paste"}},{o:x.E.A,I:N.uX,h:{Q:"st_clear"}}]}};
dX.us=function(j){var n=[{name:[14,10],Kl:!0}];for(var v=0;v<g8.names.length;v++)n.push({name:g8.names[v]});
if(j){n[n.length-1].Kl=!0;n.push(dX.ayQ());n.push({name:[6,30,1],m:function(Q){return{m:Q!=null&&Q.X.length!=0&&Q.T[Q.X[0]].vv()}}});
n.push({name:["VAR0 VAR1",[12,49],[9,1]],m:function(Q){return{m:Q!=null&&Q.X.length!=0&&Q.T[Q.X[0]].add.lmfx!=null}}})}return n};
dX.QF=function(j){var n=[{o:x.E.B,h:{Q:x.l.Vg,Z8:"layerstyle"}}];for(var v=0;v<g8.names.length;v++)n.push({o:x.E.B,h:{Q:x.l.Vg,Z8:"layerstyle",index:[v,0]}});
if(j){n.push(dX.aA_());n.push({o:x.E.B,h:{Q:x.l.Vg,Z8:"scaleeffects",Xo:100,Az:{o:x.E.A,I:N.uX,h:{Q:"scaleeffects"}}}});
var Q={classID:"Mk",null:f2.oA("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
n.push({o:x.E.X2,h:{ep:"make",Tu:Q}})}return n};dX.apq=function(j){var n=[];if(j)n.push({name:[6,48,0,0],lM:!0},{name:[6,48,0,1],lM:!0},{name:[6,48,0,2],lM:!0,Kl:!0});
for(var Q in k8.names)n.push({name:k8.names[Q],Kl:k8.a8L.indexOf(Q)!=-1,lM:i1[Q]!=null});return n};dX.Ae=function(j){var n=[];
if(j){n.push({o:x.E.A,I:N.hp,h:{Q:"newfill",m_:0}});for(var v=1;v<3;v++)n.push({o:x.E.X2,h:N.Ma.UZ(v)})}for(var Q in k8.names){var a=fo.cL(Q);
if(a==null)a={};for(var B in k8.Bq)if(k8.Bq[B]==Q)a.classID=B;var m={ep:"make",Tu:{classID:"Mk",null:f2.oA("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:a}}}}};
n.push({o:x.E.X2,h:m})}return n};function eo(){ij.call(this,"Merge Channels","mergechannels");this.pB=null;
var j=V.d("div","form");this.body.appendChild(j);this.TL=[];for(var v=0;v<3;v++){var n=new hQ(k8.ql[v],[]);
this.TL.push(n);j.appendChild(n.Z);V.pd(j)}this.ks=V.Ud(this,j)}eo.prototype=new ij;eo.prototype.S=function(){ij.prototype.S.call(this);
this.ks.S();for(var v=0;v<3;v++)this.TL[v].S()};eo.prototype.pX=function(j,n,Q,a){this.pB=Q;var B=[];
for(var v=0;v<Q.length;v++)B.push(Q[v].name);for(var v=0;v<3;v++){var m=this.TL[v];m.MD(B);m.p(Math.min(v,Q.length-1))}};
eo.prototype.Rp=function(j){var n=this.pB,Q=n[0],a=new ar(x.E.X2,!0);a.data=hs.uD(Q.q,Q._,Q.Mp,"Merged Document","Wht",!1);
this.a(a);var B=[];for(var v=0;v<3;v++)B.push(n[this.TL[v].j()].rd());var Q=n[n.length-1],m=Q.T[0],R=m.buffer;
for(var v=0;v<R.length;v+=4){R[v]=B[0][v];R[v+1]=B[1][v];R[v+2]=B[2][v]}m.ge();Q.ge();this.close()};
function dc(){ij.call(this,[1,10],"script");var j=V.d("div","form");V.v(j,"width:44em");this.body.appendChild(j);
this.H=null;this.K3=[];this.M4=[];this.a9T;var n=this.d5=new ef([1,2],!1,null,!0);n.P("click",this.Zg,this);
j.appendChild(n.Z);var Q=new ef("JS Reference",!1,null,!0);Q.P("click",this.aDL,this);j.appendChild(Q.Z);
j.appendChild(new kC("Demos:").Z);this.acl=[];var a=dc.Yf;for(var v=0;v<a.length;v++){var B=new ef(a[v].wp,!1,null,!0);
this.acl.push(B);j.appendChild(B.Z);B.P("click",this.azo,this)}this.H6=V.d("textarea");V.Sp(this.H6);
this.H6.setAttribute("rows",16);V.v(this.H6,"display:block;tab-size:4; font-family:monospace;width:100%;");
j.appendChild(this.H6);var m=new ef("Run",!0,null,!0);m.P("click",this.Rp,this);j.appendChild(m.Z);this.rj=V.d("div");
j.appendChild(this.rj)}dc.prototype=new ij;dc.prototype.S=function(){this.d5.S()};dc.prototype.Zg=function(){var j=this.a9T;
if(j==null)j="script.jsx";var n=new ar(x.E.B,!0);n.data={Q:x.l.Vg,Z8:"namewindow",Xo:j.slice(0,j.length-4),yI:this.aAW.bind(this)};
this.a(n)};dc.prototype.aAW=function(j){var n=this.H6.value,Q=L.XS(n),a=new ar(x.E.B,!0);a.data={Q:x.l.nT,Av:Q.buffer,DA:j+".jsx",awb:!0};
this.a(a)};dc.prototype.alb=function(j){var v=this.K3.indexOf(j.target),n=this.a9T=this.M4[v],Q=this.H.if.Bj[n],a=new Uint8Array(Q),B=L.Cl(a,0,a.length);
this.H6.value=B};dc.prototype.pX=function(j,n,Q){this.H6.value=dc.Yf[0].Au;this.aGc()};dc.prototype.aGc=function(){var j=this.H.if,n=this.rj;
V.cV(n);this.K3=[];this.M4=[];n.textContent="Saved scripts: ";for(var Q in j.Bj){if(Q.endsWith(".jsx")){var a=new ef(Q,!1,null,!0);
this.K3.push(a);this.M4.push(Q);a.P("click",this.alb,this);n.appendChild(a.Z)}}};dc.prototype.sW=function(j,n){this.H=j;
if(n==b3.YC)this.aGc()};dc.prototype.aDL=function(j){var n=new ar(x.E.B,!0);n.data={Q:x.l.hy,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.a(n)};dc.prototype.Rp=function(j){var n=this.H6.value,Q=this.H.if.Bj;n=dc.ahM(n,Q);var a=new ar(x.E.B,!0);
a.data={Q:x.l.X4,Lo:n};this.a(a)};dc.ahM=function(j,n){var Q=j.split("\n");for(var v=0;v<Q.length;v++){var a=Q[v].trim();
if(a.startsWith("#include")){var B=a.slice(a.indexOf("\"")+1,a.lastIndexOf("\"")),m=n[B];if(m==null)alert("\""+B+"\" not found in the Local Storage");
Q[v]=dc.ahM(L.Cl(new Uint8Array(m)),n)}}return Q.join("\n")};dc.prototype.azo=function(j){var n=this.acl.indexOf(j.currentTarget);
this.H6.value=dc.Yf[n].Au};dc.Yf=[{wp:"Hello",Au:"\nalert(\"Hello Photopea!\");\n"},{wp:"Process Layers",Au:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{wp:"Clone Layers",Au:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function bj(){ij.call(this,[11,7],"newproject");this.data=null;this.pB=null;this.g6=0;var j=V.d("div","flexrow");
this.Zj=j;this.body.appendChild(j);var n=V.d("div","form");this.at=n;j.appendChild(n);this.C9=new cE([12,48],null,10);
n.appendChild(this.C9.Z);V.pd(n);this.ik=new hn(!0,null,null,null,!0);this.ik.p(new eE(1280,720),72);
if(fL==1){this.ik.p(new eE(8.3*300,11.7*300),300);this.ik.T4(4)}this.ik.aqR(!0,!0);this.ik.P(x.E.f,this.gF,this);
n.appendChild(this.ik.Z);this.EB=new fK;this.EB.parent=this;if(fL==0)n.appendChild(this.EB.Z);this.h6=new ef("\u02C5",null,[0,14],!0);
this.h6.P("click",this.WL,this);if(fL==0)n.appendChild(this.h6.Z);var Q=this.Vz=V.d("span");n.appendChild(Q);
Q.style.display="none";this.a4w=new hQ([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);Q.appendChild(this.a4w.Z);
this.amy=new k9([1,16,1]);Q.appendChild(this.amy.Z);this.ks=new ef([12,49],!0,null,!0);this.ks.P("click",this.Rp,this);
n.appendChild(this.ks.Z);var a=bj.HX,B=[];for(var v=0;v<a.length;v++)B.push(a[v].name);this.t6=new aY(null,B);
this.t6.P(x.E.f,this.azC,this);n.appendChild(this.t6.Z);this.t6.Z.style["margin-top"]="1em";this.z7=new aI(!0);
this.z7.P(x.E.f,this.a9U,this);n.appendChild(this.z7.Z);this.azC();this.r2=new dA;this.r2.parent=this;
V.v(this.r2.Z,"margin-left:1em");this.r2.P("tempready",this.afv,this)}bj.prototype=new ij;bj.prototype.WL=function(j){var n=this.Vz,Q=n.style.display!="none";
n.style.display=Q?"none":"";this.h6.LY(Q?"\u02C5":"\u02C4");this.rs(this.Uw,this.WC)};bj.prototype.sW=function(j,n){this.r2.sW(j)};
bj.prototype.$k=function(j,n){return new eE(Math.max(0,Math.min(70,(j-690)/2)),j>n?Math.max(0,Math.min(50,(n-400)/2)):0)};
bj.prototype.rs=function(j,n){if(this.Uw==j&&this.WC==n)return;this.Uw=j;this.WC=n;V.v(this.at,"width:"+Math.min(j-24,338)+"px");
this.z7.Z.style.height=n-248-(this.Vz.style.display=="none"?0:28)+(fL==0?0:28)+"px";var Q=this.r2.Z,a=Q.parentNode;
if(j<500){if(a!=null)this.Zj.removeChild(Q)}else{if(a==null)this.Zj.appendChild(Q);this.r2.rs(j-378,n-28)}};
bj.prototype.gF=function(){this.r2.p(this.ik.j())};bj.prototype.a9U=function(j){var n=this.z7.j()[0],Q=bj.HX[this.t6.j()].gY[n],a=Q[4];
if(a==0)a=72;var B=Q[1],m=Q[2],R=["px","%","mm","in"].indexOf(Q[3]),q=[1,1,25.4/a,1/a][R];B/=q;m/=q;
this.ik.p(new eE(Math.round(B),Math.round(m)),a);this.ik.T4(R);this.gF();if(Date.now()-this.g6<300)this.Rp();
this.g6=Date.now()};bj.prototype.azC=function(j){var n=bj.HX[this.t6.j()].gY,Q=[],a=[],B=Math.round(106*V.lS()),m=Math.round(106*V.lS()),R=0;
for(var v=0;v<n.length;v++)R=Math.max(R,n[v][1],n[v][2]);for(var v=0;v<n.length;v++){var q=n[v],U=q[1]+" x "+q[2]+" "+q[3];
if(q[3]=="in")U=(q[1]*25.4).toFixed(0)+" x "+(q[2]*25.4).toFixed(0)+" mm";if(q[3]=="mm")U=(q[1]/25.4).toFixed(1)+" x "+(q[2]/25.4).toFixed(1)+" in";
if(q[4])U=U+" @ "+q[4]+" ppi";a.push(U);Q.push(bj.r9(q,B,m,R))}this.z7.YS(Q,a,B,m)};bj.r9=function(j,n,Q,a){var B=K.uq(n,Q),m=Math.round(n/8),R=Math.floor(11*V.lS()),q=j[1],U=j[2];
B.fillStyle="#000000";B.font=Math.round(R*.9)+"px \"Open Sans\", Sans-Serif";var l=q+" x "+U+" "+j[3],b=B.measureText(l);
B.fillText(l,Math.round((n-b.width)/2),Q-Math.round(m/2));if(j[0]!=null){B.font="bold "+R+"px \"Open Sans\", Sans-Serif";
var l=j[0],b=B.measureText(l);B.fillText(l,Math.round((n-b.width)/2),Q-Math.round(m/2)-Math.round(R*1.3))}var D=Q-Math.round(2.5*R),c=Math.min((n-m)/q,(D-m)/U);
c*=.5+.5*(Math.max(q,U)/a);var _=(n-q*c)/2,p=(D-U*c)/2;B.strokeRect(Math.round(_)+.5,Math.round(p)+.5,Math.round(q*c),Math.round(U*c));
var X=B.getImageData(0,0,n,Q).data;return fj.PH(X.buffer,n,Q,null,null,!0)};bj.prototype.S=function(){ij.prototype.S.call(this);
this.ik.S();this.C9.S();this.EB.S();this.ks.S();this.C9.p(i4.get([11,7]));this.t6.S();this.amy.S();this.h6.S();
this.r2.S()};bj.prototype.Rp=function(j){var n=this.ik.j(),Q=n.x,a=n.y;this.close();var B=this.EB.j(),m=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a4w.j()],R=new ar(x.E.X2,!0);
R.data=hs.uD(Q,a,this.ik.RU(),this.C9.j(),["Wht","Blck","Trns","Clr"][B[0]],this.amy.j(),B[1],m);this.a(R);
this.auP()};bj.prototype.afv=function(j){var n=j.data.uM;n.Mp=this.ik.RU();var Q=new ar(x.E.B,!0);Q.data={Q:x.l.kI,uM:n};
this.a(Q);this.close();this.auP()};bj.prototype.auP=function(){var j=this.pB[this.pB.length-1],n=this.data.awo;
if(n)dB.Ry(function(){var Q=new XMLHttpRequest,a="https://www.googleapis.com/drive/v3/files?"+dB.az3();
Q.open("POST",a,!0);Q.setRequestHeader("Content-Type","application/json");Q.addEventListener("load",function(B){var m=JSON.parse(B.target.response);
j.FQ={file:m,Y9:"psd"};alert(j.name+" created in Google Drive")});Q.send(JSON.stringify({name:j.name,ape:[n]}))})};
bj.prototype.pX=function(j,n,Q,a){this.pB=Q;if(j!=null&&j.K!=null){var B=new b4(0,0,j.q,j._).uf(j.K.s);
this.ik.p(new eE(B.q,B._))}this.data=n;this.gF();if(V.gX())aL.a4y(this.bg.bind(this))};bj.prototype.bg=function(j){if(j=="granted")aL.I1(this,this.O8.bind(this))};
bj.prototype.O8=function(j,n){this.ik.p(new eE(n.q,n._))};bj.HX=[{name:"Social",gY:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],gY:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],gY:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],gY:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],gY:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],gY:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",gY:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function hf(j,n,Q){ij.call(this,n,"sel_"+j);this.Q=j;var a=V.d("div","form");this.body.appendChild(a);
this.C9=new i7(n,0,255,null,0,!1,!0);a.appendChild(this.C9.Z);this.C9.p(1);var B=V.d("span");B.textContent=Q;
a.appendChild(B);V.pd(a);this.aIb=new k9("Apply at canvas bounds");if(j!="border")a.appendChild(this.aIb.Z);
this.ks=V.Ud(this,a)}hf.prototype=new ij;hf.prototype.FW=function(j,n){if(j==null)return;if(j.K==null)alert("No selection!");
return j.K!=null};hf.prototype.Rp=function(j){var n=new ar(x.E.X2,!0);n.data=N.NJ.uy(this.Q,this.C9.j(),this.aIb.j());
n.in=!0;this.a(n);this.close()};hf.prototype.S=function(){ij.prototype.S.call(this);this.ks.S();if(this.C9)this.C9.S()};
hf.prototype.pX=function(j,n){this.C9.Pr()};function gN(j,n,Q,a,B,m){ij.call(this,Q,n);this.ahz=m;this.XJ=B;
this.HX=null;this.at=V.d("div","form");this.body.appendChild(this.at);this.avV=V.d("div");this.at.appendChild(this.avV);
var R=500;if(a){var q=a.split(",");a=q[0];if(q[1])R=parseFloat(q[1])}this.C9=j==0?new cE(Q,null,10):j==1?new jc(Q,0,R,a,1):new cE(Q,null,24,5);
this.C9.P(x.E.f,this.Mu,this);this.at.appendChild(this.C9.Z);this.ks=V.Ud(this,this.at);this.P("closebtn",this.Qm,this)}gN.prototype=new ij;
gN.prototype.$k=function(j,n){return new eE(Math.max(0,Math.min(150,(j-250)/2)),Math.max(0,Math.min(150,(n-120)/2)))};
gN.prototype.Ys=function(){return this.ahz};gN.prototype.Mu=function(j){var n=this.C9.j();if(this.XJ)this.sT(n)};
gN.prototype.Qm=function(j){if(this.XJ)this.sT("cancel")};gN.prototype.Rp=function(j){if(this.XJ)this.sT("confirm");
else this.sT(this.C9.j());this.close()};gN.prototype.sT=function(j){if(this.HX.yI)this.HX.yI(j);else if(this.HX.Az){var n=this.HX.Az,Q=new ar(n.o,!0);
Q.I=n.I;Q.data=n.h;Q.data.J=j;Q.in=!0;this.a(Q)}};gN.prototype.S=function(){ij.prototype.S.call(this);
this.ks.S();if(this.C9)this.C9.S()};gN.prototype.pX=function(j,n){this.HX=n;this.C9.p(n.Xo);this.C9.Pr();
this.avV.innerHTML=n.a9V?n.a9V:"";this.Mu(null)};function hw(){ij.call(this,[1,5],"open_from_url");this.SE=null;
var j=V.d("div","form");this.body.appendChild(j);this.afN=new cE("URL",null,22);j.appendChild(this.afN.Z);
V.pd(j);this.ahK=new aY([21,0],[[21,2],[21,1]]);j.appendChild(this.ahK.Z);this.ks=V.Ud(this,j)}hw.prototype=new ij;
hw.prototype.S=function(){ij.prototype.S.call(this);this.ks.S();this.ahK.S()};hw.prototype.pX=function(j,n,Q){this.afN.Pr();
this.SE=null;if(j&&Q.indexOf(j)!=-1)this.SE=Q.indexOf(j)};hw.prototype.Rp=function(j){var n=new ar(x.E.B,!0),Q=this.afN.j();
n.data={Q:x.l.JH,_X:{url:Q,e$:!0,SE:this.ahK.j()==1?this.SE:null}};this.a(n);this.close()};function kF(){ij.call(this,[12,79],"preferences");
this.H=null;var j=V.d("div","form");this.body.appendChild(j);this.IH=[new k9([8,2]),new ci,new ci,new k9([8,4]),new ci,new hQ([12,80,3],[[12,93,3],[12,80,4]]),new jc([12,80,5],.02,100,null,2),new hQ(null,K.Ai.BP),new hQ([12,80,6],K.Ai.BP),new k9("Remind me to save"),new k9("Glass Menus"),new jc("Cursor Offset",0,200),new cE("Dezgo API Key")];
for(var v=0;v<this.IH.length;v++){var n=this.IH[v];n.parent=this;n.P(x.E.f,this.P3,this);if(v==9)continue;
if(v==2){var Q=new kC("Local guides:");j.appendChild(Q.Z)}j.appendChild(n.Z);if(v!=0&&v!=1&&v!=3&&v!=4&&v!=6)V.pd(j)}}kF.prototype=new ij;
kF.prototype.S=function(){ij.prototype.S.call(this);for(var v=0;v<this.IH.length;v++)this.IH[v].S()};
kF.prototype.pX=function(j,n,Q){};kF.prototype.sW=function(j,n){this.H=j;var Q=j.c8;this.IH[0].p(Q.qO);
this.IH[1].au(Q.ag);this.IH[2].au(Q.cA);this.IH[3].p(Q.ip);this.IH[4].au(Q.OE);this.IH[5].p(Q.T0);this.IH[6].p(Q.pq);
this.IH[7].p(Q.EV);this.IH[8].p(Q.bp);this.IH[9].p(j.iw==1);var a=window.locStor.getItem("__glm");this.IH[10].p(a=="1");
this.IH[11].p(j.Bb);var B=window.locStor.getItem("__dak");this.IH[12].p(B?B:"")};kF.prototype.P3=function(j){var n=this.IH;
if(j.target==n[9])this.H.iw=1-this.H.iw;var Q=K.u(this.H.c8);Q.qO=n[0].j();Q.ag=n[1].v2();Q.cA=n[2].v2();
Q.ip=n[3].j();Q.OE=n[4].v2();Q.T0=n[5].j();Q.pq=n[6].j();Q.EV=n[7].j();Q.bp=n[8].j();var a=window.locStor;
a.setItem("__glm",n[10].j()?"1":"0");this.H.Bb=n[11].j();var B=n[12].j();if(B=="")a.removeItem("__dak");
else a.setItem("__dak",B);var m=new ar(x.E.B,!0);m.data={Q:x.l.m6,_X:b3.hl,L3:Q};this.a(m)};function je(){ij.call(this,[11,8],"saveforweb");
this.aoF="";this.P("closebtn",function(){this.p4.Mq()},this);this.uM=null;this.RC=null;this.aeQ=null;
this.H=null;V.BZ(this.body,"flexrow");this.body.style.padding="0";var j=V.d("div");V.v(j,"position:relative;");
var n=V.d("div");this.body.appendChild(j);this.body.appendChild(n);this.sa=V.d("div","imgcont");j.appendChild(this.sa);
this.p4=new cx;this.p4.rs(512,512);var Q=this.Ao=V.d("video");Q.setAttribute("controls","");Q.setAttribute("preload","auto");
Q.setAttribute("loop","");this.PV=V.d("div");V.v(this.PV,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
j.appendChild(this.PV);var a=this.at=V.d("div","form cell");V.v(a,"width:195px; padding:9px 13px;");
n.appendChild(a);this.$I=new cE([12,48],null,7.6);this.$I.B3();a.appendChild(this.$I.Z);var B=fj.Kf();
B[B.indexOf("WEBP")]="webP";this.oG=new hQ([12,50],B);this.oG.Z.style.marginRight="0";this.oG.B3();a.appendChild(this.oG.Z);
this.oG.P(x.E.f,this.p9,this);V.pd(a);this.ik=new hn(!0,!0,!1,!0);this.ik.B3();this.ik.P(x.E.f,this.p9,this);
this.ik.VD.Z.style.paddingBottom="8px";a.appendChild(this.ik.Z);this.SW=new aT;this.SW.P(x.E.f,this.p9,this);
a.appendChild(this.SW.Z);this.XT=new ef([1,2],!0,null,!0);this.XT.P("click",this.Rp,this);a.appendChild(this.XT.Z)}je.prototype=new ij;
je.prototype.FW=function(j,n){return j!=null};je.prototype.S=function(){ij.prototype.S.call(this);this.ik.S();
this.$I.S();this.oG.S();this.SW.S();this.XT.S()};je.prototype.Rp=function(j){var n=this.$I.j().trim(),Q=fj.Kf()[this.oG.j()],a=Q=="JPG"||Q=="PNG"||Q=="GIF"||Q=="SVG"||Q=="WEBP",B=fj.Mi(Q),m="."+Q.toLowerCase(),R=this.RC,q=n+m,U=this.uM,l=U.XZ,b=this.SW.j();
if(U.M3())b.pop();var D=l.length!=0&&a?b.pop():0;if(D!=0){var c=[],_={},p=new b4(0,0,U.q,U._),X=U.rd();
for(var v=0;v<l.length;v++)c.push(N.Ie.$O(l,v));c.reverse();var g=K.s.a7a([0,0,U.q,U._],c),F=[];for(var v=0;
v<g.length;v++){var k=g[v],I=new b4(k[0],k[1],k[2]-k[0],k[3]-k[1]),dv=""+(v+1);if(dv.length<2)dv="0"+dv;
dv=n+"_"+dv;if(k[4]!=null&&l[k[4]].v.Nm)dv=l[k[4]].v.Nm.v;var e="images/"+dv+m;F.push(e);if(D==2&&k[4]==null)continue;
var H=K.U(I.$()*4);K.EC(X,p,H,I);_[e]=new Uint8Array(B.OR([[H.buffer,0,U.Mp,U.bc]],I.q,I._,b))}F.push("images/spacer.gif");
var A="<html>\n<head>\n<title>"+n+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
A+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
A+="<!-- Save for Web Slices ("+U.name+") -->\n";A+=K.s.a3X(g,F,l,D)+"\n";A+="<!-- End Save for Web Slices -->\n";
A+="</body>\n</html>\n";var Z=K.U(Math.round(A.length*1.5)),J=L._e(A,Z,0);_["index.html"]=Z.slice(0,J);
R=UZIP.encode(_);q=n+".zip"}else if(U.a4X()&&a&&b.pop()){var s=[],p,X;if(fL==0){p=new b4(0,0,U.q,U._);
X=U.rd();var E=U.root.children;for(var v=0;v<E.length;v++){var z=E[v].W;if(z.add.artb==null||!z.VH())continue;
s.push([z.getName(),z.v_()])}}else{p=U.AF();X=new Uint8Array(U.am9(this.H));var h=U.add.arts;for(var v=0;
v<h.length;v++){var d=h[v];s.push([d.DA,K.c.so(d.wS)])}}var _={};for(var v=0;v<s.length;v++){var Y,d=s[v][1];
if(Q=="SVG")Y=new Uint8Array(B.OR(U,d.q,d._,b,this.H,v));else{var C=K.U(d.$()*4);console.log(p,d);K.EC(X,p,C,d);
Y=new Uint8Array(B.OR([[C.buffer,0,U.Mp,U.bc]],d.q,d._,b))}_[s[v][0]+m]=Y}R=UZIP.encode(_);q=n+".zip"}var i=function(){if(U.Pd)aL.qd("act=1&id="+U.Pd);
this.p4.Mq();this.close();var m=fj.Kf()[this.oG.j()];bv.event("efmt_"+m.toLowerCase(),.1);var W=new ar(x.E.B,!0);
W.data={Q:x.l.Vi,data:R,name:q};this.a(W)}.bind(this);if(!this.H.ig||bv.uz()){i();return}var M=ex.Xf()!=0;
i();var W=new ar(x.E.B,!0),$=bw.OD("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),P=bw.OD(";QJXQ_*II9"),O=function(){W.data={Q:x.l.Vg,Z8:"account"};
this.a(W)}.bind(this);if(M){$=bw.OD("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
O=function(){};P=null}W.data={Q:x.l.Vg,Z8:bw.f5,J:$,yI:O,ary:P};if(Math.random()<.1||M)this.a(W)};je.prototype.pX=function(j,n){if(n.L5!=null)this.oG.p(n.L5);
this.uM=j;var Q=this.uM.name,a=Q.lastIndexOf("."),Q=a==-1?Q:Q.slice(0,a);this.$I.p(Q);var B=j.q,m=j._;
if(fL==1){var R=j.AF();B=R.q;m=R._}var q=B+","+m;if(q!=this.aoF){this.aoF=q;this.ik.p(new eE(B,m),j.Mp)}this.SW.a6e();
if(n.azK){this.ik.T4(3);this.SW.Zv.PDF[2].wJ.p(!0)}this.p9(null,!0)};je.prototype.a1i=function(j,n){return j<n&&j<660};
je.prototype.$k=function(j,n){return this.a1i(j,n)?new eE(0,0):new eE(Math.max(0,Math.min(150,(j-770)/2)),Math.max(0,Math.min(150,(n-590)/2)))};
je.prototype.rs=function(j,n,Q){this.Uw=j;this.WC=n;if(this.uM==null)return;var a=this.XT.Z,B=this.a1i(j,n),m,R,c="<span style=\"width:",_="display:inline-block; text-align:right;\">";
if(B){var q=this.at.getBoundingClientRect().height;m=j;R=n-Math.max(q,252);V.yZ(this.body,"flexrow")}else{m=Math.min(512,j-195-2*13);
R=Math.min(512,n-24);V.BZ(this.body,"flexrow")}var U=B?j-2*13:195;this.at.style.width=U+"px";this.$I.Xh.style.width=U-77+"px";
this.ik.rs(U);var l=fj.Kf()[this.oG.j()],b=fj.Mi(l);if(b.ps||b.a6)V.v(this.sa.firstChild,"display:block; width:"+m+"px; height:"+R+"px;");
else{this.p4.rs(m,R);this.Ao.width=m;this.Ao.height=R}if(this.RC==null)return;var D=this.RC.byteLength,p=c+64+"px;"+_+je.LK(D)+"</span>";
if(m>400)p+=c+90+"px; opacity:"+.5+";"+_+D.toLocaleString()+" B</span>";this.PV.innerHTML=p;if(Q)setTimeout(function(){this.rs(this.Uw,this.WC)}.bind(this),20)};
je.LK=function(j){var n=j.toString(2),Q=0;while(Q+10<n.length)Q+=10;var a=(j/Math.pow(2,Q)).toFixed(1);
if(a.endsWith(".0"))a=a.slice(0,-2);var B="B KB MB GB TB PB".split(" ")[Math.floor(Q/10)];return a+" "+B};
je.prototype.sW=function(j,n){this.H=j};je.prototype.p9=async function(j,n){var Q=this.uM,a=this.ik.j(),B=a.x,m=a.y,R=this.oG.j(),q=fj.Kf()[R],U=fj.ah2(Q)[0].length,l=["GIF","PNG","WEBP","MP4"].indexOf(q)!=-1&&U>1,X="";
if(l&&q!="MP4"&&n&&(U>4&&B*m>1024*1024||B*m*U>800*800*50)){var b=1;while(Math.max(B>>>b,m>>>b)>800)b++;
var D=window.confirm("Your animation is large ("+B+" x "+m+" px). Press \"OK\" to scale it to "+(100>>>b)+"%. Press \"Cancel\" to keep the size.");
if(D){this.ik.p(new eE(B>>>b,m>>>b),null,!0);B=B>>>b;m=m>>>b}}var c=Q.M3();this.SW.to(q,l,Q.XZ.length!=0,Q.a4X(),c!=null);
var _=window.locStor.getItem("sfwPrms");if(_==null)_={};else{_=JSON.parse(_);if(_.MP4&&_.MP4[0]==100)_.MP4[0]=50}var p=this.SW.j();
if(j&&j.target==this.SW){_[q]=p;window.locStor.setItem("sfwPrms",JSON.stringify(_))}else if(_[q]){this.SW.p(_[q],!0);
p=this.SW.j()}this.RC=await fj.gT(Q,q,B,m,p,this.H);if(this.RC==null){this.uM=null;return}V.cV(this.sa);
this.p4.Mq();var g=fj.Mi(q);if(g.a6){this.sa.innerHTML="<div></div>"}else if(g.ps){var F=B,k=m,I;if(q=="PDF"||q=="AI"){I=URL.createObjectURL(new Blob([this.RC],{type:"application/pdf"}))}else{I=URL.createObjectURL(new Blob([this.RC],{type:"image/svg+xml"}))}this.sa.innerHTML="<iframe src=\""+I+"\"></iframe>"}else if(q=="MP4"){var I=URL.createObjectURL(new Blob([this.RC]));
this.Ao.setAttribute("src",I);this.sa.appendChild(this.Ao)}else{var e=this.aeQ=g.z5(this.RC),H=e[0],A=H.nJ,F=A.q,k=A._;
if(H.tb){var Z=ICC.R(H.tb.buffer),J=17,s=ICC.U.sampleLUT(Z,J);for(var v=0;v<e.length;v++){var E=new Uint8Array(e[v].data);
ICC.U.applyLUT(s,J,E,E)}}this.p4.p(e,e.length>1?p[p.length-3]:0);this.sa.appendChild(this.p4.Z);X="background: rgba(0,0,0,0);"}V.v(this.sa,"display:block; "+(g.a6?"background:rgba(0,0,0,0);":"background-size:"+16/V.lS()+"px;")+X);
this.rs(this.Uw,this.WC,n)};function kX(){ij.call(this,[11,13],"shortcuts");this.H=null;var j=this.Zj=V.d("div","scrollable");
V.v(j,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(j);this.IC()}kX.prototype=new ij;
kX.prototype.S=function(){ij.prototype.S.call(this);this.IC()};kX.prototype.sW=function(j,n){this.H=j};
kX.prototype.pX=function(j,n,Q,a){if(V.gU(this.Z))this.IC()};kX.prototype.IC=function(){var j="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",n="",Q=i8,a=Q.Gm,B=Q.f8,m=Q.Y2;
n+="<h2 style=\"margin-top:0;\">Main Menu</h2>";n+=j;n+=this.P7([[0,0],"---",[1,0],[a,Q.g3],[1,2],[a,Q.VG],[1,3],[B,a,Q.VG],[1,8],[m,B,a,Q.VG],[0,1],"---",[2,0],[B,a,Q.oF],[2,1],[a,Q.oF],[5,0],[a,Q.IQ],[5,1],[a,Q.vj],[5,2],[a,Q.md],[2,2],"Delete",[2,3],[m,Q.Bo],[10,16],[m,a,Q.xw],[12,79],[a,Q.JO],[3],"---",[4,1],[a,Q.Cm],[4,2],[a,Q.W7],[4,5],[a,Q.Cg],[4,11],[a,Q.ky],[0,3],"---",[6,13],[B,a,Q.uN],[6,49,0],[a,Q.fk],[6,6,0],[m,a,Q.BH],[6,9],[a,Q.BH],[6,10],[a,Q.E],[0,5],"---",[7,0],[a,Q.l],[7,1],[a,Q._F],[7,2],[B,a,Q.ky],[0,7],"---",[8,0],[a,Q.Vm],[8,1],[a,Q.ZH],[8,3],[a,Q.D9],[8,2],[a,Q.JS],[8,4],[a,Q.zh],[11,13],"?"]);
n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";n+=j;n+=this.P7(["Vertical scroll","Wheel","Horizontal scroll",[a,"Wheel"],"Zooming",[m,"Wheel"]]);
n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
n+=j;n+=this.P7([[10,11],[a],[10,7],"Space",[10,17],[a,Q.Wc]]);n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
n+=j;var R=[],q=this.H;if(q==null)return;var U=q.F;for(var v=0;v<U.QT.length;v++){var l=U.QT[v],b=U.keys[v];
for(var D=0;D<l.length;D++)R.push(l[D].I.name,b?b.wp:null)}R=R.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[a,Q.UT]]);
n+=this.P7(R);n+="</div>";this.Zj.innerHTML=n};kX.prototype.P7=function(j){var n="",Q=!0;for(var v=0;
v<j.length;v+=2){var a=j[v],B=i8.da(j[v+1]);if(B==null){Q=!1;continue}var m=V.dh(i4.get(a));if(B=="---"){if(!Q)n+="<br/>";
n+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+m+"</div>"}else n+="<div>"+m+" <span style=\"float:right; font-weight:bold;\">"+B+"</span> </div>";
Q=!1}return n};function jh(j){ij.call(this,j?"Artboard Options":[8,11,1],(j?"a":"s")+"options");this.pW=null;
this.acs=j;var n=V.d("div","form");n.style.width="20em";this.body.appendChild(n);this.fh={Nm:[12,48],url:"URL",null:[12,71]};
this.IH={};for(var Q in this.fh){if(j&&Q!="Nm")continue;var a=new cE(this.fh[Q],null,15);this.IH[Q]=a;
n.appendChild(a.Z)}this.asQ=new kC([12,14,0]);n.appendChild(this.asQ.Z);this.JI=new hl(0,!0);n.appendChild(this.JI.Z);
this.ks=V.Ud(this,n)}jh.prototype=new ij;jh.prototype.pX=function(j,n,Q){var a=n.J;this.pW=JSON.stringify(a);
console.log(a);if(a.wS){this.IH.Nm.p(a.DA);var B=a.wS,m=B[0],R=B[1];this.JI.p([m,R,B[2]-m,B[3]-R])}else{for(var q in this.fh){this.IH[q].p(a[q]?a[q].v:"")}var U=a.bounds.v,m=U.Left.v,R=U.Top.v;
this.JI.p([m,R,U.Rght.v-m,U.Btom.v-R])}};jh.prototype.Rp=function(j){var n=JSON.parse(this.pW),Q=new ar(x.E.A,!0),a=this.JI.j(),B=a[0],m=a[1];
console.log(a);if(this.acs){n.DA=this.IH.Nm.j();n.wS=[B,m,B+a[2],m+a[3]];Q.I=N.$q;Q.data={Q:"rpl",J:n}}else{for(var R in this.fh){var q=this.IH[R].j();
n[R]={t:"TEXT",v:q}}var U=n.bounds.v;U.Left.v=B;U.Top.v=m;U.Rght.v=B+a[2];U.Btom.v=m+a[3];Q.I=N.uE;Q.data=n}Q.in=!0;
this.a(Q);this.close()};jh.prototype.S=function(){ij.prototype.S.call(this);this.ks.S();this.asQ.S();
this.JI.S()};function dL(){ij.call(this,[2,3],"fill");this.e8=null;var j=V.d("div","form padded");j.style.width="22em";
this.body.appendChild(j);this.WR="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Qb=new hQ([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.Qb.P(x.E.f,this.aju,this);j.appendChild(this.Qb.Z);this.sa=V.d("span");j.appendChild(this.sa);this.wF=new ci;
this.wF.parent=this;this.wF.au(0);this.jy=new hp;this.jy.parent=this;this.aHB=new hQ([12,19,0],af.Z1,af.vb);
j.appendChild(this.aHB.Z);this.qS=new jc([12,0],0,100,"%",0,!1);this.qS.p(100);j.appendChild(this.qS.Z);
this.kY=new k9([13,5]);this.kY.p(!1);j.appendChild(this.kY.Z);this.ks=V.Ud(this,this.body)}dL.prototype=new ij;
dL.prototype.FW=function(j,n){return j!=null};dL.prototype.Ys=function(){return!0};dL.prototype.aju=function(){var j=this.Qb.j(),n=this.wF.Z,Q=this.jy.Z,a=this.sa;
if(j==2)a.appendChild(n);else if(a.contains(n))a.removeChild(n);if(j==7)a.appendChild(Q);else if(a.contains(Q))a.removeChild(Q)};
dL.prototype.S=function(){ij.prototype.S.call(this);this.Qb.S();this.aHB.S();this.qS.S();this.kY.S();
this.ks.S()};dL.prototype.Rp=function(j){if(!this.e8.rV())return;var n=new ar(x.E.X2,!0),Q=this.Qb.j();
n.data=N.K6.UZ(this.WR[Q],af.Yh[this.aHB.j()],this.qS.j()/100,this.wF.j(),this.kY.j(),this.jy.j());this.close();
this.a(n)};dL.prototype.pX=function(j,n){this.e8=j};dL.prototype.sW=function(j,n){if(n==b3.Od||n==b3.PT){this.jy.gn(j._f);
this.jy.p({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function aF(){ij.call(this,[14,9],"stroke");this.H=null;this.at=V.d("div","form");V.v(this.at,"width:24em");
this.body.appendChild(this.at);this.lV=new jz("FrFX",!0);this.lV.parent=this;var j=["Sz","Styl","Md","Opct"].concat(g8.WE);
for(var v=0;v<j.length;v++){var n=this.lV.kW[j[v]].Z;this.at.appendChild(n)}this.xb=!1;this.ks=V.Ud(this,this.body)}aF.prototype=new ij;
aF.prototype.FW=function(j,n){return j!=null};aF.prototype.Ys=function(){return!0};aF.prototype.S=function(){ij.prototype.S.call(this);
this.ks.S();this.lV.S()};aF.prototype.Rp=function(j){var n=this.lV.j(),Q={classID:"Strk"};Q.Md=n.Md;
Q.Opct=n.Opct;Q.Clr=n.Clr;Q.Wdth={t:"long",v:n.Sz.v.val};var a=g8.stroke.types.indexOf(n.Styl.v.FStl);
Q.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][a]}};var B=new ar(x.E.X2,!0);B.data={ep:"stroke",Tu:Q};
this.close();this.a(B)};aF.prototype.pX=function(j,n){if(!this.xb){var Q=g8.sp[g8.order.indexOf("FrFX")];
Q=JSON.parse(Q);this.lV.update(j,Q);this.xb=!0}var Q=this.lV.j(),a=this.H.Z4;Q.Clr.v=K.Gp.Db({n:a>>16&255,i:a>>8&255,b:a&255});
this.lV.update(j,Q)};aF.prototype.sW=function(j,n){this.H=j};function d3(){ij.call(this,[11,9],"textwarp");
this.IH=new cf;this.IH.P(x.E.f,this.XL,this);this.IH.parent=this;this.at=V.d("div","form");V.v(this.at,"width:20em");
this.body.appendChild(this.at);this.at.appendChild(this.IH.pg.Z);this.at.appendChild(this.IH.Kn.Z);this.at.appendChild(this.IH.dz.Z);
this.at.appendChild(this.IH.PX.Z);this.at.appendChild(this.IH.ml.Z);this.ks=V.Ud(this,this.at);this.P("closebtn",this.Qm,this)}d3.prototype=new ij;
d3.prototype.Ys=function(){return!0};d3.prototype.S=function(){ij.prototype.S.call(this);this.ks.S();
this.IH.S()};d3.prototype.XL=function(j){var n=this.IH.j();this.sT({Q:"warp",UH:n})};d3.prototype.sT=function(j){var n=new ar(x.E.A,!0);
n.I=N.BT;n.data=j;n.in=!0;this.a(n)};d3.prototype.Qm=function(j){this.sT({Q:"warpCancel"})};d3.prototype.Rp=function(j){this.sT({Q:"warpConfirm"});
this.close()};d3.prototype.pX=function(j,n){var Q=j.T[j.X[0]];this.IH.p(Q.add.TySh.ED)};function bW(){ij.call(this,[11,12,0],"trim");
var j=this.at=V.d("div","form");V.v(this.at,"width:22em");this.body.appendChild(this.at);var n=new kC("Color To Trim:");
j.appendChild(n.Z);this.DM=new is(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.DM.p([!0]);this.at.appendChild(this.DM.Z);var n=new kC("Sides:");j.appendChild(n.Z);this.mP=new is(null,["Top","Left","Bottom","Right"]);
this.mP.p([!0,!0,!0,!0]);this.at.appendChild(this.mP.Z);this.ks=V.Ud(this,this.body)}bW.prototype=new ij;
bW.prototype.FW=function(j,n){return j!=null};bW.prototype.Ys=function(){return!0};bW.prototype.S=function(){ij.prototype.S.call(this);
this.DM.S();this.mP.S();this.ks.S()};bW.prototype.Rp=function(j){var n=this.DM.j().indexOf(!0),Q=this.mP.j(),a=new ar(x.E.X2,!0);
a.data=N.MT.I3(n,Q);this.close();this.a(a)};function kx(){ij.call(this,"Raw Photopea","rawpea");this.nN=null;
this.tG=null;this.body.style.padding="0";var j=this.zR=new i1["Adobe Camera Raw Filter"](!0),n="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(j.Z);this.ks=new ef([1,0],!0,null,!0);this.ks.P("click",this.Rp,this);this.xv=new ef(n+" JPG",!0,null,!0);
this.xv.P("click",this.aiW,this);this.xv.Z.style.marginTop="6px";j.gq(this.ks.Z);j.gq(this.xv.Z)}kx.prototype=new ij;
kx.prototype.$k=function(){return new eE(0,0)};kx.prototype.rs=function(j,n){this.zR.rs(j,n)};kx.prototype.S=function(){ij.prototype.S.call(this);
this.zR.S()};kx.prototype.aiW=function(j){var n=this.nN,Q=this.tG,a=fj.Mi("JPG").OR([[this.zR.j(!0).buffer]],Q.ek,Q.Ka,[85]),B=new ar(x.E.B,!0);
B.data={Q:x.l.Vi,data:a,name:"photo.jpg"};this.a(B)};kx.prototype.Rp=function(j){var n=this.nN,Q=this.tG,a=bZ.Eq(n),n={nJ:new b4(0,0,Q.ek,Q.Ka),data:this.zR.j(!0).buffer,bc:a},B=fj.og("Raw Photo",[n]),m=new ar(x.E.B,!0);
m.data={Q:x.l.kI,uM:B};this.a(m);this.ga();this.close()};kx.prototype.ga=function(){this.nN=null;this.tG=null;
this.zR.a4s()};kx.prototype.pX=function(j,n,Q,a){this.nN=n._x;var B=this.tG=K.raw.aGf(this.nN),m=K.raw.apX(n._x),R=ik.aH6(m);
K.raw.Cq(B.jB,B.jB,n._x,[R.uW,R.vM]);var q=fo.cL("Adobe Camera Raw Filter");this.zR.p(q,B.jB,new b4(0,0,B.ek,B.Ka))};
kx.prototype.qi=function(j){return!0};kx.prototype.hs=function(j,n,Q,a){ij.prototype.hs.call(this,j,n,Q,a);
this.zR.hs(a)};function dh(j){ij.call(this,j?[11,11,0]:[11,11,1],j?"vbitmap":"rcolors");this.HX=null;
this.vZ=null;this.avu=null;this.Wf=null;this.Qe=null;this.aAj=null;this.uM=null;this.H=null;this.TL="";
this.xq=j;this.Nr=this._J.bind(this);this.a8m=!1;this.body.style.padding="0";this.at=V.d("div","form hbar padded");
this.body.appendChild(this.at);this.cd=new is(null,["Fill","Stroke","Labels"]);this.cd.P(x.E.f,this._J,this);
var n=V.d("span","rangecontFloat form padded"),U=16;n.appendChild(this.cd.Z);V.v(n,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var Q=new eD;Q.Z=n;var a=this.AW={cnum:new i7([12,82],2,50,null),nois:new k9([12,81]),mode:new hQ(null,["Cartoon","Photo"]),segm:new k9("Segmentize"),cbok:new k9("Coloring book"),poly:new k9("Polygon"),merg:new k9("Merge colors"),polE:new i7("Roughness",2,30,null),dthr:new k9([12,23,3]),vprm:new ef("\u2026",!1,null,!0),ok:V.Ud(this,null,!1)},B=this;
for(var m in a){var R=a[m];R.parent=this;if(m=="ok"){}else if(m=="vprm"){R.P("click",function(b){var D=a.vprm.Z.getBoundingClientRect(),c=new ar(x.E.B,!0);
c.data={Q:x.l.Ix,cB:Q,x:D.left,y:D.top+20};B.a(c)})}else R.P(x.E.f,this._J,this)}var q=this.jo=V.d("div","flexrow");
this.body.appendChild(q);V.v(q,"background-color:var(--bg-canvas)");this.Wb=new cx;this.Wb.P("viewchange",this.zi,this);
this.W5=new cx;this.q$=V.d("canvas");V.v(this.q$,"margin:0 0 0 1px; padding:0; cursor:grab;");this.Pf=this.q$.getContext("2d");
var l=K.U(16*16*4);K.WU(l,U,U,8);this.BU=K.scale.MG(l,U,U);this.Wb.a2A(this.q$);this.Wb.O2(this.W5);
this.W5.O2(this.Wb);q.appendChild(this.Wb.Z);if(j)q.appendChild(this.q$);else q.appendChild(this.W5.Z)}dh.prototype=new ij;
dh.prototype.$k=function(){return new eE(0,0)};dh.prototype.Ys=function(){return!0};dh.prototype.rs=function(j,n){this.Uw=j;
this.WC=n;n=n-44;if(j<600)n-=29;if(this.HX==null)return;var Q=this.HX.nJ,a=aW.xy(j,n,Q.q,Q._);if(a==1)n-=3;
if(a==0){j=Math.floor(j/2);V.BZ(this.jo,"flexrow")}else{n=Math.floor(n/2);V.yZ(this.jo,"flexrow")}V.w9(this.q$,j,n);
this.Wb.rs(j,n);if(this.xq)this.zi();else this.W5.rs(j,n)};dh.prototype.hs=function(j,n,Q,a){this.Wb.hs(a)};
dh.prototype.S=function(){ij.prototype.S.call(this);for(var j in this.AW)this.AW[j].S()};dh.prototype.pX=function(j,n){this.uM=j;
this.Qe=null;var Q=j.T[j.X[0]],a=K.WM.aun(Q.buffer.buffer,Q.s.q,Q.s._).azx,B=a/((Q.s.q-2)*(Q.s._-2)),m=this.AW;
m.cnum.p(20);m.nois.p(B<.75);m.mode.p(B<.75?1:0);m.segm.p(!1);m.cbok.p(!1);m.poly.p(!1);m.merg.p(!0);
m.polE.p(1);m.dthr.p(!1);var R=Q.s.O();R.x=R.y=0;this.HX={nJ:R,data:Q.buffer.buffer.slice(0)};this.vZ=null;
this.rs(this.Uw,this.WC);this.Wb.p([this.HX]);this.Wb.vh();this.a8m=!0;this.cd.p([!0,!1,!1]);setTimeout(this.Nr,20)};
dh.prototype._J=function(){var j=!0,n=Date.now(),Q=this.HX,a=this.AW,B=a.cnum.j(),m=a.nois.j(),R=a.mode.j(),q=a.segm.j(),U=a.cbok.j(),l=a.poly.j(),b=a.merg.j(),D=a.polE.j(),E=null;
if(R==0)q=l=U=!1;var c=a.dthr.j(),_=["cnum","nois","mode"];if(R==1){_.push("cbok");if(this.xq){_.push("poly");
if(l)_.push("polE");_.push("vprm")}}if(this.xq)_.push("merg");else _.push("dthr");_.push("ok");V.cV(this.at);
for(var v=0;v<_.length;v++)this.at.appendChild(a[_[v]].Z);if(j)console.log("---------------------------------------");
var p=m||q,X=m+","+q;if(p&&(this.vZ==null||this.TL!=X)){this.TL=X;var g=new Uint8Array(Q.data),F=Q.nJ.q,k=Q.nJ._;
if(m){if(this.Qe==null){this.Qe=g.slice(0);K.fm.uj=35;K.fm.ao(this.Qe,this.Qe,F,k,15,1);if(j){console.log("denoise",Date.now()-n);
n=Date.now()}}g=this.Qe.slice(0)}else g=g.slice(0);if(q){var I=K.WM.Hm(g,F,k,40,10),e=I.JO,H=new Uint8Array(e*4);
for(var v=0;v<e;v++){var A=v*4,Z=v*6,J=1/I.IG[Z+5];H[A]=I.IG[Z]*J;H[A+1]=I.IG[Z+1]*J;H[A+2]=I.IG[Z+2]*J}for(var v=0;
v<g.length;v+=4){var s=I.kc[v>>>2]*4;g[v]=H[s];g[v+1]=H[s+1];g[v+2]=H[s+2]}if(j){console.log("segm",Date.now()-n);
n=Date.now()}}this.vZ={nJ:Q.nJ.O(),data:g.buffer}}if(p)Q=this.vZ;var g=new Uint8Array(Q.data),F=Q.nJ.q,k=Q.nJ._;
for(var v=0;v<g.length;v+=4){if(g[v+3]<10)g[v]=g[v+1]=g[v+2]=g[v+3]=0}if(R==0){E=K.WM.a3V(g,F,k,B,p?.1:2e-4);
if(j){console.log("quantize",Date.now()-n);n=Date.now()}}if(R!=0||E&&E.Oc.length<2){E=c3.atN(g.buffer,B,F,k,null,U)}if(this.xq){var z=E.kc.slice(0);
for(var v=0;v<z.length;v++)z[v]++;this.$x=K.WM.aFv(E.kc,F,k);var h=new Uint8Array((F+2)*(k+2));K.Gc(z,new b4(1,1,F,k),h,new b4(0,0,F+2,k+2));
if(!l){var d=Math.round((F+2)*(k+2)/1e4),Y=cc.p2(h.slice(0),F+2,k+2,Math.min(12,d)),C=cc.H9(Y);if(j){console.log("trace smooth",Date.now()-n);
n=Date.now()}}else{var C=K.c.Qs(h,F+2,k+2,D,j)}var i=C.length,M=new j8(1,0,0,1,-1,-1);for(var v=0;v<i;
v++)K.c.C(C[v].path.g,M,C[v].path.g);this.Wf=C;this.avu=E;for(var v=0;v<i;v++){var W=C[v];if(E.Oc[W.color-1].est.q[3]>.05)continue;
var $=W.parent;while($!=-1){var P=C[$];$=P.parent;if(E.Oc[P.color-1].est.q[3]<.05)break;K.c.concat(P.path,K.c.reverse(W.path))}}if(j){console.log("finding holes",Date.now()-n);
n=Date.now()}for(var v=0;v<C.length;v++){var O=C[v];if(O.parent!=-1){var G=C[O.parent];O.parent=G;if(G.cR==null)G.cR=[];
G.cR.push(O)}O.depth=O.parent==-1?0:O.parent.depth+1}if(b){function t(ay,u){var dO={},fy=0,bg=0;for(var v=0;
v<ay.length;v++){var w=ay[v].color,f4="c"+w;if(w==u)throw w;if(dO[f4]==null)dO[f4]=0;dO[f4]++;if(dO[f4]>fy){fy=dO[f4];
bg=w}}return bg}var y=[],r=[],u=-1,S=!0;for(var v=0;v<C.length;v++)if(C[v].parent==-1)r.push(C[v]);while(r.length!=0){var w=t(r,u);
u=w;for(var v=0;v<r.length;v++)if(r[v].color==w){var dj=r[v];y.push(dj);r.splice(v,1);v--;if(dj.cR)for(var o=0;
o<dj.cR.length;o++){r.push(dj.cR[o]);if(dj.cR[o].color!=w)S=!1}}}if(S)C=y;else{var T=[];for(var i6=0;
i6<500;i6++){var bH=[],Y=T[i6-1];T.push(bH);for(var v=0;v<C.length;v++){var O=C[v],G=O.parent;if(i6==0&&G==-1||i6!=0&&Y.indexOf(G)!=-1){bH.push(O);
C.splice(v,1);v--}}bH.sort(function(ay,dO){return ay.color-dO.color});if(C.length==0)break}for(var v=0;
v<T.length;v++)C=C.concat(T[v])}}else{var y=[],cg=[];while(C.length!=0){cg.push(C.shift());while(cg.length!=0){var bu=cg.pop();
y.push(bu);if(bu.cR)for(var v=0;v<bu.cR.length;v++){var O=bu.cR[v];C.splice(C.indexOf(O),1);cg.push(O)}}}C=y}this.Wf=C;
for(var v=0;v<C.length;v++){var W=C[v],hH=E.Oc[W.color-1].est.q;if(hH[3]<=.05){C.splice(v,1);v--;continue}}for(var v=1;
v<C.length;v++){var dK=C[v-1],W=C[v];if(dK.color==W.color&&(b||dK.parent==W.parent&&dK.depth>=2)){K.c.concat(dK.path,W.path);
C.splice(v,1);v--;continue}}if(j){console.log("reordering layers",Date.now()-n,i,C.length);n=Date.now()}this.zi()}else{var d8=new Uint32Array(F*k),d1=F*k,gH=this.aAj=new Uint8Array(d8.buffer);
if(c){var kh=[];for(var v=0;v<E.Oc.length;v++)kh.push(E.Oc[v].est.rgba);var s=K.U(F*k);UPNG.encode.dither(new Uint8Array(Q.data),F,k,kh,gH,s)}else{for(var v=0;
v<d1;v++){var w=E.Oc[E.kc[v]];d8[v]=w.est.rgba}}this.W5.p([{nJ:Q.nJ,data:d8.buffer}]);if(this.a8m){this.W5.vh();
this.a8m=!1}}};dh.prototype.zi=function(j){if(this.Wf==null)return;var n=this.cd.j(),Q=this.HX.nJ.q,a=this.HX.nJ._,B=this.Wf,m=this.avu.Oc,R=this.q$,q=this.Pf,U=this.Wb.O7(),b="rgba(0,0,0,0.3)";
q.setTransform(1,0,0,1,0,0);q.clearRect(0,0,R.width,R.height);q.translate(R.width/2,R.height/2);q.scale(U.yr,U.yr);
q.translate(U.k.x/U.yr-Q/2,U.k.y/U.yr-a/2);q.scale(1/U.yr,1/U.yr);q.fillStyle=this.BU;q.fillRect(0,0,Q*U.yr,a*U.yr);
q.scale(U.yr,U.yr);q.lineWidth=(Q+a)*5e-4;var l=this.DL();q.strokeStyle=b;for(var D=0;D<2;D++){if(!n[D])continue;
for(var v=0;v<B.length;v++){var c=B[v],_=l[c.color-1];if(_.NX==0)continue;q.fillStyle=_.pF;q.beginPath();
Typr.U.pathToContext({crds:c.path.g,cmds:c.path.rZ},q);if(D==0)q.fill();else q.stroke()}}if(n[2])this.aiY(q,Q,a)};
dh.prototype.DL=function(){var j=this.avu.Oc,n=[];for(var v=0;v<j.length;v++){var Q=j[v].est.q,a={n:Math.round(255*Q[0]),i:Math.round(255*Q[1]),b:Math.round(255*Q[2]),NX:Math.round(255*Q[3])};
a.pF="rgba("+a.n+","+a.i+","+a.b+","+a.NX/255+")";n.push(a)}return n};dh.prototype.aiY=function(j,n,Q){var a=this.DL(),B=this.a2j(n,Q,a);
function m(l,b,D,c){j.font=c+"px sans-serif";l++;var _=j.measureText(l);j.fillText(l,b-_.width/2,D+c*.25)}j.fillStyle="rgba(0,0,0,0.5)";
var R=this.$x;for(var v=0;v<R.length;v++){var q=R[v];if(q[3]<n*Q*5e-4)continue;m(q[2],q[0],q[1],(n+Q)*.008)}j.fillStyle="rgba(255,255,255,1)";
j.fillRect(0,0,B,B*a.length);for(var v=0;v<a.length;v++){var U=a[v];j.fillStyle=U.pF;j.fillRect(B,B*v,B,B);
j.fillStyle="black";m(v,B*.5,B*(v+.5),B*.65)}};dh.prototype.a2j=function(j,n,Q){var a=Q.length*(j+n)/70;
return Math.min(n,a)/Q.length};dh.prototype.Rp=function(j){var n=this.uM,Q=n.X[0],a=n.T[Q],B=new ar(x.E.A,!0);
B.in=!0;B.I=N.ir;var m=this.H.wR,R=this;if(this.xq){var q=this.DL(),b=0,c=!1;function U(F,X){var g=n.JL();
g.wT=X.NX;g.G$|=16;g.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db(X)}};g.add.vmsk=new f.hx;g.add.vstk=g8.o0.cL(!0);
g.add.vmsk.z=F;g.sU();g.tI(n);return g}var l=this.cd.j();for(var v=0;v<3;v++)if(l[v])b++;if(b==0){alert("Enable Fill, Stroke or Labels");
return}var D=this.Wf;if(b==1&&l[0]&&D.length==1)c=!0;var _=n.T.slice(0,Q);if(!c)_.push(n.v4());if(l[0])for(var v=0;
v<D.length;v++){var p=D[v],X=q[p.color-1];K.c.C(p.path.g,new j8(1,0,0,1,a.s.x,a.s.y),p.path.g);var g=U(K.c.TW(p.path,!1),X);
g.kw("Path "+v);_.push(g)}if(l[1]){var g=n.JL();g.kw("Stroke");_.push(g);g.wT=128;g.G$|=16;g.add.SoCo={classID:"null",Clr:{t:"Objc",v:K.Gp.Db({n:0,i:0,b:0})}};
g.add.vmsk=new f.hx;g.add.vstk=g8.o0.cL(!1,!0);var F=[];for(var v=0;v<D.length;v++){var p=D[v],k=K.c.TW(p.path,!1);
if(v==0)F=k;else F=F.concat(k.slice(2))}g.add.vmsk.z=F;g.sU();g.tI(n)}if(l[2]){var I=this.HX.nJ,e=I.q,H=I._,A=this.a2j(e,H,q);
_.push(n.v4());function Z(d,Y,C,i){d=1+d+"";var g=n.JL();_.push(g);g.wT=i;g.add.lnsr="rend";var M=g.add.TySh=eR.N0(Y-A*.2,C+A*.25),W=g.add.TySh.Kt,$=eR.JB(W,0,0);
$.RW.FontSize=Math.round(A*.6);eR.A0(W,0,0,$);eR.Yr(W,0,d);g.YD();if(ji.nk(M,m,R)){ji.xe(g,m,n);n.ge()}}var J=this.$x;
for(var v=0;v<J.length;v++){var s=J[v];if(s[3]<e*H*5e-4)continue;Z(s[2],s[0],s[1],128)}var g=U(K.R.hi.Rect(0,0,A,A*q.length),{n:255,i:255,b:255,NX:255});
g.kw("white");_.push(g);for(var v=0;v<q.length;v++){var X=q[v],g=U(K.R.hi.Rect(A,A*v,A,A),X);g.kw("color");
_.push(g);Z(v,A/2,A*(v+.5),255)}var g=n.JL();g.kw("Labels");g.add.lsct=fM.NO;g.TM="pass";g.G$=24;_.push(g)}var E=_[_.length-1];
if(!c){var g=n.JL();g.kw(a.getName());g.add.lsct=fM.ko;g.TM="pass";g.G$=24;_.push(g);E=g}var z=a.add.lmfx;
if(z)E.add.lmfx=K.u(z);var h=_.length;for(var v=Q+1;v<n.T.length;v++)_.push(n.T[v]);B.data={Q:f.Gw,Wi:_,zI:[h-1],ID:[11,11,0]}}else{var _=n.T.slice(0),g=n.JL();
g.kw(a.getName());_.splice(n.X[0]+1,0,g);g.s=a.s.O();g.buffer=this.aAj;g.ge();B.data={Q:f.Gw,Wi:_,zI:[n.X[0]+1],ID:[11,11,1]}}this.a(B);
this.close();n.HM=!0};dh.prototype.sW=function(j,n){this.H=j};function aW(j){ij.call(this,[[7,11],[7,13]][j],["redge","magiccut"][j]);
this.DM=j;this.HX={};this.Zq=null;this.H=null;this.uM=null;this.t2=null;this.cS=null;this.body.style.padding="0";
this.ng=[];this.HI=-1;this.at=V.d("div","form hbar padded");this.body.appendChild(this.at);this.f2=new hG;
this.f2.parent=this;this.f2.P(x.E.f,this.FV,this);this.at.appendChild(this.f2.Z);var n=j==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
n=n.concat("tools/hand","zoomIn","zoomOut");var Q=j==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.zx=new dQ(null,n,Q,28);this.zx.P(x.E.f,this.hs,this);this.at.appendChild(this.zx.Z);this.ls=new i7([7,9],0,50,null);
this.ls.parent=this;this.ls.P(x.E.f,[this.azc,this._J][j],this);this.at.appendChild(this.ls.Z);var a=this.acj=new ef([2,2],!1,null,!0);
a.P("click",this.ga,this);this.at.appendChild(a.Z);var B=this.Pl=V.d("span","form");this.at.appendChild(B);
var m=this.aaa=new ef([12,90],!1,null,!0);m.P("click",function(U){alert(j==0?i4.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
B.appendChild(m.Z);var R=new ef("Tutorial",!1,null,!0);R.P("click",this.aA$,this);B.appendChild(R.Z);
this.jE=new dQ([12,46],["checker","#ffffff","#000000"]);this.jE.P(x.E.f,this.aFA,this);B.appendChild(this.jE.Z);
this.a0Q=new hQ(null,[[6,13],[6,2],[17,2]]);B.appendChild(this.a0Q.Z);this.ks=V.Ud(this,B,!1);var q=this.jo=V.d("div","flexrow");
this.body.appendChild(q);this.HE=new cx(!0);this.Yz=new cx;this.HE.O2(this.Yz);this.Yz.O2(this.HE);this.HE.P("mousedown",this.Vk,this);
this.HE.P("mousemove",this.a5,this);this.HE.P("mouseup",this.mz,this);this.HE.P("zoom",this.FV,this);
this.Yz.P("zoom",this.FV,this);q.appendChild(this.HE.Z);q.appendChild(this.Yz.Z)}aW.prototype=new ij;
aW.prototype.FW=function(j,n){var Q=j!=null&&!j.T[j.X[0]].s.ke();if(!Q)alert("The layer is empty.");
return Q};aW.prototype.$k=function(){return new eE(0,0)};aW.prototype.Ys=function(){return!0};aW.prototype.rs=function(j,n){this.Uw=j;
this.WC=n;n=n-12-33;if(j<900){V.v(this.Pl,"display:block;  text-align:right;");n-=29}else{V.v(this.Pl,"position:absolute;  right:0px")}this.jE.LY(j<440?null:[12,46]);
this.ls.LY(j<470?null:[7,9]);var Q=this.HX.s;if(Q){var a=aW.xy(j,n,Q.q,Q._);if(a==0){j=Math.floor(j/2);
V.BZ(this.jo,"flexrow")}else{n=Math.floor(n/2);V.yZ(this.jo,"flexrow")}this.HE.rs(j,n);this.Yz.rs(j,n)}};
aW.xy=function(j,n,Q,a){var B=j/2,m=n/2,R=Math.min(B/Q,n/a),q=Math.min(j/Q,m/a);return R>q?0:1};aW.prototype.S=function(){ij.prototype.S.call(this);
this.f2.S();this.ls.S();this.ks.S();this.jE.S();this.a0Q.S();this.acj.S();this.aaa.S()};aW.prototype.aA$=function(j){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.DM],"_blank")};
aW.prototype.sW=function(j,n){this.H=j;if(n==b3.o9||n==b3.Od){this.f2.gn(j.nE);this.f2.p(ic.GK(),j.nE.wP,j.nE.jy)}};
aW.prototype.hs=function(j,n,Q,a){var B=this.zx.j();if(a==null){this.HE.hs(cx.rc(B-3));return}this.t2=a;
var m=N.K6.jd(this.f2.j(),a);if(m!=null){this.f2.p(m);this.FV()}else if(a.r(i8.Gm)&&a.r(i8.oF)){var R=this.ng,q=0;
if(a.r(i8.f8)){if(this.HI+1<R.length)q=1}else if(this.HI>0)q=-1;if(q!=0){this.HI+=q;var U=this.HI,l=this.HX;
if(q==1)K.EC(R[U][2],R[U][0],l.iH,l.s);else K.EC(R[U+1][1],R[U+1][0],l.iH,l.s);l.lG=l.s;this._J()}}else if(B<3)this.HE.hs(a)};
aW.prototype.zM=function(j){var n=this.HX,Q=this.ng,a=K.U(j.$()*4);K.EC(n.ur,n.s,a,j);n.ur=null;var B=K.U(j.$()*4);
K.EC(n.iH,n.s,B,j);this.HI++;Q[this.HI]=[j.O(),a,B];while(Q.length>this.HI+1)Q.pop();while(Q.length>50){Q=Q.slice(1);
this.HI--}};aW.prototype.FV=function(){var j=this.H,n=jm.FB(this.f2.j(),j.nE.wP,this.HE.O7().yr);this.HE.QM(n)};
aW.prototype.Vk=function(j){var n=this.H,Q=this.HX,a=this.t2,B=this.f2.j(),m=this.HE.mm(),R=[16777215,8421504,0][this.zx.j()];
this.Zq=new jm(B,n.nE.wP,n.nE.jy,{u3:1,Hf:!0},R,n.g7,Q.s);Q.ur=Q.iH.slice(0);if(a!=null&&a.r(i8.f8)&&this.cS){this.Zq.moveTo(this.cS.x,this.cS.y);
this.Zq.lineTo(m.x,m.y)}else this.Zq.moveTo(m.x,m.y);this.a57()};aW.prototype.a5=function(j){var n=this.HX,Q=this.HE.mm();
this.Zq.lineTo(Q.x,Q.y);this.a57()};aW.prototype.mz=function(j){this.cS=this.HE.mm();this.zM(this.Zq.Eg());
this._J()};aW.prototype.a57=function(){var j=this.HX,n=this.Zq,Q=n.Iz();if(Q.ke())return;j.lG=Q;K.L.sg("norm",n.P$(),n.uI(),j.iH,j.s,Q,1);
this.aj3()};aW.prototype.ga=function(j){var n=this.HX;n.ur=n.iH.slice(0);n.lG=n.s;K.G5(n.iH,[4278190080,4292730333][this.DM]);
this.zM(n.s);this._J()};aW.prototype.pX=function(j,n){this.uM=j;var Q=j.T[j.X[0]],a=Q.s.O(),B=a.q,m=a._,U;
this.ls.p(this.DM==0?3:B*m<3e6?3:0);this.zx.p(j.K==null?0:1);this.ls.QE();if(this.DM==0&&j.K!=null||this.DM==1)this.ls.I6();
var R=this.DM,q=K.U(a.$());if(R==0&&j.K){K.Gc(j.K.G,j.K.s,q,a);var l=K.U(a.$());for(var b=0;b<m;b++)for(var D=0;
D<B;D++){var v=b*B+D,c=q[v];if(D>0&&q[v-1]!=c||D<B-1&&q[v+1]!=c||b>0&&q[v-B]!=c||b<m-1&&q[v+B]!=c)l[v]=255}U=K.style.J6(l,B,m)}else{U=new Float32Array(a.$());
U.fill(1e9)}a.x=a.y=0;this.HX={s:a,jB:Q.buffer,bX:q,lP:U,ZQ:K.U(a.$()*4),lU:K.U(a.$()*4),iH:K.U(a.$()*4),ur:null,jH:null,lG:a,a9I:{}};
if(R==0)this.azc();else{this.HX.a9I=N.Zk.aE6(j);var _=this.HX.iH;K.G5(_,4287137928);var p=K.kM.getSelection(Q.buffer,B,m),X=Math.round(B/60),g=Math.round(.7*m);
for(var b=0;b<m;b++)for(var D=0;D<B;D++){var F=(b*B+D)*4,k=p[F>>>2];k=k>128?255:128;if(b<X||b<g&&(D<X||D>B-1-X))k=0;
_[F]=_[F+1]=_[F+2]=k}this._J()}this.ng=[1];this.HI=0;var I=this.f2.j();I.Brsh.v.Dmtr.v.val=Math.round(a.q/(R==0?10:20));
this.f2.p(I);this.FV();this.rs(this.Uw,this.WC);this.HE.vh()};aW.prototype.azc=function(){var j=this.HX,n=j.s.$(),Q=this.ls.j(),a=j.bX.slice(0);
for(var v=0;v<n;v++)if(j.lP[v]<Q)a[v]=128;j.iH.fill(255);K.wj(a,j.iH,0);K.wj(a,j.iH,1);K.wj(a,j.iH,2);
j.lG=j.s;this._J()};aW.prototype._J=function(){var j=this.HX,B,q,U=0,l=0,b=0;this.aj3();var n=j.s,Q=n.q,a=n._,m=K.U(n.$()),R=j.jB;
K._W(j.iH,m,0);for(var v=0;v<m.length;v++){if(R[(v<<2)+3]!=255)continue;var D=m[v];if(D==0)U++;else if(D==255)l++;
else b++}if(U*l*b!=0){if(this.DM==0)q=K.Bl.Bl(n,R,m);else{var c=this.zx.j();for(var _=1;_<a;_++)for(var p=1;
p<Q;p++){var v=_*Q+p,X=m[v],g=m[v-1];if(X==0&&g==255||X==255&&g==0){B="The Red and Green should never touch! Erase it with Grey.";
break}}var F=Date.now(),k=this.HX.a9I;K.D1(m,k.vL);N.Zk.Em(k,!0,this.uM);var I=Math.ceil(this.ls.j()/2);
if(I==0){q=R.slice(0);K.wj(k.K,q,3)}else{var e=k.K.slice(0),H=k.K.slice(0);for(var A=0;A<I;A++){for(var _=1;
_<a-1;_++)for(var p=1;p<Q-1;p++){var v=_*n.q+p,Z=e[v];if(e[v-Q]!=Z||e[v-1]!=Z||e[v+1]!=Z||e[v+Q]!=Z)H[v]=128;
else H[v]=Z}var J=e;e=H;H=J}for(var _=0;_<a;_++)for(var p=0;p<Q;p++){var v=_*Q+p;if(m[v]==0||m[v]==255)e[v]=m[v]}q=K.Bl.Bl(n,R,e,20,!1)}}}else{q=R.slice(0);
K.wj(m,q,3)}for(var v=3;v<q.length;v+=4)if(q[v]>R[v])q[v]=R[v];if(n.N_(j.s))j.jH=q;else K.EC(q,n,j.jH,j.s);
this.aFA();if(B)alert(B,4e3)};aW.prototype.aj3=function(j){var n=this.HX,Q=n.lG;K.EC(n.jB,n.s,n.ZQ,n.s,Q,!0);
var a=n.iH,B=n.s,m=Date.now();if(this.DM==1){var R=new Uint32Array(256);R[0]=4278190335;R[255]=4278255360;
var q=K.U(Q.$()*4),U=Q.$();K.EC(a,B,q,Q);a=q;B=Q;var l=new Uint32Array(a.buffer);for(var v=0;v<U;v++)l[v]=R[l[v]&255]}console.log(Date.now()-m);
K.L.sg("norm",a,B,n.ZQ,n.s,Q,.3);this.HE.p([{nJ:n.s,data:n.ZQ.buffer}],null,null,Q)};aW.prototype.aFA=function(j){var n=this.HX;
K.G5(n.lU,[0,4294967295,4278190080][this.jE.j()]);K.L.sg("norm",n.jH,n.s,n.lU,n.s,n.s,1);this.Yz.p([{nJ:n.s,data:n.lU.buffer}])};
aW.prototype.Rp=function(j){var n=this.uM,Q=this.HX,a=this.a0Q.j(),B=n.T[n.X[0]],m=new ar(x.E.A,!0);
m.in=!0;var R=B.s.O();if(a==0&&B.VH()||a!=0&&!B.VH()){m.I=N.ir;m.data={Q:f.yy,W:n.X[0]};this.a(m)}if(n.K!=null){m.I=N.D4;
m.data={Q:"fromAction",bm:N.NJ.qy()};this.a(m)}if(a==0){var q=n.T.slice(0),U=n.JL();U.kw(B.getName());
q.splice(n.X[0]+1,0,U);U.s=R;U.buffer=Q.jH;U.ge();m.I=N.ir;m.data={Q:f.Gw,Wi:q,zI:[n.X[0]+1],ID:[7,11]};
this.a(m)}if(a==1){var l=B.sJ();m.I=N.ir;m.data={Q:f.Fn,a0V:!0};this.a(m);var b=B.sJ();b.G=K.U(R.$());
b.s=R;b.color=0;b._r=!0;K._W(Q.jH,b.G,3);if(l){var D=b.Da(l);b.s=D.s;b.G=D.G;b.color=D.color}b.Dy();
B.tI()}if(a==2){var c={s:R,G:K.U(R.$())};K._W(Q.jH,c.G,3);m.I=N.D4;m.data={Q:"setsel",K:c,ID:this.dM};
this.a(m)}this.close()};function fQ(){ij.call(this,[1,13],"locstor");this.H=null;this.sA=[];var j=this.body,n=V.d("p");
n.textContent="These files are loaded every time you start Photopea.";j.appendChild(n);this.axj=0;this.aww=V.d("span");
j.appendChild(this.aww);V.v(this.aww,"display:inline-block;  width:12em;  font-weight:bold;");var Q=V.d("span","form");
j.appendChild(Q);this.lv=new ef([5,4],!1,null,!0);this.lv.P("click",this.P2,this);Q.appendChild(this.lv.Z);
this.IJ=new ef("Get all as ZIP",!1,null,!0);this.IJ.P("click",this.Zg,this);Q.appendChild(this.IJ.Z);
this.lh=new aI(!0);this.lh.parent=this;this.lh.qo(1);j.appendChild(this.lh.Z);V.v(this.lh.Z,"width: 40em; height: 25em")}fQ.prototype=new ij;
fQ.prototype.S=function(){ij.prototype.S.call(this);this.aww.textContent=i4.get([13,2])+": "+je.LK(this.axj);
this.lv.S()};fQ.prototype.sW=function(j,n){this.H=j;if(n==b3.YC)this.pX()};fQ.prototype.pX=function(j,n){var Q=this.H.if.Bj,U=0;
this.sA=[];for(var a in Q)this.sA.push(a);this.sA.sort(function(b,D){b=b.split(".");D=D.split(".");return b[1]==D[1]?b[0]<D[0]?-1:1:b[1]<D[1]?-1:1});
var B=Math.floor(100*V.lS()),m=Math.floor(16*V.lS()),R=[],q=[];for(var v=0;v<this.sA.length;v++){var a=this.sA[v],l=fQ.r9(a,Q[a],B,m);
R.push(l);q.push(a);U+=Q[a].byteLength}this.lh.YS(R,q,B,m);this.axj=U;this.S()};fQ.prototype.P2=function(j){var n=this.lh.j();
if(n.length==0){alert("Select a file first.");return}this.lh.p([]);var Q=this.H.if.Bj;for(var v=0;v<n.length;
v++)delete Q[this.sA[n[v]]];var a=new ar(x.E.B,!0);a.data={Q:x.l.m6,_X:b3.YC};this.a(a)};fQ.prototype.Zg=function(j){var n=this.H.if.Bj,Q={};
for(var a in n)Q[a]=new Uint8Array(n[a]);var B=UZIP.encode(Q);aL.save(B,"resources.zip")};fQ.r9=function(j,n,Q,a){var B=V.d("canvas"),q=0;
B.width=Q;B.height=a;var m=B.getContext("2d"),R=j.split(".").pop().toLowerCase();for(var v=0;v<R.length;
v++)q+=R.charCodeAt(v)*613<<8*v;m.fillStyle="#"+K.EA(q&16777215);m.fillRect(0,0,20,a);var U=Math.floor(14*V.lS());
m.fillStyle="#000000";m.font="bold "+U+"px sans-serif";var l=(a-U)/2,b=je.LK(n.byteLength),D=m.measureText(b);
m.fillText(b,Q-12-D.width,a-l);return B.toDataURL()};function g$(){ij.call(this,[1,15],"pmanager");this.H=null;
this.ZT=new hQ([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.ZT.P(x.E.f,this.pX,this);
this.body.appendChild(this.ZT.Z);var j=V.d("div","flexrow");this.body.appendChild(j);var n=this.aqg=V.d("div");
j.appendChild(n);var Q=V.d("div","form");j.appendChild(Q);V.v(Q,"width:140px; margin-left:12px");this.ayb=[b3.o9,b3.oy,b3.PT,b3.mt,b3.RX,b3.mM];
this.K3=[new hG,new c_,new hp,new jN,new eC,new kD];for(var v=0;v<this.K3.length;v++)this.K3[v].parent=this;
this.al=[];for(var v=0;v<4;v++){var a=new ef("Hello",!0,null,!0);a.P("click",this.Ks,this);this.al.push(a);
Q.appendChild(a.Z)}this.pX()}g$.prototype=new ij;g$.prototype.qi=function(j){return j==i8.Va||j==i8.Bo};
g$.prototype.Ks=function(j){var v=this.al.indexOf(j.target);this.K3[this.ZT.j()].JQ(v)};g$.prototype.S=function(){ij.prototype.S.call(this);
this.ZT.S();for(var v=0;v<this.K3.length;v++)this.K3[v].S();var j=this.al,n=this.ZT.j(),Q=b3.XN[this.ayb[n]],a=Q[0].toUpperCase();
j[0].LY([[23,6],"."+a]);j[1].LY(["VAR0 ."+a,[1,8]]);j[2].LY([6,37]);j[3].LY([5,4])};g$.prototype.sW=function(j,n){this.H=j;
this.pX()};g$.prototype.pX=function(j,n){if(!V.gU(this.Z))return;this.S();V.cV(this.aqg);this.aqg.appendChild(this.K3[this.ZT.j()].mB);
var Q=this.K3,a=this.H;if(a==null)return;Q[0].gn(a.nE);Q[1].Hd(a.Z4,a.g7);Q[1].gn(a.z_);Q[2].gn(a._f);
Q[3].gn([a.eE,a._f]);Q[4].gn(a.lE);Q[5].gn(a.SL)};function cw(j,n,Q){ij.call(this,n,"cwindow");this.a9L=new eE(Q[0],Q[1]-33);
this.at=V.d("div","form");V.v(this.at,"width:"+(Q[2]-Q[0])+"px; height:"+(Q[3]-Q[1])+"px");this.body.appendChild(this.at)}cw.prototype=new ij;
cw.prototype.$k=function(j,n){return this.a9L.O()};function jo(j){var n=jo.arB(j);ij.call(this,n,"res"+j);
var Q=this.asV.bind(this);window.addEventListener("message",function(B){if(typeof B.data=="string"&&B.data.startsWith("--et ")){console.log(B.data);
var m=this.a1w=B.data.slice(5).split(",");m[0]=parseFloat(m[0]);bv.a0D(m[0],m[1],Q)}}.bind(this));this.$I=n;
this.li=j;this.a62=null;this.TK=null;this.zp=0;this.dr=null;this.wn=null;this.a1w=null;this.H=null;V.v(this.body,"padding:0");
this.cG=new ef("",null,null,!0);this.body.appendChild(this.cG.Z);this.cG.P("click",this.j3,this);V.v(this.cG.Z,"position:absolute; margin-top: -28px;  margin-left:150px");
this.sM=new ef("\u25BC",null,null,!0);V.v(this.sM.Z,"position:absolute; margin-top: -28px;  margin-left:270px");
this.sM.P("click",this.aaA,this);this.body.appendChild(this.sM.Z);this.BX=V.d("span","form");this.body.appendChild(this.BX);
this.al=[];for(var v=0;v<9;v++){var a=new ef(jo.arB(v));this.al.push(a);if(v==j)a.p(!0);this.BX.appendChild(a.Z);
a.P("click",this.aol,this)}this.auW=new ef([5,3],null,null,!0);this.auW.P("click",this.aIm,this);this.a69=new ef("Upload Current Document as a Template",null,null,!0);
this.a69.P("click",this.aHC,this);this.a36=new cE("Creator / Brand name");this.XT=new ef([1,2],null,null,!0);
this.XT.P("click",this.Zg,this);this.w8=V.d("iframe","scrollable");V.v(this.w8,"border:none; margin:0; padding:0;");
this.U$=V.d("div","form scrollable padded");this.So=new fm(j);this.So.P("back",this.ga,this);this.So.P("save",this.ayO,this);
this.body.appendChild(this.w8)}jo.prototype=new ij;jo.arB=function(j){var n;if(j==0)n=[25,0];else if(j==1)n="Plugins";
else for(var Q in b3.XN)if(b3.XN[Q][4]==j)n=b3.XN[Q][3];return n};jo.prototype.aaA=function(j){this.BX.style.display=this.BX.style.display=="none"?"":"none"};
jo.prototype.aol=function(j){var v=this.al.indexOf(j.target);if(v==this.li)return;this.close();var n=new ar(x.E.B,!0);
n.data={Q:x.l.Vg,Z8:"res"+v};this.a(n)};jo.prototype.asV=function(j){this.j3();this.wn=JSON.parse(j.target.response);
this.j2()};jo.prototype.$k=function(j,n){return new eE(0,0)};jo.prototype.rs=function(j,n){this.Uw=j;
this.WC=n;this.e8=null;n=n-4;j=j;var Q=j>820,a="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",B="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
V.v(this.BX,Q?a:B);this.BX.style.marginTop=(Q?-31:0)+"px";this.sM.Z.style.display=Q?"none":"";var m=this.U$;
m.style.width=j-12+"px";m.style.height=n-12+"px";var m=this.So.Z;m.style.width=j-12+"px";m.style.height=n-12+"px";
var m=this.w8;m.style.width=j+"px";m.style.height=n+"px";this.oX()};jo.prototype.sW=function(j,n){this.H=j};
jo.prototype.S=function(){ij.prototype.S.call(this);for(var v=0;v<this.al.length;v++)this.al[v].S();
this.auW.S()};jo.prototype.pX=function(j,n,Q,a){this.e8=j;this.j3(null,!1)};jo.prototype.j3=function(j,n){var Q=n!=null?n:V.gU(this.w8);
if(Q){if(!bv.c$()){alert("You need to log in first!");return}var a=bv.ya();if(a==null)a={};this.TK=a.tpl?a.tpl.list:[];
this.a36.p(a.tpl&&a.tpl.brnd?a.tpl.brnd:"");this.oX()}else{this.w8.setAttribute("src","");this.w8.setAttribute("src",bv.xU("templates/?type="+this.li+"&rsrc="+this.H.uU.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(Q?this.U$:this.w8);var B=i4.get(this.$I);this.cG.LY(Q?"All "+B:"Add "+B)};jo.prototype.oX=function(){var j=i4.get(this.$I),n=this.TK,Q=this.li,q=450;
if(n==null)return;var a=this.U$;V.cV(a);var B=V.d("h1");a.appendChild(B);B.textContent="Share your "+j+" with the world!";
var m=V.d("ul");a.appendChild(m);var R=V.d("li");m.appendChild(R);R.textContent="By publishing your "+j+", you agree to let others use them for all kinds of purposes, even commercially.";
a.appendChild(this.auW.Z);if(Q==0)a.appendChild(this.a69.Z);V.pd(a);a.appendChild(this.a36.Z);a.appendChild(this.XT.Z);
V.pd(a);q=(this.Uw-20)/Math.max(1,Math.floor(this.Uw/q))-42;var U="display:inline-block; width:"+q+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var v=n.length-1;v>=0;v--){var l=n[v];if(l.type==null)l.type=0;if(l.type!=Q)continue;var b=V.d("div");
a.appendChild(b);V.v(b,U);var D=V.d("img");b.appendChild(D);D.setAttribute("src",l.thmb);V.v(D,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var c=V.d("h3");b.appendChild(c);c.textContent=l.name;V.v(c,"margin:0 0 10px 0");var _=V.d("p");b.appendChild(_);
_.textContent=l.desc;V.v(_,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var p=0;p<2;p++){var X=new ef(p==0?"Edit":"Delete",null,null,!0);
X.aDs=v;X.j2=p==0;X.P("click",this.a81,this);b.appendChild(X.Z)}}};jo.prototype.aHC=function(j){if(this.e8==null){alert("No document opened.");
return}var n=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!n)return;var Q=new ar(x.E.B,!0);Q.data={Q:x.l.UO,L5:"psd",$X:this.aoN.bind(this)};this.a(Q)};jo.prototype.aoN=function(j){this.ayS=j;
var n=new ar(x.E.B,!0);n.data={Q:x.l.UO,L5:"jpg",$X:this.aeb.bind(this),a21:1400};this.a(n)};jo.prototype.aeb=function(j){this.dr={type:0,catg:0,desc:"",file:this.ayS,name:this.e8.name.split(".")[0],thmb:j,publ:!0,utme:""};
this.j2()};jo.prototype.aIm=function(j){this.dr={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.j2()};jo.prototype.a81=function(j){this.zp=j.target.aDs;if(!j.target.j2){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.TK.splice(this.zp,1);this.Zg();this.oX();return}this.j2()};jo.prototype.j2=function(){if(V.gU(this.U$))this.body.removeChild(this.U$);
this.body.appendChild(this.So.Z);var j=this.dr?this.dr:this.wn?this.wn:this.TK[this.zp];if(j.type==null)j.type=0;
this.So.p(j)};jo.prototype.ayO=function(j){var n=this.So.j();if(this.dr)this.TK.push(n);else if(this.wn){var Q=this.a1w;
bv.a0D(Q[0],Q[1],this.ga.bind(this),JSON.stringify(n));return}else this.TK[this.zp]=n;this.Zg();this.ga()};
jo.prototype.ga=function(){var j=this.wn;this.dr=null;this.wn=null;this.body.removeChild(this.So.Z);
this.body.appendChild(this.U$);this.oX();if(j)this.j3()};jo.prototype.Zg=function(){var j=bv.ya();if(j==null)j={};
if(this.TK.length==0)delete j.tpl;else{j.tpl={list:K.u(this.TK)};var n=this.a36.j().trim();if(n!="")j.tpl.brnd=n}bv.SI(j,function(){alert("Saved.")})};
function bz(){ij.call(this,"Make Selection","makesel");var j=V.d("div","form");this.body.appendChild(j);
this.V2=new k9([12,25,1]);this.V2.p(!0);j.appendChild(this.V2.Z);V.pd(j);this.aBC=new eb(!0);j.appendChild(this.aBC.Z);
this.ks=V.Ud(this,this.body)}bz.prototype=new ij;bz.prototype.S=function(){ij.prototype.S.call(this);
this.aBC.S();this.V2.S();this.ks.S()};bz.prototype.Rp=function(j){var n=new ar(x.E.A,!0);n.I=N.D4;n.data={Q:"frompath",eT:[null,0,this.aBC.j(),this.V2.j()]};
this.close();this.a(n)};function j0(){ij.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.e8=null;this.Qu=null;
this.acJ=null;var j=this.azW=V.d("div","form");V.v(j,"width:20em");this.body.appendChild(j);this.iP=new aY([12,50],["PSD","PSB"]);
this.iP.P(x.E.f,this.p9,this);j.appendChild(this.iP.Z);V.KP(j);var n=new kC("Minify the file");j.appendChild(n.Z);
V.pd(j);var Q=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.eb=[];for(var v=0;v<Q.length;v++){var a=new k9(Q[v]);this.eb.push(a);j.appendChild(a.Z);a.P(x.E.f,this.p9,this)}V.KP(j);
this.x8=new kC("aa.psd");this.rS=new kC("10 kB");j.appendChild(this.rS.Z);this.aI1=new kC("1000 B");
j.appendChild(this.aI1.Z);this.ks=new ef([1,2],!0,null,!0);this.ks.P("click",this.Rp,this);j.appendChild(this.ks.Z);
this.qv=new ef(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.qv.P("click",this.Rp,this);j.appendChild(this.qv.Z);
this.P("closebtn",this.Qm,this)}j0.prototype=new ij;j0.prototype.pX=function(j,n,Q,a){var B=V.gU(this.qv.Z),m=j.FQ!=null&&j.FQ.Y9=="psd";
if(m&&!B)this.azW.appendChild(this.qv.Z);if(!m&&B)this.azW.removeChild(this.qv.Z);for(var v=0;v<this.eb.length;
v++)this.eb[v].p(!1);this.e8=j;this.p9()};j0.prototype.Rp=function(j){if(j.target==this.ks)aL.save(this.Qu,this.acJ);
else{if(this.eb[3].j()){alert("You should not save a ZIP as a PSD to Google Drive.");return}i3.acO(this.e8,this.Qu)}};
j0.prototype.Qm=function(){this.e8=null;this.Qu=null};j0.prototype.p9=function(){var j=this.e8,n=[!1,!1,!1,!1];
for(var v=0;v<3;v++)n[v]=this.eb[v].j();var Q=this.eb[3].j(),a=n[3]=this.iP.j()==1,B=j.name.slice(0,j.name.length-3),m=this.Qu=fj.Mi("PSD").OR(j,0,0,n),dv=this.acJ=B+"ps"+(a?"b":"d");
if(Q){var R={};R[dv]=new Uint8Array(m);m=this.Qu=UZIP.encode(R);dv=this.acJ=B+"zip"}this.x8.p(dv);this.rS.p(je.LK(m.byteLength));
this.rS.Z.style["font-size"]="2em";this.aI1.p(" \u2001 "+m.byteLength+" B");this.ks.LY(i4.get([1,2])+" \""+dv+"\"")};
j0.prototype.S=function(){ij.prototype.S.call(this);this.iP.S();this.ks.S();this.qv.S()};function ee(){ij.call(this,"Confirm","confirm");
this.yI=null;var j=V.d("div");V.v(j,"margin-bottom:1em");this.body.appendChild(j);this.C9=V.d("div");
this.C9.textContent="Hello";j.appendChild(this.C9);this.ks=V.Ud(this,this.body)}ee.prototype=new ij;
ee.prototype.Rp=function(j){if(this.yI==null)return;console.log("okconfirm");this.close();this.yI();
this.yI=null};ee.prototype.S=function(){ij.prototype.S.call(this);this.ks.S()};ee.prototype.pX=function(j,n){if(n.atA||n.auM)this.C9.innerHTML=n.J;
else this.C9.textContent=n.J;if(n.ary)this.ks.LY(n.ary);this.yI=n.yI;this.ks.Z.focus();if(n.atA!=null)this.Z.style.top=Math.random()*(window.innerHeight-150)+"px";
this.auK=n.atA!=null};ee.prototype.$k=function(j,n){return new eE(Math.max(0,(j-500)/2),Math.max(0,Math.min(60,(n-100)/2)))};
ee.prototype.rs=function(j,n){this.C9.style.width=j-30+"px"};function fq(){ij.call(this,[1,16,2],"newartb");
this.DM=0;this.IR=null;var j=V.d("div","form");j.style.width="260px";this.body.appendChild(j);this.lh=new hn;
j.appendChild(this.lh.Z);this.ks=V.Ud(this,j)}fq.prototype=new ij;fq.prototype.FW=function(j,n){return j!=null};
fq.prototype.Rp=function(j){var n=this.lh.j();this.IR.q=n.x;this.IR._=n.y;var Q=new ar(x.E.A,!0);Q.I=N.Ui;
Q.data={asc:this.IR,uO:this.DM};this.a(Q);this.close()};fq.prototype.S=function(){ij.prototype.S.call(this);
this.lh.S();this.ks.S()};fq.prototype.pX=function(j,n){this.DM=n.uO;var Q=new b4(0,0,j.q,j._);if(j.X.length!=0){var a=j.T[j.X[0]];
if(a.add.artb){Q=a.v_();Q.x+=Q.q+100}if(n.uO==1)Q=N.IP.uI(j)}this.IR=Q;this.lh.p(new eE(Q.q,Q._))};function ak(){ij.call(this,"Storage","storwindow");
V.v(this.body,"padding:0");this.NU=null;this.P("closebtn",this.lj,this);this.P("canclose",this.lj,this)}ak.prototype=new ij;
ak.prototype.sW=function(j,n){if(this.NU)this.NU.sW(j,n)};ak.prototype.$k=function(j,n){return new eE(Math.max(0,Math.min(150,(j-980)/2)),Math.max(0,Math.min(150,(n-590)/2)))};
ak.prototype.rs=function(j,n){this.Uw=j;this.WC=n;j=Math.min(j,980);n=Math.min(n,590);if(this.NU)this.NU.rs(j,n)};
ak.prototype.S=function(){ij.prototype.S.call(this);if(this.NU)this.NU.S()};ak.prototype.pX=function(j,n,Q,a){this.dM=n.uO==0?"Open from Storage":"Save to Storage";
this.S();if(this.NU==null){this.NU=new cU;this.NU.parent=this;this.body.appendChild(this.NU.Z);this.S();
this.rs(this.Uw,this.WC)}Storage.qo(n.uO,j?j.name:"");cU.J0(this.NU)};ak.prototype.lj=function(j){Storage.qo(0);
cU.Eb();if(j.w=="canclose")this.close()};function fN(){ij.call(this,[2,14],"varsdats");var j=this.at=V.d("div","form");
V.v(j,"width:300px");this.body.appendChild(j);this.e8=null;this.IM=0;this.H=null;this.PZ=new aY(null,[[2,14],"Data Sets",[1,8]]);
this.PZ.P(x.E.f,this.anD,this);this.tD=new fN.Oy;this.cm=new fN.sF;this.fz=new fN.W0;this.cm.P("activate",this._v,this);
this.fz.P("export",this.Nv,this);this.ks=V.Ud(this)}fN.prototype=new ij;fN.prototype.anD=function(j){var n=this.PZ.j(),Q=this.at;
V.cV(Q);Q.appendChild(this.PZ.Z);V.KP(Q);Q.appendChild([this.tD,this.cm,this.fz][n].Z);Q.appendChild(this.ks.Z)};
fN.prototype.Rp=function(j){var n=new ar(x.E.A,!0);n.I=N.ir;n.data={Q:f.Jg,J:JSON.stringify([this.tD.j(),this.cm.j()])};
this.a(n);this.close()};fN.prototype.S=function(){ij.prototype.S.call(this);this.ks.S();this.fz.S()};
fN.prototype.pX=function(j,n){this.e8=j;this.fz.e8=j;if(j==null)return;this.tD.pX(j,n);this.cm.pX(j,n);
this.PZ.p(0);this.anD();this.IM=0;this.fz.a0m()};fN.prototype.sW=function(j,n){this.H=j};fN.prototype.Nv=function(j){var n=this.tD.j(),Q=this.cm.j(),a=this.fz.j();
if(n.length==0){alert("There are no variables.");return}if(Q.length==0){alert("There are no data sets.");
return}var B=fj.afh(this.e8,n,Q,this.cm.aB_(),a[0],a[1],a[2],this.H,this);if(B!=null)aL.save(B,"images.zip")};
fN.prototype._v=function(j){var n=this.cm.X,Q=this.tD.j(),a=this.cm.j();if(Q.length==0){alert("There are no variables.");
return}if(a.length==0){alert("There are no data sets.");return}this.c5();this.IM+=fj.aE0(this.e8,this,Q,a,this.cm.aB_(),n)};
fN.prototype.c5=function(){var j=new ar(x.E.A,!0);j.I=N.jM;j.data={Q:"h_stepbck"};while(this.IM>0){this.a(j);
this.IM--}};fN.W0=function(){eD.call(this);var j=this.Z=V.d("div");this.aEa=new cE("Variable for file names");
j.appendChild(this.aEa.Z);V.KP(j);this.e8=null;this.bA=["JPG","PNG","PDF"];this.iP=new aY([12,50],this.bA);
this.iP.P(x.E.f,this.a0m,this);j.appendChild(this.iP.Z);this.SW=new aT;j.appendChild(this.SW.Z);this.IJ=new ef("Export all items",!0,null,!0);
this.IJ.P("click",this.Nv,this);j.appendChild(this.IJ.Z)};fN.W0.prototype=new eD;fN.W0.prototype.S=function(j){this.aEa.S();
this.iP.S();this.IJ.S();this.SW.S()};fN.W0.prototype.a0m=function(j){if(this.e8==null)return;var n=this.bA[this.iP.j()],Q=this.e8,a=Q.add.artd;
this.SW.to(n,null,null,a!=null&&a.Cnt.v>1)};fN.W0.prototype.Nv=function(j){this.a(new ar("export"))};
fN.W0.prototype.j=function(){var j=this.bA[this.iP.j()];return[j,this.SW.j(),this.aEa.j().trim()]};fN.sF=function(){eD.call(this);
this.ZJ=null;this.aCX=[];this.X=0;var j=this.Z=V.d("div","form");this.akK=new hh("Import a CSV file");
j.appendChild(this.akK.Z);this.akK.P(x.E.f,this.aAm,this);this.rj=V.d("div","scrollable");V.v(this.rj,"overflow:scroll;  height:234px;");
j.appendChild(this.rj);this.a1N=new hh("Source Images",!0);j.appendChild(this.a1N.Z)};fN.sF.prototype=new eD;
fN.sF.prototype.aAm=function(j){var n=this.akK.j();for(var Q in n){n=n[Q];break}this.ZJ=js.by(L.Cl(n));
this.HD()};fN.sF.prototype.aB_=function(){return this.a1N.j()};fN.sF.prototype.pX=function(j,n){var Q=this.ZJ=K.u(j.$h);
this.HD()};fN.sF.prototype.j=function(){return this.ZJ};fN.sF.prototype.HD=function(){var j=this.yt.bind(this),n=this.ZJ,a="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.aCX=[];var Q=V.d("table");V.v(Q,"border-collapse: collapse;");for(var v=0;v<n.length;v++){var B=V.d("tr"),m=n[v],R=v==0?"th":"td";
Q.appendChild(B);var q=V.d(R);B.appendChild(q);V.v(q,a+"cursor:pointer;");if(v!=0)q.textContent="\u2713";
this.aCX.push(q);q.addEventListener("click",j,!1);for(var U=0;U<m.length;U++){var q=V.d(R);q.textContent=m[U];
B.appendChild(q);V.v(q,a);q.setAttribute("title",m[U])}}V.cV(this.rj);this.rj.appendChild(Q)};fN.sF.prototype.yt=function(j){this.X=this.aCX.indexOf(j.currentTarget);
this.a(new ar("activate"))};fN.Oy=function(){eD.call(this);var j=this.Z=V.d("div","form marged");this.XQ=null;
this.iU=[];this.M4=[];this.$o=null;this.R2=new hQ([0,3],[]);this.R2.P(x.E.f,this.az$,this);j.appendChild(this.R2.Z);
this.a2D=[];var n=["Visibility","Text Content","Pixel Content"];for(var v=0;v<n.length;v++){V.KP(j);
var Q=new k9(n[v]);Q.P(x.E.f,this.ww,this);j.appendChild(Q.Z);V.pd(j);var a=new cE("Variable Name");
a.P(x.E.f,this.ww,this);j.appendChild(a.Z);this.a2D.push(Q,a)}};fN.Oy.prototype=new eD;fN.Oy.prototype.ww=function(j){var n=this.R2.j(),Q=this.$o[n],a=this.iU[n],B=this.XQ["l"+Q],m=this.a2D;
if(B==null)this.XQ["l"+Q]=B=[];while(B.length!=0)B.pop();for(var v=0;v<3;v++){var R=m[2*v+1].j().trim();
if(!m[2*v].j())continue;if(R.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}R=R.replaceAll(" ","");
var q={varName:R,trait:["visibility","textcontent","fileref"][v]};B.push(q);if(v==2){q.align="center";
q.clip="false";q.placementMethod="fit";q.valign="middle"}}if(B.length==0)delete this.XQ["l"+Q];this.pX()};
fN.Oy.prototype.az$=function(j){var n=this.R2.j(),Q=this.$o[n],a=this.iU[n],B=this.XQ["l"+Q],m=this.a2D;
if(B==null)B=[];for(var v=0;v<3;v++){var R=v==0||v==1&&a==0||v==2&&a==1;m[2*v].Q7(R);m[2*v].p(!1);m[2*v+1].Q7(R);
if(!R)m[2*v+1].p("")}for(var v=0;v<B.length;v++){var q=B[v],U=q.trait,l=["visibility","textcontent","fileref"].indexOf(U);
m[l*2].p(!0);m[l*2+1].p(q.varName)}};fN.Oy.prototype.pX=function(j,n){if(j){var Q=K.u(j.Wr),a=this.XQ={};
for(var v=0;v<Q.length;v++){var B=Q[v],m=B.docRef;m="l"+m.slice(4,m.length-2);if(a[m]==null)a[m]=[];
a[m].push(B)}this.$o=[];this.iU=[];this.M4=[];for(var v=j.T.length-1;v>=0;v--){var R=j.T[v],m=R.add.lyid;
if(R.add.lsct==fM.KB)continue;this.$o.push(m);this.iU.push(R.add.TySh?0:1);this.M4.push(R.getName())}}var q=[],U=this.M4;
for(var v=0;v<U.length;v++){q.push(U[v]+(this.XQ["l"+this.$o[v]]?" *":""))}var l=this.R2.j();this.R2.MD(q);
this.R2.p(l);this.az$()};fN.Oy.prototype.j=function(){var j=this.XQ,n=[];for(var Q in j){var a=j[Q];
for(var B=0;B<a.length;B++){a[B].docRef="id('"+Q.slice(1)+"')";n.push(a[B])}}return n};function dW(){ij.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.aHj=!1;var j=this.sy=[],n=V.d("div","form");V.v(n,"width:20em");this.body.appendChild(n);for(var v=0;
v<2;v++){var Q=new k9([22,4,2+v]);n.appendChild(Q.Z);V.pd(n);var a=new aY(null,[["N equal parts"],["N pixels per part"]]);
n.appendChild(a.Z);V.pd(n);var B=new i7("N",0,1e3);B.p(4);B.parent=this;n.appendChild(B.Z);V.pd(n);if(v==0)V.KP(n);
j.push(Q,a,B)}for(var v=0;v<j.length;v++)j[v].P(x.E.f,this.Uj,this);j.push(V.Ud(this,n));this.P("closebtn",this.c5,this)}dW.prototype=new ij;
dW.prototype.c5=function(){if(this.aHj){var j=new ar(x.E.A,!0);j.I=N.jM;j.data={Q:"h_stepbck"};this.a(j)}};
dW.prototype.Uj=function(j){this.c5();this.aHj=!0;var n=[];for(var v=0;v<6;v++)n.push(this.sy[v].j());
var Q={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var a=0;a<2;a++){if(!n[a*3])continue;var B=n[a*3+1],m=n[a*3+2];Q[["slices","pixels"][B]+["Across","Down"][a]]={t:"long",v:m}}var R=new ar(x.E.X2,!0);
R.data={ep:"divide",Tu:Q};this.a(R)};dW.prototype.Rp=function(j){this.close()};dW.prototype.S=function(){ij.prototype.S.call(this);
var j=this.sy;for(var v=0;v<j.length;v++)j[v].S()};dW.prototype.pX=function(j,n){this.aHj=!1};function kY(){ij.call(this,"Stroke Path","strokepath");
this.H=null;this.BM=null;this.a7J=null;this.ks=null;this.ay2=[N.B2,N.o9,N.pP,N.yX,N.Ir,N.$u,N.Ff,N.jf,N.YL,N.nx,N.S6,N.Y5,N.Pm,N.Tk,N.tQ]}kY.prototype=new ij;
kY.prototype.S=function(){ij.prototype.S.call(this);if(this.ks){this.BM.S();this.ks.S()}};kY.prototype.Rp=function(j){var n=this.ay2[this.BM.j()],Q=null;
for(var a in N.JJ)if(N.JJ[a]==n)Q=a;var B=new ar(x.E.X2,!0);B.data=N._I.RF(Q,this.a7J.j());this.close();
this.a(B)};kY.prototype.sW=function(j,n){if(this.H==null){var Q=[];for(var v=0;v<this.ay2.length;++v){Q.push(j.F.map[this.ay2[v]].I.name)}var a=V.d("div","form");
this.body.appendChild(a);this.BM=new hQ("Tool",Q);this.BM.p(1);a.appendChild(this.BM.Z);this.a7J=new k9("Simulate Pressure");
V.pd(a);a.appendChild(this.a7J.Z);this.ks=V.Ud(this,this.body)}this.H=j};function ie(){ij.call(this,[1,18],"linkview");
V.BZ(this.body,"form");var j=this.AW=[new cE(null,null,17),new ef([5,1],!1,null,!0),new ef([1,0],!1,null,!0)];
for(var v=0;v<3;v++){var n=j[v];this.body.appendChild(n.Z);if(v!=0)n.P("click",this.oM,this);if(v==0)V.pd(this.body)}}ie.prototype=new ij;
ie.prototype.pX=function(j,n){var Q=n.as2;if(Q.startsWith("https://"))Q=Q.slice(8);this.AW[0].p(Q)};
ie.prototype.oM=function(j){var n=this.AW,Q=n[0].j(),a=j.target==this.AW[1];if(a){navigator.clipboard.writeText(Q);
alert("Copied to a clipboard!")}else window.open("https://"+Q,"Shared")};function cQ(j){ij.call(this,j==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][j]);
this.pB=null;this.aoT=j;var n=V.d("div","form label8");V.v(n,"max-width:26em");this.body.appendChild(n);
this.kH=new hQ("Document",["abc","def"]);this.kH.P(x.E.f,this.ww,this);n.appendChild(this.kH.Z);V.pd(n);
this.DC=new hQ([12,4],["abc","def"]);this.DC.P(x.E.f,this.ww,this);n.appendChild(this.DC.Z);this.axu=new k9([4,11]);
this.C9=new cE([12,48]);this.C9.p("Alpha");if(j==0){}else{n.appendChild(this.C9.Z)}this.Hn=new eb(!0);
n.appendChild(this.Hn.Z);this.ks=V.Ud(this,n)}cQ.prototype=new ij;cQ.prototype.Ys=function(){return!0};
cQ.prototype.S=function(){ij.prototype.S.call(this);this.ks.S();this.kH.S();this.DC.S();this.C9.S();
this.axu.S();this.Hn.S()};cQ.prototype.ww=function(j){var n=this.aoT;if(j==null||j==this.kH){var Q=this.kH.j(),a=this.pB[Q],B=[];
if(n==0)B.push(a.T[a.X[0]].getName()+" Transparency",a.T[a.X[0]].getName()+" Gray");else B.push([5,3]);
for(var v=0;v<a.Kj.length;v++)B.push(a.Kj[v].name);this.DC.MD(B)}if(n==0)return;var m=this.DC.j();this.C9.Q7(m==0);
this.Hn.Q7(m!=0)};cQ.prototype.pX=function(j,n,Q){this.pB=Q;var a=[];for(var v=0;v<Q.length;v++){var B=Q[v].name;
a.push(B.length<30?B:B.slice(0,27)+"...")}this.kH.MD(a);this.kH.p(Q.indexOf(j));this.ww(null)};cQ.prototype.Rp=function(j){var n=this.aoT,Q=this.DC.j(),a=this.kH.j(),B=this.pB[a],m=this.Hn.j(),R,q=!1;
if(n==0){if(Q==1)q=!0;Q=Math.max(Q-1,0)}if(Q==0){R=new ar(x.E.X2,!0);if(n==0)R.data=N.NJ.SG(m,q?"Gray":"Trsp",B.T[B.X[0]].getName());
else R.data={ep:"duplicate",Tu:{classID:"null",Nm:{t:"TEXT",v:this.C9.j()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{R=new ar(x.E.A,!0);
if(n==0){R.I=N.D4;R.data={Q:"fromchannel",eT:[-4-Q,0,m]}}else{R.I=N.ir;R.data={Q:f.EH,BO:"seltochannel",eT:[Q-1,m]}}}this.close();
this.a(R)};function kE(){ij.call(this,"PeaMark","peamark");var j=V.d("span");j.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small><br/><br/>";
this.body.appendChild(j);var n=V.d("div","form");V.v(this.body,"width:300px;");this.body.appendChild(n);
this.awz=!1;this.ma=[];this.wZ=[];this.aER=[];for(var v=0;v<3;v++){var j=V.d("div");j.textContent="0";
n.appendChild(j);V.v(j,"text-align:center; font-size:2em");var Q=V.d("hr");this.wZ.push(Q);if(v!=2)n.appendChild(Q);
V.v(Q,"height:2px; background-color:#00ff00");var a=new ef("Test "+["CPU","GPU","free RAM"][v],!0,null,!0);
n.appendChild(a.Z);a.P("click",this.a7t,this);this.ma.push(j);this.aER.push(a)}V.pd(this.body);this.aBt=new ef("Browse scores",!1,null,!0);
var B=this.aBt.Z;this.body.appendChild(B);this.aBt.P("click",this.a5b,this);V.v(B,"position:absolute;top:100px;left:10px;");
this.a6a=new ef("Tweet your score!",!1,null,!0);var B=this.a6a.Z;this.body.appendChild(B);this.a6a.P("click",this.a5b,this);
V.v(B,"position:absolute;top:100px;right:10px;");this.h4=V.d("div","scrollable");this.body.appendChild(this.h4);
this.h4.style.height="160px";this.TL=[];this.aAJ=0;this.azQ=this.aiG.bind(this);this.aiA()}kE.prototype=new ij;
kE.prototype.a5b=function(j){var n=kE.w_,Q;if(j.target==this.aBt){Q="https://twitter.com/hashtag/peamark?f=live"}else{var a=n[n.length-1];
if(Math.min(a[2],a[3])==0){alert("Run both tests first.");return}Q="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+a[2]+"/"+a[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(Q,"_blank")};
kE.prototype.a7t=function(j){var n=this.aER.indexOf(j.target),Q=1024,a=1024,B=new b4(0,0,Q,a),m=this.azQ;
if(n==0){var R=K.U(B.$());for(var q=0;q<a;q++)for(var U=0;U<Q;U++)R[q*Q+U]=((q>>>7)+(U>>>7)&1)*255;this.TL=[n,R,Q,a];
for(var v=0;v<4;v++)m(!0)}else if(n==1){var l=K.U(B.$()*4),b=gz.cy(1,Q,a);b.set(l);K.G5(l,4278190335);
var D=gz.cy(0,Q,a);D.set(l);var c=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],_={w:gz.filter.alU,CT:new Float32Array([1/Q,1/a]),aCY:0,pV:20,aEZ:new Float32Array([0,1]),a2l:new Float32Array([0,0,0]),ayY:new Float32Array(c),a1o:new Float32Array(c)};
this.TL=[n,_,l,D,b];m(!0)}else{if(this.awz){alert("Close all documents before running this test.");return}this.TL=[n,[]];
m(!0)}this.azD=[[0,0],[0,0],[0,0]];this.aAJ=Date.now();setTimeout(this.azQ,20)};kE.prototype.aiG=function(j){var n=this.TL,Q=n[0],a=Date.now(),R=!1,q;
if(Q==0){K.style.J6(n[1],n[2],n[3])}else if(Q==1){gz.Rf(n[4]);gz.filter.df(n[1],n[3].K8);n[4].get(n[2])}if(j)return;
var B=Date.now()-a,m=this.azD[Q];m[0]+=B;m[1]++;if(Q<2){var U=[26,73];q=Math.round(1e3*U[Q]/(m[0]/m[1]));
var l=(Date.now()-this.aAJ)/5e3,R=l>1;this.wZ[Q].style.width=Math.min(100,l*100)+"%"}else{var b=128*(1<<20);
try{var D=new Uint8Array(b);D.fill(117);n[1].push(D)}catch(bY){R=!0;this.TL=null;alert("finished")}q=(n[1].length*b/(1<<30)).toFixed(2)+" GB"}this.ma[Q].textContent=q;
if(!R)setTimeout(this.azQ,20);else{var c=kE.w_;c[c.length-1][2+Q]=q;this.aiA()}};kE.prototype.aiA=function(){var j=this.h4,Q="",a=" style=\"text-align:right; width:4em;\">";
V.cV(j);var n=kE.w_.slice(0);n.sort(function(U,l){return 1e3*(l[2]-U[2])+(l[3]-U[3])});var B="<td"+a,m="<th"+a;
for(var v=0;v<n.length;v++){var R=n[v],q=null;if((v&1)==0)q="rgba(255,255,255,0.05)";if(R[1]=="Your Device")q="rgba(255,255,0,0.2)";
Q+="<tr style=\""+(q?" background-color:"+q:"")+"\"><td>"+R[1]+"</td>"+B+R[2]+"</td>"+B+R[3]+"</td></tr>"}j.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th style=\"width:13.7em;\">Device</th>"+m+"CPU</th>"+m+"GPU</th></tr>"+Q+"</table>"};
kE.prototype.pX=function(j,n,Q,a){this.awz=j!=null};kE.w_=[[0,"Ryzen 9 7900X + RTX 3080 Ti",1411,13059],[0,"Raspberry Pi 5",370,17],[0,"Raspberry Pi 400",150,6],[1,"Ryzen 7 5700U",1e3,1e3],[1,"MacBook Air 2017",539,367],[1,"MacBook Pro M1",1394,1856],[2,"iPad Air 4th Gen",1386,386],[3,"iPhone 15 Pro",1700,934],[3,"iPhone 13 Pro Max",1476,556],[3,"iPhone SE 2020",1180,303],[3,"Google Pixel 6a",830,638],[3,"Sony Xperia 1 II",410,720],[3,"iPhone 11",827,207],[3,"LG G4 (2015)",111,87],[3,"Google Nexus 7 2013",48,36],[0,"Your Device",0,0]];
function ja(){ij.call(this,"Measurement Scale","measscale");var j=V.d("div","form label8");j.style.width="300px";
this.body.appendChild(j);var n=this.$x=[new cE("Pixel Length"),new cE("Logical Length"),new cE("Unit Name"),new kC("Hi")];
for(var v=0;v<4;v++){var Q=n[v];Q.P(x.E.f,this.ww,this);j.appendChild(Q.Z)}this.ks=V.Ud(this,j)}ja.prototype=new ij;
ja.prototype.$k=function(j,n){return new eE(Math.max(0,Math.min(150,(j-250)/2)),Math.max(0,Math.min(150,(n-120)/2)))};
ja.prototype.ww=function(j){var n=this.$x;n[3].p(n[0].j()+" pixels = "+n[1].j()+" "+n[2].j())};ja.prototype.Rp=function(j){var n=this.$x,Q=[];
for(var v=0;v<3;v++)Q.push(n[v].j());Q[0]=parseFloat(Q[0]);Q[1]=parseFloat(Q[1]);var a=new ar(x.E.A,!0);
a.I=N.Pq;a.data={Q:"unit",J:Q};this.a(a);this.close()};ja.prototype.S=function(){ij.prototype.S.call(this);
var j=this.$x;for(var v=0;v<j.length;v++)j[v].S()};ja.prototype.pX=function(j,n){var Q=this.$x;Q[0].p(Math.round(n.tq));
if(j.tp){var a=j.tp.T.v;console.log(a);Q[1].p(a.logicalLength.v);Q[2].p(a.logicalUnits.v)}else{Q[1].p(1);
Q[2].p("unitName")}this.ww()};function eX(j,n,Q,a){eD.call(this);this.name=j;this.a3O=Q;this.BF=a;this.pD=V.d("div","");
this.pD.setAttribute("draggable","true");this.I_=V.d("div","pbody");this.PO=new ef("",!1,"");this.PO.parent=this;
this.afF=V.d("span","cross gsicon");this.Ft=V.d("span","label");var B=this.aaN.bind(this);this.pD.addEventListener("mousedown",this.atq.bind(this),!1);
this.pD.addEventListener("contextmenu",B,!1);this.PO.Z.addEventListener("contextmenu",B,!1);this.afF.addEventListener("mousedown",this.OT.bind(this),!1);
this.pD.appendChild(this.Ft);if(n)this.pD.appendChild(this.afF);this.Kw=!1;this.Ft.textContent=j}eX.prototype=new eD;
eX.prototype.Pu=function(){return null};eX.prototype.S=function(){var j=i4.get(this.name),n=!1,Q=this.Uw==0?22:Math.round(2+this.Uw/50);
if(j.endsWith(" *")){n=!0;j=j.slice(0,j.length-2);Q-=2}var a=j.length>Q;this.Ft.textContent=a?j.slice(0,Q-2):j;
this.pD.setAttribute("title",j);if(a)for(var B=0;B<2;B++){var m=V.d("span");m.textContent=j.charAt(Q-2+B);
V.v(m,"opacity:"+(.6-B*.4));this.Ft.appendChild(m)}if(n){var m=V.d("span");m.textContent=" *";this.Ft.appendChild(m)}var R=j.split(" "),q=R.length==2?R[0].substring(0,2)+R[1][0]:j.substring(0,3);
if(q.charCodeAt(0)>=11776)q=q.substring(0,1);var U=this.a3O;if(U==null)this.PO.LY(q,j);else{var l;if(U.startsWith("---"))l="<img src=\""+PIMG[U.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(U.startsWith("==="))l="<img src=\""+U.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(U.indexOf("\"")==-1)l="<img src=\""+U+"\" alt=\""+V.dh(j).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.PO.LY(l,j)}};eX.prototype.enable=function(){this.I_.className="pbody"};eX.prototype.disable=function(){this.I_.className="pbody disabled"};
eX.prototype.sW=function(j,n){};eX.prototype.pX=function(j,n,Q){};eX.prototype.xB=function(j){};eX.prototype.rs=function(j,n){};
eX.prototype.zN=function(j){this.name=j;this.S()};eX.prototype.a1=function(){};eX.prototype.atq=function(j){if(j.button==0)this.a(new ar("select",!1));
if(j.button==1)this.ka()};eX.prototype.aaN=function(j){V.Ju(j);if(this.BF!=null&&isNaN(this.BF))return;
var n=V.MR(j,document.body),Q=this.atp;if(Q==null){Q=this.atp=new ig([{name:[1,12,0]}]);this.atp.P("select",this.OT,this)}Q.update(null);
Q.S();Q.parent=this;var a=new ar(x.E.B,!0);a.data={Q:x.l.Ix,cB:Q,x:n.x+1,y:n.y+1};this.a(a)};eX.prototype.ka=function(){this.OT({})};
eX.prototype.OT=function(j){if(j.stopPropagation)j.stopPropagation();if(this.BF!=null&&!isNaN(this.BF)){var n=new ar(x.E.B,!0);
n.data={Q:x.l.z0,cB:this.atp};this.a(n);n.data={Q:x.l.m6,_X:b3.Ym,J:parseFloat(this.BF),rf:"del"};this.a(n)}else if(this.awW())this.a(new ar(x.E._g,!1))};
eX.prototype.awW=function(j){return!0};eX.prototype.v1=function(j,n,Q,a,B){};eX.prototype.Z3=function(j,n,Q,a,B){};
eX.prototype.pU=function(j,n,Q,a,B){};eX.Wm=function(j,n,Q){if(j.childElementCount!=0)return;var a=j.textContent;
this.gH=this.alx.bind(this);this.aDp=this.a5I.bind(this);this.ds=n;this.ais=Q;this.RI=j;this.aCr=a;var B=V.d("input","");
B.setAttribute("type","text");B.setAttribute("size","10");B.setAttribute("value",a);V.cV(j);j.appendChild(B);
B.select();B.focus();V.Sp(j);j.addEventListener("keyup",this.gH,!1);document.body.addEventListener("mousedown",this.aDp,!1)};
eX.Wm.prototype.alx=function(j){var n=i8.Uq,Q=n(j.code,i8.mI);if(n(j.code,i8.tf)||Q)this.aDT(Q)};eX.Wm.prototype.a5I=function(j){var n=j.target;
if(n.tagName&&n.tagName.toLowerCase()=="input")return;this.aDT(!0)};eX.Wm.prototype.aDT=function(j){var n=this.RI,Q=n.firstChild.value;
n.removeEventListener("keyup",this.gH);document.body.removeEventListener("mousedown",this.aDp);if(this.ais||j&&Q!=""&&Q!=this.aCr){this.ds(Q)}else{V.cV(n);
n.textContent=this.aCr}};eX.ve=function(){return[0,1,2,3,5,6,7,9,10,16,17,100]};eX.arK=function(j){var n=eX.ve(),Q=[];
for(var v=0;v<j.length;v++)if(n.indexOf(j[v])==-1)Q.push(j[v]);for(var v=0;v<n.length;v++)if(j.indexOf(n[v])==-1)Q.push(-n[v]);
return Q};eX.aEe=function(j){var n=eX.ve();for(var v=0;v<j.length;v++){var Q=j[v],a=n.indexOf(Q);if(a==-1)a=n.indexOf(-Q);
if(0<=Q&&a==-1)n.push(Q);if(Q<0&&a!=-1)n.splice(a,1)}return n};eX.D9={jM:"0",a7Q:"1",ir:"2",aI4:"3",adu:"4",dZ:"5",CSS:"6",o9:"7",aql:"8",auj:"9",agG:"10",aml:"11",apL:"12",Wz:"13",jq:"14",aB$:"15",aaF:"16",GW:"17",aGq:"18",aHg:"19",aeO:"20",mt:"21",aen:"22",aIh:"23",abw:"24",aqd:"25",arX:"26"};
function g4(){eX.call(this,[9,9],!1,"---panels/actions",eX.D9.aml);this.H=null;this.d8=[0,0]}g4.prototype=new eX("");
g4.prototype.eO=function(){if(!V.gU(this.I_))return;if(this.ht){this.HD();return}this.ht=V.d("div","padded scrollable");
V.v(this.ht,"width:260px;  height:260px");this.I_.appendChild(this.ht);this.P(x.E.f,this.Mu,this);this.s5=V.d("div","lpfoot");
this.I_.appendChild(this.s5);this.K3=[];var j="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",n="</svg>",Q=j+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+n,a=j+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+n;
this.axX=j+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+n;this.a1Q=j+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+n;
var B=[this.axX,a,"lrs/folder","lrs/newlayer","lrs/bin",Q],m=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var v=0;v<B.length;v++){var R=B[v];if(1<v&&v!=B.length-1)R="<img src=\""+PIMG[B[v]]+"\" class=\"miniscale gsicon\" />";
var q=new ef(R,!1,m[v]);q.P("click",this.Ny,this);this.s5.appendChild(q.Z);this.K3.push(q)}this.HD()};
g4.prototype.S=function(){eX.prototype.S.call(this);if(this.ht==null)return;for(var v=0;v<this.K3.length;
v++)this.K3[v].S()};g4.prototype.Ny=function(j){var v=this.K3.indexOf(j.currentTarget),n=this.d8,Q=this.H,a=Q.nU;
if(v==0){var B,m=Q.Nw;if(a.length==0){alert("Create an Action Set first.");return}if(n.length<2){alert("Select a target action first.");
return}if(m==null){B=this.a1Q;m=this.d8}else{B=this.axX;m=null}this.K3[0].LY(B);Q.Nw=m}else if(v==1)this.au_();
else if(v==2||v==3){var R={ID:"Action Set "+a.length,C5:[],exp:!0};if(v==2||a.length==0){n=[a.length];
a.push(R)}if(v==3){var q=a[n[0]].C5;n=[n[0],q.length];q.push({ID:"Action "+q.length,color:0,C5:[],aBl:!1,shift:!1,exp:!0,cb:q.length})}this.d8=n;
this.HD()}else if(v==4){var U;if(n.length==1)U=a;else if(n.length==2)U=a[n[0]].C5;else U=a[n[0]].C5[n[1]].C5;
var l=n.length-1;U.splice(n[l],1);if(U.length==0)n.pop();else while(n[l]>=U.length)n[l]--;if(n.length==0)n.push(0);
this.HD()}else if(v==5){if(a.length==0){alert("No Actions Present.");return}var b=new ar(x.E.B,!0);b.data={Q:x.l.M2,ac5:b3.A,dL:n[0]};
this.a(b)}};g4.prototype.Mu=function(j){var n=this.H.nU,Q=j.data.Q,a=j.data.$f;if(Q=="sel")this.d8=a;
if(Q=="fold"){if(a.length==1)n[a[0]].exp=!n[a[0]].exp;else n[a[0]].C5[a[1]].exp=!n[a[0]].C5[a[1]].exp}if(Q=="enab"){var B=n[a[0]].C5[a[1]].C5[a[2]];
B.m=!B.m}if(Q=="nchange"){if(a.length==1)n[a[0]].ID=j.data.tw;else n[a[0]].C5[a[1]].ID=j.data.tw}this.HD()};
g4.prototype.pX=g4.prototype.a1=function(){this.eO()};g4.prototype.sW=function(j,n){this.H=j;if(this.ht==null)return;
if(n==b3.A||n==b3.Od)this.HD()};g4.prototype.HD=function(){if(this.H==null)return;V.cV(this.ht);var j=this.H.nU;
if(j.length==0)return;var n=JSON.stringify(this.d8);for(var v=0;v<j.length;v++){var Q=j[v],a=new g4.DO([v],n,Q.exp,Q.ID.split("=").pop());
a.parent=this;this.ht.appendChild(a.Z);if(!Q.exp)continue;for(var B=0;B<Q.C5.length;B++){var m=Q.C5[B],a=new g4.DO([v,B],n,m.exp,m.ID.split("=").pop());
a.parent=this;this.ht.appendChild(a.Z);if(!m.exp)continue;for(var R=0;R<m.C5.length;R++){var q=m.C5[R],a=new g4.DO([v,B,R],n,null,i4.get(f2.aGK(q)),q.m);
a.parent=this;this.ht.appendChild(a.Z)}}}};g4.prototype.au_=function(){var j=this.H.nU,n=this.d8;if(j.length==0){alert("No Actions Present");
return}if(n.length==1){alert("Select an Action first");return}if(this.H.Nw!=null){alert("You can not apply actions while recording actions");
return}if(n.length==1)n.push(0);var Q=j[n[0]],a=Q.C5[n[1]],B=new ar(x.E.B,!0);B.data={Q:x.l.g2,eT:[a.ID,Q.ID]};
this.a(B)};g4.DO=function(j,n,Q,a,B){eD.call(this);this.$f=j;var m=this.$f.length-1;this.Z=V.d("div","layeritem"+(JSON.stringify(j)==n?" selected":""));
this.QS=V.d("div","head");this.Z.appendChild(this.QS);V.v(this.QS,"height:24px");this.kl=V.d("div","headL");
this.QS.appendChild(this.kl);if(m!=0){var R=V.d("div");R.style.width=m*20+"px";this.kl.appendChild(R)}if(Q!=null){var q=this.afg=V.d("div",Q?"open":"closed");
this.kl.appendChild(q)}else{var U=this.apC=V.d("div","cmark");V.v(U,"background-size:12px 12px; opacity:"+(B?1:.3));
this.kl.appendChild(U)}if(m==0){var l=V.d("div","folder");this.kl.appendChild(l)}var b=this.Ft=V.d("div","label");
b.textContent=a;this.kl.appendChild(b);this.Z.addEventListener("mouseup",this._v.bind(this),!1)};g4.DO.prototype=new eD;
g4.DO.prototype._v=function(j){if(j.detail==1&&j.target.tagName.toLowerCase()!="input"){var n="sel";
if(j.target==this.afg)n="fold";if(j.target==this.apC)n="enab";var Q=new ar(x.E.f,!0);Q.data={Q:n,$f:this.$f};
this.a(Q)}else if(this.$f.length<3)var a=new eX.Wm(this.Ft,this.ds.bind(this))};g4.DO.prototype.ds=function(j){var n=new ar(x.E.f,!0);
n.data={Q:"nchange",tw:j,$f:this.$f};this.a(n)};function da(){eX.call(this,[3],!1,"---lrs/adj",eX.D9.aGq)}da.prototype=new eX("");
da.prototype.eO=function(){if(!V.gU(this.I_)||this.K3)return;V.v(this.I_,"text-align:center;  padding:6px; min-width:220px");
this.K3=[];var v=0;for(var j in k8.names){var n=new ef("<img src=\""+PIMG["adj/"+j]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,k8.names[j]);
n.P("click",this.sk,this);this.K3.push(n);this.I_.appendChild(n.Z);if(v==4||v==10)V.pd(this.I_);v++}this.S()};
da.prototype.pX=function(){this.eO()};da.prototype.a1=function(){this.eO()};da.prototype.S=function(){eX.prototype.S.call(this);
if(this.K3==null)return;for(var v=0;v<this.K3.length;v++)this.K3[v].S()};da.prototype.sk=function(j){var n=this.K3.indexOf(j.target),Q=dX.Ae()[n],a=new ar(Q.o,!0);
a.data=Q.h;this.a(a)};function eZ(){eX.call(this,[12,22],!1,null,eX.D9.mt);this.ht=V.d("div","padded");
this.H=null;this.I_.appendChild(this.ht);this.QZ=new jN(null,17.7,10);this.QZ.parent=this;this.QZ.P(x.E.f,this.Uj,this);
this.ht.appendChild(this.QZ.mB)}eZ.prototype=new eX("");eZ.prototype.Uj=function(j){var n=this.QZ.j(),Q=new ar(x.E.A,!0);
Q.data={Q:"setstl",J:n.IK};Q.I=N.uX;this.a(Q);Q.data={Q:"confirm"};this.a(Q)};eZ.prototype.sW=function(j,n){this.H=j;
this.HD()};eZ.prototype.HD=function(){var j=this.H;if(j==null)return;this.QZ.gn([j.eE,j._f]);this.QZ.rs()};
eZ.prototype.pX=function(){this.HD()};eZ.prototype.a1=function(){this.HD()};var a4=function(){function j(){eX.call(this,[9,3],!1,"---panels/brush",eX.D9.o9);
this.QV=null;this.H=null}j.prototype=new eX("");j.prototype.eO=function(){var B=V.d("div","");this.I_.appendChild(B);
this._Z=V.d("div","bordered cell");V.v(this._Z,"width:10em; height:28.5em;");B.appendChild(this._Z);
this.IH=[];this.adb=null;this.u_=[];var m=this.aiM.bind(this);this.Mf=[new Q("basic"),new Q("useTipDynamics"),new Q("useScatter"),new Q("useColorDynamics"),new Q("usePaintDynamics")];
for(var v=0;v<this.Mf.length;v++){var R=V.d("div","listitem"),q=this.Mf[v],l=null;q.parent=this;q.P("brushchange",this.aci,this);
var U=q.vc;if(v==0){this.adb=new kC(U);R.appendChild(this.adb.Z)}else{l=new k9(U,!1);l.P(x.E.f,this.aHD,this);
R.appendChild(l.Z)}this.u_.push(l);this._Z.appendChild(R);this.IH.push(R);R.addEventListener("click",m,!1)}this.y5=V.d("div","cell padded");
B.appendChild(this.y5);this.setItem(0);this.q$=V.d("canvas");this.q$.height=10;B.appendChild(this.q$);
this.Pf=this.q$.getContext("2d");this._J()};j.prototype.rs=function(B,m){if(this.Uw==B)return;this.Uw=B;
this.WC=m;this._J()};j.prototype.a1=function(){if(!V.gU(this.I_))return;if(this._Z){this._J();return}this.eO();
this.S();this.sW(this.H,b3.Od)};j.prototype.S=function(){eX.prototype.S.call(this);if(this._Z==null)return;
this.adb.S();for(var v=1;v<this.u_.length;v++)this.u_[v].S();for(var v=0;v<this.Mf.length;v++)this.Mf[v].S()};
j.prototype.aci=function(B){var m=this.Mf.indexOf(B.currentTarget),R=K.u(this.Mf[m].QV),q=new ar(x.E.B,!0);
q.data={Q:x.l.m6,_X:b3.Zi,QV:R};this.a(q)};j.prototype.aHD=function(B){this.afY(this.u_.indexOf(B.currentTarget),B.currentTarget.rD())};
j.prototype.aiM=function(B){var v=this.IH.indexOf(B.currentTarget);if(B.target.tagName.toLowerCase()=="input")return;
if(this.u_[v]&&!this.u_[v].rD()){this.u_[v].eu();this.afY(v,!0)}this.setItem(v)};j.prototype.afY=function(B,m){this.Mf[B].aqS(m)};
j.prototype.setItem=function(B){for(var v=0;v<this.Mf.length;v++)this.IH[v].className="listitem";if(this.y5.firstChild)this.y5.removeChild(this.y5.firstChild);
this.IH[B].className="listitem selected";this.y5.appendChild(this.Mf[B].Z)};j.prototype.sW=function(B,m){this.H=B;
if(this._Z==null)return;for(var v=0;v<this.Mf.length;v++)this.Mf[v].sW(B,m);if(m==b3.Zi||m==b3.Od){this.QV=B.nE.Q0;
this._J()}if(m==b3.Wz)this._J()};j.prototype._J=function(){if(this.QV)this.enable();else{this.disable();
return}if(!V.gU(this.I_))return;var B=this.H;for(var v=0;v<this.Mf.length;v++){this.Mf[v].p(this.QV);
if(this.u_[v])this.u_[v].p(this.Mf[v].rD())}var m=K.u(this.QV);m.Brsh.v.Dmtr.v.val=Math.min(m.Brsh.v.Dmtr.v.val,50);
V.w9(this.q$,this.Uw,80);var R=new b4(0,0,this.q$.width,this.q$.height),q=this.H.nE,U=new jm(m,q?q.wP:null,q?q.jy:null,{u3:1},B.Z4,B.g7,R,null,0),l=R._/2,b=R.q-l*2;
U.moveTo(l,l);for(var v=0;v<=b;v+=10)U.lineTo(l+v,l+20*Math.sin(2*Math.PI*v/b));U.finish();var D=new ImageData(R.q,R._);
K.EC(U.P$(),U.uI(),D.data,R);this.Pf.putImageData(D,0,0)};function n(B){eD.call(this);B=B.split(".")[0];
this.kh=B;var m=this.Z=V.d("span"),R=["Off","Fade"];R.push(B=="angleDynamics"?"Direction":"Pen Pressure");
var q=this.ZT=new hQ("Control",R);q.P(x.E.f,this.ww,this);m.appendChild(q.Z);var U=this.a2c=new i7(null,0,100,null,null,null,!0);
U.p(50);U.P(x.E.f,this.ww,this)}n.prototype=new eD;n.prototype.p=function(B){B=B<2?B:2;this.ZT.p(B);
this.HD()};n.prototype.j=function(){var B=this.ZT.j(),m=this.kh;B=B<=1?B:m=="angleDynamics"?6:2;return B};
n.prototype.ww=function(B){this.HD();B.target=B.currentTarget=this;this.a(B)};n.prototype.HD=function(B){this.a2c.Q7(this.ZT.j()==1)};
function Q(B){eD.call(this);this.Z=V.d("div");this.QV=null;var m=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(B);
this.vc=[[15,0],[15,1],[15,2],[15,3],"Transfer"][m];this.DM=B;this.kW={};this.a2K=null;var R=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][m];
for(var v=0;v<R.length;v++){var q=R[v],U;if(q=="--br"){U=new hG;this.Z.appendChild(U.mB.firstChild)}else if(q=="Brsh.Dmtr")U=new i5([12,14,0],1,1e3," px",0,!0);
else if(q=="Brsh.Angl")U=new i5([12,15],0,359," \xB0");else if(q=="Brsh.Rndn")U=new i5([12,16],0,100," %");
else if(q=="Brsh.Hrdn")U=new i5([12,17],0,100," %");else if(q=="Brsh.Spcn")U=new i5([12,18],1,300," %");
else if(q=="szVr.jitter")U=new i5([15,4,0],0,100,"%");else if(q=="minimumDiameter")U=new i5([15,4,1],0,100,"%");
else if(q=="angleDynamics.jitter")U=new i5([15,4,2],0,100,"%");else if(q.endsWith("bVTy"))U=new n(q);
else if(q.endsWith("fStp"))U=new i7(null,0,100,null,null,null,!0);else if(q=="roundnessDynamics.jitter")U=new i5([15,4,3],0,100,"%");
else if(q=="minimumRoundness")U=new i5([15,4,4],1,100,"%");else if(q=="scatterDynamics.jitter")U=new i5([15,5,0],0,1e3," %");
else if(q=="Cnt")U=new i5([15,5,1],1,20);else if(q=="countDynamics.jitter")U=new i5([15,5,2],0,100," %");
else if(q=="clVr.jitter")U=new i5([15,6,0],0,100," %");else if(q=="H")U=new i5([15,6,1],0,100," %");
else if(q=="Strt")U=new i5([15,6,2],0,100," %");else if(q=="Brgh")U=new i5([15,6,3],0,100," %");else if(q=="opVr.jitter")U=new i5("Opacity Jitter",0,100," %");
else if(q=="prVr.jitter")U=new i5("Flow Jitter",0,100," %");else throw q;this.kW[q]=U;U.parent=this;
U.P(x.E.f,this.ww,this)}}Q.prototype=new eD;Q.prototype.aEz=function(){this.a(new ar("brushchange"))};
Q.prototype.p=function(B){this.QV=K.u(B);this.Z.className=this.rD()?"":"disabled";this._J()};Q.prototype.S=function(){for(var B in this.kW)this.kW[B].S()};
Q.prototype.rD=function(){return!0};Q.prototype.sW=function(B,m){if(m==b3.o9||m==b3.Od){var R=this.kW["--br"];
if(R)R.gn(B.nE)}};Q.prototype.ww=function(B){var m=B.target,R=this.kW,q;for(var U in R)if(R[U]==m)q=U;
if(q=="--br"){var l=new ar(x.E.B,!0);l.data={Q:x.l.m6,_X:b3.Zi,QV:m.j()};this.a(l)}else{var b=a(this.QV,q),D=m.j();
if(b){if(q.endsWith("bVTy")||q.endsWith("fStp")||q=="Cnt")b.v=D;else b.v.val=D;this.aEz()}}};Q.prototype._J=function(){var B=this.QV,m=B.Brsh.v.classID,R=this.kW,q=m!=this.a2K;
this.a2K=m;if(q){V.cV(this.Z);for(var U in R){if(m!="computedBrush"&&m!="sampledBrush"&&U=="Brsh.Rndn")continue;
if(m!="computedBrush"&&U=="Brsh.Hrdn")continue;var l=R[U],b=l.Z;if(U=="--br"){b=l.oE.Z;b.style.width="auto"}this.Z.appendChild(b)}}for(var U in R){if(U=="--br")continue;
var D=a(B,U),c;if(D){if(U.endsWith("bVTy")||U.endsWith("fStp")||U=="Cnt")c=D.v;else c=D.v.val;R[U].p(c);
if(U.endsWith("fStp"))R[U].Q7(a(B,U.split(".")[0]+".bVTy").v==1)}}};Q.prototype.rD=function(){var B=this.DM;
return B=="basic"?!0:this.QV[B].v};Q.prototype.aqS=function(B){var m=this.DM;if(m=="basic")return;this.QV[m].v=B;
ic.b0.atl(this.QV);this.aEz()};function a(B,m){var R=m.split(".");B=B[R[0]];for(var v=1;v<R.length;v++){if(B==null)return B;
B=B.v[R[v]]}return B}return j}();function aS(){eX.call(this,[9,0],!1,"---panels/history",eX.D9.jM);V.v(this.I_,"min-width:200px;");
this.KF=V.d("div","hpbody scrollable");this.KF.style.height="160px";this.I_.appendChild(this.KF);this.aD6=-1;
this.aEH=[];this.E7="";this.Vc=new ig([{name:"Clear History"}],[{o:x.E.A,I:N.jM,h:{Q:"h_clear"}}])}aS.prototype=new eX("");
aS.prototype.Pu=function(){return this.Vc};aS.prototype.rs=function(j,n){this.a1()};aS.prototype.pX=function(j){if(j==null){V.cV(this.KF);
this.E7="";return}V.cV(this.KF);var n=0;for(var v=0;v<j.history.length;v++)if(v<=j.cD&&!j.history[v].WQ)n=v;
for(var v=0;v<j.history.length;v++){var Q=j.history[v];if(Q.WQ)continue;var a=new b8(Q,v,n);a.parent=this;
this.KF.appendChild(a.Z);this.aEH.push(a)}if(j.cD==j.history.length-1)this.a1()};aS.prototype.a1=function(){this.KF.scrollTop=this.KF.scrollHeight};
aS.prototype.S=function(){eX.prototype.S.call(this);for(var v=0;v<this.aEH.length;v++)this.aEH[v].S()};
function b8(j,v,n){eD.call(this);this.index=v;this.Z=V.d("div",v==n?"listitem selected":"listitem");
this.$I=j.name;this.S();if(v>n)this.Z.style.opacity=.4;this.Z.addEventListener("click",this.v1.bind(this),!1)}b8.prototype=new eD;
b8.prototype.S=function(){this.Z.textContent=i4.get(this.$I)};b8.prototype.v1=function(j){if(this.index==this.parent.aD6)return;
this.oj({Q:"h_itemchange",index:this.index})};b8.prototype.oj=function(j){var n=new ar(x.E.A,!0);n.data=j;
n.I=N.jM;this.a(n)};function e2(){eX.call(this,[9,10],!1,"---panels/histogram",eX.D9.adu);var j=V.d("div","padded");
this.I_.appendChild(j);this.fU=new cD(256,!0);j.appendChild(this.fU.Z);this.e8=null}e2.prototype=new eX("");
e2.prototype.pX=function(j){this.e8=j;this.HD()};e2.prototype.HD=function(){var j=this.e8;if(!V.gU(this.I_))return;
if(j==null||j.X.length==0){this.fU.p(K.XG(K.U(4)));return}var n=j.rd(),Q=new b4(0,0,j.q,j._),a=Q.$();
if(j.K){var B=j.K.s,m=K.U(B.$()*4);K.EC(n,Q,m,B);K.A2(j.K.G,m);n=m;Q=B;var R=j.K.G;a=0;for(var v=0;v<R.length;
v++)a+=R[v];a=Math.round(a/255)}var q=K.XG(n);q[0][255]+=3*(a-q[5]);for(var v=1;v<4;v++)q[v][255]+=a-q[5];
this.fU.p(q,a)};e2.prototype.sW=function(j,n){this.fU.au(cj.nn[j.HS]["--text-color"])};e2.prototype.S=function(){eX.prototype.S.call(this);
this.fU.S()};e2.prototype.a1=function(){this.HD()};function fF(){eX.call(this,[9,8],!1,"---adj/clrL",eX.D9.a7Q);
this.ht=V.d("div","padded");this.I_.appendChild(this.ht);this.cl=new gY(10);this.ht.appendChild(this.cl.Z);
this.IZ=new jY;this.IZ.parent=this;this.ht.appendChild(this.IZ.mB);this.IZ.mB.style.marginTop="6px";
this.cl.P(x.E.f,this.as6,this);this.IZ.P(x.E.f,this.as6,this)}fF.prototype=new eX("");fF.prototype.as6=function(j){var n;
if(j.target==this.cl)n=this.cl.j();else{var Q=this.IZ.j();n=K.G8(Q)}var a=new ar(x.E.B,!0);a.data={Q:x.l.m6,_X:b3.Wz,BO:0,J:n};
this.a(a)};fF.As=function(j,n){var Q=n==b3.Od,a=j.hX,B=j.mE,m=B.strokeStyleContent.v,R=null;if((n==b3.Cj||Q)&&a.px==1){R=K.Gp.qF(a.zT.Clr.v);
R=R.n<<16|R.i<<8|R.b}if((n==b3.YB||Q)&&B.strokeEnabled.v&&m.classID=="solidColorLayer"){R=K.Gp.qF(m.Clr.v);
R=R.n<<16|R.i<<8|R.b}if(n==b3.Wz||Q)R=j.Z4;return R};fF.prototype.sW=function(j,n){var Q=j.Z4,a=n==b3.Od,B=fF.As(j,n);
if(B!=null){this.cl.p(B);this.IZ.p({n:B>>>16&255,i:B>>>8&255,b:B>>>0&255,U8:"Default/Color #"+K.EA(B)})}if(n==b3.qX||a){var m=j.ajx;
this.IZ.gn(m)}};fF.prototype.rs=function(j,n){this.IZ.mB.children[0].style.width=j-32+"px"};function hc(){eX.call(this,[12,72],!1,"---adj/mixr",eX.D9.aaF);
this.Jv=null;this.uM=null;this.KF=V.d("div","lpbody scrollable");this.KF.style.marginTop="4px";this.s5=V.d("div","lpfoot");
this.I_.appendChild(this.KF);this.I_.appendChild(this.s5);this.amx=[];this.P("click",this.xY,this);this.hD=[];
hc.gC([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.hD,this.s5,this.WB.bind(this),this.UB.bind(this));
this.Vc=new ig([{name:"Merge Channels",lM:!0}],[{o:x.E.B,h:{Q:x.l.Vg,Z8:"mergechannels"}}])}hc.prototype=new eX("");
hc.prototype.Pu=function(){return this.Vc};hc.gC=function(j,n,Q,a,B){for(var v=0;v<j.length;v++){var m=new ef("W",!1,j[v]);
n.push(m);V.ON(m.Z,a);Q.appendChild(m.Z);var R=m.Z;R.addEventListener("drop",B,!1);R.addEventListener("dragover",function(q){q.preventDefault()},!1);
R.addEventListener("dragenter",V.Ju,!1)}};hc.Rg=function(j,n){for(var v=0;v<j.length;v++)if(j[v].Z==n.currentTarget)return v};
hc.prototype.WB=function(j){var n=hc.Rg(this.hD,j);if(n==0)this.a(ht.BA(!0,null,j));else{n--;var Q=new ar(x.E.X2,!0),a={classID:"null"};
if(n==0)a.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(n==1)a.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else a.null=f2.oA("Chnl",!0);Q.data={ep:["duplicate","make","delete"][n],Tu:a};this.a(Q)}};hc.prototype.UB=function(j){var n=hc.Rg(this.hD,j);
if(n==2){var Q=new ar(x.E.X2,!0),a={classID:"null"};a.null=f2.oA("Chnl",!0);Q.data={ep:"duplicate",Tu:a};
this.a(Q)}else this.WB(j)};hc.prototype.Tz=function(v){var j=this.amx,n=j[v];if(n==null){var Q=V.d("canvas");
n=Q.getContext("2d");j.push(n)}return n};hc.prototype.xY=function(j){var n=this.Jv.slice(0),Q=j.data.cb,a=n[0]+n[1]+n[2],B=this.uM;
if(-5<Q&&Q<0){var m=-Q-1;if(j.data.q2){if(m==0)n=a==3?[0,0,0]:[1,1,1];else{if(n[m-1]==0)n[m-1]=1;else if(!0)n[m-1]=0}}else{if(m==0)n=[1,1,1];
else{n=[0,0,0];n[m-1]=1}for(var v=0;v<B.Kj.length;v++)B.Kj[v].fa=!1;B.Yb=[]}var R=new ar(x.E.A,!0);R.I=N.Kd;
R.data={Q:"setcls",Y:n};this.a(R);return}if(-1<Q){var q=B.T[Q],U=q.s0==1?q.sJ():q.vG(B).N;if(j.data.q2)U.fa=!U.fa;
else{for(var v=0;v<B.Kj.length;v++)B.Kj[v].fa=!1;B.Yb=[]}}else{var l=-Q-5,U=B.Kj[l];if(j.data.q2)U.fa=!U.fa;
else{for(var v=0;v<B.Kj.length;v++)B.Kj[v].fa=!1;U.fa=!0;B.Yb=[l];if(a!=0){var R=new ar(x.E.A,!0);R.I=N.Kd;
R.data={Q:"setcls",Y:[0,0,0]};this.a(R)}}}B.UF=B.Xx=!0};hc.prototype.a1=function(){this.p9()};hc.prototype.pX=function(j){this.uM=j;
this.p9()};hc.prototype.p9=function(){var j=this.uM,n=this.KF,_=4;V.cV(n);if(j==null||!V.gU(n))return;
var Q=j.q,a=j._,B=new b4(0,0,Q,a),m=this.Jv=j.e.Y.slice(0),R=m[0]+m[1]+m[2],q=Math.round(34*V.lS()),U=q;
if(Q>a)U=Math.round(U*a/Q);else q=Math.round(q*Q/a);var l=["RGB"].concat(k8.ql);for(var v=0;v<4;v++){var b=this.Tz(v);
K.l8.Wt(b,q,U,B,j.rd(),B,!1,v==0?null:v-1);var D=v==0?R==3:m[v-1]==1,c=new ht(-1-v,!0,!0,b,l[v],D,D);
c.parent=this;n.appendChild(c.Z);V.z6(b.canvas)}for(var v=0;v<j.X.length;v++){var p=j.T[j.X[v]],X=p.s0;
if(X!=1&&X!=3)continue;var g=X==1?p.sJ():p.vG(j).N,b=this.Tz(_+v);_++;K.l8.Uo(b,q,U,B,g);var c=new ht(j.X[v],!0,!0,b,p.getName()+(X==1?"":" Filter")+" Mask",!0,g.fa);
c.parent=this;n.appendChild(c.Z);V.z6(b.canvas)}for(var v=0;v<j.Kj.length;v++){var g=j.Kj[v],b=this.Tz(_+v);
K.l8.Uo(b,q,U,B,g);var c=new ht(-5-v,!0,g.name=="Quick Mask",b,g.name,j.Yb.indexOf(v)!=-1,g.fa,N.ir,{Q:f.EH,BO:"rnm",cb:v});
c.parent=this;n.appendChild(c.Z);V.z6(b.canvas)}};hc.prototype.rs=function(j,n){this.KF.style.height=n-30-4+"px";
this.KF.style.width=j+"px"};hc.prototype.S=function(){eX.prototype.S.call(this);this.p9();hc.Pg(this.hD,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
hc.Pg=function(j,n,Q){var n=aY.cH(n,null,"miniscale");for(var v=0;v<j.length;v++)j[v].LY(n[v],Q?Q[v]:null)};
function ht(j,n,Q,a,B,m,R,q,U){eD.call(this);this.Z=V.d("div");this.anE=j;this.a8i=n;this.Pf=a;this.apy=q;
this.aa9=U;this.QS=V.d("div",m?"head selected":"head");V.v(this.QS,"height: "+40+"px");var l=V.d("div","headL"),b=V.d("div","headR"),D=15;
this.Z.appendChild(this.QS);this.QS.appendChild(l);this.QS.appendChild(b);this.nA=V.d("div","eye");if(1<V.lS()&&V.lS()<1.5)D=D/V.lS();
V.v(this.nA,"background-size: "+D+"px "+D+"px;");this.nA.style.opacity=R?1:.2;if(n)l.appendChild(this.nA);
this.Lw=V.d("div","thumb");if(a)this.Lw.appendChild(a.canvas);l.appendChild(this.Lw);this.Ke=V.d("div","label");
if(Q)this.Ke.style.fontStyle="italic";this.Ke.textContent=i4.get(B);l.appendChild(this.Ke);var c=this.QS;
c.setAttribute("draggable","true");c.addEventListener("dragstart",function(_){_.stopPropagation();_.dataTransfer.setData("Text","hello")},!1);
c.addEventListener("drop",V.Ju,!1);V.ON(this.QS,this.auF.bind(this));if(!Q)this.QS.addEventListener("mouseup",this.av4.bind(this),!1)}ht.prototype=new eD;
ht.prototype.ds=function(j){var n=new ar(x.E.A,!0);n.I=this.apy;n.data=this.aa9;n.data.name=j;this.a(n)};
ht.prototype.auF=function(j){var n=j.ctrlKey||j.metaKey,Q=this.anE;if(n&&j.target==this.Pf.canvas){this.a(ht.BA(this.a8i,Q,j))}else{var a=new ar("click",!0);
a.data={cb:Q,q2:j.target==this.nA,p0:n};this.a(a)}};ht.prototype.av4=function(j){if(j.detail==2&&j.target==this.Ke){var n=new eX.Wm(this.Ke,this.ds.bind(this))}};
ht.BA=function(j,n,Q){var a=0;if(Q.shiftKey)a++;if(Q.altKey)a+=2;var B=new ar(x.E.A,!0);B.I=N.D4;if(j){if(-5<n&&n<0){B=new ar(x.E.X2,!0);
B.data=N.NJ.SG(a,["RGB","Rd","Grn","Bl"][-1-n])}else B.data={Q:"fromchannel",eT:[n,0,a]}}else B.data={Q:"frompath",eT:[n,0,a]};
return B};function kV(){eX.call(this,[8,9],!1,"---panels/paths",eX.D9.GW);this.Jv=null;this.uM=null;
this.KF=V.d("div","lpbody scrollable");this.KF.style.marginTop="4px";this.s5=V.d("div","lpfoot");this.I_.appendChild(this.KF);
this.I_.appendChild(this.s5);this.I_.addEventListener("click",this.a6s.bind(this),!1);this.amx=[];this.P("click",this.xY,this);
this.hD=[];hc.gC(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.hD,this.s5,this.WB.bind(this),this.UB.bind(this))}kV.prototype=new eX("");
kV.prototype.WB=function(j,n){var Q=hc.Rg(this.hD,j),a;if(Q<2){if(Q==1&&j.altKey){a=new ar(x.E.B,!0);
a.data={Q:x.l.Vg,Z8:"strokepath"}}else{a=new ar(x.E.X2,!0);a.data=N._I.RF(Q==0?null:"PbTl")}}else if(Q==2)a=ht.BA(!1,null,j);
else if(Q==3){a=new ar(x.E.X2,!0);a.data={ep:"make",Tu:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(Q>3){var a=new ar(x.E.A,!0);
a.I=N.rB;a.data={Q:"pathedit",BO:["new","del"][Q-4],asG:n}}this.a(a)};kV.prototype.UB=function(j){this.WB(j,!0)};
kV.prototype.Tz=function(v){var j=this.amx,n=j[v];if(n==null){var Q=V.d("canvas");n=Q.getContext("2d");
j.push(n)}return n};kV.prototype.a6s=function(j){if(j.target==this.KF){var n=this.uM;n.VF=[];n.fO=[];
n.Xx=!0;n.UF=!0}};kV.prototype.xY=function(j){var n=j.data.cb,Q=this.uM,a=j.data.p0,B=n,m=Q.fO,R=Q.VF;
if(n<0){B=-1-n;m=Q.VF;R=Q.fO}if(a){var q=m.indexOf(B);if(q==-1)m.push(B);else m.splice(q,1)}else{while(m.length!=0)m.pop();
while(R.length!=0)R.pop();m.push(B)}Q.Xx=!0;Q.UF=!0};kV.prototype.a1=function(){this.p9()};kV.prototype.pX=function(j){this.uM=j;
this.p9()};kV.prototype.p9=function(){var j=this.uM,n=this.KF;V.cV(n);if(j==null||!V.gU(n))return;var Q=j.q,a=j._,B=new b4(0,0,Q,a),m=this.Jv=j.e.Y.slice(0),R=m[0]+m[1]+m[2],q=Math.round(34*V.lS()),U=q;
if(Q>a)U=Math.round(U*a/Q);else q=Math.round(q*Q/a);var l=j.H9(),b=l[0];for(var v=0;v<b.length;v++){var D=b[v],c=this.Tz(v);
K.l8.afk(c,q,U,B,D.add.vmsk);var _=new ht(D.cb,!1,D.cb>=0,c,D.name,l[1].indexOf(v)!=-1,!1,N.rB,{Q:"pathedit",BO:"rnm",cb:D.cb});
_.parent=this;n.appendChild(_.Z);V.z6(c.canvas)}};kV.prototype.rs=function(j,n){this.KF.style.height=n-30-4+"px";
this.KF.style.width=j+"px"};kV.prototype.S=function(){eX.prototype.S.call(this);this.p9();hc.Pg(this.hD,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function gT(j){eX.call(this,[9,j?4:5],!1,"---panels/"+(j?"character":"paragraph"),j?eX.D9.auj:eX.D9.agG);
V.v(this.I_,"min-width:255px;");this.a3u=j;this.$g=null;this.H=null}gT.prototype=new eX("");gT.prototype.eO=function(){this.$g=new de;
var j=this.$g,n=this.I_;j.parent=this;if(this.a3u){var Q=V.d("div","marged");n.appendChild(Q);Q.appendChild(j.Wn.Z);
n.appendChild(V.d("hr"));var a=V.d("div","marged");n.appendChild(a);a.appendChild(j.Me.Z);a.appendChild(j.TH.Z);
var B=V.d("div","marged");n.appendChild(B);B.appendChild(j.pn.Z);B.appendChild(j.FH.Z);n.appendChild(V.d("hr"));
var m=V.d("div","marged");n.appendChild(m);m.appendChild(j.b3.Z);m.appendChild(j.TD.Z);var R=V.d("div","marged");
n.appendChild(R);R.appendChild(j.__.Z);R.appendChild(j.aD.Z);R.appendChild(j.GF.Z);n.appendChild(V.d("hr"));
var q=V.d("div","marged");n.appendChild(q);q.appendChild(j.wN.Z);q.appendChild(j.Cn.Z);q.appendChild(j.NE.Z);
q.appendChild(j.AC.Z);q.appendChild(j.nB.Z);q.appendChild(j.WJ.Z);q.appendChild(j.d1.Z);q.appendChild(j.z4.Z);
var U=V.d("div","marged");n.appendChild(U);for(var v=0;v<8;v++)U.appendChild(j.nP[v].Z)}else{var Q=V.d("div","marged");
n.appendChild(Q);Q.appendChild(j.jh.Z);Q.appendChild(j.FF.Z);Q.appendChild(j.Fv.Z);Q.appendChild(j.a6J.Z);
Q.appendChild(j.a5H.Z);Q.appendChild(j.aHh.Z);Q.appendChild(j.aGx.Z);n.appendChild(V.d("hr"));var a=V.d("div","marged");
n.appendChild(a);a.appendChild(j.Tf.Z);a.appendChild(j.R0.Z);a.appendChild(j.nr.Z);n.appendChild(V.d("hr"));
var B=V.d("div","marged");n.appendChild(B);B.appendChild(j.Bv.Z);B.appendChild(j.kQ.Z);B.appendChild(j.d9.Z);
B.appendChild(j.Wo.Z)}};gT.prototype.a1=function(){if(!V.gU(this.I_))return;if(this.$g==null){this.eO();
var j=this.H;if(j)this.$g.p(j.ix,j.wR,j.K$);this.$g.S()}};gT.prototype.S=function(){eX.prototype.S.call(this);
if(this.$g)this.$g.S()};gT.prototype.sW=function(j,n){this.H=j;if(n!=b3.Od&&n!=b3.U2&&n!=b3.GM&&n!=b3.bo)return;
if(this.$g)this.$g.p(j.ix,j.wR,j.K$)};function b2(j){eX.call(this,j?"Character Styles":"Paragraph Styles",!1,null,j?eX.D9.abw:eX.D9.aqd);
V.v(this.I_,"min-width:240px;");var n=this.MV=V.d("div","scrollable");this.I_.appendChild(n);V.v(n,"max-height:400px;");
this.RG=null;this.arM=null;this.sy=null;this.a3u=j?0:1;this.e8=null;this.H=null;this.aEk=b2.prototype.LX.bind(this)}b2.prototype=new eX("");
b2.prototype.pX=function(j,n,Q){this.e8=j;this.H=Q;this.p9()};b2.prototype.p9=function(){var j=this.MV;
V.cV(j);if(!V.gU(this.I_))return;var n=this.e8,Q=this.H;if(n==null||Q==null)return;var a=Q.ix,B=this.RG=[],m={},R=this.arM=[],q=this.sy=[],U={},l=this.a3u,b=l==0?"Style":"Paragraph";
for(var v=0;v<n.T.length;v++){var D=n.T[v].add.TySh;if(D==null)continue;var c=D.Kt,_=D.C.P8(),p=c.ResourceDict.FontSet,X=c.EngineDict[b+"Run"],g=X.RunArray;
for(var F=0;F<g.length;F++){var k=b2.a75(g[F][b+"Sheet"][l==0?"StyleSheetData":"Properties"],l,p,R,U,_);
if(k.FillColor==null)k.FillColor={Type:1,Values:[1,0,0,0]};var I=JSON.stringify(k);if(m[I]==null){m[I]=!0;
B.push(k)}}}var e=l==0?function(S,w){return w.FontSize-S.FontSize}:function(S,w){return S.Justify-w.Justify};
B.sort(e);var H=[];if(l==0){var A=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],Z=A.length,J=new Array(Z),s=1e9,E=0;
J.fill(1e9);for(var v=0;v<B.length;v++){var z=B[v],p=z.FontSize;s=Math.min(s,p);E=Math.max(E,p);var h=z.FillColor.Values,d=(h[1]+h[2]+h[3])/3;
H[v]=d>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var Y=b2.a75(l==0?a.RW:a.w$,l,a.hK,R,U,1),C=JSON.stringify(Y);
for(var v=0;v<B.length;v++){var i=V.d("div");j.appendChild(i);q.push(i);i.addEventListener("click",this.aEk,!1);
var z=B[v],M=JSON.stringify(z)==C;if(l==0){var W=R[z.Font].Name,$=W.toLowerCase(),P=$.indexOf("bold")!=-1||$.indexOf("-black")!=-1,O=$.indexOf("italic")!=-1||$.indexOf("oblique")!=-1||$.endsWith("-it"),G=$.indexOf("light")!=-1,p=z.FontSize,h=z.FillColor.Values,t=H[v];
if(M){t=t.slice(0);t[1]=Math.min(1,t[1]+.2)}var y=E==s?.5:(p-s)/(E-s),a=10+16*y,r="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+a+"px; color:"+CSS.E1({n:h[1]*255,i:h[2]*255,b:h[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.E1({n:t[1]*255,i:t[2]*255,b:t[3]*255})+";";
if(P)r+=" font-weight:bold;";if(O)r+=" font-style:italic;";if(G)r+=" font-weight:lighter;";V.v(i,r);
var u=V.d("span");i.appendChild(u);V.v(u,"display:inline-block;  width:"+(E>99?50:40)+"px;  text-align:right;  margin-right:5px;");
u.textContent=Math.round(p);u=V.d("span");i.appendChild(u);V.v(u,"display:inline-block;  width:130px; ");
u.textContent=W}}};b2.prototype.LX=function(j){var n=K.u(this.H.ix),v=this.sy.indexOf(j.currentTarget),Q=this.RG[v];
for(var a in Q)if(a!="Font")n.RW[a]=Q[a];eR.em(n,this.arM[Q.Font].Name);console.log(n);var B=new ar(x.E.B,!0);
B.data={Q:x.l.m6,_X:b3.U2,ix:n};this.a(B);var B=new ar(x.E.A,!0);B.I=N.BT;B.data={Q:"updateStyles"};
this.a(B)};b2.a75=function(j,n,Q,a,B,m){var R=n==0?["Font","FontSize","FillColor"]:[],q={};for(var U=0;
U<R.length;U++)q[R[U]]=j[R[U]];if(n==0){if(q.Font!=null){var l=Q[q.Font].Name;if(B[l]==null){B[l]=a.length;
a.push(Q[q.Font])}q.Font=B[l]}q.FontSize=q.FontSize*m}return q};b2.prototype.a1=function(){if(!V.gU(this.I_))return};
b2.prototype.S=function(){eX.prototype.S.call(this)};b2.prototype.sW=function(j,n){this.H=j;this.p9()};
function dk(){eX.call(this,[9,13],!1,"---panels/glyphs",eX.D9.aHg);this.H=null}dk.prototype=new eX("");
dk.prototype.eO=function(){this.$g=new de;this.$g.parent=this;this.a9j=null;this.avx=null;this.oD=null;
this.aIf=null;this.JE=Math.round(290*V.lS());this.j_=45;this.wZ=4;this.aHW=this.HD.bind(this);this.a8b=0;
this.PP=new hQ(null,["Hi","Hello"]);this.PP.P(x.E.f,this.HD,this);var j=this.cK=new ef("-",null,null,!0);
j.P("click",this.an9,this);var n=this.auC=new ef("+",null,null,!0);n.P("click",this.an9,this);this.oE=new aI(!1);
this.oE.P(x.E.f,this.yC,this);this.oE.Z.style.height=250+"px";var Q=this.OX=V.d("div","form padded");
this.I_.appendChild(Q);Q.appendChild(this.$g.Wn.Z);V.pd(Q);Q.appendChild(this.PP.Z);Q.appendChild(j.Z);
Q.appendChild(n.Z);this.I_.appendChild(this.oE.Z)};dk.prototype.rs=function(j,n){if(this.Uw==j||this.$g==null)return;
this.Uw=j;this.JE=Math.floor((j-13)*V.lS());V.v(this.OX,"width:"+this.JE/V.lS()+"px;");this.oE.Z.style.height=n-73+"px";
this.HD()};dk.prototype.yC=function(j){var n=this.abJ(),Q=Math.round(this.JE/n);n/=V.lS();var a=this.oE.j()[0]*Q*this.wZ,B=this.oE.ahm();
a+=Math.floor(B.y/n)*Q;a+=Math.floor(B.x/n);var m=this.oD[this.PP.j()];if(a>=m.length)return;var R=m[a],q=this.aIf[R],U=new ar(x.E.A,!0);
U.I=N.BT;if(q.UA.length==0)U.data={Q:"insertGlyph",J:a+1};else U.data={Q:"insertText",J:String.fromCodePoint(q.UA[0])};
this.a(U)};dk.prototype.an9=function(j){var n=1.2;if(j.target==this.cK){if(this.j_>20)this.j_/=n}else{if(this.j_<100)this.j_*=n}this.HD()};
dk.prototype.a1=function(){this.sW(this.H)};dk.prototype.sW=function(j,n){this.H=j;if(!V.gU(this.I_))return;
if(this.$g==null)this.eO();this.$g.p(j.ix,j.wR,j.K$);var Q=j.ix,a=Q.RW.Font,U=0;if(a==null)return;var B=Q.hK[a].Name;
if(this.a9j==B)return;var a=j.wR.s1(B);if(a==null)return;var m=a.maxp.numGlyphs,R=this.aIf=new Array(m);
for(var v=0;v<m;v++)R[v]={UA:[]};var q=Date.now(),l=new Uint8Array(1048575);for(var v=0;v<1048575;v++){var b=Typr.U.codeToGlyph(a,v);
if(b!=0&&b<m){l[v]=1;if(R[b].UA.length==0)U++;R[b].UA.push(v)}}var D=dk.v8,c=[];for(var v=0;v<D.length;
v++)c.push([]);for(var b=1;b<m;b++){c[0].push(b);var _=R[b].UA[0];if(_==null){continue}for(var p=1;p<D.length;
p++){var X=D[p].WV;for(var v=0;v<X.length;v+=2)if(X[v]<=_&&_<=X[v+1]){c[p].push(b);break}}}this.oD=c;
var g=[];for(var v=0;v<D.length;v++)g.push(D[v].wp+" ("+c[v].length+")");var F=this.PP.j();this.PP.MD(g);
this.PP.p(F);this.a9j=B;this.avx=a;this.HD()};dk.prototype.abJ=function(j){var n=Math.floor(this.JE/this.j_);
return Math.floor(this.JE/n)};dk.prototype.HD=function(j){if(!V.gU(this.I_)||this.oD==null)return;var n=this.oD[this.PP.j()],Q=n.length,a=this.avx,B=Typr.U,m=this.abJ(),R=m,q=R*.8,U=R*.8/a.head.unitsPerEm,l=[],b=Math.floor(this.JE/m),D=Math.ceil(Q/b),c=this.wZ,_=Date.now();
for(var p=0;p<D;p+=c){var X=V.d("canvas"),g=X.getContext("2d");X.width=m*b;X.height=R*c;g.fillStyle="white";
g.fillRect(0,0,b*m,R*c);for(var F=0;F<c;F++){for(var k=0;k<b;k++){var v=n[(p+F)*b+k];if(v==null)break;
var I=B.glyphToPath(a,v),e=K.c.Tv(I.crds);g.fillStyle="#252525";if(e.ke()){var H=a.hmtx,A=[],z=170;for(var Z in H)A.push(Z);
var J=H[A[0]][v],s=H[A[1]][v],E=Math.max(J,s);I={cmds:"M L M L M L".split(" "),crds:[0,0,E,0,0,-z,0,z,E,-z,E,z]};
e.q=E;e.x=0;g.strokeStyle="rgba(0,255,0,1)"}g.beginPath();var h=k*m+(m-e.q*U)*.5-e.x*U,d=F*R+q;g.translate(h,d);
g.scale(U,-U);B.pathToContext(I,g);g.scale(1/U,-1/U);g.translate(-h,-d);e.ke()?g.stroke():g.fill()}}g.beginPath();
for(var k=0;k<b;k++){var Y=k*m+m+.5;g.moveTo(Y,0);g.lineTo(Y,R*c)}for(var F=0;F<c;F++){var C=F*R+R+.5;
g.moveTo(0,C);g.lineTo(b*m,C)}g.strokeStyle="rgba(0,0,0,0.3)";g.stroke();l.push(X)}this.oE.YS(l,null,m*b,R*c)};
dk.v8=[{wp:"All Glyphs"},{wp:"Basic Latin, Latin 1",WV:[0,127,128,143]},{wp:"Latin Extended-A",WV:[256,383]},{wp:"Latin Extended-B",WV:[384,591]},{wp:"Punctuations",WV:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{wp:"Greek",WV:[880,1023]},{wp:"Cyrillic",WV:[1024,1279]},{wp:"Hebrew",WV:[1424,1535]},{wp:"Arabic",WV:[1536,1791]},{wp:"Emoji",WV:[9728,10095,127744,129535]}];
function jV(){eX.call(this,[13,0],!1,null,eX.D9.Wz);this.JR=0;this.a6L=0;this.H=null}jV.prototype=new eX("");
jV.prototype.eO=function(){if(!V.gU(this.I_)||this.KJ)return;var j=V.d("div","flexrow padded");this.I_.appendChild(j);
var n=V.d("div");j.appendChild(n);this.KJ=[];for(var v=0;v<2;v++){var Q=new ci;this.KJ.push(Q);Q.P("click",this.aF5,this);
n.appendChild(Q.Z)}this.HN=new jf(192);console.log("hsb picker");this.HN.P(x.E.f,this.lK,this);this.lO=new gD;
this.lO.parent=this;j.appendChild(this.HN.Z);this.sW(this.H,b3.Od)};jV.prototype.aF5=function(j){var n=j.currentTarget,Q=this.KJ.indexOf(n);
if(Q==this.JR){this.lO.RY(Q)}else{this.JR=Q;this.HD()}};jV.prototype.lK=function(j){var n=this.HN.j();
this.HN.p(n);var Q=Math.round(n.n*255)<<16|Math.round(n.i*255)<<8|Math.round(n.b*255),a=new ar(x.E.B,!0);
a.data={Q:x.l.m6,_X:b3.Wz,BO:this.JR,J:Q};this.a(a);this.a6L=Date.now()};jV.prototype.HD=function(){if(this.lO==null)return;
var j=this.H,n=this.JR,Q=[j.Z4,j.g7];for(var v=0;v<2;v++){var a=this.KJ[v],B=a.Z.style;a.au(Q[v]);if(v==n)B.filter="drop-shadow(0 0 1px #000000)"}var m=Q[n];
if(Date.now()-this.a6L>100)this.HN.p({n:(m>>>16)/255,i:(m>>>8&255)/255,b:(m&255)/255})};jV.prototype.sW=function(j,n){this.H=j;
if(this.lO==null)return;if(n==b3.Od||n==b3.Wz){this.lO.aaO(j.Z4,j.g7);this.HD()}};jV.prototype.pX=function(){this.eO()};
jV.prototype.a1=function(){this.eO();this.HD()};function eu(){eX.call(this,"CSS",!1,"---panels/css",eX.D9.CSS);
this.e8=null;var j=V.d("div","padded");this.I_.appendChild(j);this.H6=V.d("textarea");V.Sp(this.H6);
j.appendChild(this.H6)}eu.prototype=new eX("");eu.prototype.rs=function(j,n){if(this.Uw==j)return;this.Uw=j;
V.v(this.H6,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(j-10)+"px; height:"+(n-10)+"px")};
eu.prototype.pX=function(j){this.e8=j;this.HD()};eu.prototype.sW=function(j,n){if(n==b3.GM)this.HD()};
eu.prototype.HD=function(){var j=this.e8;if(j==null||j.X.length==0)return;if(!V.gU(this.I_))return;var n=j.T[j.X[0]],Q=CSS.aFw(n,j);
if(Q.length!=0)this.H6.value=Q.join(";\n")+";";else this.H6.value=""};eu.prototype.a1=function(){this.HD()};
function dZ(){eX.call(this,"Text to Image",!1,null,eX.D9.aIh);this.e8=null;this.SE=0;this.rX={};this.OO=null;
var j=["API Key","Generate"],n=this.sy=[new cE("Prompt",null,null,4),new ef([12,49],!0,null,!0)];n[0].p("goat riding a bike");
var Q=V.d("div","form padded labfxd");this.I_.appendChild(Q);for(var a=0;a<n.length;a++){n[a].parent=this;
Q.appendChild(n[a].Z);if(a==1)n[a].P("click",this.iQ,this)}this.fU=V.d("div","scrollable");Q.appendChild(this.fU);
this.a49=dZ.prototype.ajb.bind(this)}dZ.prototype=new eX("");dZ.prototype.iQ=function(){var j=this.sy,n=j[0].j().trim(),Q=function(){var a=ks.awl(n,null,null,this.a49);
if(a==1)V.BZ(this.I_,"disabled")}.bind(this);if(ks.pQ(3))Q();else ks.tU(Q)};dZ.prototype.ajb=function(j){var n=this.sy;
V.yZ(this.I_,"disabled");var Q={created:Math.round(Date.now()/1e3),data:[{b64_json:fj.cJ(j.target.response)}]},a=this.rX,B=n[0].j().trim();
if(a[B]==null)a[B]=[];a[B].push(Q);ks.uT("Generate",3);this.HD()};dZ.prototype.rs=function(j,n){if(this.Uw==j)return;
this.Uw=j;this.I_.style.width=j-16+"px";this.fU.style.height=n-190+"px"};dZ.prototype.pX=function(j,n){this.e8=j;
if(j)this.SE=n.indexOf(j);this.HD()};dZ.prototype.S=function(j,n){eX.prototype.S.call(this);var Q=this.sy,B=" target=\"_blank\" style=\"color:inherit;\">";
for(var a=0;a<Q.length;a++)this.sy[a].S()};dZ.prototype.HD=function(){var j=this.fU,n=this.rX;V.cV(j);
var Q=[];for(var a in n){n[a].sort(function(_,p){return p.created-_.created});Q.push([a,n[a]])}Q.sort(function(_,p){return p[1][0].created-_[1][0].created});
var B=this.a7P.bind(this),m=this.OO=[[],[]];for(var v=0;v<Q.length;v++){var a=Q[v][0],R=Q[v][1],q=V.d("div");
q.textContent=a;j.appendChild(q);for(var U=0;U<R.length;U++){var l=R[U].data;for(var b=0;b<l.length;
b++){var D=l[b].b64_json,c=V.d("img");c.setAttribute("src","data:image/png;base64,"+D);c.onclick=B;c.style.width=128/V.lS()+"px";
c.style.marginRight="4px";c.style.cursor="pointer";j.appendChild(c);m[0].push(c);m[1].push(l[b])}}}};
dZ.prototype.a7P=function(j){var v=this.OO[0].indexOf(j.target),n=this.OO[1][v].b64_json,Q=fj.iz(n);
aL.dl({url:"file",SE:this.SE},Q,this)};dZ.prototype.a1=function(){this.HD()};function iv(){eX.call(this,[9,6],!1,"---panels/info",eX.D9.aI4);
V.v(this.I_,"min-width:240px;");this.e8=null;this.H=null;this.Hi=null;var j=this.LF=[];for(var n=0;n<3;
n++){var Q=V.d("div","marged row");this.I_.appendChild(Q);var a=V.d("div","cell");V.v(a,"width:10em");
Q.appendChild(a);var B=V.d("div","cell");V.v(B,"width:10em");Q.appendChild(B);var m=[8,4,3][n];for(var v=0;
v<m;v++){var R=new kC("");j.push(R);R.p(0);R.Z.style.padding="0";var q=v<(n==1?2:4)?a:B;q.appendChild(R.Z);
V.pd(q)}if(n<2)V.KP(this.I_)}this.D_=j[8];this.kN=j[9];this.VD=j[10];this.hP=j[11];V.KP(this.I_);this.Hi=V.d("div");
V.v(this.Hi,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.I_.appendChild(this.Hi)}iv.prototype=new eX("");
iv.prototype.Z3=function(j,n,Q,a,B){if(!V.gU(this.I_)||j==null)return;var m=j.e.oR(B.x,B.y),R=new eE(Math.floor(m.x),Math.floor(m.y));
if(!B.vm){var q=0,U=0,l=0,b=0,D=this.LF;if(!B.vm&&!j.av2()&&new b4(0,0,j.q-1,j._-1).PU(R)){var c=j.rd(),v=j.q*R.y+R.x<<2;
q=c[v+0];U=c[v+1];l=c[v+2];b=c[v+3]}var _=K.zd([q/255,U/255,l/255]);D[0].p("R: "+q);D[1].p("G: "+U);
D[2].p("B: "+l);D[3].p("A: "+b);D[4].p("C: "+Math.round(_[0]*100)+"%");D[5].p("M: "+Math.round(_[1]*100)+"%");
D[6].p("Y: "+Math.round(_[2]*100)+"%");D[7].p("K: "+Math.round(_[3]*100)+"%");var p=K.alH(q,U,l);D[12].p("H: "+Math.round(p.WC*360)+"\xB0");
D[13].p("S: "+Math.round(p.bD*100)+"%");D[14].p("B: "+Math.round(p.b*100/255)+"%")}var X=j.e.yr>1?new eE(m.x,m.y):R;
this.D_.p("X: "+K.Ai.HZ(X.x,j.Mp,Q,j.q));this.kN.p("Y: "+K.Ai.HZ(X.y,j.Mp,Q,j._));this.Iu()};iv.prototype.Iu=function(){var j=this.e8,n=this.H,Q=0,a=0;
if(j&&n){if(j.e.Dg){Q=j.e.Dg.q;a=j.e.Dg._}else if(j.K){Q=j.K.s.q;a=j.K.s._}Q=K.Ai.HZ(Math.abs(Q),j.Mp,n,j.q);
a=K.Ai.HZ(Math.abs(a),j.Mp,n,j._)}this.VD.p(i4.get([12,41]).charAt(0)+": "+Q);this.hP.p(i4.get([12,42]).charAt(0)+": "+a)};
iv.prototype.S=function(){eX.prototype.S.call(this);this.Iu()};iv.prototype.a1=function(){this.pX(this.e8,null,this.H)};
iv.prototype.pX=function(j,n,Q){this.e8=j;this.H=Q;if(!V.gU(this.I_))return;console.log("update");this.Iu();
if(j&&j.X.length!=0){var a=j.X[0],B=j.T[a],m=k8.get(B.add)!=null,R=m&&j.X[0]>0;this.Hi.innerHTML="";
for(var v=0;v<j.xS.length;v++){var q=j.xS[v],B=j.e.Vh(q.x,q.y),U=N.Yc.Za(j,B,1,R?1:2),l={n:U>>>16&255,i:U>>>8&255,b:U&255},X="<span style=\"display:inline-block; width:25px; text-align:right\">",g="</span>";
if(R){var b=j.X[0];j.X[0]=a-1;var D=N.Yc.Za(j,B,1,1),c={n:D>>>16&255,i:D>>>8&255,b:D&255};j.X[0]=b}var _=V.d("div");
V.v(_,"padding: 0.5em 0.5em; width: 40%");var p="<b>#"+(v+1)+"</b>",F=[l.n,l.i,l.b],k=R?[c.n,c.i,c.b]:null,I=["R","G","B"];
for(var e=0;e<3;e++)p+="<br/>"+X+I[e]+g+": "+(R?X+k[e]+g+" /":"")+X+F[e]+g;_.innerHTML=p;this.Hi.appendChild(_)}}};
function gj(){eX.call(this,[9,1],!1,"---panels/layers",eX.D9.ir);this.adV=null;this.Ts=[];this.uM=null;
this.pB=null;this.QS=V.d("div","lphead");this.KF=V.d("div","lpbody scrollable");this.KF.addEventListener("scroll",this.am0.bind(this),!1);
this.s5=V.d("div","lpfoot");var j=this.aex=V.d("span");V.v(j,"display:inline-block; height:26px");this.QS.appendChild(j);
this.v0=new hQ(null,af.Z1,af.vb);this.v0.P(x.E.f,this.acL,this);this.QS.appendChild(this.v0.Z);this.R7=new i7([12,0],0,100,"%",0);
this.R7.P(x.E.f,this.avN,this);this.R7.parent=this;this.QS.appendChild(this.R7.Z);this.KN=new is([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.KN.P(x.E.f,this.aHt,this);this.QS.appendChild(this.KN.Z);this.b4=new i7([12,26],0,100,"%",0);this.b4.P(x.E.f,this.amM,this);
this.b4.parent=this;this.QS.appendChild(this.b4.Z);this.hD=[];this.gC();if(fL==0)this.I_.appendChild(this.QS);
this.I_.appendChild(this.KF);this.KF.addEventListener("dragover",function(B){B.preventDefault()},!1);
this.KF.addEventListener("dragenter",V.Ju,!1);this.KF.addEventListener("drop",this.aHm.bind(this),!1);
this.I_.appendChild(this.s5);this.I_.addEventListener("contextmenu",V.Ju,!1);if(fL==0)this.P("rclick",this.a6h,this);
var n=function(B,m,v){return{cp:this.l9[v]==1}}.bind(this);if(fL==0){this.avp=new ig([{name:[0,6],m:n},{name:[14,10],m:n},{name:[6,57,2],m:n,Kl:!0},{name:"Long-tap as a right click",m:n,Kl:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",m:function(){return{cp:id.st==0,m:!0}}},{name:"Thumbnails by Document",m:function(){return{cp:id.st==1,m:!0}}}]);
this.avp.P("select",this.ajA,this)}this.l9=[0,1,1,0];var Q=window.locStor;if(Q){var a=Q.getItem("lpOpt");
if(a){a=JSON.parse(a);this.l9=a[0];id.np=a[1];id.st=a[2]}}this.ajA()}gj.prototype=new eX("");gj.af=function(j){var n=j==null?0:j.X.length;
return{m:n!=0&&(n!=1||j.X[0]!=0)&&(n!=1||!j.T[j.X[0]].bx()||j.T[j.X[0]].VH()),Zy:i4.get(n>1||n==1&&j.T[j.X[0]].bx()?[6,12,0]:[6,10])}};
gj.prototype.eo=function(){if(this.abD)return;var j=dX.us(!0),n=dX.QF(!0);this.abD=new ig(j,n);var j=[{name:[14,10]},{name:[14,11],Kl:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Kl:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",m:function(a){return{m:a.T[a.X[0]].add.SoLd!=null}},Kl:!0},{name:[6,8],m:gj.ayi},{name:[6,34],m:function(a){var B=a.T[a.X[0]];
return{m:B.add.lmfx!=null&&!B.bx()}}},{name:[6,40],Kl:!0,m:function(a){var B=a.T[a.X[0]];return{m:B.add.TySh!=null}}},{name:"",Kl:!0,m:function(a){var B=a.T[a.X[0]],m=B.add.TySh,R=m?m.Kt:null;
return{m:m!=null&&R.Curve==null,Zy:i4.get(m&&eR.Pv(R)==0?[16,3,1]:[16,3,0])}}},gj.anu(!1),dX.ayQ(),{name:[6,12,0],m:gj.af},{name:[6,12,1],Kl:!0},{name:[13,0],sub:function(){var a=[];
for(var v=0;v<dn.gz.length;v++)a.push({name:[13,1,v],l8:"#"+K.EA(dn.gz[v])});return a}()}],n=[{o:x.E.B,h:{Q:x.l.Vg,Z8:"layerstyle"}},{o:x.E.A,I:N.D4,h:{Q:"fromlayer",eT:[null,0,0]}},{o:x.E.A,I:N.ir,h:{Q:f.l5}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"duplinto"}},{o:x.E.A,I:N.ir,h:{Q:f.mQ}},{o:x.E.X2,h:{ep:"newPlacedLayer"}},{o:x.E.A,I:N.ir,h:{Q:f.Rr}},{o:x.E.X2,h:{ep:"rasterizeLayer",Tu:{classID:"rasterizeLayer",null:f2.oA("Lyr",!0)}}},{o:x.E.X2,h:{ep:"rasterizeLayer",Tu:{classID:"rasterizeLayer",null:f2.oA("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{o:x.E.A,I:N.ir,h:{Q:f.L9}},{o:x.E.A,I:N.BT,h:{Q:"switchPntPrgr"}},{o:x.E.A,I:N.ir,h:{Q:f.WN}},dX.aA_(),{o:x.E.X2,h:{ep:"mergeLayersNew",Tu:{__name:"Merge Layers",classID:"Mrg2"}}},{o:x.E.X2,h:{ep:"flattenImage"}},{sub:function(){var a=[];
for(var v=0;v<8;v++)a.push({o:x.E.A,I:N.ir,h:{Q:f.dc,abC:v}});return a}()}];this.y5=new ig(j,n);var j=[{name:[6,45],m:function(a){var B=a.T[a.X[0]];
return{m:B.vG(a).N==null}}},{name:[6,47]}],n=[{o:x.E.A,I:N.ir,h:{Q:f.MB}},{o:x.E.A,I:N.ir,h:{Q:f.e2}}];
this.a1J=new ig(j,n);var j=[{name:"enab/disab",m:function(a){return{Zy:i4.get(a.T[a.X[0]].sJ().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],m:function(a){return{m:a.rV(!1,!0)}}}],n=[{o:x.E.A,I:N.ir,h:{Q:f.hf}},{o:x.E.A,I:N.ir,h:{Q:f.Qf}},{o:x.E.A,I:N.ir,h:{Q:f.w2}}];
this.aq7=new ig(j,n);var j=[{name:"enab/disab",m:function(a){return{Zy:i4.get(a.T[a.X[0]].vG(a).N.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],n=[{o:x.E.A,I:N.ir,h:{Q:f.my}},{o:x.E.A,I:N.ir,h:{Q:f.ou}}];
this.aBI=new ig(j,n);var j=[{name:"enab/disab",m:function(a){return{Zy:i4.get(a.T[a.X[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],Q={classID:"rasterizeLayer",null:f2.oA("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},n=[{o:x.E.A,I:N.ir,h:{Q:f.AX}},{o:x.E.X2,h:N._I.iF(3)},{o:x.E.X2,h:{ep:"rasterizeLayer",Tu:Q}}];
this.aHf=new ig(j,n);this.aGS=new ig(dX.apq(!0),dX.Ae(!0));this.axG=new ig(dX.us(),dX.QF())};gj.prototype.am0=function(j){var n=this.KF.scrollTop-600;
for(var v=0;v<this.Ts.length;v++){var Q=this.Ts[v],a=Q.iE;if(n<Q.iE)Q.aps();if(Q.iE>n+this.WC+600)break}};
gj.prototype.Pu=function(){return this.avp};gj.prototype.ajA=function(j){var n=this.l9;if(j){var Q=j.target.IF(),v=Q[0];
if(v<4)n[v]=1-n[v];else if(v<6){if(v==4&&id.np-10>=10)id.np-=10;if(v==5&&id.np+10<=200)id.np+=10;if(this.uM)this.uM.LD=!0}else{if(v==6)id.st=0;
if(v==7)id.st=1;if(this.uM)this.uM.LD=!0}var a=window.locStor;if(a)a.setItem("lpOpt",JSON.stringify([n,id.np,id.st]))}if(n[0]==1)this.adp();
var B=[[{Z:this.aex}],[this.v0,this.R7],[this.KN,this.b4]];for(var v=0;v<3;v++)for(var m=0;m<B[v].length;
m++)B[v][m].Z.style.display=n[v]==1?"inline-block":"none";this.rs(this.Uw,this.WC)};gj.prototype.a2x=function(){var j=this.B7;
if(j==null)return!1;if(j.j()){var n=this.Yy.j(),Q=this.tk[n].j();if(n==0)return Q.indexOf(!0)!=-1;if(n==1)return Q!=""}return!1};
gj.anu=function(j){var n=function(a){var B=a!=null&&a.X.length!=0&&a.T[a.X[0]].U7;return{cp:B,m:a!=null&&a.tC(a.X[0]),h:{o:x.E.X2,h:{ep:B?"ungroup":"groupEvent",Tu:{classID:B?"Ungr":"GrpL",null:f2.oA("Lyr",!0)}}}}},Q={name:[6,6,0],Kl:!0,m:n};
if(j)Q.Ha=[i8.Y2,i8.Gm,i8.BH];return Q};gj.ayi=function(j,n){if(j)for(var v=0;v<j.X.length;v++){var Q=j.T[j.X[v]];
if(Q.add.TySh||Q.add.SoLd||Q.add.SoCo||Q.add.GdFl||Q.add.PtFl)return{m:!0}}return{m:!1}};gj.prototype.aHm=function(j){V.Ju(j);
var n=j.dataTransfer.getData("Text"),Q=1,a=0;if(n==""){V.DJ(j,this,this.pB.indexOf(this.uM),a+(Q>.5?0:1))}else if(n!="--panel"){var n=JSON.parse(n),B=n.m_;
if(B=="l")this.oj({Q:f.ef,source:n.dL,target:a,ZD:Q})}};gj.prototype.a6h=function(j){var n=this.uM,Q=j.data,B;
if(n.X.indexOf(Q.W)==-1){var a={Q:f.n1,W:j.target.RI.index,k9:Q.s0};this.oj(a)}if(n.X.indexOf(Q.W)==-1)return;
this.eo();if(Q.s0==1){B=this.aq7}else if(Q.s0==2){B=this.aHf}else if(Q.s0==3){B=this.aBI}else if(Q.s0==4){B=this.a1J}else if(Q.s0==5){B=this.abD}else{B=this.y5}B.S();
B.update(n);B.parent=this;var m=new ar(x.E.B,!0);m.data={Q:x.l.Ix,cB:B,x:Q.CK.x+1,y:Q.CK.y+1};this.a(m)};
gj.prototype.S=function(){eX.prototype.S.call(this);this.v0.S();this.R7.S();this.KN.S();this.b4.S();
if(this.B7){this.B7.S();this.tk[0].S()}if(this.uM)this.pX(this.uM);var j="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var v=0;v<this.hD.length;v++){var n=this.hD[v];n.LY(V.Mn(j[v],null,"miniscale"));if(v==1||v==3){n.Z.style.position="relative";
var Q=V.d("img","gsicon");Q.setAttribute("src",PIMG["tools/corner"]);V.v(Q,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
n.Z.appendChild(Q)}}};gj.prototype.pX=function(j,n){if(j&&!j.LD)return;if(j==null)V.BZ(this.I_,"disabled");
else V.yZ(this.I_,"disabled");this.uM=j;this.pB=n;if(this.adV!=null){V.cV(this.KF);this.adV=null;this.Ts=[]}if(j==null)return;
var Q=!1;for(var v=0;v<j.Kj.length;v++)if(j.Kj[v].fa)Q=!0;this.adV=new dn(j.root,this,j,{Cx:0,abL:!1},{a98:Q,a5i:this.a2x()},this.Ts,0,new b4(0,0,j.q,j._));
if(j.X.length==0||j.T[j.X[0]]==null)V.BZ(this.QS,"disabled");else{V.yZ(this.QS,"disabled");if(j.X.length==1&&j.v9){var a=j.X[0];
for(var v=0;v<this.Ts.length;v++){var B=this.Ts[v];if(B.RI.index==a&&B.QS.scrollIntoView)B.QS.scrollIntoView({block:"nearest"})}}var m=j.T[j.X[0]];
if(m.bx()){this.v0.MD([[15,10,27]].concat(af.Z1),[1].concat(af.vb));var R=af.Yh.indexOf(m.TM);this.v0.p(R+1)}else{this.v0.MD(af.Z1,af.vb);
var R=af.Yh.indexOf(m.TM);this.v0.p(R)}this.R7.p(Math.round(100*m.wT/255));this.KN.p([m.Na(0),m.Na(1),m.Na(2),m.Na(31)]);
var q=j.E8();this.v0.Q7(!q);this.b4.Q7(!q);this.R7.Q7(!q);this.KN.Q7(!(q&&!m.Na(31)));this.b4.p(Math.round(100*(m.add.iOpa!=null?m.add.iOpa/255:1)));
this.hD[2].azI(i4.get(m.sJ()?[6,23]:[6,21]))}this.am0(null)};gj.prototype.rs=function(j,n){this.Uw=j;
this.WC=n;var Q=this.QS.getBoundingClientRect().height;if(55<Q&&Q<56)Q=60.2;var a=this.s5.getBoundingClientRect().height,B=n-(Q+a+3);
this.KF.style.height=B+"px";this.KF.style.width=j+"px"};gj.prototype.acL=function(j){this.oj({Q:f.Iy,L3:this.v0.j()})};
gj.prototype.avN=function(j){this.oj({Q:f.pc,L3:Math.round(255*this.R7.j()/100)})};gj.prototype.aHt=function(j){this.oj({Q:f.MI,L3:[this.KN.j(),[0,1,2,31]]})};
gj.prototype.amM=function(j){this.oj({Q:f.cv,L3:Math.round(255*this.b4.j()/100)})};gj.prototype.iK=function(j){if(j.target==this.Yy)this.adp();
var n=this.B7.j();if(n)V.yZ(this.adX,"disabled");else V.BZ(this.adX,"disabled");this.S();this.uM.LD=!0;
this.pX(this.uM);this.uM.LD=!1};gj.prototype.adp=function(){var j=this.adX;if(j==null){var n=this.aex,Q=this.B7=new k9([0,6]);
Q.P(x.E.f,this.iK,this);n.appendChild(Q.Z);j=this.adX=V.d("span","disabled");n.appendChild(j);this.Yy=new hQ(null,["Kind",[12,48]],[]);
this.Yy.P(x.E.f,this.iK,this);var a=this.tk=[new is(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new cE(null,null,8)];
a[0].P(x.E.f,this.iK,this);a[1].P("input",this.iK,this)}V.cV(j);j.appendChild(this.Yy.Z);j.appendChild(this.tk[this.Yy.j()].Z)};
gj.prototype.abb=function(j){this.eo();this.avE(j,this.aGS)};gj.prototype.aAs=function(j){this.eo();
this.avE(j,this.axG)};gj.prototype.avE=function(j,n){var Q=j.currentTarget;if(V.gU(n.Z))return;j.stopPropagation();
var a=Q.getBoundingClientRect();n.S();n.update(this.uM);n.parent=this;var B=new ar(x.E.B,!0);B.data={Q:x.l.Ix,cB:n,x:a.left,y:a.top,abq:!0};
this.a(B)};gj.prototype.awg=function(j){this.oj({Q:f.awM})};gj.prototype.aeH=function(j){this.oj({Q:this.uM.X.length>1?f.Cv:f.cj})};
gj.prototype.auV=function(j){this.oj({Q:f.X0})};gj.prototype.ab3=function(j){var n=this.uM;if(n.X.length==0)return;
var Q=n.T[n.X[0]],a=Q.s0;this.oj({Q:a<=0?Q.Ok?f.s6:f.mQ:a==3?f.ou:f.Qf})};gj.prototype.aAr=function(j){this.oj({Q:f.YV})};
gj.prototype.oj=function(j){var n=new ar(x.E.A,!0);n.data=j;n.I=N.ir;this.a(n)};gj.prototype.gC=function(){var j=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],n=[this.aAr,this.aAs,this.awg,this.abb,this.aeH,this.auV,this.ab3],Q=this.ah7.bind(this);
for(var v=0;v<j.length;v++){var a=new ef("W",!1,j[v]);this.hD.push(a);V.ON(a.Z,n[v].bind(this));if(fL==0||v>3&&v!=5)this.s5.appendChild(a.Z);
if(v>=j.length-3){var B=a.Z;B.addEventListener("drop",Q,!1);B.addEventListener("dragover",function(m){m.preventDefault()},!1);
B.addEventListener("dragenter",V.Ju,!1)}}};gj.prototype.ah7=function(j){V.Ju(j);var n=0,Q=this.hD;while(Q[n].Z!=j.currentTarget)n++;
Q[n].Qj();var a=j.dataTransfer.getData("Text");if(a=="")return;var a=JSON.parse(a);if(a.m_=="l"){var B={Q:[f.Cv,f.l5,f.mQ][n-4]};
if(this.uM.X.indexOf(a.dL)==-1)B.W=a.dL;this.oj(B)}if(n!=6)return;if(a.m_=="sm"||a.m_=="s"){var m=new ar(x.E.A,!0);
m.I=N.uX;m.data={Q:a.m_=="sm"?"st_clear":"st_delsingle",W:a.dL,dL:a.iX};this.a(m)}if(a.m_=="fm"||a.m_=="f"){this.oj({Q:a.m_=="fm"?f.e2:f.Oe,src:a.dL,iX:a.iX})}if(a.m_=="m"||a.m_=="vm"){this.oj({Q:a.m_=="m"?f.Qf:f.s6,W:a.dL})}};
function dn(j,n,Q,a,B,m,R,q){eD.call(this);this.parent=n;this.iE=R;this.RI=j;m.push(this);this.uM=Q;
this.QI=a;var U=n.KF,l=j.W,b=Q.X.indexOf(j.index)!=-1,p=null;this.QS=V.d("div",b?"head selected":"head");
if(l.add.artb!=null){V.BZ(this.QS,"artb");q=l.v_()}var D=this.avc=Math.floor(10+l.ahC/V.lS()),c="height: "+D+"px;";
if(b&&B.a98)c+="background-color:rgba(255,50,50,0.4);";V.v(this.QS,c);this.view=q;var _=this.ahN=this.ahc.bind(this),X=B.a5i&&!this.aAh();
if(!X){if(j.depth!=0){U.appendChild(this.QS);R+=D-.3}if(l.vv()||l.FI())if(l.vf()){p=this.a1m=V.d("div","lpineck");
U.appendChild(p);if(l.vv()){p.addEventListener("contextmenu",_,!1);var g=new gj.Of(i4.get([12,1]),"sm","layerstyle",j.depth,0,null);
R+=21;g.parent=this;p.appendChild(g.Z);var F=l.add.lmfx,k=F.masterFXSwitch.v;g._a(k);for(var v=0;v<g8.order.length;
v++){var I=F[g8.Ub[v]].v;if(I.length==0)continue;for(var e=0;e<I.length;e++){var g=new gj.Of(i4.get(g8.names[v]),"s","layerstyle",j.depth,1,[v,e]);
R+=21;g._a(k&&I[e].v.enab.v);g.parent=this;p.appendChild(g.Z)}}}if(l.FI()){var H=l.vG(Q).N;if(H)this.D0=V.d("div","thumb");
var g=new gj.Of(i4.get([12,55]),"fm",null,j.depth,0,-1,H?this.D0:null,D);R+=H?D:21;g.parent=this;p.appendChild(g.Z);
this.aip=g.Z;this.aip.addEventListener("contextmenu",_,!1);var F=l.add.SoLd.filterFX.v,A=F.filterFXList.v,k=F.enab.v;
g._a(k);for(var v=A.length-1;v>=0;v--){var Z=A[v].v,J=fo.$d(Z);if(k8.pM[J])J=k8.pM[J];var s=Z.Nm.v;if(fo.names[J])s=i4.get(fo.names[J]);
if(k8.names[J])s=i4.get(k8.names[J]);var E="afw_"+J,g=new gj.Of(s,"f",E,j.depth,1,v);R+=21;g._a(k&&Z.enab.v);
g.parent=this;p.appendChild(g.Z)}}}}var z=l.add.lclr;if(z==null)z=0;z=z==0?a.Cx:dn.gz[z];this.api=z;
if(l.bx()&&(l.add.lsct==fM.ko||B.a5i)){var h={Cx:z,abL:a.abL||l.Na(31)};for(var v=j.children.length-1;
v>=0;v--){var d=new dn(j.children[v],n,Q,h,B,m,R,q);R=d.ash}}this.ash=R}dn.prototype=new eD;dn.gz=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
dn.prototype.aps=function(){if(this.Lh)return;var j=this.RI,n=j.W,Q=this.uM,a=this.QI,D=!0,h=!1;j.r9(Q,this.view,!0);
var B=V.d("div","headL"),m=V.d("div","headR");this.QS.appendChild(B);this.QS.appendChild(m);var R=this.QS;
R.setAttribute("draggable","true");R.addEventListener("dragstart",this.ne.bind(this),!1);R.addEventListener("drop",this.wL.bind(this),!1);
R.addEventListener("dragover",this.EE.bind(this),!1);R.addEventListener("dragenter",V.Ju,!1);R.addEventListener("dragleave",this.d6.bind(this),!1);
var q=[],U=[null,null,null,null],l=n.VH(),b=j;while(b.parent){b=b.parent;l=l&&b.W.VH()}if(n.U7){for(var v=j.index-1;
v>=0;v--){var c=Q.T[v];if(!c.U7){D=c.VH();break}}}var _=n.VH()?l&&D?2:1:0;this.Lh=V.d("div");var p=V.d("div",_==0?"sqr":"eye");
this.Lh.appendChild(p);p.style.opacity=[.12,.33,1][_];var X=V.d("div","space");this.Ke=V.d("div","label");
V.v(this.Ke,"max-width:calc(100% - "+(96+j.depth*20)+"px); margin-top:"+(this.avc-19)/2+"px;"+(n.Le?"text-decoration:underline;":""));
this.Ke.textContent=n.getName();this.al6=V.d("div","lock");this.a03=V.d("div","lrfx");this.HL=V.d("div","arfx");
var g=this.ahN,F=this.a6G.bind(this);this.QS.addEventListener("click",F,!1);this.QS.addEventListener("contextmenu",g,!1);
var k=this.api;if(k!=0){var I=[k>>16,k>>8&255,k&255];for(var v=0;v<3;v++){I[v]="calc("+I[v]+"*0.7 + (var(--absc)) * 255 * 0.3)"}V.v(this.Lh,"background-color:rgba("+I.join(",")+",1);")}var e=this.a0z.bind(this);
this.Lh.addEventListener("mousedown",e,!1);this.Lh.addEventListener("mouseover",e,!1);this.HL.addEventListener("click",this.adQ.bind(this),!1);
q[0]=this.Lh;q[1]=X;q[10]=this.Ke;if(n.bx()){var H=V.d("div","arrow"),A=V.d("div","folder");this.Ko(A);
H.addEventListener("click",this.aqe.bind(this),!1);q[2]=H;q[3]=A;H.className=n.add.lsct==fM.ko?"open":"closed"}else{this.Lw=V.d("div","thumb");
q[5]=this.Lw;dn.CB(this.Lw,n.gi);this.Ko(this.Lw);if(k8.get(n.add))V.BZ(n.gi.canvas,"gsicon")}var Z=n.sJ();
if(Z){this.zz=V.d("div","chain");this.iZ=V.d("div","thumb");dn.CB(this.iZ,n.d2,!0);this.zz.style.opacity=Z.DW?1:0;
this.zz.addEventListener("click",this.aED.bind(this),!1)}var J=n.Oi()&&n.add.vmsk;if(n.add.vmsk&&!J){this.wv=V.d("div","chain");
this.cu=V.d("div","thumb");dn.CB(this.cu,n.w1,!0);this.wv.style.opacity=n.add.vmsk.DW?1:0;this.wv.addEventListener("click",this.aIj.bind(this),!1)}if(n.FI()&&n.vf()&&n.vG(Q).N){dn.CB(this.D0,n.WA,!1);
this.Ko(this.D0);this.D0.addEventListener("click",F,!1);this.D0.addEventListener("contextmenu",g,!1)}if(j.index==Q.X[0]){var s=n.s0,E;
if(s<=0)E=this.Lw;else if(s==1)E=this.iZ;else if(s==3)E=this.D0;if(E)E.className="thumb active";if(n.Ok&&this.cu)this.cu.className="thumb active"}V.v(X,"width:"+Math.max(0,j.depth-1)*18+"px");
var z=n.add.lspf!=null&&n.add.lspf!=0||a.abL;this.al6.style.opacity=n.Na(31)?1:.5;q[4]=n.U7?V.d("div","clipp"):null;
q[6]=Z?this.zz:null;q[7]=Z?this.iZ:null;q[8]=n.add.vmsk&&!J?this.wv:null;q[9]=n.add.vmsk&&!J?this.cu:null;
var d=n.i8,Y=Q.X;if(d!=0)for(var v=0;v<Y.length;v++)if(Q.T[Y[v]].i8==d){h=!0;break}if(h){U[0]=V.d("div",n.dq?"link":"linkX");
U[0].addEventListener("click",this.afp.bind(this),!1)}U[1]=z?this.al6:null;U[2]=n.vv()?this.a03:null;
U[3]=n.vv()||n.FI()?this.HL:null;this.HL.className=n.vf()?"arfx open  gsicon":"arfx closed  gsicon";
var C=q;for(var v=0;v<C.length;v++)if(C[v])B.appendChild(C[v]);C=U;for(var v=0;v<C.length;v++)if(C[v])m.appendChild(C[v])};
dn.CB=function(j,n,Q){var a=n.canvas;V.z6(a);if(Q)j.setAttribute("draggable","true");j.appendChild(a);
V.v(a,a.getAttribute("style")+"; pointer-events:none")};dn.prototype.Ko=function(j){V.ON(j,function(n){if(this.parent.l9[3]==0)return;
V.bi(n);V.GL(document.body,function(){clearTimeout(this.aEh)}.bind(this));this.aEh=setTimeout(function(){var Q=new ar("rclick",!0);
Q.data={W:this.RI.index,s0:this.s0(n),CK:V.MR(n,document.body)};this.a(Q)}.bind(this),600)}.bind(this))};
dn.zl=function(j,n){var Q=n.getBoundingClientRect();return(j.clientY-Q.top)/Q.height};dn.prototype.ne=function(j){j.stopPropagation();
var n=j.target==this.iZ?"m":j.target==this.cu?"vm":"l";j.dataTransfer.setData("Text",JSON.stringify({m_:n,dL:this.RI.index}))};
dn.prototype.d6=function(j){V.Ju(j);this.jD()};dn.prototype.wL=function(j){V.Ju(j);this.jD();var n=j.dataTransfer.getData("Text"),Q=this.parent.uM,a=dn.zl(j,this.QS),B=this.RI.index;
if(a>.8){var m=!0,R=Q.root._N(B);while(R.parent!=null){var q=R.parent,U=q.children;if(U.indexOf(R)!=0)m=!1;
R=R.parent}if(m){B=0;a=1}}if(n==""){V.DJ(j,this,this.parent.pB.indexOf(Q),B+(a>.5?0:1))}else if(n!="--panel"){var n=JSON.parse(n),l=n.m_;
if(l=="l")this.oj({Q:f.ef,source:n.dL,target:B,ZD:a});else if(l=="m"||l=="vm")this.oj({Q:l=="m"?f.aIk:f.a9,src:n.dL,iB:B});
else dn.a11(j,n,this)}};dn.a11=function(j,n,Q,a){var B=n.m_,m=Q.RI.index,R=n.dL;if(B=="s"||B=="sm")Q.oj({Q:f.kR,src:R,iB:m,iX:n.iX});
if(B=="f"||B=="fm")Q.oj({Q:f.afc,src:R,iB:m,iX:n.iX,um:a==null?0:a})};dn.prototype.EE=function(j){V.Ju(j);
var n=dn.zl(j,this.QS),Q=this.RI.W.bx()&&.5<n&&n<.8;this.jD();var a="inset 0 "+(Q?0:n>.5?-3:3)+"px "+(Q?"6px":0)+" var(--text-color)";
this.QS.style.boxShadow=a};dn.prototype.jD=function(j){this.QS.style.boxShadow=""};dn.ajG=-1;dn.CG=!1;
dn.akv=function(j){dn.CG=!1;document.body.removeEventListener("mouseup",dn.akv)};dn.prototype.a0z=function(j){if(j.button!=0)return;
if(j.type=="mousedown"){dn.CG=!0;document.body.addEventListener("mouseup",dn.akv,!1)}if(j.type=="mouseover"&&(!dn.CG||dn.ajG==this.RI.index))return;
V.Ju(j);this.oj({Q:f.yy,W:this.RI.index});dn.ajG=this.RI.index};dn.prototype.aqe=function(j){V.Ju(j);
this.oj({Q:f.a3I,W:this.RI.index})};dn.prototype.aED=function(j){this.oj({Q:f.fX,W:this.RI.index})};
dn.prototype.aIj=function(j){this.oj({Q:f.d4,W:this.RI.index})};dn.G7=0;dn.prototype.ds=function(j){this.oj({Q:f.jN,W:this.RI.index,name:j})};
dn.prototype.adQ=function(j){this.oj({Q:f.asd,W:this.RI.index})};dn.prototype.afp=function(j){this.oj({Q:f.Gh,W:this.RI.index})};
dn.prototype.ahc=function(j){if(j.button!=2&&!V.a2w(j)&&!(j.ctrlKey&&i8.z9()))return;var n=this.s0(j);
if(n!=3&&j.currentTarget==this.aip)n=4;if(j.target==this.a03||j.currentTarget==this.a1m)n=5;var Q=new ar("rclick",!0);
Q.data={W:this.RI.index,s0:n,CK:V.MR(j,document.body)};this.a(Q)};dn.prototype.s0=function(j){var n=j.target,Q=n;
return Q==this.cu?2:Q==this.iZ?1:Q==this.Lw?0:Q==this.D0?3:-1};dn.prototype.a6G=function(j){var n=j.target,_;
if(n==this.Lh.firstChild||n==this.HL||n==this.zz||n==this.wv||n.tagName&&n.tagName.toLowerCase()=="input")return;
var Q=this.s0(j),a=this.parent.uM,B=this.RI.index,m=a.T[B];if(n==this.al6){this.oj({Q:f.MI,W:B,L3:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var R=dn.G7,q=Date.now()-R<300;dn.G7=Date.now();if(n==this.Ke){if(q){this.QS.setAttribute("draggable","false");
var U=new eX.Wm(this.Ke,this.ds.bind(this))}else this.oj({Q:f.n1,W:B,k9:Q,HT:!0});return}if(fL==0&&j.button==0&&q){if(n==this.Ke)return;
var l=new ar(x.E.A,!0),b=new ar(x.E.B,!0),D=new ar(x.E.X2,!0);if(Q==0&&m.add.SoCo){var c=K.Gp.qF(m.add.SoCo.Clr.v);
b.data={Q:x.l.Vg,Z8:"colorpicker",Cx:c.n<<16|c.i<<8|c.b,CP:function(g){var F=K.Gp.Db({b:g&255,i:g>>>8&255,n:g>>16&255});
F={classID:"null",Clr:{t:"Objc",v:F}};var k=new ar(x.E.A,!0);k.I=N.ir;k.data={Q:f.te,ia:[B],xl:!0,J:{px:1,zT:F}};
this.a(k)}.bind(this),Bf:!0}}else if(Q==0&&(k8.get(m.add)||m.add.SoCo||m.add.GdFl||m.add.PtFl))b.data={Q:x.l.uv,Z8:eX.D9.dZ};
else if(Q!=0&&Q!=-1)b.data={Q:x.l.uv,Z8:eX.D9.dZ};else if(Q==0&&m.add.SoLd)D.data={ep:"placedLayerEditContents",Tu:{classID:"placedLayerEditContents"}};
else if(Q==0&&m.add.TySh){l.I=N.BT;l.data={Q:"editCurr",OK:B}}else b.data={Q:x.l.Vg,Z8:"layerstyle",W:B};
this.a(D.data?D:b.data?b:l);return}if(j.button!=0)return;if(Q==1||Q==3){var p=Q==3?m.vG(a).N:m.sJ();
_=p.fa?a.e.Y.join("")=="111"?1:2:0}var X={Q:f.n1,W:B,k9:Q,aiQ:_,HT:!0};this.oj(X)};dn.prototype.oj=function(j){var n=new ar(x.E.A,!0);
n.data=j;n.I=N.ir;this.a(n)};dn.prototype.aAh=function(){var j=this.RI.W,n=j.add,Q=this.parent.Yy.j(),a=this.parent.tk[Q].j();
if(Q==0){if(a[0]&&n.SoLd==null&&n.TySh==null&&j.OZ())return!0;if(a[1]&&k8.get(n)!=null)return!0;if(a[2]&&n.TySh!=null)return!0;
if(a[3]&&n.vstk!=null)return!0;if(a[4]&&n.SoLd!=null)return!0;return!1}if(Q==1)return j.getName().toLowerCase().indexOf(a.toLowerCase())!=-1};
gj.Of=function(j,n,Q,a,B,m,R,q){eD.call(this);this.afm=n;this.Q6=Q;this.index=m;this.Z=V.d("div","styleitem");
this.QS=V.d("div","head");this.afT=null;if(n=="f"){var U=this.afT=V.d("div","headR");U.textContent="\u2699";
this.QS.appendChild(U)}this.Lh=V.d("div","eye gsicon");this.Ke=V.d("div","label");this.Z.appendChild(this.QS);
this.QS.appendChild(this.Lh);if(R){this.iZ=R;this.QS.appendChild(R);V.v(this.QS,"height: "+q+"px")}this.Ke.innerHTML=j;
V.v(this.Z,"margin-left: "+(24+a*16+B*22)+"px");this.QS.appendChild(this.Ke);this.Lh.addEventListener("click",this.as$.bind(this),!1);
var l=this.Z;l.setAttribute("draggable","true");l.addEventListener("dragstart",this.ne.bind(this),!1);
if(!0){l.addEventListener("drop",this.wL.bind(this),!1);l.addEventListener("dragover",this.EE.bind(this),!1);
l.addEventListener("dragenter",V.Ju,!1);l.addEventListener("dragleave",this.d6.bind(this),!1)}this.Z.addEventListener("click",this.pU.bind(this),!1)};
gj.Of.prototype=new eD;gj.Of.prototype.ne=function(j){j.stopPropagation();j.dataTransfer.setData("Text",JSON.stringify({m_:this.afm,dL:this.parent.RI.index,iX:this.index}))};
gj.Of.prototype.d6=function(j){V.Ju(j);this.jD()};gj.Of.prototype.wL=function(j){V.Ju(j);this.jD();var n=j.dataTransfer.getData("Text");
if(n=="")return;var n=JSON.parse(n);dn.a11(j,n,this.parent,this.index+(dn.zl(j,this.QS)>.5?0:1))};gj.Of.prototype.EE=function(j){V.Ju(j);
var n=dn.zl(j,this.QS)>.5;this.jD();var Q="border-"+(n?"bottom":"top");this.QS.style[Q]="0.2em solid rgba(0,0,0,0.5)"};
gj.Of.prototype.jD=function(j){this.QS.style.border="none"};gj.Of.prototype._a=function(j){this.Lh.style.opacity=j?1:.2};
gj.Of.prototype.pU=function(j){var n=dn.G7,Q=Date.now()-n<300;dn.G7=Date.now();if(j.target==this.Lh)return;
var a=this.parent.RI.index;if(Q&&this.Q6!=null){var a=this.parent.RI.index,B=new ar(x.E.B,!0);if(this.Q6.indexOf("afw_")==0){var m=this.Q6.slice(4),R=i1[m]||fo.F[m],q=j.target==this.afT;
if(!q&&!R)return;B.data=N.TO.aoS(q?"blendOptions":m,{W:a,index:this.index})}else B.data={Q:x.l.Vg,Z8:this.Q6,W:a,index:this.index};
this.a(B)}else{if(j.target.className!="thumb")this.parent.oj({Q:f.n1,W:a,k9:0})}};gj.Of.prototype.as$=function(j){var n={fm:f.Hh,f:f.qf,sm:f.zj,s:f.fb}[this.afm];
this.parent.oj({Q:n,W:this.parent.RI.index,index:this.index})};function hM(){eX.call(this,"Guide Guy",!1,"---panels/guideguy",eX.D9.aB$);
this.e8=null;this.ZT=new hQ(null,K.Ai.BP)}hM.prototype=new eX("");hM.prototype.eO=function(){this.LF=[];
var j=V.d("div","form padded");this.I_.appendChild(j);V.v(j,"width:200px");this.I_.appendChild(j);var n=V.d("canvas"),Q=n.getContext("2d");
n.width=n.height=160;var a=[32,0,16,160,0,32,160,16,0,112,160,16],B="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),m=[0,0,0,0,0,0,0,0,0,0];
j.appendChild(this.ZT.Z);for(var v=0;v<10;v++){Q.clearRect(0,0,160,160);Q.setTransform(1,0,0,1,80,80);
Q.rotate((v&3)*Math.PI/2);Q.translate(-80,-80);Q.fillStyle="rgba(0,0,0,0.3)";if(v<4){for(var R=0;R<12;
R+=4){Q.fillStyle=R==0?"#000000":"rgba(0,0,0,0.3)";Q.fillRect(a[R],a[R+1],a[R+2],a[R+3])}}else if(v<6){var q=8*6;
Q.fillRect(0,0,q,160);Q.fillRect(8*7,0,q,160);Q.fillStyle="#000000";Q.fillRect(8*14,0,q,160)}else if(v<8){Q.fillRect(0,0,16,160);
Q.fillRect(160-16,0,16,160);Q.fillRect(32,0,160-64,160);Q.fillStyle="#000000";Q.fillRect(32,80-8,160-64,8*1)}else{Q.fillRect(0,0,8*7,160);
Q.fillRect(8*13,0,160,160);Q.fillStyle="#000000";Q.fillRect(8*7,80-8,8*6,8*1)}var U="<img src=\""+n.toDataURL()+"\" class=\"autoscale gsicon\" /> ",l=new i7(U,0,200,null,v==4||v==5?0:2,null,null,4,B[v]);
l.parent=this;l.P(x.E.f,this.auy,this);l.p(m[v]);l.S();this.LF.push(l);j.appendChild(l.Z)}var b=[[11,14],[11,15,0]];
this.K3=[];for(var v=0;v<b.length;v++){var D=new ef(b[v],!0,null,!0);this.K3.push(D);D.P("click",this.Ks,this);
j.appendChild(D.Z)}for(var v=0;v<6;v++){Q.setTransform(1,0,0,1,80,80);Q.rotate(Math.floor(v/3)*Math.PI/2);
Q.translate(-80,-80);Q.clearRect(0,0,160,160);Q.fillStyle="rgba(0,0,0,0.3)";Q.fillRect(0,0,160,160);
Q.clearRect(16,16,128,128);Q.fillStyle="#000000";var c=v%3;Q.fillRect([0,9,18][c]*8,0,16,160);var U="<img src=\""+n.toDataURL()+"\" class=\"autoscale gsicon\" /> ",D=new ef(U,!1,null,!1);
this.K3.push(D);D.P("click",this.Ks,this);j.appendChild(D.Z)}};hM.prototype.S=function(){eX.prototype.S.call(this);
this.ZT.S();if(this.LF==null)return;for(var v=0;v<this.K3.length;v++)this.K3[v].S()};hM.prototype.auy=function(j){var n=this.LF,Q=n.indexOf(j.target),a=Math.floor(Q/2),B=Q&1,m=[];
for(var v=0;v<4;v++)m.push(n[2*v+B].j());var R=-1;if(a==2&&m[2]!=0&&m[3]!=0&&m[4]!=0)R=4;if(a==3&&m[3]!=0&&m[2]!=0&&m[4]!=0)R=4;
if(a==4&&m[4]!=0&&m[2]!=0&&m[3]!=0)R=3;if(R!=-1)n[2*R+B].p(0)};hM.prototype.Ks=function(j){var n=this.e8,Q=this.K3.indexOf(j.target),a=[[],[]];
if(n==null)return;var B=n.K?n.K.s:new b4(0,0,n.q,n._),m=B.q,R=B._;if(Q==0){var q=[[],[]],U=this.ZT.j();
for(var v=0;v<this.LF.length;v++){var l=this.LF[v].j();l=K.Ai.hb(l,n.Mp,(v&1)==0?n.q:n._,U);q[v&1].push(l)}var b=[hM.alX(q[0],B.x,B.x+m),hM.alX(q[1],B.y,B.y+R)];
a=hM.E2(b);N.mL.jp(a,n.qE())}else if(Q==1){}else{Q-=2;var D=Math.floor(Q/3),b=[[],[]];b[D].push([B.x,B.x+m/2,B.x+m,B.y,B.y+R/2,B.y+R][Q]);
a=hM.E2(b);N.mL.jp(a,n.qE())}this.a3a(a)};hM.E2=function(j){var n=[],Q=[];for(var a=0;a<2;a++)for(var v=0;
v<j[a].length;v++){n.push([a,j[a][v]]);Q.push(-1)}return[n,Q]};hM.prototype.awH=function(j){var n=this.a2C.indexOf(j.target)};
hM.prototype.a3a=function(j){var n=new ar(x.E.A,!0);n.I=N.nQ;n.data={Q:"gids",gR:j};this.a(n)};hM.alX=function(j,n,Q){var a=[],B=j[2],m=j[3],R=j[4],q=0;
if(B==0)q++;if(m==0)q++;if(R==0)q++;if(q>1&&B==0&&m==0){if(j[0]!=0)a.push(n+j[0]);if(j[1]!=0)a.push(Q-j[1]);
return a}var U=Q-n-j[0]-j[1];if(B==0){if(R==0){B=Math.floor(U/m);R=(U-B*m)/(B-1)}else{B=1;while(m*B+R*(B-1)+m+R<=U)B++}}else if(B!=0&&m!=0){if(B*m>U)B=Math.floor(U/m);
R=(U-B*m)/(B-1)}a.push(n+j[0],Q-j[1]);var m=(U-R*(B-1))/B;for(var v=1;v<B;v++){if(R==0)a.push(n+j[0]+v*m);
else a.push(n+j[0]+v*m+(v-1)*R,n+j[0]+v*m+v*R)}return a};hM.prototype.pX=function(j,n,Q){this.e8=j};
hM.prototype.a1=function(){if(V.gU(this.I_)&&this.LF==null)this.eO();this.S()};hM.prototype.sW=function(j){this.ZT.p(j.c8.bp)};
function hS(){eX.call(this,[9,2],!1,"---panels/properties",eX.D9.dZ);this.aw4=null;this.uM=null;this.H=null;
this.aHi=-1;this.ht=null}hS.prototype=new eX("");hS.prototype.rs=function(j,n){this.Uw=j;this.WC=n;j=j-16;
n=n-30;var Q=this.ht;if(Q){Q.style.width=j+"px";Q.style.height=n+"px";for(var v=0;v<3;v++)this.axJ[v].rs(j-12,n)}};
hS.prototype.eO=function(){this.ht=V.d("div","padded scrollable");this.I_.appendChild(this.ht);var j=V.d("span");
this.ht.appendChild(j);this.YR=[new ef([0,3]),new ef([12,73]),new ef([12,91,0])];for(var v=0;v<this.YR.length;
v++){var n=this.YR[v];n.P("click",this.aoO,this);j.appendChild(n.Z);if(v==2)n.Z.style.marginRight="0"}this.ht.appendChild(V.d("hr"));
this.Qh=new hS.Uh;this.Qh.parent=this;this.Ar=new hS.AA;this.Ar.parent=this;this.ub=new hS.il;this.ub.parent=this;
this.axJ=[this.Qh,this.Ar,this.ub];this.ht.appendChild(this.Qh.Z);this.s5=V.d("div","lpfoot");this.I_.appendChild(this.s5);
this.hD=[];for(var v=0;v<3;v++){var n=new ef("W");n.P("click",this.WB,this);this.hD.push(n);this.s5.appendChild(n.Z)}this.rs(this.Uw,this.WC)};
hS.prototype.WB=function(j){var v=this.hD.indexOf(j.target),n=new ar(x.E.A,!0);n.I=N.ir;if(v==0)n.data={Q:f.WN};
if(v==1)n.data={Q:f.yy};if(v==2)n.data={Q:f.mQ};this.a(n)};hS.prototype.aoO=function(j){var v=this.YR.indexOf(j.currentTarget);
this.dA(v);this.agL(v==1?this.Ar.M$:-1)};hS.prototype.dA=function(j){for(var v=0;v<3;v++){this.YR[v].Qj();
var n=this.axJ[v].Z;if(n.parentNode==this.ht&&v!=j)this.ht.removeChild(n);if(n.parentNode!=this.ht&&v==j)this.ht.appendChild(n)}this.YR[j].eu()};
hS.prototype.agL=function(j){var n=this.uM.X[0],Q=this.uM.T[n],a=j+1;if(j==1&&Q.Ok)return;var B=new ar(x.E.A,!0);
B.I=N.ir;if(j!=1&&Q.Ok){B.data={Q:f.n1,W:n,k9:2};this.a(B)}B.data={Q:f.n1,W:n,k9:a};this.a(B)};hS.prototype.S=function(){eX.prototype.S.call(this);
if(this.ht==null)return;this.pX(this.uM);for(var v=0;v<3;v++){this.YR[v].S();this.axJ[v].S()}hc.Pg(this.hD,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
hS.prototype.a1=function(){if(!V.gU(this.I_))return;if(this.ht==null){this.eO();this.sW(this.H,b3.Od);
this.pX(this.aw4);this.S()}};hS.prototype.pX=function(j){this.aw4=j;if(this.ht==null)return;this.Qh.pX(j);
this.Ar.pX(j);this.ub.pX(j);if(j==null||j.X.length==0||j.T[j.X[0]]==null){V.BZ(this.I_,"disabled");this.uM=null;
return}else V.yZ(this.I_,"disabled");var n=j.X[0],Q=j.T[n];this.hD[0].p(Q.U7);this.hD[1].p(Q.VH());var a=j.H9(),B=a[0],m=a[1];
if(m.length!=0){var R=B[m[0]],q=R.add.vogk,U=!1;if(q)for(var v=0;v<q.length;v++){var l=q[v].v;if(!K._y.GO(l))continue;
U=!0;n=R.cb}}n+=","+U;if(j!=this.uM||this.aHi!=n){this.uM=j;this.aHi=n;if(U)this.dA(2);else if(Q.s0<1&&!Q.Ok||k8.get(Q.add))this.dA(0);
else this.dA(1)}this.YR[1].Q7(this.Ar.M$!=-1);this.YR[2].Q7(U)};hS.prototype.sW=function(j,n){this.H=j;
if(this.Qh)this.Qh.sW(j,n);if(this.ub)this.ub.sW(j,n)};hS.Uh=function(){eD.call(this);this.Z=V.d("div","form");
this.aqW=new kC("Hello");this.aS=new ef([1,12,2],null,null,!0);this.aS.Z.style.a1c="right";this.aS.P("click",this.Bi,this);
this.Z.appendChild(this.aqW.Z);this.Z.appendChild(this.aS.Z);this.RM=null;this.at2=null;this.uM=null;
this.H=null;this.aiX=-1;this.aCL=null;this.aI5=null;this.f2=new hl(0,!0,!0);this.f2.parent=this;this.f2.P(x.E.f,this.amb,this);
this.Z.appendChild(this.f2.Z);this.$J=new ci(!0);this.$J.parent=this;this.$J.P(x.E.f,this.a18,this);
this.P0=V.d("div","marged hiline");this.P0.appendChild(this.$J.Z);this.Ja=new jz("GrFl",!0);this.Ja.parent=this;
this.Ja.P(x.E.f,this.aCi,this);this.gd=V.d("div","marged hiline");var j="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var v=0;v<j.length;v++){var n=this.Ja.kW[j[v]].Z;this.gd.appendChild(n)}this._B=new jz("patternFill",!0);
this._B.parent=this;this._B.P(x.E.f,this.ai$,this);this.ez=V.d("div","marged hiline");var j=["Ptrn","Angl","Scl","Algn","phase"];
for(var v=0;v<j.length;v++){var n=this._B.kW[j[v]].Z;this.ez.appendChild(n)}this.Gq={};for(var Q in k8.names){if(i1[Q]==null)continue;
this.Gq[Q]=new i1[Q];this.Gq[Q].P(x.E.f,this.aA8,this);this.Gq[Q].parent=this}var a=this.a5T=V.d("div","marged hiline");
this.mw=new hl(0,!0);a.appendChild(this.mw.Z);this.mw.P(x.E.f,this.No,this);this.aev=null;this.rG=new fK;
this.rG.parent=this;this.rG.P(x.E.f,this.No,this);a.appendChild(this.rG.Z)};hS.Uh.prototype=new eD;hS.Uh.prototype.amb=function(j){var n=this.f2.j(),Q=this.aI5,a=new b4(n[0],n[1],n[2],n[3]);
if(a.N_(Q))return;this.aI5=a;var B=new ar(x.E.A,!0);if(Q.q==a.q&&Q._==a._){B.I=N.nQ;B.data={Q:"trsl",t4:a.x-Q.x,AJ:a.y-Q.y}}else{B.I=N.CL;
B.data={Q:"scl",ID:[2,4],J:new eE(a.q/Q.q,a._/Q._),h1:0}}this.a(B)};hS.Uh.prototype.rs=function(j,n){var Q=this.Gq;
for(var a in Q)Q[a].rs(j,n)};hS.Uh.prototype.Bi=function(j){var n=this.uM,Q=n.T[n.X[0]],a=k8.get(Q.add);
this.at2.p(fo.cL(a));this.aA8()};hS.Uh.prototype.S=function(){for(var j in this.Gq)this.Gq[j].S();this.Ja.S();
this._B.S();this.rG.S();this.mw.S();this.aS.S();this.f2.S()};hS.Uh.prototype.No=function(j){var n=new ar(x.E.A,!0),Q=this.mw.j(),a=this.aev;
if(j.target==this.mw&&Q[2]==a[2]&&Q[3]==a[3]){n.I=N.nQ;n.data={Q:"trsl",t4:Q[0]-a[0],AJ:Q[1]-a[1]}}else{var B=f.tt(new b4(Q[0],Q[1],Q[2],Q[3])),m=this.rG.aGZ();
m.artboardRect={t:"Objc",v:B};var R=this.uM,q=R.T[R.X[0]],U=q.add.artb.guideIndeces;if(U)m.guideIndeces=K.u(U);
n.I=N.ir;n.data={Q:f.Lt,WY:m}}this.a(n)};hS.Uh.prototype.a18=function(j){var n=this.uM,Q=n.X[0];if(n.T[Q].add.SoCo==null)return;
var a=K.u(n.T[Q].add.SoCo);a.Clr.v=this.$J.j();this.L2({px:1,zT:a})};hS.Uh.prototype.aCi=function(j){var n=this.uM,Q=n.X[0];
if(n.T[Q].add.GdFl==null)return;this.L2({px:2,zT:this.Ja.j()})};hS.Uh.prototype.ai$=function(j){this.L2({px:3,zT:this._B.j()})};
hS.Uh.prototype.L2=function(j){this.aaY(N.ir,{Q:f.te,ia:[this.uM.X[0]],xl:!0,J:j})};hS.Uh.prototype.aA8=function(j){this.aaY(N.r_,{Q:"edit_layer",J:this.at2.j()})};
hS.Uh.prototype.aaY=function(j,n){var Q=new ar(x.E.A,!0);Q.I=j;Q.data=n;this.a(Q)};hS.Uh.prototype.pX=function(j,n){var Q=i4.get([0,3]),a=!1,B=!1,m=null;
this.uM=j;if(j&&j.T.length>0&&j.X.length!=0&&j.T[j.X[0]]){var R=j.T[j.X[0]],q=k8.get(R.add);if(q!=null&&this.Gq[q]!=null){m=this.Gq[q].Z;
this.at2=this.Gq[q];this.Gq[q].p(K.u(R.add[q]));if(j.X[0]!=this.aiX){var U=j.rd(j.X[0]-1);this.aCL=K.XG(U)}this.Gq[q].IV(this.aCL);
Q=i4.get(k8.names[q]);a=!0}if(q==null&&R.add.artb==null){var l=this.aI5=K.c.Fa(N.IP.uI(j));B=!l.ke();
var b=j.iV();l.x-=b.x;l.y-=b.y;this.f2.p([l.x,l.y,l.q,l._],[j.Mp,j.q,this.H.c8.bp])}if(R.add.SoCo){m=this.P0;
this.$J.p(R.add.SoCo.Clr.v);Q=i4.get([6,48,0,0])}if(R.add.GdFl){m=this.gd;this.Ja.update(j,R.add.GdFl);
Q=i4.get([6,48,0,1])}if(R.add.PtFl){m=this.ez;this._B.update(j,R.add.PtFl);Q=i4.get([6,48,0,2])}if(R.add.artb){var D=R.add.artb,c=R.v_();
m=this.a5T;this.rG.anT(D);var _=this.aev=[c.x,c.y,c.q,c._];this.mw.p(_,[j.Mp,j.q,this.H.c8.bp]);Q=i4.get([1,16,0])}this.aiX=j.X[0]}if(m!=this.RM){if(this.RM)this.Z.removeChild(this.RM);
if(m!=null)this.Z.appendChild(m);this.RM=m}this.aqW.p(Q);this.aS.Z.style.display=a?"":"none";this.f2.Z.style.display=B?"":"none"};
hS.Uh.prototype.sW=function(j,n){this.H=j;this.Ja.sW(j,n);this._B.sW(j,n);if(n==b3.hl)this.pX(this.uM,j);
for(var Q in this.Gq)this.Gq[Q].sW(j,n)};hS.AA=function(){eD.call(this);this.Z=V.d("div","form");this.uM=null;
this.M$=0;var j=V.d("span","fitem");this.Z.appendChild(j);this.YR=[new ef([6,2]),new ef([6,3]),new ef([6,50])];
for(var v=0;v<this.YR.length;v++){var n=this.YR[v];n.P("click",this.azY,this);j.appendChild(n.Z)}this.QY=new i5([12,74],0,255);
this.QY.P(x.E.f,this.ww,this);this.Z.appendChild(this.QY.Z);this.tu=new i5([7,6],0,500,"px",2,!0);this.tu.P(x.E.f,this.ww,this);
this.Z.appendChild(this.tu.Z);this.aan=new ef([4,11],null,null,!0);this.aan.P("click",this.aDW,this)};
hS.AA.prototype=new eD;hS.AA.prototype.aDW=function(){var j=new ar(x.E.A,!0);j.I=N.r_;j.data={Q:"start",R9:"nvrt"};
this.a(j)};hS.AA.prototype.ww=function(j){var n=this.QY.j(),Q=this.tu.j(),a=new ar(x.E.A,!0);a.I=N.ir;
a.data={Q:f.E5,NA:this.uM.X[0],pW:{E0:this.M$,QY:n,tu:Q}};this.a(a)};hS.AA.prototype.S=function(){for(var v=0;
v<this.YR.length;v++)this.YR[v].S();this.QY.S();this.tu.S();this.aan.S()};hS.AA.prototype.pX=function(j){this.uM=j;
this.p9()};hS.AA.prototype.azY=function(j){this.p9(this.YR.indexOf(j.currentTarget));this.parent.agL(this.M$)};
hS.AA.prototype.p9=function(j){var n=this.uM,Q=this.YR;for(var v=0;v<3;v++){var a=Q[v];a.Qj();a.QE()}if(n==null||n.T.length==0||n.X.length==0||n.T[n.X[0]]==null)return;
var B=-1,m=n.T[n.X[0]];if(m.FI()&&m.vG(n).N!=null){Q[2].I6();B=2}if(m.add.vmsk){Q[1].I6();B=1}if(m.sJ()){Q[0].I6();
B=0}if(j!=null)B=j;else if(m.Ok)B=1;else if(m.s0==3)B=2;else if(m.s0==1)B=0;this.M$=B;if(B==-1){this.QY.QE();
this.tu.QE();return}var R=m.vI(B);this.QY.I6();this.tu.I6();this.QY.p(R.QY);this.tu.p(R.tu);Q[B].eu();
var q=this.aan.Z;if(B==0)this.Z.appendChild(q);else if(q.parentNode==this.Z)this.Z.removeChild(q)};hS.il=function(){eD.call(this);
this.Z=V.d("div","form");this.e8=null;this.H=null;this.cl=-1;this.f2=new hl(0,!1);this.ZP=new i5([12,15],-180,180,"\xB0",2);
this.$K=new hl(1,!0);this.fs=new i5([12,94,0],0,100,null,2);this.jO=new i5([12,78],3,30);this.hC=new ef(["\u279C  ",[12,76,0]],null,null,!0);
this.f2.P(x.E.f,this.Py,this);this.ZP.P(x.E.f,this.Py,this);this.$K.P(x.E.f,this.Py,this);this.fs.P(x.E.f,this.Py,this);
this.jO.P(x.E.f,this.Py,this);this.hC.P("click",this.Py,this)};hS.il.prototype=new eD;hS.il.prototype.S=function(){this.f2.S();
this.ZP.S();this.$K.S();this.fs.S();this.jO.S()};hS.il.prototype.Py=function(j){var n=this.e8,Q=K._y.ZM(n),a=j.target.j(),B=[this.f2,this.ZP,this.$K,this.fs,this.jO,this.hC].indexOf(j.target);
if(B==0){var m=n.iV(),R=[],q=R[0]=a[0]+m.x,U=R[1]=a[1]+m.y;R[2]=q+a[2];R[3]=U+a[3];a=R}if(B==1)a=a*Math.PI/180;
var l={0:1,1:2,2:3,3:3,4:4}[B];Q[l]=a;var b=new ar(x.E.A,!0);b.I=N.ir;b.data={Q:f.ed,J:Q,aF3:B==5};this.a(b)};
hS.il.prototype.pX=function(j){var n=this.Z;this.e8=j;if(j==null)return;var Q=this.H,a=[j.Mp,j.q,Q.c8.bp],B=K._y.ZM(j),m=B[0],R=B[1];
if(R==null)return;var q=m!=this.cl;this.cl=m;if(q)V.cV(n);if(q)n.appendChild(this.f2.Z);if(q)n.appendChild(this.ZP.Z);
var U=j.iV();this.f2.p([R[0]-U.x,R[1]-U.y,R[2]-R[0],R[3]-R[1]],a);this.ZP.p(B[2]*180/Math.PI);if(m==2){if(q)n.appendChild(this.$K.Z);
var l=B[3];this.$K.p(l,a)}if(m==7||m==8){if(q)n.appendChild(this.fs.Z);this.fs.p(B[3])}if(m==8){if(q)n.appendChild(this.jO.Z);
this.jO.p(B[4])}n.appendChild(this.hC.Z)};hS.il.prototype.sW=function(j,n){this.H=j;this.pX(this.e8)};
function jL(j){eX.call(this,j.name,!0);this.uM=j;this.H=null;this.bB=new bQ(this.I_);this.bB.parent=this}jL.prototype=new eX;
jL.cE=function(){var j=document.createElement("canvas"),n=document.createElement("canvas"),Q=16,a=K.U(16*16*4);
K.WU(a,Q,Q,8);var B=K.scale.MG(a,Q,Q);return{o5:j,amv:n,C5:j.getContext("2d",{willReadFrequently:!0}),asY:n.getContext("2d"),BU:B}}();
jL.prototype.awW=function(){if(this.uM.uh())return window.confirm(i4.get([22,6,3])+" "+this.uM.name+". "+i4.get([22,6,4]));
return!0};jL.prototype.sW=function(j,n){this.H=j};jL.prototype.pX=function(j){this.a1();this.HD()};jL.prototype.rs=function(j,n){if(j<=0||n<=0)return;
this.Uw=j;this.WC=n;var Q=this.uM,a=jL.cE,B=V.lS();Q.e.C5.q=Math.floor(j*B);Q.e.C5._=Math.floor(n*B);
V.w9(a.o5,j,n);V.w9(a.amv,j,n);V.w9(gz.uq(),j,n);if(Q.e.yr==0)Q.e.yr=N.EZ.jJ(Q.q,Q._,j*B,n*B);this.HD()};
jL.prototype.a1=function(){var j=this.I_.firstChild,n=jL.cE,Q=gz.oB&&fL==0;if(!Q&&j==gz.uq()||Q&&j==n.o5)this.I_.removeChild(j);
var a=Q?gz.uq():n.o5;if(!V.gU(a))this.I_.appendChild(a)};jL.prototype.HD=function(){if(this.H==null)return;
var j=this.uM,n=gz.oB&&fL==0;if(n)this.adC();else this.Nr()};jL.prototype.adC=function(){if(gz.oB&&jL.a2T==null){var j=jL.a2T=[],n=[0,2,8,32,128];
for(var v=0;v<5;v++)j[v]=[new jL.yE(!1,n[v],!1),new jL.yE(!0,n[v],!1)];j.push([new jL.yE(!1,0,!0),new jL.yE(!0,0,!0)])}var Q=this.uM,a=jL.cE,p,F=0,J,s;
if(Q.Lx==null)return;var B=Q.e,m=B.C5.q,R=B.C5._,q=gz.Pf;a.C5.clearRect(0,0,m,R);var U=this.aGb(Q);if(B.NH==null||B.NH.q!=m||B.NH._!=R)B.NH=new gz.aL(m,R);
if(U){var l=Date.now(),b=R,D=new Uint8Array(a.C5.getImageData(0,0,m,b).data.buffer);B.NH.set(D,new b4(0,0,m,b));
this.yl=!0}else if(this.H.LB){if(this.yl){gz.Rf(B.NH);gz.jl(1);this.yl=!1}var c=K.Ai.ni,D=new Uint8Array(Q.e.L$.data.buffer);
B.NH.set(D,new b4(0,0,c,R));var D=new Uint8Array(Q.e.vV.data.buffer);B.NH.set(D,new b4(0,0,m,c));var D=new Uint8Array(a.C5.getImageData(0,R-c,m,c).data.buffer);
B.NH.set(D,new b4(0,R-c,m,c));this.yl=!0}else if(this.yl){gz.Rf(B.NH);gz.jl(1);this.yl=!1}var _=B.Vh(0,0);
if(jL.aCy==null)jL.aCy=new Float32Array(4*1024);var X=[0,0,0,0],g=jL.aCy;if(Q.add.artd){g.fill(0);X=jL.TA(Q);
var k=Q.q,I=Q._,Z=0;for(var v=0;v<Q.T.length;v++){var e=Q.T[v],H=e.add.artb;if(H==null||!e.VH())continue;
var A=e.v_();g[F]=A.x/k;g[F+1]=A.y/I;g[F+2]=A.q/k;g[F+3]=A._/I;F+=4;if(F==g.length)break}if(F>2*4)Z++;
if(F>8*4)Z++;if(F>32*4)Z++;p=jL.a2T[Z+1];g=new Float32Array(g.buffer,0,[2,8,32,128][Z]*4)}else p=jL.a2T[Q.zO?5:0];
var E=Q.Tc();if(E==null)p=p[0];else{p=p[1];s=E[Q.add.fcmy==1?6:4];J=E[2]}gz.aG4(m,R);gz.jl(0);gz.aG4(m,R);
p._c();var z=new j8;z.scale(m,R);z.concat(B.Q2(!0));z.scale(1/Q.q,1/Q._);var h=[z.NX,z.b,0,z.RK,z.zP,0,z.Qr,z.dE,1];
p.k8(B.NH.K8,Q.Lx.K8,new Float32Array(h),new Float32Array([m/8,R/8,_.x/m,_.y/R]),Q.q,Q._,1/Q.e.yr,m,R,new Float32Array(X),g,new Float32Array(K.wz.UI(K.wz.anI(B.Y))),s,J);
q.drawArrays(q.TRIANGLES,0,6)};jL.TA=function(j){return[0,0,0,0]};jL.aDI=function(j){var n=K.Gp.qF(j.v),Q=[n.n/255,n.i/255,n.b/255,1];
for(var v=0;v<4;v++)Q[v]=Math.min(1,Q[v]);return Q};jL.pF=function(j,n){var Q=j[2]*255;if(gz.oB)Q=n?0:Math.max(2,Q);
return"rgba("+j[0]*255+","+j[1]*255+","+Q+","+j[3]+")"};jL.h$=function(j){var n=j.length;if(gz.oB)for(var v=0;
v<n;v+=4){if(j[v+2]==0)j[v+2]=3}};jL.prototype.Nr=function(){var j=this.uM,n=jL.cE;if(fL==0&&j.buffer==null)return;
var Q=j.e,a=Q.C5,B=a.q,m=a._,R=new b4(0,0,j.q,j._);n.asY.clearRect(0,0,B,m);n.C5.clearRect(0,0,B,m);
var q=j.add.prvw==0;if(fL==1&&q){n.C5.fillStyle="white";n.C5.fillRect(-5e3,-5e3,2e4,2e4)}var U=Q.Q2(!0),l=U.O();
l.m2();if(j.add.artd==null){n.C5.save();var b=l.JZ(new eE(0,0));l.translate(-b.x,-b.y);n.C5.translate(Math.round(b.x),Math.round(b.y));
n.C5.fillStyle=fL==0?n.BU:"#ffffff";if(j.zO)n.C5.fillRect(-5e3,-5e3,2e4,2e4);else{var D=j.add.arts;if(fL==1)for(var v=0;
v<D.length;v++){var c=K.c.Tv(D[v].wS);this.bw(K.c.yc(c),l,n.C5);if(q)n.C5.stroke();else n.C5.fill()}else{this.bw(K.c.yc(R),l,n.C5);
n.C5.fill()}}n.C5.restore()}else{n.C5.fillStyle=jL.pF(jL.TA(j));n.C5.fillRect(0,0,B,m);n.C5.save();n.C5.setTransform(l.NX,l.b,l.RK,l.zP,l.Qr,l.dE);
var _=j.root.children;for(var v=0;v<_.length;v++){var p=_[v].W;if(p.add.artb==null||!p.VH())continue;
var X=p.v_(),g=p.$_();if(g!=0)continue;n.C5.fillStyle=n.BU;n.C5.save();n.C5.scale(1/Q.yr,1/Q.yr);n.C5.fillRect(Q.yr*X.x,Q.yr*X.y,X.q*Q.yr,X._*Q.yr);
n.C5.restore()}n.C5.restore()}if(Q.k4.length!=a.$()){Q.k4=K.U(a.$());Q.uJ=K.U(a.$()*4)}Q.uJ.fill(0);
if(fL==1){var l=Q.Q2(!0);l.m2();n.C5.save();var F=K.c.yc(Q.C5);K.c.C(F.g,Q.Q2(!0),F.g);var c=K.c.so(F.g);
n.C5.setTransform(l.NX,l.b,l.RK,l.zP,l.Qr,l.dE);j.root.XO(j,n.C5,this.H,c);n.C5.restore()}else{K.scale.az7(j.buffer,R,U,Q.uJ,a,j.zO);
var k=j.Tc();if(k)ICC.U.applyLUT(k[j.add.fcmy==1?5:3],k[2],Q.uJ,Q.uJ);if(Q.Y[0]+Q.Y[1]+Q.Y[2]!=3)K.wz.an0(Q.uJ,Q.uJ,K.wz.anI(Q.Y));
n.asY.putImageData(new ImageData(new Uint8ClampedArray(Q.uJ.buffer),a.q,a._),0,0);n.C5.drawImage(n.amv,0,0);
n.C5.getImageData(0,0,1,1)}this.aGb(j)};jL.prototype.aGb=function(j){var n=j.e,Q=n.Y[0]+n.Y[1]+n.Y[2],a=jL.cE,B=!1,m=[];
for(var v=0;v<j.X.length;v++){var R=j.T[j.X[v]];if(R==null)continue;var q=R.s0;if(q!=1&&q!=3)continue;
var U=q==1?R.sJ():R.vG(j).N;if(U.fa)m.push(U)}for(var v=0;v<j.Kj.length;v++)if(j.Kj[v].fa)m.push(j.Kj[v]);
for(var v=0;v<m.length;v++){var U=m[v];this.alh(U,n,m.length==1&&Q==0?2:1,U.color,U.Cx);B=!0}var l=this.H;
B=this.aBx(j,a.C5,n,m.length!=0)||B;if(j.K&&l.rl&&l.c8.hm){this.alh(j.K,n,0,0,null);B=!0}return B};jL.prototype.alh=function(j,n,Q,a,B){var m=0;
if(B)m=Math.round(B.b)<<16|Math.round(B.i)<<8|Math.round(B.n);var R=n.Q2(!0),q=n.C5,U=new b4(0,0,n.uM.q,n.uM._),l=jL.cE;
if(n.uJ==null||n.uJ.length!=q.$()*4){n.k4=K.U(q.$());n.uJ=K.U(q.$()*4)}n.k4.fill(a);n.uJ.fill(0);var b=j.G,D=j.s;
K.scale.C(b,D,R,n.k4,q);if(Q==0){var c=new Uint32Array([4278190080,4294967295]);jL.h$(new Uint8Array(c.buffer));
K.K.aj0(n.k4,n.uJ,q,c,V.lS()>1.9)}else{var _=Date.now();K.K.a7C(n.k4,n.uJ,q,Q,m);jL.h$(n.uJ)}var p=new ImageData(new Uint8ClampedArray(n.uJ.buffer),q.q,q._);
l.asY.putImageData(p,0,0);l.C5.save();if(Q!=0){var X=new b4(0,0,U.q,U._),g=R.O();g.m2();this.bw(K.c.yc(X),g,l.C5);
l.C5.clip()}l.C5.drawImage(l.amv,0,0);l.C5.restore()};jL.prototype.aBx=function(j,n,Q,a){var B=j.M.DF!=null||j.M.RJ!=null||j.M.kS!=null||j.M.kp!=null||j.M.Nk!=null||j.M.cs!=null||j.M.uR.length!=0||j.M.lf.length!=0,m=this.H,R=m.c8,q=cj.nn[m.HS],U=Math.round(12*V.lS()),l=U/j.e.yr,b=Q.Q2(!0);
b.m2();n.save();n.setTransform(b.NX,b.b,b.RK,b.zP,b.Qr,b.dE);var D=jL.TA(j)[0];D=D<.5?D+.5:D-.5;D=""+Math.round(D*255).toString(16);
while(D.length<2)D="0"+D;n.font=l+"px sans-serif";if(j.add.artd){n.fillStyle="#"+D+D+D;for(var v=0;v<j.T.length;
v++){var c=j.T[v];if(c.add.artb==null||!c.VH())continue;var _=c.v_();n.save();n.beginPath();n.rect(_.x,_.y-2*l,_.q,2*l);
n.clip();n.fillText(c.getName(),_.x+2,_.y-l*.7);n.beginPath();n.restore();B=!0}}if(j.add.arts&&m.Ce==N.$q){var p=j.add.arts;
for(var v=0;v<p.length;v++){var _=p[v],X=K.c.Tv(_.wS),g=(v+1+"").padStart(2,"0");g+=" - "+_.DA;n.save();
n.beginPath();n.fillStyle=_.X?"#cce6ff":"#dddddd";n.rect(X.x,X.y,n.measureText(g).width+l,l*1.5);n.fill();
n.fillStyle="black";n.fillText(g,X.x+l/2,X.y+l*1.1);n.restore()}B=!0}function F(fT){return fT==1||fT==2||fT==4||fT==5}var k=jL.pF([.3,.5,1,1]),I=jL.pF([1,1,1,1]);
if(m.rl&&R.AZ){n.fillStyle=n.strokeStyle=k;n.lineWidth=1.5/Q.yr;var e=j.H9(),H=e[0],A=e[1];for(var Z=0;
Z<A.length;Z++){var c=H[A[Z]],J=c.add.vmsk,s=J.z,E=K.c.gb(s);this.bw(E,null,n);n.stroke();B=!0;var z=3*V.lS()/Q.yr;
for(var v=0;v<J.aX.length;v++){var h=K.R.avW(s,J.aX[v]);if(h==null)continue;var d=h.x,Y=h.y;n.beginPath();
var C=v==0;if(J.pG)C=!C;if(C){n.moveTo(d-z,Y-z);n.lineTo(d+z,Y+z);n.moveTo(d-z,Y+z);n.lineTo(d+z,Y-z);
n.stroke()}else{n.arc(d,Y,z*1,0,2*Math.PI);n.fill()}B=!0}if(j.X.length!=1)continue;var i=-1,M=-1,W=-1;
for(var v=0;v<s.length;v++){if(s[v].w>5)continue;if(s[v].w==0||s[v].w==3){M=v+1;W=s[v].length;if(s[v].H_!=-1)i++;
continue}if(J.X.indexOf(i)!=-1){var d=s[v].V.x,Y=s[v].V.y;n.fillRect(d-z*.8,Y-z*.8,2*z*.8,2*z*.8)}if(J.eF.indexOf(v)!=-1){var $=s[v],P=[$.V];
n.beginPath();n.moveTo($.vK.x,$.vK.y);n.lineTo($.V.x,$.V.y);n.lineTo($.XH.x,$.XH.y);var O=M+(v+W-M-1)%W,G=M+(v+W-M+1)%W,t=s[O],y=s[G];
if(t&&F(t.w)&&J.eF.indexOf(O)==-1){n.moveTo(t.V.x,t.V.y);n.lineTo(t.XH.x,t.XH.y);P.push(t.XH)}if(y&&F(y.w)&&J.eF.indexOf(G)==-1){n.moveTo(y.V.x,y.V.y);
n.lineTo(y.vK.x,y.vK.y);P.push(y.vK)}n.stroke();if(!$.V.N_($.vK))P.push($.vK);if(!$.V.N_($.XH))P.push($.XH);
for(var r=0;r<P.length;r++){var h=P[r],d=h.x,Y=h.y;if(r==0&&($.w==2||$.w==5))n.fillRect(d-1.2*z,Y-1.2*z,2.4*z,2.4*z);
else{n.beginPath();n.arc(d,Y,z*1.2,0,2*Math.PI);n.fill();if(r!=0)n.fillStyle=I;n.beginPath();n.arc(d,Y,z*.8,0,2*Math.PI);
n.fill();n.fillStyle=k}}}B=!0}}}n.lineWidth=1/Q.yr;if(j.M.oQ){n.fillStyle=n.strokeStyle=k;var y={g:[],rZ:[]},u=jL.a24;
if(u==null){u=jL.a24={g:[1,0],rZ:["M"]};for(var v=1;v<30;v++){var S=Math.PI*2*v/30;u.g.push(Math.cos(S),Math.sin(S));
u.rZ.push("L")}u.rZ.push("Z","M","L","M","L");u.g.push(-.5,0,.5,0,0,-.5,0,.5)}for(var v=0;v<j.M.oQ.length;
v++){var t=N.j0.azk(j.M.oQ[v],Q),w=new j8(t[0],0,0,t[0],t[1],t[2]);K.c.concat(y,u,w)}this.bw(y,null,n);
n.stroke();B=!0}var dj=new j8(1,0,0,1,.5/Q.yr,.5/Q.yr);if(j.zO){n.fillStyle=n.strokeStyle=k;var y={g:[0,0,j.q,0,j.q,j._,0,j._],rZ:["M","L","L","L","Z"]};
this.bw(y,dj,n);n.stroke();B=!0}if(j.M.du){n.fillStyle=n.strokeStyle=jL.pF([0,0,0,.5]);this.bw(j.M.du,null,n,!0);
n.fill("evenodd")}n.strokeStyle=k;n.fillStyle=I;if(j.M.kS){this.bw(j.M.kS,dj,n);n.stroke()}if(j.M.Nk){this.bw(j.M.Nk,dj,n);
n.lineWidth=V.lS()*3.5/Q.yr;n.stroke()}var o=jL.Wa(j.M.f$,n,Q);n.fill();n.stroke();B=B||o;n.fillStyle=n.strokeStyle=jL.pF([0,0,0,gz.oB&&fL==0?1:.5],!0);
if(j.M.DF){this.bw(j.M.DF,null,n);n.fill()}if(j.M.RJ){this.bw(j.M.RJ,dj,n);n.stroke()}for(var T in j.M.t$)if(j.M.t$[T].RJ){this.bw(j.M.t$[T].RJ,null,n);
n.stroke();B=!0}var o=jL.Wa(j.M.oi,n,Q);n.stroke();B=B||o;if(j.M.kp){this.bw(j.M.kp,dj,n);n.strokeStyle="rgba(0,0,0,0.5)";
n.lineWidth=V.lS()*2.5/Q.yr;n.stroke();n.strokeStyle="white";n.lineWidth=V.lS()*2/Q.yr;n.stroke()}if(j.M.Ne.length+j.M.la.length+j.M.Ad.length!=0){B=!0;
n.fillStyle=I;jL.yB(j.M.Ne,n,Q,6);n.fill();jL.yB(j.M.la,n,Q,6);n.fill();n.fillStyle=k;jL.yB(j.M.Ne,n,Q,4);
n.fill();jL.yB(j.M.Ad,n,Q,4);n.fill();n.fillStyle=jL.pF([.7,.7,.7,1]);jL.yB(j.M.la,n,Q,4);n.fill()}if(j.M.uR.length!=0){for(var v=0;
v<j.M.uR.length;v++){var i6=j.M.uR[v],bH=i6[1],cg;if(a){cg=n.getImageData(bH.x,bH.y,bH.q,bH._);K.L.sg("norm",i6[0],bH,new Uint8Array(cg.data.buffer),bH,bH,1)}else cg=new ImageData(new Uint8ClampedArray(i6[0].buffer),bH.q,bH._);
n.putImageData(cg,bH.x,bH.y)}}var bu=.5/Q.yr;n.lineWidth=1/Q.yr;if(j.M.lP){B=!0;var hH=j.M.lP,dK=hH.WW,E={rZ:[],g:[]};
for(var v=0;v<hH.KS.length;v++)K.c.concat(E,K.c.yc(hH.KS[v]));E.g=E.g.concat(dK);for(var v=0;v<dK.length;
v+=4){E.rZ.push("M","L")}for(var v=0;v<E.g.length;v++){E.g[v]+=bu}n.strokeStyle=jL.pF([.9,.2,.2,1]);
this.bw(E,null,n);n.stroke();var d8=V.lS(),d1=2/Q.yr;n.font=l*.9+"px sans-serif";for(var v=0;v<dK.length;
v+=4){var d=dK[v],Y=dK[v+1],gH=dK[v+2],kh=dK[v+3],ay=Math.sqrt((kh-Y)*(kh-Y)+(gH-d)*(gH-d));ay=K.Ai.HZ(ay,j.Mp,m,Y==kh?j.q:j._);
var dO=new eE((d+gH)/2,(Y+kh)/2);n.fillStyle=jL.pF([.9,.2,.2,1]);var fy=n.measureText(ay).width;n.fillRect(dO.x-fy/2-d1*d8,dO.y-3.5*d1*d8,fy+2*d1*d8,7*d1*d8);
n.fillStyle=jL.pF([1,1,1,1]);n.save();n.translate(dO.x-fy/2,dO.y+2*d1*d8);n.scale(.1,.1);n.font=l*9+"px sans-serif";
n.fillText(ay,0,0);n.restore()}}if(m.rl){if(R.F_&&j.e.yr>10&&fL==0){this.WU(j,n,1,1,.25,R.T0,16777215);
B=!0}if(R.ip){var bg=K.Ai.hb(R.pq,j.Mp,j.q,R.EV),f4=bg;if(R.EV==4)f4*=j._/j.q;this.WU(j,n,bg,f4,1,R.T0,R.OE);
B=!0}if(R.qO){var jb=j.qE(),jT=j.M5(),jy=Math.max(j.e.C5.q,j.e.C5._)/j.e.yr;jy=Math.max(Math.max(j.q,j._)*2,jy);
for(var v=0;v<jb[0].length;v++){var cl=jb[0][v],hu=jb[1][v];if(hu!=-1&&hu!=jT)continue;var aA=Q.Vh(cl[1],cl[1]),ko=Q.oR(Math.floor(aA.x)+.5,Math.floor(aA.y)+.5),ec=K.Hy(hu==-1?R.ag:R.cA);
ec=[ec.n/255,ec.i/255,ec.b/255,1];n.beginPath();n.strokeStyle=jL.pF(ec);if(cl[0]==0){var kK=ko.x;n.moveTo(kK,-jy);
n.lineTo(kK,jy)}else{var cM=ko.x;n.moveTo(-jy,cM);n.lineTo(jy,cM)}n.stroke();B=!0}}var gG=j.xS;if(gG.length>0&&m.Ce==N.aer){var bH=7/j.e.yr,c2=bH/3,a1=bH*4;
n.strokeStyle=n.fillStyle="black";for(var v=0;v<gG.length;v++){var cs=gG[v];n.fillRect(cs.x-.5*c2,cs.y-.5*a1,c2,a1);
n.fillRect(cs.x-.5*a1,cs.y-.5*c2,a1,c2);n.lineWidth=2.5/j.e.yr;n.beginPath();n.arc(cs.x,cs.y,bH,0,2*Math.PI);
n.stroke();n.font=1.9*bH+"px serif";n.lineWidth=1.25/j.e.yr;n.strokeText(""+(v+1),cs.x+.75*bH,cs.y+2.5*bH)}B=!0}var f7=j.XZ;
if(R.XZ&&f7.length!=0){n.font=l*.8+"px sans-serif";var j7=[],dz=[];for(var v=0;v<f7.length;v++){var iA=N.Ie.$O(f7,v);
j7.push(iA);if(j.RL.indexOf(v)!=-1)dz.push(iA)}j7.reverse();var kk=Date.now();j7=K.s.a7a([0,0,j.q,j._],j7);
for(var r=0;r<2;r++)for(var v=0;v<j7.length;v++){var fA=j7[v],i=fA[4],W=i!=null?f7[i]:null;if(W&&r==0||W==null&&r==1)continue;
var d=Math.round(fA[0]),Y=Math.round(fA[1]),gH=Math.round(fA[2]),kh=Math.round(fA[3]);n.strokeStyle=n.fillStyle=jL.pF(W?[0,.7,.7,1]:[.8,.8,.8,1]);
n.strokeRect(d+bu,Y+bu,gH-d,kh-Y);var g5=v+1,h$=n.measureText(g5),fy=h$.width;n.fillRect(d,Y,fy+l/2,l);
n.fillStyle=jL.pF([1,1,1,1]);n.fillText(g5,d+l/4,Y+l*.8)}var d1=2/j.e.yr,hL=2*d1;for(var v=0;v<dz.length;
v++){var fA=dz[v],d=Math.round(fA[0]),Y=Math.round(fA[1]),gH=Math.round(fA[2]),kh=Math.round(fA[3]);
n.strokeStyle=n.fillStyle=jL.pF([1,.6,0,1]);n.strokeRect(d+bu,Y+bu,gH-d,kh-Y);var ha=[d,Y,gH,Y,gH,kh,d,kh];
for(var jl=0;jl<ha.length;jl+=2){var kK=ha[jl],cM=ha[jl+1],fI=ha[jl+2&7],aE=ha[jl+3&7];n.fillRect(kK-d1,cM-d1,hL,hL);
n.fillRect(Math.round((kK+fI)/2)-d1,Math.round((cM+aE)/2)-d1,hL,hL)}}B=!0}var es=j.add.Anno;if(es&&es.length!=0)for(var v=0;
v<es.length;v++){var kN=es[v],ec=kN[2],kK=kN[0]-bu,cM=kN[1]-bu,hL=30/Q.SJ,fV=.4*hL,jU=.6*hL;n.beginPath();
n.moveTo(kK,cM+jU);n.lineTo(kK,cM);n.lineTo(kK+hL,cM);n.lineTo(kK+hL,cM+hL);n.lineTo(kK+fV,cM+hL);n.closePath();
n.lineTo(kK+fV,cM+jU);n.lineTo(kK+fV,cM+hL);if(v==j.e.C7){n.lineWidth*=5;n.strokeStyle=jL.pF([0,0,0,.5]);
n.stroke();n.lineWidth/=5}n.fillStyle=jL.pF([ec.n/255,ec.i/255,ec.b/255,1]);n.fill();n.strokeStyle=jL.pF([0,0,0,1]);
n.stroke()}}n.strokeStyle=jL.pF([1,0,0,1]);if(j.M.cs){this.bw(j.M.cs,dj,n);n.stroke()}n.restore();if(m.LB){if(j.e.vV==null||j.e.vV.width!=j.e.C5.q||j.e.L$.height!=j.e.C5._){j.e.vV=new ImageData(j.e.C5.q,K.Ai.ni);
j.e.L$=new ImageData(K.Ai.ni,j.e.C5._)}var q=cj.nn[m.HS],c$=0,iq=0,cz=j.q,h0=j._;if(j.M5()!=-1){var _=j.T[j.M5()].v_();
c$=_.x;iq=_.y;cz=_.q;h0=_._}c$*=Q.yr;iq*=Q.yr;var Q=j.e,fl=[1,j.Mp,j.Mp/2.54,j.Mp/25.4,cz/100][R.bp],co=Q.yr*j.q/2,cC=Q.yr*j._/2,gr=[Q.yr*fl,new eE(Q.k.x+(c$+co*fl-co),Q.k.y+(iq+cC*fl-cC))];
if(R.bp==4)fl*=h0/cz;var eK=[Q.yr*fl,new eE(Q.k.x+(c$+co*fl-co),Q.k.y+(iq+cC*fl-cC))],kM=this.bB.cS;
K.Ai.aub(Q,q["--text-color"],q["--bg-input"],Math.floor(kM.x),Math.floor(kM.y),gr,eK,R.bp==1?8:10);var bn=cx.avO(Q.yr,jL.pF([1,1,1,1]),j.q,j._);
jL.h$(j.e.L$.data);jL.h$(j.e.vV.data);n.putImageData(j.e.L$,0,0);n.putImageData(j.e.vV,0,0);n.putImageData(bn,0,j.e.C5._-bn.height)}if(j.M.lf.length!=0){for(var v=0;
v<j.M.lf.length;v++){var i6=j.M.lf[v],bH=i6[1];n.putImageData(new ImageData(new Uint8ClampedArray(i6[0].buffer),bH.q,bH._),bH.x,bH.y)}}return B};
jL.prototype.WU=function(j,n,Q,a,B,m,R){while(Q*j.e.yr<4){Q*=2;a*=2}var q=j.q,U=j._,l=.5/j.e.yr;R=K.Hy(R);
n.strokeStyle=jL.pF([R.n/255,R.i/255,R.b/255,B],!1);n.save();n.rect(0,0,q,U);n.clip();n.beginPath();
for(var b=0;b<=q;b+=Q){n.moveTo(b+l,0);n.lineTo(b+l,U)}if(m==0){for(var D=0;D<=U;D+=a){n.moveTo(0,D+l);
n.lineTo(q,D+l)}}else{a*=Math.sqrt(4/3);var c=a*Math.floor(q/a),_=q*(a/(2*Q));for(var D=-c;D<=U+c;D+=a){n.moveTo(0,D);
n.lineTo(q,D-_);n.moveTo(0,D);n.lineTo(q,D+_)}}n.stroke();n.restore()};jL.yB=function(j,n,Q,a){n.beginPath();
var B=a*V.lS()/Q.yr,m=!1;for(var v=0;v<j.length;v+=2){m=!0;var R=j[v],q=j[v+1];n.moveTo(R+B,q);n.arc(R,q,B,0,2*Math.PI)}return m};
jL.Wa=function(j,n,Q,a){n.beginPath();var B=(a?a:1)*(4*V.lS()+.5)/Q.yr,m=!1;for(var v=0;v<j.length;v+=2){m=!0;
var R=j[v],q=j[v+1];n.rect(R-B,q-B,2*B,2*B)}return m};jL.a2=function(j,n,Q,a){Q.beginPath();if(a)Q.rect(-1e5,-1e5,1e6,1e6);
var B=j;if(n){B=K.c.O(j);K.c.C(B.g,n,B.g)}Typr.U.pathToContext({cmds:B.rZ,crds:B.g},Q)};jL.prototype.bw=jL.a2;
jL.yE=function(j,n,Q){gz.Ho.call(this);var a=this.aIi=n!=0,B=Q?"true":"in01(sCoord)",m="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(j?"uniform sampler2D lut;  uniform float N;  "+gz.Fc.aeJ:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(a?"uniform vec4 bgClr;  uniform vec4 ars["+n+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+gz.Fc.aj$+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = texture2D(image, sCoord"+(Q?"-floor(sCoord)":"")+"); \t\t\t\t"+(j?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(a?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+n+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+B+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+B+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",R="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Ei(m,R)};jL.yE.prototype=new gz.Ho;jL.yE.prototype.k8=function(j,n,Q,a,B,m,R,q,U,l,b,D,c,_){this.a3("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var p=gz.Pf,X=this.Cg;p.uniformMatrix3fv(X.tmat,!1,Q);p.uniform4fv(X.gsize,a);p.uniform3f(X.contSizeZoom,B,m,R);
p.uniform2f(X.cnvSize,q,U);p.uniformMatrix4fv(X.ctrn,!1,D);if(this.aIi){p.uniform4fv(X.ars,b);p.uniform4fv(X.bgClr,l)}p.uniform1i(X.over,0);
p.uniform1i(X.image,1);p.activeTexture(p.TEXTURE0);p.bindTexture(p.TEXTURE_2D,j);p.activeTexture(p.TEXTURE1);
p.bindTexture(p.TEXTURE_2D,n);if(c){p.uniform1f(X.N,_);p.uniform1i(X.lut,2);p.activeTexture(p.TEXTURE2);
p.bindTexture(p.TEXTURE_2D,c.K8);var g=p.LINEAR;p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,g);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,g)}p.activeTexture(p.TEXTURE0)};function e_(){eX.call(this,[9,7],!1,"---panels/layercomps",eX.D9.aql);
V.v(this.I_,"min-width:240px;");this.uM=null;this.VW=-1;this.Ts=[];this.KF=V.d("div","scrollable");this.KF.style.height="160px";
this.I_.appendChild(this.KF);this.s5=V.d("div","lpfoot");this.I_.appendChild(this.s5);this.K3=[];var j=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],n=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var v=0;v<j.length;v++){var Q=j[v];if(v>0)Q="<img src=\""+PIMG[j[v]]+"\" class=\"miniscale gsicon\" />";
var a=new ef(Q,!1,n[v]);a.P("click",this.aov,this);this.s5.appendChild(a.Z);this.K3.push(a)}}e_.prototype=new eX("");
e_.prototype.rs=function(j,n){V.v(this.I_,"width:"+(j-2)+"px;");this.KF.style.height=n-28+"px"};e_.prototype.oj=function(j){var n=new ar(x.E.A,!0);
n.data=j;n.I=N.NC;this.a(n)};e_.a6j="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
e_.prototype.aov=function(j){var v=this.K3.indexOf(j.currentTarget)-1;if(v==-1){var n=new ar(x.E.B,!0);
n.data={Q:x.l.X4,Lo:e_.a6j};this.a(n);return}if(v!=1)if(this.VW==-1)return;this.oj({Q:["updLC","addLC","delLC"][v],cb:this.VW});
if(v==2)this.VW=-1};e_.prototype.S=function(){eX.prototype.S.call(this);for(var v=0;v<this.K3.length;
v++)this.K3[v].S()};e_.prototype.pX=function(j){if(j==null)V.BZ(this.I_,"disabled");else V.yZ(this.I_,"disabled");
this.uM=j;V.cV(this.KF);if(j==null)return;var n=j.gh.lastAppliedComp?j.gh.lastAppliedComp.v:0,Q=j.gh.list.v.slice(0);
Q.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var v=0;v<Q.length;
v++){var a=Q[v].v,B=new eB(a.Nm.v,a.compID.v,a.capturedInfo.v,n,this.VW);B.P("activate",this._v,this);
B.parent=this;this.KF.appendChild(B.Z);this.Ts.push(B)}};e_.prototype._v=function(j){this.VW=j.currentTarget.cb;
this.pX(this.uM)};function eB(j,v,n,Q,a){eD.call(this);this.cb=v;this.Z=V.d("div","head listitem"+(v==a?" selected":""));
var B=v==Q,m=new ef(B?"\u2713":"\u2014");if(B)m.eu();this.Z.appendChild(m.Z);m.P("click",this.bf,this);
var R=this.Ft=V.d("span");R.textContent=j;this.Z.appendChild(R);this.K3=[];if(v!=0){this.Z.addEventListener("mouseup",this._v.bind(this),!1);
this.Jo=V.d("span","headR");this.Z.appendChild(this.Jo);var q=["lrs/eye","pos","lrs/fx"],U=["Visibility","Position","Appearance"];
for(var l=0;l<q.length;l++){var b=new ef("<img src=\""+PIMG[q[l]]+"\" class=\"autoscale gsicon\" />",!1,U[l]);
if((n>>l&1)==0)V.v(b.Z,"opacity:0.3");b.P("click",this.aaq,this);this.Jo.appendChild(b.Z);this.K3.push(b)}}}eB.prototype=new eD;
eB.prototype._v=function(j){if(j.target!=this.Ft&&j.target!=this.Z)return;if(j.detail==1)this.a(new ar("activate",!1));
else{var n=new eX.Wm(this.Ft,this.ds.bind(this))}};eB.prototype.aaq=function(j){var v=this.K3.indexOf(j.currentTarget);
this.oj({Q:"editLC",aj_:v,cb:this.cb})};eB.prototype.ds=function(j){this.oj({Q:"editLC",tw:j,cb:this.cb})};
eB.prototype.bf=function(j){this.oj({Q:"setLC",cb:this.cb})};eB.prototype.oj=function(j){var n=new ar(x.E.A,!0);
n.data=j;n.I=N.NC;this.a(n)};function g0(){eX.call(this,[9,11],!1,"---panels/navigator",eX.D9.apL);var j=this.I_;
V.BZ(j,"padded");V.v(j,"cursor:grab;");this.q$=V.d("canvas");j.appendChild(this.q$);V.pd(j);V.as(this.q$);
V.ON(this.q$,this.n_.bind(this));this.rJ=new jc(null,2,6400,"%",null,!0);this.rJ.P(x.E.f,this.aGG,this);
j.appendChild(this.rJ.Z);this.atb=this.$H.bind(this);this.aFT=this.uH.bind(this);this.e8=null;this.XU=null;
this.sM=!1}g0.prototype=new eX("");g0.prototype.rs=function(j,n){this.Uw=j*1.2;this.WC=n*1.2;this.HD()};
g0.prototype.aGG=function(j){var n=this.rJ.j(),Q=this.e8,a=n/100;if(.8<a&&a<1.2)a=1;else if(1.8<a)a=Math.round(a);
var B=new ar(x.E.A,!0);B.I=N.yx;B.data={Q:"zoom",yr:a};this.a(B)};g0.prototype.n_=function(j){var n=this.e8;
if(n==null)return;this.sM=!0;V.NF(window,this.atb);V.GL(window,this.aFT)};g0.prototype.$H=function(j){var n=V.MR(j,this.q$),Q=this.e8,a=this.q$.width,B=this.q$.height,m=(n.x*V.lS()-a/2)/a,R=(n.y*V.lS()-B/2)/B,q=V.lS()*Q.e.yr,U=Math.round(-Q.e.yr*Q.q*m),l=Math.round(-Q.e.yr*Q._*R);
N.TC.a0(Q,U,l)};g0.prototype.uH=function(j){V.na(window,this.atb);V.rq(window,this.aFT);this.sM=!1};
g0.prototype.pX=function(j){if(j==null&&this.e8!=null)this.q$.width=100;this.e8=j;this.HD()};g0.prototype.a2_=function(){var j=this.e8,n=V.lS(),Q=N.EZ.jJ(j.q,j._,n*(this.Uw-10),n*(this.WC-36)),a=K.sl(j.rd(),new b4(0,0,j.q,j._),Q);
this.XU=[a.jB,a.s]};g0.prototype.HD=function(){var j=this.e8;if(j==null||j.e.yr==0)return;var n=j.e;
if(!V.gU(this.I_))return;this.rJ.p(n.yr*100);if(!this.sM)this.a2_();var Q=this.XU[0],a=this.XU[1],B=a.q,m=a._,R=this.q$;
R.width=B;R.height=m;V.GV(R,B,m);var q=this.I_;q.style.width=this.q$.style.width+12+"px";var U=R.getContext("2d"),l=new ImageData(B,m);
K.D1(Q,l.data);U.putImageData(l,0,0);U.getImageData(0,0,1,1);var b=n.C5,D=n.oR(b.x,b.y),c=n.oR(b.x+b.q,b.y+b._),_=B/j.q;
U.scale(_,_);U.lineWidth=4/_;U.strokeStyle="#ff0000";U.strokeRect(D.x,D.y,c.x-D.x,c.y-D.y)};g0.prototype.sW=function(j,n){};
g0.prototype.a1=function(){this.HD()};function jD(j,n){eX.call(this,j.name,!1,j.icon,n);this.af3=j}jD.prototype=new eX("");
jD.prototype.eO=function(){var j=this.I_,n=this.af3;if(!V.gU(j)||this.l3)return;var Q=this.l3=V.d("iframe");
Q.setAttribute("src",n.url);this.I_.appendChild(Q)};jD.prototype.a1=jD.prototype.pX=function(){this.eO()};
jD.prototype.xB=function(j){if(V.gU(this.l3))this.l3.contentWindow.postMessage(j,"*")};jD.prototype.rs=function(j,n){if(this.l3==null)return;
V.v(this.l3,"width:"+j+"px; height:"+n+"px")};function dH(){eX.call(this,[9,12],!1,"---panels/tpreset",eX.D9.jq);
this.H=null;this.Dz=new gc(N.o9);this.Dz.parent=this;var j=V.d("div","padded");V.v(j,"width:20em");this.I_.appendChild(j);
j.appendChild(this.Dz.mB)}dH.prototype=new eX("");dH.prototype.a1=function(){this.Dz.gn(this.H.mO)};
dH.prototype.sW=function(j,n){this.H=j;if(n==b3.Od||n==b3.jq)this.Dz.gn(j.mO)};dH.prototype.rs=function(j,n){this.Dz.anr(this.H.Ce)};
dH.prototype.S=function(){eX.prototype.S.call(this);this.Dz.S()};var e7=function(){var j=[],n=null,Q=null,a=null,B=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function m(){eX.call(this,"Memory",!1,null,eX.D9.aeO);var _=V.d("div","padded");this.I_.appendChild(_);
Q=new ef(["<< VAR0",[0,13,2]],!1,null,!0);Q.addEventListener("click",function(p){j.pop();q()});_.appendChild(Q.Z);
n=V.d("div","scrollable");V.v(n,"width:20em;  height:26em; margin-top:8px;");_.appendChild(n)}m.prototype=new eX("");
m.prototype.pX=function(_,p,X){a=p;this.a1()};m.prototype.a1=function(){Q.Q7(!1);if(!V.gU(n))return;
var _={DA:"Total:",e1:[]};for(var v=0;v<a.length;v++)_.e1.push(l(a[v]));D(_);j=[_];q()};m.prototype.S=function(){eX.prototype.S.call(this);
Q.S()};function R(_){var p=_.currentTarget,v=0;while((p=p.previousSibling)!=null)v++;j.push(j[j.length-1].e1[v-1]);
q()}function q(){Q.Q7(j.length>1);var _=j[j.length-1];V.cV(n);U(_,n,0);_.e1.sort(function(p,X){return X.aq[0]-p.aq[0]});
for(var v=0;v<_.e1.length;v++)U(_.e1[v],n,1)}function U(_,p,X){var g=je.LK,F=X!=0&&_.e1,k="margin-left:"+X*10+"px; margin-bottom:8px; padding:3px 5px;";
if(F)k+="cursor:pointer;";if(_.m_!=null)k+="background-color:rgba("+B[_.m_].join(",")+",0.2);";var I=V.d("div");
p.appendChild(I);V.v(I,k);I.innerHTML=V.dh(_.DA)+"<br />"+"RAM: <b>"+g(_.aq[0])+"</b>\u2001GPU: <b>"+g(_.aq[1])+"</b>";
if(F)I.addEventListener("click",R,!1)}function l(_){var p={DA:_.name,e1:[],m_:0},X=gz.oB?1:0,g=1-X,F=_.depth>>>3,k={DA:"History",e1:[],m_:5};
p.e1.push(k);for(var v=1;v<_.history.length;v++){var I=_.history[v];k.e1.push({DA:i4.get(I.name),m_:5,aq:[I.S1(),0]})}D(k);
var k={DA:"Final Image"+c(_,4,F),aq:[_.q*_._*4*F,X*_.q*_._*4*F],m_:2};p.e1.push(k);for(var v=0;v<_.T.length;
v++){var e=b(_.T[v],F);if(e.e1.length!=0)p.e1.push(e)}var H=_.add.lnk2;if(H)for(var v=0;v<H.length;v++){var e=H[v],A={DA:e.yR,e1:[],m_:4},Z=0;
A.e1.push({DA:"Raw file",aq:[e.raw.length,0]});if(e.LQ)for(var J=0;J<e.LQ.length;J+=2)Z+=e.LQ[J].length;
if(Z!=0)A.e1.push({DA:"Decoded pixels",aq:[Z*F,0]});D(A);p.e1.push(A)}D(p);return p}function b(_,p){var X={DA:_.getName(),e1:[],m_:1},g=gz.oB?1:0,F=1-g,k=_.s.$();
if(k!=0)X.e1.push({DA:"Layer pixels"+c(_.s,4,p),aq:[k*4*p,g*k*4*p]});if(_.add.lmfx&&_.xw.eE.w){var I=_.xw.eE.w,Z=0;
for(var e in I){var H=0;for(var A=0;A<I[e].length;A++)if(e=="ebbl"){if(I[e][A].py)H+=I[e][A].py.qc.$();
if(I[e][A].uG)H+=I[e][A].uG.qc.$();if(I[e][A].ux)H+=I[e][A].ux.qc.$();if(I[e][A].g8)H+=I[e][A].g8.qc.$()}else H+=I[e][A].qc.$();
if(H!=0)X.e1.push({DA:i4.get(g8.names[g8.order.indexOf(e)]),aq:[F*H*4*p,g*H*4*p],m_:3})}if(_.xw.ZQ)Z+=k;
if(_.xw.lU)Z+=k;if(_.xw.qN)Z+=k;if(_.xw.qN)Z+=k;if(_.xw.OY)Z+=k;if(_.xw.yN)Z+=k;var J=_.xw.TG?_.xw.TG.length:0;
if(Z+J!=0)X.e1.push({DA:"Additional Blending Data",aq:[(F*Z*4+J)*p,g*Z*4*p]})}var s=_.sJ(),E=s?s.s.$():0;
if(E!=0){X.e1.push({DA:"Raster Mask",aq:[E*p,0]})}var s=_.add.vmsk,E=s&&s.Bc?s.Bc.s.$():0;if(E!=0){X.e1.push({DA:"Vector Mask",aq:[E*p,0]})}D(X);
return X}function D(_){_.aq=[0,0];for(var v=0;v<_.e1.length;v++){_.aq[0]+=_.e1[v].aq[0];_.aq[1]+=_.e1[v].aq[1]}}function c(_,p,X){return"\u2001"+_.q+"\xD7"+_._}return m}();
function aj(){eX.call(this,[9,14],!1,"---panels/notes",eX.D9.aen);V.v(this.I_,"min-width:240px;");var j=V.d("div","padded");
this.I_.appendChild(j);this.W9=new cE("Author");j.appendChild(this.W9.Z);this.H6=V.d("textarea");V.Sp(this.H6);
j.appendChild(this.H6);var n=new ef("<<",null,null,!0);j.appendChild(n.Z);this.a7U=n;var Q=new ef(">>",null,null,!0);
j.appendChild(Q.Z);n.P("click",this.vE,this);Q.P("click",this.vE,this);var a=this.a0r=new kC("");j.appendChild(a.Z)}aj.prototype=new eX("");
aj.prototype.vE=function(j){var n=j.target==this.a7U?-1:1,Q=this.e8,a=Q.add.Anno;if(a==null)return;var B=a.length,m=Q.e.C7;
Q.e.C7=(m+n+B)%B;Q.Xx=!0;this.HD()};aj.prototype.HD=function(){var j=this.e8;if(j==null)return;var n=j.add.Anno;
if(n==null||n.length==0)return;var Q=j.e.C7,a=n[Q];this.H6.value=a[4];this.a0r.p(Q+1+" / "+n.length);
this.W9.p(a[3])};aj.prototype.rs=function(j,n){if(this.Uw==j)return;this.Uw=j;n=Math.min(n,200);V.v(this.H6,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(j-10)+"px; height:"+(n-66)+"px")};
aj.prototype.pX=function(j,n,Q){this.e8=j;this.HD()};function ah(){eX.call(this,[1,16,1],!1,"---tools/artb",eX.D9.arX);
this.S5=[];this.MV=[];this.K3=[];this.ht=null;this.s5=null}ah.prototype=new eX("");ah.prototype.eO=function(){this.ht=V.d("div","padded scrollable");
V.v(this.ht,"width:260px;  height:260px");this.I_.appendChild(this.ht);this.s5=V.d("div","lpfoot");this.I_.appendChild(this.s5);
var j=["lrs/newlayer","lrs/bin"],n=[[15,8,2],[5,4]];for(var v=0;v<j.length;v++){var Q="<img src=\""+PIMG[j[v]]+"\" class=\"miniscale gsicon\" />",a=new ef(Q,!1,n[v]);
a.P("click",this.Ny,this);this.s5.appendChild(a.Z);this.K3.push(a)}};ah.prototype.S=function(){eX.prototype.S.call(this);
if(this.ht==null)return;for(var v=0;v<this.K3.length;v++)this.K3[v].S()};ah.prototype.Ny=function(j){var v=this.K3.indexOf(j.currentTarget),n=new ar(x.E.A,!0);
n.I=N.$q;n.data={Q:v==0?"new":"del"};this.a(n);if(v==0)this.axo(this.S5.length-1)};ah.prototype.pX=ah.prototype.a1=function(j){if(j)this.S5=j.add.arts;
if(!V.gU(this.I_))return;if(this.ht==null)this.eO();this.HD(j)};ah.prototype.oM=function(j){var v=this.MV.indexOf(j.currentTarget);
if(j.target.tagName=="BUTTON"){this.axo(v)}var n=this.S5;for(var Q=0;Q<n.length;Q++)n[Q].X=!1;n[v].X=!0;
this.HD()};ah.prototype.axo=function(v){var j=new ar(x.E.B,!0);j.data={Q:x.l.Vg,Z8:"aoptions",J:this.S5[v]};
this.a(j)};ah.prototype.HD=function(){V.cV(this.ht);var j=this.S5,n=this.oM.bind(this);this.MV=[];for(var v=0;
v<j.length;v++){var Q=j[v],a=V.d("div","layeritem"+(Q.X?" selected":""));this.ht.appendChild(a);this.MV.push(a);
a.addEventListener("click",n);var B=V.d("div","head");a.appendChild(B);V.v(B,"height:24px");var m=V.d("div","headL");
B.appendChild(m);var R=V.d("div","headR");B.appendChild(R);var q=V.d("div","label");q.textContent=v+1+". "+Q.DA;
m.appendChild(q);var U=new ef("Options",null,null,!0);R.appendChild(U.Z)}};function eh(){eD.call(this);
this.I=0;this.$e=null;this.Z=V.d("div","toolconf");this.Dz=null;this.a50=null;this.body=new V.d("div","body")}eh.prototype=new eD;
eh.prototype.aaQ=function(j,n){this.I=j;this.$e=n;if(N.vs[j]){var Q=this.Dz=new gc(j);this.Z.appendChild(Q.Z);
Q.parent=this}else{this.a50=V.d("div");this.Z.appendChild(this.a50)}this.Z.appendChild(this.body);this.S()};
eh.prototype.aCd=function(j,n){};eh.prototype.a8U=function(j){};eh.prototype.sW=function(j,n){if(n==b3.Od||n==b3.jq)if(this.Dz)this.Dz.gn(j.mO)};
eh.prototype.wb=function(j){};eh.prototype.S=function(){if(this.Dz)this.Dz.S();else this.a50.innerHTML=V.Mn(this.$e,null,"toolicon");
this.y_()};eh.prototype.y_=function(){};function gx(){eh.call(this);this.rG=new fK;this.rG.P(x.E.f,this.No,this);
this.body.appendChild(this.rG.Z)}gx.prototype=new eh;gx.prototype.y_=function(){this.rG.S()};gx.prototype.No=function(j){var n=new ar(x.E.B,!0);
n.data={Q:x.l.yo,I:this.I,_X:this.rG.aGZ()};this.a(n)};gx.prototype.wb=function(j){this.rG.anT(j.Ls)};
function a0(j){eh.call(this);if(j==null)return;this.H=null;this.LF={};if(j.indexOf("brush")!=-1&&j.indexOf("prsr")==-1)j.push("prsr");
for(var v=0;v<j.length;v++){var n=j[v],Q=null;if(n=="brush"){Q=new hG}if(n=="bmode"){Q=new hQ([12,19,0],af.Z1,af.vb)}if(n=="bmode0"){Q=new hQ([12,19,0],af.Z1.slice(23))}if(n=="emode"){Q=new hQ([12,36],[[9,3],[10,38]])}if(n=="opacity"){Q=new i7([12,0],0,100,"%");
Q.p(100)}if(n=="flow"){Q=new i7([12,63],0,100,"%");Q.p(100)}if(n=="smth"){Q=new i7([19,3,0],0,100,"%");
Q.p(0)}if(n=="samp"){Q=new hQ([12,36],[[12,25,4],[12,25,5],[12,46]])}if(n=="wconf"){Q=new kf;Q.p([40,!0,!0])}if(n=="sall"){Q=new k9([12,25,2])}if(n=="smode"){Q=new hQ([12,36],[[19,7,0],[19,7,1]]);
Q.p(1)}if(n=="pdetail"){Q=new k9([12,65]);Q.eu()}if(n=="rng"){Q=new hQ([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
Q.p(1)}if(n=="expo"){Q=new i7([12,5],0,100,"%");Q.p(50)}if(n=="algnd"){Q=new k9([12,75]);Q.p(!1)}if(n=="sfrom"){Q=new hQ([12,70],[[17,1],[17,3],[17,0]])}if(n=="alt"){Q=new is(null,["Alt"],!0,["Select Source"])}if(n=="qsmode"){Q=new aY([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(n=="redge"){Q=new ef([7,11],!1,null,!0)}if(n=="sesu"){Q=new ef("Select Subject",!1,null,!0)}if(n=="setop"){Q=new eb}if(n=="patch"){Q=new aY(null,[[12,70],[12,71]])}if(n=="strn"){Q=new i7([12,64],1,100,"%");
Q.p(50)}if(n=="prsr"){Q=this.LF.brush.rr}this.body.appendChild(Q.Z);if(n=="prsr")continue;Q.parent=this;
this.LF[n]=Q;if(n=="brush")Q.P(x.E.f,this.a1y,this);else if(n=="redge"||n=="sesu")Q.P("click",a$.aC1,this);
else Q.P(x.E.f,this.Rv,this)}}a0.prototype=new eh;a0.prototype.aCd=function(j,n){j=j[1];var Q=this.LF;
if(j.Md)Q.bmode.p(af.de.indexOf(j.Md.v.BlnM));if(j.Opct)Q.opacity.p(j.Opct.v);if(j.flow)Q.flow.p(j.flow.v);
if(j.Brsh)Q.brush.p(j,n.nE.wP,n.nE.jy);if(j.FrgC){var a=K.Gp.qF(j.FrgC.v),B=new ar(x.E.B,!0);B.data={Q:x.l.m6,_X:b3.Wz,BO:0,J:a.n<<16|a.i<<8|a.b};
this.a(B)}this.a1y();this.Rv()};a0.prototype.a8U=function(){if(N.vs[this.I]==null)return null;var j=this.LF,n;
for(var Q in N.JJ)if(N.JJ[Q]==this.I)n=Q;var a=K.u(j.brush.j());a.classID=n;if(j.bmode)a.Md={t:"enum",v:{BlnM:af.de[j.bmode.j()]}};
if(j.opacity)a.Opct={t:"long",v:j.opacity.j()};if(j.flow)a.flow={t:"long",v:j.flow.j()};var B=this.H.Z4;
B={n:B>>>16,i:B>>>8&255,b:B&255};a.FrgC={t:"Objc",v:K.Gp.Db(B)};return["Brush Preset "+a.Brsh.v.Dmtr.v.val,a]};
a0.prototype.y_=function(){for(var j in this.LF)this.LF[j].S()};a0.prototype.wb=function(j){if(j.a7R=="showBrushOpts"){this.LF.brush.a27(j.CK.x,j.CK.y)}for(var n in j.BL){var Q=j.BL[n];
if(n!="qsmode")Q*=100;if(this.LF[n])this.LF[n].p(Q)}};a0.prototype.sW=function(j,n){eh.prototype.sW.call(this,j,n);
this.H=j;var Q=this.LF.brush;if(Q==null)return;if(n==b3.Od||n==b3.o9)Q.gn(j.nE);if(n==b3.Zi){Q.p(j.nE.Q0,j.nE.wP,j.nE.jy)}};
a0.prototype.a1y=function(){var j=new ar(x.E.B,!0);j.data={Q:x.l.m6,_X:b3.Zi,QV:this.LF.brush.j()};this.a(j)};
a0.prototype.Rv=function(){var j=new ar(x.E.B,!0);j.data={Q:x.l.yo,I:this.I};for(var n in this.LF){if(n=="brush"||n=="redge")continue;
var Q=this.LF[n].j();if(["opacity","flow","smth","expo","strn"].indexOf(n)!=-1)j.data[n]=Q/100;else if(n=="bmode")j.data.bmode=af.Yh[Q];
else if(n=="bmode0")j.data.bmode=af.Yh[23+Q];else j.data[n]=Q}this.a(j)};function a$(j,n){eh.call(this);
if(j)return;this.LF={};for(var v=0;v<n.length;v++){var Q=n[v],a=null;if(Q=="sesu"&&!V.qZ(1))continue;
if(Q=="binop")a=new eb;if(Q=="feat"){a=new i7([7,6],0,100,"px");a.p(0)}if(Q=="redge")a=new ef([7,11],!1,null,!0);
if(Q=="sesu")a=new ef("Select Subject",!1,null,!0);if(Q=="wconf")a=new kf;if(Q=="cstr")a=new jk;if(Q=="anta"){a=new k9([12,25,1]);
a.p(!0)}if(Q=="sall")a=new k9([12,25,2]);if(Q=="redge"||Q=="sesu")a.P("click",a$.aC1,this);else a.P(x.E.f,this.Rv,this);
a.parent=this;this.body.appendChild(a.Z);this.LF[Q]=a}}a$.prototype=new eh;a$.prototype.wb=function(j){var n=this.LF.cstr;
if(j.Tg!=null)this.LF.binop.p(j.Tg);else if(j.ZO){for(var Q in j.ZO)if(this.LF[Q])this.LF[Q].p(j.ZO[Q])}else if(j.hN){if(n)n.UJ(j.hN)}else{var a=a$.nd;
if(a==null){var B=fZ.as8(!0);a=a$.nd=new ig(B.items,B.H7)}a.S();a.parent=this;a.update(j.Xz,j.H);var m=new ar(x.E.B,!0);
m.data={Q:x.l.Ix,cB:a,x:j.xZ.vr+2,y:j.xZ.Bk+1};this.a(m)}};a$.prototype.y_=function(){for(var j in this.LF)this.LF[j].S()};
a$.aC1=function(j){var n=j.target==this.LF.sesu,Q=new ar(n?x.E.A:x.E.B,!0);if(n){Q.I=N.D4;Q.data={Q:"bgrm",J:2}}else Q.data={Q:x.l.Vg,Z8:"redge"};
this.a(Q)};a$.prototype.Rv=function(){var j=new ar(x.E.B,!0);j.data={Q:x.l.yo,I:this.I,ZO:{}};for(var n in this.LF)j.data.ZO[n]=this.LF[n].j();
this.a(j)};function gF(){a0.call(this,["brush","strn"])}gF.prototype=new a0;function eM(){a0.call(this,"brush bmode opacity flow smth prsr".split(" "))}eM.prototype=new a0;
function h5(){a0.call(this,["brush","bmode0","samp","wconf"])}h5.prototype=new a0;function hv(){a0.call(this,["brush"])}hv.prototype=new a0;
function hU(){a0.call(this,["brush","bmode","opacity","smth","prsr"])}hU.prototype=new a0;function k5(){a0.call(this,["brush","rng","expo"])}k5.prototype=new a0;
function c7(){a0.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}c7.prototype=new a0;function h9(j){eh.call(this);
if(j==null)return;this.YR=[];this.a6d=new ef("\u2026",!1,null,!0);if(!j)this.body.appendChild(this.a6d.Z);
this.a6d.P("click",this.Jd,this);this.yL=new eD;this.yL.parent=this;var n=this.yL.Z=V.d("div","floatcont form"),Q=[[17,0],[17,1],[11,12,0],[17,2]];
for(var v=0;v<Q.length;v++){var a=new ef(Q[v],!1,null,!0);this.YR.push(a);a.P("click",this.amO,this);
if(!j||v==1)n.appendChild(a.Z)}this.tz=new jk(!0);this.tz.P(x.E.f,this.Z_,this);if(!j)this.body.appendChild(this.tz.Z);
this.z1=new ef([15,7,6],!1,null,!0);this.z1.P("click",this.amO,this);if(!j)this.body.appendChild(this.z1.Z);
this.BB=new k9([15,7,10]);this.BB.P(x.E.f,this.Z_,this);if(!j)this.body.appendChild(this.BB.Z);this.avl=new k9("Content-Aware");
this.avl.P(x.E.f,this.Z_,this);if(!j)this.body.appendChild(this.avl.Z);this.mr=new dI;this.mr.P("click",this.jm,this)}h9.prototype=new eh;
h9.prototype.Jd=function(j){if(V.gU(this.yL.Z))return;var n=this.a6d.Z.getBoundingClientRect(),Q=new ar(x.E.B,!0);
Q.data={Q:x.l.Ix,cB:this.yL,x:n.left,y:n.top+n.height+4};this.a(Q)};h9.prototype.y_=function(){this.mr.S();
for(var v=0;v<this.YR.length;v++)this.YR[v].S();this.tz.S();this.BB.S();this.z1.S()};h9.prototype.wb=function(j){if(j.hN){this.tz.UJ(j.hN);
return}var n=this.mr.Z;if(j.ym)this.body.appendChild(n);else if(this.body.contains(n))this.body.removeChild(n);
if(j.tz)this.tz.p(j.tz)};h9.prototype.jm=function(j){var n={Q:x.l.yo,I:this.I,dI:this.mr.j()?"commit":"cancel"},Q=new ar(x.E.B,!0);
Q.data=n;this.a(Q)};h9.prototype.amO=function(j){j.target.Z.blur();var n={Q:x.l.yo,I:this.I,dI:"cropby",aB5:this.YR.indexOf(j.target)};
if(j.target==this.z1)n.dI="straighten";var Q=new ar(x.E.B,!0);Q.data={Q:x.l.z0,cB:this.yL};this.a(Q);
Q.data=n;this.a(Q)};h9.prototype.Z_=function(j){var n={Q:x.l.yo,I:this.I,dI:"config",ZO:{s2:this.tz.j(),_i:this.BB.j(),zY:this.avl.j()},ays:j.target==this.tz},Q=new ar(x.E.B,!0);
Q.data=n;this.a(Q)};function iQ(){h9.call(this,!1)}iQ.prototype=new h9;function hi(){h9.call(this,!0)}hi.prototype=new h9;
function b_(){a0.call(this,["brush","rng","expo"])}b_.prototype=new a0;function cY(){a0.call(this,"brush emode opacity flow smth prsr".split(" "))}cY.prototype=new a0;
function kB(){a0.call(this,["brush","samp","wconf"])}kB.prototype=new a0;function du(){a$.call(this,!1,["binop","feat","anta","redge","cstr"])}du.prototype=new a$(!0);
function g1(){eh.call(this);var j=this.LF=[new hQ([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new hQ([12,70],[[17,1],[17,3],[17,0]]),new k9([12,20,1]),new k9([8,0])];
j[1].p(2);j[2].p(!0);for(var v=0;v<j.length;v++){var n=j[v];n.P(x.E.f,this.Rv,this);this.body.appendChild(n.Z)}}g1.prototype=new eh;
g1.prototype.Rv=function(j){var n=this.LF,Q=[];for(var v=0;v<n.length;v++)Q[v]=n[v].j();var a=new ar(x.E.B,!0);
a.data={Q:x.l.yo,I:this.I,ZO:Q};this.a(a)};g1.prototype.y_=function(){for(var v=0;v<this.LF.length;v++)this.LF[v].S()};
function il(){eh.call(this);this.Bg=!1;this.Ja=new jz("GrFl",!0);this.Ja.parent=this;this.Ja.update(null,JSON.parse(g8.sp[6]));
this.Ja.P(x.E.f,this.ww,this);var j="Grad Type Md Opct Rvrs Dthr".split(" ");for(var v=0;v<j.length;
v++)this.body.appendChild(this.Ja.kW[j[v]].Z);this.Ja.kW.Grad.aFa=!1;this.Tq=new ef([6,48,1],!1,null,!0);
this.Tq.P("click",this.ww,this);this.body.appendChild(this.Tq.Z)}il.prototype=new eh;il.prototype.y_=function(j){var j=this.Bg;
this.body.children[2].style.display=j?"none":"";this.body.children[3].style.display=j?"none":"";this.Ja.S();
this.Tq.S()};il.prototype.sW=function(j,n){eh.prototype.sW.call(this,j,n);var Q=n==b3.Wz,a=this.Ja.kW.Grad;
a.Hd(j.Z4,j.g7);if(Q||n==b3.oy||n==b3.Od)a.gn(j.z_)};il.prototype.ww=function(j){if(j.target==this.Tq){var n=new ar(x.E.X2,!0);
n.data=N.Ma.UZ(1);this.a(n);return}this.S();var n=new ar(x.E.B,!0);n.data={Q:x.l.yo,I:this.I,_X:this.Ja.j()};
this.a(n)};il.prototype.wb=function(j){this.Bg=j.R;this.S();this.Ja.update(null,j._X);this.S()};function hx(){eh.call(this);
this.lg=new k9([8,7,1]);this.body.appendChild(this.lg.Z);this.lg.P(x.E.f,this.Rv,this)}hx.prototype=new eh;
hx.prototype.Rv=function(){var j={Q:x.l.yo,I:this.I,jU:this.lg.j()},n=new ar(x.E.B,!0);n.data=j;this.a(n)};
function aV(){eh.call(this);var j=V.d("span","fitem");this.body.appendChild(j);this.Zm=[new i7([12,15],-180,180,"\xB0"),new ef([1,12,2],null,null,!0)];
for(var v=0;v<this.Zm.length;v++){var n=this.Zm[v];n.parent=this;j.appendChild(n.Z);n.P(v==1?"click":x.E.f,this.Mu,this)}}aV.prototype=new eh;
aV.prototype.y_=function(){for(var v=0;v<this.Zm.length;v++)this.Zm[v].S()};aV.prototype.wb=function(j){this.Zm[0].p(j.Fr*180/Math.PI)};
aV.prototype.Mu=function(j){var n=this.Zm.indexOf(j.target),Q=new ar(x.E.B,!0);Q.data={Q:x.l.yo,I:this.I,Fr:n==1?0:j.target.j()*Math.PI/180};
this.a(Q)};function cN(){a0.call(this,["brush","algnd","sfrom","alt"])}cN.prototype=new a0;function bl(){eh.call(this);
this.xi=new de;this.xi.parent=this;this.body.appendChild(this.xi.Wn.Z);this.body.appendChild(this.xi.Me.Z);
this.body.appendChild(this.xi.aD.Z);this.body.appendChild(this.xi.GF.Z);var j=V.d("span","fitem");this.body.appendChild(j);
j.appendChild(this.xi.jh.Z);j.appendChild(this.xi.FF.Z);j.appendChild(this.xi.Fv.Z);this.cx=new hQ("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.cx.P(x.E.f,this.jm,this);this.body.appendChild(this.cx.Z);this.y6=new hQ(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.y6.P(x.E.f,this.jm,this);this.body.appendChild(this.y6.Z);this.EW=new ef([11,9],!1,null,!0);this.EW.P("click",this.a84,this);
this.body.appendChild(this.EW.Z);this.mr=new dI;this.mr.P("click",this.jm,this)}bl.prototype=new eh;
bl.prototype.y_=function(){this.mr.S();this.xi.S();this.EW.S()};bl.prototype.a84=function(j){var n={Q:x.l.yo,I:this.I,dI:"showwarp"},Q=new ar(x.E.B,!0);
Q.data=n;this.a(Q)};bl.prototype.wb=function(j){if(j.dI=="showactive")this.body.appendChild(this.mr.Z);
if(j.dI=="hideactive")this.body.removeChild(this.mr.Z);if(j.dI=="changeOther"){this.cx.p(j.V2);this.y6.p([0,2,1][j.Qw])}if(j.dI=="showpan"){var n=[{name:[0,1],Kl:!0}],Q=[{o:x.E.A,I:N.BT,h:{Q:"editCurr",OK:j.OK}}],a=j.xZ;
if(j.a3m){n=[{name:["VAR0: VAR1",[0,5],[7,0]],Kl:!0}];Q=[{o:x.E.X2,h:N.NJ.qy(!0)}];var B=fZ.aqc();n=n.concat(B[0]);
Q=Q.concat(B[1])}n.push({name:[11,9]});Q.push({o:x.E.B,h:{Q:x.l.yo,I:this.I,dI:"showwarp"}});var m=new ig(n,Q);
m.parent=this;m.S();m.update(j.Xz,j.H);var R=new ar(x.E.B,!0);R.data={Q:x.l.Ix,cB:m,x:a.vr+2,y:a.Bk+1};
this.a(R)}};bl.prototype.sW=function(j,n){eh.prototype.sW.call(this,j,n);if(n!=b3.Od&&n!=b3.U2&&n!=b3.GM&&n!=b3.bo)return;
this.xi.p(j.ix,j.wR,j.K$)};bl.prototype.jm=function(j){var n={Q:x.l.yo,I:this.I,dI:this.mr.j()?"commit":"cancel"};
if(j.target==this.cx||j.target==this.y6){n.dI="changeOther";n.V2=this.cx.j();n.Qw=[0,2,1][this.y6.j()]}var Q=new ar(x.E.B,!0);
Q.data=n;this.a(Q)};function gJ(){a$.call(this,!1,["binop","feat","anta","redge"])}gJ.prototype=new a$(!0);
function ba(){eh.call(this);var j=[],Q="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Is=new k9([12,85]);this.Is.p(!0);this.Is.P(x.E.f,this.Rv,this);j.push(this.Is.Z);this.Gg=new hQ(null,[[0,4],[0,3]]);
this.Gg.P(x.E.f,this.Rv,this);this.Gg.p(1);j.push(this.Gg.Z);this.qY=new k9([20,1]);this.qY.P(x.E.f,this.Rv,this);
j.push(this.qY.Z);this.J2=new k9([12,83]);this.J2.P(x.E.f,this.Rv,this);j.push(this.J2.Z);this.yL=new eD;
this.yL.Z=V.d("div","floatcont form");V.v(this.yL.Z,"max-width: 200px;");this.yL.parent=this;var n=this.yL.Z;
this.afD=new hQ("Scale for exported files",["1x","2x","3x","4x"]);n.appendChild(this.afD.Z);this.vQ=new ef(Q+" PNG",!1,"Save selected layers as PNG",!0);
n.appendChild(this.vQ.Z);this.vQ.P("click",this.Hl,this);this.avh=new ef(Q+" SVG",!1,"Save selected layers as SVG",!0);
n.appendChild(this.avh.Z);this.avh.P("click",this.Hl,this);var a=new ef(Q,!1,"Save selected layers",!0);
j.push(a.Z);a.P("click",function(U){if(V.gU(this.yL.Z))return;var l=a.Z.getBoundingClientRect(),b=new ar(x.E.B,!0);
b.data={Q:x.l.Ix,cB:this.yL,x:l.left,y:l.top+l.height,qP:!0};this.a(b)},this);var B=V.d("span","fitem");
j.push(B);var m=V.d("span","fitem");j.push(m);this.K3=[];for(var v=0;v<8;v++){var R=v==3||v==7?[20,4,6]:[20,4,v<3?v:v-1],q=new ef("Hi",!1,R);
(v<4?B:m).appendChild(q.Z);q.P("click",this.Hl,this);this.K3.push(q)}for(var v=0;v<j.length;v++)this.body.appendChild(j[v]);
this.awk=j}ba.prototype=new eh;ba.prototype.wb=function(j){var n=j.Ls,Q=j.a2O;this.Is.p(n.u4);this.qY.p(n.ry);
this.J2.p(n.lP);if(Q){V.cV(this.body);for(var v=0;v<Q.length;v++)if(Q[v]==1&&this.awk[v])this.body.appendChild(this.awk[v])}};
ba.prototype.Hl=function(j){var n=this.K3.indexOf(j.target),Q;if(n==-1){Q=new ar(x.E.B,!0);Q.data={Q:x.l.yo,I:this.I,BO:j.target==this.vQ?"getPNG":"getSVG",Tw:this.afD.j()+1}}else{Q=new ar(x.E.A,!0);
Q.I=N.nQ;Q.data={Q:"algn",J:n}}this.a(Q)};ba.prototype.Rv=function(j){var n=new ar(x.E.B,!0);n.data={Q:x.l.yo,I:this.I,BO:"prms",u4:this.Is.rD(),ats:this.Gg.j(),ry:this.qY.rD(),lP:this.J2.rD()};
this.a(n)};ba.prototype.y_=function(){this.Is.S();this.Gg.S();this.qY.S();this.J2.S();var j="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var v=0;v<8;v++){this.K3[v].LY(V.Mn("align/"+j[v],null,"autoscale"))}};function iw(){a$.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}iw.prototype=new a$(!0);
function c6(){a0.call(this,["setop","patch"])}c6.prototype=new a0;function bD(){a0.call(this,["setop"])}bD.prototype=new a0;
function fx(j){var n=j==N.aH3?[]:["bmode"];a0.call(this,n.concat(["opacity","wconf","sall"]))}fx.prototype=new a0;
function kv(){a$.call(this,!1,["binop","feat","anta","redge"])}kv.prototype=new a$(!0);function g3(){a$.call(this,!1,["binop","feat","anta","redge"])}g3.prototype=new a$(!0);
function ag(){a$.call(this,!1,["binop","feat","redge","cstr"])}ag.prototype=new a$(!0);function fC(){eh.call(this);
this.H=null;this.QI=null;this.ga=!0;this.$x=[new cE("X",null,3.2,null,!0),new cE("Y",null,3.2,null,!0),new cE("W",null,3.2,null,!0),new cE("H",null,3.2,null,!0),new cE("a","\xB0",3.7,null,!0),new cE("l",null,3.5,null,!0),new cE("l",null,3.5,null,!0),new k9("Use custom units:"),new ef("Define Unit",!1,null,!0),new ef([15,7,6],!1,null,!0),new ef([2,2],!1,null,!0)];
this.$x[7].Z.style.marginRight="0px";for(var v=0;v<this.$x.length;v++){var j=this.$x[v];this.body.appendChild(j.Z);
if(v>6)j.P(v==7?x.E.f:"click",this.$$,this)}this.Hp=0}fC.prototype=new eh;fC.prototype.$$=function(j){var n=this.$x.indexOf(j.target),Q=new ar(x.E.A,!0),a=this.QI;
if(n==7){this.wb(a);return}if(n==8){if(this.ga){alert("Draw a line for the new unit");return}this.$x[7].p(!0);
var B=new ar(x.E.B,!0);B.data={Q:x.l.Vg,Z8:"measscale",tq:eE.X_(a.Fe,a.$M)};this.a(B);return}if(n==9){if(this.Hp==0)return;
Q.I=N.CL;Q.data={Q:"rot",ID:[2,5],J:-this.Hp}}if(n==10){Q.I=N.Pq;Q.data={Q:"reset"};this.ga=!0;for(var v=0;
v<6;v++)this.$x[v].p(null)}this.a(Q)};fC.prototype.wb=function(j){function n(l,b,D){var c=eE.X_(l,b),_=eE.X_(b,D),p=eE.X_(l,D);
return Math.acos((_*_+c*c-p*p)/(2*_*c))}if(j==null)return;this.QI=j;var Q=j.Fe,a=j.$M,B=a.x-Q.x,m=a.y-Q.y;
this.Hp=-Math.atan2(m,B);if(j.iC)this.Hp=n(a,Q,j.iC);var R=this.$x;R[0].p(this.sj(j,Q.x));R[1].p(this.sj(j,Q.y));
R[2].p(this.sj(j,B));R[3].p(this.sj(j,m));R[4].p((this.Hp*180/Math.PI).toFixed(2));R[5].p(this.sj(j,eE.X_(Q,a)));
this.ga=Q.N_(a);if(j.iC){R[6].p(this.sj(j,eE.X_(Q,j.iC)))}else R[6].p("");R[8].LY("Define");var q=j.tp;
if(q){var U=q.T.v;R[8].LY(U.logicalUnits.v)}};fC.prototype.sj=function(j,n){var Q=this.QI.tp,a;if(Q&&this.$x[7].j()){var B=Q.T.v;
a=n*B.logicalLength.v/B.pixelLength.v}else a=K.Ai.HZ(n,j.Mp,this.H,j.a47,!1);return parseFloat(a).toFixed(2)};
fC.prototype.sW=function(j,n){this.H=j;this.wb(this.QI)};fC.prototype.y_=function(){var j=this.$x;for(var v=0;
v<j.length;v++)j[v].S();j[4].LY(i4.get([12,15]).slice(0,1)+":");var n=i4.get([12,80,0]).slice(0,1);j[5].LY(n+"1:");
j[6].LY(n+"2:");V.b2(j[2],j[3])};function gy(){a0.call(this,["brush","strn","pdetail"])}gy.prototype=new a0;
function hN(){a0.call(this,["brush","sfrom"]);this.a7n=[];var j=[[7,12]];for(var v=0;v<j.length;v++){var n=new ef(j[v],!1,null,!0);
this.a7n.push(n);n.parent=this;this.body.appendChild(n.Z);n.P("click",this.ajT,this)}}hN.prototype=new a0;
hN.prototype.ajT=function(j){var n=this.a7n.indexOf(j.currentTarget),Q=new ar(x.E.X2,!0);Q.data=N.K6.UZ(n==0?"contentAware":"aiHeal");
this.a(Q)};function bp(){a0.call(this,["brush","strn"])}bp.prototype=new a0;function jp(){a0.call(this,["brush","flow","smode"])}jp.prototype=new a0;
function df(){eh.call(this);this.m2=!1;var j=V.d("span","fitem");this.body.appendChild(j);this._4=new aY(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
j.appendChild(this._4.Z);this._4.P(x.E.f,this.Rv,this);this.Pb=new ef([20,2]);this.body.appendChild(this.Pb.Z);
this.Pb.P("click",this.a4m,this);this.as1=new ef([20,3]);this.body.appendChild(this.as1.Z);this.as1.P("click",this.a4m,this);
this.lg=new k9([8,7,1]);this.body.appendChild(this.lg.Z);this.lg.P(x.E.f,this.Rv,this)}df.prototype=new eh;
df.prototype.y_=function(){this.Pb.S();this.as1.S()};df.prototype.Rv=function(){var j={Q:x.l.yo,I:this.I,cC:this._4.j()==0,jU:this.lg.j()},n=new ar(x.E.B,!0);
n.data=j;this.a(n)};df.prototype.wb=function(j){if(this.m2!=j.m2)this._4.p(1-this._4.j());this.m2=j.m2};
df.prototype.a4m=function(j){var n=new ar(x.E.A,!0);n.I=N.yx;n.data={Q:"adapt",J:j.target==this.Pb?"pixel":"fitscr"};
this.a(n)};function hD(j,n){eh.call(this);if(j==null)return;this.TL=j;this.AW={};this.agY=n;for(var v=0;
v<j.length;v++){var Q=j[v],a=null;if(Q=="vmode"||Q=="pmode"){a=new hQ(null,[[12,76,1],[12,76,0],[12,76,2]]);
a.p(Q=="vmode"?0:1);if(n)a.auq(2)}if(Q=="make"){a=new aY("Make",[[17,2],[12,76,1]],null,!0)}if(Q=="anta"){a=new k9([12,25,1]);
a.p(!0)}if(Q=="binop"){a=new hQ(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(Q=="pshape")a=new hQ(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(Q=="shape")a=new eC([12,76,1]);if(Q=="crad"){a=new i7([12,94,0],0,50,"px");a.p(0)}if(Q=="cstr"){a=new jk}if(Q=="irad"){a=new i7([12,94,1],0,100,"%");
a.p(40)}if(Q=="length"){a=new i7([12,80,0],4,40);a.p(4)}if(Q=="sides"){a=new i7([12,78],3,30);a.p(5)}if(Q=="width"){a=new i7([12,41],0,100,"px");
a.p(5)}if(Q=="tolr"){a=new i7([12,24],0,100);a.p(5)}if(Q=="fstyle"){a=new iG([12,26])}if(Q=="sstyle"){a=new iR}if(Q=="psnap"){a=new k9([8,10])}if(Q=="crnr"){a=new ef("\u2312",!1,[12,94,0],!0)}if(Q=="aopts"){a=new eU;
a.p([!1,!1,50,60,0])}if(Q=="smplp"){a=new ef([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}a.parent=this;
this.body.appendChild(a.Z);this.AW[Q]=a;a.P(Q=="crnr"||Q=="smplp"?"click":x.E.f,this.Rv,this)}}hD.prototype=new eh;
hD.prototype.wb=function(j){var n=this.AW.cstr;if(j.Tg!=null)this.AW.binop.p(j.Tg);else if(j.BO=="vals")for(var Q in j.aqB)this.AW[Q].p(j.aqB[Q]);
else if(j.hN){if(n)n.UJ(j.hN)}else{var a=hD.nd,B=function(R){return{m:R!=null&&R.rV(!1)}};if(a==null)a=hD.nd=new ig([{name:"Remove Anchor Point",m:function(R){var q=R?R.H9():null;
return{m:R&&q[1].length!=0&&q[0][q[1][0]].add.vmsk.eF.length!=0}}},{name:"Remove Path",m:function(R){var q=R?R.H9():null;
return{m:R&&q[1].length!=0&&q[0][q[1][0]].add.vmsk.X.length!=0}},Kl:!0},{name:"Make Selection"},{name:[2,3],m:B},{name:[14,9],m:B}],[{o:x.E.A,I:N.fI,h:{Q:"remove",wI:!0}},{o:x.E.A,I:N.rB,h:{Q:"remove"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"makesel"}},{o:x.E.X2,h:N._I.RF(null)},{o:x.E.B,h:{Q:x.l.Vg,Z8:"strokepath"}}]);
a.parent=this;a.update(j.Xz,j.H);var m=new ar(x.E.B,!0);m.data={Q:x.l.Ix,cB:a,x:j.xZ.vr+2,y:j.xZ.Bk+1};
this.a(m)}};hD.prototype.alM=function(v){return null};hD.prototype.y_=function(){for(var j in this.AW){this.AW[j].S()}};
hD.prototype.Rv=function(j){var n=new ar(x.E.B,!0),Q=this.AW;if(j.target==Q.crnr){n=new ar(x.E.A,!0);
n.I=N.fI;n.data={Q:"crnr"}}else if(j.target==Q.smplp){n=new ar(x.E.A,!0);n.I=N.rB;n.data={Q:"smplp"}}else if(j.target==Q.make){var v=j.target.j();
console.log(v);if(v==0)n.data={Q:x.l.Vg,Z8:"makesel"};else{n=new ar(x.E.A,!0);n.I=N.hp;n.data={Q:"newfill",m_:0}}}else if(j.target==Q.fstyle){n.data={Q:x.l.m6,_X:b3.Cj,J:Q.fstyle.j()}}else if(j.target==Q.sstyle){n.data={Q:x.l.m6,_X:b3.YB,J:Q.sstyle.j()}}else if(j.target==Q.vmode||j.target==Q.pmode){n.data={Q:x.l.m6,_X:j.target==Q.vmode?b3.VC:b3.xp,J:j.target.j()}}else{if(Q.pshape)this.Qi();
n.data={Q:x.l.yo,I:this.I};for(var a in Q)n.data[a]=Q[a].j()}this.a(n)};hD.prototype.Qi=function(){var j=this.AW,n=(j.vmode?j.vmode:j.pmode).j(),Q=j.pshape?this.alM(j.pshape.j()):this.TL,a;
if(n==0)a=["anta","make"];if(n==1)a=["anta","fstyle","sstyle"];if(n==2)a=["make","binop","fstyle","sstyle"];
var B=j.binop;if(B){var m=B.j();if(n==0){B.al4(0)}else{B.auq(0);if(m==0){B.p(1);this.Rv({target:B})}}}V.cV(this.body);
for(var v=0;v<Q.length;v++){var R=Q[v];if(a.indexOf(R)!=-1)continue;this.body.appendChild(j[R].Z)}};
hD.prototype.sW=function(j,n){eh.prototype.sW.call(this,j,n);var Q=this.AW.fstyle,a=this.AW.sstyle,B=this.AW.vmode,m=this.AW.pmode;
if(Q)Q.sW(j,n);if(a)a.sW(j,n);if(n==b3.Od||n==b3.RX)if(j.lE.length!=0&&this.AW.shape){this.AW.shape.gn(j.lE)}if(n==b3.Od||n==b3.Cj)if(Q)Q.p(null,j.hX,j.aj4);
if(n==b3.Od||n==b3.YB)if(a)a.p(null,j.mE,j.alJ);if(n==b3.Od||n==b3.VC||n==b3.xp){var R=j.tR,q=j.U6;if(this.agY&&q==2)q=0;
if(B){B.p(R);this.Qi()}if(m){m.p(q);this.Qi()}}};function cZ(){hD.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}cZ.prototype=new hD;
function ax(){hD.call(this,"pmode make anta fstyle sstyle binop".split(" "))}ax.prototype=new hD;function fY(){hD.call(this,["fstyle","sstyle","smplp"]);
this.alN=null;this.aAH=null;this.a6t=null;this.VE=new hQ([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.sM=new ef("\u25BC");this.sM.eu();this.azh=new ef("\u25B2");this.azh.eu();this.aA5=[this.VE,this.sM,this.azh];
for(var v=0;v<this.aA5.length;v++){var j=this.aA5[v];this.body.appendChild(j.Z);j.parent=this;j.P(v==0?x.E.f:"click",this.Uj,this)}}fY.prototype=new hD;
fY.prototype.wb=function(j){if(j.dI=="main"){var n=this.aA5,Q=j.bW;if(Q){this.aAH=Q.O();this.a6t=JSON.stringify(j._y);
var a=Q.X.slice(0),B=a.length;for(var v=0;v<a.length;v++)a[v]++;a.sort(function(U,l){return U-l});n[0].I6();
n[1].Q7(B!=0);n[2].Q7(B!=0);n[0].LY(B==0?"No Paths":B==1?"Path "+a[0]:"Paths "+a.slice(0,3).join(",")+(B>3?"..":""));
if(B!=0){var m=Q.X[0],R=K.R.p$(Q.z,m),q=Q.z[R];this.VE.p([3,0,1,2][q.H_])}}else for(var v=0;v<n.length;
v++)n[v].QE()}else hD.prototype.wb.call(this,j)};fY.prototype.y_=function(){hD.prototype.y_.call(this);
this.VE.S()};fY.prototype.Uj=function(j){if(j.target==this.VE||j.target==this.sM||j.target==this.azh){var n={},Q=this.aAH,a=Q.z,B=Q.X,m=K.R.$L(a),R=JSON.parse(this.a6t);
B.sort(function(k,I){return k-I});if(j.target==this.VE){var q=this.VE.j();if(q<4)for(var v=0;v<B.length;
v++)a[K.R.p$(a,B[v])].H_=[1,2,3,0][q];else{if(m<=1)return;Q.z=K.R.$r(a);Q.X=Q.z.length==2?[]:[0];Q.eF=[];
R=[K._y.DB()]}}else{var U=j.target==this.sM?-1:1,l=[];for(var v=0;v<m;v++){var b=K.R.p$(a,v),D=b+1+a[b].length;
l.push(a.slice(b,D))}var c=B.slice(0);for(var v=0;v<B.length;v++)c[v]=Math.max(v,Math.min(m-1-(B.length-1-v),c[v]+U));
if(B.join(",")==c.join(","))return;var _=K.u(R);for(var v=0;v<B.length;v++){var p=U==-1?v:B.length-1-v,b=B[p],D=c[p];
if(b!=D){var X=l[b];l[b]=l[D];l[D]=X;X=_[b];_[b]=_[D];_[D]=X}}var g=a.slice(0,2);for(var v=0;v<l.length;
v++)g=g.concat(l[v]);Q.z=g;Q.X=c;R=_}n.bW=Q;n._y=R;var F=new ar(x.E.B,!0);F.data={Q:x.l.yo,I:this.I,eT:n};
this.a(F)}};function bk(){hD.call(this,["fstyle","sstyle","crnr","psnap"])}bk.prototype=new hD;function hV(){hD.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}hV.prototype=new hD;
function ap(){hD.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}ap.prototype=new hD;
function a9(){hD.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.AW.aopts.p([!1,!0,50,60,0])}a9.prototype=new hD;a9.prototype.alM=function(v){var j=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(j[v])};function kA(){hD.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}kA.prototype=new hD;
function en(){hD.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}en.prototype=new hD;
function kO(){a$.call(this,!1,["binop","feat","redge","sesu"])}kO.prototype=new a$(!0);function dl(){a0.call(this,["brush","qsmode","redge","sesu"])}dl.prototype=new a0;
function j2(){eh.call(this);this.ji=[new jk,new ef([8,11,3],null,null,!0),new ef(["VAR0...",[15,10,22]],null,null,!0)];
for(var v=0;v<3;v++){var j=this.ji[v];j.P(v==0?x.E.f:"click",this.Uj,this);this.body.appendChild(j.Z)}}j2.prototype=new eh;
j2.prototype.Uj=function(j){var n=new ar(x.E.B,!0),Q=this.ji.indexOf(j.target);if(Q==0){n.data={Q:x.l.yo,I:this.I,tz:j.target.j()}}else if(Q==1){n=new ar(x.E.X2,!0);
n.data={ep:"make",Tu:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{n.data={Q:x.l.Vg,Z8:"divslice"}}this.a(n)};
j2.prototype.y_=function(j){for(var v=0;v<this.ji.length;v++)this.ji[v].S()};function ho(){eh.call(this);
var j=this.sy=[new ef("\u25BC",null,null,!0),new ef("\u25B2",null,null,!0),new ef([5,4],null,null,!0),new ef(["VAR0...",[15,10,22]],null,null,!0)];
for(var v=0;v<4;v++){var n=j[v];this.body.appendChild(n.Z);n.P("click",this.Uj,this)}}ho.prototype=new eh;
ho.prototype.Uj=function(j){var n=this.sy.indexOf(j.target),Q;if(n==3){Q=new ar(x.E.B,!0);Q.data={Q:x.l.Vg,Z8:"divslice"}}else{Q=new ar(x.E.A,!0);
Q.I=N.uE;Q.data={Q:n==2?"delete":"reorder",dir:n==0?-1:1}}this.a(Q)};ho.prototype.S=function(){eh.prototype.S.call(this);
for(var v=0;v<4;v++)this.sy[v].S()};function cJ(j,n){eh.call(this);if(window.Typr==null||j)return;this.aDD=n;
this.Bm=null;this.a5J=V.d("span","");this.ajj=V.d("span","");var Q=1,a=this.dT={h1:new au(null,24),D_:new i7("X",0,0,"px",0,!1,!0,4),kN:new i7("Y",0,0,"px",0,!1,!0,4),VD:new i7("W",0,0,["%","px"],2,!1,!0,5),ad:new ef("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),hP:new i7("H",0,0,["%","px"],2,!1,!0,5),aEp:new i7("\u2221",0,0,"\xB0",Q,!1,!0),arR:new i7("\u25B1 H",-85,85,"\xB0",Q,!1,!0),a5x:new i7("\u25B1 V",-85,85,"\xB0",Q,!1,!0),E6:new hQ(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),a9J:new hQ("Protect",[])};
a.E6.p(1);a.ad.p(!0);for(var B in a){var m=a[B],R=!0;if(n&&(m==a.aEp||m==a.arR||m==a.a5x||m==a.E6))R=!1;
if(!n&&m==a.a9J)R=!1;if(R)this.a5J.appendChild(m.Z);var q=m==a.ad?"click":x.E.f;m.P(q,this.axy,this)}this.Yi=new aY("Split",aY.cH(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.Yi.p(-1);this.Yi.P(x.E.f,this.abU,this);this.Bz=new cf(!0,!0,!0);this.Bz.P(x.E.f,this.abU,this);
this.Bz.parent=this;var U=this.ajj,l=this.Bz;U.appendChild(this.Yi.Z);U.appendChild(l.pg.Z);U.appendChild(l.Kn.Z);
U.appendChild(l.dz.Z);U.appendChild(l.PX.Z);U.appendChild(l.ml.Z);this.EW=new ef([11,9]);this.EW.P("click",this.ale,this);
this.mr=new dI;this.mr.P("click",this.jm,this)}cJ.prototype=new eh;cJ.prototype.wb=function(j){if(j.xZ){var n=cJ,Q=this.nd;
if(Q==null)Q=this.nd=new ig(n.a7_(),n.aEP(this.I));Q.S();Q.parent=this;Q.update(j.Xz,j.H);var a=new ar(x.E.B,!0);
a.data={Q:x.l.Ix,cB:Q,x:j.xZ.vr+2,y:j.xZ.Bk+1};this.a(a);return}V.cV(this.body);this.Bm=j;if(j.dT){var B=j.dT.SK,m=j.dT.uS.O(),R=Math.atan2(-m.b,m.NX),q=new j8;
q.rotate(-R);m.concat(q);var U=this.dT;U.h1.p(j.dT.va);U.D_.p(j.dT.HC.x);U.kN.p(j.dT.HC.y);U.VD.p(m.NX*(U.VD.Bn()=="%"?100:B.q));
U.hP.p(m.zP*(U.hP.Bn()=="%"?100:B._));U.aEp.p(-R*180/Math.PI);U.arR.p(Math.atan(m.RK/m.zP)*180/Math.PI);
U.a5x.p(0*180/Math.PI);this.body.appendChild(this.a5J);this.EW.Qj();if(j.dT.SB!=null)U.ad.p(j.dT.SB)}if(j.Mb){if(j.abe)this.Yi.p(-1);
this.Bz.p(j.Mb);this.body.appendChild(this.ajj);this.EW.eu()}if(j.Kj)U.a9J.MD(j.Kj);this.body.appendChild(this.mr.Z);
if(j.asr&&!this.aDD)this.body.appendChild(this.EW.Z)};cJ.prototype.axy=function(j){var n=this.dT,Q=this.Bm.dT.SK;
if(j.target==n.ad)n.ad.p(!n.ad.j());else if(n.ad.rD()){var a=n.hP,B=n.VD,m=Q._,R=Q.q;if(j.target==n.VD){a=n.VD;
B=n.hP;m=Q.q;R=Q._}var q=a.j()/(a.Bn()=="%"?100:m);q*=B.Bn()=="%"?100:R;B.p(q)}var U=[];for(var l in n)if(n[l]!=n.ad&&n[l]!=n.h1){var q=n[l].j();
if((n[l]==n.VD||n[l]==n.hP)&&q==0){q=.1;n[l].p(q)}if(n[l]==n.VD&&n[l].Bn()=="px")q/=Q.q/100;if(n[l]==n.hP&&n[l].Bn()=="px")q/=Q._/100;
U.push(q)}var b=new eE(U[0],U[1]);if(j.target==n.h1){this.Op({dI:"ctyp",va:n.h1.j()})}else if(j.target==n.D_||j.target==n.kN){this.Op({dI:"cen",HC:b})}else{var D=this.Bm.dT.uS.O(),c=D.O(),_=Math.atan2(-D.b,D.NX);
c.translate(-b.x,-b.y);c.rotate(-_);var p=new j8(c.NX,c.b,c.RK,c.zP,0,0);p.m2();c.concat(p);var X=U[2]/100,g=U[3]/100;
c.concat(new j8(X,X*Math.tan(U[6]*Math.PI/180),g*Math.tan(U[5]*Math.PI/180),g,0,0));c.rotate(-U[4]*Math.PI/180);
c.translate(b.x,b.y);this.Bm.dT.uS=c;this.Op({dI:"trn",dT:c,FD:n.E6.j(),Y6:n.a9J.j(),SB:n.ad.j()})}};
cJ.prototype.abU=function(j){var n=this.Yi;this.Op(j.target==n?{dI:"splt",J:n.j()}:{dI:"wrp",Mb:this.Bz.j()})};
cJ.prototype.ale=function(j){this.Op({dI:"switchWarp"})};cJ.prototype.jm=function(j){this.Op({dI:this.mr.j()?"commit":"cancel"})};
cJ.prototype.Op=function(j){j.Q=x.l.yo;j.I=this.I;var n=new ar(x.E.B,!0);n.data=j;this.a(n)};cJ.prototype.y_=function(){var j=this.dT;
for(var n in j)j[n].S();V.b2(j.VD,j.hP);this.mr.S();this.Yi.S();this.Bz.S();this.EW.S()};cJ.a7_=function(){var j=function(n){var Q=!0;
if(n==null||n.X.length==0)Q=!1;else{var a=n.X;for(var v=0;v<a.length;v++){if(n.T[a[v]].add.TySh)Q=!1}}return{m:Q}};
return[{name:[5,9],Ha:"Shift+Alt+Ctrl + T",Kl:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],m:j},{name:[2,9],m:j,Kl:!0},{name:[11,9],m:function(n){if(n==null||n.X.length!=1)return{m:!1};
var Q=n.T[n.X[0]];return{m:Q.add.TySh==null&&!Q.bx()}},Kl:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
cJ.aEP=function(j){if(j==null)j=N.CL;return[{o:x.E.A,I:j,h:{Q:"again"}},{o:x.E.B,h:{Q:x.l.pY,I:j,Ls:{uO:3}}},{o:x.E.B,h:{Q:x.l.pY,I:j,Ls:{uO:4}}},{o:x.E.B,h:{Q:x.l.pY,I:j,Ls:{uO:5}}},{o:x.E.B,h:{Q:x.l.pY,I:j,Ls:{uO:2}}},{o:x.E.B,h:{Q:x.l.pY,I:j,Ls:{uO:1}}},{o:x.E.B,h:{Q:x.l.pY,I:j,Ls:{uO:-1}}},{o:x.E.X2,h:N.IP.xc(!0,90,!0)},{o:x.E.X2,h:N.IP.xc(!0,-90,!0)},{o:x.E.X2,h:N.IP.xc(!0,-180,!0)},{o:x.E.X2,h:N.IP.xc(!1,"Hrzn",!0)},{o:x.E.X2,h:N.IP.xc(!1,"Vrtc",!0)}]};
function gn(){cJ.call(this)}gn.prototype=new cJ(!0);function iZ(){cJ.call(this)}iZ.prototype=new cJ(!0);
function fr(){cJ.call(this,!1,!0)}fr.prototype=new cJ(!0);function dt(){eh.call(this);var j=this.TL=[new hQ([12,36],["Rigid",[15,10,0],[24,4]]),new hQ([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new i7([7,4],0,100,"px"),new k9("Show Mesh"),new ef("\u25BC",null,null,!0),new ef("\u25B2",null,null,!0)];
for(var v=0;v<j.length;v++){var n=j[v];n.parent=this;this.body.appendChild(n.Z);n.P(v<4?x.E.f:"click",this.arh,this)}this.mr=new dI;
this.mr.P("click",this.jm,this);this.body.appendChild(this.mr.Z)}dt.prototype=new eh;dt.prototype.y_=function(){var j=this.TL;
for(var v=0;v<4;v++)j[v].S();this.mr.S()};dt.prototype.wb=function(j){var j=j._X;for(var v=0;v<4;v++)this.TL[v].p(j[v])};
dt.prototype.arh=function(j){var n=[];for(var v=0;v<4;v++)n[v]=this.TL[v].j();var Q=this.TL.indexOf(j.target);
if(Q<4)this.Op({dI:"prm",_X:n});else this.Op({dI:"moveDepth",aB8:Q==5})};dt.prototype.jm=function(j){this.Op({dI:this.mr.j()?"commit":"cancel"})};
dt.prototype.Op=function(j){j.Q=x.l.yo;j.I=this.I;var n=new ar(x.E.B,!0);n.data=j;this.a(n)};function cA(){eh.call(this);
this.TL=null;this.li=new hQ([12,44],["","","","",""]);this.li.P(x.E.f,this.Rv,this);this.body.appendChild(this.li.Z);
this.X9=new k9("ON");this.X9.P(x.E.f,this.Rv,this);this.body.appendChild(this.X9.Z);var j=i7;this.SU=[[new j([24,2],0,500)],[new j([24,2],0,500)],[],[new j([24,2],0,500)],[new j("Speed",0,500,"%"),new j("Point Speed",0,500,"px")],[new j([12,15],0,360,"\xB0",null,!0)]];
for(var v=0;v<6;v++)for(var n=0;n<this.SU[v].length;n++){var Q=this.SU[v][n];Q.parent=this;Q.P(x.E.f,this.Rv,this)}this.mr=new dI;
this.mr.P("click",this.Rv,this)}cA.prototype=new eh;cA.prototype.wb=function(j){var n=this.TL=j._X,Q=n[0];
this.ajk();this.S()};cA.prototype.Rv=function(j){var n=this.TL,Q=n[0],a=j.target,B=a.j();if(a==this.mr){}else if(a==this.li){Q=n[0]=B<2?B:B+1;
this.ajk(Q);n[2]=null}else if(a==this.X9){n[1][Q]=B;n[2]=null;this.S()}else{var m=this.SU[Q];for(var R=0;
R<m.length;R++)n[2][R]=m[R].j()}var q=new ar(x.E.B,!0);q.data={Q:x.l.yo,I:this.I,_X:n};if(a==this.mr)q.data.dI=B?"commit":"cancel";
this.a(q)};cA.prototype.ajk=function(){var j=this.body,n=this.TL,Q=n[0];this.li.p(Q<2?Q:Q-1);this.X9.p(n[1][Q]);
while(j.children.length>2)j.removeChild(j.lastChild);var a=this.SU[Q];for(var v=0;v<a.length;v++){a[v].Q7(n[2]!=null);
if(n[2]!=null)a[v].p(n[2][v]);j.appendChild(a[v].Z)}j.appendChild(this.mr.Z)};cA.prototype.S=function(){var j=[],n=this.TL,Q=this.li;
for(var v=0;v<5;v++){var a=[24,3,12,v];if(n)a=(n[1][v<2?v:v+1]?"\u2713 ":"\u2002\u2002")+i4.get(a);j.push(a)}var B=Q.j();
Q.MD(j);Q.p(B);var m=this.SU;for(var v=0;v<6;v++){var R=m[v];for(var q=0;q<R.length;q++)R[q].S()}};function hK(){eh.call(this);
var j=this.LF=[new hQ([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var v=0;v<j.length;v++){var n=j[v];
n.P(x.E.f,this.Rv,this);this.body.appendChild(n.Z)}}hK.prototype=new eh;hK.prototype.Rv=function(j){var n=this.LF,Q=[];
for(var v=0;v<n.length;v++)Q[v]=n[v].j();var a=new ar(x.E.B,!0);a.data={Q:x.l.yo,I:this.I,ZO:Q};this.a(a)};
hK.prototype.y_=function(){for(var v=0;v<this.LF.length;v++)this.LF[v].S()};function io(){a$.call(this,!1,["binop"]);
this.afI=new ef("Remove",!1,null,!0);this.afI.P("click",this.sk,this);this.afI.Z.style.marginRight="2em";
this.avA=new cE("New content");this.Vz=new ef("\u2026",!1,null,!0);this.Vz.P("click",this.Jd,this);this.IB=new ef([18,0],!1,null,!0);
this.IB.P("click",this.sk,this);this.aqV=new ef("Undo",!1,null,!0);this.aqV.P("click",this.sk,this);
this.body.appendChild(this.afI.Z);this.body.appendChild(this.avA.Z);this.body.appendChild(this.Vz.Z);
this.body.appendChild(this.IB.Z);this.body.appendChild(this.aqV.Z);this.yL=new eD;this.yL.parent=this;
var j=this.yL.Z=V.d("div","floatcont form label6");j.style.width="270px";var n=this.NU="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");
this.ap2=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var Q=this.Nj=[new k9("Use default settings"),new hQ("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new cE("Neg. prompt",null,13.25),new jc("Guidance",-20,20),new jc("Steps",10,50),new hQ("Sampler",n)];
Q[0].P(x.E.f,this.S,this);Q[0].p(!0);Q[1].p(1);Q[3].p(6);Q[4].p(20);for(var v=0;v<Q.length;v++){j.appendChild(Q[v].Z);
V.pd(j)}}io.prototype=new a$(!0);io.prototype.S=function(){eh.prototype.S.call(this);this.IB.S();var j=this.Nj;
for(var v=0;v<j.length;v++){j[v].S();if(v>0)j[v].Q7(!j[0].j())}};io.prototype.sk=function(j){if(j.target==this.aqV){var n=new ar(x.E.A,!0);
n.I=N.jM;n.data={Q:"h_stepbck"};this.a(n);return}var Q=this.Nj,a={},B=["model","negative_prompt","guidance","steps","sampler"],m=!Q[0].j();
if(m){for(var v=1;v<Q.length;v++)a[B[v-1]]=Q[v].j();a.model=this.ap2[a.model];a.sampler=this.NU[a.sampler];
a.steps=Math.min(a.steps,50)}var n=new ar(x.E.X2,!0);n.data=N.K6.UZ("aiHeal");if(j.target==this.IB){n.data.Tu.prmt={t:"TEXT",v:this.avA.j()};
if(m)n.data.Tu._X=a}this.a(n)};io.prototype.Jd=function(j){if(V.gU(this.yL.Z))return;var n=this.Vz.Z.getBoundingClientRect(),Q=new ar(x.E.B,!0);
Q.data={Q:x.l.Ix,cB:this.yL,x:n.left,y:n.top+n.height+4,qP:!0};this.a(Q)};function gV(){eD.call(this);
this.Z=V.d("div","cmanager");window.alert=function(a,B){this.arG(a,B);console.log("Alert: "+a)}.bind(this);
window.onblur=function(a){var B=this;B.sw()}.bind(this);this.Uw=0;this.WC=0;this.UK=[];this.aB4={};this.aAv=V.d("div","alertcont");
this.Z.appendChild(this.aAv);this.aep=V.d("div","alertcont");this.Z.appendChild(this.aep);this.j5=V.d("div","alertcont");
this.ao2=0;this._9=-1;this.acA=null;this.ji=null;var j=this.atw=V.d("div","alertpanel");V.v(j,"padding:0.7em 1em 0.1em 1em;");
this.j5.appendChild(j);var n=this.Xh=V.d("input");n.setAttribute("type","text");V.Sp(n);V.v(n,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
n.addEventListener("input",this.a7G.bind(this),!1);n.addEventListener("keydown",this.amA.bind(this),!1);
j.appendChild(n);var Q=this.h4=V.d("div","contextpanel scrollable");V.v(Q,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
Q.addEventListener("click",this.awP.bind(this),!1);j.appendChild(Q);V.ON(document.body,this.aHp.bind(this))}gV.prototype=new eD;
gV.prototype.N5=function(){if(V.gU(this.j5))this.Z.removeChild(this.j5)};gV.prototype.afu=function(j,n){var Q=this.acA=[],a=n.a1p;
for(var v=0;v<fZ.data.length;v++){var B=fZ.data[v],m=[i4.get(B.name)],R=[v];gV.Yj(B.items,m,R,Q,j,n,a==null?null:a[v]==null?0:a[v])}var q=n.F;
for(var v=0;v<q.QT.length;v++){var U=q.QT[v],l=q.keys[v];for(var b=0;b<U.length;b++)Q.push([["Tools",i4.get(U[b].I.name)],[-1,U[b].I.id],l?l.wp:null])}this.Z.appendChild(this.j5);
var D=this.Xh;D.focus();D.select();this.HD()};gV.prototype.a7G=function(j){this._9=-1;this.HD()};gV.prototype.HD=function(){var j=this.Xh.value.toLowerCase().trim().replace(/  +/g," "),n=this.acA,Q=[],a=[],B=j.split(" ");
if(j!="")for(var v=0;v<n.length;v++){var m=n[v][0],R=[],q=0;for(var U=0;U<m.length;U++)R[U]=-1;for(var l=0;
l<B.length;l++)for(var U=0;U<m.length;U++){var b=m[U].toLowerCase().indexOf(B[l]);if(b!=-1){R[U]=[b,b+B[l].length];
q++;break}}if(q==B.length){Q.push(n[v]);a.push(R)}}var D=[],c=this.h4;V.cV(c);for(var v=0;v<Q.length;
v++){var _=Q[v],p=_[0],b=a[v],X="enab",F="";if(v==this._9)X+=" active";var g=V.d("div",X);D.push(g);
c.appendChild(g);for(var U=0;U<p.length;U++){var k=b[U],I=B[U],e=p[U];if(k!=-1)e=e.slice(0,k[0])+"<span style=\"color:black\">"+e.slice(k[0],k[1])+"</span>"+e.slice(k[1]);
F+=e;if(U<p.length-1)F+=" \uFE65 "}if(_[2]&&(typeof _[2]!="string"||_[2].length==1))F+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+i8.da(_[2])+"</span>";
g.innerHTML=F}this.ji=[Q,D]};gV.prototype.amA=function(j){var n=i8.Uq,Q=j.code;if(n(Q,i8.tf))this.N5();
var a=n(Q,i8.er),B=n(Q,i8.R6),m=n(Q,i8.mI);if(a||B){this._9=Math.max(0,Math.min(this.ji[0].length-1,this._9+(a?-1:1)));
this.HD()}if(m&&this._9!=-1)this.a8P(this._9)};gV.Yj=function(j,n,Q,a,B,m,R){if(typeof R=="number"){if(R==0)return;
if(R==1)R=null}for(var v=0;v<j.length;v++){if(R!=null&&(R[v]==0||R[v]==null))continue;var q=j[v],U=n.slice(0),l=Q.slice(0),b=i4.get(q.name);
if(q.m){var D=q.m(B,m,v);if(D.Zy)b=D.Zy;if(D.m==!1)continue}U.push(b);l.push(v);if(q.sub)gV.Yj(q.sub,U,l,a,B,m,R?R[v]:null);
else a.push([U,l,q.Ha])}};gV.prototype.awP=function(j){var n=j.target;if(n.tagName.toLowerCase()=="span")n=n.parentNode;
var Q=this.ji[1].indexOf(n);if(Q!=-1)this.a8P(Q)};gV.prototype.a8P=function(j){var n=this.ji[0][j][1];
if(n[0]==-1){var Q=new ar(x.E.B,!0);Q.data={Q:x.l.pY,I:n[1]};this.a(Q)}else{var a=fZ.data[n[0]].H7[n[1]];
for(var v=2;v<n.length;v++)a=a.sub[n[v]];var B=new ar(a.o,!0);B.I=a.I;B.data=a.h;this.a(B)}this.N5()};
gV.prototype.rs=function(j,n){this.Uw=j;this.WC=n;this.h4.style["max-height"]=n-120+"px"};gV.prototype.aj8=function(j){var n=V.d("div","alertpanel");
n.textContent=i4.get(j);this.aAv.appendChild(n);this.aB4[JSON.stringify(j)]=n};gV.prototype.aE2=function(j){var n=this.aB4[JSON.stringify(j)];
this.aAv.removeChild(n);delete this.aB4[JSON.stringify(j)]};gV.prototype.arG=function(j,n){var Q=this.aep;
for(var v=0;v<Q.children.length;v++)if(Q.children[v].textContent==j)return;var a=V.d("div","alertpanel tpanel");
a.textContent=j;V.v(a,"opacity:0.5; transform:scale(0.9)\t");Q.appendChild(a);if(n==null)n=1500;var B=n,m=Math.max(Date.now()+B,this.ao2+B);
setTimeout(function(){V.v(a,"transform:scale(1); opacity:1;")},10);setTimeout(function(){V.v(Q,"margin-top: -3.6em; transform: translateY(3.6em);")},m-Date.now()-30);
setTimeout(function(){Q.removeChild(Q.firstChild);V.v(Q,"transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},m-Date.now());
this.ao2=m};gV.prototype.aHp=function(j){var n=this.UK;for(var v=n.length-1;v>=0;v--){var Q=n[v],a=j.target;
while(a!=null){if(a==Q.Z){this.sw(Q);return}a=a.parentNode}}this.sw();var B=j.target;while(B!=this.j5&&B!=document.body)B=B.parentNode;
if(B!=this.j5)this.N5()};gV.prototype.sw=function(j){var n=this.UK;for(var v=0;v<n.length;v++){if(j&&j.awe(n[v]))continue;
var Q=n[v].Z;if(!(n[v]instanceof ig))V.XX(n[v],this.Z);else this.Z.removeChild(Q);Q.style.height="auto";
V.yZ(Q,"scrollable");n.splice(v,1);v--}};gV.prototype.avM=function(j){this.sw(j.cB);var n=j.cB,Q=n.Z;
if(this.UK.indexOf(n)!=-1)return;this.UK.push(n);this.Z.appendChild(Q);var a=this.Uw,B=this.WC,m=j.x,R=j.y,q=this.Z.getBoundingClientRect(),U=n instanceof ig,l=-1,b=B-2;
if(U||j.qP){var D=n.Wy(),c=n.a7k();if(U)D=Math.min(D,200);var _=a-D-2,p=B-c-2;if(R<p)l=2;else if(m<_)l=1;
else if(0<R-c-2)l=0;else l=3;if(j.abq)l=0;if(j.adT)l=2;if(l==2){m=Math.min(m,_)}else if(l==1){R=Math.min(R,p)}else if(l==0){R=R-c-2;
m=Math.min(m,_);b=j.y}else if(l==3){m=m-D-2;R=Math.min(R,p)}}R=Math.max(2,R);var top=Math.round(R-q.y+this.Z.offsetTop);
Q.style.position="absolute";Q.style["z-index"]=10;if(R+n.a7k()>b){Q.style.height=b-R+"px";V.BZ(Q,"scrollable");
if(l==3)m-=10}Q.style.left=Math.round(m)+"px";Q.style.top=top+"px";if(!(n instanceof ig))V.di(n)};gV.prototype.a9s=function(j){var n=j.cB,Q=this.UK.indexOf(n);
if(Q==-1)return;this.UK.splice(Q,1);var a=n.Z;if(!(n instanceof ig))V.XX(n,this.Z);else this.Z.removeChild(n.Z)};
gV.prototype.rE=function(){var j=this.UK;return j.length==0?null:j[j.length-1]};gV.prototype.a40=function(){this.a9s({cB:this.rE()})};
function bm(){eD.call(this);this.Z=V.d("div","confbar")}bm.prototype=new eD;bm.prototype.aB7=function(j){j.parent=this;
V.cV(this.Z);this.Z.appendChild(j.Z)};function bR(){eD.call(this);var j=this.Z=V.d("div","toolconf");
j.style.marginLeft="40px";this.aDc=null;this.e8=null;this.Q3=[new f_(0),new f_(1),new i7([14,9],0,100,"px"),new jg(!0),new i7([12,0],0,100,"%",0)];
for(var v=0;v<this.Q3.length;v++){var n=this.Q3[v];n.parent=this;n.P(x.E.f,this.aBz,this);j.appendChild(n.Z)}var Q=this.$g=new de;
this.$g.parent=this;this.asS=new kC("Tt:");var a=this.Ib=V.d("span");j.appendChild(a);a.appendChild(this.asS.Z);
a.appendChild(Q.Wn.Z);a.appendChild(Q.Me.Z);a.appendChild(Q.aD.Z)}bR.prototype=new eD;bR.prototype.aBz=function(j){var n=this.Q3.indexOf(j.target),Q=j.target.j();
if(n==4){var a=new ar(x.E.A,!0);a.I=N.ir;a.data={Q:f.pc,L3:Math.round(255*Q/100)};this.a(a);return}var B=K.u(this.aDc.no);
if(n<2){var m,R=Q;if(n==0){m=B.vg;B.vg=R}else{m=B.tY;B.tY=R}if(m.length!=R.length){var q=[1,0,0,1,0,0];
if(m.length==4){q=m[3].slice(0);q[1]*=-1;q[2]*=-1}if(m.length==2){q=m[1][1].slice(0)}if(R.length==4){R[2]=[0,0,0,1,1,0,0];
R[3]=q;q[1]*=-1;q[2]*=-1}if(R.length==2){R[1]=[[0,0,1,1,0,0,0,0,0],q]}}}if(n==2)B.Sn=Q;if(n==3)B=Q;var a=new ar(x.E.B,!0);
a.data={Q:x.l.m6,_X:b3.gl,J:B};this.a(a)};bR.prototype.S=function(){for(var v=0;v<this.Q3.length;v++)this.Q3[v].S();
this.$g.S()};bR.prototype.DZ=function(j,n){this.e8=j;this.Q3[0].gn(j);this.Q3[1].gn(j)};bR.prototype.pX=function(j){if(j.X.length==0)return;
var n=j.T[j.X[0]];this.Q3[4].p(Math.round(n.wT*100/255));V.v(this.Ib,"line-height:1.5em; display:"+(n.add.TySh?"":"none"))};
bR.prototype.sW=function(j,n){this.aDc=j;var Q=j.no,a=this.e8;this.Q3[0].p(Q.vg,a);this.Q3[1].p(Q.tY,a);
if(Q.Sn!=null)this.Q3[2].p(Q.Sn);this.Q3[3].p(Q);this.$g.p(j.ix,j.wR,j.K$)};function aL(j){eD.call(this);
aL.ht=this;aL.dl=j;this.H=null;this.P_=V.d("input","");this.P_.setAttribute("type","file");this.P_.setAttribute("multiple","");
this.P_.addEventListener("change",function(n){this.x4(n.target.files,null,this.Sr,null);this.Sr=null}.bind(this),!1);
document.body.appendChild(this.P_);V.v(this.P_,"display:none");this.aBX=[];this.ayl=!1;this.aA9=[];this.a1g=!1;
this.akl={};this.Sr=null}aL.prototype=new eD;aL.dl=null;aL.MC=function(j){try{var n={};n[j.type]=j;navigator.clipboard.write([new ClipboardItem(n)])}catch(bY){console.error(bY,bY.message)}};
aL.I1=function(j,n){navigator.clipboard.read().then(function(Q){for(var v=0;v<Q.length;v++){try{var a=Q[v],B={},m=0,R=0;
for(var q=0;q<a.types.length;q++){var U=a.types[q];m++;a.getType(U).then(function(l){var b=U;new Response(l).arrayBuffer().then(function(D){B[this.m_]=D;
R++;if(R==m)aL.ati(B,j,n)}.bind({m_:this.m_}))}.bind({m_:U}))}}catch(bY){console.error(bY,bY.message)}}}).catch(function(Q){alert("Please, give us permissions to access your clipboard.")})};
aL.a4y=function(j){navigator.permissions.query({name:"clipboard-read"}).then(function(n){j(n.state)})};
aL.ati=function(j,n,Q){var a=["text/plain","image/png","text/html","text/plain"];for(var B in j)console.log(B,B.startsWith("text")?L.Cl(new Uint8Array(j[B])).slice(0,100)+"...":j[B]);
for(var m=0;m<a.length;m++){var R=a[m],q=j[R];if(q==null)continue;if(R=="image/png"){aL.dl({name:"image.png"},q,n,Q);
return}if(R=="text/plain"){var U=L.Cl(new Uint8Array(q));if(m==0)if(!U.startsWith("<!--")&&!U.startsWith("<svg"))continue;
if(Q&&U.startsWith("<svg"))continue;var l=new ar(x.E.B,!0);l.data={Q:x.l.aeR,J:U};n.a(l);return}if(R=="text/html"){var U=L.Cl(new Uint8Array(q)),b=U.indexOf("src=\"");
if(b!=-1&&U.slice(b+5,b+9)!="http"){var D=b+10;while(U[D]!="\"")D++;var c=U.slice(b+5,D);aL.dl({name:"chart.png"},fj.ME(c).buffer,n,Q);
return}}}};aL.prototype.wi=function(j){if(j==null)j=[23,5];var n=JSON.stringify(j),Q=this.akl;if(Q[n]==null)Q[n]=0;
if(Q[n]==0){var a=new ar(x.E.B,!0);a.data={Q:x.l.L_,Sw:j};this.a(a)}Q[n]++};aL.prototype.el=function(j){if(j==null)j=[23,5];
var n=JSON.stringify(j),Q=this.akl;if(Q[n]==null)Q[n]=0;Q[n]--;if(Q[n]==0){var a=new ar(x.E.B,!0);a.data={Q:x.l.MX,Sw:j};
this.a(a)}};aL.prototype.aGY=function(j,n,Q){this.Sr=j;var a=window.showOpenFilePicker;if(Q)a=null;if(a&&window.self==window.top){var B=this;
a({multiple:!0}).then(function(q){var U=[];function l(b){U.push(b);if(U.length==q.length){B.x4(U,null,B.Sr,null,q);
B.Sr=null}else q[U.length].getFile().then(l)}q[U.length].getFile().then(l)});return}var m=this.P_;if(n)m.setAttribute("accept",n);
else m.removeAttribute("accept");var R=document.createEvent("MouseEvents");R.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
m.dispatchEvent(R)};aL.prototype._Y=function(j){if(j.url.indexOf("photopea.com#i")!=-1||j.url.indexOf("photopea.com/#i")!=-1){this.LV(j.url.split("#i").pop());
return}this.aBX.push(j);this.aDO()};aL.prototype.aDO=function(){var j=this.aBX;if(j.length==0||this.ayl)return;
this.ayl=!0;var n=j.shift();this.wi();if(n.rf==null)n.rf={};var Q=new XMLHttpRequest;Q.Y7=n;var a=n.url;
if(n.e$&&!a.startsWith("data:image"))a="mirror.php?url="+encodeURIComponent(a);Q.open("GET",a);if(n.akY)for(var B in n.akY)Q.setRequestHeader(B,n.akY[B]);
Q.responseType="arraybuffer";Q.onload=this.a1q.bind(this);Q.send()};aL.prototype.x4=function(j,n,Q,a,B){for(var v=0;
v<j.length;v++){this.wi();var m=j[v],R=new FileReader;R.Y7=m;R.Y7.SE=Q;R.Y7.gZ=a;R.a15=n;if(B)R.Y7.VU=B[v];
R.onload=this.a1q.bind(this);R.onerror=function(q){this.el()}.bind(this);this.aA9.push([R,m])}this.P_.value=null;
this.aa3()};aL.prototype.aa3=function(){var j=this.aA9;if(j.length==0||this.a1g)return;this.a1g=!0;var n=j.shift();
n[0].readAsArrayBuffer(n[1])};aL.prototype.a4M=function(j,n,Q){this.wi("Saving ...");this.H=n;setTimeout(Q.bind({Vo:j,caller:this}),50)};
aL.i7=function(j){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=new Uint8Array(j),a=Q.length,B=a%3,m=a-B,R=[],q=0,U=0,l=0;
for(var v=0;v<m;v+=3){q=Q[v];U=Q[v+1];l=Q[v+2];R.push(n[q>>2]+n[(q&3)<<4|U>>4]+n[(U&15)<<2|l>>6]+n[l&63])}if(B==1){q=Q[m];
R.push(n[q>>2]+n[(q&3)<<4]+"==")}if(B==2){q=Q[m];U=Q[m+1];R.push(n[q>>2]+n[(q&3)<<4|U>>4]+n[(U&15)<<2]+"=")}var b=R.join("");
return b};aL.aCG=function(j,n){var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(64),q=0,U=0,l=0,D=0;
for(var v=0;v<64;v++)a[v]=Q.charCodeAt(v);var B=new Uint8Array(j),m=n%3,R=n-m,b=new Uint8Array(Math.floor(n/3)*4+(m==0?0:4));
for(var v=0;v<R;v+=3){q=B[v];U=B[v+1];l=B[v+2];b[D]=a[q>>>2];b[D+1]=a[(q&3)<<4|U>>>4];b[D+2]=a[(U&15)<<2|l>>>6];
b[D+3]=a[l&63];D+=4}if(m==1){q=B[R];b[D]=a[q>>2];b[D+1]=a[(q&3)<<4];b[D+2]=61;b[D+3]=61}if(m==2){q=B[R];
U=B[R+1];b[D]=a[q>>2];b[D+1]=a[(q&3)<<4|U>>4];b[D+2]=a[(U&15)<<2];b[D+3]=61}return b};aL.prototype.a1q=function(j){var n,Q=j.target.Y7;
if(j.target instanceof XMLHttpRequest)n=j.target.response;else n=j.target.result;aL.dl(Q,n,this,j.target.a15);
this.el();if(j.target instanceof XMLHttpRequest){this.ayl=!1;this.aDO()}else{this.a1g=!1;this.aa3()}};
aL.auG=function(j,n){var Q=new XMLHttpRequest;Q.open("POST","https://api.imgur.com/3/image",!0);Q.$X=n;
Q.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Q.setRequestHeader("Accept","application/json");Q.addEventListener("load",aL.a3d);Q.send("type=base64&image="+encodeURIComponent(aL.i7(j)));
alert("Saving to Imgur ...",4e3)};aL.a3d=function(j){var n=JSON.parse(j.target.response);if(n.success){if(j.target.$X)j.target.$X(n.data.link);
else window.open(n.data.link,"Imgur")}};aL.prototype.LV=function(j,n,Q){this.wi();var a=new XMLHttpRequest;
a.responseType="arraybuffer";a.open("GET","https://f000.backblazeb2.com/file/"+(Q?"pp-resources":"psdshared")+"/"+j);
a.onload=this.azt.bind(this);a.send();a.QI=[Date.now(),j,n?j:null,Q]};aL.prototype.azt=function(j){var n=j.target.QI,Q=new Uint8Array(j.target.response);
console.log(Q.length+" B,",Date.now()-n[0]+" ms");for(var v=0;v<Q.length;v++)Q[v]=255-Q[v];Q=pako.inflateRaw(Q);
var a=JSON.parse(L.Cl(Q,0,2e3));aL.dl({name:a.name,Pd:n[2]},Q.slice(2e3).buffer,this);this.el();if(!n[3])aL.qd("act=0&id="+n[1])};
aL.prototype.aq_=function(j,n,Q,a){if(!(j instanceof ArrayBuffer))throw"e";j=new Uint8Array(j);var B=new Uint8Array(j.length+2e3),c="";
for(var v=0;v<2e3;v++)B[v]=32;L._e(JSON.stringify({name:n}),B,0);B.set(j,2e3);j=B;j=pako.deflateRaw(j);
for(var v=0;v<j.length;v++)j[v]=255-j[v];j=j.buffer;var m=j.byteLength,R=je.LK(m),q=~~(609e5/2),U=~~(209e5/2);
if(m>q){confirm("Your file is "+R+". Our limit is "+je.LK(q)+". Delete some layers and try again.");
return}if(m>U){var l=confirm("Your file is quite large ("+R+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!l)return}var b=sha1(j),D=[];for(var v=0;v<20;v++){var _=parseInt(b.slice(v*2,v*2+2),16);D.push(_);
c+=String.fromCharCode(_)}var p=btoa(c).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(aL.axa(p,a)){console.log("file already exists");
if(Q)Q(p);else window.open("https://www.photopea.com#i"+p+".psd");return}this.wi("Publishing ...");var X=new XMLHttpRequest;
X.QI=[j,b,p,Q,a];X.open("GET",bv.xU("papi/img/publish.php?rnd="+Math.random()+"&id="+p+"&size="+m+"&bname="+a));
X.onload=this.ayL.bind(this);X.send()};aL.axa=function(j,n){try{var Q=new XMLHttpRequest;Q.open("HEAD","https://f000.backblazeb2.com/file/"+n+"/"+j,!1);
Q.send();if(Q.status==200)return!0}catch(bY){return!1}return!1};aL.prototype.ayL=function(j){console.log(j.target.response);
var n=JSON.parse(j.target.response),Q=j.target.QI,a=new XMLHttpRequest;a.open("POST",n.uploadUrl);a.setRequestHeader("Authorization",n.authorizationToken);
a.setRequestHeader("X-Bz-File-Name",Q[2]);a.setRequestHeader("Content-Type","b2/x-auto");a.setRequestHeader("X-Bz-Content-Sha1",Q[1]);
a.send(new Blob([Q[0]]));a.onload=this.aa5.bind({xo:this,QI:Q})};aL.prototype.aa5=function(j){this.xo.el("Publishing ...");
if(this.QI[3])this.QI[3](this.QI[2]);else window.open("https://www.photopea.com#i"+this.QI[2]+".psd");
if(this.QI[4]=="psdshared")aL.qd("act=2&id="+this.QI[2]+"&fileId="+JSON.parse(j.target.response).fileId)};
aL.qd=function(j){var n=new XMLHttpRequest;n.open("GET","/papi/img/update.php?"+j+"&rnd="+Math.random());
n.send()};aL.save=function(j,n){var Q=new Uint8Array(j),a=document.createElement("a");if(typeof a.download=="string"){var B=new Blob([Q]),m=window.URL.createObjectURL(B);
a.href=m;a.download=n;document.body.appendChild(a);a.click();document.body.removeChild(a)}else{var R="data:application/octet-stream;base64,"+aL.i7(j);
window.open(R)}};function e3(){this.size=16;this.data=K.U(16)}e3.prototype.G2=function(j,n){if(j+n<=this.size)return;
var Q=this.size;while(j+n>this.size)this.size*=2;var a=K.U(this.size);for(var v=0;v<Q;v++)a[v]=this.data[v];
this.data=a};var i3={};i3.kg=function(j,n,Q,a){var B=n.split(":"),m=B[0];if(B.length==2){if(m=="jpg")a=[Math.round(100*parseFloat(B[1]))];
if(m=="webp")a=[Math.round(100*parseFloat(B[1]))];if(m=="psd")a=[!0,!0,!1,!1,!1];if(m=="svg")a=B[1].split(",").map(function(q){return q=="true"});
if(m=="jpg"||m=="webp")if(j.M3())a.push(!1)}var R=fj.gT(j,m.toUpperCase(),null,null,a,Q);return R};i3.asj=function(j,n,Q){var a=j.rd(),B=n[0];
return i3.kg(j,B,Q)};i3.ayI=function(){var j=this.Vo,n=this.caller,Q=j.rf.Ph,a=Q.formats,B,m;j.rd();
var R=Date.now();if(Q.version==1){var q=[],U=0,b=0;for(var v=0;v<a.length;v++){var l=i3.kg(j,a[v],n.H);
q.push(l);U+=l.byteLength}B=new Uint8Array(2e3+U);var D="{ \"source\": "+JSON.stringify(j.Sh)+", \"versions\": [\n";
for(var v=0;v<a.length;v++){var c=new Uint8Array(q[v]);D+="\t{\"format\": \""+a[v].split(":")[0]+"\", \"start\": "+b+", \"size\": "+c.length+" }"+(v+1<a.length?", ":"")+"\n";
B.set(c,2e3+b);b+=q[v].byteLength}D+="] }";var _=L._e(D,B,0);for(var v=_;v<2e3;v++)B[v]=32;m="application/octet-stream"}else{var p=new e3,X=0,g="",F=encodeURIComponent;
g="p="+F("{ \"source\": "+JSON.stringify(j.Sh)+", \"versions\": [");L.GJ(p,X,g);X+=g.length;for(var v=0;
v<a.length;v++){g=F(" {\"format\": \""+a[v].split(":")[0]+"\", \"data\": \"");L.GJ(p,X,g);X+=g.length;
var l=i3.kg(j,a[v],n.H),k=aL.aCG(l,l.byteLength),_=k.length;p.G2(X,_);for(var I=0;I<_;I++){p.G2(X,3);
var e=k[I];if(e==43){p.data[X]=37;p.data[X+1]=50;p.data[X+2]=66;X+=3}else if(e==47){p.data[X]=37;p.data[X+1]=50;
p.data[X+2]=70;X+=3}else if(e==61){p.data[X]=37;p.data[X+1]=51;p.data[X+2]=68;X+=3}else{p.data[X]=e;
X++}}g=F("\" }"+(v+1<a.length?", ":""));L.GJ(p,X,g);X+=g.length}g=F("] }");L.GJ(p,X,g);X+=g.length;B=p.data.slice(0,X);
m="application/x-www-form-urlencoded"}var H=new XMLHttpRequest;H.open("POST",Q.url,!0);if(m)H.setRequestHeader("Content-Type",m);
H.addEventListener("load",i3.aGw.bind(this));H.send(new Blob([B.buffer]))};i3.aGw=function(j){this.caller.el("Saving ...");
var n=j.target.response;if(n.charAt(0)=="{"){n=JSON.parse(n);if(n.newSource)this.Vo.Sh=n.newSource;if(n.message)alert(n.message,2e3);
if(n.script){var Q=new ar(x.E.B,!0);Q.data={Q:x.l.X4,Lo:n.script};this.caller.a(Q)}}else alert("Saved. Response: "+n,1500)};
i3.aCw=function(j){var n=j.dS,Q=n[1].split(".").pop(),a=i3.kg(j,Q,null,Q=="psd"&&n[0]==1?[!0,!1,!0,!1]:null),B=Storage.sB(n[0]);
return B.ar7(n[1],a)};i3.acO=function(j,n){var Q=j.FQ.Y9;if(n==null)n=i3.kg(j,Q);dB.Ry(function(){var a=new XMLHttpRequest,B="https://www.googleapis.com/upload/drive/v3/files/"+j.FQ.file.id+"?uploadType=media"+"&"+dB.az3();
a.open("PATCH",B,!0);a.addEventListener("load",function(m){var R=JSON.parse(m.target.response);alert(R.name+" updated")});
a.send(n);alert("Saving \""+j.FQ.file.name+"\" to Google Drive ...")})};i3.dl=function(j,n,Q,a){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)i3.a2v(j,n,Q,a);
else{try{i3.a2v(j,n,Q,a)}catch(bY){if(bY=="low_ram"){}else{var B=fj.Ot(n),m="Error. Please, send your file to support@photopea.com and we will solve it.";
if(B=="psd")m="Error. If some other program can open your file, but Photopea can't, send your file to support@photopea.com and we will solve it.";
if(fj.Ot(n)=="eps")m="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(m,1e4)}}}};i3.a2v=function(j,n,Q,a){var B;if(j.name){var m=j.name.lastIndexOf(".");B=m==-1?j.name:j.name.slice(0,m)}else{if(j.url.substring(0,5)=="data:")B="image";
else B=j.url.substring(j.url.lastIndexOf("/")+1).split(".")[0];B=B.slice(0,50)}var R=j.name?j.name:j.url,q=new Uint8Array(n),U=fj.Ot(n);
if(U!=null&&fj.Mi(U))bv.event("fmt_"+U,.1);if(U==null)U=L.AP(q,0,4);if(U=="ai"&&R&&R.toLowerCase().endsWith(".pdf"))U="pdf";
if(R&&R.toLowerCase().endsWith(".raw")&&U!="tiff"){var l=new ar(x.E.B,!0);l.data={Q:x.l.Vg,Z8:"importraw",Av:n,yR:R.split("/").pop()};
Q.a(l);return}else if(U=="json"){var b="";for(var v=0;v<q.length;v++)b+=String.fromCharCode(q[v]);b=decodeURIComponent(escape(b));
var D=JSON.parse(b);if(D.name&&D.url){var l=new ar(x.E.B,!0);l.data={Q:x.l.ar3,J:D};Q.a(l)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(D)}return}if(U=="html"){var b=L.Cl(q,0,q.length),c=new DOMParser,_=c.parseFromString(b,"text/html"),p=_.getElementsByTagName("meta");
for(var v=0;v<p.length;v++){var X=p[v],g=X.getAttribute("property"),F=X.getAttribute("content"),k=null;
if(g=="og:image")k=F;if(g==null&&F&&F.startsWith("0;url=/imgres?")){var I=F.slice(14).split("&");for(var e=0;
e<I.length;e++)if(I[e].startsWith("imgurl"))k=decodeURIComponent(I[e].slice(7))}if(k==null)continue;
var l=new ar(x.E.B,!0);l.data={Q:x.l.JH,_X:{url:k,e$:!0,SE:j.SE}};Q.a(l)}return}if(fj.Mi(U)){var H,A,Z=fj.Mi(U);
if(j.SE!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(U)!=-1){var l=new ar(x.E.B,!0);if(0<=j.SE)l.data={Q:x.l.eX,target:j.SE,OK:j.gZ,uM:n,vc:B};
else{l=new ar(x.E.A,!0);l.data={Q:f.kO,data:new Uint8Array(n),yR:B+"."+U};l.I=N.ir}Q.a(l);return}var J=[B,Z,U,j,Q,a,n];
if(Z.ps){var s=fL==0?"psd":"ai";H=new hs(B+(U==s?"":"-"+U)+"."+s);Z.z5(n,H,i3.q1,J)}else{A=Z.z5(n,null,i3.q1,J,Q);
if(A==null)return}if(Z.VB!=!0)i3.q1(H,A,J);else Q.wi();return}var E=new ar(x.E.B,!0);E.data={Q:x.l.nT,Av:n,DA:j.name};
var z=j instanceof File&&j.avB!=!0,l=new ar(x.E.B,!0);l.data={Q:x.l.m6,rf:"add",_X:null,uU:null,amo:j.avB};
if(U=="zip"){var h=Date.now(),d=UZIP.parse(n),Y="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var C in d){var i=!1;for(var v=0;v<Y.length;v++)if(C.toLowerCase().endsWith("."+Y[v]))i=!0;if(C.startsWith("__MACOSX/")||d[C].length==0)i=!0;
if(i)continue;var M=C.split("/").pop();i3.dl({name:M},d[C].buffer,Q,a)}}else if(U=="jsx"||R&&R.toLowerCase().endsWith(".jsx")){if(z)Q.a(E);
var b=L.Cl(new Uint8Array(n));l.data={Q:x.l.X4,Lo:b};Q.a(l)}else if(U=="otf"){if(z)Q.a(E);var W=Typr.parse(n);
l.data._X=b3.GM;for(var v=0;v<W.length;v++){l.data.uU=W[v];Q.a(l)}}else if(U=="asl"){if(z)Q.a(E);var W=ek.by(n,R);
l.data._X=b3.PT;l.data.uU=W.aF;Q.a(l);l.data._X=b3.mt;l.data.uU=W.oK;Q.a(l)}else if(U=="tpl"){if(z)Q.a(E);
var W=hZ.by(n);l.data._X=b3.o9;l.data.uU={wP:W.wP,jy:W.jy,list:[]};Q.a(l);if(W.aui.length!=0){l.data._X=b3.RX;
l.data.uU=W.aui;Q.a(l)}if(W.oK.length!=0){l.data._X=b3.mt;l.data.uU=W.oK;Q.a(l)}l.data._X=b3.jq;l.data.uU=W.list;
Q.a(l)}else{var $="";for(var P in b3.XN)if(b3.XN[P][0]==U)$=P;if($!=""){if(z)Q.a(E);l.data.uU=b3.XN[$][2].by(n,R);
l.data._X=$;Q.a(l)}else if(n.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(U))}};
i3.q1=function(j,n,Q){var a=Q[0],B=Q[1],m=Q[2],R=Q[3],q=Q[4],U=Q[5],l=Q[6];if(B.VB)q.el();if(!B.ps){if(n.length==0)return;
if(n[0].t33421||n[0].t50706){K.raw.normalize(n[0],l);console.log(n[0]);var b=new ar(x.E.B,!0);b.data={Q:x.l.Vg,Z8:"rawpea",_x:n[0]};
q.a(b);return}if(U){U(new Uint8Array(n[0].data),n[0].nJ);return}j=fj.og(a,n)}j.Pd=R.Pd;j.sQ=m;j.rf=R.rf;
j.Sh=R.url;j.rN=R.rN;j.FQ=R.FQ;j.VU=R.VU;j.dS=R.dS;if(j.FQ)j.FQ.Y9=m;if(j.T.length!=0){var b=new ar(x.E.B,!0);
b.data={Q:R.SE==null?x.l.kI:x.l.eX,target:R.SE,OK:R.gZ,uM:j};q.a(b)}};function eW(j){eD.call(this);this.dX=eW.dX++;
this.mq=j;this.aDq=this.ayf.bind(this);this.aGX=this.a25.bind(this);this.as0=this.t8.bind(this);this.aoQ=this.aIc.bind(this);
this.afE=this.axN.bind(this);this.ajo=this.ae9.bind(this);this.r0=0;this.aEo=0;this.apH=0;this.Z=V.d("div","panelblock");
this.$C=V.d("div","block");this.cY=V.d("div","collapsed");this.Z.appendChild(this.$C);this.Kw=-1;this.Vn=!0;
this.cP=V.d("div","panelhead");this.$C.appendChild(this.cP);this.yw(this.cP);this.aGn=new ef("\u2261");
V.v(this.aGn.Z,"position:absolute; right:4px;");this.aGn.P("click",this.ac$,this);this.KF=V.d("div","body");
this.$C.appendChild(this.KF);this.IH=[];this.bR=null;this.lx=null}eW.dX=0;eW.prototype=new eD;eW.uu=26.1;
eW.prototype.ac$=function(j){var n=this.IH[this.Kw].Pu(),Q=j.currentTarget.Z.getBoundingClientRect();
n.S();n.update();n.parent=this;var a=new ar(x.E.B,!0);a.data={Q:x.l.Ix,cB:n,x:Q.left,y:Q.top+Q.height+2};
this.a(a)};eW.prototype.fg=function(j){var n=this.$C,Q=this.cP,a=this.KF;if(V.gU(Q))n.removeChild(Q);
if(V.gU(a))n.removeChild(a);if(j==0)n.appendChild(Q);n.appendChild(a);this.apH=j};eW.Ju=function(j){j.stopPropagation();
j.preventDefault()};eW.prototype.ayf=function(j){var n=j.dataTransfer.types;if(n[1]!=null&&n[1]!=this.dX+"")return;
eW.Ju(j);var dv=j.currentTarget;if(j.target==dv)V.BZ(dv,"highlight")};eW.prototype.a25=function(j){eW.Ju(j);
var dv=j.currentTarget;if(j.target==dv)V.yZ(dv,"highlight")};eW.prototype.yw=function(j){j.addEventListener("dragenter",this.aDq,!1);
j.addEventListener("dragleave",this.aGX,!1);j.addEventListener("dragover",eW.Ju,!1);j.addEventListener("drop",this.as0,!1);
j.addEventListener("dragstart",function(n){n.dataTransfer.setData("Text","--panel");n.dataTransfer.setData(this.dX+"","")}.bind(this),!1)};
eW.prototype.t8=function(j){this.aGX(j);var n=null,dv=j.currentTarget,Q=this.ayg(dv);if(dv==this.KF&&this.Kw!=-1)n=this.Kw;
else if(dv==this.cP)n=null;else if(Q!=-1)n=Q;var a=j.dataTransfer.getData("Text");if(a==""||a.startsWith("http")||a.startsWith("data:image/"))V.DJ(j,this,n);
else if(a=="--panel"){var B=V.MR(j,dv),m=this.IH,R=m.slice(0),v=this.Kw,q=Q==-1?m.length:B.x<dv.getBoundingClientRect().width/2?Q:Q+1;
if(v==q||v+1==q||dv==this.KF)return;var U=v<q?q-1:q,l=m[v];m.splice(v,1);m.splice(U,0,l);V.cV(this.cP);
for(var b=0;b<m.length;b++)this.cP.appendChild(m[b].pD);this.gW(U);var D=[];for(var v=0;v<m.length;v++)D[v]=R.indexOf(m[v]);
var c=new ar("shuffleItems",!1);c.data={acR:D};this.a(c)}else if(n!=null&&this instanceof br){var c=new ar(x.E.B,!0);
c.data={Q:x.l.a2J,a54:n};this.a(c)}};eW.prototype.e3=function(){return null};eW.prototype.aAA=function(){if(this.e3()){this.cP.style.padding="0px";
this.lx=this.e3();this.KF.appendChild(this.lx);this.Vs.Q7(!1);var j=new ar(x.E.B,!0);j.data={Q:x.l.dt,J:1};
this.a(j)}};eW.prototype.a94=function(){if(this.lx){this.cP.style.padding="";this.KF.removeChild(this.lx);
this.lx=null;this.Vs.Q7(!0);var j=new ar(x.E.B,!0);j.data={Q:x.l.dt,J:0};this.a(j)}};eW.prototype.ayg=function(j){var n=this.IH;
for(var v=0;v<n.length;v++)if(n[v].pD==j)return v;return-1};eW.prototype.bK=function(){for(var v=0;v<this.IH.length;
v++)this.IH[v].PO.Qj()};eW.prototype.rR=function(){return this.Kw};eW.prototype.GQ=function(){if(this.Vn)return;
this.Vn=!0;this.Z.removeChild(this.cY);this.Z.appendChild(this.$C)};eW.prototype.collapse=function(){if(!this.Vn)return;
this.Vn=!1;this.Z.appendChild(this.cY);this.Z.removeChild(this.$C)};eW.prototype.uu=function(){var j=0;
if(this.apH==0){j=this.cP.getBoundingClientRect().height+1;j=Math.max(j,eW.uu)}return j};eW.prototype.a8V=function(){return this.uu()+this.KF.getBoundingClientRect().height};
eW.prototype.rs=function(j,n){this.cP.style.maxWidth=j+"px";var Q=this.uu();if(this.Kw!=-1)this.IH[this.Kw].rs(j,n-Q);
return n-Q};eW.prototype.sW=function(j,n){if(this.Kw!=-1)this.IH[this.Kw].sW(j,n)};eW.prototype.pX=function(j,n,Q){this.IH[this.Kw].pX(j,n,Q)};
eW.prototype.N$=function(j){this.a94();if(this.IH.indexOf(j)!=-1){this.gW(this.IH.indexOf(j));return}j.parent=this;
this.IH.push(j);this.cP.appendChild(j.pD);j.pD.addEventListener("mouseover",this.aoQ,!1);this.yw(j.pD);
this.cY.appendChild(j.PO.Z);j.PO.P("click",this.at4,this);j.P("select",this.a0B,this);j.P(x.E._g,this.aw0,this);
this.gW(this.IH.length-1)};eW.prototype.aIc=function(j){if(j.buttons==0)return;var n=j.currentTarget,Q=n,v=0;
while((Q=Q.previousSibling)!=null)v++;this.aEo=v;n.addEventListener("mouseout",this.afE,!1);this.r0=setTimeout(this.ajo,700)};
eW.prototype.axN=function(j){var n=j.currentTarget,Q=n,v=0;while((Q=Q.previousSibling)!=null)v++;n.removeEventListener("mouseout",this.afE);
clearTimeout(this.r0)};eW.prototype.ae9=function(j){this.a(new ar(x.E.a0q,!1))};eW.prototype.age=function(j){return this.aEo};
eW.prototype.aT=function(v){var j=new ar(x.E._g,!1);j.data={sP:v};this.a(j);var n=this.IH[v];this.IH.splice(v,1);
this.cP.removeChild(n.pD);this.cY.removeChild(n.PO.Z);n.pD.className="";n.PO.removeEventListener("click",this.at4,this);
n.PO.Qj();n.removeEventListener("activate",this.a0B);n.removeEventListener(x.E._g,this.aw0);var Q=this.Kw;
if(v<Q)Q--;else if(v==Q&&v==this.IH.length)Q--;this.gW(Q);if(this.IH.length==0)this.aAA()};eW.prototype.abz=function(){return this.IH.length};
eW.prototype.ka=function(){if(this.IH.length!=0)this.IH[this.Kw].ka()};eW.prototype.gW=function(j,n){if(n==null)n=!0;
for(var v=0;v<this.IH.length;v++)this.IH[v].pD.className="";if(this.bR)this.KF.removeChild(this.bR);
this.bR=null;this.Kw=j;if(j==-1)return;var Q=this.IH[this.Kw];this.bR=Q.I_;this.KF.appendChild(Q.I_);
Q.pD.className="active";if(!this.Vn){this.a(new ar("showFloat"));this.IH[j].PO.eu()}if(n)this.a(new ar(x.E.f,!1));
Q.a1();var a=this.aGn.Z;if(a.parentNode)this.cP.removeChild(a);if(Q.Pu())this.cP.appendChild(a);var B=new ar(x.E.B,!0);
B.data={Q:x.l.po};this.a(B)};eW.prototype.a0B=function(j){if(this.mq&&!this.mq.anv())return;var v=this.IH.indexOf(j.currentTarget);
this.gW(v)};eW.prototype.aw0=function(j){if(this.mq&&!this.mq.anv())return;var v=this.IH.indexOf(j.currentTarget);
this.aT(v)};eW.prototype.at4=function(j){var n=this.IH.indexOf(j.currentTarget.parent);if(this.IH[n].PO.rD())this.a(new ar("hideFloat"));
else this.gW(n)};eW.prototype.ay4=function(j){this.a(j)};function br(j){eW.call(this,j);this.Uw=0;this.WC=0;
V.GL(this.cP,this.af1.bind(this));this.Fq=0;this.aq1=this.aDZ.bind(this);this.yw(this.KF);this.Jq=["default;"];
this.Vs=new V.Nc(this.KF);this.Ra=new cU(!0);this.Ra.parent=this;this.jX=this.Ra.Z;cU.J0(this.Ra)}br.prototype=new eW;
br.prototype.af1=function(j){if(j.target!=this.cP)return;var n=this.Fq;this.Fq=Date.now();if(Date.now()-n>300)return;
var Q=new ar(x.E.B,!0);Q.data={Q:x.l.Vg,Z8:"newproject"};this.a(Q)};br.prototype.QM=function(j,n){if(n)this.Jq.push(j);
else{var Q=this.Jq.length-1;if(this.Jq[Q]==j)return;this.Jq[Q]=j}this.nS()};br.prototype.a12=function(){this.Jq.pop();
this.nS()};br.prototype.nS=function(){var j=this.Jq[this.Jq.length-1];this.Vs.pX(j,this.lL)};br.prototype.sW=function(j,n){eW.prototype.sW.call(this,j,n);
this.Ra.sW(j,n);if(!j.ig){}};br.prototype.S=function(){eW.prototype.S.call(this);this.Ra.S()};br.prototype.pX=function(j,n){for(var v=0;
v<n.length;v++){var Q=n[v];this.IH[v].zN(Q.name+(Q.uh()?" *":""))}eW.prototype.pX.call(this,j,n)};br.prototype.e3=function(){return this.jX};
br.prototype.rs=function(j,n){if(this.IH.length==0)n+=eW.uu-1;this.Uw=j;this.WC=n;n=eW.prototype.rs.call(this,j,n);
this.lL="height:"+n+"px; width:"+j+"px; overflow:hidden; position:relative;";this.nS();this.Ra.rs(j,n)};
br.prototype.N$=function(j){eW.prototype.N$.call(this,j);j.pD.addEventListener("click",this.aq1,!1)};
br.prototype.aT=function(v){var j=this.IH[v];V.rq(j.pD,this.aq1);eW.prototype.aT.call(this,v)};br.prototype.aDZ=function(j){var n=this.Fq;
this.Fq=Date.now();if(Date.now()-n>300)return;var Q=this.ayg(j.currentTarget),a=this.IH[Q].uM.name,B=new ar(x.E.B,!0),m={o:x.E.A,I:N.ir,h:{Q:f.BG}};
B.data={Q:x.l.Vg,Z8:"namewindow",Xo:a.slice(0,a.length-4),Az:m};this.a(B)};function fW(j){eD.call(this);
if(j)return;cj.aBp(1);this.Z=V.d("div","flexrow app");this.Ga=V.d("div");this.Z.appendChild(this.Ga);
setTimeout(function(){var Q=window.hideCap;if(Q)Q()},25e3);this.B_=new i8;window.addEventListener("blur",function(Q){this.B_.reset()}.bind(this),!1);
window.addEventListener("resize",this.kT.bind(this),!1);var n=this.Ga;this.O0=new iF;this.O0.parent=this;
n.appendChild(this.O0.Z);this.EI=new gV;this.EI.parent=this;n.appendChild(this.EI.Z);this.R1=new ke(!0);
this.R1.parent=this;n.appendChild(this.R1.Z);this.P(x.E.B,this.J1,this);this.bO=this.LI.bind(this);window.requestAnimationFrame(this.bO)}fW.prototype=new eD;
fW.prototype.LI=function(j){this.x0();window.requestAnimationFrame(this.bO)};fW.prototype.S=function(){};
fW.prototype.kT=function(j){var n=window.innerWidth,Q=window.innerHeight;this.rs(n,Q)};fW.prototype.rs=function(j,n){this.EI.rs(j,n);
this.O0.rs(j,n)};fW.prototype.J1=function(j){var n=j.data.Q;if(n==x.l.Ix)this.EI.avM(j.data);if(n==x.l.z0)this.EI.a9s(j.data);
if(n==x.l.L_)this.EI.aj8(j.data.Sw);if(n==x.l.MX)this.EI.aE2(j.data.Sw);if(n==x.l.HR)this.EI.sw()};function ea(){fW.call(this);
this.cS={x:0,y:0,vm:!1};this.uY=!1;this.NT=!1;this.a31=null;this.aiw=0;this.anM=!1;this.g6=0;window.onmessage=function(c){if(Storage.a8g(c.source))return;
if(c.data instanceof ArrayBuffer){var _=fj.Ot(c.data),p=fj.Mi(_);aL.dl({url:"file"},c.data,this);if(p==null)this.tK()}else if(c.data instanceof Object||c.data.startsWith("{")||c.data.startsWith("amp-")||c.data.startsWith("0=goog")||c.data.startsWith("3PCoo")||c.data.startsWith("ima://")){}else if(c.data.startsWith("--ur ")){var X=c.data.split(" ").pop(),H=null;
X=X.length==0?[]:X.split(",");console.log(X);var g=this.H.uU,F=new ar(x.E.B,!0);F.data={Q:x.l.m6,_X:b3.IL,L3:X};
this.a(F);var k=X,I=g;if(I.length>k.length){var e=I;I=k;k=e}for(var v=0;v<k.length;v++)if(I.indexOf(k[v])==-1)H=k[v];
aL.qd("act=3&id="+H+"&dif="+(k==X?1:-1));alert((k==X?"Resource added.":"Resource removed.")+" "+H)}else if(c.data.startsWith("--ot ")){if(this.O0.rE())this.O0.rE().close();
this.gK.LV(c.data.split(" ").pop(),!0)}else if(c.data.startsWith("--et ")){}else{var F=new ar(x.E.B,!0);
F.data={Q:x.l.X4,Lo:c.data};this.a(F);this.tK()}}.bind(this);window.onbeforeunload=function(c){this.aqs();
for(var v=0;v<this.pB.length;v++)if(this.pB[v].uh()){return this.pB[v].name}}.bind(this);if(!ex.pO())window.setInterval(this.ae7.bind(this),5*60*1e3);
var j=this;if(window.indexedDB){var n={G2:window.indexedDB.open("pp",1)};n.G2.onupgradeneeded=function(c){var _=c.target.result,p=_.createObjectStore("rsrc",{keyPath:"k"})};
n.G2.onsuccess=function(c){var _=j.H.if.qQ=c.target.result,p=_.transaction(["rsrc"],"readwrite").objectStore("rsrc"),X=p.get("fs0");
X.onsuccess=function(c){if(c.target.result){var k=j.H.if.Bj=c.target.result.fset;for(var I in k){if(!I.endsWith(".jsx")&&!I.endsWith(".psd"))aL.dl({url:I,avB:!0},k[I],j)}}};
var g=new BroadcastChannel("pp-tabs"),F=[];g.onmessage=function(c){if(c.data=="id")g.postMessage(j.H.if.id);
else F.push(c.data)};g.postMessage("id");setTimeout(function(){var p=_.transaction(["rsrc"],"readwrite").objectStore("rsrc"),k=p.getAllKeys();
k.onsuccess=function(){var I=k.result,e=[],H=0;for(var v=0;v<I.length;v++){if(I[v]=="fs0")continue;if(F.indexOf(I[v])!=-1)continue;
e.push(I[v])}for(var v=0;v<e.length;v++){var X=p.get(e[v]);X.onsuccess=function(c){if(c.target.result){var A=c.target.result.fset;
for(var Z in A){try{aL.dl({url:Z,avB:!0},A[Z],j);var J=j.Pj();J.gg=J.yT=-1}catch(c){console.log(c)}}H++;
if(H==e.length)for(var v=0;v<e.length;v++){var X=p.delete(e[v])}}}}}},200)}}var Q="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{".split(" "),a=V.EX[bw.Us][bw.a0_];
if(a==null)a=[V.EX[bw.io][bw.zS]];for(var B=0;B<a.length;B++){var m=a[B];for(var v=0;v<Q.length;v++){var R=V.ZS(Q[v]);
if(m.indexOf(R)!=-1){var q=V.EX[bw.io][bw.KF],U=bw.OD("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
V.cV(q);q[bw.aC2]=U;return}}}this.F=ea.aHH();this.H={F:this.F,aii:!1,Ce:null,aw:0,nE:{jy:[],wP:[],list:[],Q0:null},mO:[],aG1:[],z_:[],SL:[],Md:[],_f:[],ajx:[],a76:[],Md:[],lE:[bJ.cL()],eE:[],nU:[],Nw:null,tR:0,U6:1-fL,no:g8.no.cL(),awL:g8.no.cL(),hX:{px:1,zT:K.u(g8.hF[0])},mE:g8.o0.cL(),aj4:[null].concat(g8.hF),alJ:[null].concat(g8.hF),wR:new bY(function(c){var _=new ar(x.E.B,!0);
_.data={Q:x.l.JH,_X:{url:bv.xU("rsrc/fonts/"+c)}};this.a(_)}.bind(this)),ix:{hK:[],RW:null,w$:null},font:null,K$:[],uU:[],aEg:{},Z4:0,g7:16777215,LB:!1,rl:!0,c8:{qO:!0,ip:!1,hm:!0,AZ:!0,F_:!0,XZ:!0,pq:20,EV:0,T0:0,bp:0,OE:8421504,ag:65535,cA:33023},xh:!0,tW:[!0,!0,!1,!0,!0],Mf:eX.ve(),HS:1,Qz:!0,ao6:{},ig:!0,awF:!1,compact:!1,iw:1,Bb:0,jX:!0,vJ:{},fq:null,if:{id:"ts"+Math.round(Math.random()*16777215),apF:!1,ah8:!1,Bj:{},W6:{},qQ:null},aw3:0,a99:null,vT:null,akJ:null,kn:null};
bY.dR.Ei(this);this.ax2={SK:new b4,_h:new eE};this.H.ix=eR.aE9();this.HW=new fZ;this.MF=new bm;this.Rt=new bR;
this.Di=new iD(this.F,!0);this.xX=new gt;this.jv=new br(this);this.G0=V.d("div");this.td=!1;this.atS=this.aec.bind(this);
V.BZ(this.jv.Z,"mainblock");this.R1.parent=this.HW.parent=this.MF.parent=this.Di.parent=this.xX.parent=this.jv.parent=this;
this.jv.P(x.E.f,this.rO,this);this.jv.P(x.E._g,this.afO,this);this.jv.P("shuffleItems",this.aIn,this);
this.jv.P(x.E.a0q,this.au7,this);this.P("mouse",this.aFf,this);this.P(x.E.A,this.JQ,this);this.P(x.E.X2,this.ac0,this);
document.body.addEventListener("keydown",this.mR.bind(this),!1);window.addEventListener("keyup",this.gH.bind(this),!1);
window.addEventListener("paste",this.alE.bind(this),!1);window.addEventListener("copy",this.a8q.bind(this),!1);
window.addEventListener("wheel",function(c){if(c.ctrlKey)c.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(c){if(window.innerWidth>400)c.preventDefault();
this.H.fq=c}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(c){if(c.aGQ){console.log("Service worker installing")}else if(c.aq$){console.log("Service worker installed")}else if(c.active){console.log("Service worker active")}}).catch(function(c){console.log("Registration failed with "+c)})}this.aFt=0;
this.pB=[];this.gK=new aL(i3.dl);this.gK.parent=this;var l=this.Ga,b=this.aI=V.d("div");b.appendChild(this.HW.Z);
b.appendChild(this.MF.Z);this.R1.a3F(b);var D=this.avZ=V.d("div","flexrow");l.appendChild(D);D.appendChild(this.Di.Z);
D.appendChild(this.jv.Z);D.appendChild(this.xX.Z);this.gK._Y({url:bv.xU("rsrc/basic/basic.zip")});this.R$(N.nQ);
bv.Ei(this.ax1.bind(this));if(this.zo())return;if(fL==0){bv.event("web_PPea",.002);var m=V.EX[bw.io][bw.zS];
if(m=="")m="di"+"rect";m=m.split("//").pop();if(m.startsWith("w"+"ww."))m=m.slice(4);if(m.endsWith("/"))m=m.slice(0,-1);
if(m.startsWith("go"+"ogle."))m="go"+"ogle.com";if(m.startsWith("baidu.com"))m="baidu.com";if(m.startsWith("photopea.com/templates"))m="photopea.com/templates";
if(m.startsWith("photopea.com/tuts"))m="photopea.com/tuts";if(m.endsWith("search.yahoo.com"))m="search.yahoo.com";
if(m.endsWith("gradio.live"))m="gradio.live";if(m.endsWith("proxy.ru"))m="proxy.ru";if(m.length>28&&m.indexOf("/")!=-1)m=m.split("/")[0];
if(m.length>28)m=m.split(".").slice(1).join(".");if(m.length>28)m=m.split(".").slice(1).join(".");if(m.length>28)m=m.slice(m.length-28);
if(ex.pO()){bv.event("i"+"fr_"+m,.01,1)}else bv.event("r"+"ef_"+m,.01,1)}if(fL==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}ea.prototype=new fW(!0);
ea.prototype.tK=function(j){var n=new ar(x.E.B);n.data={Q:x.l.Ms,_X:j?j:"done"};this.a(n)};ea.prototype.ae7=function(){var j=this.H.if,Q=!1;
if(j.qQ==null)return;var n=this.pB;for(var v=0;v<n.length;v++){var a=n[v];if(a.yT!=a.cD){var B=Date.now(),m=fj.gT(a,"psd",0,0,[!0,!1,!0,!1,!0]);
a.yT=a.cD;j.W6[a.name]=m;Q=!0;console.log(Date.now()-B,"saving "+a.name,m.byteLength)}}if(Q){var R=new ar(x.E.B);
R.data={Q:x.l.m6,_X:b3.YC,aur:!0};this.a(R)}};ea.prototype.ax1=function(){V.EX[bw.Oa](this.ae3.bind(this),Math.pow(Math.PI,8)+V.EX[bw.ad$][bw.ank]()*1e4);
var j=bv.ya();if(j!=null&&j.globals!=null)this.S0(j.globals);else{this.anM=!0;var n=i4.a4Q();if(n&&n.length!=0){var Q=n[0];
i4.acq(Q,this.atS)}}if(!this.zo()){var a=V.aqY();if(a==0)this.awF=!0;if(a==2)this.H.ig=!1;if(a!=1&&Math.random()<.002)V.aBi()}if(!ex.pO()||!this.H.ig){this.aEA();
this.I9()}else{var B=V.M9(V.EX[bw.ii]);B[bw.z2](bw.YJ,this.avr.bind(this));var m=V.OD("_MYOqDLGJa;A:6");
if(fL!=0)m=bw.ZS("@C/25N4/9A?C;:iBQRv")+m;B[bw.K_](V.OD("61="),m);B[bw.x2]()}this.uY=!0;this.tK();var R=new ar(x.E.B);
R.data={Q:x.l.Vg,Z8:"peamark",L5:4,index:[10,0]}};ea.prototype.avr=function(j){var n=JSON.parse(j.target[bw.p3]),Q=V.EX[bw.avJ][bw.a86]()/1e3,a=V.EX[bw.io][bw.zS],B=!1;
for(var m in n)if(m.indexOf(".")!=-1&&a.indexOf(m)!=-1&&parseInt(n[m])>Q)B=!0;if(B)this.H.ig=!1;this.aEA();
this.I9();if(a==""){if(this.H.ig){alert(bw.OD("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};ea.prototype.I9=function(j){this.NT=!0;
if(!this.H.jX)this.jv.jX=null;else if(this.pB.length==0)this.jv.aAA();this.qh(b3.Od);this.S();this.kT();
this.xX.pX(this.Pj(),this.pB,this.H)};ea.prototype.S0=function(j){var n=this.H;if(j.fc!=null){n.Z4=j.fc;
var Q=n.ix.RW.FillColor;if(Q){var a=K.Hy(n.Z4);Q.Values=[1,a.n/255,a.i/255,a.b/255]}}if(j.bc!=null)n.g7=j.bc;
if(j.ru!=null)n.LB=j.ru==1;if(j.ex!=null)n.rl=j.ex==1;if(j.favFam!=null)n.K$=j.favFam;if(j.ff!=null)n.K$=j.ff.split(",");
if(j.rsrc!=null)n.uU=j.rsrc;if(j.rs!=null)n.uU=j.rs.split(",");if(j.fo!=null)n.ix.hK[0].Name=j.fo;if(j.panels!=null)n.Mf=j.panels;
if(j.pd!=null)n.Mf=eX.aEe(j.pd);if(j.as!=null)n.iw=j.as;if(j.co!=null){n.Bb=j.co;if(n.Bb!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var B=j.ep?j.ep:j.eparams;
if(B){var m=n.c8;if(B.guides!=null)m.qO=B.guides;if(B.grid!=null)m.ip=B.grid;if(B.gsize!=null)m.pq=B.gsize;
if(B.gunits!=null)m.EV=B.gunits;if(B.gtype!=null)m.T0=B.gtype;if(B.runits!=null)m.bp=B.runits;if(B.gcol!=null)m.OE=B.gcol;
if(B.gucol!=null)m.ag=B.gucol;if(B.glcol!=null)m.cA=B.glcol;if(B.sels!=null)m.hm=B.sels;if(B.paths!=null)m.AZ=B.paths;
if(B.pgrid!=null)m.F_=B.pgrid;if(B.slices!=null)m.XZ=B.slices;if(B.gc!=null)m.OE=B.gc;if(B.uc!=null)m.ag=B.uc;
if(B.lc!=null)m.cA=B.lc;if(B.gs!=null)m.pq=B.gs;if(B.gu!=null)m.EV=B.gu;if(B.gt!=null)m.T0=B.gt;if(B.ru!=null)m.bp=B.ru;
if(B.gr!=null)m.ip=B.gr==1;if(B.gd!=null)m.qO=B.gd==1;if(B.se!=null)m.hm=B.se==1;if(B.pa!=null)m.AZ=B.pa==1;
if(B.pg!=null)m.F_=B.pg==1;if(B.sl!=null)m.XZ=B.sl==1}if(j.lang!=null)i4.acq(j.lang,this.atS);if(j.theme!=null)n.HS=j.theme;
if(j.to){var R=j.to;for(var v=0;v<R.length;v+=2){var q=this.F.map[R[v]];if(q)q.I.B4(R[v+1],null,this)}}if(j.topt||n.a96){var U=j.topt?j.topt:{},l=n.a96?n.a96:{};
for(var b in this.F.map){if(b>=103)continue;var D="t"+b;if(U[D]||l[D])this.F.map[b].I.B4(U[D],l[D],this)}}};
ea.prototype.aEA=function(){if(this.H.aii)return;this.H.aii=!0;var j=null,n=window.location.href,Q=n.indexOf("="),a=n.indexOf("#");
if(Q!=-1)j=n.substring(n.indexOf("?")+1,Q);if(a!=-1&&a!=n.length-1){j="p";Q=a}if(a!=-1&&n[a+1]=="i"){this.gK.LV(n.slice(a+2,a+10))}else if(n.slice(a+1).startsWith("goog_rewarded")){}else if(a!=-1&&n[a+1]=="t"){this.gK.LV(n.slice(a+2,a+10).split("").reverse().join(""),!0)}else if(j=="p"||j=="state"){var B=n.substring(Q+1,n.length);
B=JSON.parse(decodeURIComponent(B));if(j=="p"){var m=B.apis,R=this.H;if(m){if(m.rmbg)R.vJ.az9=m.rmbg;
if(m.dezgo)R.vJ.a0W=m.dezgo}if(B.script=="alert(73)")this.H.ig=!1;if(B.script)bG.ap8(this);if(B.server)this.a31=B.server;
if(B.resources)for(var v=0;v<B.resources.length;v++)this.gK._Y({url:B.resources[v]});if(B.files)for(var v=0;
v<B.files.length;v++)this.gK._Y({url:B.files[v],rf:{Ph:B.server,ans:B.script}});var q=B.environment;
if(q==null)q={};if(q.plugins!=null)this.xX.adD(q.plugins);if(q.localsave!=null)this.H.Qz=q.localsave;
if(q.customIO!=null)this.H.ao6=q.customIO;if(q.vmode!=null){var U=q.vmode;if(U==1)this.H.compact=!0;
if(U==2)this.fg(1)}if(q.intro!=null)this.H.jX=q.intro;if(q.menus!=null)this.H.a1p=q.menus;if(q.tmnu!=null)this.H.a96=q.tmnu;
if(q.panels!=null)this.H.Mf=q.panels;if(q.showtools!=null){var l=q.showtools,b=l.indexOf(this.H.Ce);
this.H.za=l;if(b==-1)this.R$(l[0])}if(q.phrases!=null)i4.a9c(q.phrases);if(q.autosave!=null){this.H.iw=0;
window.setInterval(function(){var _=new ar(x.E.B);_.data={Q:x.l.Hq};this.a(_)}.bind(this),q.autosave*1e3)}if(q.icons!=null){for(var D in q.icons)if(q.icons[D].indexOf("\"")==-1){if((D==bw.anq||D==bw.agR)&&this.H.ig)continue;
PIMG[D]=q.icons[D];PIMG["__"+D]=!0}}this.S0(q);if(B.files==null&&B.script){em.ew(B.script,this);this.tK()}}else if(j=="state"){var c=this.gK;
if(B.action=="create"){var _=new ar(x.E.B);_.data={Q:x.l.Vg,Z8:"newproject",awo:B.folderId};this.a(_)}if(B.action=="open"){for(var v=0;
v<B.ids.length;v++)dB.Ry(function(){var X="https://www.googleapis.com/drive/v3/files/"+this.ax3,g=new XMLHttpRequest;
g.open("GET",X);g.setRequestHeader("Authorization",dB.agZ());g.send();g.onload=function(F){var k=JSON.parse(F.target.response);
c._Y({url:X+"?alt=media",name:k.name,FQ:{file:k,Y9:""},akY:{Authorization:dB.agZ()}})}}.bind({ax3:B.ids[v]}));
alert("Loading files from Google Drive ...")}}}else{var p=window.launchQueue;if(p){var c=this.gK;p.setConsumer(function(X){var g=X.files,F=[];
for(var v=0;v<g.length;v++){var k=g[v];k.getFile().then(function(I){F.push(I);if(F.length==g.length)c.x4(F,null,null,null,g)})}})}}};
ea.prototype.S=function(){var j=document.getElementById("cap");if(j){var n=!1,Q=j.getElementsByTagName("h1")[0],m=0,q=0,U=0;
Q.textContent=n?"Photopea":i4.get([0,17,0]);var a=j.getElementsByTagName("p"),B=V.dh(i4.get([0,17,1])),R=["PSD","XCF","Sketch","XD","CDR"];
for(var v=0;v<R.length;v++)B=B.replace(R[v],"<b>"+R[v]+"</b>");if(!n)B+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
a[0].innerHTML=B;B=i4.get([0,17,2])+" "+i4.get([0,17,3]);for(var v=0;v<B.length;v++){var l=B[v];if(l=="<")q++;
if(l==">")U++}if(!n&&q*U==9){var b=["//github.com/photopea/"+["photo","vector"][fL]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var v=0;v<3;v++){var D=B.indexOf("<",m),c=B.indexOf(">",m),_=B.slice(0,D)+"<a href=\""+b[v]+"\" target=\"_blank\">"+B.slice(D+1,c)+"</a>";
m=_.length;B=_+B.slice(c+1)}a[1].innerHTML=B}else a[1].innerHTML=i4.get([0,17,2])}var p=document.getElementById("sponsors");
if(p)p.textContent=i4.get([0,17,4]);this.R1.S();this.HW.S();this.Rt.S();this.xX.S();this.Di.S();this.O0.S();
this.jv.S();for(var X in this.F.map)if(this.F.map[X].WH)this.F.map[X].WH.S()};ea.prototype.zo=function(){var j=V.EX[bw.Us][bw.a0_];
if(j&&j[1]){if(j[1].endsWith(bw.OD("UUPSDm@ID")))return!0}return 4<V.EX[bw.Us][bw.FS][bw.a7B](bw.OD("'$!|"))};
ea.prototype.rs=function(j,n){j=Math.floor(j);n=Math.floor(n);var Q=V.OD("WUMK&AM"),a=bw.de,B=V.EX[bw.io],m=Math.max(j,window.screen.width),R=Math.max(n,window.screen.height),D=0;
if(ex.YP==null)ex.YP=Math.min(m,R)<500||m<750?0:m<1500?1:2;var q=ex.YP,U=!this.NT||this.zo()||!this.H.ig||bv.uz()||V.hq()==bw.OD("eQLZRRM?8a4=8");
if(!U&&ex.pO()){if(this.a63==null)this.a63=Math.random()<.5;U=this.a63}if(U){if(q!=0&&V.EX[Q]&&this.NT)V.EX[Q]()}else{if(q==0)n-=84;
else j-=q==1?180:320}fW.prototype.rs.call(this,j,n);if(U&&this.td){this.Z[bw.au$](this.G0);V.cV(this.G0);
this.td=!1}if(!U&&!this.td){var l=function(p){V.EX[bw.Oa](function(){var g=new ar(x.E.B);g.data={Q:x.l.Vg,Z8:bw.OD("QZXZLFV")};
if(fL==0&&ex.Xf()&&!bv.uz())this.a(g)}.bind(this),14720+Math.random()*46351);if(Math.random()<.002){if(fL==0&&ex.Xf())bv.event("gota_0")}if(fL==0&&p)V.EX.___a=!0;
this.a8f(j,n);var X=q==0?B[bw.KF]:this.Z;X.appendChild(this.G0);this.G0[bw.Xt](a,V.OD("_MMJLNDfKCAg")+(q==0?10:10)+V.OD("_d$ebOS?I:==Ba-+# }$M"));
this.G0[a][V.OD("_MMJLND&<:E")]=(q==0?0:19)+V.OD("_d");this.G0[a][V.OD("i5WJHX")]=q==0?0:1}.bind(this);
function b(){ex.axs(l)}setTimeout(b,2300);this.td=!0}if(V.gU(this.HW.Z))D+=31;if(V.gU(this.MF.Z))D+=32;
this.R1.axd=this.H.ig&&this.NT;this.R1.rs(j,D);var c=n-D,_=V.OD("_d");this.G0[a][bw.aG$]=(q==0?100>>>1:n-11)+_;
this.G0[a][bw.arL]=(q==0?j:6*Math.pow(10,2))+_;if(V.gU(this.Di.Z))this.Di.rs(j,c);this.xX.rs(j,c);this.jv.rs(j-this.Di.Wy()-this.xX.Wy(),c)};
ea.prototype.a8f=function(j,n){var Q=function(){var a=new ar(x.E.B);a.data={Q:x.l.Vg,Z8:"account"};this.a(a)}.bind(this);
ex.aEc(j,n,this.G0,Q)};ea.prototype.a8q=function(j){console.log("systemCopy")};ea.prototype.alE=function(j){if(V.gX())return;
console.log("systemPaste");if(!j.clipboardData)return;var n=j.target.tagName.toLowerCase(),Q=j.clipboardData.items;
if(Q==null)return;var a=this.akX.bind(this);for(var v=0;v<Q.length;v++){var B=Q[v],m=B.getAsFile();if(B.type.indexOf("image")!=-1){if(m.size==this.H.aw3)return;
this.H.aw3=m.size;if(m){m.name="image.png";this.gK.x4([m],a)}}}};ea.prototype.akX=function(j,n){var Q={buffer:j,s:n},a=this.H;
if(V.gX()){var B=this.ax2,m=B.SK;if(m.q==n.q&&m._==n._){Q.s=m;Q._h=B._h}}else{if(a.vT){var R=new ar(x.E.A,!0);
R.I=N.jM;R.data={Q:"h_stepbck"};this.a(R)}}a.vT=Q;var R=new ar(x.E.B,!0);R.data={Q:x.l.La,azP:!0};this.a(R)};
ea.prototype.aio=function(){if(this.O0.rE()!=null)alert(i4.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
ea.prototype.JQ=function(j){var n=this.Pj();if(n==null){alert(i4.get([15,7,7]));return}var Q=j.I==N.Kd||j.I==N.yx;
if(this.O0.Ys()&&j.in!=!0&&!Q){this.aio();return}var a=this.F,B=this.H.Ce,m=j.I;if(m==N.BT&&B==N.od)m=N.od;
if(B!=m&&a.map[B].I.Ys()&&!Q&&!(B==N.XF&&m==N.KV)){console.log("disabling",B);a.map[B].I.disable(n,this,this.H,this.B_)}var R=this.F.map[m].I;
R.JQ(j.data,this,n,this.B_,this.H)};ea.prototype.ac0=function(j){var n=this.H;if(j.data.Q5!=!0)f2.a4d({ep:j.data.ep,Tu:j.data.Tu},this,n,this.Pj());
var Q=n.Nw,a=n.nU;if(Q==null)return;var B={amR:!1,bQ:"Step",a4B:0,m:!0,exp:!1,ep:j.data.ep};if(Q[2]==null)Q[2]=a[Q[0]].C5[Q[1]].C5.length-1;
if(j.data.Tu)B.Tu=j.data.Tu;a[Q[0]].C5[Q[1]].C5.splice(Q[2]+1,0,B);Q[2]++;this.qh(b3.A)};ea.prototype.J1=function(j){if(this.awF){j.data=0;
return j.w}var n=j.data&&j.data.Q==x.l.Vg&&j.data.Z8==bw.aax;if(V.EX.__csrf&&!bv.uz()&&!n){var Q=bw.OD("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(Q,5e3);return}fW.prototype.J1.call(this,j);var a=j.data.Q;if(a==x.l.g2)f2.aiF(this.Pj(),this.H.nU,j.data.eT[0],j.data.eT[1],this);
if(a==x.l.a2J){this.a51(j.data.a54)}if(a==x.l.aaS){this.S();this.kT()}if(a==x.l.po)this.kT();if(a==x.l.eP)if(this.H.fq){this.H.fq.prompt();
this.H.fq=null}if(a==x.l.w4)this.jv.QM(j.data.sz,j.data.push);if(a==x.l.ag1)this.jv.a12();if(a==x.l.ajz)this.rO(null,j.data.dir);
if(a==x.l.gD)this.jv.aT(this.pB.indexOf(j.data.Vo?j.data.Vo:this.Pj()));if(a==x.l.dt){var B=navigator.keyboard;
if(j.data.XW&&B)B.lock(["Escape"]);if(j.data.XW&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(j.data.XW)document.body.webkitRequestFullScreen();if(j.data.J!=null)this.fg(j.data.J)}if(a==x.l.au8){if(j.data.vm)this.B_.s9(j.data.aom);
else this.B_.Cf(j.data.aom);this.hs(j.data.vm?"down":"up")}if(a==x.l.ar3){var m=j.data.J;this.xX.adD([m]);
this.S()}if(a==x.l.T8){var R=this.Pj(),q=R.T[R.X[0]],U=new b4(0,0,R.q,R._),l=R.K?R.K.s.O():U,b=K.U(l.$()*4);
K.EC(R.rd(),U,b,l);var D=hs.ce()+"-d71c-11e5-b1ae-a548a96e5f9f",c=new ar(x.E.B,!0);if(j.data._X==0){var _={name:"Default/"+R.name.split(".")[0],id:D,Fd:[b,l]};
c.data={Q:x.l.m6,rf:"add",_X:b3.PT,uU:[_]};this.a(c)}if(j.data._X==1){var p=K.U(l.$()*4);p.fill(255);
K.L.sg("norm",b,l,p,l,l,1);var X=K.U(l.$());K.AS(p,X);K.m2(X);var g=K.eW(X,l);if(g.ke())g=l;var F=K.U(g.$());
K.Gc(X,l,F,g);g.x=g.y=0;var k={SK:g,id:D,Fd:[F,g]},I=ic.GK(D),e=I.Brsh.v;e.Dmtr.v.val=Math.max(g.q,g._);
e.Spcn.v.val=10;c.data={Q:x.l.m6,rf:"add",_X:b3.o9,uU:{list:[{t:"Objc",v:I}],wP:[k],jy:[]}};this.a(c);
c.data={Q:x.l.m6,_X:b3.Zi,QV:I};this.a(c)}if(j.data._X==2){var H=R.H9(),A=H[0][H[1][0]],Z={iA:"Default/"+q.getName(),t_:D,z:A.add.vmsk.O().z},J=K.R.sR(Z.z),s=new j8(J.q,0,0,J._,J.x,J.y);
s.m2();K.R.fK(Z.z,s);J.x=J.y=0;Z.wS=J.O();c.data={Q:x.l.m6,rf:"add",_X:b3.RX,uU:[Z]};this.a(c)}}if(a==x.l.JH)this.gK._Y(j.data._X);
if(a==x.l.ws){var E=j.data.aqA,z=j.data.Rk;if(E!=!0&&z!=!0&&this.bz("open"))return;var h=this.jv.rR();
if(z)h=-1-h;this.gK.aGY(E||z?h:null,j.data.aua,j.data.eH)}if(a==x.l.M2){var d=j.data.ac5,Y=j.data.kc,C=this.JK(d);
if(Y){var i=d==b3.o9,M=[];for(var v=0;v<Y.length;v++)M.push((i?C.list:C)[Y[v]]);C=i?{jy:C.jy,wP:C.wP,list:M}:M}if(d==b3.mt){var U=new hs;
for(var v=0;v<C.length;v++){var W=C[v].IK.Lefx;if(W)gq.aGI(W,U,this.H._f)}C={aF:U.add.Patt?U.add.Patt:[],oK:C}}if(d==b3.jq){var $=this.H.nE;
C={wP:[],jy:[],list:C};console.log(C)}if(d==b3.A)C=C[j.data.dL];var P=b3.XN[d],b=P[2].zw(C);aL.save(b,P[1]+"."+P[0])}if(a==x.l.nT){var O=this.H.if,G=j.data.awb;
if(O.qQ&&!O.apF&&!G){O.ah8=window.confirm("Load \""+j.data.DA+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
O.apF=!0}if((O.ah8||G)&&O.qQ){O.Bj[j.data.DA]=j.data.Av;var c=new ar(x.E.B);c.data={Q:x.l.m6,_X:b3.YC};
this.a(c)}}if(a==x.l.a2r){var R=this.Pj(),r="<!DOCTYPE HTML>";if(R==null)return;var t=fj.PH(R.rd().buffer,R.q,R._),y=window.open();
r+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";r+="<body><img src=\""+t+"\" /></body>";
r+="</html>";y.document.write(r)}if(a==x.l.UO){if(this.bz("publishOnline"))return;var u=j.data.L5=="jpg"||j.data.L5=="png",R=this.Pj();
if(R==null)return;if(!u&&R.Pd)return;var Q="Your "+(u?"picture":"document")+" will be published at "+(u?"Imgur":["Photo","Vector"][fL]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!u)Q+=" We guarantee 6+ months of storage.";var S=j.data.$X?!0:confirm(Q);if(S){if(j.data.L5=="psd"){var c=new ar(x.E.A,!0);
c.I=N.ir;c.data={Q:f.MO};this.a(c);var w=new b4(0,0,R.q,R._);for(var v=0;v<R.T.length;v++){var q=R.T[v];
if(q.s.ke()||q.bx()||q.sJ()||q.iI()||q.Oi()||q.add.TySh||q.add.vmsk||q.add.SoLd)continue;var dj=w.uf(q.s);
if(!dj.N_(q.s)&&!dj.ke()){var o=K.U(dj.$()*4);K.EC(q.buffer,q.s,o,dj);q.buffer=o;q.s=dj}if(!K.gy(q.buffer,q.s.q,q.s._))continue;
var T=q.VH(),i6=q.wT,bH=q.TM,cg=q.U7;q._a(!0);q.wT=255;q.TM="norm";R.X=[v];c.data={Q:f.Fj,L5:"jpg"};
this.a(c);var bu=R.T[v];q._a(T);bu._a(T);q.wT=bu.wT=i6;q.TM=bu.TM=bH,q.U7=bu.U7=cg}}if(R.jK){R.D$()}var hH=R.q,dK=R._,d8=j.data.a21,d1;
if(d8)while(Math.max(hH,dK)>d8){hH=hH>>>1;dK=dK>>>1}console.log(hH,dK);if(j.data.L5=="psd")d1=fj.gT(R,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(j.data.L5=="ai")d1=fj.gT(R,"ai");else if(j.data.L5=="png")d1=fj.gT(R,"png",hH,dK);else{var gH=fj.gT(R,"png",hH,dK),kh=fj.gT(R,"jpg",hH,dK);
d1=gH.byteLength<kh.byteLength?gH:kh}var ay=j.data.$X;if(ay==null)ay=function(ia){var jd=u?ia:"https://www."+["photo","vector"][fL]+"pea.com/#i"+ia,c=new ar(x.E.B);
c.data={Q:x.l.Vg,Z8:"linkview",as2:jd};this.a(c)}.bind(this);if(u)aL.auG(d1,ay);else this.gK.aq_(d1,R.name,ay,"psdshared")}}if(a==x.l.Hq){var R=this.Pj(),dO=!1;
if(R==null)return;if(R.jK){R.D$()}if(j.data.Zc){if(!this.Lm(R,j.data.Zc))return;var b=i3.asj(R,j.data.Zc,this.H);
this.tK(b);dO=!0}else if(R.rN){if(this.pB.indexOf(R.rN.Ru)!=-1){var b=new Uint8Array(fj.Mi("PSD").OR(R,null,null,[!0,!1])),c=new ar(x.E.A,!0);
c.data={Q:f.kO,uM:R.rN.Ru,data:b,id:R.rN.alZ,yR:R.name};c.I=N.ir;this.a(c);alert("Smart Object updated")}dO=!0}else if(this.bz("save")){dO=!0}else if(R.FQ){i3.acO(R);
dO=!0}else if(R.dS){if(R.dS[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var bg=i3.aCw(R);
if(bg==1){alert("Already saving another file. Try again later.");return}dO=!0}else if(R.rf&&R.rf.Ph){if(!this.Lm(R,R.rf.Ph.formats))return;
this.gK.a4M(R,this.H,i3.ayI);dO=!0}else if(R.VU&&(fL==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(R.sQ)!=-1||fL==1&&R.sQ=="ai")){this.acz();
return}if(dO){R.gg=R.cD;R.fN=Date.now();R.UF=!0}else{var c=new ar(x.E.B,!0);c.data={Q:x.l.CQ};this.a(c)}}if(a==x.l.CQ){if(!this.H.Qz){alert("function is disabled");
return}if(this.bz("saveAsPSD"))return;var R=this.Pj();if(R==null)return;if(!this.Lm(R))return;var c=new ar(x.E.A,!0);
c.data={Q:f.MO};c.I=N.ir;this.a(c);var f4=R.T.length,jb="Your document has "+R.T.length+" layers.";if(f4>1<<15){alert(jb+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(f4>8e3&&!confirm(jb+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var jT={n8:[]};R.root.abg([],jT);var jy=jT.n8;if(jy.length>11&&!confirm("One layer is nested "+(jy.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+jy.join(" \uD83E\uDC1A ")+"."))return;
var cl=window.showSaveFilePicker;if(window.parent!=window)cl=null;if(cl&&!j.data.at$){var hu={suggestedName:R.name,types:[{description:["PSD","AI"][fL]+" Files",accept:fL==0?{"image/psd":[".psd"]}:{"application/pdf":[".ai"]}}]};
cl(hu).then(function(j){R.VU=j;R.name=j.name;R.Xx=!0;R.sQ="psd";this.acz()}.bind(this));return}var aA=window.gtag;
if(R.sf()&&aA)aA("event",R.sQ+":"+V.ZS(bv.uz()?"\"'|('61":"w'| "),{event_category:"Formats"});if(R.jK){R.D$()}var ko=fL==0?"PSD":"AI",ec=fj.Mi(ko);
bv.event("efmt_"+ko.toLowerCase(),.1);if(j.data.at$){var b=R.sQ=="psd"?ec.OR(R):i3.kg(R,R.sQ,this.H);
this.aFE(b,R,this)}else{var b=ec.OR(R);aL.save(b,R.name);R.gg=R.cD;R.fN=Date.now();R.UF=!0}}if(a==x.l.hy)window.open(j.data.link,"_blank");
if(a==x.l.ar8){if(this.O0.Ys()){this.aio();return}var R=this.Pj(),q=R.T[R.X[0]],m=R.KR(q.add.SoLd.Idnt.v);
for(var v=0;v<this.pB.length;v++){var kK=this.pB[v].rN;if(kK!=null&&kK.alZ==m.A8&&kK.Ru==R){this.jv.gW(v);
return}}aL.dl({name:m.yR,rN:{alZ:q.add.SoLd.Idnt.v,Ru:R}},m.raw.buffer,this)}if(a==x.l.aCC){var R=this.Pj(),q=R.T[R.X[0]],m=R.KR(q.add.SoLd.Idnt.v);
aL.save(m.raw.buffer,m.yR)}if(a==x.l.ajy){console.log(j.data);aL.dl({name:j.data.dS[1].split("/").pop(),dS:j.data.dS},j.data.FJ,this)}if(a==x.l.aCz){var R=this.Pj();
R.dS=j.data.dS;R.name=R.dS[1].split("/").pop();var c=new ar(x.E.B);c.data={Q:x.l.Hq};this.a(c)}if(a==x.l.OB){this.aBY()}if(a==x.l.ug){this.ag_(j.data.ts,j.data.d0,j.data.NQ)}if(a==x.l.La){this.afH(j.data.azP,j.data.aGR,j.data.NQ)}if(a==x.l.aeR){var cM=j.data.J;
if(this.H.Ce==N.BT&&this.MP().Ys()){var c=new ar(x.E.A,!0);c.I=N.BT;c.data={Q:"insertText",J:cM};this.a(c);
return}if(cM.startsWith("vcb;")){var gG=JSON.parse(cM.slice(4));gG[0]=bJ.atQ(gG[0]);var c=new ar(x.E.A,!0);
c.I=N.rB;c.data={Q:"append",ID:"Paste Paths",an4:gG};this.a(c)}else if(cM.startsWith("lrs;")){var c2=cM.split(";"),a1=this.pB[parseInt(c2[1])];
if(a1==null)return;var cs=this.Pj(),f7=a1.X;a1.X=JSON.parse(c2[2]);var j7=a1.Rl(null,a1!=cs);a1.X=f7;
var c=new ar(x.E.A,!0);c.data={Q:f.iO,T:j7,Ru:a1,Jn:cs};c.I=N.ir;this.a(c)}else if(cM.startsWith("<!--")||cM.startsWith("<svg")){var dz=L.XS(cM),iA=fj.Mi("svg"),U=new hs("image.psd");
iA.z5(dz.buffer,U);if(this.pB.length!=0){var kk=U.T;if(kk.length==3&&kk[0].getName()=="</Layer group>"&&kk[2].bx())kk=[kk[1]];
var c=new ar(x.E.A,!0);c.I=N.ir;c.data={Q:f.iO,T:kk,Ru:U,Jn:this.Pj()};this.a(c)}else this.aEi(U)}}if(a==x.l.X4){em.ew(j.data.Lo,this)}if(a==x.l.Ms){if(window.parent!=window)window.parent.postMessage(j.data._X,"*");
this.xX.xB(j.data._X)}if(a==x.l.uv){var fA=parseFloat(j.data.Z8);if(this.H.Mf.indexOf(fA)==-1){var c=new ar(x.E.B,!0);
c.data={Q:x.l.m6,_X:b3.Ym,J:fA,rf:"add"};this.a(c)}this.xX.an3(j.data.Z8)}if(a==x.l.dC){this.EI.afu(this.Pj(),this.H)}if(a==x.l.Vg){var g5="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var v=0;v<g5.length;v+=2)if(j.data.Z8==g5[v]&&this.bz(g5[v+1]))return;if(!this.H.Qz&&j.data.window=="saveforweb"){alert("function is disabled");
return}this.O0.a19(j.data.Z8,this.Pj(),j.data,this.pB,this.B_)}if(a==x.l.Vi)aL.save(j.data.data,j.data.name);
if(a==x.l.kI){if(!this.O0.Ys()||j.in)this.aEi(j.data.uM)}if(a==x.l.eX){this.jv.gW(j.data.target);var c=new ar(x.E.A,!0);
c.data={Q:f.aA1,uM:j.data.uM,vc:j.data.vc,OK:j.data.OK};c.I=N.ir;this.a(c);this.R$(N.CL)}if(a==x.l.aok){gz.oB=!gz.oB;
if(this.pB.length>0)this.Pj().ge()}if(a==x.l.abI){var h$=bv.ya();if(h$!=null&&h$.globals!=null)this.S0(h$.globals);
this.I9()}if(a==x.l.Tj){this.gK.x4(j.data.data,null,j.data.SE,j.data.gZ,j.data.amh)}if(a==x.l.pY){var hL=this.MP();
if(!this.O0.rE()!=null)this.R$(j.data.I,j.data.Ls);var ha=this.MP();if(ha!=hL&&j.data.asE)ha.v1(this.Pj(),this,this.H,this.B_,this.cS)}if(a==x.l.Zt){if(this.F.aC0)this.R$(this.F.aC0)}if(a==x.l.yo){var jl=this.F.map[j.data.I].I,R=this.Pj();
jl.UY(j.data,this,R,this.B_,this.H);if(R)R.LD=!0;this.ant()}if(a==x.l.nz){var fI=this.F.map[j.data.I];
this.anX(fI);fI.WH.wb(j.data)}if(a==x.l.m6){var R=this.Pj(),aE,es=!(R&&R.X.length!=0&&R.T[R.X[0]].add.TySh),kN=j.data._X,fV=j.data.uU,jU=this.H;
if(j.data.rf=="set"){var ha=N.JJ[fV[1].classID];if(jU.Ce!=ha)this.R$(ha);this.F.map[ha].WH.aCd(fV,jU)}if(j.data.rf=="add"){var P=b3.XN[kN];
if(kN==b3.Ym){jU.Mf.push(j.data.J);jU.Mf.sort(function(ia,jd){return ia-jd})}else if(P==null){if(fV)jU.wR.aES(fV,j.data.amo);
if(R)R.UF=!0}else{var c$=this.JK(kN);if(kN==b3.o9){c$.wP=c$.wP.concat(fV.wP);c$.jy=c$.jy.concat(fV.jy);
c$=c$.list;fV=fV.list}if(kN==b3.mt&&R){for(var v=0;v<fV.length;v++){var W=fV[v].IK.Lefx;if(W)gq.aaG(W,R,jU._f)}}if(kN==b3.jq&&fV==null){var U=this.F.map[jU.Ce].WH.a8U();
if(U==null)return;fV=[U]}for(var v=0;v<fV.length;v++)c$.push(fV[v]);if(kN==b3.RX){var iq={};for(var v=0;
v<c$.length;v++){var cz=c$[v].iA;while(iq[cz]!=null)cz=c$[v].iA=cz+"X";iq[cz]=!0}}if(j.data.amo!=!0)if(c$.length!=fV.length||kN==b3.qX||kN==b3.mt||kN==b3.XA||kN==b3.A)alert(i4.get(P[3])+" "+i4.get([23,1])+".")}}if(j.data.rf=="del"){if(kN==b3.Ym){jU.Mf.splice(jU.Mf.indexOf(j.data.J),1)}else{var P=b3.XN[kN],Y=j.data.kc,c$=this.JK(kN);
if(kN==b3.o9)c$=c$.list;for(var v=0;v<Y.length;v++)c$[Y[v]]=null;for(var v=0;v<c$.length;v++)if(c$[v]==null){c$.splice(v,1);
v--}alert(i4.get(P[3])+" deleted.")}}if(j.data.rf=="rnm"){var P=b3.XN[kN],c$=this.JK(kN);if(kN==b3.o9)c$=c$.list;
if(c$[j.data.kc[0]]==null)return;P[2].zN(c$[j.data.kc[0]],(j.data._l?j.data._l:"")+j.data.J)}if(kN==b3.Cj){var h0=j.data.J;
jU.hX=h0;jU.aj4[h0.px]=h0.zT}if(kN==b3.YB){var h0=j.data.J;jU.mE=K.u(h0);var fl=g8.vd(h0);jU.alJ[fl.px]=fl.zT}if(kN==b3.gl){jU.no=j.data.J;
var co=g8.no.cL(),cC=!0;for(var U in co)if(jU.no[U]==null)cC=!1;if(cC)jU.awL=K.u(jU.no)}if(kN==b3.VC){jU.tR=j.data.J}if(kN==b3.xp){jU.U6=j.data.J}if(kN==b3.U2){jU.ix=j.data.ix;
var gr=jU.ix.RW.FillColor;if(es&&gr){var eK=gr.Values,kM={n:eK[1]*255,i:eK[2]*255,b:eK[3]*255},bM=K.G8(kM);
if(jU.Z4!=bM){jU.Z4=bM;aE=b3.Wz}}}if(kN==b3.Zi){var o=K.u(j.data.QV),bn=o.useBrushSize;if(bn&&bn.v){o.Brsh.v.Dmtr.v.val=jU.nE.Q0.Brsh.v.Dmtr.v.val;
bn.v=!1}jU.nE.Q0=o;if(o.Nm==null)return;var fT={ep:"select",Tu:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:o.Nm.v.split("/").pop()}}]}}},fI=this.MP();
fI.xo=this;fI.track(fT)}if(kN==b3.bo){jU.K$=j.data.L3}if(kN==b3.IL){jU.uU=j.data.L3}if(kN==b3.Wz){var fT,ck="Clrs";
if(j.data.BO<2){var ce=j.data.J,kn=j.data.BO==0,fc=K.Gp.Db(K.Hy(ce));if(kn)jU.Z4=ce;else jU.g7=ce;ck=kn?"FrgC":"BckC";
fT={ep:"set",Tu:{__name:"Set",classID:"setd",T:{t:"Objc",v:fc}}}}if(j.data.BO==2){var cv=jU.Z4;jU.Z4=jU.g7;
jU.g7=cv;fT={ep:"exchange",Tu:{__name:"Exchange",classID:"Exch"}}}if(j.data.BO==3){jU.Z4=0;jU.g7=16777215;
if(R!=null&&R.X.length!=0&&R.T[R.X[0]].s0==1){var cv=jU.Z4;jU.Z4=jU.g7;jU.g7=cv}fT={ep:"reset",Tu:{__name:"Reset",classID:"Rset"}}}if(fT){fT.Tu.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:ck}}]};
var fI=this.MP();fI.xo=this;fI.track(fT)}var gr=jU.ix.RW.FillColor;if(es&&gr){var gM=K.Hy(jU.Z4),hF=[1,gM.n/255,gM.i/255,gM.b/255];
if(hF.join(",")!=gr.Values.join(",")){gr.Values=hF;aE=b3.U2}}}if(kN==b3.Lu){jU.LB=!jU.LB;this.kT()}if(kN==b3.fM){jU.rl=!jU.rl;
this.kT()}var fg=jU.c8;if(kN==b3.eh){fg.hm=!fg.hm;this.kT()}if(kN==b3.GW){fg.AZ=!fg.AZ;this.kT()}if(kN==b3.Lj){fg.qO=!fg.qO;
this.kT()}if(kN==b3.Mx){fg.ip=!fg.ip;this.kT()}if(kN==b3.im){fg.F_=!fg.F_;this.kT()}if(kN==b3.WK){fg.XZ=!fg.XZ;
this.kT()}if(kN==b3.hl){jU.c8=j.data.L3;this.kT()}if(kN==b3.a7S){jU.xh=!jU.xh;this.kT()}if(kN==b3.Nl){jU.tW[j.data.EG]=!jU.tW[j.data.EG];
this.kT()}if(kN==b3.kB){i4.aEm(j.data.lang,this.atS)}if(kN==b3.nu){jU.HS=j.data.HS;this.S()}if(kN==b3.YC&&jU.if.qQ){var fP=jU.if.qQ.transaction(["rsrc"],"readwrite").objectStore("rsrc"),cu={k:"fs0",fset:jU.if.Bj};
if(j.data.aur)cu={k:jU.if.id,fset:jU.if.W6};var h8=Object.keys(cu.fset).length==0?fP.delete(cu.k):fP.put(cu);
h8.onerror=function(j){console.log(j);alert("Storing failed. Browser says: "+j.target.error.message,7e3)}}this.qh(kN);
if(aE)this.qh(aE)}};ea.prototype.acz=function(){var j=this.Pj();console.log(j.Gr);if(j.Gr)return;j.Gr=!0;
var n=new ar(x.E.B,!0);n.data={Q:x.l.L_,Sw:"Saving ..."};this.a(n);setTimeout(function(){var n=new ar(x.E.B,!0);
n.data={Q:x.l.CQ,at$:!0};this.a(n)}.bind(this),20)};ea.prototype.aFE=function(j,n){n.VU.createWritable().then(function(Q){Q.write(j);
return Q}).then(function(Q){return Q.close()}).then(function(Q){n.gg=n.cD;n.fN=Date.now();n.UF=!0;n.Gr=!1;
var a=new ar(x.E.B,!0);a.data={Q:x.l.MX,Sw:"Saving ..."};this.a(a)}.bind(this)).catch(function(Q){n.Gr=!1;
var a=new ar(x.E.B,!0);a.data={Q:x.l.MX,Sw:"Saving ..."};this.a(a)}.bind(this))};ea.prototype.auT=function(){var j=this.H,n=j.uU,Q=j.aEg;
for(var v=0;v<n.length;v++){var a=n[v];if(Q[a])continue;Q[a]=!0;this.gK.LV(a,!1,!0)}};ea.prototype.aec=function(){this.S();
this.kT()};ea.prototype.bz=function(j){var n=this.H.ao6[j];if(n){var Q=new ar(x.E.B,!0);Q.data={Q:x.l.X4,Lo:n};
this.a(Q)}return n!=null};ea.prototype.Lm=function(j,n){var Q=!0,R=15;if(n){Q=!1;for(var v=0;v<n.length;
v++)if(n[v].startsWith(V.OD("__M")))Q=!0}var a=j.sf()||j.rN&&j.rN.Ru.sf();if(this.zo())a=!1;var B=new V.EX[bw.avJ],m=(B[V.ZS("xy,b-66:")]()&1)*60+B[V.OD("VQ]3LNRN<G")]();
if(a&&!bv.uz()&&m>R&&Q){var q=V.EX[V.ZS("}$z{2*35")][V.ZS("y'|!")],U=V.OD("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
U+="\n\n"+V.OD("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-m+120)+V.OD("nYRTXTBMd");
if(q.indexOf(V.ZS("\"|'/-1)(W0?@"))==-1)U=i4.get([0,11+6,3+2]);V.EX._cwY(U);return!1}return!0};ea.prototype.JK=function(j){var n=this.H,Q=[b3.o9,b3.oy,b3.mM,b3.XA,b3.PT,b3.RX,b3.mt,b3.qX,b3.A,b3.jq,b3.Xm],a=[n.nE,n.z_,n.SL,n.Md,n._f,n.lE,n.eE,n.ajx,n.nU,n.mO,n.aG1];
return a[Q.indexOf(j)]};ea.prototype.aBY=function(){var j=this.ag_(),n=this.Pj();if(n==null||n.X.length==0)return;
var Q=n.T[n.X[0]],a=new ar(x.E.A);if(j==1){a.I=N.rB;a.data={Q:"remove",ID:"Cut Paths"}}else{a=new ar(x.E.X2);
a.data={ep:"delete"}}this.a(a)};ea.prototype.ag_=function(j,n,Q){if(j==null)j=!1;var a=this.H;console.log("doCopy",j,n);
var B=this.Pj();if(a.Ce==N.BT&&this.MP().Ys()){var m=new ar(x.E.A,!0);m.I=N.BT;m.data={Q:"copyText"};
this.a(m);return}if(B==null||B.X.length==0&&!j)return;var R=B.T[n==null?B.X[0]:n],q=B.H9(),U=q[0],l=q[1],b=U[l[0]];
if(!j&&b!=null&&b.add.vmsk.X.length!=0){var D=N._I.ev(b.add.vmsk,b.add.vogk);if(V.gX()){D[0]=bJ.azs(D[0]);
var c="vcb;"+JSON.stringify(D);aL.MC(new Blob([c],{type:"text/plain"}))}else a.kn=D;return 1}else if(B.K==null){if(V.gX()){var c="lrs;"+this.pB.indexOf(B)+";"+JSON.stringify(B.X);
aL.MC(new Blob([c],{type:"text/plain"}))}}else{var _,p;if(j){var X=new b4(0,0,B.q,B._);p=X.uf(B.K.s);
_=K.U(p.$()*4);K.EC(B.rd(),X,_,p);K.XE(B.K.G,B.K.s,_,p)}else if(B.Yb.length!=0){p=B.K.s.O();_=K.U(p.$()*4);
var g=B.Kj[B.Yb[0]],F=g.OC(p);K.YM(F,_);K.wj(B.K.G,_,3)}else{var k=R.uo(B,B.K);if(k==null){alert("Copied area is empty");
return}_=k.FJ;p=k.s}var I=B.e.Y,e=I[0]+I[1]+I[2];if(e==1){var H=I.indexOf(1);for(var v=0;v<_.length;
v+=4)_[v]=_[v+1]=_[v+2]=_[v+H]}var A=new eE(B.q,B._);if(V.gX()&&Q!=!0){var Z=fj.Mi("PNG").aH7(_.buffer,p.q,p._);
aL.MC(new Blob([new Uint8Array(Z)],{type:"image/png"}));this.ax2={SK:p,_h:A}}else a.vT={buffer:_,s:p,_h:A};
a.a99=p.O();a.kn=null}};ea.prototype.afH=function(j,n,Q){if(n)this.ari=!0;console.log("doPaste");var a=this.H,B=a.vT,U;
if(this.pB.length==0){if(!j&&V.gX()){aL.I1(this,null);return}if(B){var m=fj.og("image.psd",[{data:B.buffer.buffer,nJ:B.s}]),R=new ar(x.E.B);
R.data={Q:x.l.kI,uM:m};this.a(R)}return}var m=this.Pj();if(a.Ce==N.BT&&this.MP().Ys()){aL.I1(this,null);
return}var q=m.T[m.X.length==0?m.T.length-1:m.X[0]];if(a.kn){var l=m.H9(!0),b=l[0],D=l[1];U=b[D[0]]}var R=new ar(x.E.A,!0);
if(a.kn!=null&&U!=null){R.I=N.rB;R.data={Q:"append",ID:"Paste Paths",an4:a.kn}}else if(!j&&V.gX()&&Q!=!0){aL.I1(this,this.akX.bind(this));
return}else{if(B==null)return;if(m.rV(!1)&&(m.e.Y.join("")!="111"||m.Yb.length!=0||q.s0>0||q.s.ke())){R.I=N.o9;
R.data={Q:"draw",avi:!0,ID:[5,2]}}else{R.I=N.ir;R.data={Q:f.OW,a8t:this.ari};this.ari=!1}R.data.vT=B;
if(B.s.x==0&&B.s.y==0){var c=m.e.C5,_=m.e.Vh(m.q/2,m._/2),p=m.q-B.s.q,X=m._-B.s._;if(c.PU(_)){B.s.x=p>>1;
B.s.y=X>>1}else{_=m.e.oR(c.q/2,c._/2);console.log(_);B.s.x=Math.max(0,Math.min(p,Math.round(_.x-B.s.q/2)));
B.s.y=Math.max(0,Math.min(X,Math.round(_.y-B.s._/2)))}}}this.a(R)};ea.prototype.a6R=function(){var j=this.H.wR;
if(j.a3q())return;for(var v=0;v<this.pB.length;v++){var n=this.pB[v];if(!ji.Uz(n,j,this))continue;if(n.HM)ji.G1(n,j,this);
var Q=n.add.lnk2;if(Q)for(var a=0;a<Q.length;a++){var B=Q[a];if(B.HM)N.vo.VP(n,B.A8,B.do,B.do,j)}if(n.awj)continue;
n.awj=!0;if(n.rf&&n.rf.ans)em.ew(n.rf.ans,this);this.tK();var m=new ar(x.E.A);m.I=N.KV;m.data={Q:"start",y7:"blurbTransform"};
var R=new ar(x.E.B);R.data={Q:x.l.uv,Z8:eX.D9.aml}}};ea.prototype.qh=function(j){this.auT();var n=this.H,Q=n.Ce,q=!1;
if(j==b3.Zi){if(this.F.map[Q].WH)this.F.map[Q].WH.sW(n,j)}else for(var a in this.F.map)if(this.F.map[a].WH)this.F.map[a].WH.sW(n,j);
if(j==b3.GM){if(Q!=N.BT)this.F.map[N.BT].I.sW(n,j);this.a6R()}this.jv.sW(n,j);this.Di.sW(n,j);this.O0.sW(n,j);
if(fL==1&&j==b3.gl){var B=new ar(x.E.A,!0);B.I=N.ir;B.data={Q:f.wd};this.a(B)}else this.MP().sW(n,j);
this.xX.sW(n,j);this.HW.sW(n,j);if(fL==1)this.Rt.sW(n,j);if(j==b3.nu||j==b3.Od){cj.aBp(n.HS);this.update(!0)}var m=n.ix,R=m.RW.Font;
if(j==b3.U2&&R!=null&&m.hK[R].Name!=n.font){n.font=m.hK[R].Name;q=!0}if([b3.Ym,b3.bo,b3.IL,b3.Wz,b3.Lu,b3.fM,b3.hl,b3.Lj,b3.Mx,b3.eh,b3.GW,b3.im,b3.WK,b3.kB,b3.nu].indexOf(j)!=-1||q)this.ant()};
ea.prototype.ant=function(){if(!this.uY)return;var j=[],n=this.F.map;for(var Q in n){var a=n[Q].I;if(a.Dj&&a.Dj()!=null)j.push(parseInt(Q),a.Dj())}var B=this.H,m=B.c8,R={};
if(m.OE!=8421504)R.gc=m.OE;if(m.ag!=65535)R.uc=m.ag;if(m.cA!=33023)R.lc=m.cA;if(m.pq!=20)R.gs=parseFloat(m.pq.toFixed(2));
if(m.EV!=0)R.gu=m.EV;if(m.T0!=0)R.gt=m.T0;if(m.bp!=0)R.ru=m.bp;if(m.ip!=!1)R.gr=m.ip?1:0;if(m.qO!=!0)R.gd=m.qO?1:0;
if(m.hm!=!0)R.se=m.hm?1:0;if(m.AZ!=!0)R.pa=m.AZ?1:0;if(m.F_!=!0)R.pg=m.F_?1:0;if(m.XZ!=!0)R.sl=m.XZ?1:0;
var q={};if(B.Z4!=0)q.fc=B.Z4;if(B.g7!=16777215)q.bc=B.g7;if(B.LB!=!1)q.ru=B.LB?1:0;if(B.rl!=!0)q.ex=B.rl?1:0;
if(B.K$.length!=0)q.ff=B.K$.join(",");if(B.uU.length!=0)q.rs=B.uU.join(",");if(B.HS!=1)q.theme=B.HS;
if(B.Bb!=0)q.co=B.Bb;if(B.font!=null&&B.font!="DejaVuSans")q.fo=B.font;var U=eX.arK(B.Mf);if(U.length!=0)q.pd=U;
if(j.length!=0)q.to=j;if(i4.qp()!="en")q.lang=i4.qp();if(Object.keys(R).length!=0)q.ep=R;var l=bv.ya();
if(l==null)l={};l.globals=q;bv.SI(l)};ea.prototype.C1=function(j){var n=this.B_,Q=this.cS,a=this.H.Ce,B=this.F.map[a].I,m=null,R=!1;
for(var v=0;v<this.F.ax_.length;v++){var q=this.F.ax_[v],U=!0;for(var l=0;l<q.Ha.length;l++){var b=q.Ha[l];
if(!n.r(b))U=!1}if(U&&(!q.nD||!B.Ys())&&(q.ND==null||q.ND.indexOf(a)!=-1)){m=q.I;R=q.nD;break}}if((!Q.vm||a==N.f0||j)&&this.F.Wl!=m&&(m!=a||!R)){var D=this.Pj();
if(this.F.Wl!=null&&m==null)this.MP().disable(D,this,this.H,n,!0);this.F.Wl=m;this.MP().enable(D,this,this.H,n,m!=null&&m!=a)}};
ea.prototype.Hw=function(j){var n=this.H.Ce,Q=this.Pj();if(n!=null){this.F.map[n].I.disable(Q,this,this.H,this.B_)}};
ea.prototype.anX=function(j){if(j.WH==null){j.WH=new j.iM(j.I.id);j.WH.aaQ(j.I.id,j.I.$e);j.WH.sW(this.H,b3.Od);
j.WH.S()}};ea.prototype.R$=function(j,n){if(j==N.CL&&this.O0.rE())return;var Q=this.Pj(),a=this.H;if(this.F.map[j].I.yJ(Q,a,n)){this.Hw();
if(j!=a.Ce)this.F.aC0=a.Ce?a.Ce:N.nQ;a.Ce=j;this.Di.R$(a.Ce);var B=this.F.map[j];this.F.a4e[B.wE]=B.auS;
this.anX(B);this.MF.aB7(fL==0?B.WH:this.Rt);var m=B.I;m.enable(Q,this,this.H,this.B_,!1,n);if(Q)Q.LD=!0;
this.kT();this.R1.a2i()}};ea.prototype.MP=function(j){var n=this.F,Q=n.I5,a=n.Wl,B=this.H.Ce;if(Q)B=Q;
else if(a&&j==null)B=a;return n.map[B].I};ea.prototype.aEi=function(j){var n=this.H,Q=this.pB.indexOf(j);
if(Q!=-1){this.jv.gW(Q);return}if(this.a31&&(j.rf==null||j.rf.Ph==null)){j.rf={Ph:this.a31}}if(j.Sh==null){j.Sh="local,"+this.aiw+","+j.name;
this.aiw++}j.fN=Date.now();if(fL==1&&j.add.arts==null)j.avH();if(ex.Xf()!=0&&!this.anM&&V.EX[V.ZS("t$&!'31")].toString().indexOf(V.ZS(" u,$4&"))==-1){alert(V.ZS("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var v=0;v<j.T.length;v++){var a=j.T[v];if(a.add.SoLd!=null){var B=Date.now()}}var m=j.T.length,R=bw.vl(),q=Math.PI*(6550<<14)+(V.oh(31)?20:10)*7e7;
if(R>q){var m=j.T.length;j.T=[];return m}if(gz.oB){gz.Ec(Math.max(j.q,j._));for(var v=0;v<j.T.length;
v++){var a=j.T[v];if(a.OZ())gz.Ec(Math.max(a.s.q,a.s._))}}j.iN();j.xg();if(j.anY)j.abE();else j.ge();
j.anY=!1;this.pB.push(j);this.jv.N$(new jL(j));j.LD=!0;j.UF=!0;this.a6R();var U=new ar(x.E.A);U.I=N.r_;
U.data={Q:"auto",xM:2}};ea.prototype.Pj=function(){return this.pB[this.aFt]};ea.prototype.anv=function(){return this.O0.rE()==null};
ea.prototype.rO=function(j,n){this.Hw();var Q=this.pB.length;if(n!=null)this.jv.gW((this.jv.rR()+n+Q)%Q);
this.aFt=this.jv.rR();var a=this.Pj();this.HW.DZ(a,this.H);if(fL==1)this.Rt.DZ(a,this.H);this.xX.pX(a,this.pB,this.H);
this.kT();if(a)a.LD=!0};ea.prototype.afO=function(j){this.Hw();var n=this.pB,Q=n[j.data.sP];n.splice(j.data.sP,1);
if(n.length==0){this.rO(j);var a=gz.uq(),B=jL.cE.o5;if(a.parentNode)a.parentNode.removeChild(a);if(B.parentNode)B.parentNode.removeChild(B)}this.aqs(Q.name)};
ea.prototype.aqs=function(j){var n=this.H.if,Q=!1;if(n.qQ==null)return;for(var a in n.W6){if(j==null||a==j){delete n.W6[a];
Q=!0}}if(Q){var B=new ar(x.E.B);B.data={Q:x.l.m6,_X:b3.YC,aur:!0};this.a(B)}};ea.prototype.aIn=function(j){var n=[],Q=j.data.acR;
for(var v=0;v<Q.length;v++)n[v]=this.pB[Q[v]];this.pB=n;this.aFt=this.jv.rR()};ea.prototype.au7=function(j){var n=this.jv,Q=n.age(),a=this.MP(),B=this.Pj();
if(Q==n.rR()||!a.ahG())return;this.a51(Q,a)};ea.prototype.a51=function(j,n){console.log("dup2doc");var Q=this.H,a=this.jv,B=this.Pj(),m=this.pB[j],R,q=new ar(x.E.A,!0);
q.I=N.ir;if(B.K==null){q.data={Q:f.iO,T:B.Rl(null,!0),Ru:B,Jn:m,awT:n==null};this.a(q)}else R=B.T[B.X[0]].uo(B,B.K);
var U=this.cS,l=Q.LB;Q.LB=!1;U=B.e.oR(U.x,U.y);if(n)n.h5(B,this,Q,this.B_);a.gW(j);if(B.K){q.data={Q:f.OW,vT:{buffer:R.FJ,s:R.s}};
this.a(q)}U=m.e.Vh(U.x,U.y);if(n)n.v1(m,this,Q,this.B_,U);Q.LB=l};ea.prototype.aFf=function(j){var n=this.Pj(),Q=this.B_,a=this.H,B=j.kC;
if(B)this.cS=B;if(B)B.y-=a.Bb;if(this.amr==null)this.amr=0;if(j.action=="multidown"){this.Yg=j.LN.length;
this.amr=Date.now()}if(j.action=="up"&&Date.now()-this.amr<100){var m=new ar(x.E.A);m.I=N.jM;m.data={Q:this.Yg==2?"h_stepbck":"h_stepfwd"};
this.a(m)}if(j.action.startsWith("multi")){var R=new ar(x.E.A,!0);R.data={Q:j.action,LN:j.LN};R.I=N.yx;
this.a(R);return}var q=this.F.map[N.nQ].I;if((j.action=="down"||j.action=="rdown")&&a.Ce!=N.nQ&&this.F.Wl!=N.nQ&&q.aCH(n,this,a,Q,B)){this.F.I5=N.nQ;
q.enable(n,this,a,Q,!0)}if(j.action=="idown"){Q.s9("Space");this.C1(!0);j.action="down"}var U=this.O0.rE(),l=U!=null&&U.GH()&&this.F.Wl==null?U:this.MP();
if(j.action=="scroll"){var b=!Q.r(i8.Gm)&&j.p0,R=new ar(x.E.A,!0);R.data={Q:"scroll",Sf:j.Sf.O(),kC:B,atn:b};
R.I=Q.r(i8.Y2)||b?N.yx:N.Kd;this.a(R)}if(U!=null&&l!=U&&this.O0.Ys()&&l.id!=N.Kd&&l.id!=N.yx)return;
if(j.action=="down")l.v1(n,this,a,Q,B);if(j.action=="rdown")l.yM(n,this,a,Q,B);if(j.action=="move")l.Z3(n,this,a,Q,B);
if(j.action=="up"||j.action=="iup"||j.action=="cancellast")l.pU(n,this,a,Q,B,j.action=="cancellast");
if(j.action=="rup")l.mZ(n,this,a,Q,B);if(j.action=="iup"){Q.Cf("Space");this.C1(!0)}if(j.action=="cancellast"){if(n&&n.history.length!=0&&Date.now()-n.history[n.history.length-1].aFg<200){var m=new ar(x.E.A);
m.I=N.jM;m.data={Q:"h_stepbck"};this.a(m)}}var D=this.xX;if(j.action=="down")D.v1(n,this,a,Q,B);if(j.action=="move")D.Z3(n,this,a,Q,B);
if(j.action=="up")D.pU(n,this,a,Q,B);if(j.action=="down"||j.action=="up"){this.C1()}if(j.action=="down"||j.action=="up"||j.action=="ctx"){n.LD=!0}if((j.action=="up"||j.action=="rup")&&this.F.I5){this.F.I5=null;
q.disable(n,this,a,Q)}};ea.prototype.x0=function(j){var n=this.Pj(),Q=this.cS;if(n&&this.MP().Oj(Q,this.B_)){var a=n.e,B=a.C5.q,m=a.C5._,R=0,q=0,U=16;
if(Q.x<U)R=U-Q.x;if(Q.x>B-U)R=Q.x-(B-U);if(Q.y<U)q=U-Q.y;if(Q.y>m-U)q=Q.y-(m-U);var l=this.B_.r(i8.f8)?8:1;
if((R!=0||q!=0)&&(n.q*a.yr>B||n._*a.yr>m)){R=Math.min(5,R*.5)*l;q=Math.min(5,q*.5)*l;if(Q.x>U)R=-R;if(Q.y>U)q=-q;
a.k.x+=R;a.k.y+=q;this.aFf({kC:this.cS,action:"move"});n.Xx=!0}}this.update()};ea.prototype.update=function(j){var n=this.Pj();
if(n==null)return;if(fL!=0){if(n.buffer)throw"e"}if(n.LD){var Q=this.F.map;for(var a in Q){if(Q[a].I.lc)Q[a].I.lc(n,this,this.H,this.B_)}if(fL==1){Q[N.qB].I.lc(n,this,this.H,this.B_,!0)}}if(n.jK&&fL==0)if(gz.oB)gz.Ec(Math.max(n.q,n._));
if(n.jK&&fL==0){n.D$()}var B=n.e,m=this.g6,R=this.g6=Date.now();if(n.jK||n.Lg||n.UF||n.Xx||j||B.SJ!=B.yr||!B.PA.N_(B.k)){var q=B.SJ;
if(B.SJ!=B.yr){var U=N.EZ.a4Y(B.yr,B.SJ>B.yr),l=.12;if(B.SJ<B.yr&&B.SJ<U)B.SJ=U;if(B.SJ>B.yr&&B.SJ>U)B.SJ=U;
var b=Math.abs(B.yr-U)*(R-m)*.001/l;if(B.SJ<B.yr)B.SJ=Math.min(B.yr,B.SJ+b);else B.SJ=Math.max(B.yr,B.SJ-b)}var D=q==B.yr?0:(B.SJ-B.yr)/(q-B.yr);
B.PA.x=B.k.x+D*(B.PA.x-B.k.x);B.PA.y=B.k.y+D*(B.PA.y-B.k.y);this.jv.sW(this.H,null);this.jv.pX(n,this.pB)}if((n.jK||n.Xx||n.LD)&&(!this.cS.vm||n.pp)){if(n.LD)n.xg();
this.xX.pX(n,this.pB,this.H);this.Di.a9O(n,this.B_);if(fL==1)this.Rt.pX(n);n.v9=!1}n.pp=!1;n.LD=!1;n.jK=null;
n.Lg=n.UF=n.Xx=!1};ea.prototype.mR=function(j){var n=j.target.tagName.toLowerCase(),Q=j.target.getAttribute("type"),a=i8,B=a.Uq(j.code,a.mI);
if(!((n=="input"||n=="select"||n=="button")&&a.Uq(j.code,a.tg))){if(a.abW(j)&&n!="select"){j.preventDefault()}this.B_.s9(a.as4(j));
this.hs("down")}};ea.prototype.gH=function(j){if(j.key==" ")this.B_.dU();if(i8.Uq(j.code,i8.aFX))this.B_.reset();
this.B_.Cf(i8.as4(j));var n=j.target.tagName.toLowerCase();if(i8.abW(j)&&n!="select"){j.preventDefault()}this.hs("up")};
ea.prototype.hs=function(j){var n=this.B_,Q=this.Pj(),a=Q!=null&&Q.X.length!=0;if(this.EI.rE()!=null){if(n.r(i8.tf)||n.r(i8.mI)){this.EI.a40()}return}this.C1();
var B=this.c2(i8.Gm),m=n.r(i8.Y2),R=n.r(i8.f8);if(B&&n.r(i8.oF)&&j=="down"){var q=new ar(x.E.A),U=new ar(x.E.B);
q.I=N.jM;if(R){q.data={Q:"h_stepfwd"}}else{q.data={Q:"h_stepbck"}}if(this.O0.rE()!=null&&this.O0.rE().Ys()){}else this.a(q)}if(B){var q=new ar(x.E.A),l=new ar(x.E.X2),U=new ar(x.E.B);
if(n.r(i8.ky)&&n.r(i8.Cg)){U.data={Q:x.l.Vg,Z8:"storwindow"};this.a(U)}if(!m&&j=="down")for(var b in k8.keys){var D=k8.keys[b],c=!0;
for(var v=0;v<D.length;v++)if(!n.r(D[v]))c=!1;if(c){q.I=N.r_;if(b=="hue2"&&R&&Q.T[Q.X[0]].add.SoLd==null)q.data={Q:"auto",xM:3};
else q.data={Q:"start",R9:b}}}if(n.r(i8.l)){if(m){l.data={ep:"selectAllLayers",Tu:{classID:"null",null:f2.oA("Lyr",!0)}}}else l.data=N.NJ.qy(!0)}if(n.r(i8.vj)){if(m)U.data={Q:x.l.Vg,Z8:"csize"};
else if(Q)U.data={Q:x.l.ug,ts:R}}if(n.r(i8._F)&&Q.K){l.data=N.NJ.qy()}if(n.r(i8.E)&&j=="down"){if(R)l.data={ep:"mergeVisible"};
else if(gj.af(Q).m)l.data={ep:"mergeLayersNew",Tu:{__name:"Merge Layers",classID:"Mrg2"}}}if(n.r(i8.UT)){if(R&&this.H.Ce!=N.CL)U.data={Q:x.l.Vg,Z8:"afw_fade"};
else if(m){q.I=N.KV;q.data={Q:"applylast"}}else U.data={Q:x.l.dC}}if(n.r(i8.BH)){if(m&&Q&&Q.tC(Q.X[0])){q.I=N.ir;
q.data={Q:f.WN}}else{q.I=N.ir;q.data={Q:f.Cv,mo:R}}}if(fL==1&&n.r(i8.CI)){q.I=N.ir;q.data={Q:f.Cv,Le:!0,mo:m}}if(n.r(i8.Dh)){U.data={Q:x.l.m6,_X:b3.fM}}if(n.r(i8.ky)){if(R){q.data=null;
if(m)U.data={Q:x.l.Vg,Z8:"finfo"};else l.data={ep:"inverse"}}else if(m)U.data={Q:x.l.Vg,Z8:"isize"}}if(n.r(i8.fk)){l.data={ep:(R?"cut":"copy")+"ToLayer"}}if(n.r(i8.JO)){U.data={Q:x.l.Vg,Z8:"preferences"}}if(n.r(i8.uN)){if(R){q.I=N.ir;
q.data={Q:f.X0}}else if(j=="down")U.data={Q:x.l.Vg,Z8:"newproject"}}if(n.r(i8.g3)){if(m)U.data={Q:x.l.Vg,Z8:"storwindow",uO:0};
else{U.data={Q:x.l.ws};n.reset()}}if(n.r(i8.O$)){U.data={Q:x.l.a2r};n.reset()}if(n.r(i8.D9)){U.data={Q:x.l.m6,_X:b3.Lu}}if(n.r(i8.VG)&&j=="down"){if(R){if(m)U.data={Q:x.l.Vg,Z8:"saveforweb"};
else U.data={Q:x.l.CQ}}else U.data={Q:x.l.Hq}}if(n.r(i8.xw)){if(R){q.I=N.ir;q.data={Q:f.l5};this.a(q);
q.I=N.CL;q.data={Q:"again"}}else U.data={Q:x.l.pY,I:N.CL}}if(n.r(i8.md)){U.data={Q:x.l.La}}if(n.r(i8.alk)){this.jv.ka()}if(n.r(i8.IQ)&&Q&&Q.avI()){U.data={Q:x.l.OB}}if(n.r(i8.Jb)&&Q){q.I=N.yx;
q.data={Q:"prvw"}}if(n.r(i8.N3)||n.r(i8.MH)){q.I=N.ir;q.data={Q:f.yW,BO:0};if(n.r(i8.N3))q.data.BO=R?3:2;
else q.data.BO=R?0:1}if(n.r(i8.hZ)&&Q&&Q.X.length!=0){var _=Q.T[Q.X[0]].VH();l.data={ep:_?"hide":"show",Tu:{classID:"null",null:{t:"VlLs",v:[f2.oA("Lyr",!0)]}}}}if(n.r(i8.mI)&&Q){var p=0;
if(R)p++;if(m)p+=2;q.I=N.D4;q.data={Q:"frompath",eT:[null,0,p]}}if(n.r(i8.sD)){l.data=N.MT.I3(0)}if(n.r(i8.tg)){var X=this.pB.length,g=n.r(i8.f8)?-1:1;
if(X>1)this.jv.gW((this.jv.rR()+X+g)%X)}if(n.r(i8.JS)){U.data={Q:x.l.m6,_X:b3.Lj}}if(n.r(i8.zh)){U.data={Q:x.l.m6,_X:b3.Mx}}N.EZ.aA3(n,q);
if(this.O0.rE()!=null&&this.O0.rE().Ys()){}else{if(q.data)this.a(q);if(l.data)this.a(l);if(U.data)this.a(U)}}if(!B&&m){var F;
if(n.r(i8.N3))F="Bckw";if(n.r(i8.MH))F="Frwr";if(n.r(i8.hZ))F="Back";if(n.r(i8.sD))F="Frnt";if(F){var l=new ar(x.E.X2);
l.data={ep:"select",Tu:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:F}}]},MkVs:{t:"bool",v:!1}}};
this.a(l)}}if(Q&&Q.X.length!=0){var k=Q.T[Q.X[0]],I=k.s0;if(I==1||I==3||B){var q=new ar(x.E.A),e=I==3?k.vG(Q).N:k.sJ();
if(e){var H=e.fa?Q.e.Y.join("")=="111"?1:2:0;q.I=N.yx;if(e&&n.r(i8.tf)&&H!=0){q.data={Q:"mskView",J:0}}if(e&&n.r(i8.a0T)){q.data={Q:"mskView",J:H==1?0:1}}if(e&&n.r(i8.amn)){q.data={Q:"mskView",J:H==2?0:2}}if(q.data)this.a(q)}}}var A=n.me();
if(Q&&B&&2<=A&&A<=5){var Z=[1,1,1];if(A>2){Z=[0,0,0];Z[A-3]=1}var J=new ar(x.E.A,!0);J.I=N.Kd;J.data={Q:"setcls",Y:Z};
this.a(J)}if(!n.r(i8.Gm)&&!m&&j=="down"){var q=new ar(x.E.A),U=new ar(x.E.B),s=this.F.map[this.H.Ce],E=-1;
for(var v=0;v<this.F.keys.length;v++)if(this.F.keys[v]&&this.c2(this.F.keys[v]))E=v;if(E!=-1){var z=null;
if(s.wE!=E)z=this.F.a4e[E];if(s.wE==E&&R)z=(s.auS+1)%this.F.QT[E].length;if(z!=null){var h=this.F.QT[E][z].I.id,d=this.H.za;
if((d==null||d.indexOf(parseInt(h))!=-1)&&!this.cS.vm)U.data={Q:x.l.pY,I:h}}}if(n.r(i8.Dh))U.data={Q:x.l.pY,I:N.Kd};
if(n.r(i8.D9))U.data={Q:x.l.pY,I:N.AR};if(n.r(i8.IQ))U.data={Q:x.l.m6,_X:b3.Wz,BO:2};if(n.r(i8._F))U.data={Q:x.l.m6,_X:b3.Wz,BO:3};
if(U.data)this.a(U);if(n.r(i8.a6k)&&Q&&Q.X.length==1){var k=Q.T[Q.X[0]];q.I=N.ir;var Y=k.Na(0)||k.Na(1)||k.Na(2)||k.Na(31);
q.data={Q:f.MI,L3:Y?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.a(q)}var A=n.me();if(a&&A!=-1&&this.c2(i8.Zw[A])){var C=Q.X[0],k=Q.T[C],i=i8.amu(Math.round(100*k.wT/255),A);
q.I=N.ir;q.data={Q:f.pc,L3:Math.round(255*i/100)};this.a(q)}var M=this.H.aw;if(n.r(i8.tg)){U.data={Q:x.l.dt,J:M==0?1:0};
this.a(U)}if(n.r(i8.UT)||n.r(i8.tf)&&M==2){var W=document.fullscreenElement!=null==(M==2);U.data={Q:x.l.dt,J:M==0?2:0,XW:W};
this.a(U)}if(n.r(i8.aft)&&!this.cS.vm){q.I=N.D4;q.data={Q:"qmask"};this.a(q)}}if(!n.r(i8.Gm)&&!m&&R){var q=new ar(x.E.A),U=new ar(x.E.B);
if(n.r(i8.hZ))U.data={Q:x.l.Vg,Z8:"shortcuts"};if(n.r(i8.a7x))U.data={Q:x.l.Vg,Z8:"fill"};if(n.r(i8.auJ))U.data={Q:x.l.Vg,Z8:"sel_feather"};
if(a&&(n.r(i8.Vm)||n.r(i8.ZH))){var C=Q.X[0],k=Q.T[C],$=af.Yh,P=$.length,O=$.indexOf(k.TM);q.I=N.ir;
q.data={Q:f.Iy,L3:(O+P+(n.r(i8.Vm)?1:-1))%P};this.a(q)}if(U.data)this.a(U)}var q=new ar(x.E.A),G=j=="down"&&(this.c2(i8.Va)||this.c2(i8.Bo));
if((B||m)&&G){q=new ar(x.E.X2);q.data=N.K6.UZ(B?"BckC":"FrgC");this.a(q)}else if(this.O0.rE()==null&&Q&&G&&!this.cS.vm){if(Q.K!=null){q=new ar(x.E.X2);
q.data={ep:"delete"}}else if(Q.X.length!=0){var k=Q.T[Q.X[0]];if(k.s0==1)q.data={Q:f.Qf};else if(k.s0==3)q.data={Q:f.ou};
else q.data={Q:f.mQ};q.I=N.ir}this.a(q)}if(this.O0.rE()!=null){if(n.r(i8.tf)){this.O0.rE().awC()}else{this.O0.rE().hs(Q,this,this.H,n)}}if(this.H.Ce==null)return;
var s=this.MP();if(this.O0.rE()==null||this.F.Wl)s.hs(Q,this,this.H,n)};ea.prototype.c2=function(j){var n=this.B_,Q=this.F.map[this.H.Ce].I,top=this.O0.rE(),a=this.Pj();
return n.r(j)&&!Q.qi(j,a)&&(top==null||!top.qi(j,a))};ea.prototype.fg=function(j){var n=this.avZ,Q=this.Ga;
this.H.aw=j;var a=V.gU,B=this.HW.Z;if(a(B))this.aI.removeChild(B);var m=this.MF.Z;if(a(m))this.aI.removeChild(m);
var R=this.Di.Z;if(a(R))n.removeChild(R);var q=this.jv.Z;if(a(q))n.removeChild(q);var U=this.xX.Z;if(a(U))n.removeChild(U);
if(j==0){this.aI.appendChild(B);this.aI.appendChild(m);Q.appendChild(n);n.appendChild(R);n.appendChild(q);
n.appendChild(U)}if(j==1){this.aI.appendChild(B);n.appendChild(q)}if(j==2){n.appendChild(q)}this.jv.fg(j==2?1:0);
this.kT()};ea.prototype.ae3=function(j){if(this.zo())return 1;if(V.aqY()==0){this.H={};this.rs=function(n,Q){return Math.sqrt(n*Q)}}return-1};
ea.aHH=function(){var j=fL==0?[[{I:new N.mL,iM:ba},{I:new N.j0,iM:gx}],[{I:new N._1,iM:ag,QN:0},{I:new N.Wg,iM:du,QN:0}],[{I:new N.j4,iM:gJ,QN:0},{I:new N.JV,iM:kv,QN:0},{I:new N.oJ,iM:g3,QN:0}],[{I:new N.wA,iM:iw,QN:0},{I:new N.Zk,iM:dl,QN:0},{I:new N.NM,iM:kO,QN:0}],[{I:new N.ayo,iM:iQ},{I:new N.aDl,iM:hi},{I:new N.Ie,iM:j2,QN:0},{I:new N.wu,iM:ho,QN:0}],[{I:new N.Yc,iM:g1},{I:new N.Gt,iM:hK,QN:0},{I:new N.gx,iM:fC}],[{I:new N.ac,iM:hN,QN:0},{I:new N.cf,iM:cN,QN:0},{I:new N.j4(!0),iM:io,QN:0},{I:new N.yQ,iM:c6,QN:0},{I:new N.ac_,iM:bD,QN:0},{I:new N.Fw,iM:hv,QN:0}],[{I:new N.c3,iM:eM,QN:0},{I:new N.zv,iM:hU,QN:0},{I:new N.i0,iM:h5,QN:0}],[{I:new N.FY,iM:c7,QN:0}],[{I:new N.YA,iM:cY,QN:0},{I:new N.Ic,iM:kB,QN:0},{I:new N.Ch(!0),iM:fx,QN:0}],[{I:new N.$A,iM:il,QN:0},{I:new N.Ch,iM:fx,QN:0}],[{I:new N.rK,iM:gF,QN:0},{I:new N.SP,iM:gy,QN:0},{I:new N.sx,iM:bp,QN:0}],[{I:new N.yj,iM:b_,QN:0},{I:new N.V8,iM:k5,QN:0},{I:new N.ui,iM:jp,QN:0}],[{I:new N.d3,iM:bl},{I:new N.C0,iM:bl}],[{I:new N.W3(0),iM:cZ},{I:new N.Xq,iM:ax},{I:new N.W3(1),iM:cZ},{I:new N.W3(2),iM:cZ},{I:new N.W3(3),iM:cZ},{I:new N.W3(4),iM:cZ}],[{I:new N.ZR,iM:fY},{I:new N.hH,iM:bk}],[{I:new N.Rect,iM:hV},{I:new N.$v,iM:ap},{I:new N.qm,iM:kA},{I:new N.Q9,iM:a9},{I:new N.KL,iM:en}],[{I:new N.TC,iM:hx},{I:new N.Zh,iM:aV}],[{I:new N.EZ,iM:df}]]:[[{I:new N.mL,iM:ba}],[{I:new N.hH,iM:bk}],[{I:new N.W3(0),iM:cZ}],[{I:new N.Xq,iM:ax}],[{I:new N.d3,iM:bl},{I:new N.C0,iM:bl}],[{I:new N.qm,iM:kA}],[{I:new N.Rect,iM:hV},{I:new N.$v,iM:ap}],[{I:new N.ZF,iM:hx}],[{I:new N.O9,iM:il}],[{I:new N.Yc,iM:g1}],[{I:new N.TC,iM:hx},{I:new N.Zh,iM:aV}],[{I:new N.EZ,iM:df}]],q="",U="";
if(fL==0&&!V.qZ(1))j[6].splice(2,1);var n=fL==0?[i8.md,i8.W7,i8.Cm,i8.alk,i8.vj,i8.ky,i8.fk,i8.s3,i8.VG,i8.E,i8.BH,null,i8.g3,i8.xw,i8.O$,i8.l,i8.Cg,i8.Dh,i8.oF]:[i8.md,i8.l,i8.O$,null,i8.xw,i8.a0T,i8.W7,null,i8.BH,i8.ky,i8.Dh,i8.oF],Q=[{I:N.yx,nD:!1,Ha:[i8.a6v,i8.Wc]},{I:N.yx,nD:!1,Ha:[i8.a6v],ND:[N.Kd]},{I:N.Kd,nD:!1,Ha:[i8.Wc]},{I:N.uE,nD:!0,Ha:[i8.Gm],ND:[N.pi]},{I:N.pi,nD:!0,Ha:[i8.Gm],ND:[N.uE]},{I:N.fI,nD:!0,Ha:[i8.Gm],ND:[N.rB,N.qB,N.h8]}];
if(fL==0)Q.push({I:N.rB,nD:!0,Ha:[i8.Gm],ND:[N.fI,N.hp,N.a8,N.MS,N.xD,N.Zp]});Q.push({I:N.nQ,nD:!0,Ha:[i8.Gm]});
var a={ax_:Q,QT:j,a4e:[],keys:n,Bp:[{I:new N.arx,iM:gn},{I:new N.avy,iM:iZ},{I:new N.aGB,iM:fr},{I:new N.Yc(!0),iM:g1},{I:new N.Su,iM:dt},{I:new N.KY,iM:cA}],aak:[{I:new N.vo},{I:new N.History},{I:new N.pw},{I:new N.cO},{I:new N.mC},{I:new N.TO}],map:{},aC0:null,Wl:null,I5:null},B=a.QT;
for(var v=0;v<B.length;v++){var m=B[v];if(ex=="---")continue;for(var R=0;R<m.length;R++)if(m[R].QN!=null&&m[R].QN!=fL){m.splice(R,1);
R--}if(m.length==0){B.splice(v,1);a.keys.splice(v,1);v--}}for(var v=0;v<a.QT.length;v++){var l=a.QT[v];
if(l=="---")continue;var b=a.keys[v];for(var R=0;R<l.length;R++){a.map[l[R].I.id]=l[R];l[R].wE=v;l[R].auS=R;
var D=i4.get(l[R].I.name);U+="<li>"+l[R].I.id+": "+D+"</li>";q+="\t"+JSON.stringify(l[R].I.name)+", "+(b?"\""+b.wp+"\"":"null")+", "+l[R].I.id+", // "+D+"\n"}a.a4e[v]=0}for(var v=0;
v<a.Bp.length;v++)a.map[a.Bp[v].I.id]=a.Bp[v];for(var v=0;v<a.aak.length;v++)a.map[a.aak[v].I.id]=a.aak[v];
return a};function e6(j){eD.call(this);if(j==null)return;this.Uw=null;this.WC=null;this.Z=V.d("div","sbar"+" "+j);
this.yV=new V.d("div","top");this.yV.innerHTML="> <";this.Z.appendChild(this.yV);this.QR=1;this.yV.addEventListener("click",this.aGV.bind(this),!1)}e6.prototype=new eD;
e6.prototype.aGV=function(j){if(this.Uw!=null&&this.Uw<500&&this.QR==0)return;if(this.QR==0)this.GQ(!0);
else this.collapse(!0)};e6.prototype.asI=function(j){this.QR=j;this.yV.innerHTML=this.QR==0?"< >":"> <"};
e6.prototype.adc=function(){var j=new ar(x.E.B,!0);j.data={Q:x.l.po};this.a(j)};e6.prototype.GQ=function(j){this.asI(1);
if(j)this.adc()};e6.prototype.collapse=function(j){this.asI(0);if(j)this.adc()};e6.prototype.KO=function(){return this.QR==1};
function i_(j,n){e6.call(this,"vcolumn");this.P1=j;this.ab2=n;this.Uv();this.Zj=V.d("div");V.v(this.Zj,"cursor:default;");
this.agH=this.a8$.bind(this);this.ask=this.a2Y.bind(this);this.a6b=this.aDe.bind(this);V.ON(this.Z,this.agH);
this.Z.appendChild(this.Zj);this.an5=V.d("div");this.Zj.appendChild(this.an5);this.M_=-1;this.akB=V.d("div","float");
var Q=this.Dq=V.d("canvas","gsicon"),a=Math.round(12*V.lS());Q.width=Q.height=a;var B=Q.getContext("2d");
B.moveTo(2,2);B.lineTo(a-2,a-2);B.moveTo(2,7);B.lineTo(a-7,a-2);B.stroke();V.v(this.Dq,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
V.as(this.Dq);V.ON(this.Dq,this.agH);V.z6(Q);this.AU=[];this.ar4=[];this.aFj=null;this.On=null;this.aEJ=0}i_.prototype=new e6;
i_.prototype.a8$=function(j){var n=j.target==this.Dq;if(!n){if(j.target!=this.Z)return;if(!this.KO())return}else{var Q=this.AU[this.M_].$C;
Q.style.pointerEvents="none";var a=Q.getBoundingClientRect();this.aFj=[a.width,a.height];this.ar4[this.M_]=[a.width,a.height]}j.stopPropagation();
this.On=V.MR(j,document.body);this.aEJ=this.P1;V.NF(document,this.ask);V.GL(document,this.a6b)};i_.prototype.a2Y=function(j){var n=V.MR(j,document.body);
if(this.KO()){this.P1=this.aEJ+this.On.x-n.x;this.Uv()}else{var Q=this.ar4[this.M_],a=this.aFj;Q[0]=a[0]+this.On.x-n.x;
Q[1]=a[1]+n.y-this.On.y}var B=new ar(x.E.B,!0);B.data={Q:x.l.po};this.a(B)};i_.prototype.aDe=function(j){if(!this.KO()){var n=this.AU[this.M_].$C;
n.style.pointerEvents="auto"}V.na(document,this.ask);V.rq(document,this.a6b)};i_.prototype.a1C=function(j){j.P("showFloat",this.aCT,this);
j.P("hideFloat",this.KK,this);this.AU.push(j);j.parent=this;this.Zj.appendChild(j.Z)};i_.prototype.apf=function(v){var j=this.AU[v];
j.removeEventListener("showFloat",this.aCT,this);j.removeEventListener("hideFloat",this.KK,this);this.AU.splice(v,1);
j.parent=null;this.Zj.removeChild(j.Z)};i_.prototype.aqr=function(){return this.AU.length};i_.prototype.bK=function(){for(var v=0;
v<this.AU.length;v++)this.AU[v].bK()};i_.prototype.aCT=function(j){this.bK();var n=this.akB;this.an5.appendChild(n);
this.M_=this.AU.indexOf(j.currentTarget);var Q=this.AU[this.M_].$C;V.cV(n);n.appendChild(Q);n.appendChild(this.Dq);
this.rs(this.Uw,this.WC)};i_.prototype.KK=function(j){this.bK();if(this.M_!=-1){this.an5.removeChild(this.akB);
this.M_=-1}};i_.prototype.Uv=function(){function j(n){return Math.round(n*V.lS())/V.lS()}V.v(this.Z,"width: "+this.P1+"px; border-left-width:"+j(4)+"px; cursor:ew-resize;")};
i_.prototype.GQ=function(j){this.Uv();this.KK();for(var v=0;v<this.AU.length;v++)this.AU[v].GQ();e6.prototype.GQ.call(this,j)};
i_.prototype.collapse=function(j){this.Z.removeAttribute("style");for(var v=0;v<this.AU.length;v++)this.AU[v].collapse();
e6.prototype.collapse.call(this,j)};i_.a6W=11;i_.prototype.rs=function(j,n){this.Uw=j;this.WC=n;n-=i_.a6W;
var Q=this.AU.length;if(Q==0)return;if(!this.KO()){var a=n<400?n:400+(n-400)*.5;for(var v=0;v<Q;v++){var B=this.AU[v],m=this.ar4[v];
B.rs(m?m[0]:this.P1,m?m[1]:a)}}else{var R=n;for(var v=0;v<Q;v++){var B=this.AU[v],q=B.a8V();if(v==Q-1){q=R;
B.Z.style.borderBottom="none"}B.rs(this.P1,q);R-=q+4}}};function ke(j){eD.call(this);this.Z=V.d("div");
this.Zj=null;this.P4=0;this.Ht=0;this.ahP=j;this.a87=this.Vk.bind(this);this.aEt=this.a5.bind(this);
this.azZ=this.mz.bind(this);this.UM=null;this.jw=null;this.aHq=null;var n=this.Z,a="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
V.ON(n,this.a87);n.addEventListener("touchmove",V.bi,!1);this.axd=!0;this.K3=[];var Q=this.a2z=V.d("div");
V.v(Q,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");n.appendChild(Q);
var B=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",a+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",a+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",a+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var v=0;v<B.length;v++){var m=new ef(B[v]);this.K3.push(m);V.v(m.Z,"margin-left:"+(v<7?4:0)+"px;cursor:pointer;");
m.P("click",this.Ks,this)}}ke.prototype=new eD;ke.prototype.S=function(){var j=this.a2z;V.cV(j);for(var v=0;
v<this.K3.length;v++){var n=this.K3[v];if(v<5)n.S();j.appendChild(n.Z)}};ke.prototype.Ks=function(j){var v=this.K3.indexOf(j.currentTarget);
if(v==0){if(window.showCap)window.showCap();return}var n=" issues learn blog api twitter facebook".split(" "),Q=["","//github.com/photopea/"+["photo","vector"][fL]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],a=window.ga;
if(a)a("send","event","Links",n[v]);var B=new ar(x.E.B,!0);B.data={Q:x.l.hy,link:Q[v]};this.a(B)};ke.prototype.Vk=function(j){if(j.amz){j.preventDefault();
j.stopPropagation()}var n=window;V.NF(n,this.aEt);V.GL(n,this.azZ);n=this.Zj;this.UM=new eE(parseInt(n.style.left),parseInt(n.style.top));
this.jw=V.MR(j,this.Z);this.aHq=n.getBoundingClientRect()};ke.prototype.a5=function(j){var n=V.MR(j,this.Z),Q=this.UM.x+n.x-this.jw.x,a=this.UM.y+n.y-this.jw.y,B=this.P4-this.aHq.width,m=this.Ht-this.aHq.height;
if(this.ahP)this.Zj.style.left=Math.min(0,Math.max(B,Q))+"px";else this.Zj.style.top=Math.min(0,Math.max(m,a))+"px";
if(Q-10>0){this.jw.x=n.x-10;this.UM.x=0}if(Q+10<B){this.jw.x=n.x+10;this.UM.x=B}};ke.prototype.mz=function(j){var n=window;
V.na(n,this.aEt);V.rq(n,this.azZ)};ke.prototype.a3F=function(j){if(this.Zj){this.Z.removeChild(this.Zj)}this.Zj=j;
this.Z.appendChild(j);j.style.position="absolute";j.style.appRegion="no-drag";if(this.ahP)j.style.left=0;
else j.style.top=0};ke.prototype.rs=function(j,n){this.P4=j;this.Ht=n;V.v(this.Z,"position:relative; width: "+j+"px; height: "+n+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var Q=this.Zj.firstChild,a=this.a2z,B=Q?Q.firstChild.getBoundingClientRect().width:1e9,m=170,R=navigator.windowControlsOverlay,q=0,U=0;
if(R&&R.visible){var l=R.getTitlebarAreaRect();U=l.x;q=j-l.width-l.x;if(q<0)q=0;B+=l.x;m+=q}var b=this.axd&&j>B+m;
a[bw.de][bw.aBg]=b?"":bw.au4;a[bw.de][bw.Jo]=q+"px";if(Q){Q[bw.de][bw.axF]=U+"px";Q[bw.de][bw.aaK]=bw.ann}var D=this.K3;
for(var v=0;v<D.length;v++){var c=v>4||j-B-m>330?"":bw.au4,_=D[v];_.Z.style.display=c}};ke.prototype.a2i=function(){this.Zj.style.left="0";
this.Zj.style.top="0"};function gt(){eD.call(this);this.H=null;this.kA=gt.O$;this.a7o="";this.Z=V.d("div","rightbar");
this.Lc=[new i_(300),new i_(268,!0)];this.AU=[new eW,new eW,new eW,new eW,new eW,new eW,new eW];this.aFk=[]}gt.prototype=new eD;
gt.prototype.S=function(){var j=this.kA;for(var v=0;v<j.length;v++)j[v].cB.S()};gt.O$=fL==0?[{cB:new g4,on:3},{cB:new da,on:1},{cB:new a4,on:4},{cB:new hc,on:2},{cB:new gT(!0),on:5},{cB:new b2(!0),on:5},{cB:new jV,on:0},{cB:new dk,on:5},{cB:new e2,on:3},{cB:new aS,on:0},{cB:new iv,on:3},{cB:new gj,on:2},{cB:new e_,on:4},{cB:new g0,on:3},{cB:new aj,on:5},{cB:new gT(!1),on:5},{cB:new kV,on:2},{cB:new hS,on:3},{cB:new eZ,on:1},{cB:new fF,on:0},{cB:new dH,on:5},{cB:new eu,on:6,Ay:!0}]:[{cB:new ah,on:5},{cB:new gT(!0),on:5},{cB:new gT(!1),on:5},{cB:new dk,on:5},{cB:new aS,on:0},{cB:new gj,on:2},{cB:new eu,on:6,Ay:!0}];
if(V.qZ(1))gt.O$.push({cB:new dZ,on:6,Ay:!0});gt.O$.push({cB:new hM,on:6,Ay:!0},{cB:new e7,on:6,Ay:!0});
(function(){var j=[{id:eX.D9.a5h,name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var v=0;v<j.length;v++)gt.O$.push({cB:new jD(j[v],100+v),on:6,Ay:!0})}());gt.prototype.adD=function(j){for(var v=0;
v<j.length;v++){var n=j[v],Q=new jD(n,"plg_"+n.name);this.kA.push({cB:Q,on:6});this.aFk.push(Q.BF)}this.HD()};
gt.prototype.sW=function(j,n){this.H=j;var Q=this.kA;for(var v=0;v<Q.length;v++)Q[v].cB.sW(j,n);if(n==b3.Ym||n==b3.Od)this.HD()};
gt.prototype.xB=function(j){var n=this.kA;for(var v=0;v<n.length;v++)n[v].cB.xB(j)};gt.prototype.rs=function(j,n){this.Uw=j;
this.WC=n;this.HD();this.Lc[0].rs(j,n);this.Lc[1].rs(j,n)};gt.prototype.HD=function(){var j=this.H,n=this.Uw,Q=this.WC;
if(j==null||n==0)return;var a=j.Mf.concat(this.aFk),B=n<500||n<700&&n<Q,m=JSON.stringify(a)+","+B;if(m!=this.a7o){this.a7o=m;
V.cV(this.Z);var R=[];for(var v=0;v<this.Lc.length;v++){var q=this.Lc[v];R[v]=q.KO();while(q.aqr()!=0)q.apf(0);
q.GQ()}var U=[];for(var v=0;v<this.AU.length;v++){var l=this.AU[v];l.GQ();while(l.abz()!=0)l.aT(0);U.push(0)}for(var v=0;
v<a.length;v++){var b=this.aha(a[v].toString());if(b==null)continue;this.AU[b.on].N$(b.cB);this.AU[b.on].gW(0);
U[b.on]++}var D=[];for(var v=0;v<U.length;v++){if(U[v]==0)continue;var c=v<3||B?1:0,q=this.Lc[c];q.parent=this;
q.a1C(this.AU[v]);D[c]=!0}for(var v=0;v<this.Lc.length;v++)if(D[v])this.Z.appendChild(this.Lc[v].Z);
this.Lc[0].collapse();if(n<700||this.H.compact||!R[1]){this.Lc[1].collapse()}var _=new ar(x.E.B,!0);
_.data={Q:x.l.po};this.a(_)}};gt.prototype.aha=function(j){for(var v=0;v<this.kA.length;v++)if(this.kA[v].cB.BF==j)return this.kA[v]};
gt.prototype.an3=function(j){var n=this.aha(j);this.AU[n.on].N$(n.cB)};gt.prototype.pX=function(j,n,Q){var a=this.kA;
for(var v=0;v<a.length;v++)a[v].cB.pX(j,n,Q)};gt.prototype.v1=function(j,n,Q,a,B){var m=this.kA;for(var v=0;
v<m.length;v++)m[v].cB.v1(j,n,Q,a,B)};gt.prototype.Z3=function(j,n,Q,a,B){var m=this.kA;for(var v=0;
v<m.length;v++)m[v].cB.Z3(j,n,Q,a,B)};gt.prototype.pU=function(j,n,Q,a,B){var m=this.kA;for(var v=0;
v<m.length;v++)m[v].cB.pU(j,n,Q,a,B)};function iD(j,n){e6.call(this,"toolbar");this.Z.removeChild(this.yV);
this.Mo=V.d("div","tools");this.Z.appendChild(this.Mo);this.za=null;this.Ce=null;this.afX=n;this.t2=null;
this.e8=null;this.abm=-1;this.at5={};this.aB0=j;this.F=null;this.IH=null;this.QP=null;this.ak8=null;
this.Vc=new gD;this.Vc.Z.style.marginTop="5px";this.Vc.Z.style.marginBottom="3px";this.Vc.parent=this;
this.Se=new ef(V.Mn("lrs/mask"),!1,[6,6,1]);this.Se.P("click",function(m){var R=new ar(x.E.A,!0);R.I=N.D4;
R.data={Q:"qmask"};this.a(R)},this);var Q=new is(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
Q.P(x.E.f,this.apK,this);var a=V.d("span","rangecontFloat form padded");a.appendChild(Q.Z);V.v(a,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var B=this.Z;this.a3C=[!1,!1,!1,!1];this.L7=new ef(V.Mn("kb"),!1,"Virtual Keys");this.L7.P("click",function(m){var R=this.L7.Z.getBoundingClientRect();
a.style.top=R.top-110+"px";a.style.left=R.left+R.width+8+"px";if(V.gU(a)){V.XX({Z:a},B)}else{B.appendChild(a);
V.di({Z:a})}},this)}iD.prototype=new e6;iD.prototype.apK=function(j){var n=j.target.j();this.L7.p(n[0]||n[1]||n[2]||n[3]);
var Q=new ar(x.E.B,!0);for(var v=0;v<4;v++){if(n[v]!=this.a3C[v]){Q.data={Q:x.l.au8,vm:n[v],aom:[i8.z9()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][v]};
this.a(Q)}}this.a3C=n.slice(0)};iD.prototype.a9O=function(j,n){this.t2=n;this.e8=j;if(j==null||j.X.length==0||j.T[j.X[0]]==null)return;
var Q=j.Se()!=null,a=j.e.Y,B=j.T[j.X[0]].s0,m=B==1||B==3||Q||a[0]+a[1]+a[2]==1;this.Vc.adg(m);this.Se.p(Q)};
iD.prototype.aCs=function(j,n){var Q=j.length,a=[];for(var v=0;v<Q;v++)a[v]=j[v].slice(0);j=a;var B=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],m=Math.min(B.length/2,Q-n);
for(var v=0;v<m;v++){var R=B[2*v],q=B[2*v+1];j[R]=j[R].concat(j[q]);j[q]=null}for(var v=0;v<j.length;
v++)if(j[v]==null){j.splice(v,1);v--}return j};iD.prototype.abH=function(j,n){for(var v=0;v<n.length;
v++)for(var Q=0;Q<n[v].length;Q++)if(n[v][Q].I.id==j)return v};iD.prototype.afj=function(j){var n=this.aB0;
this.IH=[];this.QP=[];this.ak8=[];this.F=[];var Q=n.QT;if(j!=null&&this.afX)Q=this.aCs(Q,j);var a=this.za;
if(a){var B=[];for(var v=0;v<Q.length;v++){var m=[];for(var R=0;R<Q[v].length;R++){var q=Q[v][R];if(a==null||a.indexOf(parseInt(q.I.id))!=-1)m.push(q)}if(m.length>0)B.push(m)}Q=B}for(var v=0;
v<Q.length;v++){var U=[],l=this.IH.length,b=null,D=-1;for(var R=0;R<Q[v].length;R++){var q=Q[v][R].I,c=this.abH(q.id,n.QT),_=n.keys[c];
if(_==i8.Dh&&R==1)_=i8.D9;this.F.push(q);var p=new a6(q.name,_,q.$e,this.IH.length,v,Q[v].length>1);
this.IH.push(p);var X=this.at5[q.id];if(X==null)X=0;if(X>D){D=X;b=p}p.P(x.E.f,this.BN,this);p.P("mover",this.SX,this);
U.push({name:q.name,l8:q.$e,Ha:_?_.wp:""})}this.QP.push(b);this.ak8.push(U.length==1?null:[U,l])}};iD.prototype.rs=function(j,n){var Q=this.WC=n,a=20;
if(1<V.lS()&&V.lS()<1.5)a=20/V.lS();a+=11;var B=this.WC>640&&fL==0?2:1,m=34+5+3+B*(a+4),R=Math.floor((Q-m)/a);
if(R!=this.abm){this.abm=R;this.afj(R);this.R$()}var q=this.QP.length*a+m,U=Math.min(1,Q/q);if(.75<=U){V.v(this.Mo,"width:34px; transform-origin: top left; transform: scale("+U+","+U+");");
V.v(this.Z,"height:"+(n-2)+"px;")}else{Q-=4;V.v(this.Mo,"height: "+Q+"px;  width:"+Math.ceil(q/Q)*34+"px");
V.v(this.Z,"")}};iD.prototype.S=function(){if(this.F==null)return;for(var v=0;v<this.IH.length;v++)this.IH[v].S()};
iD.prototype.BN=function(j){var n=new ar(x.E.B,!0);n.data={Q:x.l.pY,I:this.F[j.id].id};this.a(n)};iD.prototype.axW=function(j){var n=j.target.a7e+j.target.IF()[0];
this.IH[n].mz(null,!0)};iD.prototype.SX=function(j){var n=this.t2,Q=new ar(x.E.B,!0);Q.data={Q:x.l.HR};
this.a(Q);var a=j.target,B=this.ak8[a.wE];if(B==null)return;var m=new ig(B[0],null,!0);m.a7e=B[1];m.wE=a.wE;
m.P("select",this.axW,this);m.parent=this;m.S();var R=a.Z.getBoundingClientRect(),Q=new ar(x.E.B,!0);
Q.data={Q:x.l.Ix,cB:m,x:R.left+R.width+8,y:R.top};if(n==null||!(n.r(i8.Wc)||n.r(i8.Gm)))this.a(Q)};iD.prototype.R$=function(j){if(j==null)j=this.Ce;
this.Ce=j;if(this.F==null)return;this.at5[j]=Date.now();var n=-1;for(var v=0;v<this.F.length;v++)if(this.F[v].id==j)n=v;
for(var v=0;v<this.IH.length;v++){var Q=this.IH[v];Q.aFu(n==v)}if(n==-1)return;this.QP[this.IH[n].wE]=this.IH[n];
V.cV(this.Mo);var a=this.QP;for(var v=0;v<a.length;v++){this.Mo.appendChild(a[v].Z)}if(!this.afX)return;
this.Mo.appendChild(this.Vc.Z);if(this.WC>640&&fL==0)this.Mo.appendChild(this.Se.Z);this.Mo.appendChild(this.L7.Z)};
iD.prototype.sW=function(j,n){if(n==b3.Od&&j.za){this.za=j.za;this.afj();this.R$()}this.Vc.aaO(j.Z4,j.g7);
if(fL==1&&(n==b3.gl||n==b3.Od)){this.Vc.aEd(j,this.e8)}};function a6(j,n,Q,a,B,m){eD.call(this);this.r0=0;
this.bB=this.aGJ.bind(this);this.wE=B;this.$f=a;this.$I=j;this.kh=n;this.aIa=m;this.$e=Q;this.Z=V.d("button","");
this.Z.innerHTML=V.Mn(this.$e);if(this.aIa){var R=V.d("img","gsicon");R.setAttribute("src",PIMG["tools/corner"]);
V.v(R,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.Z.appendChild(R)}this.Z.addEventListener("touchstart",V.bi,!1);
this.S();V.ON(this.Z,this.Vk.bind(this));V.GL(this.Z,this.mz.bind(this));this.Z.addEventListener("contextmenu",this.bB,!1);
this.Z.addEventListener("contextmenu",a6.Ju,!1)}a6.prototype=new eD;a6.Ju=function(j){j.stopPropagation();
j.preventDefault();return!1};a6.prototype.S=function(){var j=this.kh?" ("+this.kh.wp+")":"";this.Z.setAttribute("title",i4.get(this.$I)+j)};
a6.prototype.Vk=function(j){a6.cl=this.$f;this.r0=setTimeout(this.bB,160)};a6.prototype.mz=function(j,n){if(n==null&&a6.cl!=this.$f)return;
clearTimeout(this.r0);var Q=new ar(x.E.f,!1);Q.target=this;Q.id=this.$f;this.a(Q)};a6.prototype.aGJ=function(j){var n=new ar("mover",!1);
n.target=this;n.id=this.$f;this.a(n)};a6.prototype.aFu=function(j){this.Z.className=j?"toolbtn active":"toolbtn"};
function fZ(){eD.call(this);this.Z=V.d("div","topbar");this.afG=V.d("span");this.ael=V.d("span");this.a0I=0;
this.Z.appendChild(this.afG);this.Z.appendChild(this.ael);this.uM=null;this.H=null;this.n2=[];this.Mf=[];
var j=this.Vk.bind(this);for(var v=0;v<fZ.data.length;v++){var n=V.d("button");this.n2.push(n);var Q=fZ.data[v];
n.addEventListener("mouseover",j,!1);V.ON(n,j)}this.s4=new ef([0,13,0],!1,null,!0);this.s4.P("click",this.xV,this);
this.Ip=new ef(V.Mn("tools/zoom",null,"autoscale"),!1,[12,86]);this.Ip.P("click",this.xV,this);this.apA=new ef("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.apA.P("click",this.xV,this)}fZ.prototype=new eD;fZ.prototype.a4T=function(){if(this.Mf.length!=0)return;
for(var v=0;v<fZ.data.length;v++){var j=fZ.data[v],n=new ig(j.items,j.H7);n.parent=this;this.Mf.push(n)}this.S()};
fZ.prototype.S=function(){this.s4.S();this.Ip.S();this.apA.S();for(var v=0;v<this.n2.length;v++)this.n2[v].textContent=i4.get(fZ.data[v].name);
this.anR();for(var v=0;v<this.Mf.length;v++)this.Mf[v].S()};fZ.prototype.xV=function(j){var n=new ar(x.E.B,!0);
if(j.target==this.s4)n.data={Q:x.l.Vg,Z8:"account"};else if(j.target==this.Ip)n.data={Q:x.l.dC};else n.data={Q:x.l.dt,XW:!0};
this.a(n)};fZ.prototype.DZ=function(j,n){this.uM=j;this.H=n};fZ.prototype.sW=function(j,n){this.H=j;
if(n==b3.Od){var Q=j.a1p;V.cV(this.afG);for(var v=0;v<this.n2.length;v++){var a=fZ.data[v];if(Q==null||Q[v]==1||Q[v]instanceof Array)this.afG.appendChild(this.n2[v]);
if(Q!=null&&Q[v]instanceof Array){this.a4T();this.Mf[v].a9m(Q[v])}}var B=this.ael;V.cV(B);if(j.ig){B.appendChild(this.s4.Z)}B.appendChild(this.Ip.Z);
B.appendChild(this.apA.Z)}this.anR()};fZ.prototype.anR=function(j,n){var Q=this.s4,a=12255232;if(bv.se())a=bv.uz()?43520:16755200;
V.v(Q.Z,"color:#ffffff; background-color:#"+K.EA(a))};fZ.prototype.Vk=function(j){this.a4T();var v=this.n2.indexOf(j.currentTarget),n=this.Mf[v];
if(j.type=="mouseover"&&!V.gU(this.Mf[this.a0I].Z))return;if(V.gU(n.Z))return;j.amz=!0;this.a0I=v;for(var v=0;
v<fZ.data.length;v++)this.Mf[v].update(this.uM,this.H);var Q=j.target.getBoundingClientRect(),a=new ar(x.E.B,!0);
a.data={Q:x.l.Ix,cB:n,x:Q.left,y:Q.top+Q.height+2,adT:!0};this.a(a)};fZ.as8=function(j){var n=i8,Q=n.Gm,a=n.f8,B=n.Y2,m=function(l){return{m:l!=null}},R=function(l){return{m:l!=null&&l.K!=null}},q={name:[0,5],items:[{name:[7,0],m:m,Ha:[Q,n.l]},{name:[7,1],Ha:[Q,n._F],m:R},{name:[7,2],Ha:[a,Q,n.ky],m:R,Kl:!0},{name:"Remove BG",m:function(l){return{m:V.qZ(1)&&l!=null&&l.X.length!=0&&!l.T[l.X[0]].s.ke()}}},{name:[7,8],m:m,lM:!0},{name:[7,13],lM:!0,m:function(l){return{m:l!=null&&l.X.length!=0&&!l.T[l.X[0]].s.ke()}}},{name:"Subject",m:function(l){return{m:l!=null&&l.X.length!=0&&!l.T[l.X[0]].s.ke()}},Kl:!0},{name:[7,11],lM:!0,m:function(l){return{m:l!=null&&l.X.length!=0&&!l.T[l.X[0]].s.ke()}}},{name:[7,3],m:m,Kl:!0,sub:[{name:[7,9],lM:!0,m:R},{name:[19,3,0],lM:!0,m:R},{name:[7,4],lM:!0,m:R},{name:[7,5],lM:!0,m:R},{name:[7,6],lM:!0,m:R,Ha:"Shift+F6"}]},{name:"Grow",m:R},{name:"Similar",m:R,Kl:!0},{name:[7,10],m:R,Kl:!0},{name:[6,6,1],m:function(l){return{m:l!=null,cp:l!=null&&l.Se()!=null}},Ha:[n.aft],Kl:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],m:R}],H7:[{o:x.E.X2,h:N.NJ.qy(!0)},{o:x.E.X2,h:N.NJ.qy()},{o:x.E.X2,h:{ep:"inverse"}},{o:x.E.A,I:N.D4,h:{Q:"bgrm",J:1}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"crange"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"magiccut"}},{o:x.E.A,I:N.D4,h:{Q:"bgrm",J:2}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"redge"}},{sub:[{o:x.E.B,h:{Q:x.l.Vg,Z8:"sel_border"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"sel_smoothness"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"sel_expand"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"sel_contract"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"sel_feather"}}]},{o:x.E.X2,h:{ep:"grow",Tu:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{o:x.E.X2,h:{ep:"similar",Tu:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{o:x.E.B,h:{Q:x.l.pY,I:N.ea}},{o:x.E.A,I:N.D4,h:{Q:"qmask"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"loadsel"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"savesel"}}]};
if(j){var U=q.items.length-1;q.items.splice(U-2,0,{name:[6,49],Ha:[Q,n.fk],Kl:!0});q.H7.splice(U-2,0,{o:x.E.X2,h:{ep:"copyToLayer"}});
q.items.splice(U-1,0,{name:[10,16],Ha:[B,Q,n.xw]});q.H7.splice(U-1,0,{o:x.E.B,h:{Q:x.l.pY,I:N.CL}})}return q};
fZ.vq=function(j,n){if(j==null||j.X.length==0)return!1;var Q=j.T[j.X[0]];return Q.add.TySh!=null&&n.Ce==N.BT};
fZ.aqc=function(){var j=i8,n=j.Gm,Q=j.f8,a=j.Y2,B=function(m){return{m:m!=null}};return[[{name:[5,0],Ha:[n,j.IQ],m:function(m,R){return{m:m!=null&&(m.avI()||fZ.vq(m,R))}}},{name:[5,1],Ha:[n,j.vj],m:B},{name:[5,2],Ha:[n,j.md],m:function(m,R){return{m:fZ.vq()||V.gX()||R.vT!=null||R.kn!=null||R.arP!=null}}},{name:[2,2],m:function(m,R){return{m:m!=null&&(m.K!=null||fZ.vq(m,R))}},Ha:"Delete",Kl:!0}],[{o:x.E.B,h:{Q:x.l.OB}},{o:x.E.B,h:{Q:x.l.ug}},{o:x.E.B,h:{Q:x.l.La}},{o:x.E.X2,h:{ep:"delete"}}]]};
fZ.data=function(){var j=i8,n=j.Gm,Q=j.f8,a=j.Y2,B=function(X){return{m:X!=null&&X.X.length!=0}},m=function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].add.SoLd!=null}},R=function(X){return{m:X!=null}},q=function(X){return{m:X!=null&&X.rV(!1)}},U=[],l=[],b="none maxx avrg medn minn rang stdv summ vari".split(" "),D=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var v=0;v<b.length;v++){U.push({name:D[v],m:function(X,g){if(X==null||X.X.length!=1)return{m:!1};
var F=X.T[X.X[0]].add.SoLd;if(F==null)return{m:!1};return{m:!0,cp:F.Impr.v.classID==this.aw1}}.bind({aw1:b[v]})});
l.push({o:x.E.A,I:N.ir,h:{Q:f.db,L3:b[v]}})}var c=fZ.aqc(!0),_=[{name:[0,0],items:[{name:[5,3],Ha:[a,n,j.uN],title:[11,7],lM:!0},{name:[1,0],Ha:[n,j.g3],lM:!0},{name:[1,11],lM:!0,m:R},{name:["VAR0 VAR1",[1,0],[0,14]],Kl:!0,sub:[{name:"From Any Folder"},{name:"Storage",lM:!0,Ha:[a,n,j.g3]},{name:[1,5],lM:!0},{name:[11,0],lM:!0},{name:["PSD VAR0",[25,0]],lM:!0}]},{name:[1,18],Kl:!0,m:R,sub:[{name:"PNG",Ha:"Imgur.com",m:function(X,g){return{m:X!=null&&g.Qz}}},{name:"JPG",Ha:"Imgur.com",m:function(X,g){return{m:X!=null&&g.Qz}}},{name:fL==0?"PSD":"AI",Ha:["Photo","Vector"][fL]+"pea.com",m:function(X,g){return{m:X!=null&&g.Qz&&!X.Pd}}}]},{name:"Save ...",Ha:[n,j.VG],m:function(X,g){var F=i4.get([1,2]),k=!0;
if(X){if(X.rN)F+=" ("+i4.get([6,7,1])+")";if(X.FQ)F+=" (Google Drive)";if(X.dS)F+=" ("+Storage.list[X.dS[0]][0]+")";
k="psd jpg png gif webp svg bmp".split(" ").indexOf(X.sQ)!=-1;if(fL==1)k=X.sQ=="ai"}return{m:X!=null&&(X.dS!=null||X.VU!=null&&k||X.rN!=null||X.rf!=null&&X.rf.Ph!=null||X.FQ!=null||g.ao6.save!=null),Zy:F}}},{name:fL==0?[1,3]:"Save as AI",m:function(X,g){return{m:X!=null&&g.Qz}}},{name:["VAR0 VAR1",[1,2],[0,14]],m:R,sub:[{name:(fL==0?"PSD":"AI")+" to Storage",m:function(X,g){return{m:X!=null&&g.Qz}}},{name:["VAR0 PSD/PSB",[1,2]],lM:!0,m:function(X,g){return{m:X!=null&&g.Qz}}}]},{name:[1,8],m:R,sub:function(){var X=fj.Kf(0),g=[];
for(var v=0;v<X.length;v++)g.push({name:X[v],Ha:"."+X[v].toLowerCase()});g.push({name:[0,14],sub:function(){var X=fj.Kf(1),g=[];
for(var v=0;v<X.length;v++)g.push({name:X[v],Ha:"."+X[v].toLowerCase()});return g}()});return g}()},{name:[1,4],lM:!0,m:R,Kl:!0},{name:[1,9],lM:!0,m:R},{name:"Export Color Lookup",lM:!0,m:R,Kl:!0},{name:[1,14],lM:!0,m:R,Kl:!0},{name:[1,17],sub:[{name:"Batch",lM:!0},{name:"PDF Presentation",lM:!0},{name:"Convert Formats",lM:!0},{name:"Generate Mockups",lM:!0,m:R},{name:"Resize Images",lM:!0,Kl:!0},{name:"Crop and Straighten Photos",m:R}]},{name:[1,10],lM:!0}],H7:[{o:x.E.B,h:{Q:x.l.Vg,Z8:"newproject"}},{o:x.E.B,h:{Q:x.l.ws}},{o:x.E.B,h:{Q:x.l.ws,aqA:!0}},{sub:[{o:x.E.B,h:{Q:x.l.ws,eH:!0}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"storwindow",uO:0}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"open_from_url"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"camera"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"res0"}}]},{sub:[{o:x.E.B,h:{Q:x.l.UO,L5:"png"}},{o:x.E.B,h:{Q:x.l.UO,L5:"jpg"}},{o:x.E.B,h:{Q:x.l.UO,L5:fL==0?"psd":"ai"}}]},{o:x.E.B,h:{Q:x.l.Hq}},{o:x.E.B,h:{Q:x.l.CQ}},{sub:[{o:x.E.B,h:{Q:x.l.Vg,Z8:"storwindow",uO:1}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"savepsb"}}]},{sub:function(){var X=fj.Kf(0),g=[];
for(var v=0;v<X.length;v++)g.push({o:x.E.B,h:{Q:x.l.Vg,Z8:"saveforweb",L5:v}});g.push({sub:function(){var F=fj.Kf(0).length,X=fj.Kf(1),g=[];
for(var v=0;v<X.length;v++)g.push({o:x.E.B,h:{Q:x.l.Vg,Z8:"saveforweb",L5:F+v}});return g}()});return g}()},{o:x.E.B,h:{Q:x.l.Vg,Z8:"saveforweb",L5:3,azK:!0}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"eassets"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"exlut"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"finfo"}},{sub:[{o:x.E.B,h:{Q:x.l.Vg,Z8:"batch"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"pdfpres"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"cformat"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"mockups"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"resize"}},{o:x.E.A,I:N.MA,h:{Q:"cropAndStr"}}]},{o:x.E.B,h:{Q:x.l.Vg,Z8:"script"}}]},{name:[0,1],items:[{name:[2,8],m:R},{name:[2,0],m:R,Ha:[Q,n,j.oF]},{name:[2,1],m:R,Ha:[n,j.oF],Kl:!0},{name:[2,11],Ha:[Q,n,j.UT],Kl:!0,lM:!0,m:function(X,g){return{m:cV.aqM(X)&&g.Ce!=N.CL}}},c[0][0],c[0][1],{name:[5,7],Ha:[Q,n,j.vj],m:function(X){return{m:X!=null&&X.K!=null}}},c[0][2],c[0][3],{name:[2,3],m:q,lM:!0,Ha:[Q,j.a7x]},{name:[14,9],m:q,lM:!0,Kl:!0},{name:[10,48],m:q},{name:[10,46],m:function(X){return{m:N.FN.y4(X)}}},{name:[10,16],m:R,Ha:[a,n,j.xw]},{name:[2,4],m:R,sub:cJ.a7_()},{name:[2,10,1],m:R},{name:[2,10,0],m:R,Kl:!0},{name:[12,87],m:R,sub:[{name:[12,62],m:R},{name:[9,3],m:R},{name:[10,31],m:function(X){return{m:X!=null&&X.H9()[1].length!=0}}}]},{name:[1,15],lM:!0},{name:[12,79],lM:!0,Ha:[n,j.JO]},{name:[1,13],lM:!0}],H7:[{o:x.E.A,I:N.jM,h:{Q:"h_undoredo"}},{o:x.E.A,I:N.jM,h:{Q:"h_stepfwd"}},{o:x.E.A,I:N.jM,h:{Q:"h_stepbck"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"afw_fade"}},c[1][0],c[1][1],{o:x.E.B,h:{Q:x.l.ug,ts:!0}},c[1][2],c[1][3],{o:x.E.B,h:{Q:x.l.Vg,Z8:"fill"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"stroke"}},{o:x.E.B,h:{Q:x.l.pY,I:N.fS}},{o:x.E.A,I:N.KV,h:{Q:"start",y7:"rigidTransform"}},{o:x.E.B,h:{Q:x.l.pY,I:N.CL}},{sub:cJ.aEP()},{o:x.E.X2,h:{ep:"align",Tu:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{o:x.E.A,I:N.ir,h:{Q:f.a6f}},{sub:[{o:x.E.B,h:{Q:x.l.T8,_X:0}},{o:x.E.B,h:{Q:x.l.T8,_X:1}},{o:x.E.B,h:{Q:x.l.T8,_X:2}}]},{o:x.E.B,h:{Q:x.l.Vg,Z8:"pmanager"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"preferences"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"locstor"}}]},{name:[0,2],items:[{name:[12,36],m:R,Kl:!0,sub:[{name:"RGB",m:function(X){if(X==null)return{m:!1};
return{cp:X.add.fcmy==null,m:!0}}},{name:"CMYK",Kl:!0,m:function(X){if(X==null)return{m:!1};return{cp:X.add.fcmy!=null,m:!0}}}]},{name:[3],m:R,Kl:!0,sub:function(){var X=[];
for(var g in k8.names){X.push({name:k8.names[g],lM:i1[g]!=null,Ha:k8.keys[g],Kl:k8.a8L.indexOf(g)!=-1});
if(g=="selc"){X.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],lM:!0,Kl:!0});X.push({name:[19,7,0],Ha:[n,Q,j.Cg],m:q});
X.push({name:[4,18],lM:!0,m:q})}}return X}()},{name:[4,16,0],m:q},{name:[4,16,1],m:q},{name:[4,16,2],m:q,Kl:!0},{name:[11,11,1],m:q,lM:!0},{name:[11,11,0],m:q,lM:!0},{name:"Wavelet Decompose",m:q,Kl:!0},{name:[11,3],m:R,lM:!0,Ha:[a,n,j.vj]},{name:[11,10],m:R,lM:!0,Ha:[a,n,j.ky]},{name:[2,4],m:R,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],m:function(X){return{m:X!=null&&X.K!=null}}},{name:[11,12,0],m:R,Ha:[n,j.sD],lM:!0},{name:[11,12,2],m:R,Kl:!0},{name:[12,53],m:R},{name:[2,12],m:q,lM:!0,Kl:!0},{name:[2,14],m:R,lM:!0}],H7:[{sub:[{o:x.E.A,I:N.nQ,h:{Q:"fcmy",J:0}},{o:x.E.A,I:N.nQ,h:{Q:"fcmy",J:1}}]},{sub:function(){var X=[];
for(var g in k8.names){X.push({o:x.E.A,I:N.r_,h:{Q:"start",R9:g}});if(g=="selc"){X.push({o:x.E.A,I:N.KV,h:{Q:"start",y7:"adaptCorrect"}});
X.push({o:x.E.X2,h:{ep:"desaturate"}});X.push({o:x.E.A,I:N.r_,h:{Q:"start",R9:"matc"}})}}return X}()},{o:x.E.X2,h:{ep:"levels",Tu:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{o:x.E.X2,h:{ep:"levels",Tu:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{o:x.E.X2,h:{ep:"levels",Tu:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"rcolors"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"vbitmap"}},{o:x.E.A,I:N.ir,h:{Q:f.adf}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"csize"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"isize"}},{sub:[{o:x.E.X2,h:N.IP.xc(!0,90)},{o:x.E.X2,h:N.IP.xc(!0,-90)},{o:x.E.X2,h:N.IP.xc(!0,-180)},{o:x.E.X2,h:N.IP.xc(!1,"Hrzn")},{o:x.E.X2,h:N.IP.xc(!1,"Vrtc")}]},{o:x.E.X2,h:{ep:"crop",Tu:{__name:"Crop",classID:"Crop"}}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"trim"}},{o:x.E.X2,h:{ep:"revealAll",Tu:{classID:"RvlA"}}},{o:x.E.X2,h:{ep:"duplicate",Tu:{classID:"Dplc",null:f2.oA("Dcmn",!0)}}},{o:x.E.A,I:N.r_,h:{Q:"start",R9:"aply"}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],m:R,sub:[{name:[0,3],Ha:[Q,n,j.uN]},{name:[0,4]},{name:[1,16,0],lM:!0},{name:[1,16,3],lM:!0,Kl:!0},{name:[6,49,0],Ha:[n,j.fk]},{name:[6,49,1],Ha:[Q,n,j.fk],m:function(X){return{m:X!=null&&X.K!=null&&X.rV(!1)}}}]},{name:[6,0],m:B,Ha:[n,j.fk]},{name:[11,4],m:B},{name:[5,4],m:B,Kl:!0},{name:"Text",m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],m:B,Kl:!0,sub:dX.us(!0)},{name:[6,48,1],m:R,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],m:R,Kl:!0,sub:dX.apq()},{name:[6,2],m:R,sub:[{name:[6,4],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].sJ()==null}}},{name:[6,5,0],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].sJ()==null}}},{name:[6,5,1],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].sJ()==null&&X.K!=null}}},{name:[6,5,2],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].sJ()==null&&X.K!=null}}},{name:[6,5,3],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].sJ()==null}},Kl:!0},{name:[5,4],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].sJ()!=null}}},{name:[5,8],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].sJ()!=null&&X.rV(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].sJ()!=null}}}]},{name:[6,3],m:R,sub:[{name:[6,4],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].add.vmsk==null}}},{name:[6,5,0],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].add.vmsk==null}}},{name:[12,76,7],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].add.vmsk==null}},Kl:!0},{name:[5,4],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],m:function(X){return{m:X!=null&&X.X.length!=0&&X.T[X.X[0]].add.vmsk!=null}}}]},gj.anu(!0),{name:[6,7,1],m:R,Kl:!0,sub:[{name:[6,7,0],Kl:!0},{name:"Open (Edit Contents)",m:m,lM:!0},{name:"Replace Contents",m:m,lM:!0},{name:"Export Contents",m:m,lM:!0,Kl:!0},{name:[6,36,4],m:m,sub:U},{name:"Turn into JPG",m:m}]},{name:[6,8],m:gj.ayi},{name:[6,34],Kl:!0,m:function(X){if(X==null||X.X.length==0)return{m:!1};
var g=X.T[X.X[0]];return{m:g.add.lmfx!=null&&!g.bx()}}},{name:[6,9],m:R,Kl:!0,Ha:[n,j.BH]},{name:[6,55],m:R,sub:[{name:[6,56,0],Ha:[Q,n,j.MH]},{name:[6,56,1],Ha:[n,j.MH]},{name:[6,56,2],Ha:[n,j.N3]},{name:[6,56,3],Ha:[Q,n,j.N3]}]},{name:"Combine Shapes",m:R,Kl:!0,sub:[{name:[18,1],l8:"set/union"},{name:[18,2],l8:"set/difference"},{name:[18,3],l8:"set/intersection"},{name:[18,4],l8:"set/xor"}]},{name:[6,58],m:R,Kl:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],Ha:[n,j.E],m:gj.af},{name:[6,12,1],m:R},{name:[2,13],m:R}],H7:[{sub:[{o:x.E.A,I:N.ir,h:{Q:f.X0}},{o:x.E.A,I:N.ir,h:{Q:f.cj}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"newartb",uO:0}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"newartb",uO:1}},{o:x.E.X2,h:{ep:"copyToLayer"}},{o:x.E.X2,h:{ep:"cutToLayer"}}]},{o:x.E.A,I:N.ir,h:{Q:f.l5}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"duplinto"}},{o:x.E.A,I:N.ir,h:{Q:f.mQ}},{sub:[{o:x.E.A,I:N.ir,h:{Q:f.L9}}]},{sub:dX.QF(!0)},{sub:[{o:x.E.A,I:N.hp,h:{Q:"newfill",m_:0}},{o:x.E.X2,h:N.Ma.UZ(1)},{o:x.E.X2,h:N.Ma.UZ(2)}]},{sub:dX.Ae()},{sub:[{o:x.E.A,I:N.ir,h:{Q:f.Fn,uO:"RvlA"}},{o:x.E.A,I:N.ir,h:{Q:f.Fn,uO:"HdAl"}},{o:x.E.A,I:N.ir,h:{Q:f.Fn,uO:"RvlS"}},{o:x.E.A,I:N.ir,h:{Q:f.Fn,uO:"HdSl"}},{o:x.E.A,I:N.ir,h:{Q:f.Fn,uO:"Trns"}},{o:x.E.A,I:N.ir,h:{Q:f.Qf}},{o:x.E.A,I:N.ir,h:{Q:f.w2}},{o:x.E.A,I:N.ir,h:{Q:f.hf}}]},{sub:[{o:x.E.X2,h:N._I.iF(0)},{o:x.E.X2,h:N._I.iF(1)},{o:x.E.X2,h:N._I.iF(2)},{o:x.E.X2,h:N._I.iF(3)},{o:x.E.A,I:N.ir,h:{Q:f.AX}}]},{o:x.E.A,I:N.ir,h:{Q:f.WN}},{sub:[{o:x.E.X2,h:{ep:"newPlacedLayer"}},{o:x.E.X2,h:{ep:"placedLayerEditContents",Tu:{classID:"placedLayerEditContents"}}},{o:x.E.X2,h:{ep:"placedLayerReplaceContents",Tu:{classID:"placedLayerReplaceContents"}}},{o:x.E.X2,h:{ep:"placedLayerExportContents",Tu:{classID:"placedLayerExportContents"}}},{sub:l},{o:x.E.A,I:N.ir,h:{Q:f.asw}}]},{o:x.E.X2,h:{ep:"rasterizeLayer",Tu:{classID:"rasterizeLayer",null:f2.oA("Lyr",!0)}}},{o:x.E.X2,h:{ep:"rasterizeLayer",Tu:{classID:"rasterizeLayer",null:f2.oA("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{o:x.E.A,I:N.ir,h:{Q:f.Cv}},{sub:[{o:x.E.A,I:N.ir,h:{Q:f.yW,BO:0}},{o:x.E.A,I:N.ir,h:{Q:f.yW,BO:1}},{o:x.E.A,I:N.ir,h:{Q:f.yW,BO:2}},{o:x.E.A,I:N.ir,h:{Q:f.yW,BO:3}}]},{sub:[{o:x.E.A,I:N.ir,h:{Q:f.Oq,I8:0}},{o:x.E.A,I:N.ir,h:{Q:f.Oq,I8:1}},{o:x.E.A,I:N.ir,h:{Q:f.Oq,I8:2}},{o:x.E.A,I:N.ir,h:{Q:f.Oq,I8:3}}]},{sub:[{o:x.E.A,I:N.ir,h:{Q:f.Og,BO:"makeframes"}},{o:x.E.A,I:N.ir,h:{Q:f.Og,BO:"unmakeframes"}},{o:x.E.A,I:N.ir,h:{Q:f.Og,BO:"merge"}}]},{o:x.E.X2,h:{ep:"mergeLayersNew",Tu:{__name:"Merge Layers",classID:"Mrg2"}}},{o:x.E.X2,h:{ep:"flattenImage"}},{o:x.E.A,I:N.KV,h:{Q:"start",y7:"defr"}}]},fZ.as8(!1),function(){var X={name:[0,6],items:[{name:[24,18,4],Ha:[a,n,j.UT],m:R,Kl:!0}],H7:[{o:x.E.A,I:N.KV,h:{Q:"applylast"}}]};
for(var v=0;v<fo.v8.length;v++){var g=fo.v8[v],F=g.Ut;if(g.zT!=null){var k={name:fo.names[g.zT],lM:!0,Kl:g.Kl,m:R};
if(g.zT=="VaPo")k.m=q;X.items.push(k);X.H7.push({o:x.E.A,I:N.KV,h:{Q:"start",y7:g.zT}});continue}var I={name:g.U8,sub:[],m:R};
X.items.push(I);var e={sub:[]};X.H7.push(e);for(var H=0;H<F.length;H++){var A=F[H],Z=fo.names[A];if(A=="blurbTransform")Z=[24,3,12,H];
var J={name:Z,lM:fo.cL(A)!=null};I.sub.push(J);var s={o:x.E.A,I:N.KV,h:{Q:"start",y7:A,Aj:H<2?H:H+1}};
e.sub.push(s)}}return X}(),{name:[0,7],items:[{name:[8,0],m:R,Ha:[n,j.Vm]},{name:[8,1],m:R,Ha:[n,j.ZH]},{name:[20,3],m:R,Ha:[n,j.Pa]},{name:[20,2],m:R,Ha:[n,j.aG]},{name:[8,14],m:function(X,g){return{m:X!=null,cp:X!=null&&X.zO}},Kl:!0},{name:[12,36],Kl:!0,sub:[{name:"Fullscreen",m:function(X,g){return{cp:document.fullscreenElement!=null}},Kl:!0},{name:"Standard",m:function(X,g){return{cp:g.aw==0}}},{name:"Menu Bar and Canvas",m:function(X,g){return{cp:g.aw==1}}}]},{name:[8,13],Ha:[n,j.Dh],m:function(X,g){return{cp:g.rl}}},{name:[8,12],Kl:!0,sub:[{name:[17,2],m:function(X,g){return{m:g.rl,cp:g.c8.hm}}},{name:[8,9],m:function(X,g){return{m:g.rl,cp:g.c8.AZ}}},{name:[8,2],m:function(X,g){return{m:g.rl,cp:g.c8.qO}},Ha:[n,j.JS]},{name:[8,4],m:function(X,g){return{m:g.rl,cp:g.c8.ip}},Ha:[n,j.zh]},{name:[8,8],m:function(X,g){return{m:g.rl,cp:g.c8.F_}}},{name:[8,11,0],m:function(X,g){return{m:g.rl,cp:g.c8.XZ}}}]},{name:[8,3],m:function(X,g){return{cp:g.LB}},Ha:[n,j.D9],Kl:!0},{name:[8,5],m:function(X,g){return{cp:g.xh}}},{name:[8,6],Kl:!0,sub:[{name:[8,2],m:function(X,g){return{cp:g.tW[0]}}},{name:[8,4],m:function(X,g){return{cp:g.tW[1]}}},{name:[9,1],m:function(X,g){return{cp:g.tW[2]}}},{name:[8,11,0],m:function(X,g){return{cp:g.tW[3]}}},{name:[8,7,0],m:function(X,g){return{cp:g.tW[4]}}}]},{name:[11,15,2],m:function(X,g){return{m:X!=null,cp:X!=null&&X.A6}}},{name:[11,15,0],m:R},{name:[11,14],m:R,lM:!0},{name:[11,15,1],m:function(X,g){return{m:X!=null&&X.X.length!=0}},Kl:!0},{name:[8,11,2],m:function(X,g){return{m:X!=null&&X.XZ.length!=0}}}],H7:[{o:x.E.A,I:N.yx,h:{Q:"zoom",cC:!0}},{o:x.E.A,I:N.yx,h:{Q:"zoom",cC:!1}},{o:x.E.A,I:N.yx,h:{Q:"adapt",J:"fitscr"}},{o:x.E.A,I:N.yx,h:{Q:"adapt",J:"pixel"}},{o:x.E.A,I:N.nQ,h:{Q:"pview"}},{sub:[{o:x.E.B,h:{Q:x.l.dt,XW:!0}},{o:x.E.B,h:{Q:x.l.dt,J:0}},{o:x.E.B,h:{Q:x.l.dt,J:1}},{o:x.E.B,h:{Q:x.l.dt,J:2}}]},{o:x.E.B,h:{Q:x.l.m6,_X:b3.fM}},{sub:[{o:x.E.B,h:{Q:x.l.m6,_X:b3.eh}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.GW}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.Lj}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.Mx}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.im}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.WK}}]},{o:x.E.B,h:{Q:x.l.m6,_X:b3.Lu}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.a7S}},{sub:[{o:x.E.B,h:{Q:x.l.m6,_X:b3.Nl,EG:0}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.Nl,EG:1}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.Nl,EG:2}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.Nl,EG:3}},{o:x.E.B,h:{Q:x.l.m6,_X:b3.Nl,EG:4}}]},{o:x.E.A,I:N.nQ,h:{Q:"lockguides"}},{o:x.E.A,I:N.nQ,h:{Q:"gids",gR:[[],[]]}},{o:x.E.B,h:{Q:x.l.Vg,Z8:"addguides"}},{o:x.E.A,I:N.nQ,h:{Q:"gidsFromLayer"}},{o:x.E.A,I:N.uE,h:{Q:"deleteAll"}}]},function(){var X={name:[0,8],items:[{name:[0,14],Kl:!0,sub:[]},{name:"Plugins",Kl:!0}],H7:[{sub:[]},{o:x.E.B,h:{Q:x.l.Vg,Z8:"res1"}}]};
for(var v=0;v<gt.O$.length;v++){var g=gt.O$[v],F=function(){var k=g.cB.BF;return function(I,e){return{cp:e.Mf.indexOf(parseInt(k))!=-1}}}();
(g.Ay?X.items[0].sub:X.items).push({name:g.cB.name,m:F});(g.Ay?X.H7[0].sub:X.H7).push({o:x.E.B,h:{Q:x.l.uv,Z8:g.cB.BF}})}return X}(),function(){var X={name:[0,14],items:[],H7:[]},g={name:[0,9],sub:[]};
X.items.push(g);var F={sub:[]};X.H7.push(F);var k=i4.awf();for(var v=0;v<k.length;v++){var I=k[v],e=I.code,H=i4.ajd(e);
g.sub.push({name:I.name,Ha:e,m:function(A,Z){return{cp:this.Ha==i4.qp()}}});F.sub.push({o:x.E.B,h:{Q:x.l.m6,_X:b3.kB,lang:H}})}g.sub.push({name:[0,12]});
F.sub.push({o:x.E.B,h:{Q:x.l.hy,link:"https://www.photopea.com/translate/"}});var g={name:[0,15],sub:[]};
X.items.push(g);var F={sub:[]};X.H7.push(F);for(var v=0;v<cj.nn.length;v++){g.sub.push({name:cj.nn[v].name,m:function(A,Z){return{cp:this.name==cj.nn[Z.HS].name}}});
F.sub.push({o:x.E.B,h:{Q:x.l.m6,_X:b3.nu,HS:v}})}X.items.push({name:fL==0?[0,17,6]:"Install Vectorpea",m:function(A,Z){return{m:Z.fq!=null}}});
X.H7.push({o:x.E.B,h:{Q:x.l.eP}});if(fL==0){X.items.push({name:[11,13]});X.H7.push({o:x.E.B,h:{Q:x.l.Vg,Z8:"shortcuts"}});
X.items.push({name:[0,16],m:function(A){return{cp:gz.oB,m:gz.a88}},Kl:!0});X.H7.push({o:x.E.B,h:{Q:x.l.aok}})}X.items.push({name:"PeaMark"});
X.H7.push({o:x.E.B,h:{Q:x.l.Vg,Z8:"peamark"}});X.items.push({name:"",m:function(A,Z){return Z.ig?{Zy:"About "+["Photopea","Vectorpea"][fL],m:!0}:{Zy:"",m:!1}}});
X.H7.push({o:x.E.B,h:{Q:x.l.Vg,Z8:"aboutpp"}});return X}()],p=[_[0],_[1],{name:"Object",items:[{name:[6,9],m:R,Kl:!0,Ha:[n,j.BH]},{name:[6,6,0],sub:[{name:[5,5],Ha:[n,j.CI]},{name:[5,6],Ha:[a,n,j.CI]}]}],H7:[{o:x.E.A,I:N.ir,h:{Q:f.Cv}},{sub:[{o:x.E.A,I:N.ir,h:{Q:f.Cv,Le:!0}},{o:x.E.A,I:N.ir,h:{Q:f.Cv,Le:!0,mo:!0}}]}]},{name:[0,7],items:[{name:"Outline View",m:function(X,g){return{cp:X&&X.add.prvw==0,m:X!=null}},Kl:!0,Ha:[n,j.Jb]},{name:[8,0],m:R,Ha:[n,j.Vm]},{name:[8,1],m:R,Ha:[n,j.ZH]},{name:[12,36],Kl:!1,sub:[{name:"Fullscreen",m:function(X,g){return{cp:document.fullscreenElement!=null}},Kl:!0},{name:"Standard",m:function(X,g){return{cp:g.aw==0}}},{name:"Menu Bar and Canvas",m:function(X,g){return{cp:g.aw==1}}}]}],H7:[{o:x.E.A,I:N.yx,h:{Q:"prvw"}},{o:x.E.A,I:N.yx,h:{Q:"zoom",cC:!0}},{o:x.E.A,I:N.yx,h:{Q:"zoom",cC:!0}},{o:x.E.A,I:N.yx,h:{Q:"zoom",cC:!1}},{sub:[{o:x.E.B,h:{Q:x.l.dt,XW:!0}},{o:x.E.B,h:{Q:x.l.dt,J:0}},{o:x.E.B,h:{Q:x.l.dt,J:1}},{o:x.E.B,h:{Q:x.l.dt,J:2}}]}]},_[7],_[8]];
return fL==0?_:p}();function iF(){eD.call(this);this.Z=V.d("div","");this.P4=0;this.Ht=0;this.H=null;
this.on=V.d("div","");V.v(this.on,"width:200em; height:100em; position:absolute;");this.a7=[];this.Jp=[];
this.xb={}}iF.prototype=new eD;iF.prototype.eO=function(j){var n=Date.now(),Q=[];if(j=="-"){Q=[new f9,new kE,new i$,new kq("pdfpres"),new kq("cformat"),new kq("batch"),new kq("mockups"),new kq("resize"),new eQ,new eo,new je,new jh,new jh(!0),new bj,new hw,new dc,new iB,new kF,new kX,new j6,new h2,new kc,new iy,new dX,new kP("isize"),new kP("csize"),new bW,new jt,new km,new d3,new ii,new kx,new dL,new aF,new dh(!1),new dh(!0),new aW(0),new aW(1),new kt,new gg,new a2,new dW,new fQ,new g$,new jo(0),new jo(1),new jo(2),new jo(3),new jo(4),new jo(5),new jo(6),new jo(7),new jo(8),new bz,new j0,new as,new aU,new ee,new fq,new ak,new fN,new ie,new ja,new cQ(0),new cQ(1),new hf("border",[7,9],"px"),new hf("smoothness",[19,3,0],"px"),new hf("expand",[7,4],"px"),new hf("contract",[7,5],"px"),new hf("feather",[7,6],"px"),new gN(0,"namewindow",[12,48]),new gN(2,"billto","Bill To"),new gN(1,"cornerradius",[12,94,0],"px",!0,!0),new gN(1,"scaleeffects",[6,30,1],"%",!0),new gN(1,"doczoom","Zoom","%",!0),new gN(1,"setFPS","Set FPS","fps,120",!1),new gN(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(fL==0){Q.push(new kY)}}else Q=[new cV(j.slice(4))];this.aGv(Q);this.xb[j]=!0};iF.prototype.aGv=function(j){var n=this.H;
for(var v=0;v<j.length;v++){var Q=j[v];Q.parent=this;this.Jp.push(Q);this.nb(Q);Q.S();if(n)Q.sW(n,b3.Od);
Q.P(x.E._g,this.Sj,this);V.XX(Q)}};iF.prototype.rs=function(j,n){this.P4=j;this.Ht=n;for(var v=0;v<this.Jp.length;
v++)this.nb(this.Jp[v])};iF.prototype.S=function(){for(var v=0;v<this.Jp.length;v++)this.Jp[v].S()};
iF.prototype.rE=function(){return this.a7.length==0?null:this.a7[this.a7.length-1]};iF.prototype.Ys=function(){for(var v=0;
v<this.a7.length;v++)if(this.a7[v].Ys())return!0;return!1};iF.prototype.a19=function(j,n,Q,a,B){console.log("Show",j);
var m=j.startsWith("afw_"),R=null;if(!m&&!this.xb["-"])this.eO("-");if(m&&!this.xb[j])this.eO(j);if(typeof j=="object"){R=j;
if(!R.aAZ(x.E._g,this.Sj))R.P(x.E._g,this.Sj,this);R.parent=this}else for(var v=0;v<this.Jp.length;v++)if(this.Jp[v].id==j)R=this.Jp[v];
if(this.Ys()&&R.Ys()){alert("Finish the current action first");return}if(!R.FW(n))return;if(this.a7.indexOf(R)!=-1){if(j=="colorpicker")this.Sj(null,R);
else return}var q=this.a7.length-1;if(q>=0)V.BZ(this.a7[q].Z,"wdisabled");this.Z.appendChild(R.Z);this.a7.push(R);
this.nb(R);V.di(R);R.pX(n,Q,a,B)};iF.prototype.nb=function(j){var n=this.P4,Q=this.Ht,a=j.$k(n,Q),B;
if(a!=null){B=a}else{a=new eE(0,0);B=j.afl();if(B==null){var m=this.a7.indexOf(j)+1;if(n<450||Q<450)B=new eE(0,0);
else B=new eE(m*150,m*150)}}j.Z.style.left=B.x+"px";j.Z.style.top=this.Z.offsetTop+B.y+"px";j.rs(this.P4-a.x*2,this.Ht-a.y*2-34)};
iF.prototype.sW=function(j,n){this.H=j;for(var v=0;v<this.Jp.length;v++)this.Jp[v].sW(j,n)};iF.prototype.Sj=function(j,n){if(n==null){n=this.a7.pop();
V.XX(n,this.Z)}else{this.a7.splice(this.a7.indexOf(n),1);this.Z.removeChild(n.Z);V.yZ(n.Z,"wdisabled")}var Q=this.a7.length-1;
if(Q>=0)V.yZ(this.a7[Q].Z,"wdisabled");if(this.on.parentNode==this.Z)this.Z.removeChild(this.on)};window.onload=function(){document.body.appendChild(new ea().Z)}}())